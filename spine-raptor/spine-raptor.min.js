!function(qe){"use strict";function c(){return ws.__string_rec(this,"")}var U,E={},en={};function $extend(e,n){var t,i=Object.create(e);for(t in n)i[t]=n[t];return n.toString!==Object.prototype.toString&&(i.toString=n.toString),i}function f(e,n){this.r=new RegExp(e,n.split("u").join(""))}function h(){}function i(){}function j(){this._components=null,this.autoruns=null,this._lifecycleState=0,this.id=null}function k(e){j.call(this),e.settings.set_title("Spine Raptor"),e.settings.antialiasing=2,e.settings.set_background(0),e.settings.set_targetWidth(640),e.settings.set_targetHeight(480),e.settings.set_scaling(Vt.FIT),e.settings.resizable=!0,ke.app.onceReady(this,$bind(this,this.ready))}function m(){this.skewY=0,this.skewX=0,this.scaleY=1,this.scaleX=1,this.rotation=0,this.y=0,this.x=0,this.pivotY=0,this.pivotX=0}function n(e,n,t,i,l,s){null==s&&(s=0),null==l&&(l=0),null==i&&(i=1),null==t&&(t=0),null==n&&(n=0),this.a=e=null==e?1:e,this.b=n,this.c=t,this.d=i,this.tx=l,this.ty=s,this._aPrev=e,this._bPrev=n,this._cPrev=t,this._dPrev=i,this._txPrev=l,this._tyPrev=s,this.changed=!1,this.changedDirty=!1}function o(){this.availableItems=[]}function p(e,n,t){null==t&&(t=0),null==n&&(n=0),null==e&&(e=0),this.z=0,this.y=0,this.x=0,this.x=e,this.y=n,this.z=t}function q(){this.parent=null,this.children=null,this.computedClip=null,this.computedTouchable=!0,this.computedRenderTarget=null,this.computedDepth=0,this.computedAlpha=1,this.computedVisible=!0,this.matTY=0,this.matTX=0,this.matD=1,this.matC=0,this.matB=0,this.matA=1,this.flags=0,this.shader=null,this.transform=null,this.alpha=1,this.rotation=0,this.roundTranslation=-1,this._height=0,this._width=0,this.anchorY=0,this.anchorX=0,this.skewY=0,this.skewX=0,this.scaleY=1,this.scaleX=1,this.y=0,this.x=0,this.depthRange=1,this.depth=0,this.touchable=!0,this.visible=!0,this.blending=0,this.renderTarget=null,this.clipDirty=!0,this.touchableDirty=!0,this.visibilityDirty=!0,this.renderTargetDirty=!0,this.matrixDirty=!0,this.contentDirty=!0,this.translatesOnlyDirty=!1,this.translatesOnly=!0,this.inheritAlpha=!1,this.clip=null,this._numPointerOver=0,this._numPointerDown=0,this.multiTouch=!1,this.asMesh=null,this.asQuad=null,j.call(this),ke.app.pendingVisuals.push(this)}function r(){this.frameHeight=-1,this.frameWidth=-1,this.frameY=-1,this.frameX=-1,this._texture=null,this.tile=null,this.color=16777215,q.call(this),this.asQuad=this}function s(){this.sizeDirty=!1,r.call(this),this.flags|=16}function t(){}function u(){}function v(){this.paused=!1,this.autoUpdateWhenInactive=!1,this.autoUpdate=!0,this.isRootScene=!1,this.unobservedStatus=0,this.statusAutoruns=null,this._assetsFailure=!1,this._assetsTotal=0,this._assetsProgress=0,this._assets=null,this.observedDirty=!1,s.call(this),this.flags|=16,Et.get_shared().all.push(this)}function y(){this.b=""}function z(){}function B(){}function D(e){this.nodeType=e,this.children=[],this.attributeMap=new te}function F(){}function G(){this.GUN_GRAB="gun-grab",this._id="spine:raptor-pro",this.JUMP="jump",this.ROAR="roar",this.WALK="walk",this.GUN_HOLSTER="gun-holster"}function I(){}function J(){this.loadedAudioRetainCount=new te,this.loadedAudioResources=new te,this.loadingAudioCallbacks=new te,this.nextSamplesBufferIndex=0}function N(){}function O(){this.clipboard=new hn,this.textInput=new dn,this.input=new cn,this.screen=new un,this.shaders=new _n,this.textures=new gn,this.binaries=new rn,this.texts=new bn,this.draw=new Q,this.audio=new J,this.info=new on,this.io=new an}function P(){}function R(){}function S(e){this.gamepadsEnabled=!0,this.gamepadGyroValues=new gt,this.gamepadAxisValues=new rt,this.gamepadPressedValues=new Sn,this.gamepadButtonMapping=new Sn,this.gamepadAxisToButton=new Sn,this.swapXyGamepads=new Sn(16,.5,!1),this.swapAbGamepads=new Sn(16,.5,!1),this.removedGamepads=new Sn(16,.5,!1),this.activeGamepads=new Sn(16,.5,!1),this.mouseY=0,this.mouseX=0,this.mouseDownButtons=new Sn(16,.5,!1),this.touchIndexes=new Sn,this.touches=new Sn,this.lastHeight=-1,this.lastWidth=-1,this.lastDensity=-1,this.handleReady=e,this.configureGamepadMapping()}function T(){}function V(){}function X(){}function Y(){}function $(){}function aa(){}function ca(){}function da(){}function fa(){this.id=null}function ga(){this.gpuShader=null,this.uniforms=null,this.textures=null,this.attributes=null,this.fragSource=null,this.vertSource=null,fa.call(this)}function ha(){this.isBatchingMultiTexture=!1,this.customAttributes=null,ga.call(this)}function ia(){}function ka(){}function ma(){}function pa(){}function sa(){}function ta(){this.bestY=-1,this.bestX=-1,this.bestContactScore=-1,this.bestLongSideFit=-1,this.bestShortSideFit=-1,this.bestAreaFit=-1,this.bestNode=null}function ua(e,n,t){this.rect=e,this.primaryScore=n,this.secondaryScore=t}function va(e,n,t){null==t&&(t=!0),null==n&&(n=0),null==e&&(e=0),this._bestFitPosition=new ta,this.freeRectangles=[],this.usedRectangles=[],this.binWidth=e,this.binHeight=n,this.binAllowFlip=t,t=new On(0,0,e,n),this.freeRectangles.push(t)}function wa(e,n){this.width=e,this.height=n}function ya(){this.rects=[]}function Aa(){this.uvs=[],this.texture=null,this.floatColors=null,this.colors=[],this.indices=[],this.vertices32=null,this.vertices=[],this.complexHit=!1,this.customFloatAttributesSize=0,this.colorMapping=0,q.call(this),this.asMesh=this}function Ba(){this.antialiasing=1,Aa.call(this),this.vertices=[0,0,0,0,0,0,0,0,0,0,0,0],this.indices=[0,1,2,0,1,4,0,3,4,1,2,4,2,4,5,0,2,3,2,3,5],this.colorMapping=2,this.set_color(16777215)}function Fa(){}function Ga(e,n,t,i){this.customExtensions=null,this.hotReload=!1,this.handleTexturesDensityChange=!1,this.unobservedStatus=Cn.NONE,this.statusAutoruns=null,this.refCount=0,this.assets=null,this.density=1,this.observedDirty=!1,j.call(this),this.kind=e,this.options=null!=i?i:{},this.set_name(n),this.set_variant(t),this.computePath()}function Na(){this.paramsAcquired=!1,this.paramsChanged=!1,this.params=[],this.active=!0,this.bus=-1,j.call(this),this.filterId=Na._nextFilterId++,this._initDefaultParamValues()}function Oa(e,n){this.params=[],this.active=!0,this.bus=-1,this.filterId=e,this.bus=n}function Qa(){}function Ra(e){null==e&&(e=.1),this.pending=[],this.stop=!1,this.runsInBackground=!1,this.checkInterval=.1,j.call(this),this.checkInterval=.1}function Sa(e,n,t,i){if(this.quadratic=!1,this.cached=!1,this.linearEasing=!1,this.cached&&this.removeFromCache(this.mX1,this.mY1,this.mX2,this.mY2),null==t||null==i?(this.quadratic=!0,this.mQuadraticX1=e,this.mQuadraticX2=t,this.mX1=Sa.TWO_THIRD*e,this.mY1=Sa.TWO_THIRD*n,this.mX2=1+Sa.TWO_THIRD*(e-1),this.mY2=1+Sa.TWO_THIRD*(n-1)):(this.quadratic=!1,this.mX1=e,this.mY1=n,this.mX2=t,this.mY2=i),this.mX1==this.mY1&&this.mX2==this.mY2)this.linearEasing=!0;else{this.linearEasing=!1,null==this.sampleValues&&(this.sampleValues=[]);for(var l=0,s=Sa.SPLINE_TABLE_SIZE;l<s;){var r=l++,h=r*Sa.SAMPLE_STEP_SIZE,a=this.mX1,o=this.mX2;this.sampleValues[r]=(((1-3*o+3*a)*h+(3*o-6*a))*h+3*a)*h}}}function Ua(e,n){if(this._preRenderingPages=null,this.preRenderedPages=null,this.pageShaders=null,this.pages=new gt(16,.5,!0),j.call(this),this.set_fontData(e),null==e)throw ct.thrown("BitmapFont: fontData is null");if(null==n)throw ct.thrown("BitmapFont: pages is null");null!=e.distanceField&&(this.pageShaders=new $l);for(var t=0,i=e.pages;t<i.length;){var l,s=i[t],r=(++t,s.file),r=(null!=e.path&&0<e.path.length&&"."!=e.path&&(r=Dt.join([e.path,s.file])),n.h[r]);if(null==r)throw ct.thrown("BitmapFont: missing texture for file "+s.file);r.set_filter(e.smooth||null!=e.distanceField?fi.LINEAR:fi.NEAREST),this.pages.set(s.id,r),null!=e.distanceField&&(l=ke.app.assets._shaderFromClass(Ts).clone(),ke.app.backend.shaders,l.backendItem.uniforms.setFloat("pxRange",e.distanceField.distanceRange),ke.app.backend.shaders,l.backendItem.uniforms.setVector2("texSize",r.width*r.density,r.height*r.density),this.pageShaders.h[s.id]=l)}}function Va(e,n,t,i,l,s,r,h,a){this.id=e,this.x=n,this.y=t,this.width=i,this.height=l,this.xOffset=s,this.yOffset=r,this.xAdvance=h,this.page=a}function Wa(e,n,t,i,l,s,r,h,a,o,c,u,_,d){this.rawFontData=null,this.needsReparsing=!1,this.aa=!0,this.smooth=!0,this.face=e,this.path=n,this.pointSize=t,this.baseSize=i,this.chars=l,this.charCount=s,this.distanceField=r,this.pages=h,this.lineHeight=a,this.kernings=o,null!=c&&(this.smooth=c),null!=u&&(this.aa=u),null!=_&&(this.needsReparsing=_),null!=d&&(this.rawFontData=d)}function Xa(e,n){this.id=e,this.file=n}function Ya(e,n){this.fieldType=e,this.distanceRange=n}function Za(){}function $a(){this.borderRightColor=-1,this.borderLeftColor=-1,this.borderBottomColor=-1,this.borderTopColor=-1,this.borderColor=8421504,this.borderRightSize=-1,this.borderLeftSize=-1,this.borderBottomSize=-1,this.borderTopSize=-1,this.borderSize=1,this.borderPosition=Un.INSIDE,this.autoComputeColors=!0,this.autoComputeVertices=!0,Aa.call(this),this.colorMapping=1,this.vertices=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.indices=[0,1,2,2,1,3,3,1,5,5,1,7,4,5,6,6,5,7,0,2,6,6,2,4],this.colors=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.computeVertices()}function b0(){}function c0(){this.initializerName=null,this.pointerStartY=0,this.pointerStartX=0,this.unobservedPressed=!1,this.pressedAutoruns=null,this.threshold=-1,this.observedDirty=!1,j.call(this)}function f0(e,n){this.index=f0._nextIndex++,this.id=null!=e?e:"id"+f0._nextId++,this.name=n}function g0(){this.vIndex=0,this.customParentView=null,this.persistedComputedSizes=[],this.borderRightColor=-1,this.borderLeftColor=-1,this.borderBottomColor=-1,this.borderTopColor=-1,this.borderColor=8421504,this.borderRightSize=-1,this.borderLeftSize=-1,this.borderBottomSize=-1,this.borderTopSize=-1,this.borderSize=0,this.borderPosition=Un.INSIDE,this.borderAlpha=1,this.borderDepth=0,this.border=null,this.layoutDirty=!0,this.flex=1,this.offsetY=0,this.offsetX=0,this.paddingBottom=0,this.paddingTop=0,this.paddingRight=0,this.paddingLeft=0,this.viewHeight=-60001,this.viewWidth=-60001,this.computedSize=null,this.subviews=null;var e=this;s.call(this),this.vIndex=g0.nextVIndex++,this.set_depthRange(1),this.canLayout=!1,this.flags&=-17,null==g0._allViews&&(g0._allViews=[],Ii.get_shared().bind()),g0._allViews.push(this),ke.app._onceImmediate(function(){e._lifecycleState<0||ke.app._oncePostFlushImmediate(function(){e._lifecycleState<0||(e.canLayout=!0,e.layoutDirty&&g0.requestLayout())},!0)})}function h0(){this.contentSize=-1,this.autoComputeContentSize=!1,g0.call(this),this.initContentView(),this.initScroller()}function i0(){this.prevLayoutHeight=-1,this.prevLayoutWidth=-1,this.reusableViews=[],this.itemsBehavior=1,this.frames=[],this.childrenDepth=0,this.maxReusableViewsCount=1,this.autoDestroyItems=!0,this.dataSource=null,h0.call(this),this.set_collectionViewLayout(new Tn),this.scroller.scrollTransform.onChange(this,$bind(this,this.computeVisibleItems))}function j0(){}function k0(){}function r0(){this.childrenDepth=1,this.align=wt.TOP,this.itemSpacing=0,this.direction=yt.VERTICAL,g0.call(this),this.flags|=16}function s0(){r0.call(this),this.set_direction(yt.VERTICAL)}function v0(){}function D0(){}function F0(){}function I0(){this.initializerName=null,this.pointerStartY=0,this.pointerStartX=0,this.firstClickTime=-1,this.pressed=!1,this.maxDelay=.4,this.threshold=4,j.call(this)}function K0(){}function L0(){}function M0(e,n,t,i,l,s){null==s&&(s=1),null==l&&(l=1),null==i&&(i=0),null==t&&(t=0),this.initializerName=null,this.domInputBlockHtmlInputEvent=!1,this.domInputBlockSelection=!1,this.domInput=null,this.inputRectH=0,this.inputRectW=0,this.inputRectY=0,this.inputRectX=0,this.textCursorToggleVisibilityTime=1,this.textCursor=null,this.willUpdateSelection=!1,this.inputActive=!1,this.selectionBackgrounds=[],this.boundContainer=null,this.selectText=null,this.container=null,this.disabled=!1,this.multiline=!1,j.call(this),this.id=Ai.uniqueId(),this.set_selectionColor(e),this.set_textCursorColor(n),this.set_textCursorOffsetX(t),this.set_textCursorOffsetY(i),this.set_textCursorHeightFactor(l),this.set_textCursorWidth(s)}function N0(){}function W0(e){null!=e&&(this.value=e)}function X0(e){this.fragmentComponents=null,this.ready=!1,this.timeline=null,this.pendingLoads=0,this.autoUpdateTimeline=!0,this.resizable=!1,this.fragmentData=null,this.fps=30,this.assets=null,s.call(this),this.assets=e,this.entities=[],this.items=[]}function _0(){}function ab(){this.glyphAdvance=-1,this.glyphY=-1,this.glyphX=-1,this.code=-1,this.line=-1,this.posInLine=-1,this.index=-1,this.glyph=null,this.char=null,r.call(this)}function wb(){}function zb(e,n){this.ctrlPressed=0,this.cmdPressed=0,this.disableIfShiftPressed=!1,this.rightShiftPressed=!1,this.leftShiftPressed=!1,this.matches=!1,this.pressedItems=[],this.bindings=null,j.call(this),this.accelerator=[].concat(e),this.bindings=n,this.bindKeyboardEvents()}function Cb(){g0.call(this),this.flags|=16}function Fb(){this.tmpY=0,this.tmpX=0,this.outY=0,this.outX=0,this.bY=0,this.bX=0,this.aY=0,this.aX=0,this.miterY=0,this.miterX=0,this.tangentY=0,this.tangentX=0}function Gb(){this._points=null,this._started=!1,this._lastFlip=-1,this._normalY=0,this._normalX=0,this._hasNormal=!1,this.capEndY=0,this.capEndX=0,this.miterY=0,this.miterX=0,this.tangentY=0,this.tangentX=0,this.lineBY=0,this.lineBX=0,this.lineAY=0,this.lineAX=0,this.tmpY=0,this.tmpX=0,this.canLoop=!1,this.cap=Us.BUTT,this.join=Ds.MITER,this.thickness=1,this.miterLimit=10}function Hb(){this.autoComputeSize=!0,this.loop=!1,this.cap=Us.BUTT,this.join=Ds.BEVEL,this.thickness=1,this.miterLimit=10,this.points=null,Aa.call(this)}function Jb(e,n){this.initializerName=null,this.cancelLongPress=null,this.didLongPress=!1,this.pointerStartY=0,this.pointerStartX=0,this.requiredDuration=1,this.threshold=4,j.call(this),this.click=n,null!=e&&this.onLongPress(null,e)}function Kb(){}function Nb(){}function Xb(){r0.call(this),this.set_direction(yt.HORIZONTAL)}function a1(){this.lateUpdateOrder=0,this.earlyUpdateOrder=0,this.autoUpdate=!0,this.name=null,j.call(this),ke.app.systems.addSystem(this)}function j1(e,n,t){this.usedTextures=null,this.textureSlots=null,this.backendItem=null,j.call(this);var i=null!=n?n:[new Gt(3,"vertexPosition"),new Gt(2,"vertexTCoord"),new Gt(4,"vertexColor")];if(this.baseAttributes=[].concat(i),null!=e)for(var l=0,s=e.length;l<s;){var r=e[l++];i.push(r)}this.attributes=i,this.customAttributes=e,this.textureIdAttribute=t}function m1(){this.autoComputeSize=!0,Aa.call(this)}function n1(){}function o1(e,n,t){this.replacement="-",this.remove=Xt.RE_SLUG_REMOVE_CHARS,this.lower=!0,null!=e&&(this.lower=e),null!=n&&(this.remove=n),null!=t&&(this.replacement=t)}function s1(e){this.pitch=1,this.pan=0,this.volume=.5,this.group=0,this.bus=0,j.call(this),this.backendItem=e}function w1(){}function B1(e,n,t){this.atlasAsset=null,this.pages=new Zl,this.scale=1,this.unobservedSpineData=null,this.spineDataAutoruns=null,this.atlas=null,this.json=null,Ga.call(this,"spine",e,n,t),this.set_handleTexturesDensityChange(!0),null!=this.options.scale&&(this.scale=parseFloat(""+ot.string(t.scale)),e=this.scale,isNaN(e))&&(ke.app.logger.warning("Invalid scale option: "+ot.string(t.scale),{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/SpineAsset.hx",lineNumber:114,className:"ceramic.SpineAsset",methodName:"new"}),this.scale=1),this.assets=new tn}function D1(){}function H1(){}function O1(){this.noFitWidth=!1,this.centerIfOneLine=!1,this.minHeight=0,this.verticalAlign=wt.TOP,g0.call(this),this.text=new hi,this.text.set_maxLineDiff(.75),this.add(this.text),this.flags|=16}function P1(){this.asset=null,this.regions=[],this.pages=[],j.call(this)}function Q1(){this.pages=[],this.pendingRegions=[],this.filter=fi.LINEAR,this.spacing=1,this.atlas=null,j.call(this)}function W1(e,n,t,i,l,s,r){null==r&&(r=0),null==s&&(s=!1),this.texture=e,this.frameX=n,this.frameY=t,this.frameWidth=i,this.frameHeight=l,this.rotateFrame=s,this.edgeInset=r}function Z1(e,n,t,i,l,s){null==s&&(s=1),null==l&&(l=16),null==i&&(i=16),null==t&&(t=-1),null==n&&(n=-1),this.maxPixelTextureHeight=0,this.maxPixelTextureWidth=0,this.numRows=0,this.numCols=0,this.nextPacker=null,j.call(this),this.padWidth=i,this.padHeight=l,this.margin=s,this.maxPixelTextureWidth=n,this.maxPixelTextureHeight=t,-1==n&&(n=2048/ke.app.screen.get_texturesDensity()|0),-1==t&&(t=2048/ke.app.screen.get_texturesDensity()|0);for(var n=0|Math.min(n,2048/ke.app.screen.get_texturesDensity()),t=0|Math.min(t,2048/ke.app.screen.get_texturesDensity()),r=(this.texture=new kt(n,t),e?(this.texture.autoRender=!0,this.texture.clearOnRender=!0):(this.texture.autoRender=!1,this.texture.clearOnRender=!1),this.areas=[],this.texture.width),h=this.texture.height,a=s,o=s;o+l<h;){for(;a+i<r;)this.areas.push(null),a+=i+2*s,0==this.numRows&&this.numCols++;a=0,o+=l+2*s,this.numRows++}}function ac(e,n){this.easing=Nn.NONE,this.index=e,this.easing=n}function bc(e,n,t){ac.call(this,n,t),this.value=e}function cc(){this.keyframeAfterIndex=-1,this.keyframeBeforeIndex=-1,this.after=null,this.before=null,this.keyframes=[],this.position=0,this.timeline=null,this.locked=!1,this.loop=!1,this.autoFitSize=!0,this.size=0,j.call(this)}function dc(){this.value=!1,cc.call(this)}function ec(e,n,t){ac.call(this,n,t),this.value=e}function fc(){this.value=16777215,cc.call(this)}function gc(){this.value=0,cc.call(this)}function hc(e,n,t){ac.call(this,n,t),this.value=e}function ic(){this.value=[],cc.call(this)}function jc(e,n,t){ac.call(this,n,t),this.value=e}function kc(){this.value=0,cc.call(this)}function uc(){Aa.call(this),this.vertices=[0,0,0,0,0,0],this.indices=[0,1,2],this.set_color(16777215)}function Ec(e,n){null==n&&(n=.3),this.initializerName=null,this.isView=!1,this.viewHeightEnd=0,this.viewHeightStart=0,this.viewHeightTarget=0,this.viewHeightTween=null,this.viewHeightChanged=!1,this.viewWidthEnd=0,this.viewWidthStart=0,this.viewWidthTarget=0,this.viewWidthTween=null,this.viewWidthChanged=!1,this.offsetYEnd=0,this.offsetYStart=0,this.offsetYTarget=0,this.offsetYTween=null,this.offsetYChanged=!1,this.offsetXEnd=0,this.offsetXStart=0,this.offsetXTarget=0,this.offsetXTween=null,this.offsetXChanged=!1,this.transformInTransition=null,this.transformEndToNull=!1,this.transformEnd=null,this.transformStart=null,this.transformTarget=null,this.transformTween=null,this.transformAssignedInstance=null,this.transformAssigned=!1,this.transformChanged=!1,this.translateYEnd=0,this.translateYStart=0,this.translateYTarget=0,this.translateYTween=null,this.translateYChanged=!1,this.translateXEnd=0,this.translateXStart=0,this.translateXTarget=0,this.translateXTween=null,this.translateXChanged=!1,this.alphaEnd=0,this.alphaStart=0,this.alphaTarget=0,this.alphaTween=null,this.alphaChanged=!1,this.colorEnd=-1,this.colorStart=-1,this.colorTarget=-1,this.colorTween=null,this.colorChanged=!1,this.heightEnd=0,this.heightStart=0,this.heightTarget=0,this.heightTween=null,this.heightChanged=!1,this.widthEnd=0,this.widthStart=0,this.widthTarget=0,this.widthTween=null,this.widthChanged=!1,this.rotationEnd=0,this.rotationStart=0,this.rotationTarget=0,this.rotationTween=null,this.rotationChanged=!1,this.anchorYEnd=0,this.anchorYStart=0,this.anchorYTarget=0,this.anchorYTween=null,this.anchorYChanged=!1,this.anchorXEnd=0,this.anchorXStart=0,this.anchorXTarget=0,this.anchorXTween=null,this.anchorXChanged=!1,this.skewYEnd=0,this.skewYStart=0,this.skewYTarget=0,this.skewYTween=null,this.skewYChanged=!1,this.skewXEnd=0,this.skewXStart=0,this.skewXTarget=0,this.skewXTween=null,this.skewXChanged=!1,this.scaleYEnd=0,this.scaleYStart=0,this.scaleYTarget=0,this.scaleYTween=null,this.scaleYChanged=!1,this.scaleXEnd=0,this.scaleXStart=0,this.scaleXTarget=0,this.scaleXTween=null,this.scaleXChanged=!1,this.depthEnd=0,this.depthStart=0,this.depthTarget=0,this.depthTween=null,this.depthChanged=!1,this.yEnd=0,this.yStart=0,this.yTarget=0,this.yTween=null,this.yChanged=!1,this.xEnd=0,this.xStart=0,this.xTarget=0,this.xTween=null,this.xChanged=!1,this.anyPropertyChanged=!1,j.call(this),this.easing=e,this.duration=n}function Ic(){}function Jc(){}function Kc(){}function Lc(e){null==e&&(e=.05),this.pending=[],this.stop=!1,this.runsInBackground=!1,this.checkInterval=e}function Rc(){}function Sc(e,n,t,i,l,s,r){this.pixels=null,this.sourceBitsPerPixel=4,this.bitsPerPixel=4,this.heightActual=0,this.widthActual=0,this.height=0,this.width=0,null!=e&&(this.width=e),null!=n&&(this.height=n),null!=t&&(this.widthActual=t),null!=i&&(this.heightActual=i),null!=l&&(this.bitsPerPixel=l),null!=s&&(this.sourceBitsPerPixel=s),null!=r&&(this.pixels=r)}function Xc(){}function e2(){}function f2(e,n,t,i,l,s,r,h){this.isStream=null,this.format=null,this.bitsPerSample=null,this.channels=null,this.duration=null,this.length=null,this.rate=null,(this.id=null)!=e&&(this.id=e),null!=n&&(this.rate=n),null!=t&&(this.length=t),null!=i&&(this.duration=i),null!=l&&(this.channels=l),null!=s&&(this.bitsPerSample=s),null!=r&&(this.format=r),null!=h&&(this.isStream=h)}function g2(e,n){this.destroyed=!1,this.isStream=!1,this.format=0,this.bitsPerSample=16,this.channels=1,this.duration=0,this.length=0,this.rate=44100,this.id="AudioData",this.app=e,null!=n.id&&(this.id=n.id),null!=n.rate&&(this.rate=n.rate),null!=n.length&&(this.length=n.length),null!=n.format&&(this.format=n.format),null!=n.channels&&(this.channels=n.channels),null!=n.bitsPerSample&&(this.bitsPerSample=n.bitsPerSample),null!=n.isStream&&(this.isStream=n.isStream),null!=n.duration&&(this.duration=n.duration)}function j2(e,n){this.destroyed=!1,this.source=e,this.handle=n}function m2(e){this.app=e}function n2(e){this.app=e}function o2(e){this.app=e}function p2(e){this.name=null,this.app=e}function x2(e,n){this.texture=e,this.slot=n}function C2(){}function E2(){}function Q2(){}function R2(){this.focusedThisFrame=!1,this.windowItem=null,this.computedOnceFocused=!1,this.focusedAutoruns=null,this.observedDirty=!1,r0.call(this),this.flags|=16,this.set_direction(yt.HORIZONTAL),this.bindPointerEvents(),this.focusedThisFrame=this.get_focused(),this.onFocusedChange(this,$bind(this,this.handleFocusedChange))}function S2(){this.unobservedNullValueText=null,this.nullValueTextAutoruns=null,this.unobservedList=[],this.listAutoruns=null,this.unobservedValue=null,this.valueAutoruns=null,this.autoScrollToValue=!1,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this,e=(g0.call(this),this.collectionView=new cl,this.collectionView),t=(e.set_viewWidth(-60002),e.set_viewHeight(-60002),(e=this.collectionView).flags|=16,this.collectionView.set_dataSource(this),this.collectionView.set_inputStyle(!0),this.add(this.collectionView),null);this.autorun(function(){var e=n.get_list();e==t||null!=t&&N0._arrayEqual(e,t)||((t=e).length,n.get_nullValueText(),w.unobserve(),n.collectionView.reloadData())}),this.autorun($bind(this,this.updateScrollFromValueIfNeeded)),this.autorun($bind(this,this.updateStyle))}function T2(){this.suggestions=null,this.suggestionsContainer=null,this.suggestionsView=null,this.processedAutocompleteCandidates=null,this.cancelAutoComplete=null,this.editText=null,this.suggestionsVisibleThisFrame=!1,this.editingThisFrame=!1,this.clipSuggestions=!1,this.autocompleteOnFocus=!1,this.autocompleteMaxResults=10,this.autocompleteDelay=.01,this.autocompleteCandidates=null,this.unobservedTextValue="",this.textValueAutoruns=null;var t=this;R2.call(this),ke.app.onUpdate(this,function(e){t.updateSuggestionsVisibility()}),ke.app.onPostUpdate(this,function(e){t.updateSuggestionsPosition()}),ke.app.onFinishDraw(this,$bind(this,this.updateThisFrameFlags)),ke.app.onceUpdate(this,function(e){var n=t.getScrollingLayout();null!=n&&n.scroller.scrollTransform.onChange(t,$bind(t,t.updateSuggestionsPosition))}),this.onFocusedChange(this,$bind(this,this.handleAutocompleteOnFocus))}function U2(){this.borderAlpha=1,this.borderColor=0,this.borderSize=1,this.innerAlpha=1,this.innerColor=16777215,Aa.call(this),this.vertices=[0,0,0,0,0,0,0,0,0,0],this.indices=[0,1,2,0,3,4,0,4,1,1,4,2,4,5,2],this.colorMapping=1,this.colors=[];var e=-1,e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),e=(this.colors.push(e=e&16777215|-16777216),-1),n=(this.colors.push(e=e&16777215|-16777216),16777215),n=(this.innerColor!=n&&(i=(t=this.colors[0])>>24&255,this.colors[0]=e=(e=-1)&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24,i=(t=this.colors[1])>>24&255,this.colors[1]=e=(e=-1)&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24,i=(t=this.colors[2])>>24&255,this.colors[2]=e=(e=-1)&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24),8421504);if(this.borderColor!=n){this.borderColor=n;{var t=this.colors[3],i=t>>24&255,e=(null==i&&(i=255),-8355712);this.colors[3]=e=e&16777215|(255<i?255:i<0?0:i)<<24;i=(t=this.colors[4])>>24&255,e=-8355712}this.colors[4]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[5])>>24&255,e=-8355712;this.colors[5]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[6])>>24&255,e=-8355712;this.colors[6]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[7])>>24&255,e=-8355712;this.colors[7]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[8])>>24&255,e=-8355712;this.colors[8]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[9])>>24&255,e=-8355712;this.colors[9]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[10])>>24&255,e=-8355712;this.colors[10]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[11])>>24&255,e=-8355712;this.colors[11]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[12])>>24&255,e=-8355712;this.colors[12]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[13])>>24&255,e=-8355712;this.colors[13]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24;i=(t=this.colors[14])>>24&255,e=-8355712;this.colors[14]=e=e&16777215|(255<(i=null==i?255:i)?255:i<0?0:i)<<24}}function V2(){this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedInputStyle=Cl.DEFAULT,this.inputStyleAutoruns=null,this.unobservedValue=!1,this.valueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var t=this,e=(R2.call(this),this.set_direction(yt.HORIZONTAL),this.set_align(wt.RIGHT),this.switchContainer=new g0,this.switchContainer.padding(7),(e=this.switchContainer).set_viewWidth(27),e.set_viewHeight(27),this.switchContainer),n=Un.INSIDE;e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),this.add(this.switchContainer),this.switchSquare=new g0,(e=this.switchSquare).flags&=-17,(e=this.switchSquare).set_width(13),e.set_height(13),this.switchContainer.add(this.switchSquare),this.switchContainer.onLayout(this,function(){ke.app._oncePostFlushImmediate($bind(t,t.layoutSwitchContainer),!0)}),this.autorun($bind(this,this.updateStyle)),this.onValueChange(this,function(e,n){t.switchContainer.layoutDirty=!0}),this.switchContainer.onPointerDown(this,function(e){t.toggleValue()}),ke.app.input.onKeyDown(this,$bind(this,this.handleKeyDown))}function W2(){this.unobservedEnterPressed=!1,this.enterPressedAutoruns=null,this.unobservedHover=!1,this.hoverAutoruns=null,this.computedOnceFocused=!1,this.focusedAutoruns=null,this.unobservedEnabled=!0,this.enabledAutoruns=null,this.unobservedInputStyle=Cl.DEFAULT,this.inputStyleAutoruns=null,this.windowItem=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var t=this;O1.call(this),this.set_click(new c0),this.click.onClick(this,$bind(this,this.emitClick)),this.set_align(ai.CENTER),this.set_verticalAlign(wt.CENTER),this.set_pointSize(12),this.set_preRenderedSize(20),this.padding(5,2),this.set_transform(new n),this.onPointerOver(this,function(e){t.set_hover(!0)}),this.onPointerOut(this,function(e){t.set_hover(!1)}),ke.app.input.onKeyDown(this,$bind(this,this.handleKeyDown)),ke.app.input.onKeyUp(this,$bind(this,this.handleKeyUp)),this.autorun($bind(this,this.updateStyle))}function bd(){this.editingThisFrame=!1,this.updatingFromPicker=0,this.unobservedPickerVisible=!1,this.pickerVisibleAutoruns=null,this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedValue=16777215,this.valueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var t=this,e=(R2.call(this),this.flags&=-17,this.color=16776960,this.set_direction(yt.HORIZONTAL),this.set_align(wt.LEFT),this.container=new Xb,(e=this.container).set_viewWidth(-60002),e.set_viewHeight(-60001),this.container.padding(6,6,6,6),this.container),n=Un.INSIDE;e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),(e=this.container).flags&=-17,this.add(this.container),this.pickerContainer=new g0,(e=this.pickerContainer).flags|=16,(e=this.pickerContainer).set_viewWidth(0),e.set_viewHeight(0),this.pickerContainer.set_active(!1),this.pickerContainer.set_depth(25),W.get_context().view.add(this.pickerContainer),this.textPrefixView=new O1,(e=this.textPrefixView).set_viewWidth(-60001),e.set_viewHeight(-60001),this.textPrefixView.set_align(ai.LEFT),this.textPrefixView.set_pointSize(12),this.textPrefixView.set_preRenderedSize(20),this.textPrefixView.set_content("#"),this.textPrefixView.set_verticalAlign(wt.CENTER),this.textPrefixView.padding(0,3,0,2),this.textPrefixView.text.component(null,new vl),this.container.add(this.textPrefixView),this.textView=new O1,this.textView.set_minHeight(15),(e=this.textView).set_viewWidth(54),e.set_viewHeight(-60001),this.textView.set_align(ai.LEFT),this.textView.set_verticalAlign(wt.CENTER),this.textView.set_pointSize(12),this.textView.set_preRenderedSize(20),this.container.add(this.textView),null==(n=this.get_theme())&&(n=W.get_context().get_theme()),this.editText=new M0(n.get_focusedFieldSelectionColor(),n.get_lightTextColor()),this.editText.set_container(this.textView),this.textView.text.component("editText",this.editText),this.editText.onUpdate(this,$bind(this,this.updateFromEditText)),this.editText.onStop(this,$bind(this,this.handleStopEditText)),this.colorPreview=new g0,(e=this.colorPreview).set_viewWidth(-60002),e.set_viewHeight(15),(e=this.colorPreview).flags&=-17,this.colorPreview.padding(0,0,3,0),this.container.add(this.colorPreview),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateFromValue)),this.autorun($bind(this,this.updatePickerContainer)),this.container.onLayout(this,$bind(this,this.layoutContainer)),this.pickerContainer.onLayout(this,$bind(this,this.layoutPickerContainer)),this.colorPreview.onPointerDown(this,function(e){t.togglePickerVisible()}),ke.app.onUpdate(this,function(e){t.updatePickerVisibility()}),ke.app.onPostUpdate(this,function(e){t.updatePickerPosition()}),ke.app.onFinishDraw(this,$bind(this,this.updateEditingThisFrame)),ke.app.onceUpdate(this,function(e){var n=t.getScrollingLayout();null!=n&&n.scroller.scrollTransform.onChange(t,$bind(t,t.updatePickerPosition))}),ke.app.input.onKeyDown(this,function(e){41==e.scanCode?t.set_pickerVisible(!1):t.get_focused()&&40==e.scanCode?t.set_pickerVisible(!0):t.get_focused()&&44==e.scanCode&&t.set_pickerVisible(!t.get_pickerVisible())}),this.bindKeyBindings()}function cd(){this.hue=0,this.savedPointerY=0,this.savedPointerX=0,this.movingPointer=!1,this.pointerColorTween=null,this.targetPointerColor=-1,this.movingSpectrum=!1,this.colorValue=16777215,g0.call(this),this.filter=new Kn,this.filter.set_textureFilter(fi.NEAREST),this.add(this.filter),this.flags|=16,this.tintGradient=new Aa,this.tintGradient.colorMapping=2,this.tintGradient.set_depth(1),this.filter.content.add(this.tintGradient),this.blackGradient=new Aa,this.blackGradient.colorMapping=2,this.blackGradient.set_depth(2),this.filter.content.add(this.blackGradient),this.colorPointer=new $a,(e=this.colorPointer).set_anchorX(.5),e.set_anchorY(.5),(e=this.colorPointer).set_width(10),e.set_height(10),this.colorPointer.set_depth(3);var e=this.colorPointer,n=Un.INSIDE,n=(e.borderPosition!=n&&(e.borderPosition=n,e.autoComputeVertices)&&e.computeVertices(),1!=(e=this.colorPointer).borderSize&&(e.borderSize=1,e.autoComputeVertices)&&e.computeVertices(),this.colorPointer.set_roundTranslation(1),this.filter.content.add(this.colorPointer),this.blackGradient.vertices=[0,0,1,0,1,1,0,1],this.blackGradient.indices=[0,1,2,0,2,3],0),t=-1,n=(this.blackGradient.colors[0]=t=t&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,0),t=-1,t=(this.blackGradient.colors[1]=t=t&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,-16777216),t=(this.blackGradient.colors[2]=t=t&16777215|-16777216,-16777216),t=(this.blackGradient.colors[3]=t=t&16777215|-16777216,this.tintGradient.vertices=this.blackGradient.vertices,this.tintGradient.indices=this.blackGradient.indices,-1),e=(this.tintGradient.colors[0]=t=t&16777215|-16777216,M.get_hue(this.colorValue)),i=0,l=.5-(n=1-Math.abs(0))/2,s=n,n=(e%=360)/60,r=s*(1-Math.abs(n%2-1))+l;switch(s+=l,0|n){case 0:t=(i=i&65535|(255<(t=Math.round(255*s))?255:t<0?0:t)<<16,Math.round(255*r)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*l)),i=i&16776960|(255<t?255:t<0?0:t);break;case 1:t=(i=i&65535|(255<(t=Math.round(255*r))?255:t<0?0:t)<<16,Math.round(255*s)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*l));i=i&16776960|(255<t?255:t<0?0:t);break;case 2:t=(i=i&65535|(255<(t=Math.round(255*l))?255:t<0?0:t)<<16,Math.round(255*s)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*r));i=i&16776960|(255<t?255:t<0?0:t);break;case 3:t=(i=i&65535|(255<(t=Math.round(255*l))?255:t<0?0:t)<<16,Math.round(255*r)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*s));i=i&16776960|(255<t?255:t<0?0:t);break;case 4:t=(i=i&65535|(255<(t=Math.round(255*r))?255:t<0?0:t)<<16,Math.round(255*l)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*s));i=i&16776960|(255<t?255:t<0?0:t);break;case 5:t=(i=i&65535|(255<(t=Math.round(255*s))?255:t<0?0:t)<<16,Math.round(255*l)),t=(i=i&16711935|(255<t?255:t<0?0:t)<<8,Math.round(255*r));i=i&16776960|(255<t?255:t<0?0:t)}t=(0|(e=i))-16777216,this.tintGradient.colors[1]=t=t&16777215|-16777216,t=(0|e)-16777216,this.tintGradient.colors[2]=t=t&16777215|-16777216,t=-1,this.tintGradient.colors[3]=t=t&16777215|-16777216,this.updatePointerFromColor(),this.filter.content.onPointerDown(this,$bind(this,this.handlePointerDown)),this.filter.content.onPointerUp(this,$bind(this,this.handlePointerUp))}function dd(){this.hue=0,this.unobservedMovingPointer=!1,this.movingPointerAutoruns=null,this.observedDirty=!1,g0.call(this),this.flags|=16,this.huePointer=new $a,this.huePointer.set_depth(2),1!=(e=this.huePointer).borderTopSize&&(e.borderTopSize=1,e.autoComputeVertices)&&e.computeVertices(),1!=(e=this.huePointer).borderBottomSize&&(e.borderBottomSize=1,e.autoComputeVertices)&&e.computeVertices(),16777215!=(e=this.huePointer).borderTopColor&&(e.borderTopColor=16777215,e.autoComputeColors)&&e.computeColors(),0!=(e=this.huePointer).borderBottomColor&&(e.borderBottomColor=0,e.autoComputeColors)&&e.computeColors();var e=this.huePointer,n=Un.OUTSIDE;e.borderPosition!=n&&(e.borderPosition=n,e.autoComputeVertices)&&e.computeVertices(),(e=this.huePointer).set_anchorX(.5),e.set_anchorY(.5),this.add(this.huePointer),this.initSpectrum(),this.onPointerDown(this,$bind(this,this.handlePointerDown)),this.onPointerUp(this,$bind(this,this.handlePointerUp))}function ed(){this.lightness=.5,this.savedPointerY=0,this.savedPointerX=0,this.movingPointer=!1,this.pointerColorTween=null,this.targetPointerColor=-1,this.movingSpectrum=!1,this.colorValue=16777215,g0.call(this),this.filter=new Kn,this.filter.set_textureFilter(fi.NEAREST),this.add(this.filter),this.flags|=16,this.colorPointer=new $a,(e=this.colorPointer).set_anchorX(.5),e.set_anchorY(.5),(e=this.colorPointer).set_width(10),e.set_height(10),this.colorPointer.set_depth(3);var e=this.colorPointer,n=Un.INSIDE;e.borderPosition!=n&&(e.borderPosition=n,e.autoComputeVertices)&&e.computeVertices(),1!=(e=this.colorPointer).borderSize&&(e.borderSize=1,e.autoComputeVertices)&&e.computeVertices(),this.colorPointer.set_roundTranslation(1),this.filter.content.add(this.colorPointer),this.gradient=new Aa,this.gradient.colorMapping=2,this.gradient.set_depth(1),this.filter.content.add(this.gradient);for(var t=this.gradient.vertices,i=this.gradient.indices,l=0,s=ed.PRECISION_X;l<s;)for(var r=l++,h=(t.push(r),t.push(0),t.push(1+r),t.push(0),0),a=ed.PRECISION_Y;h<a;){var o=h++,o=(t.push(r),t.push(1+o),t.push(1+r),t.push(1+o),2*o+r*(2*ed.PRECISION_Y+2));i.push(o),i.push(1+o),i.push(2+o),i.push(1+o),i.push(2+o),i.push(3+o)}this.updateGradientColors(),this.updatePointerFromColor(),this.filter.content.onPointerDown(this,$bind(this,this.handlePointerDown)),this.filter.content.onPointerUp(this,$bind(this,this.handlePointerUp))}function fd(){this.spectrumColorsDirty=!1,this.saturation=1,this.hue=0,this.lightness=.5,this.unobservedMovingPointer=!1,this.movingPointerAutoruns=null,this.observedDirty=!1,g0.call(this),this.flags|=16,this.lightnessPointer=new $a,this.lightnessPointer.set_depth(2),1!=(e=this.lightnessPointer).borderTopSize&&(e.borderTopSize=1,e.autoComputeVertices)&&e.computeVertices(),1!=(e=this.lightnessPointer).borderBottomSize&&(e.borderBottomSize=1,e.autoComputeVertices)&&e.computeVertices(),16777215!=(e=this.lightnessPointer).borderTopColor&&(e.borderTopColor=16777215,e.autoComputeColors)&&e.computeColors(),0!=(e=this.lightnessPointer).borderBottomColor&&(e.borderBottomColor=0,e.autoComputeColors)&&e.computeColors();var e=this.lightnessPointer,n=Un.OUTSIDE;e.borderPosition!=n&&(e.borderPosition=n,e.autoComputeVertices)&&e.computeVertices(),(e=this.lightnessPointer).set_anchorX(.5),e.set_anchorY(.5),this.add(this.lightnessPointer),this.initSpectrum(),this.onPointerDown(this,$bind(this,this.handlePointerDown)),this.onPointerUp(this,$bind(this,this.handlePointerUp))}function gd(e){null==e&&(e=16777215),this.observedDirty=!1;var t=this;g0.call(this),this.set_viewWidth(gd.PALETTE_COLOR_SIZE),this.set_viewHeight(gd.PALETTE_COLOR_SIZE),this.set_colorValue(e),this.set_click(new c0),this.click.onClick(this,function(){t.emitClick(t)}),this.set_longPress(new Jb(null,this.click)),this.longPress.onLongPress(this,function(e){t.emitLongPress(t,e)}),this.set_dragDrop(new gl(null,this.click,$bind(this,this.getDraggingVisual),$bind(this,this.releaseDraggingVisual))),this.dragDrop.onDraggingChange(this,$bind(this,this.handleDraggingChange)),this.set_transform(new n),this.autorun($bind(this,this.updateStyle)),this.bindDraggingDepth()}function hd(){}function ld(){this.color=16777215,this.internalScale=1,this.thickness=2,q.call(this),this.quad0=new r,this.quad0.color=this.color;var e=this.quad0;e.set_anchorX(.5),e.set_anchorY(.5),this.quad0.set_rotation(45),this.add(this.quad0),this.quad1=new r,this.quad1.color=this.color,(e=this.quad1).set_anchorX(.5),e.set_anchorY(.5),this.quad1.set_rotation(-45),this.add(this.quad1),this.set_width(16),this.set_height(16),this.contentDirty=!0,ke.app.visualsContentDirty=!0}function od(e,n){this.enumFields=e,this.enumValues=n}function qd(){this.backgroundBottom=null,this.backgrounds=null,this.backgroundTop=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,s0.call(this),this.flags&=-17,this.set_tabFocus(new Tl),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.computeBackgrounds))}function xd(){this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedBold=!1,this.boldAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,O1.call(this),this.set_viewWidth(-60002),this.set_viewHeight(-60001),this.set_minHeight(16),this.set_align(ai.LEFT),this.set_verticalAlign(wt.CENTER),this.set_pointSize(12),this.set_preRenderedSize(20),this.autorun($bind(this,this.updateStyle))}function yd(e,n){null==n&&(n=!1),this.labelWidth=70,this.labelPosition=1,this.useContainer=!1,this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedLabel="",this.labelAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var t=this,i=(Xb.call(this),this.set_itemSpacing(6),this.labelText=new O1,this.labelText);i.set_viewWidth(this.labelWidth),i.set_viewHeight(-60001),this.labelText.set_align(ai.LEFT),this.labelText.set_verticalAlign(wt.CENTER),this.labelText.set_pointSize(12),this.labelText.set_preRenderedSize(20),this.add(this.labelText),(this.useContainer=n)&&(this.containerView=new Xb,(i=this.containerView).flags|=16,(i=this.containerView).set_viewWidth(-60002),i.set_viewHeight(-60001),this.containerView.set_align(wt.RIGHT),this.add(this.containerView)),this.set_view(e),this.autorun($bind(this,this.updateDisabled)),this.autorun($bind(this,this.updateLabel)),this.autorun($bind(this,this.updateStyle)),this.labelText.onPointerDown(this,function(e){t.handleLabelClick()})}function Ad(e){this.autoCheckLocked=!0,this.windowItem=null,this.unobservedScrollEnabled=!0,this.scrollEnabledAutoruns=null,this.unobservedSmallItems=!1,this.smallItemsAutoruns=null,this.unobservedSortable=!1,this.sortableAutoruns=null,this.unobservedDuplicable=!1,this.duplicableAutoruns=null,this.unobservedLockable=!1,this.lockableAutoruns=null,this.unobservedTrashable=!1,this.trashableAutoruns=null,this.unobservedSelectedIndex=-1,this.selectedIndexAutoruns=null,this.itemsAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this;g0.call(this),this.set_items(e),this.collectionView=new cl,this.collectionView.set_itemsBehavior(1),(e=this.collectionView).set_viewWidth(-60002),e.set_viewHeight(-49975),this.collectionView.autorun(function(){var e=n.get_theme();w.unobserve(),n.collectionView.set_theme(e)}),this.add(this.collectionView),this.set_dataSource(new ml(this)),this.autorun($bind(this,this.updateFromItems)),this.autorun($bind(this,this.updateFromScrollEnabled)),ke.app.onUpdate(this,$bind(this,this.checkLockedIfNeeded))}function Cd(){}function Dd(){this._serializeId=Tr.uniqueId(),this.dirty=!1,this.observedDirty=!1,j.call(this)}function Gd(){}function Kd(){this.listVisibleThisFrame=!1,this.listIsAbove=!1,this.unobservedListVisible=!1,this.listVisibleAutoruns=null,this.clipList=!1,this.unobservedInputStyle=Cl.DEFAULT,this.inputStyleAutoruns=null,this.unobservedNullValueText=null,this.nullValueTextAutoruns=null,this.unobservedList=[],this.listAutoruns=null,this.unobservedValue=null,this.valueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var i=this,e=(R2.call(this),this.flags|=16,this.set_direction(yt.HORIZONTAL),this.set_align(wt.LEFT),this.container=new Xb,(e=this.container).set_viewWidth(-60002),e.set_viewHeight(-60001),this.container.padding(6,6,6,6),1!=(e=this.container).borderSize&&(e.borderSize=1,e.updateBorder()),this.container),n=Un.INSIDE;e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),(e=this.container).flags&=-17,this.container.set_depth(1),this.add(this.container),this.container.onPointerDown(this,function(e){i.toggleListVisible()}),this.listContainer=new g0,(e=this.listContainer).flags|=16,(e=this.listContainer).set_viewWidth(0),e.set_viewHeight(0),this.listContainer.set_active(!1),this.listContainer.set_depth(100),W.get_context().view.add(this.listContainer),this.tip=new Hb,(e=this.tip).points=[-5,-5,0,0,5,-5],e.contentDirty=!0,ke.app.visualsContentDirty=!0,1!=(e=this.tip).thickness&&(e.thickness=1,e.contentDirty=!0,ke.app.visualsContentDirty=!0),this.tip.set_depth(2),this.container.onLayout(this.tip,function(){var e=i.tip,n=i.container.x+i.container.get_width()-13,t=i.container.y+.6*i.container.get_height();e.set_x(n),e.set_y(t)}),this.add(this.tip),this.textView=new O1,this.textView.set_minHeight(15),(e=this.textView).set_viewWidth(-60001),e.set_viewHeight(-60001),this.textView.set_align(ai.LEFT),this.textView.set_verticalAlign(wt.CENTER),this.textView.set_pointSize(12),this.textView.set_preRenderedSize(20),this.container.add(this.textView),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateFromValue)),this.autorun($bind(this,this.updateListContainer)),this.container.onLayout(this,$bind(this,this.layoutContainer)),this.listContainer.onLayout(this,$bind(this,this.layoutListContainer)),this.onValueChange(this.listView,function(e,n){null!=i.listView&&i.listView.set_value(e)}),this.onListChange(this.listView,function(e,n){null!=i.listView&&i.listView.set_list(e)}),this.onNullValueTextChange(this.listView,function(e,n){null!=i.listView&&i.listView.set_nullValueText(e)}),ke.app.onUpdate(this,function(e){i.updateListVisibility()}),ke.app.onPostUpdate(this,function(e){i.updateListPosition()}),ke.app.onFinishDraw(this,$bind(this,this.updateListVisibleThisFrame)),ke.app.onceUpdate(this,function(e){var n=i.getScrollingLayout();null!=n&&n.scroller.scrollTransform.onChange(i,$bind(i,i.updateListPosition))}),ke.app.input.onKeyDown(this,function(e){41==e.scanCode?i.set_listVisible(!1):i.get_focused()&&81==e.scanCode?null!=i.get_list()&&(null==i.get_value()?0<i.get_list().length&&i.set_value(i.get_list()[0]):i.get_list().indexOf(i.get_value())<i.get_list().length-1&&i.set_value(i.get_list()[i.get_list().indexOf(i.get_value())+1])):i.get_focused()&&82==e.scanCode?null!=i.get_list()&&(0<i.get_list().indexOf(i.get_value())?i.set_value(i.get_list()[i.get_list().indexOf(i.get_value())-1]):null!=i.get_nullValueText()&&i.set_value(null)):i.get_focused()&&40==e.scanCode?i.set_listVisible(!0):i.get_focused()&&44==e.scanCode?i.set_listVisible(!i.get_listVisible()):i.get_focused()&&42==e.scanCode&&null!=i.get_nullValueText()&&i.set_value(null)})}function Ld(){this.thickness=1,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,g0.call(this),this.flags|=16,this.quad=new r,this.add(this.quad),this.autorun($bind(this,this.updateStyle))}function Md(e,n){null==n&&(n=1),null==e&&(e=0),this.round=-1,this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedInputStyle=Cl.DEFAULT,this.inputStyleAutoruns=null,this.unobservedEnabledTextInput=!0,this.enabledTextInputAutoruns=null,this.unobservedMaxValue=0,this.maxValueAutoruns=null,this.unobservedMinValue=0,this.minValueAutoruns=null,this.unobservedValue=0,this.valueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var t=this,i=(T2.call(this),this.padding(6,6,6,6),Un.INSIDE);this.borderPosition!=i&&(this.borderPosition=i,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.set_minValue(e),this.set_maxValue(n),this.set_direction(yt.HORIZONTAL),this.set_align(wt.LEFT),this.textView=new O1,this.textView.set_minHeight(15),(i=this.textView).set_viewWidth(50),i.set_viewHeight(-60001),this.textView.set_verticalAlign(wt.CENTER),this.textView.set_align(ai.LEFT),this.textView.set_pointSize(12),this.textView.set_preRenderedSize(20),this.textView.onResize(this,$bind(this,this.clipText)),this.autorun(function(){t.textView.set_active(t.get_enabledTextInput())}),this.add(this.textView),null==(e=this.get_theme())&&(e=W.get_context().get_theme()),this.editText=new M0(e.get_focusedFieldSelectionColor(),e.get_lightTextColor()),this.editText.set_container(this.textView),this.textView.text.component("editText",this.editText),this.editText.onUpdate(this,$bind(this,this.updateFromEditText)),this.editText.onStop(this,$bind(this,this.handleStopEditText)),this.editText.onSubmit(this,$bind(this,this.handleEditTextSubmit)),this.sliderContainer=new g0,this.sliderContainer.set_depth(1),(i=this.sliderContainer).set_viewWidth(-60002),i.set_viewHeight(15),(i=this.sliderContainer).flags&=-17,this.add(this.sliderContainer),this.sliderSquare=new g0,(i=this.sliderSquare).flags&=-17,(i=this.sliderSquare).set_width(19),i.set_height(15),this.sliderSquare.set_depth(1),this.sliderContainer.add(this.sliderSquare),this.sliderContainer.onPointerDown(this,$bind(this,this.handleSliderDown)),this.sliderContainer.onLayout(this,$bind(this,this.layoutSliderContainer)),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateFromTextValue)),this.autorun($bind(this,this.updateFromValue)),this.bindKeyBindings()}function Od(){this.bottomBackground=null,this.topBackground=null,this.afterSelectedBackground=null,this.beforeSelectedBackground=null,this.appliedTabs=null,this.unobservedHoverIndex=-1,this.hoverIndexAutoruns=null,this.unobservedTabViews=[],this.tabViewsAutoruns=null,this.unobservedTabThemes=[],this.tabThemesAutoruns=null,this.unobservedTabStates=[],this.tabStatesAutoruns=null,this.unobservedTabs=[],this.tabsAutoruns=null,this.unobservedSelectedIndex=-1,this.selectedIndexAutoruns=null,this.windowItem=null,this.marginY=0,this.marginX=0,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var t=this;Xb.call(this),this.set_viewHeight(27),this.flags|=16,this.set_itemSpacing(-1),this.set_childrenDepth(2),this.beforeBorder=new r,this.beforeBorder.flags&=-17,this.beforeBorder.set_active(!1),this.beforeBorder.set_depth(100),this.add(this.beforeBorder),this.afterBorder=new r,this.afterBorder.flags&=-17,this.afterBorder.set_active(!1),this.afterBorder.set_depth(100),this.add(this.afterBorder),this.autorun($bind(this,this.updateTabs)),this.autorun($bind(this,this.updateStyle)),this.onSelectedIndexChange(this,function(e,n){t.layoutDirty=!0})}function Zd(){}function d3(){}function i3(){}function N3(e,n,t){this.xml=n,this.message=e,this.position=t,this.lineNumber=1;for(var i=this.positionAtLine=0,l=t;i<l;){var s=i++,s=n.charCodeAt(s);10==s?(this.lineNumber++,this.positionAtLine=0):13!=s&&this.positionAtLine++}}function Q3(){}function U3(){}function X3(){}function Y3(){X3.call(this)}function be(e,n,t){j1.call(this,e,n,t)}function ce(e,n,t){j1.call(this,e,n,t)}function de(e,n,t){j1.call(this,e,n,t)}function ee(e,n,t){j1.call(this,e,n,t)}function fe(e,n,t){j1.call(this,e,n,t)}function je(){X3.call(this)}function le(){je.call(this)}function me(){Y3.call(this)}function oe(){je.call(this)}function pe(){Y3.call(this)}function re(){je.call(this)}function se(){Y3.call(this)}function ue(){je.call(this)}function ve(){Y3.call(this)}function we(e,n,t){if(this.duration=0,this.hashCode=99999999*Math.random()|0,null==e)throw ct.thrown(new ie("name cannot be null."));this.name=e,this.duration=t,n.length,this.timelineIds=[],this.setTimelines(n)}function xe(e,n){if(null==n)throw ct.thrown(new ie("propertyIds cannot be null."));this._propertyIds=n;var t=0|(n=null==(n=e*this.getFrameEntries())?0:n),i=[];if(0<n){var l=i.length;if(t<l)i.splice(t,t-l);else if(l<t)for(;l<t;)i.push(0),++l}this.frames=i}function ye(){}function ze(){}function Ae(e,n,t){xe.call(this,e,t);var i=0|(t=null==(t=e+18*n)?0:t),l=[];if(0<t){var s=l.length;if(i<s)l.splice(i,i-s);else if(s<i)for(;s<i;)l.push(0),++s}this.curves=l,this.curves[e-1]=1}function Be(e,n,t){Ae.call(this,e,n,[t])}function Ce(e,n,t,i){Ae.call(this,e,n,[t,i])}function De(e,n,t){this.boneIndex=0,Be.call(this,e,n,"0|"+t),this.boneIndex=t}function Ee(e,n,t){this.boneIndex=0,Ce.call(this,e,n,"1|"+t,"2|"+t),this.boneIndex=t}function Fe(e,n,t){this.boneIndex=0,Be.call(this,e,n,"1|"+t),this.boneIndex=t}function Ge(e,n,t){this.boneIndex=0,Be.call(this,e,n,"2|"+t),this.boneIndex=t}function He(e,n,t){this.boneIndex=0,Ce.call(this,e,n,"3|"+t,"4|"+t),this.boneIndex=t}function Ie(e,n,t){this.boneIndex=0,Be.call(this,e,n,"3|"+t),this.boneIndex=t}function Je(e,n,t){this.boneIndex=0,Be.call(this,e,n,"4|"+t),this.boneIndex=t}function Ke(e,n,t){this.boneIndex=0,Ce.call(this,e,n,"5|"+t,"6|"+t),this.boneIndex=t}function Le(e,n,t){this.boneIndex=0,Be.call(this,e,n,"5|"+t),this.boneIndex=t}function Me(e,n,t){this.boneIndex=0,Be.call(this,e,n,"6|"+t),this.boneIndex=t}function Ne(e,n,t){this.slotIndex=0,Ae.call(this,e,n,["7|"+t,"8|"+t]),this.slotIndex=t}function Oe(e,n,t){this.slotIndex=0,Ae.call(this,e,n,["7|"+t]),this.slotIndex=t}function Pe(e,n,t){this.slotIndex=0,Be.call(this,e,n,"8|"+t),this.slotIndex=t}function Qe(e,n,t){this.slotIndex=0,Ae.call(this,e,n,["7|"+t,"8|"+t,"9|"+t]),this.slotIndex=t}function Re(e,n,t){this.slotIndex=0,Ae.call(this,e,n,["7|"+t,"9|"+t]),this.slotIndex=t}function Se(e,n){this.slotIndex=0,xe.call(this,e,["10|"+n]),this.slotIndex=n;var n=e,e=0|(n=null==e?0:e),t=[];0!=n&&(e<(n=t.length)?t.splice(e,e-n):n<e&&(t[e-1]=null)),this.attachmentNames=t}function Te(e,n,t,i){this.slotIndex=0,Ae.call(this,e,n,["11|"+t+"|"+i.getId()]),this.slotIndex=t,this.attachment=i;for(var l=0,n=0|(l=null==l?0:l),s=(o=0|(a=null==(a=e)?0:a),[]),r=(0<a&&(o<(c=s.length)?s.splice(o,o-c):c<o&&(s[o-1]=null)),0),h=n;r<h;){var a,o,c,u=r++,_=(o=0|(a=null==(a=l)?0:a),[]);if(0<a)if(o<(c=_.length))_.splice(o,o-c);else if(c<o)for(;c<o;)_.push(0),++c;s[u]=_}this.vertices=s}function Ue(e){xe.call(this,e,Ue.propertyIds);var n=e,e=0|(n=null==e?0:e),t=[];0!=n&&(e<(n=t.length)?t.splice(e,e-n):n<e&&(t[e-1]=null)),this.events=t}function Ve(e){xe.call(this,e,Ve.propertyIds);for(var n=0,t=0|(n=null==n?0:n),i=(h=0|(r=null==(r=e)?0:r),[]),l=(0<r&&(h<(a=i.length)?i.splice(h,h-a):a<h&&(i[h-1]=null)),0),s=t;l<s;){var r,h,a,o=l++,c=(h=0|(r=null==(r=n)?0:r),[]);if(0!=r)if(h<(a=c.length))c.splice(h,h-a);else if(a<h)for(;a<h;)c.push(0),++a;i[o]=c}this.drawOrders=i}function We(e,n,t){this.ikConstraintIndex=0,Ae.call(this,e,n,["14|"+t]),this.ikConstraintIndex=t}function Xe(e,n,t){this.transformConstraintIndex=0,Ae.call(this,e,n,["15|"+t]),this.transformConstraintIndex=t}function Ye(e,n,t){this.pathConstraintIndex=0,Be.call(this,e,n,"16|"+t),this.pathConstraintIndex=t}function Ze(e,n,t){this.pathConstraintIndex=0,Be.call(this,e,n,"17|"+t),this.pathConstraintIndex=t}function $e(e,n,t){this.pathConstraintIndex=0,Ae.call(this,e,n,["18|"+t]),this.pathConstraintIndex=t}function _e(){}function a4(){}function b4(){}function c4(e,n){null==n&&(n=0),this.message=e=null==e?"":e,this.errorID=n,this.name="Error"}function f4(){}function g4(){this.timelinesRotation=[],this.timelineHoldMix=[],this.timelineMode=[],this.mixBlend=2,this.totalAlpha=0,this.interruptAlpha=0,this.mixDuration=0,this.mixTime=0,this.alpha=0,this.timeScale=0,this.trackEnd=0,this.nextTrackLast=0,this.trackLast=0,this.trackTime=0,this.delay=0,this.nextAnimationLast=0,this.animationLast=0,this.animationEnd=0,this.animationStart=0,this.drawOrderThreshold=0,this.attachmentThreshold=0,this.eventThreshold=0,this.reverse=!1,this.holdPrevious=!1,this.loop=!1,this.trackIndex=0,this.mixingTo=null,this.mixingFrom=null,this.next=null}function i4(){}function j4(e,n){null==n&&(n=999999999),null==e&&(e=64),this.peak=0,this.max=0,this.freeObjects=[],this.max=n}function l4(){}function o4(){}function p4(){}function q4(e,n,t){if(this.active=!1,this.sorted=!1,this.worldY=0,this.d=0,this.c=0,this.worldX=0,this.b=0,this.a=0,this.ashearY=0,this.ashearX=0,this.ascaleY=0,this.ascaleX=0,this.arotation=0,this.ay=0,this.ax=0,this.shearY=0,this.shearX=0,this.scaleY=0,this.scaleX=0,this.rotation=0,this.y=0,this.x=0,this.children=[],null==e)throw ct.thrown(new ie("data cannot be null."));if(null==n)throw ct.thrown(new ie("skeleton cannot be null."));this.data=e,this.skeleton=n,this.parent=t,this.setToSetupPose()}function r4(e,n,t){if(this.color=new nr(.61,.61,.61,1),this.skinRequired=!1,this.transformMode=0,this.shearY=0,this.shearX=0,this.scaleY=1,this.scaleX=1,this.rotation=0,this.y=0,this.x=0,this.length=0,e<(this.index=0))throw ct.thrown(new ie("index must be >= 0."));if(null==n)throw ct.thrown(new ie("name cannot be null."));this.index=e,this.name=n,this.parent=t}function s4(){}function t4(e){if(this.skinRequired=!1,this.order=0,null==e)throw ct.thrown(new ie("name cannot be null."));this.name=e}function u4(e,n){if(this.time=0,this.balance=0,this.volume=0,this.floatValue=0,this.intValue=0,null==n)throw ct.thrown(new ie("data cannot be null."));this.time=e,this.data=n}function v4(e){if(this.balance=0,this.volume=0,this.audioPath=null,this.floatValue=0,this.intValue=0,null==e)throw ct.thrown(new ie("name cannot be null."));this.name=e}function w4(e,n){if(this.active=!1,this.softness=0,this.mix=1,this.stretch=!1,this.compress=!1,this.bendDirection=0,null==e)throw ct.thrown(new ie("data cannot be null."));if(null==n)throw ct.thrown(new ie("skeleton cannot be null."));this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,e.bones.length,this.bones=[];for(var t=0,i=e.bones;t<i.length;){var l=i[t];++t,this.bones.push(n.findBone(l.name))}this.target=n.findBone(e.target.name)}function x4(e){this.softness=0,this.mix=1,this.uniform=!1,this.stretch=!1,this.compress=!1,this.bendDirection=1,this.bones=[],t4.call(this,e)}function y4(e,n){var t=10,i=0|(t=null==t?0:t),l=[];if(0<t){var s=l.length;if(i<s)l.splice(i,i-s);else if(s<i)for(;s<i;)l.push(0),++s}if(this.segments=l,this.lengths=[],this.curves=[],this.world=[],this.positions=[],this.spaces=[],this.active=!1,this.mixY=0,this.mixX=0,this.mixRotate=0,this.spacing=0,this.position=0,null==e)throw ct.thrown(new ie("data cannot be null."));if(null==n)throw ct.thrown(new ie("skeleton cannot be null."));(this.data=e).bones.length,this.bones=[];for(var r=0,h=e.bones;r<h.length;){var a=h[r];++r,this.bones.push(n.findBone(a.name))}this.target=n.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}function z4(e){this.mixY=0,this.mixX=0,this.mixRotate=0,this.spacing=0,this.position=0,this.offsetRotation=0,this.bones=[],t4.call(this,e)}function A4(){}function B4(){}function C4(){}function E4(){this.polygonPool=new Es,this.polygons=[],this.boundingBoxes=[],this.maxY=0,this.maxX=0,this.minY=0,this.minX=0}function G4(){this.audioPath=null,this.fps=30,this.hash=null,this.height=0,this.width=0,this.y=0,this.x=0,this.pathConstraints=[],this.transformConstraints=[],this.ikConstraints=[],this.animations=[],this.events=[],this.skins=[],this.slots=[],this.bones=[]}function H4(e){if(this.linkedMeshes=[],this.scale=1,null==e)throw ct.thrown(new ie("attachmentLoader cannot be null."));this.attachmentLoader=e}function Q4(){}function S4(e){if(null==e)throw ct.thrown(new ie("name cannot be null."));this.name=e}function T4(){}function bf(){}function cf(){}function df(){}function ef(){}function kf(){this.v2=0,this.u2=0,this.v=0,this.u=0}function pf(){var e=9,n=0|(e=null==e?0:e),t=[];if(0<e){var i=t.length;if(n<i)t.splice(n,n-i);else if(i<n)for(;i<n;)t.push(0),++i}this.val=t}function vf(e,n){this.key=e,this.value=n}function xf(){}function Af(){}function Bf(){}function Hf(){}function Of(){}function Qf(){}function Rf(){}function Uf(e,n){null==n&&(n=!1),this.append=!1,this.data=e,this.append=n}function Wf(e){this.items=e}function Yf(e,n,t,i){this.props=null,this.type=null,this.id=e,this.action=n,null!=t&&(this.type=t),null!=i&&(this.props=i)}function Zf(){this.initializerName=null,this.paused=0,this.dirty=!0,this.dirtyModels=new te,this.willCleanDestroyedTrackedModels=!1,this.trackedModels=new te,this.checkInterval=.1,this.destroyModelOnUntrack=!0,this.lastCheckedFrame=-1,this.destroysToDispatch=null,this.deserializedMap=new te,this.serializedMap=new te,j.call(this)}(E.EReg=f).__name__="EReg",f.prototype={r:null,match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&0<=e&&e<this.r.m.length)return this.r.m[e];throw ct.thrown("EReg::matched")},matchedPos:function(){if(null==this.r.m)throw ct.thrown("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(e,n,t){var i;return null==t&&(t=-1),this.r.global?(this.r.lastIndex=n,this.r.m=this.r.exec(t<0?e:he.substr(e,0,n+t)),(i=null!=this.r.m)&&(this.r.s=e)):(i=this.match(t<0?he.substr(e,n,null):he.substr(e,n,t)))&&(this.r.s=e,this.r.m.index+=n),i},map:function(e,n){var t=0,i="";do{if(t>=e.length)break;if(!this.matchSub(e,t)){i+=ot.string(he.substr(e,t,null));break}var l=this.matchedPos(),i=(i+=ot.string(he.substr(e,t,l.pos-t)))+ot.string(n(this)),t=0==l.len?(i+=ot.string(he.substr(e,l.pos,1)),l.pos+1):l.pos+l.len}while(this.r.global);return!this.r.global&&0<t&&t<e.length&&(i+=ot.string(he.substr(e,t,null))),i},__class__:f};var he=function(){},L=((E.HxOverrides=he).__name__="HxOverrides",he.strDate=function(e){switch(e.length){case 8:var n=e.split(":"),t=new Date;return t.setTime(0),t.setUTCHours(n[0]),t.setUTCMinutes(n[1]),t.setUTCSeconds(n[2]),t;case 10:n=e.split("-");return new Date(n[0],n[1]-1,n[2],0,0,0);case 19:t=(n=e.split(" "))[0].split("-"),n=n[1].split(":");return new Date(t[0],t[1]-1,t[2],n[0],n[1],n[2]);default:throw ct.thrown("Invalid date format : "+e)}},he.cca=function(e,n){e=e.charCodeAt(n);if(e==e)return e},he.substr=function(e,n,t){if(null==t)t=e.length;else if(t<0){if(0!=n)return"";t=e.length+t}return e.substr(n,t)},he.remove=function(e,n){n=e.indexOf(n);return-1!=n&&(e.splice(n,1),!0)},he.now=function(){return Date.now()},Math.__name__="Math",(E["ceramic.Lazy"]=h).__name__="ceramic.Lazy",h.__isInterface__=!0,(E["tracker.Events"]=i).__name__="tracker.Events",i.__isInterface__=!0,(E["ceramic.Entity"]=j).__name__="ceramic.Entity",j.__interfaces__=[h,i],j.prototype={id:null,_lifecycleState:null,get_destroyed:function(){return this._lifecycleState<0},get_disposed:function(){return 1==this._lifecycleState},__cbOnDispose:null,__cbOnceDispose:null,__cbOnOwnerUnbindDispose:null,__cbOnceOwnerUnbindDispose:null,emitDispose:function(e){var n=0;if(null!=this.__cbOnDispose&&(n+=this.__cbOnDispose.length),null!=this.__cbOnceDispose&&(n+=this.__cbOnceDispose.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDispose)for(var s=0,r=this.__cbOnDispose.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnDispose[h],++l):--n}if(null!=this.__cbOnceDispose){for(var a=null,o=null,s=0,r=this.__cbOnceDispose.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceDispose[h],this.__cbOnceDispose[h]=null,c=this.__cbOnceOwnerUnbindDispose[h],(this.__cbOnceOwnerUnbindDispose[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDispose[h]),o.push(this.__cbOnceDispose[h]))}this.__cbOnceOwnerUnbindDispose=a,this.__cbOnceDispose=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onDispose:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event dispose because owner is destroyed!");var l=function(e){null!=t&&(i.offDispose(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDispose&&(this.__cbOnOwnerUnbindDispose=[]),this.__cbOnOwnerUnbindDispose.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDispose&&(this.__cbOnOwnerUnbindDispose=[]),this.__cbOnOwnerUnbindDispose.push(null);null==this.__cbOnDispose&&(this.__cbOnDispose=[]),this.__cbOnDispose.push(t)},onceDispose:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event dispose because owner is destroyed!");var l=function(e){null!=t&&(i.offDispose(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDispose&&(this.__cbOnceOwnerUnbindDispose=[]),this.__cbOnceOwnerUnbindDispose.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDispose&&(this.__cbOnceOwnerUnbindDispose=[]),this.__cbOnceOwnerUnbindDispose.push(null);null==this.__cbOnceDispose&&(this.__cbOnceDispose=[]),this.__cbOnceDispose.push(t)},offDispose:function(e){if(null!=e){var n;null!=this.__cbOnDispose&&-1!=(n=this.__cbOnDispose.indexOf(e))&&(this.__cbOnDispose.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDispose[n])&&s(),this.__cbOnOwnerUnbindDispose.splice(n,1)),null!=this.__cbOnceDispose&&-1!=(n=this.__cbOnceDispose.indexOf(e))&&(this.__cbOnceDispose.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDispose[n])&&s(),this.__cbOnceOwnerUnbindDispose.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDispose){for(var t=0,i=this.__cbOnOwnerUnbindDispose.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDispose[l])&&s()}this.__cbOnOwnerUnbindDispose=null}if(null!=this.__cbOnceOwnerUnbindDispose){for(t=0,i=this.__cbOnceOwnerUnbindDispose.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDispose[l])&&s()}this.__cbOnceOwnerUnbindDispose=null}this.__cbOnDispose=null,this.__cbOnceDispose=null}},listensDispose:function(){return null!=this.__cbOnDispose&&0<this.__cbOnDispose.length||null!=this.__cbOnceDispose&&0<this.__cbOnceDispose.length},__cbOnDestroy:null,__cbOnceDestroy:null,__cbOnOwnerUnbindDestroy:null,__cbOnceOwnerUnbindDestroy:null,emitDestroy:function(e){var n=0;if(null!=this.__cbOnDestroy&&(n+=this.__cbOnDestroy.length),null!=this.__cbOnceDestroy&&(n+=this.__cbOnceDestroy.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDestroy)for(var s=0,r=this.__cbOnDestroy.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnDestroy[h],++l):--n}if(null!=this.__cbOnceDestroy){for(var a=null,o=null,s=0,r=this.__cbOnceDestroy.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceDestroy[h],this.__cbOnceDestroy[h]=null,c=this.__cbOnceOwnerUnbindDestroy[h],(this.__cbOnceOwnerUnbindDestroy[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDestroy[h]),o.push(this.__cbOnceDestroy[h]))}this.__cbOnceOwnerUnbindDestroy=a,this.__cbOnceDestroy=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onDestroy:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event destroy because owner is destroyed!");var l=function(e){null!=t&&(i.offDestroy(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDestroy&&(this.__cbOnOwnerUnbindDestroy=[]),this.__cbOnOwnerUnbindDestroy.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDestroy&&(this.__cbOnOwnerUnbindDestroy=[]),this.__cbOnOwnerUnbindDestroy.push(null);null==this.__cbOnDestroy&&(this.__cbOnDestroy=[]),this.__cbOnDestroy.push(t)},onceDestroy:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event destroy because owner is destroyed!");var l=function(e){null!=t&&(i.offDestroy(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDestroy&&(this.__cbOnceOwnerUnbindDestroy=[]),this.__cbOnceOwnerUnbindDestroy.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDestroy&&(this.__cbOnceOwnerUnbindDestroy=[]),this.__cbOnceOwnerUnbindDestroy.push(null);null==this.__cbOnceDestroy&&(this.__cbOnceDestroy=[]),this.__cbOnceDestroy.push(t)},offDestroy:function(e){if(null!=e){var n;null!=this.__cbOnDestroy&&-1!=(n=this.__cbOnDestroy.indexOf(e))&&(this.__cbOnDestroy.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDestroy[n])&&s(),this.__cbOnOwnerUnbindDestroy.splice(n,1)),null!=this.__cbOnceDestroy&&-1!=(n=this.__cbOnceDestroy.indexOf(e))&&(this.__cbOnceDestroy.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDestroy[n])&&s(),this.__cbOnceOwnerUnbindDestroy.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDestroy){for(var t=0,i=this.__cbOnOwnerUnbindDestroy.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDestroy[l])&&s()}this.__cbOnOwnerUnbindDestroy=null}if(null!=this.__cbOnceOwnerUnbindDestroy){for(t=0,i=this.__cbOnceOwnerUnbindDestroy.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDestroy[l])&&s()}this.__cbOnceOwnerUnbindDestroy=null}this.__cbOnDestroy=null,this.__cbOnceDestroy=null}},listensDestroy:function(){return null!=this.__cbOnDestroy&&0<this.__cbOnDestroy.length||null!=this.__cbOnceDestroy&&0<this.__cbOnceDestroy.length},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-3,null!=this.autoruns)for(var e=0,n=this.autoruns.length;e<n;){var t=e++,i=this.autoruns[t];null!=i&&(this.autoruns[t]=null,i.destroy())}if(this.emitDestroy(this),null!=this._components){for(var l=null,s=this._components.h,r=Object.keys(s),h=r.length,a=0;a<h;){var o=r[a++];null==l?l=[o]:l.push(o)}if(null!=l)for(e=0;e<l.length;){o=l[e];++e,this.removeComponent(o)}}this.unbindEvents()}},dispose:function(){0==this._lifecycleState&&(this._lifecycleState=1,ke.app.disposedEntities.push(this)),this.emitDispose(this)},unbindEvents:function(){this.offDispose(),this.offDestroy()},autoruns:null,autorun:function(e,n){if(this._lifecycleState<0)return null;var t=new w(e,n);if((n=e=null)==(t.owner=this).autoruns)this.autoruns=[t];else{for(var i=!1,l=0,s=this.autoruns.length;l<s;){var r=l++;if(null==this.autoruns[r]){this.autoruns[r]=t,i=!0;break}}i||this.autoruns.push(t)}return t.onDestroy(this,$bind(this,this.checkAutoruns)),t},checkAutoruns:function(e){for(var n=0,t=this.autoruns.length;n<t;){var i=n++,l=this.autoruns[i];null!=l&&l._lifecycleState<0&&(this.autoruns[i]=null)}},_autorunMarkedMethods:function(){},tween:function(e,n,t,i,l){return H.start(this,e,n,t,i,l)},eagerTween:function(e,n,t,i,l){return H.eagerStart(this,e,n,t,i,l)},className:function(){var e=ws.getClass(this).__name__,n=e.lastIndexOf(".");return e=-1!=n?he.substr(e,n+1,null):e},toString:function(){var e=this.className();return null!=this.id?e+"("+this.id+")":""+e},clearComponents:function(){if(null!=this._components){for(var e=null,n=this._components.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s=t[l++];null==e?e=[s]:e.push(s)}if(null!=e)for(var r=0;r<e.length;){s=e[r];++r,this.removeComponent(s)}}},get_components:function(){return this._components},set_components:function(e){if(this._components!=e){if(null!=this._components){l=this._components.h;for(var n=(s=Object.keys(l)).length,t=0;t<n;){var i=s[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||this.removeComponent(i)}}if(null!=e){l=e.h;for(var l,s,n=(s=Object.keys(l)).length,t=0;t<n;){var r,i=s[t++],h=e.h[i];null!=this._components&&null!=(r=this._components.h[i])?r!=h&&(this.removeComponent(i),this.component(i,h)):this.component(i,h)}}this._components=e}return e},_components:null,component:function(t,i,l){null==l&&(l=!1);var s=this;if(null==t&&null==i)throw ct.thrown("Invalid component() call: either `name` or `component` should be provided at least.");if(null==t){var e=ws.getClass(i);if(t=e.__name__,null!=this._components&&Object.prototype.hasOwnProperty.call(this._components.h,t)){var n=t,r=1;for(t=n+"#"+r;Object.prototype.hasOwnProperty.call(this._components.h,t);)t=n+"#"+ ++r}}return null!=i?(null==this._components?this._components=new te:null!=(e=this._components.h[t])&&e.destroy(),(this._components.h[t]=i).setEntity(this),i.onceDestroy(this,function(e){var n;i.getEntity()==s&&i.setEntity(null),0<=s._lifecycleState&&s._components.h[t]==i&&(n=s._components,Object.prototype.hasOwnProperty.call(n.h,t))&&delete n.h[t],l&&null!=t&&L.setProperty(s,t,null)}),i.bindAsComponent(),i):null==this._components?null:this._components.h[t]},hasComponent:function(e){return null!=this.component(e)},removeComponent:function(e){var n,t=this._components.h[e];null!=t&&(n=this._components,Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],t.destroy())},__class__:j,__properties__:{set_components:"set_components",get_components:"get_components",get_disposed:"get_disposed",get_destroyed:"get_destroyed"}},(E.Project=k).__name__="Project",k.__super__=j,k.prototype=$extend(j.prototype,{ready:function(){ke.app.get_scenes().set_main(new x)},__class__:k}),function(){}),x=((E.Reflect=L).__name__="Reflect",L.field=function(e,n){try{return e[n]}catch(e){return zl.lastError=e,null}},L.getProperty=function(e,n){var t;return null==e?null:!!e.__properties__&&(t=e.__properties__["get_"+n])?e[t]():e[n]},L.setProperty=function(e,n,t){var i,l=!!e.__properties__&&(i=e.__properties__["set_"+n]);l?e[i](t):e[n]=t},L.fields=function(e){var n=[];if(null!=e){var t,i=Object.prototype.hasOwnProperty;for(t in e)"__id__"!=t&&"hx__closures__"!=t&&i.call(e,t)&&n.push(t)}return n},L.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},L.compare=function(e,n){return e==n?0:n<e?1:-1},L.isObject=function(e){var n;return null!=e&&("string"==(n=typeof e)||"object"==n&&null==e.__enum__||"function"==n&&null!=(e.__name__||e.__ename__))},L.deleteField=function(e,n){return!!Object.prototype.hasOwnProperty.call(e,n)&&(delete e[n],!0)},(E["ceramic.DecomposedTransform"]=m).__name__="ceramic.DecomposedTransform",m.prototype={pivotX:null,pivotY:null,x:null,y:null,rotation:null,scaleX:null,scaleY:null,skewX:null,skewY:null,toString:function(){return"(pos="+this.x+","+this.y+" pivot="+this.pivotX+","+this.pivotY+" rotation="+this.rotation+" scale="+(this.scaleX==this.scaleY?""+this.scaleX:this.scaleX+","+this.scaleY)+" skew="+this.skewX+","+this.skewY+")"},__class__:m},(E["ceramic.Transform"]=n).__name__="ceramic.Transform",n.__interfaces__=[i],n.prototype={__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(){var e=0;if(null!=this.__cbOnChange&&(e+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(e+=this.__cbOnceChange.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnChange)for(var l=0,s=this.__cbOnChange.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnChange[r],++i):--e}if(null!=this.__cbOnceChange){for(var h=null,a=null,l=0,s=this.__cbOnceChange.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceChange[r],this.__cbOnceChange[r]=null,o=this.__cbOnceOwnerUnbindChange[r],(this.__cbOnceOwnerUnbindChange[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindChange[r]),a.push(this.__cbOnceChange[r]))}this.__cbOnceOwnerUnbindChange=h,this.__cbOnceChange=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t),t=null}this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},_aPrev:null,_bPrev:null,_cPrev:null,_dPrev:null,_txPrev:null,_tyPrev:null,changedDirty:null,a:null,b:null,c:null,d:null,tx:null,ty:null,changed:null,computeChanged:function(){this.changedDirty&&(this.changed=this.tx!=this._txPrev||this.ty!=this._tyPrev||this.a!=this._aPrev||this.b!=this._bPrev||this.c!=this._cPrev||this.d!=this._dPrev,this.changedDirty=!1)},didEmitChange:function(){this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},cleanChangedState:function(){this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},clone:function(){return new n(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(e){var n=this.a*e.a+this.b*e.c,n=(this.b=this.a*e.b+this.b*e.d,this.a=n,this.c*e.a+this.d*e.c),n=(this.d=this.c*e.b+this.d*e.d,this.c=n,this.tx*e.a+this.ty*e.c+e.tx);this.ty=this.tx*e.b+this.ty*e.d+e.ty,this.tx=n,this.changedDirty=!0},decompose:function(e){return(e=null==e?new m:e).pivotX=0,e.pivotY=0,e.skewX=-Math.atan2(-this.c,this.d),e.skewY=Math.atan2(this.b,this.a),Math.abs(e.skewX+e.skewY)<1e-5&&(e.rotation=e.skewY,this.a<0&&0<=this.d&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skewX=0,e.skewY=0),e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d),e.x=this.tx,e.y=this.ty,e},setFromDecomposed:function(e){var n=e.x,t=e.y,i=e.scaleX,l=e.scaleY,s=e.rotation,r=e.skewX,h=e.skewY,a=e.pivotX,e=e.pivotY;null==e&&(e=0),null==a&&(a=0),null==h&&(h=0),null==r&&(r=0),null==s&&(s=0),null==l&&(l=1),null==i&&(i=1),null==t&&(t=0),null==n&&(n=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-a,this.ty+=-e,this.changedDirty=!0,0!=r&&(this.c=r*Math.PI/180),0!=h&&(this.b=h*Math.PI/180),0!=s&&(r=s*Math.PI/180,h=Math.cos(r),s=Math.sin(r),r=this.a*h-this.b*s,this.b=this.a*s+this.b*h,this.a=r,r=this.c*h-this.d*s,this.d=this.c*s+this.d*h,this.c=r,r=this.tx*h-this.ty*s,this.ty=this.tx*s+this.ty*h,this.tx=r,this.changedDirty=!0),this.tx+=a,this.ty+=e,this.changedDirty=!0,1==i&&1==l||(this.a*=i,this.b*=l,this.c*=i,this.d*=l,this.tx*=i,this.ty*=l,this.changedDirty=!0),this.tx+=n-a*i,this.ty+=t-e*l,this.changedDirty=!0},setFromValues:function(e,n,t,i,l,s,r,h,a){null==a&&(a=0),null==h&&(h=0),null==r&&(r=0),null==s&&(s=0),null==l&&(l=0),null==i&&(i=1),null==t&&(t=1),null==n&&(n=0),null==e&&(e=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-h,this.ty+=-a,this.changedDirty=!0,0!=s&&(this.c=s*Math.PI/180),0!=r&&(this.b=r*Math.PI/180),0!=l&&(s=l*Math.PI/180,r=Math.cos(s),l=Math.sin(s),s=this.a*r-this.b*l,this.b=this.a*l+this.b*r,this.a=s,s=this.c*r-this.d*l,this.d=this.c*l+this.d*r,this.c=s,s=this.tx*r-this.ty*l,this.ty=this.tx*l+this.ty*r,this.tx=s,this.changedDirty=!0),this.tx+=h,this.ty+=a,this.changedDirty=!0,1==t&&1==i||(this.a*=t,this.b*=i,this.c*=t,this.d*=i,this.tx*=t,this.ty*=i,this.changedDirty=!0),this.tx+=e-h*t,this.ty+=n-a*i,this.changedDirty=!0},setFromInterpolated:function(e,t,i){var l,s,r,h,a,o;0==i?(this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty):1==i?(this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty):((l=null==(l=n._decomposed1)?new m:l).pivotX=0,l.pivotY=0,l.skewX=-Math.atan2(-e.c,e.d),l.skewY=Math.atan2(e.b,e.a),Math.abs(l.skewX+l.skewY)<1e-5&&(l.rotation=l.skewY,e.a<0&&0<=e.d&&(l.rotation+=l.rotation<=0?Math.PI:-Math.PI),l.skewX=0,l.skewY=0),l.scaleX=Math.sqrt(e.a*e.a+e.b*e.b),l.scaleY=Math.sqrt(e.c*e.c+e.d*e.d),l.x=e.tx,l.y=e.ty,(l=null==(l=n._decomposed2)?new m:l).pivotX=0,l.pivotY=0,l.skewX=-Math.atan2(-t.c,t.d),l.skewY=Math.atan2(t.b,t.a),Math.abs(l.skewX+l.skewY)<1e-5&&(l.rotation=l.skewY,t.a<0&&0<=t.d&&(l.rotation+=l.rotation<=0?Math.PI:-Math.PI),l.skewX=0,l.skewY=0),l.scaleX=Math.sqrt(t.a*t.a+t.b*t.b),l.scaleY=Math.sqrt(t.c*t.c+t.d*t.d),l.x=t.tx,l.y=t.ty,n._decomposed1.pivotX+=(n._decomposed2.pivotX-n._decomposed1.pivotX)*i,n._decomposed1.pivotY+=(n._decomposed2.pivotY-n._decomposed1.pivotY)*i,n._decomposed1.rotation+=(n._decomposed2.rotation-n._decomposed1.rotation)*i,n._decomposed1.scaleX+=(n._decomposed2.scaleX-n._decomposed1.scaleX)*i,n._decomposed1.scaleY+=(n._decomposed2.scaleY-n._decomposed1.scaleY)*i,n._decomposed1.skewX+=(n._decomposed2.skewX-n._decomposed1.skewX)*i,n._decomposed1.skewY+=(n._decomposed2.skewY-n._decomposed1.skewY)*i,n._decomposed1.x+=(n._decomposed2.x-n._decomposed1.x)*i,n._decomposed1.y+=(n._decomposed2.y-n._decomposed1.y)*i,l=(e=n._decomposed1).x,t=e.y,i=e.scaleX,s=e.scaleY,a=e.rotation,o=e.skewX,h=e.skewY,r=e.pivotX,null==(e=e.pivotY)&&(e=0),null==r&&(r=0),null==h&&(h=0),null==o&&(o=0),null==a&&(a=0),null==s&&(s=1),null==i&&(i=1),null==t&&(t=0),null==l&&(l=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-r,this.ty+=-e,this.changedDirty=!0,0!=o&&(this.c=o*Math.PI/180),0!=h&&(this.b=h*Math.PI/180),0!=a&&(o=a*Math.PI/180,h=Math.cos(o),a=Math.sin(o),o=this.a*h-this.b*a,this.b=this.a*a+this.b*h,this.a=o,o=this.c*h-this.d*a,this.d=this.c*a+this.d*h,this.c=o,o=this.tx*h-this.ty*a,this.ty=this.tx*a+this.ty*h,this.tx=o,this.changedDirty=!0),this.tx+=r,this.ty+=e,this.changedDirty=!0,1==i&&1==s||(this.a*=i,this.b*=s,this.c*=i,this.d*=s,this.tx*=i,this.ty*=s,this.changedDirty=!0),this.tx+=l-r*i,this.ty+=t-e*s),this.changedDirty=!0},deltaTransformX:function(e,n){return e*this.a+n*this.c},deltaTransformY:function(e,n){return e*this.b+n*this.d},equals:function(e){return null!=e&&this.tx==e.tx&&this.ty==e.ty&&this.a==e.a&&this.b==e.b&&this.c==e.c&&this.d==e.d},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0},invert:function(){var e,n=this.a*this.d-this.b*this.c;0==n?(this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty):(e=this.d*(n=1/n),this.d=this.a*n,this.a=e,this.b*=-n,this.c*=-n,e=-this.a*this.tx-this.c*this.ty,this.ty=-this.b*this.tx-this.d*this.ty,this.tx=e),this.changedDirty=!0},rotate:function(e){var n=Math.cos(e),e=Math.sin(e),t=this.a*n-this.b*e,t=(this.b=this.a*e+this.b*n,this.a=t,this.c*n-this.d*e),t=(this.d=this.c*e+this.d*n,this.c=t,this.tx*n-this.ty*e);this.ty=this.tx*e+this.ty*n,this.tx=t,this.changedDirty=!0},scale:function(e,n){this.a*=e,this.b*=n,this.c*=e,this.d*=n,this.tx*=e,this.ty*=n,this.changedDirty=!0},translate:function(e,n){this.tx+=e,this.ty+=n,this.changedDirty=!0},skew:function(e,t){var i=n._tmp,i=(i.a=1,i.b=0,i.c=0,i.d=1,i.tx=0,i.ty=0,i.changedDirty=!0,Math.cos(t)),t=Math.sin(t),l=-Math.sin(e),e=Math.cos(e),i=(n._tmp.a=+i+-0*t,n._tmp.b=0*i+ +t,n._tmp.c=l+-0*e,n._tmp.d=0*l+ +e,n._tmp),t=this.a*i.a+this.b*i.c,l=(this.b=this.a*i.b+this.b*i.d,this.a=t,this.c*i.a+this.d*i.c),e=(this.d=this.c*i.b+this.d*i.d,this.c=l,this.tx*i.a+this.ty*i.c+i.tx);this.ty=this.tx*i.b+this.ty*i.d+i.ty,this.tx=e,this.changedDirty=!0},setRotation:function(e,n){null==n&&(n=1),this.a=Math.cos(e)*n,this.c=Math.sin(e)*n,this.b=-this.c,this.d=this.a,this.changedDirty=!0},setTo:function(e,n,t,i,l,s){this.a=e,this.b=n,this.c=t,this.d=i,this.tx=l,this.ty=s,this.changedDirty=!0},setToTransform:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this.changedDirty=!0},toString:function(){var e=n._decomposed1;return(e=null==e?new m:e).pivotX=0,e.pivotY=0,e.skewX=-Math.atan2(-this.c,this.d),e.skewY=Math.atan2(this.b,this.a),Math.abs(e.skewX+e.skewY)<1e-5&&(e.rotation=e.skewY,this.a<0&&0<=this.d&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skewX=0,e.skewY=0),e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d),e.x=this.tx,e.y=this.ty,"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+" "+ot.string(n._decomposed1)+")"},transformX:function(e,n){return e*this.a+n*this.c+this.tx},transformY:function(e,n){return e*this.b+n*this.d+this.ty},unbindEvents:function(){this.offChange()},__class__:n},(E["ceramic.Pool"]=o).__name__="ceramic.Pool",o.prototype={availableItems:null,get:function(){return 0<this.availableItems.length?this.availableItems.pop():null},recycle:function(e){this.availableItems.push(e)},clear:function(){0<this.availableItems.length&&(this.availableItems=[])},__class__:o},(E["ceramic.Point"]=p).__name__="ceramic.Point",p.get=function(e,n,t){null==t&&(t=0),null==n&&(n=0),null==e&&(e=0);var i=p.pool,i=0<i.availableItems.length?i.availableItems.pop():null;return null==i?i=new p(e,n,t):(i.x=e,i.y=n,i.z=t),i},p.prototype={x:null,y:null,z:null,toString:function(){return"Point("+this.x+", "+this.y+", "+this.z+")"},recycle:function(){this.x=0,this.y=0,this.z=0,p.pool.recycle(this)},__class__:p},(E["ceramic.Visual"]=q).__name__="ceramic.Visual",q.computeChildrenDepth=function(e){q._computeChildrenDepth0(e)},q._computeChildrenDepth0=function(e){var n=e.children;if(null!=n){for(var t=0,i=n.length;t<i;)(s=n[t++]).computedDepth=1e3*s.depth,q._computeChildrenDepth0(s);var l=e.depthRange;if(-1!=l){q._minDepth=9999999999,q._maxDepth=-9999999999;for(t=0,i=n.length;t<i;){var s=n[t++];q._computeMinMaxDepths0(s)}for(t=0,i=n.length;t<i;){s=n[t++];q._multiplyDepths0(s,e.computedDepth+Math.min(.01,1e3*l),Math.max(0,1e3*l-.01))}}}},q._computeChildrenDepth1=function(e){var n=e.children;if(null!=n){for(var t=0,i=n.length;t<i;)(s=n[t++]).computedDepth=1e3*s.depth,q._computeChildrenDepth0(s);var l=e.depthRange;if(-1!=l){q._minDepth=9999999999,q._maxDepth=-9999999999;for(t=0,i=n.length;t<i;){var s=n[t++];q._computeMinMaxDepths0(s)}for(t=0,i=n.length;t<i;){s=n[t++];q._multiplyDepths0(s,e.computedDepth+Math.min(.01,1e3*l),Math.max(0,1e3*l-.01))}}}},q._computeChildrenDepthApplyDepthRange=function(e,n){var t=e.depthRange;if(-1!=t){q._minDepth=9999999999,q._maxDepth=-9999999999;for(var i=0,l=n.length;i<l;){var s=n[i++];q._computeMinMaxDepths0(s)}for(i=0,l=n.length;i<l;){s=n[i++];q._multiplyDepths0(s,e.computedDepth+Math.min(.01,1e3*t),Math.max(0,1e3*t-.01))}}},q.computeMinMaxDepths=function(e){q._computeMinMaxDepths0(e)},q._computeMinMaxDepths0=function(e){var n=e.computedDepth,t=(n<q._minDepth&&(q._minDepth=n),q._maxDepth<n+1&&(q._maxDepth=n+1),e.children);if(null!=t)for(var i=0,l=t.length;i<l;){var s=t[i++];q._computeMinMaxDepths0(s)}},q._computeMinMaxDepths1=function(e){var n=e.computedDepth,t=(n<q._minDepth&&(q._minDepth=n),q._maxDepth<n+1&&(q._maxDepth=n+1),e.children);if(null!=t)for(var i=0,l=t.length;i<l;){var s=t[i++];q._computeMinMaxDepths0(s)}},q.multiplyDepths=function(e,n,t){q._multiplyDepths0(e,n,t)},q._multiplyDepths0=function(e,n,t){e.computedDepth=q._maxDepth==q._minDepth?n+.5*t:n+(e.computedDepth-q._minDepth)/(q._maxDepth-q._minDepth)*t;var i=e.children;if(null!=i)for(var l=0,s=i.length;l<s;){var r=i[l++];q._multiplyDepths0(r,n,t)}},q._multiplyDepths1=function(e,n,t){e.computedDepth=q._maxDepth==q._minDepth?n+.5*t:n+(e.computedDepth-q._minDepth)/(q._maxDepth-q._minDepth)*t;var i=e.children;if(null!=i)for(var l=0,s=i.length;l<s;){var r=i[l++];q._multiplyDepths0(r,n,t)}},q.__super__=j,q.prototype=$extend(j.prototype,{__cbOnPointerDown:null,__cbOncePointerDown:null,__cbOnOwnerUnbindPointerDown:null,__cbOnceOwnerUnbindPointerDown:null,emitPointerDown:function(e){var n=0;if(null!=this.__cbOnPointerDown&&(n+=this.__cbOnPointerDown.length),null!=this.__cbOncePointerDown&&(n+=this.__cbOncePointerDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerDown)for(var s=0,r=this.__cbOnPointerDown.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnPointerDown[h],++l):--n}if(null!=this.__cbOncePointerDown){for(var a=null,o=null,s=0,r=this.__cbOncePointerDown.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOncePointerDown[h],this.__cbOncePointerDown[h]=null,c=this.__cbOnceOwnerUnbindPointerDown[h],(this.__cbOnceOwnerUnbindPointerDown[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPointerDown[h]),o.push(this.__cbOncePointerDown[h]))}this.__cbOnceOwnerUnbindPointerDown=a,this.__cbOncePointerDown=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(null);null==this.__cbOnPointerDown&&(this.__cbOnPointerDown=[]),this.__cbOnPointerDown.push(t)},oncePointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(null);null==this.__cbOncePointerDown&&(this.__cbOncePointerDown=[]),this.__cbOncePointerDown.push(t)},offPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnPointerDown&&-1!=(n=this.__cbOnPointerDown.indexOf(e))&&(this.__cbOnPointerDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerDown[n])&&s(),this.__cbOnOwnerUnbindPointerDown.splice(n,1)),null!=this.__cbOncePointerDown&&-1!=(n=this.__cbOncePointerDown.indexOf(e))&&(this.__cbOncePointerDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerDown[n])&&s(),this.__cbOnceOwnerUnbindPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindPointerDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerDown[l])&&s()}this.__cbOnOwnerUnbindPointerDown=null}if(null!=this.__cbOnceOwnerUnbindPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindPointerDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerDown[l])&&s()}this.__cbOnceOwnerUnbindPointerDown=null}this.__cbOnPointerDown=null,this.__cbOncePointerDown=null}},listensPointerDown:function(){return null!=this.__cbOnPointerDown&&0<this.__cbOnPointerDown.length||null!=this.__cbOncePointerDown&&0<this.__cbOncePointerDown.length},__cbOnPointerUp:null,__cbOncePointerUp:null,__cbOnOwnerUnbindPointerUp:null,__cbOnceOwnerUnbindPointerUp:null,emitPointerUp:function(e){var n=0;if(null!=this.__cbOnPointerUp&&(n+=this.__cbOnPointerUp.length),null!=this.__cbOncePointerUp&&(n+=this.__cbOncePointerUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerUp)for(var s=0,r=this.__cbOnPointerUp.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnPointerUp[h],++l):--n}if(null!=this.__cbOncePointerUp){for(var a=null,o=null,s=0,r=this.__cbOncePointerUp.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOncePointerUp[h],this.__cbOncePointerUp[h]=null,c=this.__cbOnceOwnerUnbindPointerUp[h],(this.__cbOnceOwnerUnbindPointerUp[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPointerUp[h]),o.push(this.__cbOncePointerUp[h]))}this.__cbOnceOwnerUnbindPointerUp=a,this.__cbOncePointerUp=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(null);null==this.__cbOnPointerUp&&(this.__cbOnPointerUp=[]),this.__cbOnPointerUp.push(t)},oncePointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(null);null==this.__cbOncePointerUp&&(this.__cbOncePointerUp=[]),this.__cbOncePointerUp.push(t)},offPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnPointerUp&&-1!=(n=this.__cbOnPointerUp.indexOf(e))&&(this.__cbOnPointerUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerUp[n])&&s(),this.__cbOnOwnerUnbindPointerUp.splice(n,1)),null!=this.__cbOncePointerUp&&-1!=(n=this.__cbOncePointerUp.indexOf(e))&&(this.__cbOncePointerUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerUp[n])&&s(),this.__cbOnceOwnerUnbindPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindPointerUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerUp[l])&&s()}this.__cbOnOwnerUnbindPointerUp=null}if(null!=this.__cbOnceOwnerUnbindPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindPointerUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerUp[l])&&s()}this.__cbOnceOwnerUnbindPointerUp=null}this.__cbOnPointerUp=null,this.__cbOncePointerUp=null}},listensPointerUp:function(){return null!=this.__cbOnPointerUp&&0<this.__cbOnPointerUp.length||null!=this.__cbOncePointerUp&&0<this.__cbOncePointerUp.length},__cbOnPointerOver:null,__cbOncePointerOver:null,__cbOnOwnerUnbindPointerOver:null,__cbOnceOwnerUnbindPointerOver:null,emitPointerOver:function(e){var n=0;if(null!=this.__cbOnPointerOver&&(n+=this.__cbOnPointerOver.length),null!=this.__cbOncePointerOver&&(n+=this.__cbOncePointerOver.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerOver)for(var s=0,r=this.__cbOnPointerOver.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnPointerOver[h],++l):--n}if(null!=this.__cbOncePointerOver){for(var a=null,o=null,s=0,r=this.__cbOncePointerOver.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOncePointerOver[h],this.__cbOncePointerOver[h]=null,c=this.__cbOnceOwnerUnbindPointerOver[h],(this.__cbOnceOwnerUnbindPointerOver[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPointerOver[h]),o.push(this.__cbOncePointerOver[h]))}this.__cbOnceOwnerUnbindPointerOver=a,this.__cbOncePointerOver=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPointerOver:function(n,t){var i=this;if(null==this.__cbOnPointerOver&&null==this.__cbOncePointerOver&&(ke.app.screen.visualsListenPointerOver=!0),null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerOver because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerOver(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerOver&&(this.__cbOnOwnerUnbindPointerOver=[]),this.__cbOnOwnerUnbindPointerOver.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerOver&&(this.__cbOnOwnerUnbindPointerOver=[]),this.__cbOnOwnerUnbindPointerOver.push(null);null==this.__cbOnPointerOver&&(this.__cbOnPointerOver=[]),this.__cbOnPointerOver.push(t)},oncePointerOver:function(n,t){var i=this;if(null==this.__cbOnPointerOver&&null==this.__cbOncePointerOver&&(ke.app.screen.visualsListenPointerOver=!0),null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerOver because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerOver(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerOver&&(this.__cbOnceOwnerUnbindPointerOver=[]),this.__cbOnceOwnerUnbindPointerOver.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerOver&&(this.__cbOnceOwnerUnbindPointerOver=[]),this.__cbOnceOwnerUnbindPointerOver.push(null);null==this.__cbOncePointerOver&&(this.__cbOncePointerOver=[]),this.__cbOncePointerOver.push(t)},offPointerOver:function(e){if(null!=e){var n;null!=this.__cbOnPointerOver&&-1!=(n=this.__cbOnPointerOver.indexOf(e))&&(this.__cbOnPointerOver.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerOver[n])&&s(),this.__cbOnOwnerUnbindPointerOver.splice(n,1)),null!=this.__cbOncePointerOver&&-1!=(n=this.__cbOncePointerOver.indexOf(e))&&(this.__cbOncePointerOver.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerOver[n])&&s(),this.__cbOnceOwnerUnbindPointerOver.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerOver){for(var t=0,i=this.__cbOnOwnerUnbindPointerOver.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerOver[l])&&s()}this.__cbOnOwnerUnbindPointerOver=null}if(null!=this.__cbOnceOwnerUnbindPointerOver){for(t=0,i=this.__cbOnceOwnerUnbindPointerOver.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerOver[l])&&s()}this.__cbOnceOwnerUnbindPointerOver=null}this.__cbOnPointerOver=null,this.__cbOncePointerOver=null}},listensPointerOver:function(){return null!=this.__cbOnPointerOver&&0<this.__cbOnPointerOver.length||null!=this.__cbOncePointerOver&&0<this.__cbOncePointerOver.length},__cbOnPointerOut:null,__cbOncePointerOut:null,__cbOnOwnerUnbindPointerOut:null,__cbOnceOwnerUnbindPointerOut:null,emitPointerOut:function(e){var n=0;if(null!=this.__cbOnPointerOut&&(n+=this.__cbOnPointerOut.length),null!=this.__cbOncePointerOut&&(n+=this.__cbOncePointerOut.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerOut)for(var s=0,r=this.__cbOnPointerOut.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnPointerOut[h],++l):--n}if(null!=this.__cbOncePointerOut){for(var a=null,o=null,s=0,r=this.__cbOncePointerOut.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOncePointerOut[h],this.__cbOncePointerOut[h]=null,c=this.__cbOnceOwnerUnbindPointerOut[h],(this.__cbOnceOwnerUnbindPointerOut[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPointerOut[h]),o.push(this.__cbOncePointerOut[h]))}this.__cbOnceOwnerUnbindPointerOut=a,this.__cbOncePointerOut=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPointerOut:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerOut because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerOut(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerOut&&(this.__cbOnOwnerUnbindPointerOut=[]),this.__cbOnOwnerUnbindPointerOut.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerOut&&(this.__cbOnOwnerUnbindPointerOut=[]),this.__cbOnOwnerUnbindPointerOut.push(null);null==this.__cbOnPointerOut&&(this.__cbOnPointerOut=[]),this.__cbOnPointerOut.push(t)},oncePointerOut:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerOut because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerOut(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerOut&&(this.__cbOnceOwnerUnbindPointerOut=[]),this.__cbOnceOwnerUnbindPointerOut.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerOut&&(this.__cbOnceOwnerUnbindPointerOut=[]),this.__cbOnceOwnerUnbindPointerOut.push(null);null==this.__cbOncePointerOut&&(this.__cbOncePointerOut=[]),this.__cbOncePointerOut.push(t)},offPointerOut:function(e){if(null!=e){var n;null!=this.__cbOnPointerOut&&-1!=(n=this.__cbOnPointerOut.indexOf(e))&&(this.__cbOnPointerOut.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerOut[n])&&s(),this.__cbOnOwnerUnbindPointerOut.splice(n,1)),null!=this.__cbOncePointerOut&&-1!=(n=this.__cbOncePointerOut.indexOf(e))&&(this.__cbOncePointerOut.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerOut[n])&&s(),this.__cbOnceOwnerUnbindPointerOut.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerOut){for(var t=0,i=this.__cbOnOwnerUnbindPointerOut.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerOut[l])&&s()}this.__cbOnOwnerUnbindPointerOut=null}if(null!=this.__cbOnceOwnerUnbindPointerOut){for(t=0,i=this.__cbOnceOwnerUnbindPointerOut.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerOut[l])&&s()}this.__cbOnceOwnerUnbindPointerOut=null}this.__cbOnPointerOut=null,this.__cbOncePointerOut=null}},listensPointerOut:function(){return null!=this.__cbOnPointerOut&&0<this.__cbOnPointerOut.length||null!=this.__cbOncePointerOut&&0<this.__cbOncePointerOut.length},__cbOnFocus:null,__cbOnceFocus:null,__cbOnOwnerUnbindFocus:null,__cbOnceOwnerUnbindFocus:null,emitFocus:function(){var e=0;if(null!=this.__cbOnFocus&&(e+=this.__cbOnFocus.length),null!=this.__cbOnceFocus&&(e+=this.__cbOnceFocus.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFocus)for(var l=0,s=this.__cbOnFocus.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFocus[r],++i):--e}if(null!=this.__cbOnceFocus){for(var h=null,a=null,l=0,s=this.__cbOnceFocus.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceFocus[r],this.__cbOnceFocus[r]=null,o=this.__cbOnceOwnerUnbindFocus[r],(this.__cbOnceOwnerUnbindFocus[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFocus[r]),a.push(this.__cbOnceFocus[r]))}this.__cbOnceOwnerUnbindFocus=h,this.__cbOnceFocus=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onFocus:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focus because owner is destroyed!");var l=function(e){null!=t&&(i.offFocus(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(null);null==this.__cbOnFocus&&(this.__cbOnFocus=[]),this.__cbOnFocus.push(t)},onceFocus:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focus because owner is destroyed!");var l=function(e){null!=t&&(i.offFocus(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(null);null==this.__cbOnceFocus&&(this.__cbOnceFocus=[]),this.__cbOnceFocus.push(t)},offFocus:function(e){if(null!=e){var n;null!=this.__cbOnFocus&&-1!=(n=this.__cbOnFocus.indexOf(e))&&(this.__cbOnFocus.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocus[n])&&s(),this.__cbOnOwnerUnbindFocus.splice(n,1)),null!=this.__cbOnceFocus&&-1!=(n=this.__cbOnceFocus.indexOf(e))&&(this.__cbOnceFocus.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocus[n])&&s(),this.__cbOnceOwnerUnbindFocus.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocus){for(var t=0,i=this.__cbOnOwnerUnbindFocus.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocus[l])&&s()}this.__cbOnOwnerUnbindFocus=null}if(null!=this.__cbOnceOwnerUnbindFocus){for(t=0,i=this.__cbOnceOwnerUnbindFocus.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocus[l])&&s()}this.__cbOnceOwnerUnbindFocus=null}this.__cbOnFocus=null,this.__cbOnceFocus=null}},listensFocus:function(){return null!=this.__cbOnFocus&&0<this.__cbOnFocus.length||null!=this.__cbOnceFocus&&0<this.__cbOnceFocus.length},__cbOnBlur:null,__cbOnceBlur:null,__cbOnOwnerUnbindBlur:null,__cbOnceOwnerUnbindBlur:null,emitBlur:function(){var e=0;if(null!=this.__cbOnBlur&&(e+=this.__cbOnBlur.length),null!=this.__cbOnceBlur&&(e+=this.__cbOnceBlur.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBlur)for(var l=0,s=this.__cbOnBlur.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBlur[r],++i):--e}if(null!=this.__cbOnceBlur){for(var h=null,a=null,l=0,s=this.__cbOnceBlur.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceBlur[r],this.__cbOnceBlur[r]=null,o=this.__cbOnceOwnerUnbindBlur[r],(this.__cbOnceOwnerUnbindBlur[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBlur[r]),a.push(this.__cbOnceBlur[r]))}this.__cbOnceOwnerUnbindBlur=h,this.__cbOnceBlur=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onBlur:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event blur because owner is destroyed!");var l=function(e){null!=t&&(i.offBlur(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(null);null==this.__cbOnBlur&&(this.__cbOnBlur=[]),this.__cbOnBlur.push(t)},onceBlur:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event blur because owner is destroyed!");var l=function(e){null!=t&&(i.offBlur(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(null);null==this.__cbOnceBlur&&(this.__cbOnceBlur=[]),this.__cbOnceBlur.push(t)},offBlur:function(e){if(null!=e){var n;null!=this.__cbOnBlur&&-1!=(n=this.__cbOnBlur.indexOf(e))&&(this.__cbOnBlur.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBlur[n])&&s(),this.__cbOnOwnerUnbindBlur.splice(n,1)),null!=this.__cbOnceBlur&&-1!=(n=this.__cbOnceBlur.indexOf(e))&&(this.__cbOnceBlur.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBlur[n])&&s(),this.__cbOnceOwnerUnbindBlur.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBlur){for(var t=0,i=this.__cbOnOwnerUnbindBlur.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBlur[l])&&s()}this.__cbOnOwnerUnbindBlur=null}if(null!=this.__cbOnceOwnerUnbindBlur){for(t=0,i=this.__cbOnceOwnerUnbindBlur.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBlur[l])&&s()}this.__cbOnceOwnerUnbindBlur=null}this.__cbOnBlur=null,this.__cbOnceBlur=null}},listensBlur:function(){return null!=this.__cbOnBlur&&0<this.__cbOnBlur.length||null!=this.__cbOnceBlur&&0<this.__cbOnceBlur.length},willListenPointerOver:function(){ke.app.screen.visualsListenPointerOver=!0},asQuad:null,asMesh:null,multiTouch:null,isPointerDown:null,_numPointerDown:null,get_isPointerDown:function(){return 0<this._numPointerDown},isPointerOver:null,_numPointerOver:null,get_isPointerOver:function(){return 0<this._numPointerOver},clip:null,set_clip:function(e){if(this.clip!=e&&(this.clip=e,this.clipDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.clipDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_clipDirty(!0)}}return e},inheritAlpha:null,set_inheritAlpha:function(e){if(this.inheritAlpha!=e&&(this.inheritAlpha=e,this.visibilityDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.visibilityDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_visibilityDirty(!0)}}return e},stop:function(){},translatesOnly:null,translatesOnlyDirty:null,contentDirty:null,set_contentDirty:function(e){return(this.contentDirty=e)&&(ke.app.visualsContentDirty=!0),e},matrixDirty:null,set_matrixDirty:function(e){if((this.matrixDirty=e)&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_matrixDirty(!0)}return e},renderTargetDirty:null,set_renderTargetDirty:function(e){if(this.renderTargetDirty=e){if(this.clipDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;if((h=this.children[i]).clipDirty=!0,null!=h.children)for(var l=0,s=h.children.length;l<s;){var r=l++;h.children[r].set_clipDirty(!0)}}if(null!=this.children)for(n=0,t=this.children.length;n<t;){var h,i=n++;(h=this.children[i]).set_renderTargetDirty(!0)}}return e},visibilityDirty:null,set_visibilityDirty:function(e){if((this.visibilityDirty=e)&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_visibilityDirty(!0)}return e},touchableDirty:null,set_touchableDirty:function(e){if((this.touchableDirty=e)&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_touchableDirty(!0)}return e},clipDirty:null,set_clipDirty:function(e){if((this.clipDirty=e)&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_clipDirty(!0)}return e},renderTarget:null,set_renderTarget:function(e){if(this.renderTarget!=e){if(this.renderTarget=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;if((h=this.children[i]).matrixDirty=!0,null!=h.children)for(var l=0,s=h.children.length;l<s;){var r=l++;(a=h.children[r]).set_matrixDirty(!0)}}if(this.renderTargetDirty=!0,this.clipDirty=!0,null!=this.children)for(n=0,t=this.children.length;n<t;){i=n++;if((h=this.children[i]).clipDirty=!0,null!=h.children)for(l=0,s=h.children.length;l<s;){r=l++;(a=h.children[r]).set_clipDirty(!0)}}if(null!=this.children)for(n=0,t=this.children.length;n<t;){var h,i=n++;if((h=this.children[i]).renderTargetDirty=!0,h.clipDirty=!0,null!=h.children)for(l=0,s=h.children.length;l<s;){var a,r=l++;if((a=h.children[r]).clipDirty=!0,null!=a.children)for(var o=0,c=a.children.length;o<c;){var u=o++,_=a.children[u];if(_.clipDirty=!0,null!=_.children)for(var d=0,b=_.children.length;d<b;){var g=d++;_.children[g].set_clipDirty(!0)}}}if(null!=h.children)for(var O=0,f=h.children.length;O<f;){var p=O++;h.children[p].set_renderTargetDirty(!0)}}}return e},blending:null,set_blending:function(e){return this.blending=e},visible:null,set_visible:function(e){if(this.visible!=e&&(this.visible=e,this.visibilityDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.visibilityDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_visibilityDirty(!0)}}return e},touchable:null,set_touchable:function(e){if(this.touchable!=e&&(this.touchable=e,this.touchableDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.touchableDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_touchableDirty(!0)}}return e},depth:null,set_depth:function(e){return this.depth!=e&&(this.depth=e,ke.app.hierarchyDirty=!0),e},depthRange:null,set_depthRange:function(e){return this.depthRange!=e&&(this.depthRange=e,ke.app.hierarchyDirty=!0),e},x:null,set_x:function(e){if(this.x!=e&&(this.x=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},y:null,set_y:function(e){if(this.y!=e&&(this.y=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},scaleX:null,set_scaleX:function(e){if(this.scaleX!=e){if(this.scaleX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},scaleY:null,set_scaleY:function(e){if(this.scaleY!=e){if(this.scaleY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},skewX:null,set_skewX:function(e){if(this.skewX!=e){if(this.skewX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},skewY:null,set_skewY:function(e){if(this.skewY!=e){if(this.skewY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},anchorX:null,set_anchorX:function(e){if(this.anchorX!=e&&(this.anchorX=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},anchorY:null,set_anchorY:function(e){if(this.anchorY!=e&&(this.anchorY=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},_width:null,get_width:function(){return this._width},set_width:function(e){if(this._width!=e&&(this._width=e,0!=this.anchorX)&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},_height:null,get_height:function(){return this._height},set_height:function(e){if(this._height!=e&&(this._height=e,0!=this.anchorY)&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},roundTranslation:null,set_roundTranslation:function(e){if(this.roundTranslation!=e&&(this.roundTranslation=e,this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},rotation:null,set_rotation:function(e){if(this.rotation!=e){if(this.rotation=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}this.translatesOnlyDirty=!0}return e},alpha:null,set_alpha:function(e){if(this.alpha!=e&&(this.alpha=e,this.visibilityDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.visibilityDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_visibilityDirty(!0)}}return e},get_translateX:function(){return null!=this.transform?this.transform.tx:0},set_translateX:function(e){return 0==e?null!=this.transform&&0!=this.transform.tx&&(this.transform.tx=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new n),this.transform.tx!=e&&(this.transform.tx=e,this.transform.changedDirty=!0)),e},get_translateY:function(){return null!=this.transform?this.transform.ty:0},set_translateY:function(e){return 0==e?null!=this.transform&&0!=this.transform.ty&&(this.transform.ty=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new n),this.transform.ty!=e&&(this.transform.ty=e,this.transform.changedDirty=!0)),e},transform:null,set_transform:function(e){if(this.transform!=e&&(null!=this.transform&&this.transform.offChange($bind(this,this.transformDidChange)),this.transform=e,null!=this.transform&&this.transform.onChange(this,$bind(this,this.transformDidChange)),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}return e},shader:null,set_shader:function(e){return this.shader=e},flag:function(e,n){e+=16;return null!=n?(this.flags=n?this.flags|1<<e:this.flags&~(1<<e),n):(this.flags&(n=1<<e))==n},internalFlag:function(e,n){return null!=n?(this.flags=n?this.flags|1<<e:this.flags&~(1<<e),n):(this.flags&(n=1<<e))==n},flags:null,get_active:function(){return 1!=(1&this.flags)},set_active:function(e){return e!=(1!=(1&this.flags))&&(this.flags=e?-2&this.flags:1|this.flags,e?(this.set_visible(2==(2&this.flags)),this.set_touchable(4==(4&this.flags))):(this.flags=this.visible?2|this.flags:-3&this.flags,this.flags=this.touchable?4|this.flags:-5&this.flags,this.set_visible(!1),this.set_touchable(!1))),e},matA:null,matB:null,matC:null,matD:null,matTX:null,matTY:null,computedVisible:null,computedAlpha:null,computedDepth:null,computedRenderTarget:null,computedTouchable:null,computedClip:null,children:null,parent:null,size:function(e,n){this.set_width(e),this.set_height(n)},anchor:function(e,n){this.set_anchorX(e),this.set_anchorY(n)},pos:function(e,n){this.set_x(e),this.set_y(n)},_scale:function(e,n){this.set_scaleX(e),this.set_scaleY(n)},skew:function(e,n){this.set_skewX(e),this.set_skewY(n)},translate:function(e,t){0==e?null!=this.transform&&0!=this.transform.tx&&(this.transform.tx=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new n),this.transform.tx!=e&&(this.transform.tx=e,this.transform.changedDirty=!0)),0==t?null!=this.transform&&0!=this.transform.ty&&(this.transform.ty=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new n),this.transform.ty!=t&&(this.transform.ty=t,this.transform.changedDirty=!0))},anchorKeepPosition:function(e,n){var t,i;this.anchorX==e&&this.anchorY==n||(this.visualToScreen(0,0,q._point,!1),null!=this.parent&&this.parent.screenToVisual(q._point.x,q._point.y,q._point,!1),t=q._point.x,i=q._point.y,this.set_anchorX(e),this.set_anchorY(n),this.visualToScreen(0,0,q._point,!1),null!=this.parent&&this.parent.screenToVisual(q._point.x,q._point.y,q._point,!1),this.set_x(this.x+(t-q._point.x)),this.set_y(this.y+(i-q._point.y)))},childWithId:function(e,n){if(null==n&&(n=!0),null!=this.children){for(var t=0,i=this.children.length;t<i;){var l=t++;if((s=this.children[l]).id==e)return s}if(n)for(t=0,i=this.children.length;t<i;){var s,l=t++,r=(s=this.children[l]).childWithId(e,!0);if(null!=r)return r}}return null},childWithType:function(e,n){if(null==n&&(n=!0),null!=this.children){for(var t=0,i=this.children.length;t<i;){var l=t++,s=this.children[l];if(ws.__instanceof(s,e))return s}if(n)for(t=0,i=this.children.length;t<i;){var l=t++,r=(s=this.children[l]).childWithType(e,!0);if(null!=r)return r}}return null},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),ke.app.screen.unobservedFocusedVisual==this&&ke.app.screen.set_focusedVisual(null),ke.app.destroyedVisuals.push(this),null!=this.parent&&this.parent.remove(this),null!=this.transform&&this.set_transform(null),this.clear(),this.visibilityDirty=!1,this.computedVisible=!1)},clear:function(){if(null!=this.children&&0<this.children.length){for(var e=this.children.length,n=C.pool(e),t=n.get(),i=0,l=e;i<l;){var s=i++;t.vector[s]=this.children[s]}for(i=0,l=e;i<l;){s=i++;t.vector[s].destroy()}this.children=null,n.release(t)}},transformDidChange:function(){if(this.matrixDirty=!0,null!=this.children)for(var e=0,n=this.children.length;e<n;){var t=e++,i=this.children[t];if(i.matrixDirty=!0,null!=i.children)for(var l=0,s=i.children.length;l<s;){var r=l++;i.children[r].set_matrixDirty(!0)}}},computeMatrix:function(){null!=this.parent&&this.parent.matrixDirty&&this.parent.computeMatrix();var e,t,i,l,s=q._matrix,r=(s.a=1,s.b=0,s.c=0,s.d=1,s.tx=0,s.ty=0,s.changedDirty=!0,this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1),this.get_width()),h=this.get_height();this.translatesOnly?(q._matrix.tx+=this.x-this.anchorX*r,q._matrix.ty+=this.y-this.anchorY*h):((s=q._matrix).tx+=-this.anchorX*r,s.ty+=-this.anchorY*h,s.changedDirty=!0,1==this.scaleX&&1==this.scaleY||(r=this.scaleX,h=this.scaleY,(s=q._matrix).a*=r,s.b*=h,s.c*=r,s.d*=h,s.tx*=r,s.ty*=h,s.changedDirty=!0),0==this.skewX&&0==this.skewY||(s=q._matrix,r=.017453292519943295*this.skewX,h=.017453292519943295*this.skewY,(e=n._tmp).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0,e=Math.cos(h),h=Math.sin(h),t=-Math.sin(r),r=Math.cos(r),n._tmp.a=+e+-0*h,n._tmp.b=0*e+ +h,n._tmp.c=t+-0*r,n._tmp.d=0*t+ +r,t=s.a*(e=n._tmp).a+s.b*e.c,s.b=s.a*e.b+s.b*e.d,s.a=t,i=s.c*e.a+s.d*e.c,s.d=s.c*e.b+s.d*e.d,s.c=i,l=s.tx*e.a+s.ty*e.c+e.tx,s.ty=s.tx*e.b+s.ty*e.d+e.ty,s.tx=l,s.changedDirty=!0),0!=this.rotation&&(s=q._matrix,h=.017453292519943295*this.rotation,r=Math.cos(h),e=Math.sin(h),t=s.a*r-s.b*e,s.b=s.a*e+s.b*r,s.a=t,i=s.c*r-s.d*e,s.d=s.c*e+s.d*r,s.c=i,l=s.tx*r-s.ty*e,s.ty=s.tx*e+s.ty*r,s.tx=l,s.changedDirty=!0),(s=q._matrix).tx+=this.x,s.ty+=this.y,s.changedDirty=!0),null!=this.transform&&(t=q._matrix.a*this.transform.a+q._matrix.b*this.transform.c,q._matrix.b=q._matrix.a*this.transform.b+q._matrix.b*this.transform.d,q._matrix.a=t,i=q._matrix.c*this.transform.a+q._matrix.d*this.transform.c,q._matrix.d=q._matrix.c*this.transform.b+q._matrix.d*this.transform.d,q._matrix.c=i,l=q._matrix.tx*this.transform.a+q._matrix.ty*this.transform.c+this.transform.tx,q._matrix.ty=q._matrix.tx*this.transform.b+q._matrix.ty*this.transform.d+this.transform.ty,q._matrix.tx=l),null!=this.parent&&null==this.renderTarget&&(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD?(q._matrix.tx+=this.parent.matTX,q._matrix.ty+=this.parent.matTY):(l=(this.translatesOnly&&null==this.transform?(q._matrix.a=this.parent.matA,q._matrix.b=this.parent.matB,q._matrix.c=this.parent.matC,q._matrix.d=this.parent.matD):(t=q._matrix.a*this.parent.matA+q._matrix.b*this.parent.matC,q._matrix.b=q._matrix.a*this.parent.matB+q._matrix.b*this.parent.matD,q._matrix.a=t,i=q._matrix.c*this.parent.matA+q._matrix.d*this.parent.matC,q._matrix.d=q._matrix.c*this.parent.matB+q._matrix.d*this.parent.matD,q._matrix.c=i),q._matrix.tx*this.parent.matA+q._matrix.ty*this.parent.matC+this.parent.matTX),q._matrix.ty=q._matrix.tx*this.parent.matB+q._matrix.ty*this.parent.matD+this.parent.matTY,q._matrix.tx=l)),this.matA=q._matrix.a,this.matB=q._matrix.b,this.matC=q._matrix.c,this.matD=q._matrix.d,this.matTX=q._matrix.tx,this.matTY=q._matrix.ty,0<this.roundTranslation&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},computeTranslatesOnly:function(){this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1},doComputeMatrix:function(){this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1);var e,t,i,l,s,r=this.get_width(),h=this.get_height();this.translatesOnly?(q._matrix.tx+=this.x-this.anchorX*r,q._matrix.ty+=this.y-this.anchorY*h):((t=q._matrix).tx+=-this.anchorX*r,t.ty+=-this.anchorY*h,t.changedDirty=!0,1==this.scaleX&&1==this.scaleY||(r=this.scaleX,h=this.scaleY,(t=q._matrix).a*=r,t.b*=h,t.c*=r,t.d*=h,t.tx*=r,t.ty*=h,t.changedDirty=!0),0==this.skewX&&0==this.skewY||(t=q._matrix,r=.017453292519943295*this.skewX,h=.017453292519943295*this.skewY,(e=n._tmp).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0,e=Math.cos(h),h=Math.sin(h),i=-Math.sin(r),r=Math.cos(r),n._tmp.a=+e+-0*h,n._tmp.b=0*e+ +h,n._tmp.c=i+-0*r,n._tmp.d=0*i+ +r,i=t.a*(e=n._tmp).a+t.b*e.c,t.b=t.a*e.b+t.b*e.d,t.a=i,l=t.c*e.a+t.d*e.c,t.d=t.c*e.b+t.d*e.d,t.c=l,s=t.tx*e.a+t.ty*e.c+e.tx,t.ty=t.tx*e.b+t.ty*e.d+e.ty,t.tx=s,t.changedDirty=!0),0!=this.rotation&&(t=q._matrix,h=.017453292519943295*this.rotation,r=Math.cos(h),e=Math.sin(h),i=t.a*r-t.b*e,t.b=t.a*e+t.b*r,t.a=i,l=t.c*r-t.d*e,t.d=t.c*e+t.d*r,t.c=l,s=t.tx*r-t.ty*e,t.ty=t.tx*e+t.ty*r,t.tx=s,t.changedDirty=!0),(t=q._matrix).tx+=this.x,t.ty+=this.y,t.changedDirty=!0),null!=this.transform&&(i=q._matrix.a*this.transform.a+q._matrix.b*this.transform.c,q._matrix.b=q._matrix.a*this.transform.b+q._matrix.b*this.transform.d,q._matrix.a=i,l=q._matrix.c*this.transform.a+q._matrix.d*this.transform.c,q._matrix.d=q._matrix.c*this.transform.b+q._matrix.d*this.transform.d,q._matrix.c=l,s=q._matrix.tx*this.transform.a+q._matrix.ty*this.transform.c+this.transform.tx,q._matrix.ty=q._matrix.tx*this.transform.b+q._matrix.ty*this.transform.d+this.transform.ty,q._matrix.tx=s),null!=this.parent&&null==this.renderTarget&&(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD?(q._matrix.tx+=this.parent.matTX,q._matrix.ty+=this.parent.matTY):(s=(this.translatesOnly&&null==this.transform?(q._matrix.a=this.parent.matA,q._matrix.b=this.parent.matB,q._matrix.c=this.parent.matC,q._matrix.d=this.parent.matD):(i=q._matrix.a*this.parent.matA+q._matrix.b*this.parent.matC,q._matrix.b=q._matrix.a*this.parent.matB+q._matrix.b*this.parent.matD,q._matrix.a=i,l=q._matrix.c*this.parent.matA+q._matrix.d*this.parent.matC,q._matrix.d=q._matrix.c*this.parent.matB+q._matrix.d*this.parent.matD,q._matrix.c=l),q._matrix.tx*this.parent.matA+q._matrix.ty*this.parent.matC+this.parent.matTX),q._matrix.ty=q._matrix.tx*this.parent.matB+q._matrix.ty*this.parent.matD+this.parent.matTY,q._matrix.tx=s)),this.matA=q._matrix.a,this.matB=q._matrix.b,this.matC=q._matrix.c,this.matD=q._matrix.d,this.matTX=q._matrix.tx,this.matTY=q._matrix.ty,0<this.roundTranslation&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},_hits:function(e,n,t){if(!t){if(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget){var i=this.parent;if(null!=i)do{if(null!=i.asQuad&&i instanceof Kn){var l=i;if(l.get_renderTexture()==this.computedRenderTarget&&(null==Rt.matchedHitVisual||l.hitVisual==Rt.matchedHitVisual))return l.visualInContentHits(this,e,n)}}while(null!=(i=i.parent));return!1}if(null!=Rt.matchedHitVisual&&Rt.matchedHitVisual!=this)return!1}this.matrixDirty&&this.computeMatrix();t=q._matrix;t.a=this.matA,t.b=this.matB,t.c=this.matC,t.d=this.matD,t.tx=this.matTX,t.ty=this.matTY,t.changedDirty=!0;var s,r=(t=q._matrix).a*t.d-t.b*t.c;return 0==r?(t.a=t.b=t.c=t.d=0,t.tx=-t.tx,t.ty=-t.ty):(s=t.d*(r=1/r),t.d=t.a*r,t.a=s,t.b*=-r,t.c*=-r,s=-t.a*t.tx-t.c*t.ty,t.ty=-t.b*t.tx-t.d*t.ty,t.tx=s),t.changedDirty=!0,this.hitTest(e,n,q._matrix)},hitTest:function(e,n,t){var i=e*t.a+n*t.c+t.tx,e=e*t.b+n*t.d+t.ty;return 0<=i&&i<this.get_width()&&0<=e&&e<this.get_height()},get_isHitVisual:function(){return 8==(8&this.flags)},set_isHitVisual:function(e){return this.flags=e?8|this.flags:-9&this.flags,e},interceptPointerDown:function(e,n,t,i,l){return!1},interceptPointerOver:function(e,n,t){return!1},screenToVisual:function(e,n,t,i){if(null==i&&(i=!0),this.matrixDirty&&this.computeMatrix(),i&&(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget)){var l=this.parent;if(null!=l)do{if(null!=l.asQuad&&l instanceof Kn){var s,r,h=l;if(h.get_renderTexture()==this.computedRenderTarget)return h.screenToVisual(e,n,t),(u=q._matrix).a=this.matA,u.b=this.matB,u.c=this.matC,u.d=this.matD,u.tx=this.matTX,u.ty=this.matTY,u.changedDirty=!0,0==(a=(h=q._matrix).a*h.d-h.b*h.c)?(h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty):(o=h.d*(a=1/a),h.d=h.a*a,h.a=o,h.b*=-a,h.c*=-a,c=-h.a*h.tx-h.c*h.ty,h.ty=-h.b*h.tx-h.d*h.ty,h.tx=c),h.changedDirty=!0,h=t.x,s=t.y,t.x=h*(r=q._matrix).a+s*r.c+r.tx,void(t.y=h*(r=q._matrix).b+s*r.d+r.ty)}}while(null!=(l=l.parent))}(u=q._matrix).a=this.matA,u.b=this.matB,u.c=this.matC,u.d=this.matD,u.tx=this.matTX,u.ty=this.matTY,u.changedDirty=!0;0==(a=(u=q._matrix).a*u.d-u.b*u.c)?(u.a=u.b=u.c=u.d=0,u.tx=-u.tx,u.ty=-u.ty):(o=u.d*(a=1/a),u.d=u.a*a,u.a=o,u.b*=-a,u.c*=-a,c=-u.a*u.tx-u.c*u.ty,u.ty=-u.b*u.tx-u.d*u.ty,u.tx=c),u.changedDirty=!0;var a,o,c,u=q._matrix,u=(t.x=e*u.a+n*u.c+u.tx,q._matrix);t.y=e*u.b+n*u.d+u.ty},visualToScreen:function(e,n,t,i){if(null==i&&(i=!0),this.matrixDirty&&this.computeMatrix(),i&&(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget)){var l=this.parent;if(null!=l)do{if(null!=l.asQuad&&l instanceof Kn){var s,r=l;if(r.get_renderTexture()==this.computedRenderTarget)return(h=q._matrix).a=this.matA,h.b=this.matB,h.c=this.matC,h.d=this.matD,h.tx=this.matTX,h.ty=this.matTY,h.changedDirty=!0,t.x=e*(s=q._matrix).a+n*s.c+s.tx,t.y=e*(s=q._matrix).b+n*s.d+s.ty,void r.visualToScreen(t.x,t.y,t)}}while(null!=(l=l.parent))}(h=q._matrix).a=this.matA,h.b=this.matB,h.c=this.matC,h.d=this.matD,h.tx=this.matTX,h.ty=this.matTY,h.changedDirty=!0;var h=q._matrix,h=(t.x=e*h.a+n*h.c+h.tx,q._matrix);t.y=e*h.b+n*h.d+h.ty},visualToTransform:function(e){this.matrixDirty&&this.computeMatrix(),e.a=this.matA,e.b=this.matB,e.c=this.matC,e.d=this.matD,e.tx=this.matTX,e.ty=this.matTY,e.changedDirty=!0},computeVisibility:function(){(this._lifecycleState<0||(null!=this.parent&&this.parent.visibilityDirty&&this.parent.computeVisibility(),this.computedVisible=this.visible,this.computedAlpha=this.alpha,this.computedVisible&&(null!=this.parent&&(this.parent.computedVisible||!this.parent.inheritAlpha&&this.parent.visible&&(null==this.parent.parent||this.parent.parent.computedVisible)||(this.computedVisible=!1),this.inheritAlpha)&&(this.computedAlpha*=this.parent.computedAlpha),0==this.computedAlpha)&&4!=this.blending))&&(this.computedVisible=!1),this.visibilityDirty=!1},computeClip:function(){this.renderTargetDirty&&this.computeRenderTarget(),null!=this.parent&&this.parent.clipDirty&&this.parent.computeClip(),this.computedClip=this.clip,null==this.computedClip&&null!=this.parent&&null!=this.parent.computedClip&&this.computedRenderTarget==this.parent.computedRenderTarget&&(this.computedClip=this.parent.computedClip),this.clipDirty=!1},computeTouchable:function(){null!=this.parent&&this.parent.touchableDirty&&this.parent.computeTouchable(),this.computedTouchable=this.touchable,this.computedTouchable&&null!=this.parent&&!this.parent.computedTouchable&&(this.computedTouchable=!1),this.touchableDirty=!1},computeRenderTarget:function(){null!=this.parent&&this.parent.renderTargetDirty&&this.parent.computeRenderTarget();this.computedRenderTarget;this.computedRenderTarget=this.renderTarget,null==this.computedRenderTarget&&null!=this.parent&&null!=this.parent.computedRenderTarget&&(this.computedRenderTarget=this.parent.computedRenderTarget),this.renderTargetDirty=!1},computeContent:function(){this.contentDirty=!1},autoChildrenDepth:function(e,n){null==n&&(n=1);var t=e=null==e?1:e;if(null!=this.children)for(var i=0,l=this.children.length;i<l;){var s=i++;this.children[s].set_depth(t),t+=n}},sortChildrenByDepth:function(){var e;null!=this.children&&0<this.children.length&&(e=this.children,qt.rec(e,0,e.length))},normalizeChildrenDepth:function(e,n){null==n&&(n=1),null==e&&(e=1),null!=this.children&&0<this.children.length&&(this.sortChildrenByDepth(),this.autoChildrenDepth())},hasIndirectParent:function(e){for(var n=this.parent;null!=n;){if(n==e)return!0;n=n.parent}return!1},firstParentWithClass:function(e){for(var n=this.parent;null!=n;){if(ws.__instanceof(n,e))return n;n=n.parent}return null},add:function(e){if(e==this)throw ct.thrown("A visual cannot add itself as child!");if(null==e)throw ct.thrown("A visual cannot add a null child!");if(e._lifecycleState<0)throw ct.thrown("A visual cannot add an already destroyed child!");if(e.parent!=this){if(ke.app.hierarchyDirty=!0,null!=e.parent&&e.parent.remove(e),e.parent=this,e.visibilityDirty=!0,null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++;if((f=e.children[i]).visibilityDirty=!0,null!=f.children)for(var l=0,s=f.children.length;l<s;){var r=l++;(p=f.children[r]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).matrixDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){r=l++;(p=f.children[r]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).clipDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){r=l++;(p=f.children[r]).set_clipDirty(!0)}}if(null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).renderTargetDirty=!0,f.clipDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){r=l++;if((p=f.children[r]).clipDirty=!0,null!=p.children)for(var h=0,a=p.children.length;h<a;){var o=h++,c=p.children[o];if(c.clipDirty=!0,null!=c.children)for(var u=0,_=c.children.length;u<_;){var d=u++;c.children[d].set_clipDirty(!0)}}}if(null!=f.children)for(var b=0,g=f.children.length;b<g;){var O=b++;f.children[O].set_renderTargetDirty(!0)}}if(null==this.children&&(this.children=[]),this.children.push(e),this.clipDirty=!0,null!=this.children)for(n=0,t=this.children.length;n<t;){var f,i=n++;if((f=this.children[i]).clipDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){var p,r=l++;(p=f.children[r]).set_clipDirty(!0)}}}},addBefore:function(e,n){if(e==this)throw ct.thrown("A visual cannot add itself as child!");if(null==e)throw ct.thrown("A visual cannot add a null child!");if(e._lifecycleState<0)throw ct.thrown("A visual cannot add an already destroyed child!");if(null==n)throw ct.thrown("Reference visual cannot be null!");if(n.parent!=this)throw ct.thrown("Reference visual must be a child of this visual!");if(ke.app.hierarchyDirty=!0,e.parent==this){var t=this.children.indexOf(e);-1!=t&&this.children.splice(t,1)}else{if(null!=e.parent&&e.parent.remove(e),e.parent=this,e.visibilityDirty=!0,null!=e.children)for(var i=0,l=e.children.length;i<l;){var s=i++;if((C=e.children[s]).visibilityDirty=!0,null!=C.children)for(var r=0,h=C.children.length;r<h;){var a=r++;(v=C.children[a]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(i=0,l=e.children.length;i<l;){s=i++;if((C=e.children[s]).matrixDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){a=r++;(v=C.children[a]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(i=0,l=e.children.length;i<l;){s=i++;if((C=e.children[s]).clipDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){a=r++;(v=C.children[a]).set_clipDirty(!0)}}if(null!=e.children)for(i=0,l=e.children.length;i<l;){s=i++;if((C=e.children[s]).renderTargetDirty=!0,C.clipDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){a=r++;if((v=C.children[a]).clipDirty=!0,null!=v.children)for(var o=0,c=v.children.length;o<c;){var u=o++,_=v.children[u];if(_.clipDirty=!0,null!=_.children)for(var d=0,b=_.children.length;d<b;){var g=d++;_.children[g].set_clipDirty(!0)}}}if(null!=C.children)for(var O=0,f=C.children.length;O<f;){var p=O++;C.children[p].set_renderTargetDirty(!0)}}}null==this.children&&(this.children=[]);t=this.children.indexOf(n);if(-1!=t?this.children.splice(t,0,e):this.children.push(e),this.clipDirty=!0,null!=this.children)for(i=0,l=this.children.length;i<l;){var C,s=i++;if((C=this.children[s]).clipDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){var v,a=r++;(v=C.children[a]).set_clipDirty(!0)}}},addAfter:function(e,n){if(e==this)throw ct.thrown("A visual cannot add itself as child!");if(null==e)throw ct.thrown("A visual cannot add a null child!");if(e._lifecycleState<0)throw ct.thrown("A visual cannot add an already destroyed child!");if(null==n)throw ct.thrown("Reference visual cannot be null!");if(n.parent!=this)throw ct.thrown("Reference visual must be a child of this visual!");if(ke.app.hierarchyDirty=!0,e.parent==this){var t=this.children.indexOf(e);-1!=t&&this.children.splice(t,1)}else{if(null!=e.parent&&e.parent.remove(e),e.parent=this,e.visibilityDirty=!0,null!=e.children)for(var i=0,l=e.children.length;i<l;){var s=i++;if((C=e.children[s]).visibilityDirty=!0,null!=C.children)for(var r=0,h=C.children.length;r<h;){var a=r++;(v=C.children[a]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(i=0,l=e.children.length;i<l;){s=i++;if((C=e.children[s]).matrixDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){a=r++;(v=C.children[a]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(i=0,l=e.children.length;i<l;){s=i++;if((C=e.children[s]).clipDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){a=r++;(v=C.children[a]).set_clipDirty(!0)}}if(null!=e.children)for(i=0,l=e.children.length;i<l;){s=i++;if((C=e.children[s]).renderTargetDirty=!0,C.clipDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){a=r++;if((v=C.children[a]).clipDirty=!0,null!=v.children)for(var o=0,c=v.children.length;o<c;){var u=o++,_=v.children[u];if(_.clipDirty=!0,null!=_.children)for(var d=0,b=_.children.length;d<b;){var g=d++;_.children[g].set_clipDirty(!0)}}}if(null!=C.children)for(var O=0,f=C.children.length;O<f;){var p=O++;C.children[p].set_renderTargetDirty(!0)}}}null==this.children&&(this.children=[]);t=this.children.indexOf(n);if(-1!=t?this.children.splice(t+1,0,e):this.children.push(e),this.clipDirty=!0,null!=this.children)for(i=0,l=this.children.length;i<l;){var C,s=i++;if((C=this.children[s]).clipDirty=!0,null!=C.children)for(r=0,h=C.children.length;r<h;){var v,a=r++;(v=C.children[a]).set_clipDirty(!0)}}},remove:function(e){if(ke.app.hierarchyDirty=!0,null!=this.children){if(-1!=this.children.indexOf(e)?this.children.splice(this.children.indexOf(e),1):ke.app.logger.warning("Cannot remove visual "+ot.string(e)+", index is -1",{fileName:"../../../../ceramic/runtime/src/ceramic/Visual.hx",lineNumber:3091,className:"ceramic.Visual",methodName:"remove"}),e.parent=null,e.visibilityDirty=!0,null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++;if((f=e.children[i]).visibilityDirty=!0,null!=f.children)for(var l=0,s=f.children.length;l<s;){var r=l++;(p=f.children[r]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).matrixDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){r=l++;(p=f.children[r]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).clipDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){r=l++;(p=f.children[r]).set_clipDirty(!0)}}if(null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((f=e.children[i]).renderTargetDirty=!0,f.clipDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){r=l++;if((p=f.children[r]).clipDirty=!0,null!=p.children)for(var h=0,a=p.children.length;h<a;){var o=h++,c=p.children[o];if(c.clipDirty=!0,null!=c.children)for(var u=0,_=c.children.length;u<_;){var d=u++;c.children[d].set_clipDirty(!0)}}}if(null!=f.children)for(var b=0,g=f.children.length;b<g;){var O=b++;f.children[O].set_renderTargetDirty(!0)}}if(e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){var f,i=n++;if((f=e.children[i]).clipDirty=!0,null!=f.children)for(l=0,s=f.children.length;l<s;){var p,r=l++;(p=f.children[r]).set_clipDirty(!0)}}}},contains:function(e,n){null==n&&(n=!1);for(var t=e.parent;null!=t;){if(t==this)return!0;if(t=t.parent,!n)break}return!1},computeBounds:function(){if(null==this.children)this._width=0,this._height=0;else{for(var e=999999999,n=999999999,t=-999999999.9,i=-999999999.9,l=new p,s=0,r=this.children.length;s<r;){var h=s++;if((v=this.children[h]).visible)if(null!=v.asMesh){var a=v.asMesh,o=0,c=0,u=0;if(null!=a.vertices32)for(var _=a.vertices32,d=_.length;o<d;)c=_[o],u=_[o+1],v.visualToScreen(c,u,l,!1),l.x>t&&(t=l.x),l.y>i&&(i=l.y),l.x<e&&(e=l.x),l.y<n&&(n=l.y),o+=2;else for(var b=a.vertices,g=b.length;o<g;)c=b[o],u=b[o+1],v.visualToScreen(c,u,l,!1),l.x>t&&(t=l.x),l.y>i&&(i=l.y),l.x<e&&(e=l.x),l.y<n&&(n=l.y),o+=2}else v.visualToScreen(0,0,l,!1),l.x>t&&(t=l.x),l.y>i&&(i=l.y),l.x<e&&(e=l.x),l.y<n&&(n=l.y),v.visualToScreen(v.get_width(),0,l,!1),l.x>t&&(t=l.x),l.y>i&&(i=l.y),l.x<e&&(e=l.x),l.y<n&&(n=l.y),v.visualToScreen(0,v.get_height(),l,!1),l.x>t&&(t=l.x),l.y>i&&(i=l.y),l.x<e&&(e=l.x),l.y<n&&(n=l.y),v.visualToScreen(v.get_width(),v.get_height(),l,!1),l.x>t&&(t=l.x),l.y>i&&(i=l.y),l.x<e&&(e=l.x),l.y<n&&(n=l.y)}this.visualToScreen(0,0,l,!1);var O,f=l.x,C=l.y;if(this.screenToVisual(e,n,l,!1),e=l.x,n=l.y,this.screenToVisual(t,i,l,!1),(t=l.x)<e&&(O=e,e=t,t=O),(i=l.y)<n&&(O=n,n=i,i=O),this._width=t-e,this._height=i-n,this.set_anchorX(0!=this._width?-e/this._width:0),this.set_anchorY(0!=this._height?-n/this._height:0),this.screenToVisual(f,C,l,!1),this.set_x(l.x-this._width*this.anchorX),this.set_y(l.y-this._height*this.anchorY),this.matrixDirty=!0,null!=this.children)for(s=0,r=this.children.length;s<r;){var v,h=s++;if((v=this.children[h]).matrixDirty=!0,null!=v.children)for(var m=0,w=v.children.length;m<w;){o=m++;v.children[o].set_matrixDirty(!0)}}}},bindToNativeScreenSize:function(){var t=this;ke.app.screen.reverseMatrix.onChange(this,$bind(this,this._bindToNativeScreenSizeCallback)),ke.app.onPreUpdate(this,function(e){var n;t.get_width()==Z.app.screenWidth&&t.get_height()==Z.app.screenHeight||(n=Z.app.screenHeight,t.set_width(Z.app.screenWidth),t.set_height(n))}),this._bindToNativeScreenSizeCallback()},_bindToNativeScreenSizeCallback:function(){null==this.transform&&this.set_transform(new n);(e=this.transform).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0;var e=this.transform,t=Z.app.screenDensity,i=Z.app.screenDensity,e=(e.a*=t,e.b*=i,e.c*=t,e.d*=i,e.tx*=t,e.ty*=i,e.changedDirty=!0,this.transform),t=ke.app.screen.reverseMatrix,i=e.a*t.a+e.b*t.c,i=(e.b=e.a*t.b+e.b*t.d,e.a=i,e.c*t.a+e.d*t.c),i=(e.d=e.c*t.b+e.d*t.d,e.c=i,e.tx*t.a+e.ty*t.c+t.tx),t=(e.ty=e.tx*t.b+e.ty*t.d+t.ty,e.tx=i,e.changedDirty=!0,this.transform.changedDirty=!0,Z.app.screenHeight);this.set_width(Z.app.screenWidth),this.set_height(t)},bindToScreenSize:function(e){null==e&&(e=1);var n=this;ke.app.screen.onResize(this,function(){n._bindToScreenSizeCallback(e)}),this._bindToScreenSizeCallback(e)},_bindToScreenSizeCallback:function(e){var n=ke.app.screen.height*e;this.set_width(ke.app.screen.width*e),this.set_height(n)},bindToTargetSize:function(){ke.app.screen.onResize(this,$bind(this,this._bindToTargetSizeCallback)),this._bindToTargetSizeCallback()},_bindToTargetSizeCallback:function(){var e=ke.app.screen.height;this.set_width(ke.app.screen.width),this.set_height(e)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offPointerDown(),this.offPointerUp(),this.offPointerOver(),this.offPointerOut(),this.offFocus(),this.offBlur()},__class__:q,__properties__:$extend(j.prototype.__properties__,{set_isHitVisual:"set_isHitVisual",get_isHitVisual:"get_isHitVisual",set_active:"set_active",get_active:"get_active",set_shader:"set_shader",set_transform:"set_transform",set_translateY:"set_translateY",get_translateY:"get_translateY",set_translateX:"set_translateX",get_translateX:"get_translateX",set_alpha:"set_alpha",set_rotation:"set_rotation",set_roundTranslation:"set_roundTranslation",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_anchorY:"set_anchorY",set_anchorX:"set_anchorX",set_skewY:"set_skewY",set_skewX:"set_skewX",set_scaleY:"set_scaleY",set_scaleX:"set_scaleX",set_y:"set_y",set_x:"set_x",set_depthRange:"set_depthRange",set_depth:"set_depth",set_touchable:"set_touchable",set_visible:"set_visible",set_blending:"set_blending",set_renderTarget:"set_renderTarget",set_clipDirty:"set_clipDirty",set_touchableDirty:"set_touchableDirty",set_visibilityDirty:"set_visibilityDirty",set_renderTargetDirty:"set_renderTargetDirty",set_matrixDirty:"set_matrixDirty",set_contentDirty:"set_contentDirty",set_inheritAlpha:"set_inheritAlpha",set_clip:"set_clip",get_isPointerOver:"get_isPointerOver",get_isPointerDown:"get_isPointerDown"})}),(E["ceramic.Quad"]=r).__name__="ceramic.Quad",r.__super__=q,r.prototype=$extend(q.prototype,{color:null,get_transparent:function(){return 16==(16&this.flags)},set_transparent:function(e){return this.flags=e?16|this.flags:-17&this.flags,e},tile:null,set_tile:function(e){var n;return this.tile!=e&&(null==(this.tile=e)?this._texture!=(n=null)&&this._set_texture(n):(this._texture!=e.texture&&(n=e.texture,this._texture!=n)&&this._set_texture(n),this.frameX=e.frameX+e.edgeInset,this.frameY=e.frameY+e.edgeInset,n=e.frameWidth-2*e.edgeInset,this.frameWidth!=n&&-1!=(this.frameWidth=n)&&this.set_width(n),n=e.frameHeight-2*e.edgeInset,this.frameHeight!=n&&-1!=(this.frameHeight=n)&&this.set_height(n),this.set_width(e.frameWidth),this.set_height(e.frameHeight),n=e.rotateFrame,this.flags=n?32|this.flags:-33&this.flags)),e},get_texture:function(){return this._texture},set_texture:function(e){return this._texture!=e&&this._set_texture(e),e},_texture:null,_set_texture:function(e){var n;null!=this._texture&&(this._texture.offDestroy($bind(this,this.textureDestroyed)),null!=this._texture.asset)&&this._texture.asset.release(),null==(this._texture=e)?(this.frameX=-1,(this.frameY=-1)!=this.frameWidth&&(this.frameWidth=-1),-1!=this.frameHeight&&(this.frameHeight=-1)):(n=null!=this.tile?(this.frameX=this.tile.frameX,this.frameY=this.tile.frameY,n=this.tile.frameWidth,this.frameWidth!=n&&-1!=(this.frameWidth=n)&&this.set_width(n),this.tile.frameHeight):(this.frameX=0,this.frameY=0,n=e.width,this.frameWidth!=n&&-1!=(this.frameWidth=n)&&this.set_width(n),e.height),this.frameHeight!=n&&-1!=(this.frameHeight=n)&&this.set_height(n),e.onDestroy(this,$bind(this,this.textureDestroyed)),null!=e.asset&&e.asset.retain())},frameX:null,frameY:null,frameWidth:null,set_frameWidth:function(e){return this.frameWidth!=e&&-1!=(this.frameWidth=e)&&this.set_width(e),e},frameHeight:null,set_frameHeight:function(e){return this.frameHeight!=e&&-1!=(this.frameHeight=e)&&this.set_height(e),e},get_rotateFrame:function(){return 32==(32&this.flags)},set_rotateFrame:function(e){return this.flags=e?32|this.flags:-33&this.flags,e},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this._texture&&this._set_texture(null),this._lifecycleState=-1,q.prototype.destroy.call(this))},frame:function(e,n,t,i){this.frameX=e,this.frameY=n,this.frameWidth!=t&&-1!=(this.frameWidth=t)&&this.set_width(t),this.frameHeight!=i&&-1!=(this.frameHeight=i)&&this.set_height(i)},isRegular:function(){this.matrixDirty&&this.computeMatrix();var e=this.get_width(),n=this.get_height();return this.matC*n==0&&this.matB*e==0&&this.matC*n==0&&this.matB*e==0},computeMatrix:function(){null!=this.parent&&this.parent.matrixDirty&&this.parent.computeMatrix();var e,t,i,l,s=r._matrix,h=(s.a=1,s.b=0,s.c=0,s.d=1,s.tx=0,s.ty=0,s.changedDirty=!0,this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1),this.get_width()),a=this.get_height();this.translatesOnly?(q._matrix.tx+=this.x-this.anchorX*h,q._matrix.ty+=this.y-this.anchorY*a):((s=q._matrix).tx+=-this.anchorX*h,s.ty+=-this.anchorY*a,s.changedDirty=!0,1==this.scaleX&&1==this.scaleY||(h=this.scaleX,a=this.scaleY,(s=q._matrix).a*=h,s.b*=a,s.c*=h,s.d*=a,s.tx*=h,s.ty*=a,s.changedDirty=!0),0==this.skewX&&0==this.skewY||(s=q._matrix,h=.017453292519943295*this.skewX,a=.017453292519943295*this.skewY,(e=n._tmp).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0,e=Math.cos(a),a=Math.sin(a),t=-Math.sin(h),h=Math.cos(h),n._tmp.a=+e+-0*a,n._tmp.b=0*e+ +a,n._tmp.c=t+-0*h,n._tmp.d=0*t+ +h,t=s.a*(e=n._tmp).a+s.b*e.c,s.b=s.a*e.b+s.b*e.d,s.a=t,i=s.c*e.a+s.d*e.c,s.d=s.c*e.b+s.d*e.d,s.c=i,l=s.tx*e.a+s.ty*e.c+e.tx,s.ty=s.tx*e.b+s.ty*e.d+e.ty,s.tx=l,s.changedDirty=!0),0!=this.rotation&&(s=q._matrix,a=.017453292519943295*this.rotation,h=Math.cos(a),e=Math.sin(a),t=s.a*h-s.b*e,s.b=s.a*e+s.b*h,s.a=t,i=s.c*h-s.d*e,s.d=s.c*e+s.d*h,s.c=i,l=s.tx*h-s.ty*e,s.ty=s.tx*e+s.ty*h,s.tx=l,s.changedDirty=!0),(s=q._matrix).tx+=this.x,s.ty+=this.y,s.changedDirty=!0),null!=this.transform&&(t=q._matrix.a*this.transform.a+q._matrix.b*this.transform.c,q._matrix.b=q._matrix.a*this.transform.b+q._matrix.b*this.transform.d,q._matrix.a=t,i=q._matrix.c*this.transform.a+q._matrix.d*this.transform.c,q._matrix.d=q._matrix.c*this.transform.b+q._matrix.d*this.transform.d,q._matrix.c=i,l=q._matrix.tx*this.transform.a+q._matrix.ty*this.transform.c+this.transform.tx,q._matrix.ty=q._matrix.tx*this.transform.b+q._matrix.ty*this.transform.d+this.transform.ty,q._matrix.tx=l),null!=this.parent&&null==this.renderTarget&&(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD?(q._matrix.tx+=this.parent.matTX,q._matrix.ty+=this.parent.matTY):(l=(this.translatesOnly&&null==this.transform?(q._matrix.a=this.parent.matA,q._matrix.b=this.parent.matB,q._matrix.c=this.parent.matC,q._matrix.d=this.parent.matD):(t=q._matrix.a*this.parent.matA+q._matrix.b*this.parent.matC,q._matrix.b=q._matrix.a*this.parent.matB+q._matrix.b*this.parent.matD,q._matrix.a=t,i=q._matrix.c*this.parent.matA+q._matrix.d*this.parent.matC,q._matrix.d=q._matrix.c*this.parent.matB+q._matrix.d*this.parent.matD,q._matrix.c=i),q._matrix.tx*this.parent.matA+q._matrix.ty*this.parent.matC+this.parent.matTX),q._matrix.ty=q._matrix.tx*this.parent.matB+q._matrix.ty*this.parent.matD+this.parent.matTY,q._matrix.tx=l)),this.matA=q._matrix.a,this.matB=q._matrix.b,this.matC=q._matrix.c,this.matD=q._matrix.d,this.matTX=q._matrix.tx,this.matTY=q._matrix.ty,0<this.roundTranslation&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},textureDestroyed:function(e){null!=this._texture&&this._set_texture(null),this.set_tile(null)},__class__:r,__properties__:$extend(q.prototype.__properties__,{set_rotateFrame:"set_rotateFrame",get_rotateFrame:"get_rotateFrame",set_frameHeight:"set_frameHeight",set_frameWidth:"set_frameWidth",set_texture:"set_texture",get_texture:"get_texture",set_tile:"set_tile",set_transparent:"set_transparent",get_transparent:"get_transparent"})}),(E["ceramic.Layer"]=s).__name__="ceramic.Layer",s.__super__=r,s.prototype=$extend(r.prototype,{__cbOnResize:null,__cbOnceResize:null,__cbOnOwnerUnbindResize:null,__cbOnceOwnerUnbindResize:null,emitResize:function(e,n){this.willEmitResize(e,n);var t=0;if(null!=this.__cbOnResize&&(t+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(t+=this.__cbOnceResize.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnResize)for(var r=0,h=this.__cbOnResize.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnResize[a],++s):--t}if(null!=this.__cbOnceResize){for(var o=null,c=null,r=0,h=this.__cbOnceResize.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceResize[a],this.__cbOnceResize[a]=null,u=this.__cbOnceOwnerUnbindResize[a],(this.__cbOnceOwnerUnbindResize[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindResize[a]),c.push(this.__cbOnceResize[a]))}this.__cbOnceOwnerUnbindResize=o,this.__cbOnceResize=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}this.didEmitResize(e,n)},onResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(t)},onceResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(t)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindResize[n])&&s(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindResize[n])&&s(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindResize[l])&&s()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindResize[l])&&s()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&0<this.__cbOnResize.length||null!=this.__cbOnceResize&&0<this.__cbOnceResize.length},sizeDirty:null,emitResizeIfNeeded:function(){this._lifecycleState<0||!this.sizeDirty||(this.sizeDirty=!1,this.emitResize(this.get_width(),this.get_height()))},willEmitResize:function(e,n){},didEmitResize:function(e,n){},set_width:function(e){return this._width==e||(r.prototype.set_width.call(this,e),this.sizeDirty)||(this.sizeDirty=!0,ke.app._onceImmediate($bind(this,this.emitResizeIfNeeded))),e},set_height:function(e){return this._height==e||(r.prototype.set_height.call(this,e),this.sizeDirty)||(this.sizeDirty=!0,ke.app._onceImmediate($bind(this,this.emitResizeIfNeeded))),e},unbindEvents:function(){r.prototype.unbindEvents.call(this),this.offResize()},__class__:s}),(E["ceramic.Preloadable"]=t).__name__="ceramic.Preloadable",t.__isInterface__=!0,t.prototype={requestPreloadUpdate:null,__class__:t},(E["tracker.Observable"]=u).__name__="tracker.Observable",u.__isInterface__=!0,(E["ceramic.Scene"]=v).__name__="ceramic.Scene",v.__interfaces__=[t,u],v.__super__=s,v.prototype=$extend(s.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,_assets:null,_assetsProgress:null,_assetsTotal:null,_assetsFailure:null,__cbOnReplace:null,__cbOnceReplace:null,__cbOnOwnerUnbindReplace:null,__cbOnceOwnerUnbindReplace:null,emitReplace:function(e){var n=0;if(null!=this.__cbOnReplace&&(n+=this.__cbOnReplace.length),null!=this.__cbOnceReplace&&(n+=this.__cbOnceReplace.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnReplace)for(var s=0,r=this.__cbOnReplace.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnReplace[h],++l):--n}if(null!=this.__cbOnceReplace){for(var a=null,o=null,s=0,r=this.__cbOnceReplace.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceReplace[h],this.__cbOnceReplace[h]=null,c=this.__cbOnceOwnerUnbindReplace[h],(this.__cbOnceOwnerUnbindReplace[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindReplace[h]),o.push(this.__cbOnceReplace[h]))}this.__cbOnceOwnerUnbindReplace=a,this.__cbOnceReplace=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onReplace:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event replace because owner is destroyed!");var l=function(e){null!=t&&(i.offReplace(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplace&&(this.__cbOnOwnerUnbindReplace=[]),this.__cbOnOwnerUnbindReplace.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplace&&(this.__cbOnOwnerUnbindReplace=[]),this.__cbOnOwnerUnbindReplace.push(null);null==this.__cbOnReplace&&(this.__cbOnReplace=[]),this.__cbOnReplace.push(t)},onceReplace:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event replace because owner is destroyed!");var l=function(e){null!=t&&(i.offReplace(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplace&&(this.__cbOnceOwnerUnbindReplace=[]),this.__cbOnceOwnerUnbindReplace.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplace&&(this.__cbOnceOwnerUnbindReplace=[]),this.__cbOnceOwnerUnbindReplace.push(null);null==this.__cbOnceReplace&&(this.__cbOnceReplace=[]),this.__cbOnceReplace.push(t)},offReplace:function(e){if(null!=e){var n;null!=this.__cbOnReplace&&-1!=(n=this.__cbOnReplace.indexOf(e))&&(this.__cbOnReplace.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplace[n])&&s(),this.__cbOnOwnerUnbindReplace.splice(n,1)),null!=this.__cbOnceReplace&&-1!=(n=this.__cbOnceReplace.indexOf(e))&&(this.__cbOnceReplace.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplace[n])&&s(),this.__cbOnceOwnerUnbindReplace.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplace){for(var t=0,i=this.__cbOnOwnerUnbindReplace.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplace[l])&&s()}this.__cbOnOwnerUnbindReplace=null}if(null!=this.__cbOnceOwnerUnbindReplace){for(t=0,i=this.__cbOnceOwnerUnbindReplace.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReplace[l])&&s()}this.__cbOnceOwnerUnbindReplace=null}this.__cbOnReplace=null,this.__cbOnceReplace=null}},listensReplace:function(){return null!=this.__cbOnReplace&&0<this.__cbOnReplace.length||null!=this.__cbOnceReplace&&0<this.__cbOnceReplace.length},statusAutoruns:null,get_status:function(){var e,n,t=this.unobservedStatus;return null!=w.current&&(e=w.current,null!=(n=this.statusAutoruns)||(n=w.getAutorunArray(),null!=(this.statusAutoruns=n)))&&e.bindToAutorunArray(n),t},set_status:function(e){var n=this.unobservedStatus;return n!=(this.unobservedStatus=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n),null!=(n=this.statusAutoruns))&&(this.statusAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateStatus:function(){var e=this.unobservedStatus,e=(this.emitStatusChange(e,e),this.statusAutoruns);null!=e&&(this.statusAutoruns=null,w.invalidateAutorunArray(e))},unobservedStatus:null,__cbOnStatusChange:null,__cbOnceStatusChange:null,__cbOnOwnerUnbindStatusChange:null,__cbOnceOwnerUnbindStatusChange:null,emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnStatusChange)for(var r=0,h=this.__cbOnStatusChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnStatusChange[a],++s):--t}if(null!=this.__cbOnceStatusChange){for(var o=null,c=null,r=0,h=this.__cbOnceStatusChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceStatusChange[a],this.__cbOnceStatusChange[a]=null,u=this.__cbOnceOwnerUnbindStatusChange[a],(this.__cbOnceOwnerUnbindStatusChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindStatusChange[a]),c.push(this.__cbOnceStatusChange[a]))}this.__cbOnceOwnerUnbindStatusChange=o,this.__cbOnceStatusChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(t)},onceStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(t)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStatusChange[n])&&s(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStatusChange[n])&&s(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStatusChange[l])&&s()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStatusChange[l])&&s()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&0<this.__cbOnStatusChange.length||null!=this.__cbOnceStatusChange&&0<this.__cbOnceStatusChange.length},get_assets:function(){var i=this;return null==this._assets&&0<=this._lifecycleState&&(this._assets=new tn,this._assets.loadMethod=1,this._assets.scheduleMethod=1,this._assets.delayBetweenXAssets=4,this._assets.onProgress(this,function(e,n,t){i._assetsProgress=e,i._assetsTotal=n}),this._assets.onceComplete(this,function(e){e||(i._assetsFailure=!0)})),this._assets},set_assets:function(e){return this._assets=e},isRootScene:null,autoUpdate:null,autoUpdateWhenInactive:null,paused:null,_boot:function(){var e,n;0!=this.get_status()?(e=ke.app.logger,n=this.get_status(),e.warning("Scene already booted! (status: "+(null==n?"null":Mt.toString(n))+")",{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:151,className:"ceramic.Scene",methodName:"_boot"})):(this.set_status(1),this.preload(),this.set_status(2),null!=this._assets&&this._assets.hasAnythingToLoad()?(this._assets.onceComplete(this,$bind(this,this._handleAssetsComplete)),this._assets.load(!1,{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:162,className:"ceramic.Scene",methodName:"_boot"})):this.load($bind(this,this.internalCreate)))},internalCreate:function(){this.set_status(3);try{this.create(),this.fadeIn($bind(this,this._fadeInDone))}catch(e){zl.lastError=e;var n=ct.caught(e).unwrap();Wn.handleUncaughtError(n)}},_fadeInDone:function(){},_handleAssetsComplete:function(e){e?ke.app._onceImmediateWithOwner(this,$bind(this,this.internalLoad)):ke.app.logger.error("Failed to load all scene assets!",{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:196,className:"ceramic.Scene",methodName:"_handleAssetsComplete"})},internalLoad:function(){this.load($bind(this,this.internalCreate))},willEmitResize:function(e,n){this.resize(e,n)},preload:function(){},load:function(e){0<=this._lifecycleState&&e()},create:function(){},ready:function(){},update:function(e){},resize:function(e,n){},_fadeIn:function(e){e()},_fadeOut:function(e){e()},fadeIn:function(e){var n=this;this.set_status(4),this._fadeIn(function(){n.set_status(5),0<=n._lifecycleState&&(n.ready(),e())})},fadeOut:function(e){var n=this;this.set_status(6),this._fadeOut(function(){n.set_status(7),0<=n._lifecycleState&&e()})},isReady:function(){switch(this.get_status()){case 0:case 1:case 2:case 3:case 4:return!1;case 5:return!0;case 6:case 7:return!1}},scheduleOnceReady:function(t,i){var l=this;if(this._lifecycleState<0)return ke.app.logger.warning("Cannot schedule callback on destroyed scene",{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:363,className:"ceramic.Scene",methodName:"scheduleOnceReady"}),!1;switch(this.get_status()){case 0:case 1:case 2:case 3:case 4:return this.onceStatusChange(t,function(e,n){l.scheduleOnceReady(t,i)}),!0;case 5:return i(),!0;case 6:case 7:var e=ke.app.logger,n=this.get_status();return e.warning("Cannot schedule callback on scene with status: "+(null==n?"null":Mt.toString(n)),{fileName:"../../../../ceramic/runtime/src/ceramic/Scene.hx",lineNumber:380,className:"ceramic.Scene",methodName:"scheduleOnceReady"}),!1}},requestPreloadUpdate:function(e){var n=1<=this._assetsTotal?this._assetsTotal:1;if(this._assetsFailure)e(this._assetsProgress,n,-1);else switch(this.get_status()){case 0:e(0,0,0);break;case 1:case 2:e(this._assetsProgress,n,1);break;case 3:e(n,n,1);break;case 4:case 5:case 6:case 7:e(n,n,2)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,he.remove(Et.get_shared().all,this),null!=this._assets&&(this._assets.destroy(),this._assets=null),this._lifecycleState=-1,s.prototype.destroy.call(this))},unbindEvents:function(){s.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange(),this.offReplace()},__class__:v,__properties__:$extend(s.prototype.__properties__,{set_assets:"set_assets",get_assets:"get_assets",set_status:"set_status",get_status:"get_status"})}),function(){var e=new te;e.h[ln.RAPTOR_PRO.WALK]=!0,this.shouldLoop=e,v.call(this)}),ot=((E.SpineRaptor=x).__name__="SpineRaptor",x.__super__=v,x.prototype=$extend(v.prototype,{spine:null,animationList:null,shouldLoop:null,preload:function(){this.get_assets()._add(ln.RAPTOR_PRO,null,null)},create:function(){this.spine=new jt,this.spine.set_spineData(ii.spine(this.get_assets(),ln.RAPTOR_PRO));for(var e=this.spine,n=.85*ke.app.screen.height,t=(e.set_x(.5*ke.app.screen.width),e.set_y(n),this.spine.set_animation(ln.RAPTOR_PRO.WALK),this.spine.set_loop(Object.prototype.hasOwnProperty.call(this.shouldLoop.h,this.spine.animation)),this.spine.set_skeletonScale(.33),this.add(this.spine),this.animationList=[],0),i=this.spine.spineData.skeletonData.animations;t<i.length;){var l=i[t];++t,this.animationList.push(l.name)}this.animationList.sort(L.compare)},update:function(e){var n=200,n=(K._begin("Spine",null,n=null==n?200:n,-60001,{fileName:"../../../src/SpineRaptor.hx",lineNumber:50,className:"SpineRaptor",methodName:"update"}),this.animationList),t=n.indexOf(this.spine.animation),i=!1;K._select("Animation",function(e){return null!=e?t=e:t},n,null)&&(null==(n=n[t])&&null!=n||this.spine.set_animation(n),i=!0,K._markChanged()),i&&this.spine.set_loop(Object.prototype.hasOwnProperty.call(this.shouldLoop.h,this.spine.animation)),K.end()},__class__:x}),function(){}),A=((E.Std=ot).__name__="Std",ot.string=function(e){return ws.__string_rec(e,"")},ot.parseInt=function(e){e=parseInt(e);return isNaN(e)?null:e},(E.StringBuf=y).__name__="StringBuf",y.prototype={b:null,__class__:y},(E.StringTools=z).__name__="StringTools",z.htmlEscape=function(e,n){for(var t="",i=0,l=e;i<l.length;){var s=i++,r=(e=l).charCodeAt(s),h=(r=55296<=r&&r<=56319?r-55232<<10|1023&e.charCodeAt(1+s):r,65536<=r&&++i,r);switch(h){case 34:t+=n?"&quot;":String.fromCodePoint(h);break;case 38:t+="&amp;";break;case 39:t+=n?"&#039;":String.fromCodePoint(h);break;case 60:t+="&lt;";break;case 62:t+="&gt;";break;default:t+=String.fromCodePoint(h)}}return t},z.startsWith=function(e,n){return e.length>=n.length&&0==e.lastIndexOf(n,0)},z.endsWith=function(e,n){var t=n.length,i=e.length;return t<=i&&e.indexOf(n,i-t)==i-t},z.isSpace=function(e,n){e=he.cca(e,n);return 8<e&&e<14||32==e},z.ltrim=function(e){for(var n=e.length,t=0;t<n&&z.isSpace(e,t);)++t;return 0<t?he.substr(e,t,n-t):e},z.rtrim=function(e){for(var n=e.length,t=0;t<n&&z.isSpace(e,n-t-1);)++t;return 0<t?he.substr(e,0,n-t):e},z.trim=function(e){return z.ltrim(z.rtrim(e))},z.replace=function(e,n,t){return e.split(n).join(t)},z.hex=function(e,n){for(var t="";t="0123456789ABCDEF".charAt(15&e)+t,0<(e>>>=4););if(null!=n)for(;t.length<n;)t="0"+t;return t},en.ValueType={__ename__:"ValueType",__constructs__:null,TNull:{_hx_name:"TNull",_hx_index:0,__enum__:"ValueType",toString:c},TInt:{_hx_name:"TInt",_hx_index:1,__enum__:"ValueType",toString:c},TFloat:{_hx_name:"TFloat",_hx_index:2,__enum__:"ValueType",toString:c},TBool:{_hx_name:"TBool",_hx_index:3,__enum__:"ValueType",toString:c},TObject:{_hx_name:"TObject",_hx_index:4,__enum__:"ValueType",toString:c},TFunction:{_hx_name:"TFunction",_hx_index:5,__enum__:"ValueType",toString:c},TClass:((U=function(e){return{_hx_index:6,c:e,__enum__:"ValueType",toString:c}})._hx_name="TClass",U.__params__=["c"],U),TEnum:((U=function(e){return{_hx_index:7,e:e,__enum__:"ValueType",toString:c}})._hx_name="TEnum",U.__params__=["e"],U),TUnknown:{_hx_name:"TUnknown",_hx_index:8,__enum__:"ValueType",toString:c}}),nn=(A.__constructs__=[A.TNull,A.TInt,A.TFloat,A.TBool,A.TObject,A.TFunction,A.TClass,A.TEnum,A.TUnknown],(E.Type=B).__name__="Type",B.createInstance=function(e,n){return new(Function.prototype.bind.apply(e,[null].concat(n)))},B.createEnum=function(e,n,t){var i=L.field(e,n);if(null==i)throw ct.thrown("No such constructor "+n);if(L.isFunction(i)){if(null==t)throw ct.thrown("Constructor "+n+" need parameters");return i.apply(e,t)}if(null!=t&&0!=t.length)throw ct.thrown("Constructor "+n+" does not need parameters");return i},B.getInstanceFields=function(e){var n,t=[];for(n in e.prototype)t.push(n);return he.remove(t,"__class__"),he.remove(t,"__properties__"),t},B.typeof=function(e){switch(typeof e){case"boolean":return A.TBool;case"function":return e.__name__||e.__ename__?A.TObject:A.TFunction;case"number":return Math.ceil(e)==e%2147483648?A.TInt:A.TFloat;case"object":var n;return null==e?A.TNull:null!=(n=e.__enum__)?A.TEnum(en[n]):null!=(n=ws.getClass(e))?A.TClass(n):A.TObject;case"string":return A.TClass(String);case"undefined":return A.TNull;default:return A.TUnknown}},B.enumParameters=function(e){var n=en[e.__enum__].__constructs__[e._hx_index].__params__;if(null==n)return[];for(var t=[],i=0;i<n.length;){var l=n[i];++i,t.push(e[l])}return t},{}),tn=(nn.toString=function(e){switch(e){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}},(E.Xml=D).__name__="Xml",D.parse=function(e){return vs.parse(e)},D.createElement=function(e){var n=new D(D.Element);if(n.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":nn.toString(n.nodeType)));return n.nodeName=e,n},D.createPCData=function(e){var n=new D(D.PCData);if(n.nodeType==D.Document||n.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":nn.toString(n.nodeType)));return n.nodeValue=e,n},D.createCData=function(e){var n=new D(D.CData);if(n.nodeType==D.Document||n.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":nn.toString(n.nodeType)));return n.nodeValue=e,n},D.createComment=function(e){var n=new D(D.Comment);if(n.nodeType==D.Document||n.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":nn.toString(n.nodeType)));return n.nodeValue=e,n},D.createDocType=function(e){var n=new D(D.DocType);if(n.nodeType==D.Document||n.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":nn.toString(n.nodeType)));return n.nodeValue=e,n},D.createProcessingInstruction=function(e){var n=new D(D.ProcessingInstruction);if(n.nodeType==D.Document||n.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":nn.toString(n.nodeType)));return n.nodeValue=e,n},D.createDocument=function(){return new D(D.Document)},D.prototype={nodeType:null,nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,get:function(e){if(this.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":nn.toString(this.nodeType)));return this.attributeMap.h[e]},set:function(e,n){if(this.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":nn.toString(this.nodeType)));this.attributeMap.h[e]=n},exists:function(e){if(this.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":nn.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,e)},attributes:function(){if(this.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":nn.toString(this.nodeType)));return new Jl(this.attributeMap.h)},elements:function(){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":nn.toString(this.nodeType)));for(var e=[],n=0,t=this.children;n<t.length;){var i=t[n];++n,i.nodeType==D.Element&&e.push(i)}return new rs(e)},elementsNamed:function(e){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":nn.toString(this.nodeType)));for(var n=[],t=0,i=this.children;t<i.length;){var l,s=i[t];if(++t,s.nodeType==D.Element){if(s.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":nn.toString(s.nodeType)));l=s.nodeName==e}else l=!1;l&&n.push(s)}return new rs(n)},firstElement:function(){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":nn.toString(this.nodeType)));for(var e=0,n=this.children;e<n.length;){var t=n[e];if(++e,t.nodeType==D.Element)return t}return null},addChild:function(e){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":nn.toString(this.nodeType)));null!=e.parent&&e.parent.removeChild(e),this.children.push(e),e.parent=this},removeChild:function(e){if(this.nodeType!=D.Document&&this.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":nn.toString(this.nodeType)));return!!he.remove(this.children,e)&&!(e.parent=null)},toString:function(){return ms.print(this)},__class__:D},function(){this.hotReload=!1,this.pendingAtlasPackers=null,this.atlasPacker=null,this.parent=null,this.reloadOnTextureDensityChange=!0,this.delayBetweenXAssets=-1,this.scheduleMethod=1,this.loadMethod=2,this.defaultImageOptions=null,this.runtimeAssets=null,this.immediate=new Jn,this.assetsByKindAndName=new te,this.addedAssets=[],j.call(this),tn.instances.push(this)}),ln=((E["ceramic.Assets"]=tn).__name__="ceramic.Assets",tn.flushAllInstancesImmediate=function(){for(var e=tn.instances.length,n=0,t=e;n<t;){var i=n++;tn._instances[i]=tn.instances[i]}for(n=0,t=e;n<t;){var i=n++,l=tn._instances[i];tn._instances[i]=null,0<=l._lifecycleState&&l.immediate.flush()}},tn.decodePath=function(e){return new pn(e)},tn.addAssetKind=function(e,n,t,i,l){var s=tn.customAssetKinds,n=new Ln(e,n,t,i,l);s.h[e]=n},tn.getAssetsPath=function(){return xt.getAssetsPath()},tn.assetNameFromPath=function(e){for(var n=tn.allByName.h,t=Object.keys(n),i=t.length,l=0;l<i;)for(var s=t[l++],r=tn.allByName.h[s],h=0,a=r.length;h<a;)if(r[h++]==e)return s;return null},tn.realAssetPath=function(e,n){return null!=n?null!=n.path?Dt.join([n.path,e]):e:e},tn.incrementReloadCount=function(e){e=Dt.normalize(e),null==tn.reloadCountByRealAssetPath&&(tn.reloadCountByRealAssetPath=new te),Object.prototype.hasOwnProperty.call(tn.reloadCountByRealAssetPath.h,e)?tn.reloadCountByRealAssetPath.h[e]+=1:tn.reloadCountByRealAssetPath.h[e]=1},tn.getReloadCount=function(e){return e=Dt.normalize(e),null!=tn.reloadCountByRealAssetPath&&Object.prototype.hasOwnProperty.call(tn.reloadCountByRealAssetPath.h,e)?tn.reloadCountByRealAssetPath.h[e]:0},tn.__super__=j,tn.prototype=$extend(j.prototype,{__cbOnComplete:null,__cbOnceComplete:null,__cbOnOwnerUnbindComplete:null,__cbOnceOwnerUnbindComplete:null,emitComplete:function(e){var n=0;if(null!=this.__cbOnComplete&&(n+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(n+=this.__cbOnceComplete.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnComplete)for(var s=0,r=this.__cbOnComplete.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnComplete[h],++l):--n}if(null!=this.__cbOnceComplete){for(var a=null,o=null,s=0,r=this.__cbOnceComplete.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceComplete[h],this.__cbOnceComplete[h]=null,c=this.__cbOnceOwnerUnbindComplete[h],(this.__cbOnceOwnerUnbindComplete[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindComplete[h]),o.push(this.__cbOnceComplete[h]))}this.__cbOnceOwnerUnbindComplete=a,this.__cbOnceComplete=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(t)},onceComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(t)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(s=this.__cbOnOwnerUnbindComplete[n])&&s(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindComplete[n])&&s(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindComplete[l])&&s()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindComplete[l])&&s()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&0<this.__cbOnComplete.length||null!=this.__cbOnceComplete&&0<this.__cbOnceComplete.length},__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnProgress:null,__cbOnceProgress:null,__cbOnOwnerUnbindProgress:null,__cbOnceOwnerUnbindProgress:null,emitProgress:function(e,n,t){var i=0;if(null!=this.__cbOnProgress&&(i+=this.__cbOnProgress.length),null!=this.__cbOnceProgress&&(i+=this.__cbOnceProgress.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnProgress)for(var h=0,a=this.__cbOnProgress.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnProgress[o],++r):--i}if(null!=this.__cbOnceProgress){for(var c=null,u=null,h=0,a=this.__cbOnceProgress.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceProgress[o],this.__cbOnceProgress[o]=null,_=this.__cbOnceOwnerUnbindProgress[o],(this.__cbOnceOwnerUnbindProgress[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindProgress[o]),u.push(this.__cbOnceProgress[o]))}this.__cbOnceOwnerUnbindProgress=c,this.__cbOnceProgress=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onProgress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event progress because owner is destroyed!");var l=function(e){null!=t&&(i.offProgress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindProgress&&(this.__cbOnOwnerUnbindProgress=[]),this.__cbOnOwnerUnbindProgress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindProgress&&(this.__cbOnOwnerUnbindProgress=[]),this.__cbOnOwnerUnbindProgress.push(null);null==this.__cbOnProgress&&(this.__cbOnProgress=[]),this.__cbOnProgress.push(t)},onceProgress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event progress because owner is destroyed!");var l=function(e){null!=t&&(i.offProgress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindProgress&&(this.__cbOnceOwnerUnbindProgress=[]),this.__cbOnceOwnerUnbindProgress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindProgress&&(this.__cbOnceOwnerUnbindProgress=[]),this.__cbOnceOwnerUnbindProgress.push(null);null==this.__cbOnceProgress&&(this.__cbOnceProgress=[]),this.__cbOnceProgress.push(t)},offProgress:function(e){if(null!=e){var n;null!=this.__cbOnProgress&&-1!=(n=this.__cbOnProgress.indexOf(e))&&(this.__cbOnProgress.splice(n,1),null!=(s=this.__cbOnOwnerUnbindProgress[n])&&s(),this.__cbOnOwnerUnbindProgress.splice(n,1)),null!=this.__cbOnceProgress&&-1!=(n=this.__cbOnceProgress.indexOf(e))&&(this.__cbOnceProgress.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindProgress[n])&&s(),this.__cbOnceOwnerUnbindProgress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindProgress){for(var t=0,i=this.__cbOnOwnerUnbindProgress.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindProgress[l])&&s()}this.__cbOnOwnerUnbindProgress=null}if(null!=this.__cbOnceOwnerUnbindProgress){for(t=0,i=this.__cbOnceOwnerUnbindProgress.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindProgress[l])&&s()}this.__cbOnceOwnerUnbindProgress=null}this.__cbOnProgress=null,this.__cbOnceProgress=null}},listensProgress:function(){return null!=this.__cbOnProgress&&0<this.__cbOnProgress.length||null!=this.__cbOnceProgress&&0<this.__cbOnceProgress.length},__cbOnAssetFilesChange:null,__cbOnceAssetFilesChange:null,__cbOnOwnerUnbindAssetFilesChange:null,__cbOnceOwnerUnbindAssetFilesChange:null,emitAssetFilesChange:function(e,n){var t=0;if(null!=this.__cbOnAssetFilesChange&&(t+=this.__cbOnAssetFilesChange.length),null!=this.__cbOnceAssetFilesChange&&(t+=this.__cbOnceAssetFilesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnAssetFilesChange)for(var r=0,h=this.__cbOnAssetFilesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnAssetFilesChange[a],++s):--t}if(null!=this.__cbOnceAssetFilesChange){for(var o=null,c=null,r=0,h=this.__cbOnceAssetFilesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceAssetFilesChange[a],this.__cbOnceAssetFilesChange[a]=null,u=this.__cbOnceOwnerUnbindAssetFilesChange[a],(this.__cbOnceOwnerUnbindAssetFilesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindAssetFilesChange[a]),c.push(this.__cbOnceAssetFilesChange[a]))}this.__cbOnceOwnerUnbindAssetFilesChange=o,this.__cbOnceAssetFilesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onAssetFilesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event assetFilesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAssetFilesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAssetFilesChange&&(this.__cbOnOwnerUnbindAssetFilesChange=[]),this.__cbOnOwnerUnbindAssetFilesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAssetFilesChange&&(this.__cbOnOwnerUnbindAssetFilesChange=[]),this.__cbOnOwnerUnbindAssetFilesChange.push(null);null==this.__cbOnAssetFilesChange&&(this.__cbOnAssetFilesChange=[]),this.__cbOnAssetFilesChange.push(t)},onceAssetFilesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event assetFilesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAssetFilesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAssetFilesChange&&(this.__cbOnceOwnerUnbindAssetFilesChange=[]),this.__cbOnceOwnerUnbindAssetFilesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAssetFilesChange&&(this.__cbOnceOwnerUnbindAssetFilesChange=[]),this.__cbOnceOwnerUnbindAssetFilesChange.push(null);null==this.__cbOnceAssetFilesChange&&(this.__cbOnceAssetFilesChange=[]),this.__cbOnceAssetFilesChange.push(t)},offAssetFilesChange:function(e){if(null!=e){var n;null!=this.__cbOnAssetFilesChange&&-1!=(n=this.__cbOnAssetFilesChange.indexOf(e))&&(this.__cbOnAssetFilesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAssetFilesChange[n])&&s(),this.__cbOnOwnerUnbindAssetFilesChange.splice(n,1)),null!=this.__cbOnceAssetFilesChange&&-1!=(n=this.__cbOnceAssetFilesChange.indexOf(e))&&(this.__cbOnceAssetFilesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAssetFilesChange[n])&&s(),this.__cbOnceOwnerUnbindAssetFilesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAssetFilesChange){for(var t=0,i=this.__cbOnOwnerUnbindAssetFilesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAssetFilesChange[l])&&s()}this.__cbOnOwnerUnbindAssetFilesChange=null}if(null!=this.__cbOnceOwnerUnbindAssetFilesChange){for(t=0,i=this.__cbOnceOwnerUnbindAssetFilesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindAssetFilesChange[l])&&s()}this.__cbOnceOwnerUnbindAssetFilesChange=null}this.__cbOnAssetFilesChange=null,this.__cbOnceAssetFilesChange=null}},listensAssetFilesChange:function(){return null!=this.__cbOnAssetFilesChange&&0<this.__cbOnAssetFilesChange.length||null!=this.__cbOnceAssetFilesChange&&0<this.__cbOnceAssetFilesChange.length},addedAssets:null,assetsByKindAndName:null,immediate:null,runtimeAssets:null,defaultImageOptions:null,loadMethod:null,scheduleMethod:null,delayBetweenXAssets:null,reloadOnTextureDensityChange:null,parent:null,atlasPacker:null,pendingAtlasPackers:null,destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),he.remove(tn.instances,this);for(var e,n=0,t=[].concat(this.addedAssets);n<t.length;){var i=t[n];++n,i.offDestroy($bind(this,this.assetDestroyed)),i.destroy()}if(this.addedAssets=null,(this.assetsByKindAndName=null)!=this.atlasPacker&&(e=this.atlasPacker,this.atlasPacker=null,e.destroy()),null!=this.pendingAtlasPackers)for(var l=this.pendingAtlasPackers,n=(this.pendingAtlasPackers=null,0),t=l.length;n<t;)l[n++].destroy()}},flush:function(){for(var e=0,n=[].concat(this.addedAssets);e<n.length;){var t=n[e];++e,0==t.refCount&&t.destroy()}},hasAsset:function(e){return-1!=this.addedAssets.indexOf(e)},_add:function(e,n,t){var i="string"==typeof e?e:L.field(e,"_id"),l=i.indexOf(":");if(-1==l)throw ct.thrown("Assets: invalid asset id: "+e);var s=he.substr(i,0,l),r=he.substr(i,l+1,null);switch(s){case"atlas":this.addAtlas(r,n,t);break;case"binary":this.addBinary(r,n,t);break;case"database":this.addDatabase(r,n,t);break;case"font":this.addFont(r,n,t);break;case"fragments":this.addFragments(r,n,t);break;case"image":this.addImage(r,n,t);break;case"shader":this.addShader(r,n,t);break;case"sound":this.addSound(r,n,t);break;case"text":this.addText(r,n,t);break;default:if(!Object.prototype.hasOwnProperty.call(tn.customAssetKinds.h,s))throw ct.thrown("Assets: invalid asset kind ("+s+") for id: "+e);tn.customAssetKinds.h[s].add(this,r,n,t)}},addAll:function(e){ke.app.backend.info;for(var n,t,i=["png","jpg","jpeg"],l=["txt","json","fnt","atlas"],s=(null!=on._soundExtensions||(on._soundExtensions=[],f=new Audio,d=null!=qe.navigator?qe.navigator.userAgent:"",t=on.RE_OPERA.match(d)&&parseInt(on.RE_OPERA.matched(0).split("/")[1],10)<33,n=-1!=d.indexOf("Safari")&&-1==d.indexOf("Chrome"),d=on.RE_SAFARI_VERSION.match(d),n&&d&&parseInt(on.RE_SAFARI_VERSION.matched(1),10),null!=(n=f.canPlayType('audio/ogg; codecs="vorbis"'))&&"no"!=n&&""!=n&&on._soundExtensions.push("ogg"),d=f.canPlayType("audio/mpeg;"),n=f.canPlayType("audio/mp3;"),!t&&(null!=d&&"no"!=d&&""!=d||null!=n&&"no"!=n&&""!=n)&&on._soundExtensions.push("mp3"),t=f.canPlayType("audio/x-flac;"),d=f.canPlayType("audio/flac;"),(null!=t&&"no"!=t&&""!=t||null!=d&&"no"!=d&&""!=d)&&on._soundExtensions.push("flac"),n=f.canPlayType('audio/wav; codecs="1"'),t=f.canPlayType("audio/wav;"),(null!=n&&"no"!=n&&""!=n||null!=t&&"no"!=t&&""!=t)&&on._soundExtensions.push("wav")),[].concat(on._soundExtensions)),r=["frag","vert"],h=["fnt","ttf","otf"],a=["atlas"],o=["csv"],c=["fragments"],u=[],_=[],d=tn.customAssetKinds.h,E=d,b=Object.keys(d),R=b.length,g=0;g<R;){var O=E[b[g++]];u.push(O.extensions),_.push(O.add)}for(var f=tn.allByName,V=d=(f=null!=this.runtimeAssets?this.runtimeAssets.getLists().allByName:f).h,p=Object.keys(d),L=p.length,C=0;C<L;){var v=p[C++],m=v,w=V[v];if(null!=e){for(var y=!1,U=0,H=w.length;U<H;){var N=U++;if(e.match(w[N])){y=!0;break}}if(!y)continue}for(var D=Dt.extension(w[0]),T=!1,x=0,W=i.length;x<W;)if(i[x++]==D){this.addImage(m),T=!0;break}if(!T)for(var S=0,z=s.length;S<z;)if(s[S++]==D){this.addSound(m),T=!0;break}if(!T)for(var A=0,Y=r.length;A<Y;)if(r[A++]==D){this.addShader(m),T=!0;break}if(!T)for(var k=0,G=h.length;k<G;)if(h[k++]==D){this.addFont(m),T=!0;break}if(!T)for(var I=0,X=a.length;I<X;)if(a[I++]==D){this.addAtlas(m),T=!0;break}if(!T)for(var P=0,K=o.length;P<K;)if(o[P++]==D){this.addDatabase(m),T=!0;break}if(!T)for(var F=0,q=c.length;F<q;)if(c[F++]==D){this.addFragments(m),T=!0;break}if(!T)for(var B=0,$=u.length;B<$;){for(var M=B++,j=u[M],Q=0,Z=j.length;Q<Z;)if(j[Q++]==D){(0,_[M])(this,null,m,null),T=!0;break}if(T)break}if(!T)for(var J=0,ee=l.length;J<ee;)if(l[J++]==D){this.addText(m),T=!0;break}}},addImage:function(e,n,t){z.startsWith(e,"image:")&&(e=he.substr(e,6,null)),this.addAsset(new Zn(e,n,t))},addFont:function(e,n,t){z.startsWith(e,"font:")&&(e=he.substr(e,5,null)),this.addAsset(new qn(e,n,t))},addAtlas:function(e,n,t){z.startsWith(e,"atlas:")&&(e=he.substr(e,6,null)),this.addAsset(new vn(e,n,t))},addText:function(e,n,t){z.startsWith(e,"text:")&&(e=he.substr(e,5,null)),this.addAsset(new oi(e,n,t))},addBinary:function(e,n,t){z.startsWith(e,"binary:")&&(e=he.substr(e,7,null)),this.addAsset(new yn(e,n,t))},addSound:function(e,n,t){z.startsWith(e,"sound:")&&(e=he.substr(e,6,null)),this.addAsset(new $t(e,n,t))},addDatabase:function(e,n,t){z.startsWith(e,"database:")&&(e=he.substr(e,9,null)),this.addAsset(new Hn(e,n,t))},addFragments:function(e,n,t){z.startsWith(e,"fragments:")&&(e=he.substr(e,10,null)),this.addAsset(new $n(e,n,t))},addShader:function(e,n,t){z.startsWith(e,"shader:")&&(e=he.substr(e,7,null)),this.addAsset(new Yt(e,n,t))},addAsset:function(e){Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,e.kind)||(t=this.assetsByKindAndName,i=e.kind,n=new te,t.h[i]=n);var n,t=this.assetsByKindAndName.h[e.kind],i=(e instanceof Zn&&(e.defaultImageOptions=this.defaultImageOptions),t.h[e.fullName]);if(null!=i){if(i==e)return ke.app.logger.warning("Cannot add asset "+ot.string(e)+" because it is already added for name: "+e.fullName+".",{fileName:"../../../../ceramic/runtime/src/ceramic/Assets.hx",lineNumber:540,className:"ceramic.Assets",methodName:"addAsset"}),i;ke.app.logger.info("Replace "+ot.string(i)+" with "+ot.string(e),{fileName:"../../../../ceramic/runtime/src/ceramic/Assets.hx",lineNumber:537,className:"ceramic.Assets",methodName:"addAsset"}),this.removeAsset(i)}return e.onDestroy(this,$bind(this,this.assetDestroyed)),null!=(t.h[e.fullName]=e).owner&&e.owner!=this&&e.owner.removeAsset(e),this.addedAssets.push(e),e.owner=this,e.set_runtimeAssets(this.runtimeAssets),e.set_hotReload(this.hotReload),i},assetDestroyed:function(e){for(var n=null,t=0,i=this.addedAssets;t<i.length;){var l=i[t];++t,l._lifecycleState<0&&(n=null==n?[]:n).push(l)}if(null!=n)for(t=0;t<n.length;){l=n[t];++t,this.removeAsset(l)}},imageAsset:function(e,n){return this.asset(e,"image",n)},fontAsset:function(e,n){return this.asset(e,"font",n)},atlasAsset:function(e,n){return this.asset(e,"atlas",n)},textAsset:function(e,n){return this.asset(e,"text",n)},soundAsset:function(e,n){return this.asset(e,"sound",n)},databaseAsset:function(e,n){return this.asset(e,"database",n)},fragmentsAsset:function(e,n){return this.asset(e,"fragments",n)},asset:function(e,n,t){var i="string"==typeof e?e:L.field(e,"_id"),l=i.indexOf(":"),s=i;return-1!=l&&(s=i.substring(l+1),n=i.substring(0,l)),null!=t&&(s+=":"+t),null==n||null==(i=this.assetsByKindAndName.h[n])||null==(l=i.h[s])?null!=this.parent?this.parent.asset(e,n,t):null:l},removeAsset:function(e){e.offDestroy($bind(this,this.assetDestroyed));var n=this.assetsByKindAndName.h[e.kind],t=n.h[e.fullName];if(e!=t)throw ct.thrown("Cannot remove asset "+ot.string(e)+" if it was not added at the first place (existing: "+ot.string(t)+").");he.remove(this.addedAssets,e);t=e.fullName;Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t],e.owner=null},moveAll:function(e){for(var n=[].concat(this.addedAssets),t=0,i=n.length;t<i;){var l=n[t++];this.removeAsset(l),e.addAsset(l)}},hasAnythingToLoad:function(){for(var e=0,n=this.addedAssets.length;e<n;){var t=e++;if(this.addedAssets[t].get_status()==Cn.NONE)return!0}return!1},countAssetsWithStatus:function(e){for(var n=0,t=(this.addedAssets,0),i=this.addedAssets.length;t<i;){var l=t++;this.addedAssets[l].get_status()==e&&++n}return n},load:function(e,t){null==e&&(e=!0);for(var i=this,l=0,s=0,r=!0,n=[].concat(this.addedAssets),h=0;h<n.length;){var a=[n[h]];++h,a[0].get_status()==Cn.NONE&&(a[0].onceComplete(this,function(n){return function(e){e||(r=!1,ke.app.logger.error("Failed to load asset "+n[0].name+" ("+ot.string(n[0])+")",t)),--s,i.emitProgress(l-s,l,r),0==s&&i._prepareComplete(r)}}(a)),s+=1,l+=1)}if(0<s){if(2==this.scheduleMethod){for(var o=[],h=0;h<n.length;){var c=n[h];++h,c.get_status()==Cn.NONE&&o.push(c)}this._loadNextSerial(o,0)}else if(0<this.delayBetweenXAssets){for(o=[],h=0;h<n.length;){c=n[h];++h,c.get_status()==Cn.NONE&&o.push(c)}this._loadNextParallel(o,0)}else for(h=0;h<n.length;){c=n[h];++h,c.get_status()==Cn.NONE&&c.load()}this.immediate.flush()}else e&&ke.app.logger.warning("There was no asset to load.",t),this._prepareComplete(!0)},_prepareComplete:function(e){var n=this;null!=this.pendingAtlasPackers&&0<this.pendingAtlasPackers.length?this._packNextAtlasPacker(function(){n._prepareComplete(e)}):this.emitComplete(!0)},_packNextAtlasPacker:function(n){this.pendingAtlasPackers.shift().pack(function(e){n()})},addPendingAtlasPacker:function(e){null==this.pendingAtlasPackers&&(this.pendingAtlasPackers=[]),-1==this.pendingAtlasPackers.indexOf(e)&&this.pendingAtlasPackers.push(e)},_loadNextSerial:function(n,t){var i=this,e=n.shift();e.get_status()==Cn.NONE?(e.load(),e.onceComplete(this,function(e){i._assetCompleteSerial(e,n,t)})):0<n.length&&this._loadNextSerial(n,t)},_assetCompleteSerial:function(e,n,t){var i=this;t+=1,0<n.length&&(0<this.delayBetweenXAssets&&0<t&&t%this.delayBetweenXAssets==0?ke.app.onceXUpdates(this,2,function(){i._loadNextSerial(n,t)}):this._loadNextSerial(n,t))},_loadNextParallel:function(e,n){var t=this;0<e.length&&(1<(n+=1)&&n%this.delayBetweenXAssets==0?ke.app.onceXUpdates(this,2,function(){e.shift().load(),t._loadNextParallel(e,n)}):(e.shift().load(),this._loadNextParallel(e,n)))},ensure:function(e,n,t,i){var l=this.asset(e,null,n),s=null;null==(s=null==l?(this._add(e,n,t),this.asset(e,null,n)):l)?i(null):s.get_status()==Cn.READY?i(s):s.get_status()==Cn.LOADING||s.get_status()==Cn.NONE?(s.onceComplete(null,function(e){i(e?s:null)}),s.get_status()==Cn.NONE&&this.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/Assets.hx",lineNumber:941,className:"ceramic.Assets",methodName:"ensure"})):i(null)},ensureImage:function(e,n,t,i){z.startsWith(e,"image:")||(e="image:"+e),this.ensure(e,n,t,function(e){i(e instanceof Zn?e:null)})},ensureFont:function(e,n,t,i){z.startsWith(e,"font:")||(e="font:"+e),this.ensure(e,n,t,function(e){i(e instanceof qn?e:null)})},ensureAtlas:function(e,n,t,i){z.startsWith(e,"atlas:")||(e="atlas:"+e),this.ensure(e,n,t,function(e){i(e instanceof vn?e:null)})},ensureText:function(e,n,t,i){z.startsWith(e,"text:")||(e="text:"+e),this.ensure(e,n,t,function(e){i(e instanceof oi?e:null)})},ensureSound:function(e,n,t,i){z.startsWith(e,"sound:")||(e="sound:"+e),this.ensure(e,n,t,function(e){i(e instanceof $t?e:null)})},ensureDatabase:function(e,n,t,i){z.startsWith(e,"database:")||(e="database:"+e),this.ensure(e,n,t,function(e){i(e instanceof Hn?e:null)})},texture:function(e,n){var t=e;return z.startsWith(t,"image:")&&(t=he.substr(t,6,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"image")||null==(t=this.assetsByKindAndName.h.image.h[t])?null!=this.parent?this.parent.texture(e,n):null:t.get_texture()},font:function(e,n){var t=e;return z.startsWith(t,"font:")&&(t=he.substr(t,5,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"font")||null==(t=this.assetsByKindAndName.h.font.h[t])?null!=this.parent?this.parent.font(e,n):null:t.get_font()},atlas:function(e,n){var t=e;return z.startsWith(t,"atlas:")&&(t=he.substr(t,6,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"atlas")||null==(t=this.assetsByKindAndName.h.atlas.h[t])?null!=this.parent?this.parent.atlas(e,n):null:t.get_atlas()},sound:function(e,n){var t=e;return z.startsWith(t,"sound:")&&(t=he.substr(t,6,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"sound")||null==(t=this.assetsByKindAndName.h.sound.h[t])?null!=this.parent?this.parent.sound(e,n):null:t.get_sound()},text:function(e,n){var t=e;return z.startsWith(t,"text:")&&(t=he.substr(t,5,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"text")||null==(t=this.assetsByKindAndName.h.text.h[t])?null!=this.parent?this.parent.text(e,n):null:t.get_text()},bytes:function(e,n){var t=e;return z.startsWith(t,"binary:")&&(t=he.substr(t,7,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"binary")||null==(t=this.assetsByKindAndName.h.binary.h[t])?null!=this.parent?this.parent.bytes(e,n):null:t.get_bytes()},_shaderFromClass:function(e){var e=e.__name__.split("."),n=(n=e.pop()).charAt(0).toLowerCase()+he.substr(n,1,null),e=0<e.length?e.join("_")+"_"+n:n;return this._shader("shader:"+e,null)},_shader:function(e,n){var t=e;return z.startsWith(t,"shader:")&&(t=he.substr(t,7,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"shader")||null==(t=this.assetsByKindAndName.h.shader.h[t])?null!=this.parent?this.parent._shader(e,n):null:t.get_shader()},database:function(e,n){var t=e;return z.startsWith(t,"database:")&&(t=he.substr(t,9,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"database")||null==(t=this.assetsByKindAndName.h.database.h[t])?null!=this.parent?this.parent.database(e,n):null:t.get_database()},fragments:function(e,n){var t=e;return z.startsWith(t,"fragments:")&&(t=he.substr(t,10,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"fragments")||null==(t=this.assetsByKindAndName.h.fragments.h[t])?null!=this.parent?this.parent.fragments(e,n):null:t.get_fragments()},iterator:function(){for(var e=[],n=this.assetsByKindAndName.h,t=n,i=Object.keys(n),l=i.length,s=0;s<l;)for(var r=n=t[i[s++]].h,h=Object.keys(n),a=h.length,o=0;o<a;){var c=r[h[o++]];e.push(c)}return new rs(e)},hotReload:null,set_hotReload:function(e){if(this.hotReload!=e){this.hotReload=e;for(var n=0,t=this.addedAssets;n<t.length;){var i=t[n];++n,i.set_hotReload(e)}}return e},watchDirectory:function(d,e){null==e&&(e=!0);var b=this;if(null!=this.runtimeAssets)throw ct.thrown("There is already an instance of RuntimeAssets assigned. Cannot watch a directory, which also need its own instance");if(null==d)throw ct.thrown("Cannot watch directory when using web target! (unless using electron runner and `ceramic_use_electron` define)");null==this.defaultImageOptions&&(this.defaultImageOptions={}),this.defaultImageOptions.premultiplyAlpha=!0,e&&this.set_hotReload(e),this.runtimeAssets=Bt.fromPath(d);var n=new Bi;return n.watchDirectory(d),n.onDirectoryChange(this,function(e,n,t){if(null==b.runtimeAssets?ke.app.logger.warning("Missing instance of RuntimeAssets when watched directory changed (path: "+d+")",{fileName:"../../../../ceramic/runtime/src/ceramic/Assets.hx",lineNumber:1307,className:"ceramic.Assets",methodName:"watchDirectory"}):b.runtimeAssets.reset(Xn.getFlatDirectory(d),d),null==tn.lastModifiedByRealAssetPath){tn.lastModifiedByRealAssetPath=new te;for(var i=o=t.h,l=(c=Object.keys(o)).length,s=0;s<l;){var r=_=c[s++],h=i[_],a=tn.realAssetPath(r,b.runtimeAssets);tn.lastModifiedByRealAssetPath.h[a]=h}}for(var o,c,u=new te,i=o=n.h,l=(c=Object.keys(o)).length,s=0;s<l;){var _,r=_=c[s++],h=i[_],a=tn.realAssetPath(r,b.runtimeAssets);u.h[a]=h,Object.prototype.hasOwnProperty.call(tn.lastModifiedByRealAssetPath.h,a)&&h!=tn.lastModifiedByRealAssetPath.h[a]&&tn.incrementReloadCount(a)}tn.lastModifiedByRealAssetPath=u,b.emitAssetFilesChange(n,t)}),this.onDestroy(n,function(e){n.destroy()}),n},inheritRuntimeAssetsFromAssets:function(e){this.runtimeAssets=e.runtimeAssets,this.defaultImageOptions=e.defaultImageOptions},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offComplete(),this.offUpdate(),this.offProgress(),this.offAssetFilesChange()},__class__:tn,__properties__:$extend(j.prototype.__properties__,{set_hotReload:"set_hotReload"})}),(E["assets.AllAssets"]=F).__name__="assets.AllAssets",F.bind=function(){tn.all=F.all,tn.allDirs=F.allDirs,tn.allDirsByName=F.allDirsByName,tn.allByName=F.allByName},(E["assets.Spines_RAPTOR_PRO"]=G).__name__="assets.Spines_RAPTOR_PRO",G.prototype={GUN_HOLSTER:null,WALK:null,ROAR:null,JUMP:null,_id:null,GUN_GRAB:null,__class__:G},function(){}),sn=((E["assets.Spines"]=ln).__name__="assets.Spines",(E["spec.Audio"]=I).__name__="spec.Audio",I.__isInterface__=!0,I.prototype={load:null,createFromSamplesBuffer:null,supportsHotReloadPath:null,getDuration:null,resumeAudioContext:null,destroy:null,mute:null,play:null,pause:null,resume:null,stop:null,getVolume:null,setVolume:null,getPan:null,setPan:null,getPitch:null,setPitch:null,getPosition:null,setPosition:null,addFilter:null,removeFilter:null,filterParamsChanged:null,__class__:I},(E["backend.Audio"]=J).__name__="backend.Audio",J.__interfaces__=[I],J._clayFilterCreate=function(e,n){var t;if(t=J.activeBusFilters.length>e&&null!=(t=J.activeBusFilters[e])&&t,J.activeBusFilters[e]=!0,!t&&J.busFilterReadyCallbacks.length>e&&0<J.busFilterReadyCallbacks[e].length){for(var i=[];0<J.busFilterReadyCallbacks[e].length;)i.push(J.busFilterReadyCallbacks[e].shift());J._notifyCallbacksInMainThread(i)}},J._notifyCallbacksInMainThread=function(i){Ft.runInMain(function(){for(var e=0,n=i.length;e<n;){var t=e++;(0,i[t])()}})},J._clayFilterDestroy=function(e,n){J.activeBusFilters[e]=!1},J.prototype={load:function(o,e,n){function hL(e){function qL(){n(e),n=null}null!=s?s.push(qL):ke.app._onceImmediate(qL)}var t,i,c=this,l=null!=e&&2==e.loadMethod,s=null!=e?e.immediate:null,e=null!=e&&1==e.stream,r=z.startsWith(o,"http://")||z.startsWith(o,"https://");Dt.isAbsolute(o)||r||(o=Dt.join([ke.app.settings.assetsPath,o])),Object.prototype.hasOwnProperty.call(this.loadedAudioResources.h,o)?(this.loadedAudioRetainCount.h[o]+=1,t=this.loadedAudioResources.h[o],hL(t)):Object.prototype.hasOwnProperty.call(this.loadingAudioCallbacks.h,o)?this.loadingAudioCallbacks.h[o].push(function(e){var n;null!=e&&(n=Object.prototype.hasOwnProperty.call(c.loadedAudioRetainCount.h,o)?c.loadedAudioRetainCount.h[o]:0,c.loadedAudioRetainCount.h[o]=n+1),hL(e)}):(t=o,r||-1!=(i=t.indexOf("?"))&&(t=he.substr(t,0,i)),this.loadingAudioCallbacks.h[o]=[function(e){var n;null!=e&&(n=Object.prototype.hasOwnProperty.call(c.loadedAudioRetainCount.h,o)?c.loadedAudioRetainCount.h[o]:0,c.loadedAudioRetainCount.h[o]=n+1),hL(e)}],i=r?t:Z.app.assets.fullPath(t),Z.app.audio.loadData(i,e,null,!l,function(e){if(null==e)for(var n=c.loadingAudioCallbacks.h[o],t=c.loadingAudioCallbacks,i=(Object.prototype.hasOwnProperty.call(t.h,o)&&delete t.h[o],0);i<n.length;){var l=n[i];++i;try{l(null)}catch(e){zl.lastError=e;l=[ct.caught(e).unwrap()];ke.app._onceImmediate(function(e){return function(){throw ct.thrown(e[0])}}(l))}}else for(var s=new Gi(Z.app,e),r=(c.loadedAudioResources.h[o]=s,c.loadingAudioCallbacks.h[o]),t=c.loadingAudioCallbacks,h=(Object.prototype.hasOwnProperty.call(t.h,o)&&delete t.h[o],0);h<r.length;){var a=r[h];++h,a(s)}}),null!=s?s.push(Li.flush):ke.app._onceImmediate(Li.flush))},nextSamplesBufferIndex:null,createFromSamplesBuffer:function(e,n,t,i,l){var s="samples:"+this.nextSamplesBufferIndex++,e=Z.app.audio.dataFromPCM(s,e,n,t,i,l);return null!=e?(n=new Gi(Z.app,e),this.loadedAudioResources.h[s]=n,this.loadedAudioRetainCount.h[s]=1,n):null},getDuration:function(e){return e.getDuration()},resumeAudioContext:function(e){var n=Z.app.audio;if(null!=n)try{n.context.resume().then(function(){e(!0)},function(){e(!1)})}catch(e){zl.lastError=e;n=ct.caught(e).unwrap();ke.app.logger.error("Failed to resume audio context: "+ot.string(n),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:242,className:"backend.Audio",methodName:"resumeAudioContext"})}},supportsHotReloadPath:function(){return!0},destroy:function(e){for(var n=null,t=this.loadedAudioResources.h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var h=l[r++];i[h]==e&&(n=h)}null==n?ke.app.logger.error("Failed to destroy audio resource: "+ot.string(e)+" because id could not be resolved",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:284,className:"backend.Audio",methodName:"destroy"}):1<this.loadedAudioRetainCount.h[n]?--this.loadedAudioRetainCount.h[n]:(t=this.loadedAudioResources,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],t=this.loadedAudioRetainCount,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],e.destroy())},mute:function(e){return-1},play:function(e,n,t,i,l,s,r){var h;return null==r&&(r=0),null==l&&(l=0),null==i&&(i=1),null==t&&(t=0),null==n&&(n=.5),Z.app.audio.active?((e=e).data.isStream&&(i=1,t=l=0),h=(s=(h=null)==s?!1:s)?Z.app.audio.loop(e,n,!1,r):Z.app.audio.play(e,n,!1,r),0!=t&&Z.app.audio.pan(h,t),1!=i&&Z.app.audio.pitch(h,i),0!=l&&Z.app.audio.position(h,l),h):-1},pause:function(e){Z.app.audio.active&&null!=e&&-1!=e&&Z.app.audio.pause(e)},resume:function(e){Z.app.audio.active&&null!=e&&-1!=e&&Z.app.audio.unPause(e)},stop:function(e){Z.app.audio.active&&null!=e&&-1!=e&&null!=e&&-1!=e&&Z.app.audio.stop(e)},getVolume:function(e){return!Z.app.audio.active||null==e||-1==e?0:Z.app.audio.volumeOf(e)},setVolume:function(e,n){Z.app.audio.active&&null!=e&&-1!=e&&Z.app.audio.volume(e,n)},getPan:function(e){return!Z.app.audio.active||null==e||-1==e?0:Z.app.audio.panOf(e)},setPan:function(e,n){var t;!Z.app.audio.active||null==e||-1==e||null!=(t=Z.app.audio.instanceOf(e))&&t.source.data.isStream||Z.app.audio.pan(e,n)},getPitch:function(e){return!Z.app.audio.active||null==e||-1==e?1:Z.app.audio.pitchOf(e)},setPitch:function(e,n){var t;!Z.app.audio.active||null==e||-1==e||null!=(t=Z.app.audio.instanceOf(e))&&t.source.data.isStream||Z.app.audio.pitch(e,n)},getPosition:function(e){return!Z.app.audio.active||null==e||-1==e?0:Z.app.audio.positionOf(e)},setPosition:function(e,n){var t;!Z.app.audio.active||null==e||-1==e||null!=(t=Z.app.audio.instanceOf(e))&&t.source.data.isStream||Z.app.audio.position(e,n)},addFilter:function(e,n,t){var i=new Fi(function(){t(e)}),l=i.callback(),i=i.callback(),s=!1,r=J.filterIdsByBus[e],h=(null==r&&(J.filterIdsByBus[e]=r=[],s=!0),n.workletClass()),a=(r.push(new sn(n.filterId,null,null,h,n)),function(){Z.app.audio.addBusFilterWorklet(e,n.filterId,h,function(){l()})});s&&Z.app.audio.createBusFilter("audio-worklets.min.js",e,function(e,n){J._clayFilterCreate(e,n),null!=a&&(e=a,a=null,e())},J._clayFilterDestroy),J.activeBusFilters.length>e&&null!=(r=J.activeBusFilters[e])&&r?i():(null==J.busFilterReadyCallbacks[e]&&(J.busFilterReadyCallbacks[e]=[]),J.busFilterReadyCallbacks[e].push(i))},removeFilter:function(e,n){var t=J.filterIdsByBus[e];if(null!=t){for(var i=-1,l=0,s=t.length;l<s;){var r=l++,h=t[r];if(h.id==n){i=r,0;break}}-1!=i&&t.splice(i,1)}Z.app.audio.destroyBusFilterWorklet(e,n)},filterParamsChanged:function(e,n){var t=J.filterIdsByBus[e];if(null!=t)for(var i=0,l=0,s=t.length;l<s;){var r=t[l++],h=r.filter;if(r.id==n){for(var a=0,o=h.numParams();a<o;){var c=a++;Z.app.audio.setWorkletParameterByIndexWhenReady(e,i,h.params[c]),++i}break}i+=h.numParams()}},loadingAudioCallbacks:null,loadedAudioResources:null,loadedAudioRetainCount:null,__class__:J},function(e,n,t,i,l){this.worklet=null,this.paramsDirty=!0,this.id=e,null!=n&&(this.paramsDirty=n),null!=t&&(this.worklet=t),this.workletClass=i,this.filter=l}),rn=((E["backend.AudioFilterInfo"]=sn).__name__="backend.AudioFilterInfo",sn.prototype={id:null,paramsDirty:null,worklet:null,workletClass:null,filter:null,__class__:sn},(E["spec.Backend"]=N).__name__="spec.Backend",N.__isInterface__=!0,N.prototype={init:null,setTargetFps:null,io:null,info:null,audio:null,draw:null,texts:null,binaries:null,textures:null,screen:null,textInput:null,clipboard:null,__class__:N},(E["backend.Backend"]=O).__name__="backend.Backend",O.__interfaces__=[N,i],O.prototype={io:null,info:null,audio:null,draw:null,texts:null,binaries:null,textures:null,shaders:null,screen:null,input:null,textInput:null,clipboard:null,init:function(e){},setTargetFps:function(e){Z.app.config.updateRate=0<e?1/e:0},__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var l=0,s=this.__cbOnReady.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnReady[r],++i):--e}if(null!=this.__cbOnceReady){for(var h=null,a=null,l=0,s=this.__cbOnceReady.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceReady[r],this.__cbOnceReady[r]=null,o=this.__cbOnceOwnerUnbindReady[r],(this.__cbOnceOwnerUnbindReady[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindReady[r]),a.push(this.__cbOnceReady[r]))}this.__cbOnceOwnerUnbindReady=h,this.__cbOnceReady=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(t)},onceReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(t)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReady[n])&&s(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReady[n])&&s(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReady[l])&&s()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReady[l])&&s()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&0<this.__cbOnReady.length||null!=this.__cbOnceReady&&0<this.__cbOnceReady.length},__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnRender:null,__cbOnceRender:null,__cbOnOwnerUnbindRender:null,__cbOnceOwnerUnbindRender:null,emitRender:function(){var e=0;if(null!=this.__cbOnRender&&(e+=this.__cbOnRender.length),null!=this.__cbOnceRender&&(e+=this.__cbOnceRender.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnRender)for(var l=0,s=this.__cbOnRender.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnRender[r],++i):--e}if(null!=this.__cbOnceRender){for(var h=null,a=null,l=0,s=this.__cbOnceRender.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceRender[r],this.__cbOnceRender[r]=null,o=this.__cbOnceOwnerUnbindRender[r],(this.__cbOnceOwnerUnbindRender[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindRender[r]),a.push(this.__cbOnceRender[r]))}this.__cbOnceOwnerUnbindRender=h,this.__cbOnceRender=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onRender:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event render because owner is destroyed!");var l=function(e){null!=t&&(i.offRender(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindRender&&(this.__cbOnOwnerUnbindRender=[]),this.__cbOnOwnerUnbindRender.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindRender&&(this.__cbOnOwnerUnbindRender=[]),this.__cbOnOwnerUnbindRender.push(null);null==this.__cbOnRender&&(this.__cbOnRender=[]),this.__cbOnRender.push(t)},onceRender:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event render because owner is destroyed!");var l=function(e){null!=t&&(i.offRender(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindRender&&(this.__cbOnceOwnerUnbindRender=[]),this.__cbOnceOwnerUnbindRender.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindRender&&(this.__cbOnceOwnerUnbindRender=[]),this.__cbOnceOwnerUnbindRender.push(null);null==this.__cbOnceRender&&(this.__cbOnceRender=[]),this.__cbOnceRender.push(t)},offRender:function(e){if(null!=e){var n;null!=this.__cbOnRender&&-1!=(n=this.__cbOnRender.indexOf(e))&&(this.__cbOnRender.splice(n,1),null!=(s=this.__cbOnOwnerUnbindRender[n])&&s(),this.__cbOnOwnerUnbindRender.splice(n,1)),null!=this.__cbOnceRender&&-1!=(n=this.__cbOnceRender.indexOf(e))&&(this.__cbOnceRender.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindRender[n])&&s(),this.__cbOnceOwnerUnbindRender.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindRender){for(var t=0,i=this.__cbOnOwnerUnbindRender.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindRender[l])&&s()}this.__cbOnOwnerUnbindRender=null}if(null!=this.__cbOnceOwnerUnbindRender){for(t=0,i=this.__cbOnceOwnerUnbindRender.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindRender[l])&&s()}this.__cbOnceOwnerUnbindRender=null}this.__cbOnRender=null,this.__cbOnceRender=null}},listensRender:function(){return null!=this.__cbOnRender&&0<this.__cbOnRender.length||null!=this.__cbOnceRender&&0<this.__cbOnceRender.length},canRender:function(){return!0},unbindEvents:function(){this.offReady(),this.offUpdate(),this.offRender()},__class__:O},(E["spec.Binaries"]=P).__name__="spec.Binaries",P.__isInterface__=!0,P.prototype={load:null,supportsHotReloadPath:null,__class__:P},function(){this.loadingBinaryCallbacks=new te}),hn=((E["backend.Binaries"]=rn).__name__="backend.Binaries",rn.__interfaces__=[P],rn.prototype={load:function(r,e,n){function wP(e){function CP(){n(e),n=null}null!=l?l.push(CP):ke.app._onceImmediate(CP)}var t,i,h=this,l=null!=e?e.immediate:null,e=z.startsWith(r,"http://")||z.startsWith(r,"https://");Dt.isAbsolute(r)||e||(r=Dt.join([ke.app.settings.assetsPath,r])),Object.prototype.hasOwnProperty.call(this.loadingBinaryCallbacks.h,r)?this.loadingBinaryCallbacks.h[r].push(function(e){wP(e)}):(this.loadingBinaryCallbacks.h[r]=[],t=r,e||-1!=(i=t.indexOf("?"))&&(t=he.substr(t,0,i)),i=e?t:Z.app.assets.fullPath(t),Z.app.io.loadData(i,!0,null,function(e){if(null==e)if(null!=(l=h.loadingBinaryCallbacks.h[r]))for(var n=h.loadingBinaryCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,r)&&delete n.h[r],wP(null),0);t<l.length;){var i=l[t];++t,i(null)}else wP(null);else{var l,s=new is(new Uint8Array(e.buffer));if(null!=(l=h.loadingBinaryCallbacks.h[r]))for(n=h.loadingBinaryCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,r)&&delete n.h[r],wP(s),0);t<l.length;){i=l[t];++t,i(s)}else wP(s)}}),null!=l?l.push(Li.flush):ke.app._onceImmediate(Li.flush))},supportsHotReloadPath:function(){return!0},loadingBinaryCallbacks:null,__class__:rn},(E["clay.Events"]=R).__name__="clay.Events",R.prototype={ready:function(){},tick:function(e){},render:function(){},freeze:function(){},unfreeze:function(){},keyDown:function(e,n,t,i,l,s){},keyUp:function(e,n,t,i,l,s){},text:function(e,n,t,i,l,s){},mouseMove:function(e,n,t,i,l,s){},mouseDown:function(e,n,t,i,l){},mouseUp:function(e,n,t,i,l){},mouseWheel:function(e,n,t,i){},touchDown:function(e,n,t,i,l,s){},touchUp:function(e,n,t,i,l,s){},touchMove:function(e,n,t,i,l,s){},gamepadAxis:function(e,n,t,i){},gamepadDown:function(e,n,t,i){},gamepadUp:function(e,n,t,i){},gamepadGyro:function(e,n,t,i,l){},gamepadDevice:function(e,n,t,i){},windowEvent:function(e,n,t,i,l){},appEvent:function(e){},audioEvent:function(e,n){},__class__:R},(E["backend.ClayEvents"]=S).__name__="backend.ClayEvents",S.__super__=R,S.prototype=$extend(R.prototype,{backend:null,lastDensity:null,lastWidth:null,lastHeight:null,touches:null,touchIndexes:null,mouseDownButtons:null,mouseX:null,mouseY:null,activeGamepads:null,removedGamepads:null,swapAbGamepads:null,swapXyGamepads:null,gamepadAxisToButton:null,gamepadButtonMapping:null,gamepadPressedValues:null,gamepadAxisValues:null,gamepadGyroValues:null,handleReady:null,gamepadsEnabled:null,configureGamepadMapping:function(){},ready:function(){this.backend=ke.app.backend,this.lastDensity=Z.app.screenDensity,this.lastWidth=Z.app.screenWidth,this.lastHeight=Z.app.screenHeight,this.handleReady(),this.backend.emitReady()},tick:function(e){this.triggerResizeIfNeeded(),this.backend.emitUpdate(e)},render:function(){this.backend.emitRender()},triggerResizeIfNeeded:function(){var e=Z.app.screenDensity,n=Z.app.screenWidth,t=Z.app.screenHeight;this.lastDensity==e&&this.lastWidth==n&&this.lastHeight==t||(this.lastDensity=e,this.lastWidth=n,this.lastHeight=t,this.backend.screen.emitResize())},appEvent:function(e){switch(e){case 0:break;case 11:ke.app.emitTerminate();break;case 12:ke.app.emitLowMemory();break;case 13:ke.app.emitBeginEnterBackground();break;case 14:ke.app.emitFinishEnterBackground();break;case 15:ke.app.emitBeginEnterForeground();break;case 16:ke.app.emitFinishEnterForeground()}},mouseDown:function(e,n,t,i,l){this.mouseDownButtons.intMap.h.hasOwnProperty(0|t)&&this.mouseUp(e,n,t,i,l),this.mouseX=e/Z.app.screenDensity,this.mouseY=n/Z.app.screenDensity,this.mouseDownButtons.set(t,1),this.backend.screen.emitMouseDown(t,this.mouseX,this.mouseY)},mouseUp:function(e,n,t,i,l){this.mouseDownButtons.intMap.h.hasOwnProperty(0|t)&&(this.mouseX=e/Z.app.screenDensity,this.mouseY=n/Z.app.screenDensity,this.mouseDownButtons.remove(t),this.backend.screen.emitMouseUp(t,this.mouseX,this.mouseY))},mouseMove:function(e,n,t,i,l,s){this.mouseX=e/Z.app.screenDensity,this.mouseY=n/Z.app.screenDensity,this.backend.screen.emitMouseMove(this.mouseX,this.mouseY)},mouseWheel:function(e,n,t,i){this.backend.screen.emitMouseWheel(e,n)},touchDown:function(e,n,t,i,l,s){for(var r=0;this.touchIndexes.intMap.h.hasOwnProperty(0|r);)++r;this.touches.set(l,r),this.touchIndexes.set(r,l),this.backend.screen.emitTouchDown(r,e*this.lastWidth,n*this.lastHeight)},touchUp:function(e,n,t,i,l,s){this.touches.intMap.h.hasOwnProperty(0|l)||this.touchDown(e,n,t,i,l,s);t=this.touches.intMap.h[0|l],i=null!=t?t:0;this.backend.screen.emitTouchUp(i,e*this.lastWidth,n*this.lastHeight),this.touches.remove(l),this.touchIndexes.remove(i)},touchMove:function(e,n,t,i,l,s){this.touches.intMap.h.hasOwnProperty(0|l)||this.touchDown(e,n,t,i,l,s);t=this.touches.intMap.h[0|l];this.backend.screen.emitTouchMove(null!=t?t:0,e*this.lastWidth,n*this.lastHeight)},keyDown:function(e,n,t,i,l,s){this.backend.input.emitKeyDown(new Ct(e,n)),this.backend.textInput.handleKeyDown(e,n)},keyUp:function(e,n,t,i,l,s){this.backend.input.emitKeyUp(new Ct(e,n)),this.backend.textInput.handleKeyUp(e,n)},_configureGamepad:function(e,n){null!=n&&(-1!=(n=n.toLowerCase()).indexOf(" vendor: 057e ")||z.startsWith(n,"057e-")||-1!=n.indexOf("retroid pocket controller"))?(this.swapAbGamepads.set(e,1),this.swapXyGamepads.set(e,1)):(this.swapAbGamepads.set(e,0),this.swapXyGamepads.set(e,0))},gamepadAxis:function(e,n,t,i){var l,s;this.gamepadsEnabled&&(this.activeGamepads.intMap.h.hasOwnProperty(0|e)||this.removedGamepads.intMap.h.hasOwnProperty(0|e)||(this.activeGamepads.set(e,1),l=Z.app.runtime.getGamepadName(e),this._configureGamepad(e,l),this.backend.input.emitGamepadEnable(e,l)),this.gamepadAxisToButton.intMap.h.hasOwnProperty(0|n)&&(l=null!=(s=this.gamepadAxisToButton.intMap.h[0|n])?s:0,.5<=t?1!=(null!=(s=this.gamepadPressedValues.intMap.h[32*e+l|0])?s:0)&&(this.gamepadPressedValues.set(32*e+l,1),this.backend.input.emitGamepadDown(e,l)):1==(null!=(s=this.gamepadPressedValues.intMap.h[32*e+l|0])?s:0)&&(this.gamepadPressedValues.set(32*e+l,0),this.backend.input.emitGamepadUp(e,l))),l=null!=(s=this.gamepadAxisValues.intMap.h[32*e+n|0])?s:0,s=Math.round(100*t)/100,.01<Math.abs(l-s))&&(this.gamepadAxisValues.set(32*e+n,s),this.backend.input.emitGamepadAxis(e,n,s))},gamepadDown:function(e,n,t,i){if(this.gamepadsEnabled){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var l=0;l<32;){var s=l++;this.gamepadPressedValues.set(32*e+s,0)}var r=Z.app.runtime.getGamepadName(e);this._configureGamepad(e,r),this.backend.input.emitGamepadEnable(e,r)}0!=(n=this.gamepadButtonMapping.intMap.h.hasOwnProperty(0|n)?null!=(t=this.gamepadButtonMapping.intMap.h[0|n])?t:0:n)&&1!=n||0!=(null!=(t=this.swapAbGamepads.intMap.h[0|e])?t:0)&&(n=1==n?0:1),2!=n&&3!=n||0!=(null!=(t=this.swapXyGamepads.intMap.h[0|e])?t:0)&&(n=2==n?3:2),1!=(null!=(t=this.gamepadPressedValues.intMap.h[32*e+n|0])?t:0)&&(this.gamepadPressedValues.set(32*e+n,1),this.backend.input.emitGamepadDown(e,n))}},gamepadUp:function(e,n,t,i){if(this.gamepadsEnabled){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var l=0;l<32;){var s=l++;this.gamepadPressedValues.set(32*e+s,0)}var r=Z.app.runtime.getGamepadName(e);this._configureGamepad(e,r),this.backend.input.emitGamepadEnable(e,r)}0!=(n=this.gamepadButtonMapping.intMap.h.hasOwnProperty(0|n)?null!=(t=this.gamepadButtonMapping.intMap.h[0|n])?t:0:n)&&1!=n||0!=(null!=(t=this.swapAbGamepads.intMap.h[0|e])?t:0)&&(n=1==n?0:1),2!=n&&3!=n||0!=(null!=(t=this.swapXyGamepads.intMap.h[0|e])?t:0)&&(n=2==n?3:2),1==(null!=(t=this.gamepadPressedValues.intMap.h[32*e+n|0])?t:0)&&(this.gamepadPressedValues.set(32*e+n,0),this.backend.input.emitGamepadUp(e,n))}},gamepadGyro:function(e,n,t,i,l){if(this.gamepadsEnabled){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var s=0;s<32;){var r=s++;this.gamepadPressedValues.set(32*e+r,0)}var h=Z.app.runtime.getGamepadName(e);this._configureGamepad(e,h),this.backend.input.emitGamepadEnable(e,h)}h=.23225806451612904;this.backend.input.emitGamepadGyro(e,n*h,t*h,i*h)}},gamepadDevice:function(n,e,t,i){var l=this;if(this.gamepadsEnabled)if(2==t){if(this.activeGamepads.intMap.h.hasOwnProperty(0|n)){for(var s=0;s<32;){var r=s++,h=this.gamepadPressedValues.intMap.h[32*n+r|0];1==(null!=h?h:0)&&(this.backend.input.emitGamepadUp(n,r),this.gamepadPressedValues.set(32*n+r,0))}this.backend.input.emitGamepadDisable(n),this.activeGamepads.remove(n),this.removedGamepads.set(n,1),ke.app.onceUpdate(null,function(e){l.removedGamepads.remove(n)})}}else if(1==t&&!this.activeGamepads.intMap.h.hasOwnProperty(0|n)){this.activeGamepads.set(n,1);for(s=0;s<32;){r=s++;this.gamepadPressedValues.set(32*n+r,0)}this.removedGamepads.remove(n);e=Z.app.runtime.getGamepadName(n);this._configureGamepad(n,e),this.backend.input.emitGamepadEnable(n,e)}},text:function(e,n,t,i,l,s){this.backend.textInput.inputActive&&this.backend.textInput.handleTextInput(e)},windowEvent:function(e,n,t,i,l){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:break;case 15:ke.app.settings.set_fullscreen(!0);break;case 16:ke.app.settings.set_fullscreen(!1)}},__class__:S}),(E["spec.Clipboard"]=T).__name__="spec.Clipboard",T.__isInterface__=!0,T.prototype={getText:null,setText:null,__class__:T},function(){this.didBindBrowserClipboard=!1,this.didLogBrowserClipboardWriteWarning=!1,this.didLogBrowserClipboardReadWarning=!1,this.clipboardText=null}),Q=((E["backend.Clipboard"]=hn).__name__="backend.Clipboard",hn.__interfaces__=[T],hn.prototype={clipboardText:null,didLogBrowserClipboardReadWarning:null,didLogBrowserClipboardWriteWarning:null,didBindBrowserClipboard:null,bindBrowserClipboard:function(){var e=this;this.didBindBrowserClipboard=!0,this.readBrowserClipboard(),window.addEventListener("focus",function(){e.readBrowserClipboard()})},readBrowserClipboard:function(){var n=this,t=qe.navigator;try{t.clipboard.readText().then(function(e){n.clipboardText!=e&&(n.clipboardText=e)})}catch(e){zl.lastError=e;t=ct.caught(e).unwrap();this.didLogBrowserClipboardReadWarning||(this.didLogBrowserClipboardReadWarning=!0,ke.app.logger.warning("Failed to read browser clipboard: "+ot.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Clipboard.hx",lineNumber:107,className:"backend.Clipboard",methodName:"readBrowserClipboard"}))}},writeBrowserClipboard:function(e){var n=qe.navigator;try{n.clipboard.writeText(e).then(function(){})}catch(e){zl.lastError=e;n=ct.caught(e).unwrap();this.didLogBrowserClipboardWriteWarning||(this.didLogBrowserClipboardWriteWarning=!0,ke.app.logger.warning("Failed to write browser clipboard: "+ot.string(n),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Clipboard.hx",lineNumber:133,className:"backend.Clipboard",methodName:"writeBrowserClipboard"}))}},getText:function(){return this.clipboardText},setText:function(e){this.clipboardText=e,this.didBindBrowserClipboard&&this.writeBrowserClipboard(e)},__class__:hn},(E["spec.Draw"]=V).__name__="spec.Draw",V.__isInterface__=!0,V.prototype={draw:null,swap:null,initBuffers:null,beginRender:null,endRender:null,setRenderTarget:null,useShader:null,clear:null,enableBlending:null,disableBlending:null,setBlendFuncSeparate:null,getActiveTexture:null,setActiveTexture:null,textureBackendItemMatchesId:null,getTextureId:null,bindTexture:null,bindNoTexture:null,setPrimitiveType:null,beginDrawQuad:null,endDrawQuad:null,beginDrawMesh:null,endDrawMesh:null,beginDrawingInStencilBuffer:null,endDrawingInStencilBuffer:null,drawWithStencilTest:null,drawWithoutStencilTest:null,enableScissor:null,disableScissor:null,getNumPos:null,putPos:null,putPosAndTextureSlot:null,putIndice:null,putUVs:null,putColor:null,beginFloatAttributes:null,putFloatAttribute:null,endFloatAttributes:null,clearAndApplyBackground:null,getTextureWidth:null,getTextureHeight:null,getTextureWidthActual:null,getTextureHeightActual:null,shouldFlush:null,remainingVertices:null,remainingIndices:null,hasAnythingToFlush:null,flush:null,__class__:V},function(){this.renderer=new It,this.renderer=new It,Q._batcher=new Ji}),an=((E["backend.Draw"]=Q).__name__="backend.Draw",Q.__interfaces__=[V],Q.prototype={renderer:null,get_batcher:function(){return Q._batcher},set_batcher:function(e){return Q._batcher=e},begin:function(){},end:function(){},draw:function(e){this.renderer.render(!0,e)},swap:function(){},initBuffers:function(){Q._activeTextureSlot=0;var e=Q._batcher,e=(e._buffersIndex=-1,e.prepareNextBuffers(),ke.app.defaultWhiteTexture.backendItem);Ji.defaultTextureId=e.textureId},beginRender:function(){Q._batcher;ne.gl.enableVertexAttribArray(0),ne.gl.enableVertexAttribArray(1),ne.gl.enableVertexAttribArray(2)},endRender:function(){},clear:function(){Q._batcher;Z._graphics.clear((Q._whiteTransparentColor>>16&255)/255,(Q._whiteTransparentColor>>8&255)/255,(255&Q._whiteTransparentColor)/255,Q._whiteTransparentColor>>24&255,!1),null!=Q._currentRenderTarget&&(Q._didUpdateCurrentRenderTarget=!0)},clearAndApplyBackground:function(){var e=ke.app.settings.get_background();Q._batcher;Z._graphics.clear((e>>16&255)/255,(e>>8&255)/255,(255&e)/255,1,!1),null!=Q._currentRenderTarget&&(Q._didUpdateCurrentRenderTarget=!0)},enableBlending:function(){Q._batcher,Z._graphics;ne.gl.enable(3042)},disableBlending:function(){Q._batcher,Z._graphics;ne.gl.disable(3042)},setActiveTexture:function(e){Q._activeTextureSlot=e;var n=Q._batcher;if((n=Z._graphics)._activeTextureSlot!=e){for(n._activeTextureSlot=e;n._boundTexture2D.length<=n._activeTextureSlot;)n._boundTexture2D.push(null);ne.gl.activeTexture(33984+e)}},setPrimitiveType:function(e){Q._batcher._primitiveType=1==(2==e?1:0)?1:4},getActiveTexture:function(){return Q._activeTextureSlot},setRenderTarget:function(e,n){var t,i,l,s,r,h,a,o,c,u,_,d,b,g,O,f,p,C,v,m,w,y;null==n&&(n=!1),Q._currentRenderTarget==e&&!n||(null!=Q._currentRenderTarget&&Q._currentRenderTarget!=e&&Q._didUpdateCurrentRenderTarget&&1<(n=Q._currentRenderTarget.backendItem).antialiasing&&(y=Q._batcher,Z._graphics.blitRenderTargetBuffers(n.renderTarget,n.width,n.height)),Q._currentRenderTarget=e,Q._didUpdateCurrentRenderTarget=!0,null!=e?(n=e.backendItem,y=Q._batcher,n=n.renderTarget,y=Z._graphics,null!=n?(y.bindFramebuffer((t=n).framebuffer),y.bindRenderbuffer(t.renderbuffer)):(y.bindFramebuffer(null),y.bindRenderbuffer(null)),O=((s=e.width)+(i=0))/(o=s-i),f=((l=0)+(r=e.height))/(c=l-r),_=((a=-1e3)+(h=1e3))/(u=a-h),(m=Q._projectionMatrix)[0]=2/o,m[4]=0,m[8]=0,m[12]=-O,m[1]=0,m[5]=2/c,m[9]=0,m[13]=-f,m[2]=0,m[6]=0,m[10]=-2/u,m[14]=-_,m[3]=0,m[7]=0,m[11]=0,m[15]=1,(y=Q._renderTargetTransform).a=1,y.b=0,y.c=0,y.d=1,y.tx=0,y.ty=0,y.changedDirty=!0,y=Q._renderTargetTransform,n=e.density,d=e.density,y.a*=n,y.b*=d,y.c*=n,y.d*=d,y.tx*=n,y.ty*=d,y.changedDirty=!0,d=e.density,b=e.width,g=e.height,null==(n=-1)&&(n=1),null!=(w=Q._renderTargetTransform)?((y=Q._modelViewTransform).a=w.a,y.b=w.b,y.c=w.c,y.d=w.d,y.tx=w.tx,y.ty=w.ty,y.changedDirty=!0,0==(p=(y=Q._modelViewTransform).a*y.d-y.b*y.c)?(y.a=y.b=y.c=y.d=0,y.tx=-y.tx,y.ty=-y.ty):(C=y.d*(p=1/p),y.d=y.a*p,y.a=C,y.b*=-p,y.c*=-p,v=-y.a*y.tx-y.c*y.ty,y.ty=-y.b*y.tx-y.d*y.ty,y.tx=v)):((y=Q._modelViewTransform).a=1,y.b=0,y.c=0,y.d=1,y.tx=0,y.ty=0),y.changedDirty=!0,O=Q._modelViewTransform.tx,f=Q._modelViewTransform.ty,(y=Q._modelViewTransform).tx+=-O,y.ty+=-f,y.changedDirty=!0,(y=Q._modelViewTransform).a*=d,y.b*=d,y.c*=d,y.d*=d,y.tx*=d,y.ty*=d,y.changedDirty=!0,(y=Q._modelViewTransform).tx+=O,y.ty+=f,y.changedDirty=!0,-1==n&&((y=Q._modelViewTransform).tx+=.5*-b,y.ty+=.5*-g,y.changedDirty=!0,(y=Q._modelViewTransform).a*=1,y.b*=-1,y.c*=1,y.d*=-1,y.tx*=1,y.ty*=-1,y.changedDirty=!0,(y=Q._modelViewTransform).tx+=.5*b,y.ty+=.5*g,y.changedDirty=!0),0==(p=(y=Q._modelViewTransform).a*y.d-y.b*y.c)?(y.a=y.b=y.c=y.d=0,y.tx=-y.tx,y.ty=-y.ty):(C=y.d*(p=1/p),y.d=y.a*p,y.a=C,y.b*=-p,y.c*=-p,v=-y.a*y.tx-y.c*y.ty,y.ty=-y.b*y.tx-y.d*y.ty,y.tx=v),y.changedDirty=!0,m=Q._modelViewMatrix,w=Q._modelViewTransform,m[0]=w.a,m[4]=w.c,m[8]=0,m[12]=w.tx,m[1]=w.b,m[5]=w.d,m[9]=0,m[13]=w.ty,m[2]=0,m[6]=0,m[10]=1,m[14]=0,m[3]=0,m[7]=0,m[11]=0,m[15]=1,Q._viewportDensity=e.density,Q._viewportWidth=e.width*Q._viewportDensity,Q._viewportHeight=e.height*Q._viewportDensity,y=Q._batcher,y=Z._graphics,ne.gl.viewport(0,0,e.width*e.density|0,e.height*e.density|0),e.clearOnRender&&(y=Q._batcher,Z._graphics.clear((Q._blackTransparentColor>>16&255)/255,(Q._blackTransparentColor>>8&255)/255,(255&Q._blackTransparentColor)/255,(Q._blackTransparentColor>>24&255)/255,!1),Q._didUpdateCurrentRenderTarget=!0)):(y=Q._batcher,y=Z._graphics,(e=null)!=e?(y.bindFramebuffer((t=e).framebuffer),y.bindRenderbuffer(t.renderbuffer)):(y.bindFramebuffer(null),y.bindRenderbuffer(null)),O=((s=Z.app.screenWidth)+(i=0))/(o=s-i),f=((l=0)+(r=Z.app.screenHeight))/(c=l-r),_=((a=-1e3)+(h=1e3))/(u=a-h),(m=Q._projectionMatrix)[0]=2/o,m[4]=0,m[8]=0,m[12]=-O,m[1]=0,m[5]=2/c,m[9]=0,m[13]=-f,m[2]=0,m[6]=0,m[10]=-2/u,m[14]=-_,m[3]=0,m[7]=0,m[11]=0,m[15]=1,d=Z.app.screenDensity,b=Z.app.screenWidth,g=Z.app.screenHeight,null!=(w=ke.app.screen.matrix)?((y=Q._modelViewTransform).a=w.a,y.b=w.b,y.c=w.c,y.d=w.d,y.tx=w.tx,y.ty=w.ty,y.changedDirty=!0,0==(p=(y=Q._modelViewTransform).a*y.d-y.b*y.c)?(y.a=y.b=y.c=y.d=0,y.tx=-y.tx,y.ty=-y.ty):(C=y.d*(p=1/p),y.d=y.a*p,y.a=C,y.b*=-p,y.c*=-p,v=-y.a*y.tx-y.c*y.ty,y.ty=-y.b*y.tx-y.d*y.ty,y.tx=v)):((y=Q._modelViewTransform).a=1,y.b=0,y.c=0,y.d=1,y.tx=0,y.ty=0),y.changedDirty=!0,O=Q._modelViewTransform.tx,f=Q._modelViewTransform.ty,(y=Q._modelViewTransform).tx+=-O,y.ty+=-f,y.changedDirty=!0,(y=Q._modelViewTransform).a*=d,y.b*=d,y.c*=d,y.d*=d,y.tx*=d,y.ty*=d,y.changedDirty=!0,(y=Q._modelViewTransform).tx+=O,y.ty+=f,y.changedDirty=!0,0==(p=(y=Q._modelViewTransform).a*y.d-y.b*y.c)?(y.a=y.b=y.c=y.d=0,y.tx=-y.tx,y.ty=-y.ty):(C=y.d*(p=1/p),y.d=y.a*p,y.a=C,y.b*=-p,y.c*=-p,v=-y.a*y.tx-y.c*y.ty,y.ty=-y.b*y.tx-y.d*y.ty,y.tx=v),y.changedDirty=!0,m=Q._modelViewMatrix,w=Q._modelViewTransform,m[0]=w.a,m[4]=w.c,m[8]=0,m[12]=w.tx,m[1]=w.b,m[5]=w.d,m[9]=0,m[13]=w.ty,m[2]=0,m[6]=0,m[10]=1,m[14]=0,m[3]=0,m[7]=0,m[11]=0,m[15]=1,Q._viewportDensity=Z.app.screenDensity,Q._viewportWidth=Z.app.screenWidth*Q._viewportDensity,Q._viewportHeight=Z.app.screenHeight*Q._viewportDensity,y=Q._batcher,y=Z._graphics,ne.gl.viewport(0,0,0|Q._viewportWidth,0|Q._viewportHeight)))},useShader:function(e){Q._activeShader=e;var n=Q._batcher,n=(Z._graphics.projectionMatrix=Q._projectionMatrix,Q._batcher),t=(Z._graphics.modelViewMatrix=Q._modelViewMatrix,ke.app.backend.shaders),i=0,l=Q._activeShader.customAttributes;if(null!=l)for(var s=0,r=l.length;s<r;)i+=l[s++].size;var h=i,t=t.canBatchWithMultipleTextures(Q._activeShader);Q._batcher._customAttributes=null!=Q._activeShader?Q._activeShader.customAttributes:null,(n=Q._batcher)._floatAttributesSize=h,n._batchMultiTexture=t,n._vertexSize=3+n._floatAttributesSize+(n._batchMultiTexture?1:0),n._posSize=n._vertexSize,n._vertexSize<4&&(n._vertexSize=4),n._maxVerts=0|Math.floor(65536/n._vertexSize),0==n._numPos&&(n._numIndices=0,n._numPos=0,n._numUVs=0,n._numColors=0,n._posIndex=0,n._uvIndex=0,n._colorIndex=0),e.activate()},setBlendFuncSeparate:function(e,n,t,i){Q._batcher,Z._graphics;ne.gl.blendFuncSeparate(e,n,t,i)},beginDrawQuad:function(e){},endDrawQuad:function(){},beginDrawMesh:function(e){},endDrawMesh:function(){},enableScissor:function(e,n,t,i){var l=Q._viewportDensity,s=Q._modelViewTransform,r=(e*s.a+n*s.c+s.tx)*l,h=(e*(s=Q._modelViewTransform).b+n*s.d+s.ty)*l,a=((e+t)*(s=Q._modelViewTransform).a+(n+i)*s.c+s.tx)*l,e=((e+t)*(s=Q._modelViewTransform).b+(n+i)*s.d+s.ty)*l;null!=Q._currentRenderTarget?(s=Q._batcher,n=Q._viewportHeight-h,ne.gl.enable(3089),ne.gl.scissor(Math.round(r),Math.round(n),Math.round(a-r),Math.round(h-e))):(s=Q._batcher,n=Q._viewportHeight-e,ne.gl.enable(3089),ne.gl.scissor(Math.round(r),Math.round(n),Math.round(a-r),Math.round(e-h)))},disableScissor:function(){Q._batcher;ne.gl.disable(3089)},drawWithStencilTest:function(){Q._batcher;ne.gl.stencilFunc(514,1,255),ne.gl.stencilMask(0),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.enable(2960)},drawWithoutStencilTest:function(){Q._batcher;ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.disable(2960)},beginDrawingInStencilBuffer:function(){Q._drawingInStencilBuffer=!0;Q._batcher;ne.gl.stencilMask(255),ne.gl.clearStencil(255),ne.gl.clear(1024),ne.gl.enable(2960),ne.gl.stencilOp(7680,7680,7681),ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!1,!1,!1,!1)},endDrawingInStencilBuffer:function(){Q._drawingInStencilBuffer=!1},bindTexture:function(e){var n=Q._batcher,e=e.textureId;(n=Z._graphics)._boundTexture2D[n._activeTextureSlot]!=e&&(n._boundTexture2D[n._activeTextureSlot]=e,ne.gl.bindTexture(3553,e))},bindNoTexture:function(){var e=Q._batcher,e=Z._graphics,n=Ji.defaultTextureId;e._boundTexture2D[e._activeTextureSlot]!=n&&(e._boundTexture2D[e._activeTextureSlot]=n,ne.gl.bindTexture(3553,n))},textureBackendItemMatchesId:function(e,n){return e.textureId==n},getTextureId:function(e){return e.textureId},getTextureWidth:function(e){return e.width},getTextureHeight:function(e){return e.height},getTextureWidthActual:function(e){return e.widthActual},getTextureHeightActual:function(e){return e.heightActual},updateProjectionMatrix:function(e,n){var t=+e,i=0-n,e=(e+0)/t,n=(0+n)/i,l=Q._projectionMatrix;l[0]=2/t,l[4]=0,l[8]=0,l[12]=-e,l[1]=0,l[5]=2/i,l[9]=0,l[13]=-n,l[2]=0,l[6]=0,l[10]=.001,l[14]=0,l[3]=0,l[7]=0,l[11]=0,l[15]=1},updateViewMatrix:function(e,n,t,i,l){null==l&&(l=1),null!=i?((h=Q._modelViewTransform).a=i.a,h.b=i.b,h.c=i.c,h.d=i.d,h.tx=i.tx,h.ty=i.ty,h.changedDirty=!0,0==(a=(h=Q._modelViewTransform).a*h.d-h.b*h.c)?(h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty):(o=h.d*(a=1/a),h.d=h.a*a,h.a=o,h.b*=-a,h.c*=-a,c=-h.a*h.tx-h.c*h.ty,h.ty=-h.b*h.tx-h.d*h.ty,h.tx=c)):((h=Q._modelViewTransform).a=1,h.b=0,h.c=0,h.d=1,h.tx=0,h.ty=0),h.changedDirty=!0;var s=Q._modelViewTransform.tx,r=Q._modelViewTransform.ty,h=Q._modelViewTransform;h.tx+=-s,h.ty+=-r,h.changedDirty=!0,(h=Q._modelViewTransform).a*=e,h.b*=e,h.c*=e,h.d*=e,h.tx*=e,h.ty*=e,h.changedDirty=!0,(h=Q._modelViewTransform).tx+=s,h.ty+=r,h.changedDirty=!0,-1==l&&((h=Q._modelViewTransform).tx+=.5*-n,h.ty+=.5*-t,h.changedDirty=!0,(h=Q._modelViewTransform).a*=1,h.b*=-1,h.c*=1,h.d*=-1,h.tx*=1,h.ty*=-1,h.changedDirty=!0,(h=Q._modelViewTransform).tx+=.5*n,h.ty+=.5*t,h.changedDirty=!0);0==(a=(h=Q._modelViewTransform).a*h.d-h.b*h.c)?(h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty):(o=h.d*(a=1/a),h.d=h.a*a,h.a=o,h.b*=-a,h.c*=-a,c=-h.a*h.tx-h.c*h.ty,h.ty=-h.b*h.tx-h.d*h.ty,h.tx=c),h.changedDirty=!0;var a,o,c,e=Q._modelViewMatrix,i=Q._modelViewTransform;e[0]=i.a,e[4]=i.c,e[8]=0,e[12]=i.tx,e[1]=i.b,e[5]=i.d,e[9]=0,e[13]=i.ty,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},matrixIdentity:function(e){e[0]=1,e[4]=0,e[8]=0,e[12]=0,e[1]=0,e[5]=1,e[9]=0,e[13]=0,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},setMatrixToTransform:function(e,n){e[0]=n.a,e[4]=n.c,e[8]=0,e[12]=n.tx,e[1]=n.b,e[5]=n.d,e[9]=0,e[13]=n.ty,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},getNumPos:function(){return Q._batcher._numPos},putPos:function(e,n,t){var i=Q._batcher;i._posList[i._posIndex]=e,i._posList[i._posIndex+1]=n,i._posList[i._posIndex+2]=t,i._posIndex+=3,i._numPos++},putPosAndTextureSlot:function(e,n,t,i){var l=Q._batcher;l._posList[l._posIndex]=e,l._posList[l._posIndex+1]=n,l._posList[l._posIndex+2]=t,l._posList[l._posIndex+3]=i,l._posIndex+=4,l._numPos++},beginFloatAttributes:function(){},putFloatAttribute:function(e,n){var t=Q._batcher;t._posList[t._posIndex+e]=n},endFloatAttributes:function(){var e=Q._batcher;e._posIndex+=e._floatAttributesSize},putIndice:function(e){var n=Q._batcher;n._indiceList[n._numIndices]=e,n._numIndices++},putUVs:function(e,n){var t=Q._batcher;t._uvList[t._uvIndex]=e,t._uvList[t._uvIndex+1]=n,t._uvIndex+=2,t._numUVs++},putColor:function(e,n,t,i){var l=Q._batcher;l._colorList[l._colorIndex]=e,l._colorList[l._colorIndex+1]=n,l._colorList[l._colorIndex+2]=t,l._colorList[l._colorIndex+3]=i,l._colorIndex+=4,l._numColors++},hasAnythingToFlush:function(){return 0<Q._batcher._numPos},shouldFlush:function(e,n,t){var i=Q._batcher;return!(i._numPos+e<=i._maxVerts)||16384<i._numIndices+n},remainingVertices:function(){var e=Q._batcher;return e._maxVerts-e._numPos},remainingIndices:function(){return 16384-Q._batcher._numIndices},flush:function(){Q._batcher.flush(),null!=Q._currentRenderTarget&&(Q._didUpdateCurrentRenderTarget=!0)},__class__:Q,__properties__:{set_batcher:"set_batcher",get_batcher:"get_batcher"}},(E["backend.ElectronRunner"]=X).__name__="backend.ElectronRunner",(E["spec.IO"]=Y).__name__="spec.IO",Y.__isInterface__=!0,Y.prototype={saveString:null,appendString:null,readString:null,__class__:Y},function(){}),on=((E["backend.IO"]=an).__name__="backend.IO",an.__interfaces__=[Y],an.prototype={initKeyValueIfNeeded:function(){},saveString:function(n,e){try{var t=window.localStorage;if(null==t)return ke.app.logger.error("Cannot save string: localStorage not supported on this browser",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:274,className:"backend.IO",methodName:"saveString"}),!1;t.setItem(n,Qn.encode(e))}catch(e){zl.lastError=e;t=ct.caught(e).unwrap();return ke.app.logger.error("Failed to save string (key="+n+"): "+ot.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:281,className:"backend.IO",methodName:"saveString"}),!1}return!0},appendString:function(n,e){try{var t=window.localStorage;if(null==t)return ke.app.logger.error("Cannot append string: localStorage not supported on this browser",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:294,className:"backend.IO",methodName:"appendString"}),!1;var i=t.getItem(n);null==i?t.setItem(n,Qn.encode(e)):t.setItem(n,i+Qn.encode(e))}catch(e){zl.lastError=e;t=ct.caught(e).unwrap();return ke.app.logger.error("Failed to append string (key="+n+"): "+ot.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:307,className:"backend.IO",methodName:"appendString"}),!1}return!0},readString:function(n){try{var e,t=window.localStorage;return null==t?(ke.app.logger.error("Cannot read string: localStorage not supported on this browser",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:320,className:"backend.IO",methodName:"readString"}),null):null!=(e=t.getItem(n))?Qn.decode(e):null}catch(e){zl.lastError=e;t=ct.caught(e).unwrap();return ke.app.logger.error("Failed to read string (key="+n+"): "+ot.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:328,className:"backend.IO",methodName:"readString"}),null}},__class__:an},(E["spec.Info"]=$).__name__="spec.Info",$.__isInterface__=!0,$.prototype={storageDirectory:null,imageExtensions:null,textExtensions:null,soundExtensions:null,shaderExtensions:null,__class__:$},function(){}),cn=((E["backend.Info"]=on).__name__="backend.Info",on.__interfaces__=[$],on.prototype={storageDirectory:function(){return null},imageExtensions:function(){return["png","jpg","jpeg"]},textExtensions:function(){return["txt","json","fnt","atlas"]},soundExtensions:function(){var e,n,t,i;return null==on._soundExtensions&&(on._soundExtensions=[],e=new Audio,n=null!=qe.navigator?qe.navigator.userAgent:"",i=on.RE_OPERA.match(n)&&parseInt(on.RE_OPERA.matched(0).split("/")[1],10)<33,t=-1!=n.indexOf("Safari")&&-1==n.indexOf("Chrome"),n=on.RE_SAFARI_VERSION.match(n),t&&n&&parseInt(on.RE_SAFARI_VERSION.matched(1),10),null!=(t=e.canPlayType('audio/ogg; codecs="vorbis"'))&&"no"!=t&&""!=t&&on._soundExtensions.push("ogg"),n=e.canPlayType("audio/mpeg;"),t=e.canPlayType("audio/mp3;"),!i&&(null!=n&&"no"!=n&&""!=n||null!=t&&"no"!=t&&""!=t)&&on._soundExtensions.push("mp3"),i=e.canPlayType("audio/x-flac;"),n=e.canPlayType("audio/flac;"),(null!=i&&"no"!=i&&""!=i||null!=n&&"no"!=n&&""!=n)&&on._soundExtensions.push("flac"),t=e.canPlayType('audio/wav; codecs="1"'),i=e.canPlayType("audio/wav;"),null!=t&&"no"!=t&&""!=t||null!=i&&"no"!=i&&""!=i)&&on._soundExtensions.push("wav"),[].concat(on._soundExtensions)},shaderExtensions:function(){return["frag","vert"]},__class__:on},(E["spec.Input"]=aa).__name__="spec.Input",aa.__isInterface__=!0,function(){}),un=((E["backend.Input"]=cn).__name__="backend.Input",cn.__interfaces__=[aa,i],cn.prototype={__cbOnKeyDown:null,__cbOnceKeyDown:null,__cbOnOwnerUnbindKeyDown:null,__cbOnceOwnerUnbindKeyDown:null,emitKeyDown:function(e){var n=0;if(null!=this.__cbOnKeyDown&&(n+=this.__cbOnKeyDown.length),null!=this.__cbOnceKeyDown&&(n+=this.__cbOnceKeyDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyDown)for(var s=0,r=this.__cbOnKeyDown.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnKeyDown[h],++l):--n}if(null!=this.__cbOnceKeyDown){for(var a=null,o=null,s=0,r=this.__cbOnceKeyDown.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceKeyDown[h],this.__cbOnceKeyDown[h]=null,c=this.__cbOnceOwnerUnbindKeyDown[h],(this.__cbOnceOwnerUnbindKeyDown[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindKeyDown[h]),o.push(this.__cbOnceKeyDown[h]))}this.__cbOnceOwnerUnbindKeyDown=a,this.__cbOnceKeyDown=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onKeyDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event keyDown because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(null);null==this.__cbOnKeyDown&&(this.__cbOnKeyDown=[]),this.__cbOnKeyDown.push(t)},onceKeyDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event keyDown because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(null);null==this.__cbOnceKeyDown&&(this.__cbOnceKeyDown=[]),this.__cbOnceKeyDown.push(t)},offKeyDown:function(e){if(null!=e){var n;null!=this.__cbOnKeyDown&&-1!=(n=this.__cbOnKeyDown.indexOf(e))&&(this.__cbOnKeyDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindKeyDown[n])&&s(),this.__cbOnOwnerUnbindKeyDown.splice(n,1)),null!=this.__cbOnceKeyDown&&-1!=(n=this.__cbOnceKeyDown.indexOf(e))&&(this.__cbOnceKeyDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindKeyDown[n])&&s(),this.__cbOnceOwnerUnbindKeyDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyDown){for(var t=0,i=this.__cbOnOwnerUnbindKeyDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindKeyDown[l])&&s()}this.__cbOnOwnerUnbindKeyDown=null}if(null!=this.__cbOnceOwnerUnbindKeyDown){for(t=0,i=this.__cbOnceOwnerUnbindKeyDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindKeyDown[l])&&s()}this.__cbOnceOwnerUnbindKeyDown=null}this.__cbOnKeyDown=null,this.__cbOnceKeyDown=null}},listensKeyDown:function(){return null!=this.__cbOnKeyDown&&0<this.__cbOnKeyDown.length||null!=this.__cbOnceKeyDown&&0<this.__cbOnceKeyDown.length},__cbOnKeyUp:null,__cbOnceKeyUp:null,__cbOnOwnerUnbindKeyUp:null,__cbOnceOwnerUnbindKeyUp:null,emitKeyUp:function(e){var n=0;if(null!=this.__cbOnKeyUp&&(n+=this.__cbOnKeyUp.length),null!=this.__cbOnceKeyUp&&(n+=this.__cbOnceKeyUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyUp)for(var s=0,r=this.__cbOnKeyUp.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnKeyUp[h],++l):--n}if(null!=this.__cbOnceKeyUp){for(var a=null,o=null,s=0,r=this.__cbOnceKeyUp.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceKeyUp[h],this.__cbOnceKeyUp[h]=null,c=this.__cbOnceOwnerUnbindKeyUp[h],(this.__cbOnceOwnerUnbindKeyUp[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindKeyUp[h]),o.push(this.__cbOnceKeyUp[h]))}this.__cbOnceOwnerUnbindKeyUp=a,this.__cbOnceKeyUp=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onKeyUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event keyUp because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(null);null==this.__cbOnKeyUp&&(this.__cbOnKeyUp=[]),this.__cbOnKeyUp.push(t)},onceKeyUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event keyUp because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(null);null==this.__cbOnceKeyUp&&(this.__cbOnceKeyUp=[]),this.__cbOnceKeyUp.push(t)},offKeyUp:function(e){if(null!=e){var n;null!=this.__cbOnKeyUp&&-1!=(n=this.__cbOnKeyUp.indexOf(e))&&(this.__cbOnKeyUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindKeyUp[n])&&s(),this.__cbOnOwnerUnbindKeyUp.splice(n,1)),null!=this.__cbOnceKeyUp&&-1!=(n=this.__cbOnceKeyUp.indexOf(e))&&(this.__cbOnceKeyUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindKeyUp[n])&&s(),this.__cbOnceOwnerUnbindKeyUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyUp){for(var t=0,i=this.__cbOnOwnerUnbindKeyUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindKeyUp[l])&&s()}this.__cbOnOwnerUnbindKeyUp=null}if(null!=this.__cbOnceOwnerUnbindKeyUp){for(t=0,i=this.__cbOnceOwnerUnbindKeyUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindKeyUp[l])&&s()}this.__cbOnceOwnerUnbindKeyUp=null}this.__cbOnKeyUp=null,this.__cbOnceKeyUp=null}},listensKeyUp:function(){return null!=this.__cbOnKeyUp&&0<this.__cbOnKeyUp.length||null!=this.__cbOnceKeyUp&&0<this.__cbOnceKeyUp.length},__cbOnGamepadAxis:null,__cbOnceGamepadAxis:null,__cbOnOwnerUnbindGamepadAxis:null,__cbOnceOwnerUnbindGamepadAxis:null,emitGamepadAxis:function(e,n,t){var i=0;if(null!=this.__cbOnGamepadAxis&&(i+=this.__cbOnGamepadAxis.length),null!=this.__cbOnceGamepadAxis&&(i+=this.__cbOnceGamepadAxis.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnGamepadAxis)for(var h=0,a=this.__cbOnGamepadAxis.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnGamepadAxis[o],++r):--i}if(null!=this.__cbOnceGamepadAxis){for(var c=null,u=null,h=0,a=this.__cbOnceGamepadAxis.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceGamepadAxis[o],this.__cbOnceGamepadAxis[o]=null,_=this.__cbOnceOwnerUnbindGamepadAxis[o],(this.__cbOnceOwnerUnbindGamepadAxis[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindGamepadAxis[o]),u.push(this.__cbOnceGamepadAxis[o]))}this.__cbOnceOwnerUnbindGamepadAxis=c,this.__cbOnceGamepadAxis=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onGamepadAxis:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadAxis(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(null);null==this.__cbOnGamepadAxis&&(this.__cbOnGamepadAxis=[]),this.__cbOnGamepadAxis.push(t)},onceGamepadAxis:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadAxis(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(null);null==this.__cbOnceGamepadAxis&&(this.__cbOnceGamepadAxis=[]),this.__cbOnceGamepadAxis.push(t)},offGamepadAxis:function(e){if(null!=e){var n;null!=this.__cbOnGamepadAxis&&-1!=(n=this.__cbOnGamepadAxis.indexOf(e))&&(this.__cbOnGamepadAxis.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadAxis[n])&&s(),this.__cbOnOwnerUnbindGamepadAxis.splice(n,1)),null!=this.__cbOnceGamepadAxis&&-1!=(n=this.__cbOnceGamepadAxis.indexOf(e))&&(this.__cbOnceGamepadAxis.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadAxis[n])&&s(),this.__cbOnceOwnerUnbindGamepadAxis.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadAxis){for(var t=0,i=this.__cbOnOwnerUnbindGamepadAxis.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadAxis[l])&&s()}this.__cbOnOwnerUnbindGamepadAxis=null}if(null!=this.__cbOnceOwnerUnbindGamepadAxis){for(t=0,i=this.__cbOnceOwnerUnbindGamepadAxis.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadAxis[l])&&s()}this.__cbOnceOwnerUnbindGamepadAxis=null}this.__cbOnGamepadAxis=null,this.__cbOnceGamepadAxis=null}},listensGamepadAxis:function(){return null!=this.__cbOnGamepadAxis&&0<this.__cbOnGamepadAxis.length||null!=this.__cbOnceGamepadAxis&&0<this.__cbOnceGamepadAxis.length},__cbOnGamepadDown:null,__cbOnceGamepadDown:null,__cbOnOwnerUnbindGamepadDown:null,__cbOnceOwnerUnbindGamepadDown:null,emitGamepadDown:function(e,n){var t=0;if(null!=this.__cbOnGamepadDown&&(t+=this.__cbOnGamepadDown.length),null!=this.__cbOnceGamepadDown&&(t+=this.__cbOnceGamepadDown.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadDown)for(var r=0,h=this.__cbOnGamepadDown.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnGamepadDown[a],++s):--t}if(null!=this.__cbOnceGamepadDown){for(var o=null,c=null,r=0,h=this.__cbOnceGamepadDown.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceGamepadDown[a],this.__cbOnceGamepadDown[a]=null,u=this.__cbOnceOwnerUnbindGamepadDown[a],(this.__cbOnceOwnerUnbindGamepadDown[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGamepadDown[a]),c.push(this.__cbOnceGamepadDown[a]))}this.__cbOnceOwnerUnbindGamepadDown=o,this.__cbOnceGamepadDown=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGamepadDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadDown because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(null);null==this.__cbOnGamepadDown&&(this.__cbOnGamepadDown=[]),this.__cbOnGamepadDown.push(t)},onceGamepadDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadDown because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(null);null==this.__cbOnceGamepadDown&&(this.__cbOnceGamepadDown=[]),this.__cbOnceGamepadDown.push(t)},offGamepadDown:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDown&&-1!=(n=this.__cbOnGamepadDown.indexOf(e))&&(this.__cbOnGamepadDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadDown[n])&&s(),this.__cbOnOwnerUnbindGamepadDown.splice(n,1)),null!=this.__cbOnceGamepadDown&&-1!=(n=this.__cbOnceGamepadDown.indexOf(e))&&(this.__cbOnceGamepadDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadDown[n])&&s(),this.__cbOnceOwnerUnbindGamepadDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDown){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadDown[l])&&s()}this.__cbOnOwnerUnbindGamepadDown=null}if(null!=this.__cbOnceOwnerUnbindGamepadDown){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadDown[l])&&s()}this.__cbOnceOwnerUnbindGamepadDown=null}this.__cbOnGamepadDown=null,this.__cbOnceGamepadDown=null}},listensGamepadDown:function(){return null!=this.__cbOnGamepadDown&&0<this.__cbOnGamepadDown.length||null!=this.__cbOnceGamepadDown&&0<this.__cbOnceGamepadDown.length},__cbOnGamepadUp:null,__cbOnceGamepadUp:null,__cbOnOwnerUnbindGamepadUp:null,__cbOnceOwnerUnbindGamepadUp:null,emitGamepadUp:function(e,n){var t=0;if(null!=this.__cbOnGamepadUp&&(t+=this.__cbOnGamepadUp.length),null!=this.__cbOnceGamepadUp&&(t+=this.__cbOnceGamepadUp.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadUp)for(var r=0,h=this.__cbOnGamepadUp.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnGamepadUp[a],++s):--t}if(null!=this.__cbOnceGamepadUp){for(var o=null,c=null,r=0,h=this.__cbOnceGamepadUp.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceGamepadUp[a],this.__cbOnceGamepadUp[a]=null,u=this.__cbOnceOwnerUnbindGamepadUp[a],(this.__cbOnceOwnerUnbindGamepadUp[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGamepadUp[a]),c.push(this.__cbOnceGamepadUp[a]))}this.__cbOnceOwnerUnbindGamepadUp=o,this.__cbOnceGamepadUp=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGamepadUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadUp because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(null);null==this.__cbOnGamepadUp&&(this.__cbOnGamepadUp=[]),this.__cbOnGamepadUp.push(t)},onceGamepadUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadUp because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(null);null==this.__cbOnceGamepadUp&&(this.__cbOnceGamepadUp=[]),this.__cbOnceGamepadUp.push(t)},offGamepadUp:function(e){if(null!=e){var n;null!=this.__cbOnGamepadUp&&-1!=(n=this.__cbOnGamepadUp.indexOf(e))&&(this.__cbOnGamepadUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadUp[n])&&s(),this.__cbOnOwnerUnbindGamepadUp.splice(n,1)),null!=this.__cbOnceGamepadUp&&-1!=(n=this.__cbOnceGamepadUp.indexOf(e))&&(this.__cbOnceGamepadUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadUp[n])&&s(),this.__cbOnceOwnerUnbindGamepadUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadUp){for(var t=0,i=this.__cbOnOwnerUnbindGamepadUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadUp[l])&&s()}this.__cbOnOwnerUnbindGamepadUp=null}if(null!=this.__cbOnceOwnerUnbindGamepadUp){for(t=0,i=this.__cbOnceOwnerUnbindGamepadUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadUp[l])&&s()}this.__cbOnceOwnerUnbindGamepadUp=null}this.__cbOnGamepadUp=null,this.__cbOnceGamepadUp=null}},listensGamepadUp:function(){return null!=this.__cbOnGamepadUp&&0<this.__cbOnGamepadUp.length||null!=this.__cbOnceGamepadUp&&0<this.__cbOnceGamepadUp.length},__cbOnGamepadGyro:null,__cbOnceGamepadGyro:null,__cbOnOwnerUnbindGamepadGyro:null,__cbOnceOwnerUnbindGamepadGyro:null,emitGamepadGyro:function(e,n,t,i){var l=0;if(null!=this.__cbOnGamepadGyro&&(l+=this.__cbOnGamepadGyro.length),null!=this.__cbOnceGamepadGyro&&(l+=this.__cbOnceGamepadGyro.length),0<l){var s=C.pool(l),r=s.get(),h=0;if(null!=this.__cbOnGamepadGyro)for(var a=0,o=this.__cbOnGamepadGyro.length;a<o;){var c=a++;!0?(r.vector[h]=this.__cbOnGamepadGyro[c],++h):--l}if(null!=this.__cbOnceGamepadGyro){for(var u=null,_=null,a=0,o=this.__cbOnceGamepadGyro.length;a<o;){var d,c=a++;!0?(r.vector[h]=this.__cbOnceGamepadGyro[c],this.__cbOnceGamepadGyro[c]=null,d=this.__cbOnceOwnerUnbindGamepadGyro[c],(this.__cbOnceOwnerUnbindGamepadGyro[c]=null)!=d&&d(),++h):(--l,null==u&&(u=[],_=[],0),u.push(this.__cbOnceOwnerUnbindGamepadGyro[c]),_.push(this.__cbOnceGamepadGyro[c]))}this.__cbOnceOwnerUnbindGamepadGyro=u,this.__cbOnceGamepadGyro=_}for(a=0,o=l;a<o;){h=a++;(0,r.vector[h])(e,n,t,i)}s.release(r)}},onGamepadGyro:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadGyro(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(null);null==this.__cbOnGamepadGyro&&(this.__cbOnGamepadGyro=[]),this.__cbOnGamepadGyro.push(t)},onceGamepadGyro:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadGyro(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(null);null==this.__cbOnceGamepadGyro&&(this.__cbOnceGamepadGyro=[]),this.__cbOnceGamepadGyro.push(t)},offGamepadGyro:function(e){if(null!=e){var n;null!=this.__cbOnGamepadGyro&&-1!=(n=this.__cbOnGamepadGyro.indexOf(e))&&(this.__cbOnGamepadGyro.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadGyro[n])&&s(),this.__cbOnOwnerUnbindGamepadGyro.splice(n,1)),null!=this.__cbOnceGamepadGyro&&-1!=(n=this.__cbOnceGamepadGyro.indexOf(e))&&(this.__cbOnceGamepadGyro.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadGyro[n])&&s(),this.__cbOnceOwnerUnbindGamepadGyro.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadGyro){for(var t=0,i=this.__cbOnOwnerUnbindGamepadGyro.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadGyro[l])&&s()}this.__cbOnOwnerUnbindGamepadGyro=null}if(null!=this.__cbOnceOwnerUnbindGamepadGyro){for(t=0,i=this.__cbOnceOwnerUnbindGamepadGyro.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadGyro[l])&&s()}this.__cbOnceOwnerUnbindGamepadGyro=null}this.__cbOnGamepadGyro=null,this.__cbOnceGamepadGyro=null}},listensGamepadGyro:function(){return null!=this.__cbOnGamepadGyro&&0<this.__cbOnGamepadGyro.length||null!=this.__cbOnceGamepadGyro&&0<this.__cbOnceGamepadGyro.length},__cbOnGamepadEnable:null,__cbOnceGamepadEnable:null,__cbOnOwnerUnbindGamepadEnable:null,__cbOnceOwnerUnbindGamepadEnable:null,emitGamepadEnable:function(e,n){var t=0;if(null!=this.__cbOnGamepadEnable&&(t+=this.__cbOnGamepadEnable.length),null!=this.__cbOnceGamepadEnable&&(t+=this.__cbOnceGamepadEnable.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadEnable)for(var r=0,h=this.__cbOnGamepadEnable.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnGamepadEnable[a],++s):--t}if(null!=this.__cbOnceGamepadEnable){for(var o=null,c=null,r=0,h=this.__cbOnceGamepadEnable.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceGamepadEnable[a],this.__cbOnceGamepadEnable[a]=null,u=this.__cbOnceOwnerUnbindGamepadEnable[a],(this.__cbOnceOwnerUnbindGamepadEnable[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGamepadEnable[a]),c.push(this.__cbOnceGamepadEnable[a]))}this.__cbOnceOwnerUnbindGamepadEnable=o,this.__cbOnceGamepadEnable=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGamepadEnable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadEnable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(null);null==this.__cbOnGamepadEnable&&(this.__cbOnGamepadEnable=[]),this.__cbOnGamepadEnable.push(t)},onceGamepadEnable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadEnable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(null);null==this.__cbOnceGamepadEnable&&(this.__cbOnceGamepadEnable=[]),this.__cbOnceGamepadEnable.push(t)},offGamepadEnable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadEnable&&-1!=(n=this.__cbOnGamepadEnable.indexOf(e))&&(this.__cbOnGamepadEnable.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadEnable[n])&&s(),this.__cbOnOwnerUnbindGamepadEnable.splice(n,1)),null!=this.__cbOnceGamepadEnable&&-1!=(n=this.__cbOnceGamepadEnable.indexOf(e))&&(this.__cbOnceGamepadEnable.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadEnable[n])&&s(),this.__cbOnceOwnerUnbindGamepadEnable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadEnable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadEnable.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadEnable[l])&&s()}this.__cbOnOwnerUnbindGamepadEnable=null}if(null!=this.__cbOnceOwnerUnbindGamepadEnable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadEnable.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadEnable[l])&&s()}this.__cbOnceOwnerUnbindGamepadEnable=null}this.__cbOnGamepadEnable=null,this.__cbOnceGamepadEnable=null}},listensGamepadEnable:function(){return null!=this.__cbOnGamepadEnable&&0<this.__cbOnGamepadEnable.length||null!=this.__cbOnceGamepadEnable&&0<this.__cbOnceGamepadEnable.length},__cbOnGamepadDisable:null,__cbOnceGamepadDisable:null,__cbOnOwnerUnbindGamepadDisable:null,__cbOnceOwnerUnbindGamepadDisable:null,emitGamepadDisable:function(e){var n=0;if(null!=this.__cbOnGamepadDisable&&(n+=this.__cbOnGamepadDisable.length),null!=this.__cbOnceGamepadDisable&&(n+=this.__cbOnceGamepadDisable.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnGamepadDisable)for(var s=0,r=this.__cbOnGamepadDisable.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnGamepadDisable[h],++l):--n}if(null!=this.__cbOnceGamepadDisable){for(var a=null,o=null,s=0,r=this.__cbOnceGamepadDisable.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceGamepadDisable[h],this.__cbOnceGamepadDisable[h]=null,c=this.__cbOnceOwnerUnbindGamepadDisable[h],(this.__cbOnceOwnerUnbindGamepadDisable[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindGamepadDisable[h]),o.push(this.__cbOnceGamepadDisable[h]))}this.__cbOnceOwnerUnbindGamepadDisable=a,this.__cbOnceGamepadDisable=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onGamepadDisable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDisable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(null);null==this.__cbOnGamepadDisable&&(this.__cbOnGamepadDisable=[]),this.__cbOnGamepadDisable.push(t)},onceGamepadDisable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDisable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(null);null==this.__cbOnceGamepadDisable&&(this.__cbOnceGamepadDisable=[]),this.__cbOnceGamepadDisable.push(t)},offGamepadDisable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDisable&&-1!=(n=this.__cbOnGamepadDisable.indexOf(e))&&(this.__cbOnGamepadDisable.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadDisable[n])&&s(),this.__cbOnOwnerUnbindGamepadDisable.splice(n,1)),null!=this.__cbOnceGamepadDisable&&-1!=(n=this.__cbOnceGamepadDisable.indexOf(e))&&(this.__cbOnceGamepadDisable.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadDisable[n])&&s(),this.__cbOnceOwnerUnbindGamepadDisable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDisable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDisable.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadDisable[l])&&s()}this.__cbOnOwnerUnbindGamepadDisable=null}if(null!=this.__cbOnceOwnerUnbindGamepadDisable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDisable.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadDisable[l])&&s()}this.__cbOnceOwnerUnbindGamepadDisable=null}this.__cbOnGamepadDisable=null,this.__cbOnceGamepadDisable=null}},listensGamepadDisable:function(){return null!=this.__cbOnGamepadDisable&&0<this.__cbOnGamepadDisable.length||null!=this.__cbOnceGamepadDisable&&0<this.__cbOnceGamepadDisable.length},startGamepadRumble:function(e,n,t,i){Z.app.runtime.startGamepadRumble(e,n,t,i)},stopGamepadRumble:function(e){Z.app.runtime.stopGamepadRumble(e)},unbindEvents:function(){this.offKeyDown(),this.offKeyUp(),this.offGamepadAxis(),this.offGamepadDown(),this.offGamepadUp(),this.offGamepadGyro(),this.offGamepadEnable(),this.offGamepadDisable()},__class__:cn},(E["backend.Main"]=ca).__name__="backend.Main",ca.main=function(){ca.events=new S(ca.ready),new Z(ca.configure,ca.events)},ca.configure=function(i){var n;if(i.window.backgroundSleep=.016666666666666666,i.render.webgl.version=2,-1<qe.navigator.userAgent.toLowerCase().indexOf(" electron/"))try{var e=require("@electron/remote").require("./app.js");e.isCeramicRunner&&(X.electronRunner=e)}catch(e){zl.lastError=e}null!=X.electronRunner&&(document.getElementsByTagName("html")[0].className+=" in-electron-runner",Ut._hasElectronRunner=!0,n=console.log,console.log=function(e){X.electronRunner.consoleLog(e),n(e)},window.addEventListener("error",function(e){for(var e=e.error,n=(e instanceof Xl&&e.get_stack(),null!=e?(""+e.stack).split("\n"):[]),t=n.length-1,i=-1!=navigator.platform.indexOf("Win");0<=t;){var l=n[t],l=z.ltrim(l);l=z.replace(l,"http://localhost:"+ot.string(X.electronRunner.serverPort)+"/file:"+(i?"/":""),""),l=z.replace(l,"http://localhost:"+ot.string(X.electronRunner.serverPort)+"/",ot.string(X.electronRunner.appFiles)+"/"),X.electronRunner.consoleLog("[error] "+l),--t}}));var e=ke.init(),l=(ca.project=new k(e),ca.app=ke.app,i.runtime.preventDefaultMouseWheel=e.settings.get_preventDefaultMouseWheel(),ca.app.settings.onPreventDefaultMouseWheelChange(ca.app,function(e,n){i.runtime.preventDefaultMouseWheel=e||0<ca.app.numBlockingDefaultScroll}),i.runtime.preventDefaultTouches=e.settings.get_preventDefaultTouches(),ca.app.settings.onPreventDefaultTouchesChange(ca.app,function(e,n){i.runtime.preventDefaultTouches=e||0<ca.app.numBlockingDefaultScroll}),ca.app.numBlockingDefaultScroll);ca.app.onPostUpdate(ca.app,function(e){var n,t=ca.app.numBlockingDefaultScroll;l!=t&&(l=t,n=ca.app.settings.get_preventDefaultTouches()||0<t,i.runtime.preventDefaultTouches=n,n=ca.app.settings.get_preventDefaultMouseWheel()||0<t,i.runtime.preventDefaultMouseWheel=n)}),null==X.electronRunner&&ca.app.settings.get_fullscreen()&&ca.app.settings.set_fullscreen(!1),i.render.antialiasing=ca.app.settings.antialiasing,0<ca.app.settings.get_windowWidth()?i.window.width=ca.app.settings.get_windowWidth():0<ca.app.settings.get_targetWidth()&&(i.window.width=ca.app.settings.get_targetWidth()),0<ca.app.settings.get_windowHeight()?i.window.height=ca.app.settings.get_windowHeight():0<ca.app.settings.get_targetHeight()&&(i.window.height=ca.app.settings.get_targetHeight()),i.window.fullscreen=ca.app.settings.get_fullscreen(),i.window.resizable=ca.app.settings.resizable,i.window.title=ca.app.settings.get_title(),i.render.stencil=2,i.render.depth=16,ca.configureOrientation(),null!=ca.app.settings.backend.webParent?i.runtime.windowParent=ca.app.settings.backend.webParent:i.runtime.windowParent=window.document.getElementById("ceramic-app"),i.runtime.mouseUseBrowserWindowEvents=!0,ca.app.settings.backend.allowDefaultKeys&&(i.runtime.preventDefaultKeys=[]),ca.containerElId=null!=ca.app.settings.backend.webParent?ca.app.settings.backend.webParent.id:"ceramic-app",ca.containerWidth=0,ca.containerHeight=0,ca.containerPixelRatio=0,window.document.body.classList.add("ceramic-invisible"),window.requestAnimationFrame(ca._updateContainerSizeIfNeeded),null!=X.electronRunner&&(null!=X.electronRunner.ceramicSettings&&X.electronRunner.ceramicSettings({trace:function(e){},title:ca.app.settings.get_title(),fullscreen:ca.app.settings.get_fullscreen(),resizable:ca.app.settings.resizable,targetWidth:0<ca.app.settings.get_windowWidth()?ca.app.settings.get_windowWidth():ca.app.settings.get_targetWidth(),targetHeight:0<ca.app.settings.get_windowHeight()?ca.app.settings.get_windowHeight():ca.app.settings.get_targetHeight()}),null!=X.electronRunner.listenFullscreen)&&X.electronRunner.listenFullscreen(function(e){ke.app.settings.set_fullscreen(!0)},function(e){ke.app.settings.set_fullscreen(!1)})},ca._updateContainerSizeIfNeeded=function(e){null==e&&(e=.016);var e=window.document.getElementById(ca.containerElId),n=window.document.getElementById("app");if(null!=e&&null!=n){var t,i=e.offsetWidth,e=e.offsetHeight,l=window.performance.now()/1e3;if(-1!=ca.lastResizeTime&&(i!=ca.lastNewWidth||e!=ca.lastNewHeight))return-1==ca.lastNewWidth&&-1==ca.lastNewHeight||window.document.body.classList.add("ceramic-invisible"),ca.lastResizeTime=l,ca.lastNewWidth=i,ca.lastNewHeight=e,void window.requestAnimationFrame(ca._updateContainerSizeIfNeeded);if(-1!=ca.lastResizeTime&&l-ca.lastResizeTime<.1)return void window.requestAnimationFrame(ca._updateContainerSizeIfNeeded);i==ca.containerWidth&&e==ca.containerHeight&&window.devicePixelRatio==ca.containerPixelRatio||(ca.containerWidth=i,ca.containerHeight=e,ca.containerPixelRatio=window.devicePixelRatio,n.style.width=ca.containerWidth+"px",n.style.height=ca.containerHeight+"px",n.width=Math.round(ca.containerWidth*window.devicePixelRatio),n.height=Math.round(ca.containerHeight*window.devicePixelRatio),ca.resizing++,-1!=ca.lastResizeTime&&window.document.body.classList.add("ceramic-invisible"),t=function(){0==ca.resizing&&ca.readyToDisplay&&window.document.body.classList.remove("ceramic-invisible")},window.setTimeout(function(){ca.resizing--,t()},100),ca.lastResizeTime=l)}window.requestAnimationFrame(ca._updateContainerSizeIfNeeded)},ca._appLoaderCheckDisplayReady=function(e){ca._displayReady?e():ca._pendingDisplayReadyDone=e},ca.ready=function(){ca.app.backend.io.initKeyValueIfNeeded(),ca._displayReady=!1,ca.app.loaders.push(ca._appLoaderCheckDisplayReady),Z._graphics.loadExtensions(),null!=X.electronRunner&&X.electronRunner.ceramicReady();var n=null,n=window.setInterval(function(){var e=null!=ca.app.settings.backend.webParent?ca.app.settings.backend.webParent.id:"ceramic-app",e=window.document.getElementById(e);window.document.getElementById("app").offsetWidth==e.offsetWidth&&(ca.readyToDisplay=!0,window.clearInterval(n)),ca.readyToDisplay&&(0==ca.resizing&&window.document.body.classList.remove("ceramic-invisible"),ca._displayReady=!0,null!=ca._pendingDisplayReadyDone)&&(e=ca._pendingDisplayReadyDone,ca._pendingDisplayReadyDone=null,e())},500)},ca.configureOrientation=function(){},(E["spec.Screen"]=da).__name__="spec.Screen",da.__isInterface__=!0,da.prototype={getWidth:null,getHeight:null,getDensity:null,setBackground:null,setWindowTitle:null,setWindowFullscreen:null,screenshotToTexture:null,screenshotToPng:null,screenshotToPixels:null,__class__:da},function(){this.nextScreenshotIndex=0,this.didTryResumeAudioContext=!1}),_n=((E["backend.Screen"]=un).__name__="backend.Screen",un.__interfaces__=[da,i],un.prototype={__cbOnResize:null,__cbOnceResize:null,__cbOnOwnerUnbindResize:null,__cbOnceOwnerUnbindResize:null,emitResize:function(){var e=0;if(null!=this.__cbOnResize&&(e+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(e+=this.__cbOnceResize.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnResize)for(var l=0,s=this.__cbOnResize.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnResize[r],++i):--e}if(null!=this.__cbOnceResize){for(var h=null,a=null,l=0,s=this.__cbOnceResize.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceResize[r],this.__cbOnceResize[r]=null,o=this.__cbOnceOwnerUnbindResize[r],(this.__cbOnceOwnerUnbindResize[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindResize[r]),a.push(this.__cbOnceResize[r]))}this.__cbOnceOwnerUnbindResize=h,this.__cbOnceResize=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(t)},onceResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(t)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindResize[n])&&s(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindResize[n])&&s(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindResize[l])&&s()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindResize[l])&&s()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&0<this.__cbOnResize.length||null!=this.__cbOnceResize&&0<this.__cbOnceResize.length},__cbOnMouseDown:null,__cbOnceMouseDown:null,__cbOnOwnerUnbindMouseDown:null,__cbOnceOwnerUnbindMouseDown:null,emitMouseDown:function(e,n,t){this.tryResumeAudioContextIfNeeded();var i=0;if(null!=this.__cbOnMouseDown&&(i+=this.__cbOnMouseDown.length),null!=this.__cbOnceMouseDown&&(i+=this.__cbOnceMouseDown.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnMouseDown)for(var h=0,a=this.__cbOnMouseDown.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnMouseDown[o],++r):--i}if(null!=this.__cbOnceMouseDown){for(var c=null,u=null,h=0,a=this.__cbOnceMouseDown.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceMouseDown[o],this.__cbOnceMouseDown[o]=null,_=this.__cbOnceOwnerUnbindMouseDown[o],(this.__cbOnceOwnerUnbindMouseDown[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindMouseDown[o]),u.push(this.__cbOnceMouseDown[o]))}this.__cbOnceOwnerUnbindMouseDown=c,this.__cbOnceMouseDown=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onMouseDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(null);null==this.__cbOnMouseDown&&(this.__cbOnMouseDown=[]),this.__cbOnMouseDown.push(t)},onceMouseDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(null);null==this.__cbOnceMouseDown&&(this.__cbOnceMouseDown=[]),this.__cbOnceMouseDown.push(t)},offMouseDown:function(e){if(null!=e){var n;null!=this.__cbOnMouseDown&&-1!=(n=this.__cbOnMouseDown.indexOf(e))&&(this.__cbOnMouseDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseDown[n])&&s(),this.__cbOnOwnerUnbindMouseDown.splice(n,1)),null!=this.__cbOnceMouseDown&&-1!=(n=this.__cbOnceMouseDown.indexOf(e))&&(this.__cbOnceMouseDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseDown[n])&&s(),this.__cbOnceOwnerUnbindMouseDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseDown){for(var t=0,i=this.__cbOnOwnerUnbindMouseDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseDown[l])&&s()}this.__cbOnOwnerUnbindMouseDown=null}if(null!=this.__cbOnceOwnerUnbindMouseDown){for(t=0,i=this.__cbOnceOwnerUnbindMouseDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseDown[l])&&s()}this.__cbOnceOwnerUnbindMouseDown=null}this.__cbOnMouseDown=null,this.__cbOnceMouseDown=null}},listensMouseDown:function(){return null!=this.__cbOnMouseDown&&0<this.__cbOnMouseDown.length||null!=this.__cbOnceMouseDown&&0<this.__cbOnceMouseDown.length},__cbOnMouseUp:null,__cbOnceMouseUp:null,__cbOnOwnerUnbindMouseUp:null,__cbOnceOwnerUnbindMouseUp:null,emitMouseUp:function(e,n,t){var i=0;if(null!=this.__cbOnMouseUp&&(i+=this.__cbOnMouseUp.length),null!=this.__cbOnceMouseUp&&(i+=this.__cbOnceMouseUp.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnMouseUp)for(var h=0,a=this.__cbOnMouseUp.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnMouseUp[o],++r):--i}if(null!=this.__cbOnceMouseUp){for(var c=null,u=null,h=0,a=this.__cbOnceMouseUp.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceMouseUp[o],this.__cbOnceMouseUp[o]=null,_=this.__cbOnceOwnerUnbindMouseUp[o],(this.__cbOnceOwnerUnbindMouseUp[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindMouseUp[o]),u.push(this.__cbOnceMouseUp[o]))}this.__cbOnceOwnerUnbindMouseUp=c,this.__cbOnceMouseUp=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onMouseUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(null);null==this.__cbOnMouseUp&&(this.__cbOnMouseUp=[]),this.__cbOnMouseUp.push(t)},onceMouseUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(null);null==this.__cbOnceMouseUp&&(this.__cbOnceMouseUp=[]),this.__cbOnceMouseUp.push(t)},offMouseUp:function(e){if(null!=e){var n;null!=this.__cbOnMouseUp&&-1!=(n=this.__cbOnMouseUp.indexOf(e))&&(this.__cbOnMouseUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseUp[n])&&s(),this.__cbOnOwnerUnbindMouseUp.splice(n,1)),null!=this.__cbOnceMouseUp&&-1!=(n=this.__cbOnceMouseUp.indexOf(e))&&(this.__cbOnceMouseUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseUp[n])&&s(),this.__cbOnceOwnerUnbindMouseUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseUp){for(var t=0,i=this.__cbOnOwnerUnbindMouseUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseUp[l])&&s()}this.__cbOnOwnerUnbindMouseUp=null}if(null!=this.__cbOnceOwnerUnbindMouseUp){for(t=0,i=this.__cbOnceOwnerUnbindMouseUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseUp[l])&&s()}this.__cbOnceOwnerUnbindMouseUp=null}this.__cbOnMouseUp=null,this.__cbOnceMouseUp=null}},listensMouseUp:function(){return null!=this.__cbOnMouseUp&&0<this.__cbOnMouseUp.length||null!=this.__cbOnceMouseUp&&0<this.__cbOnceMouseUp.length},__cbOnMouseWheel:null,__cbOnceMouseWheel:null,__cbOnOwnerUnbindMouseWheel:null,__cbOnceOwnerUnbindMouseWheel:null,emitMouseWheel:function(e,n){var t=0;if(null!=this.__cbOnMouseWheel&&(t+=this.__cbOnMouseWheel.length),null!=this.__cbOnceMouseWheel&&(t+=this.__cbOnceMouseWheel.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMouseWheel)for(var r=0,h=this.__cbOnMouseWheel.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMouseWheel[a],++s):--t}if(null!=this.__cbOnceMouseWheel){for(var o=null,c=null,r=0,h=this.__cbOnceMouseWheel.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMouseWheel[a],this.__cbOnceMouseWheel[a]=null,u=this.__cbOnceOwnerUnbindMouseWheel[a],(this.__cbOnceOwnerUnbindMouseWheel[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMouseWheel[a]),c.push(this.__cbOnceMouseWheel[a]))}this.__cbOnceOwnerUnbindMouseWheel=o,this.__cbOnceMouseWheel=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMouseWheel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseWheel because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseWheel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(null);null==this.__cbOnMouseWheel&&(this.__cbOnMouseWheel=[]),this.__cbOnMouseWheel.push(t)},onceMouseWheel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseWheel because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseWheel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(null);null==this.__cbOnceMouseWheel&&(this.__cbOnceMouseWheel=[]),this.__cbOnceMouseWheel.push(t)},offMouseWheel:function(e){if(null!=e){var n;null!=this.__cbOnMouseWheel&&-1!=(n=this.__cbOnMouseWheel.indexOf(e))&&(this.__cbOnMouseWheel.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseWheel[n])&&s(),this.__cbOnOwnerUnbindMouseWheel.splice(n,1)),null!=this.__cbOnceMouseWheel&&-1!=(n=this.__cbOnceMouseWheel.indexOf(e))&&(this.__cbOnceMouseWheel.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseWheel[n])&&s(),this.__cbOnceOwnerUnbindMouseWheel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseWheel){for(var t=0,i=this.__cbOnOwnerUnbindMouseWheel.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseWheel[l])&&s()}this.__cbOnOwnerUnbindMouseWheel=null}if(null!=this.__cbOnceOwnerUnbindMouseWheel){for(t=0,i=this.__cbOnceOwnerUnbindMouseWheel.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseWheel[l])&&s()}this.__cbOnceOwnerUnbindMouseWheel=null}this.__cbOnMouseWheel=null,this.__cbOnceMouseWheel=null}},listensMouseWheel:function(){return null!=this.__cbOnMouseWheel&&0<this.__cbOnMouseWheel.length||null!=this.__cbOnceMouseWheel&&0<this.__cbOnceMouseWheel.length},__cbOnMouseMove:null,__cbOnceMouseMove:null,__cbOnOwnerUnbindMouseMove:null,__cbOnceOwnerUnbindMouseMove:null,emitMouseMove:function(e,n){var t=0;if(null!=this.__cbOnMouseMove&&(t+=this.__cbOnMouseMove.length),null!=this.__cbOnceMouseMove&&(t+=this.__cbOnceMouseMove.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMouseMove)for(var r=0,h=this.__cbOnMouseMove.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMouseMove[a],++s):--t}if(null!=this.__cbOnceMouseMove){for(var o=null,c=null,r=0,h=this.__cbOnceMouseMove.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMouseMove[a],this.__cbOnceMouseMove[a]=null,u=this.__cbOnceOwnerUnbindMouseMove[a],(this.__cbOnceOwnerUnbindMouseMove[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMouseMove[a]),c.push(this.__cbOnceMouseMove[a]))}this.__cbOnceOwnerUnbindMouseMove=o,this.__cbOnceMouseMove=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMouseMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(null);null==this.__cbOnMouseMove&&(this.__cbOnMouseMove=[]),this.__cbOnMouseMove.push(t)},onceMouseMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(null);null==this.__cbOnceMouseMove&&(this.__cbOnceMouseMove=[]),this.__cbOnceMouseMove.push(t)},offMouseMove:function(e){if(null!=e){var n;null!=this.__cbOnMouseMove&&-1!=(n=this.__cbOnMouseMove.indexOf(e))&&(this.__cbOnMouseMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseMove[n])&&s(),this.__cbOnOwnerUnbindMouseMove.splice(n,1)),null!=this.__cbOnceMouseMove&&-1!=(n=this.__cbOnceMouseMove.indexOf(e))&&(this.__cbOnceMouseMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseMove[n])&&s(),this.__cbOnceOwnerUnbindMouseMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseMove){for(var t=0,i=this.__cbOnOwnerUnbindMouseMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseMove[l])&&s()}this.__cbOnOwnerUnbindMouseMove=null}if(null!=this.__cbOnceOwnerUnbindMouseMove){for(t=0,i=this.__cbOnceOwnerUnbindMouseMove.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseMove[l])&&s()}this.__cbOnceOwnerUnbindMouseMove=null}this.__cbOnMouseMove=null,this.__cbOnceMouseMove=null}},listensMouseMove:function(){return null!=this.__cbOnMouseMove&&0<this.__cbOnMouseMove.length||null!=this.__cbOnceMouseMove&&0<this.__cbOnceMouseMove.length},__cbOnTouchDown:null,__cbOnceTouchDown:null,__cbOnOwnerUnbindTouchDown:null,__cbOnceOwnerUnbindTouchDown:null,emitTouchDown:function(e,n,t){this.tryResumeAudioContextIfNeeded();var i=0;if(null!=this.__cbOnTouchDown&&(i+=this.__cbOnTouchDown.length),null!=this.__cbOnceTouchDown&&(i+=this.__cbOnceTouchDown.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchDown)for(var h=0,a=this.__cbOnTouchDown.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnTouchDown[o],++r):--i}if(null!=this.__cbOnceTouchDown){for(var c=null,u=null,h=0,a=this.__cbOnceTouchDown.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceTouchDown[o],this.__cbOnceTouchDown[o]=null,_=this.__cbOnceOwnerUnbindTouchDown[o],(this.__cbOnceOwnerUnbindTouchDown[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindTouchDown[o]),u.push(this.__cbOnceTouchDown[o]))}this.__cbOnceOwnerUnbindTouchDown=c,this.__cbOnceTouchDown=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onTouchDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event touchDown because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(null);null==this.__cbOnTouchDown&&(this.__cbOnTouchDown=[]),this.__cbOnTouchDown.push(t)},onceTouchDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event touchDown because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(null);null==this.__cbOnceTouchDown&&(this.__cbOnceTouchDown=[]),this.__cbOnceTouchDown.push(t)},offTouchDown:function(e){if(null!=e){var n;null!=this.__cbOnTouchDown&&-1!=(n=this.__cbOnTouchDown.indexOf(e))&&(this.__cbOnTouchDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchDown[n])&&s(),this.__cbOnOwnerUnbindTouchDown.splice(n,1)),null!=this.__cbOnceTouchDown&&-1!=(n=this.__cbOnceTouchDown.indexOf(e))&&(this.__cbOnceTouchDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchDown[n])&&s(),this.__cbOnceOwnerUnbindTouchDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchDown){for(var t=0,i=this.__cbOnOwnerUnbindTouchDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchDown[l])&&s()}this.__cbOnOwnerUnbindTouchDown=null}if(null!=this.__cbOnceOwnerUnbindTouchDown){for(t=0,i=this.__cbOnceOwnerUnbindTouchDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchDown[l])&&s()}this.__cbOnceOwnerUnbindTouchDown=null}this.__cbOnTouchDown=null,this.__cbOnceTouchDown=null}},listensTouchDown:function(){return null!=this.__cbOnTouchDown&&0<this.__cbOnTouchDown.length||null!=this.__cbOnceTouchDown&&0<this.__cbOnceTouchDown.length},__cbOnTouchUp:null,__cbOnceTouchUp:null,__cbOnOwnerUnbindTouchUp:null,__cbOnceOwnerUnbindTouchUp:null,emitTouchUp:function(e,n,t){var i=0;if(null!=this.__cbOnTouchUp&&(i+=this.__cbOnTouchUp.length),null!=this.__cbOnceTouchUp&&(i+=this.__cbOnceTouchUp.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchUp)for(var h=0,a=this.__cbOnTouchUp.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnTouchUp[o],++r):--i}if(null!=this.__cbOnceTouchUp){for(var c=null,u=null,h=0,a=this.__cbOnceTouchUp.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceTouchUp[o],this.__cbOnceTouchUp[o]=null,_=this.__cbOnceOwnerUnbindTouchUp[o],(this.__cbOnceOwnerUnbindTouchUp[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindTouchUp[o]),u.push(this.__cbOnceTouchUp[o]))}this.__cbOnceOwnerUnbindTouchUp=c,this.__cbOnceTouchUp=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onTouchUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event touchUp because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(null);null==this.__cbOnTouchUp&&(this.__cbOnTouchUp=[]),this.__cbOnTouchUp.push(t)},onceTouchUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event touchUp because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(null);null==this.__cbOnceTouchUp&&(this.__cbOnceTouchUp=[]),this.__cbOnceTouchUp.push(t)},offTouchUp:function(e){if(null!=e){var n;null!=this.__cbOnTouchUp&&-1!=(n=this.__cbOnTouchUp.indexOf(e))&&(this.__cbOnTouchUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchUp[n])&&s(),this.__cbOnOwnerUnbindTouchUp.splice(n,1)),null!=this.__cbOnceTouchUp&&-1!=(n=this.__cbOnceTouchUp.indexOf(e))&&(this.__cbOnceTouchUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchUp[n])&&s(),this.__cbOnceOwnerUnbindTouchUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchUp){for(var t=0,i=this.__cbOnOwnerUnbindTouchUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchUp[l])&&s()}this.__cbOnOwnerUnbindTouchUp=null}if(null!=this.__cbOnceOwnerUnbindTouchUp){for(t=0,i=this.__cbOnceOwnerUnbindTouchUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchUp[l])&&s()}this.__cbOnceOwnerUnbindTouchUp=null}this.__cbOnTouchUp=null,this.__cbOnceTouchUp=null}},listensTouchUp:function(){return null!=this.__cbOnTouchUp&&0<this.__cbOnTouchUp.length||null!=this.__cbOnceTouchUp&&0<this.__cbOnceTouchUp.length},__cbOnTouchMove:null,__cbOnceTouchMove:null,__cbOnOwnerUnbindTouchMove:null,__cbOnceOwnerUnbindTouchMove:null,emitTouchMove:function(e,n,t){var i=0;if(null!=this.__cbOnTouchMove&&(i+=this.__cbOnTouchMove.length),null!=this.__cbOnceTouchMove&&(i+=this.__cbOnceTouchMove.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchMove)for(var h=0,a=this.__cbOnTouchMove.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnTouchMove[o],++r):--i}if(null!=this.__cbOnceTouchMove){for(var c=null,u=null,h=0,a=this.__cbOnceTouchMove.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceTouchMove[o],this.__cbOnceTouchMove[o]=null,_=this.__cbOnceOwnerUnbindTouchMove[o],(this.__cbOnceOwnerUnbindTouchMove[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindTouchMove[o]),u.push(this.__cbOnceTouchMove[o]))}this.__cbOnceOwnerUnbindTouchMove=c,this.__cbOnceTouchMove=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onTouchMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event touchMove because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(null);null==this.__cbOnTouchMove&&(this.__cbOnTouchMove=[]),this.__cbOnTouchMove.push(t)},onceTouchMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event touchMove because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(null);null==this.__cbOnceTouchMove&&(this.__cbOnceTouchMove=[]),this.__cbOnceTouchMove.push(t)},offTouchMove:function(e){if(null!=e){var n;null!=this.__cbOnTouchMove&&-1!=(n=this.__cbOnTouchMove.indexOf(e))&&(this.__cbOnTouchMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchMove[n])&&s(),this.__cbOnOwnerUnbindTouchMove.splice(n,1)),null!=this.__cbOnceTouchMove&&-1!=(n=this.__cbOnceTouchMove.indexOf(e))&&(this.__cbOnceTouchMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchMove[n])&&s(),this.__cbOnceOwnerUnbindTouchMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchMove){for(var t=0,i=this.__cbOnOwnerUnbindTouchMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchMove[l])&&s()}this.__cbOnOwnerUnbindTouchMove=null}if(null!=this.__cbOnceOwnerUnbindTouchMove){for(t=0,i=this.__cbOnceOwnerUnbindTouchMove.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchMove[l])&&s()}this.__cbOnceOwnerUnbindTouchMove=null}this.__cbOnTouchMove=null,this.__cbOnceTouchMove=null}},listensTouchMove:function(){return null!=this.__cbOnTouchMove&&0<this.__cbOnTouchMove.length||null!=this.__cbOnceTouchMove&&0<this.__cbOnceTouchMove.length},didTryResumeAudioContext:null,willEmitMouseDown:function(e,n,t){this.tryResumeAudioContextIfNeeded()},willEmitTouchDown:function(e,n,t){this.tryResumeAudioContextIfNeeded()},tryResumeAudioContextIfNeeded:function(){this.didTryResumeAudioContext||(this.didTryResumeAudioContext=!0,ke.app.backend.audio.resumeAudioContext(function(e){e?ke.app.logger.success("Did resume audio context",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Screen.hx",lineNumber:115,className:"backend.Screen",methodName:"tryResumeAudioContextIfNeeded"}):ke.app.logger.error("Failed to resume audio context",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Screen.hx",lineNumber:118,className:"backend.Screen",methodName:"tryResumeAudioContextIfNeeded"})}))},getWidth:function(){return Z.app.screenWidth},getHeight:function(){return Z.app.screenHeight},getDensity:function(){return Z.app.screenDensity},setBackground:function(e){},setWindowTitle:function(e){Z.app.runtime.setWindowTitle(e)},setWindowFullscreen:function(e){null!=X.electronRunner&&null!=X.electronRunner.setFullscreen?X.electronRunner.setFullscreen(e):Z.app.runtime.setWindowFullscreen(e)||ke.app.settings.set_fullscreen(!e)},nextScreenshotIndex:null,screenshotToTexture:function(t){var i=this;Z.app.runtime.window.toBlob(function(e){e.arrayBuffer().then(function(e){e=new Uint8Array(e,0,e.byteLength);Z.app.assets.imageFromBytes(e,"png",4,!0,function(e){var n;null!=e?(n="screenshot:"+i.nextScreenshotIndex++,(e=Ki.fromImage(e)).id=n,e.init(),t(e)):t(null)})})},"image/png")},screenshotToPng:function(n,t){Z.app.runtime.window.toBlob(function(e){e.arrayBuffer().then(function(e){e=new is(new Uint8Array(new Uint8Array(e,0,e.byteLength).buffer));null!=n?(Xn.saveBytes(n,e),t()):t(e)})},"image/png")},screenshotToPixels:function(n){Z.app.runtime.window.toBlob(function(e){e.arrayBuffer().then(function(e){e=new Uint8Array(e,0,e.byteLength);Z.app.assets.imageFromBytes(e,"png",4,!1,function(e){null!=e?n(e.pixels,e.width,e.height):n(null,0,0)})})},"image/png")},unbindEvents:function(){this.offResize(),this.offMouseDown(),this.offMouseUp(),this.offMouseWheel(),this.offMouseMove(),this.offTouchDown(),this.offTouchUp(),this.offTouchMove()},__class__:un},(E["clay.Resource"]=fa).__name__="clay.Resource",fa.prototype={id:null,__class__:fa},(E["clay.graphics.Shader"]=ga).__name__="clay.graphics.Shader",ga.__super__=fa,ga.prototype=$extend(fa.prototype,{vertSource:null,fragSource:null,attributes:null,textures:null,uniforms:null,gpuShader:null,init:function(){if(this.gpuShader=Z._graphics.createShader(this.vertSource,this.fragSource,this.attributes,this.textures),null==this.gpuShader)throw ct.thrown("Failed to create shader (id="+this.id+")");this.uniforms=new $i(this.gpuShader)},activate:function(){var e=Z._graphics,n=this.gpuShader,e=(e._boundProgram!=n.program&&(e._boundProgram=n.program,ne.gl.useProgram(n.program)),Z._graphics),t=this.gpuShader,i=ne.gl.getUniformLocation(t.program,"projectionMatrix"),l=e.projectionMatrix,n=(e._boundProgram!=(n=t).program&&(e._boundProgram=n.program,ne.gl.useProgram(n.program)),ne.gl.uniformMatrix4fv(i,!1,l),t),i=ne.gl.getUniformLocation(n.program,"modelViewMatrix"),l=e.modelViewMatrix;e._boundProgram!=(n=t).program&&(e._boundProgram=n.program,ne.gl.useProgram(n.program)),ne.gl.uniformMatrix4fv(i,!1,l),null!=this.uniforms&&this.uniforms.apply()},destroy:function(){Z._graphics.deleteShader(this.gpuShader)},__class__:ga}),(E["backend.ShaderImpl"]=ha).__name__="backend.ShaderImpl",ha.__super__=ga,ha.prototype=$extend(ga.prototype,{customAttributes:null,isBatchingMultiTexture:null,clone:function(){var e=new ha;return e.vertSource=this.vertSource,e.fragSource=this.fragSource,e.customAttributes=this.customAttributes,e.isBatchingMultiTexture=this.isBatchingMultiTexture,e.attributes=this.attributes,e.textures=this.textures,e.init(),e},__class__:ha}),(E["spec.Shaders"]=ia).__name__="spec.Shaders",ia.__isInterface__=!0,ia.prototype={destroy:null,load:null,clone:null,setInt:null,setFloat:null,setVec2:null,setVec3:null,setVec4:null,setFloatArray:null,setTexture:null,setMat2:null,setMat3:null,setMat4:null,customFloatAttributesSize:null,maxIfStatementsByFragmentShader:null,canBatchWithMultipleTextures:null,supportsHotReloadPath:null,__class__:ia},function(){}),dn=((E["backend.Shaders"]=_n).__name__="backend.Shaders",_n.__interfaces__=[ia],_n.prototype={load:function(e,n,t,i,l){function kda(e){ke.app._onceImmediate(function(){l(e),l=null})}var s=this,r=z.startsWith(e,"http://")||z.startsWith(e,"https://"),h=(Dt.isAbsolute(e)||r||(e=Dt.join([ke.app.settings.assetsPath,e])),Dt.withoutExtension(e));null!=i?this.tryLoadShader(h+"_mt8",n,t,i,!0,function(e){null!=e?(e.isBatchingMultiTexture=!0,kda(e)):s.tryLoadShader(h,n,t,i,!1,function(e){null!=e&&(e.isBatchingMultiTexture=!1),kda(e)})}):this.tryLoadShader(h,n,t,i,!1,function(e){null!=e&&(e.isBatchingMultiTexture=!1),kda(e)})},tryLoadShader:function(e,h,a,o,c,u){var _=this,n=e+".frag",e=Z.app.assets.fullPath(e+".vert"),t=Z.app.assets.fullPath(n);Z.app.io.loadData(e,!0,!0,function(e){var r;null==e?u(null):(r=new is(new Uint8Array(e.buffer)).toString(),Z.app.io.loadData(t,!0,!0,function(e){if(null==e)u(null);else{var e=new is(new Uint8Array(e.buffer)).toString(),n=[];if(null!=h)for(var t=0,i=h.length;t<i;){var l=t++;n.push(h[l].name)}if(c&&null!=o&&n.push(o.name),null!=a)for(t=0,i=a.length;t<i;){l=t++;n.push(a[l].name)}var s=new ha;s.attributes=n,s.textures=c?_.buildMultiTextures():["mainTex"],s.vertSource=r,s.fragSource=e,s.customAttributes=a;try{s.init(),u(s)}catch(t){zl.lastError=t,u(null)}}}))})},buildMultiTextures:function(){var e=["mainTex"];return e.push("tex1"),e.push("tex2"),e.push("tex3"),e.push("tex4"),e.push("tex5"),e.push("tex6"),e.push("tex7"),e.push("tex8"),e},destroy:function(e){e.destroy()},clone:function(e){return e.clone()},setInt:function(e,n,t){e.uniforms.setInt(n,t)},setFloat:function(e,n,t){e.uniforms.setFloat(n,t)},setVec2:function(e,n,t,i){e.uniforms.setVector2(n,t,i)},setVec3:function(e,n,t,i,l){e.uniforms.setVector3(n,t,i,l)},setVec4:function(e,n,t,i,l,s){e.uniforms.setVector4(n,t,i,l,s)},setFloatArray:function(e,n,t){e.uniforms.setFloatArray(n,new Float32Array(t))},setTexture:function(e,n,t,i){e.uniforms.setTexture(n,t,i)},setMat2:function(e,n,t,i,l,s){e.uniforms.setMatrix2(n,new Float32Array([t,i,l,s]))},setMat3:function(e,n,t,i,l,s,r,h,a,o,c){e.uniforms.setMatrix3(n,new Float32Array([t,i,l,s,r,h,a,o,c]))},setMat4:function(e,n,t,i,l,s,r,h,a,o,c,u,_,d,b,g,O,f){e.uniforms.setMatrix4(n,new Float32Array([t,i,l,s,r,h,a,o,c,u,_,d,b,g,O,f]))},customFloatAttributesSize:function(e){var n=0,t=e.customAttributes;if(null!=t)for(var i=0,l=t.length;i<l;)n+=t[i++].size;return n},maxIfStatementsByFragmentShader:function(){return 8},canBatchWithMultipleTextures:function(e){return e.isBatchingMultiTexture},supportsHotReloadPath:function(){return!0},__class__:_n},(E["spec.TextInput"]=ka).__name__="spec.TextInput",ka.__isInterface__=!0,ka.prototype={start:null,stop:null,__class__:ka},function(){this.inputRectH=0,this.inputRectW=0,this.inputRectY=0,this.inputRectX=0,this.inputActive=!1}),bn=((E["backend.TextInput"]=dn).__name__="backend.TextInput",dn.__interfaces__=[ka],dn.prototype={inputActive:null,inputRectX:null,inputRectY:null,inputRectW:null,inputRectH:null,start:function(e,n,t,i,l){this.inputActive||(this.inputRectX=0|n,this.inputRectY=0|t,this.inputRectW=0|Math.max(1,i),this.inputRectH=0|Math.max(1,l),this.inputActive=!0)},stop:function(){this.inputActive&&(this.inputRectX=0,this.inputRectY=0,this.inputRectW=0,this.inputRectH=0,this.inputActive=!1)},handleTextInput:function(e){" "!=e&&ke.app.textInput.appendText(e)},handleKeyDown:function(e,n){this.inputActive&&(42==n?ke.app.textInput.backspace():44==n?ke.app.textInput.space():40==n?ke.app.textInput.enter():88==n?ke.app.textInput.kpEnter():41==n?ke.app.textInput.escape():80==n?ke.app.textInput.moveLeft():79==n?ke.app.textInput.moveRight():82==n?ke.app.textInput.moveUp():81==n&&ke.app.textInput.moveDown()),225==n?ke.app.textInput.lshiftDown():229==n?ke.app.textInput.rshiftDown():224==n?ke.app.textInput.lctrlDown():228==n?ke.app.textInput.rctrlDown():227==n?ke.app.textInput.lmetaDown():231==n&&ke.app.textInput.rmetaDown()},handleKeyUp:function(e,n){225==n?ke.app.textInput.lshiftUp():229==n?ke.app.textInput.rshiftUp():224==n?ke.app.textInput.lctrlUp():228==n?ke.app.textInput.rctrlUp():227==n?ke.app.textInput.lmetaUp():231==n&&ke.app.textInput.rmetaUp()},__class__:dn},(E["spec.Texts"]=ma).__name__="spec.Texts",ma.__isInterface__=!0,ma.prototype={load:null,supportsHotReloadPath:null,__class__:ma},function(){this.loadingTextCallbacks=new te}),gn=((E["backend.Texts"]=bn).__name__="backend.Texts",bn.__interfaces__=[ma],bn.prototype={load:function(r,e,n){function uea(e){function Aea(){n(e),n=null}null!=s?s.push(Aea):ke.app._onceImmediate(Aea)}var t,i,h=this,l=null!=e&&2==e.loadMethod,s=null!=e?e.immediate:null,e=z.startsWith(r,"http://")||z.startsWith(r,"https://");Dt.isAbsolute(r)||e||(r=Dt.join([ke.app.settings.assetsPath,r])),Object.prototype.hasOwnProperty.call(this.loadingTextCallbacks.h,r)?this.loadingTextCallbacks.h[r].push(function(e){uea(e)}):(this.loadingTextCallbacks.h[r]=[],t=r,e||-1!=(i=t.indexOf("?"))&&(t=he.substr(t,0,i)),i=e?t:Z.app.assets.fullPath(t),Z.app.io.loadData(i,!0,!l,function(e){if(null==e)if(null!=(l=h.loadingTextCallbacks.h[r]))for(var n=h.loadingTextCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,r)&&delete n.h[r],uea(null),0);t<l.length;){var i=l[t];++t,i(null)}else uea(null);else{var l,s=new is(new Uint8Array(e.buffer)).toString();if(null!=(l=h.loadingTextCallbacks.h[r]))for(n=h.loadingTextCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,r)&&delete n.h[r],uea(s),0);t<l.length;){i=l[t];++t,i(s)}else uea(s)}}),null!=s?s.push(Li.flush):ke.app._onceImmediate(Li.flush))},supportsHotReloadPath:function(){return!0},loadingTextCallbacks:null,__class__:bn},(E["spec.Textures"]=pa).__name__="spec.Textures",pa.__isInterface__=!0,pa.prototype={load:null,loadFromBytes:null,supportsHotReloadPath:null,createTexture:null,destroyTexture:null,getTextureId:null,getTextureWidth:null,getTextureHeight:null,getTextureWidthActual:null,getTextureHeightActual:null,fetchTexturePixels:null,submitTexturePixels:null,setTextureFilter:null,setTextureWrapS:null,setTextureWrapT:null,createRenderTarget:null,maxTexturesByBatch:null,getTextureIndex:null,textureToPng:null,pixelsToPng:null,__class__:pa},function(){this.loadedTexturesRetainCount=new te,this.loadedTextures=new te,this.loadingTextureCallbacks=new te,this.nextBytesIndex=0,this.nextPixelsIndex=0,this.nextRenderIndex=0}),e=((E["backend.Textures"]=gn).__name__="backend.Textures",gn.__interfaces__=[pa],gn.computeMaxTextureSizeIfNeeded=function(){-1==gn._maxTextureSize&&(gn._maxTextureSize=Z._graphics.getMaxTextureSize())},gn.computeMaxTexturesByBatchIfNeeded=function(){-1==gn._maxTexturesByBatch&&(gn._maxTexturesByBatch=Z._graphics.getMaxTextureUnits())},gn.prototype={load:function(r,e,n){function Oea(e){function Xea(){n(e),n=null}null!=s?s.push(Xea):ke.app._onceImmediate(Xea)}var t,i,h,a,o=this,l=null!=e&&2==e.loadMethod,s=null!=e?e.immediate:null,c=z.startsWith(r,"http://")||z.startsWith(r,"https://");Dt.isAbsolute(r)||c||(r=Dt.join([ke.app.settings.assetsPath,r])),Object.prototype.hasOwnProperty.call(this.loadedTextures.h,r)?(this.loadedTexturesRetainCount.h[r]+=1,t=this.loadedTextures.h[r],Oea(t)):Object.prototype.hasOwnProperty.call(this.loadingTextureCallbacks.h,r)?this.loadingTextureCallbacks.h[r].push(function(e){var n;null!=e&&(n=Object.prototype.hasOwnProperty.call(o.loadedTexturesRetainCount.h,r)?o.loadedTexturesRetainCount.h[r]:0,o.loadedTexturesRetainCount.h[r]=n+1),Oea(e)}):(t=r,c||-1!=(i=t.indexOf("?"))&&(t=he.substr(t,0,i)),this.loadingTextureCallbacks.h[r]=[function(e){var n;null!=e&&(n=Object.prototype.hasOwnProperty.call(o.loadedTexturesRetainCount.h,r)?o.loadedTexturesRetainCount.h[r]:0,o.loadedTexturesRetainCount.h[r]=n+1),Oea(e)}],i=c?t:Z.app.assets.fullPath(t),h=!0,null!=e&&null!=e.premultiplyAlpha&&(h=e.premultiplyAlpha),a=function(){for(var e=o.loadingTextureCallbacks.h[r],n=o.loadingTextureCallbacks,t=(Object.prototype.hasOwnProperty.call(n.h,r)&&delete n.h[r],0);t<e.length;){var i=e[t];++t;try{i(null)}catch(e){zl.lastError=e;i=[ct.caught(e).unwrap()];ke.app._onceImmediate(function(e){return function(){throw ct.thrown(e[0])}}(i))}}},Z.app.assets.loadImage(i,null,!l,function(e){if(null==e)a();else{var n=null;try{if(null==(n=Ki.fromImage(e,h)))return void a();n.id=r,n.init()}catch(l){zl.lastError=l;var t=ct.caught(l).unwrap();return ke.app.logger.error("Failed to create texture: "+ot.string(t),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:153,className:"backend.Textures",methodName:"load"}),void a()}o.loadedTextures.h[r]=n;for(var i=o.loadingTextureCallbacks.h[r],e=o.loadingTextureCallbacks,l=(Object.prototype.hasOwnProperty.call(e.h,r)&&delete e.h[r],0);l<i.length;){var s=i[l];++l;try{s(n)}catch(e){zl.lastError=e;t=[ct.caught(e).unwrap()];ke.app._onceImmediate(function(e){return function(){throw ct.thrown(e[0])}}(t))}}}}),null!=s?s.push(Li.flush):ke.app._onceImmediate(Li.flush))},loadFromBytes:function(e,n,t,i){function y4a(e){function D4a(){i(e),i=null}null!=r?r.push(D4a):ke.app._onceImmediate(D4a)}var l=this,s="bytes:"+this.nextBytesIndex++,r=(null!=t&&t.loadMethod,null!=t?t.immediate:null),h=!0;null!=t&&null!=t.premultiplyAlpha&&(h=t.premultiplyAlpha);Z.app.assets.imageFromBytes(new Uint8Array(e.b.bufferValue),n,null,null,function(n){if(null==n)y4a(null);else{var e=null;try{if(null==(e=Ki.fromImage(n,h)))return void y4a(null);e.id=s,e.init()}catch(e){zl.lastError=e;n=ct.caught(e).unwrap();return ke.app.logger.error("Failed to create texture: "+ot.string(n),{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:240,className:"backend.Textures",methodName:"loadFromBytes"}),void y4a(null)}l.loadedTexturesRetainCount.h[s]=1,y4a(e)}}),null!=r?r.push(Li.flush):ke.app._onceImmediate(Li.flush)},supportsHotReloadPath:function(){return!0},nextRenderIndex:null,nextPixelsIndex:null,nextBytesIndex:null,createTexture:function(e,n,t){var i="pixels:"+this.nextPixelsIndex++,l=new Ki;return l.id=i,l.width=e,l.height=n,l.pixels=t,l.init(),this.loadedTexturesRetainCount.h[i]=1,l},createRenderTarget:function(e,n,t,i,l){var s="render:"+this.nextRenderIndex++,r=Z.app.runtime.webglVersion,h=new qi;return h.id=s,h.width=e,h.height=n,h.depth=t,h.stencil=i,h.antialiasing=2<=r?l:0,h.init(),this.loadedTexturesRetainCount.h[s]=1,h},fetchTexturePixels:function(e,n){var t=e.width,i=e.height;return null==n&&(n=new Uint8Array(t*i*4)),e.fetch(n),n},submitTexturePixels:function(e,n){e.submit(n)},destroyTexture:function(e){var n,t=e.id;1<this.loadedTexturesRetainCount.h[t]?--this.loadedTexturesRetainCount.h[t]:(n=this.loadedTextures,Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t],n=this.loadedTexturesRetainCount,Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t],e.destroy())},getTextureId:function(e){return e.textureId},getTextureWidth:function(e){return e.width},getTextureHeight:function(e){return e.height},getTextureWidthActual:function(e){return e.widthActual},getTextureHeightActual:function(e){return e.heightActual},getTextureIndex:function(e){return e.index},setTextureFilter:function(e,n){switch(n._hx_index){case 0:e.set_filterMin(9729),e.set_filterMag(9729);break;case 1:e.set_filterMin(9728),e.set_filterMag(9728)}},setTextureWrapS:function(e,n){switch(n){case 0:e.set_wrapS(33071);break;case 1:e.set_wrapS(10497);break;case 2:e.set_wrapS(33648)}},setTextureWrapT:function(e,n){switch(n){case 0:e.set_wrapT(33071);break;case 1:e.set_wrapT(10497);break;case 2:e.set_wrapT(33648)}},maxTextureWidth:function(){return-1==gn._maxTextureSize&&(gn._maxTextureSize=Z._graphics.getMaxTextureSize()),gn._maxTextureSize},maxTextureHeight:function(){return-1==gn._maxTextureSize&&(gn._maxTextureSize=Z._graphics.getMaxTextureSize()),gn._maxTextureSize},maxTexturesByBatch:function(){return-1==gn._maxTexturesByBatch&&(gn._maxTexturesByBatch=Z._graphics.getMaxTextureUnits()),gn._maxTexturesByBatch},textureToPng:function(e,n,t,i){null==n&&(n=!0);var l=this.fetchTexturePixels(e);e.id;n&&St.reversePremultiplyAlpha(l),Z.app.assets.pixelsToPngData(e.width,e.height,l,function(e){null!=e?null!=t?(Xn.saveBytes(t,new is(new Uint8Array(e.buffer))),i()):i(new is(new Uint8Array(e.buffer))):(ke.app.logger.warning("Failed to get PNG data from texture",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:686,className:"backend.Textures",methodName:"textureToPng"}),i(null))})},pixelsToPng:function(e,n,t,i,l){Z.app.assets.pixelsToPngData(e,n,t,function(e){null!=e?null!=i?(Xn.saveBytes(i,new is(new Uint8Array(e.buffer))),l()):l(new is(new Uint8Array(e.buffer))):(ke.app.logger.warning("Failed to get PNG data from pixels",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:716,className:"backend.Textures",methodName:"pixelsToPng"}),l(null))})},loadingTextureCallbacks:null,loadedTextures:null,loadedTexturesRetainCount:null,__class__:gn},en["backend.VisualItem"]={__ename__:"backend.VisualItem",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"backend.VisualItem",toString:c},QUAD:{_hx_name:"QUAD",_hx_index:1,__enum__:"backend.VisualItem",toString:c},MESH:{_hx_name:"MESH",_hx_index:2,__enum__:"backend.VisualItem",toString:c}}),On=(e.__constructs__=[e.NONE,e.QUAD,e.MESH],(E["binpacking.IOccupancy"]=sa).__name__="binpacking.IOccupancy",sa.__isInterface__=!0,sa.prototype={occupancy:null,__class__:sa},(E["binpacking.MaxRectsPackerBestFitPosition"]=ta).__name__="binpacking.MaxRectsPackerBestFitPosition",ta.prototype={bestNode:null,bestAreaFit:null,bestShortSideFit:null,bestLongSideFit:null,bestContactScore:null,bestX:null,bestY:null,__class__:ta},(E["binpacking.MaxRectsPackerRectScore"]=ua).__name__="binpacking.MaxRectsPackerRectScore",ua.prototype={rect:null,primaryScore:null,secondaryScore:null,__class__:ua},(E["binpacking.MaxRectsPacker"]=va).__name__="binpacking.MaxRectsPacker",va.__interfaces__=[sa],va.prototype={binWidth:null,binHeight:null,binAllowFlip:null,usedRectangles:null,freeRectangles:null,_bestFitPosition:null,insert:function(e,n,t){var i;switch(t){case 1:i=this.findPositionForNewNodeBestShortSideFit(e,n,this._bestFitPosition).bestNode;break;case 2:i=this.findPositionForNewNodeBestLongSideFit(e,n,this._bestFitPosition).bestNode;break;case 3:i=this.findPositionForNewNodeBestAreaFit(e,n,this._bestFitPosition).bestNode;break;case 4:i=this.findPositionForNewNodeBottomLeft(e,n,this._bestFitPosition).bestNode;break;case 5:i=this.findPositionForNewNodeContactPoint(e,n,this._bestFitPosition).bestNode}if(null==i||0==i.width||0==i.height)return null;for(var l=this.freeRectangles.length,s=0;s<l;)this.splitFreeNode(this.freeRectangles[s],i)&&(this.freeRectangles.splice(s,1),--s,--l),++s;return this.pruneFreeList(),this.usedRectangles.push(i),i},occupancy:function(){if(0==this.usedRectangles.length)return 0;for(var e=0,n=0,t=this.usedRectangles.length;n<t;){var i=n++;e+=this.usedRectangles[i].width*this.usedRectangles[i].height}return e/(this.binWidth*this.binHeight)},scoreRect:function(e,n,t){var i=new On,l=1073741823,s=1073741823;switch(t){case 1:var r,i=(r=this.findPositionForNewNodeBestShortSideFit(e,n,this._bestFitPosition)).bestNode,l=r.bestShortSideFit,s=r.bestLongSideFit;break;case 2:i=(r=this.findPositionForNewNodeBestLongSideFit(e,n,this._bestFitPosition)).bestNode,l=r.bestLongSideFit,s=r.bestLongSideFit;break;case 3:i=(r=this.findPositionForNewNodeBestAreaFit(e,n,this._bestFitPosition)).bestNode,l=r.bestAreaFit,s=r.bestShortSideFit;break;case 4:i=(r=this.findPositionForNewNodeBottomLeft(e,n,this._bestFitPosition)).bestNode,l=r.bestY,s=r.bestX;break;case 5:i=(r=this.findPositionForNewNodeContactPoint(e,n,this._bestFitPosition)).bestNode,l=-r.bestContactScore}return 0==i.height&&(s=l=1073741823),new ua(i,l,s)},contactPointScoreNode:function(e,n,t,i){for(var l=0,s=(0!=e&&e+t!=this.binWidth||(l+=i),0!=n&&n+i!=this.binHeight||(l+=t),0),r=this.usedRectangles.length;s<r;){var h=s++;this.usedRectangles[h].x!=e+t&&this.usedRectangles[h].x+this.usedRectangles[h].width!=e||(l+=0|this.commonIntervalLength(this.usedRectangles[h].y,this.usedRectangles[h].height,n,n+i)),this.usedRectangles[h].y!=n+i&&this.usedRectangles[h].y+this.usedRectangles[h].height!=n||(l+=0|this.commonIntervalLength(this.usedRectangles[h].x,this.usedRectangles[h].x+this.usedRectangles[h].width,e,e+t))}return l},findPositionForNewNodeBottomLeft:function(e,n,t){for(var i=new On,l=1073741823,s=1073741823,r=0,h=this.freeRectangles.length;r<h;){var a,o=r++;this.freeRectangles[o].width>=e&&this.freeRectangles[o].height<s&&(a=this.freeRectangles[o].y+n|0,i.x=this.freeRectangles[o].x,i.y=this.freeRectangles[o].y,i.width=e,i.height=n,l=a,s=0|this.freeRectangles[o].x),this.binAllowFlip&&this.freeRectangles[o].width>=n&&this.freeRectangles[o].height>=e&&(a=this.freeRectangles[o].y+n|0,i.x=this.freeRectangles[o].x,i.y=this.freeRectangles[o].y,i.width=e,i.height=n,l=a,s=0|this.freeRectangles[o].x)}return t.bestNode=i,t.bestY=l,t.bestX=s,t},findPositionForNewNodeBestShortSideFit:function(e,n,t){for(var i=new On,l=1073741823,s=1073741823,r=0,h=this.freeRectangles.length;r<h;){var a,o,c,u,_=r++;this.freeRectangles[_].width>=e&&this.freeRectangles[_].height>=n&&(c=Math.abs(this.freeRectangles[_].width-e),a=Math.abs(this.freeRectangles[_].height-n),o=Math.min(c,a),c=Math.max(c,a),o<l||o==l&&c<s)&&(i.x=this.freeRectangles[_].x,i.y=this.freeRectangles[_].y,i.width=e,i.height=n,l=0|o,s=0|c),this.binAllowFlip&&this.freeRectangles[_].width>=n&&this.freeRectangles[_].height>=e&&(a=Math.abs(this.freeRectangles[_].width-n),o=Math.abs(this.freeRectangles[_].height-e),c=Math.min(a,o),u=Math.max(a,o),c<l||c==l&&u<s)&&(i.x=this.freeRectangles[_].x,i.y=this.freeRectangles[_].y,i.width=n,i.height=e,i.flipped=!i.flipped,l=0|c,s=0|u)}return t.bestNode=i,t.bestShortSideFit=l,t.bestLongSideFit=s,t},findPositionForNewNodeBestLongSideFit:function(e,n,t){for(var i=new On,l=1073741823,s=1073741823,r=0,h=this.freeRectangles.length;r<h;){var a,o,c,u,_=r++;this.freeRectangles[_].width>=e&&this.freeRectangles[_].height>=n&&(c=Math.abs(this.freeRectangles[_].width-e),a=Math.abs(this.freeRectangles[_].height-n),o=Math.min(c,a),(c=Math.max(c,a))<s||c==s&&o<l)&&(i.x=this.freeRectangles[_].x,i.y=this.freeRectangles[_].y,i.width=e,i.height=n,l=0|o,s=0|c),this.binAllowFlip&&this.freeRectangles[_].width>=n&&this.freeRectangles[_].height>=e&&(a=Math.abs(this.freeRectangles[_].width-e),o=Math.abs(this.freeRectangles[_].height-n),c=Math.min(a,o),(u=Math.max(a,o))<s||u==s&&c<l)&&(i.x=this.freeRectangles[_].x,i.y=this.freeRectangles[_].y,i.width=n,i.height=e,i.flipped=!i.flipped,l=0|c,s=0|u)}return t.bestNode=i,t.bestShortSideFit=l,t.bestLongSideFit=s,t},findPositionForNewNodeBestAreaFit:function(e,n,t){for(var i=new On,l=1073741823,s=1073741823,r=0,h=this.freeRectangles.length;r<h;){var a,o,c,u=r++,_=this.freeRectangles[u].width*this.freeRectangles[u].height-e*n;this.freeRectangles[u].width>=e&&this.freeRectangles[u].height>=n&&(o=Math.abs(this.freeRectangles[u].width-e),a=Math.abs(this.freeRectangles[u].height-n),o=Math.min(o,a),_<l||_==l&&o<s)&&(i.x=this.freeRectangles[u].x,i.y=this.freeRectangles[u].y,i.width=e,i.height=n,s=0|o,l=0|_),this.binAllowFlip&&this.freeRectangles[u].width>=n&&this.freeRectangles[u].height>=e&&(a=Math.abs(this.freeRectangles[u].width-n),o=Math.abs(this.freeRectangles[u].height-e),c=Math.min(a,o),_<l||_==l&&c<s)&&(i.x=this.freeRectangles[u].x,i.y=this.freeRectangles[u].y,i.width=n,i.height=e,i.flipped=!i.flipped,s=0|c,l=0|_)}return t.bestNode=i,t.bestAreaFit=l,t.bestShortSideFit=s,t},findPositionForNewNodeContactPoint:function(e,n,t){for(var i=new On,l=-1,s=0,r=this.freeRectangles.length;s<r;){var h,a=s++;this.freeRectangles[a].width>=e&&this.freeRectangles[a].height>=n&&l<(h=this.contactPointScoreNode(0|this.freeRectangles[a].x,0|this.freeRectangles[a].y,e,n))&&(i.x=this.freeRectangles[a].x,i.y=this.freeRectangles[a].y,i.width=e,i.height=n,l=h),this.freeRectangles[a].width>=n&&this.freeRectangles[a].height>=e&&l<(h=this.contactPointScoreNode(0|this.freeRectangles[a].x,0|this.freeRectangles[a].y,n,e))&&(i.x=this.freeRectangles[a].x,i.y=this.freeRectangles[a].y,i.width=n,i.height=e,i.flipped=!i.flipped,l=h)}return t.bestNode=i,t.bestContactScore=l,t},splitFreeNode:function(e,n){var t;return!(n.x>=e.x+e.width||n.x+n.width<=e.x||n.y>=e.y+e.height||n.y+n.height<=e.y||(n.x<e.x+e.width&&n.x+n.width>e.x&&(n.y>e.y&&n.y<e.y+e.height&&((t=new On(e.x,e.y,e.width,e.height)).height=n.y-t.y,this.freeRectangles.push(t)),n.y+n.height<e.y+e.height)&&((t=new On(e.x,e.y,e.width,e.height)).y=n.y+n.height,t.height=e.y+e.height-(n.y+n.height),this.freeRectangles.push(t)),n.y<e.y+e.height&&n.y+n.height>e.y&&(n.x>e.x&&n.x<e.x+e.width&&((t=new On(e.x,e.y,e.width,e.height)).width=n.x-t.x,this.freeRectangles.push(t)),n.x+n.width<e.x+e.width)&&((t=new On(e.x,e.y,e.width,e.height)).x=n.x+n.width,t.width=e.x+e.width-(n.x+n.width),this.freeRectangles.push(t)),0))},pruneFreeList:function(){for(var e=0;e<this.freeRectangles.length;){for(var n=e+1;n<this.freeRectangles.length;){var t=this.freeRectangles[e],i=this.freeRectangles[n];if(t.x>=i.x&&t.y>=i.y&&t.x+t.width<=i.x+i.width&&t.y+t.height<=i.y+i.height){this.freeRectangles.splice(e,1),--e;break}t=this.freeRectangles[n],i=this.freeRectangles[e];t.x>=i.x&&t.y>=i.y&&t.x+t.width<=i.x+i.width&&t.y+t.height<=i.y+i.height?this.freeRectangles.splice(n,1):++n}++e}},commonIntervalLength:function(e,n,t,i){return n<t||i<e?0:(n<i?n:i)-(t<e?e:t)},__class__:va},(E["binpacking.RectSize"]=wa).__name__="binpacking.RectSize",wa.prototype={width:null,height:null,__class__:wa},function(e,n,t,i,l){null==l&&(l=!1),null==i&&(i=0),null==t&&(t=0),null==n&&(n=0),this.x=e=null==e?0:e,this.y=n,this.width=t,this.height=i,this.flipped=l}),ke=((E["binpacking.Rect"]=On).__name__="binpacking.Rect",On.prototype={x:null,y:null,width:null,height:null,flipped:null,clone:function(){return new On(this.x,this.y,this.width,this.height)},isContainedIn:function(e){return this.x>=e.x&&this.y>=e.y&&this.x+this.width<=e.x+e.width&&this.y+this.height<=e.y+e.height},__class__:On},(E["binpacking.DisjointRectCollection"]=ya).__name__="binpacking.DisjointRectCollection",ya.rectsDisjoint=function(e,n){return e.x+e.width<=n.x||n.x+n.width<=e.x||e.y+e.height<=n.y||n.y+n.height<=e.y},ya.prototype={rects:null,add:function(e){if(0!=e.width&&0!=e.height){if(!this.disjoint(e))return!1;this.rects.push(e)}return!0},clear:function(){this.rects=[]},disjoint:function(e){if(0!=e.width&&0!=e.height)for(var n=0,t=this.rects.length;n<t;){var i=n++;if(!ya.rectsDisjoint(this.rects[i],e))return!1}return!0},__class__:ya},(E["ceramic.Mesh"]=Aa).__name__="ceramic.Mesh",Aa.__super__=q,Aa.prototype=$extend(q.prototype,{colorMapping:null,customFloatAttributesSize:null,complexHit:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.texture&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.release(),(this.texture=null)!=this.texture)&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.retain(),this._lifecycleState=-1,q.prototype.destroy.call(this))},get_color:function(){var e,n,t,i;return null!=this.floatColors&&3<=this.floatColors.length?(n=this.floatColors[0],t=this.floatColors[1],i=this.floatColors[2],16776960&(16711935&(65535&0|(255<(e=Math.round(255*n))?255:e<0?0:e)<<16)|(255<(e=Math.round(255*t))?255:e<0?0:e)<<8)|(255<(e=Math.round(255*i))?255:e<0?0:e)):null!=this.colors&&0<this.colors.length?16776960&(16711935&(65535&0|(255<(n=(e=this.colors[0])>>16&255)?255:n<0?0:n)<<16)|(255<(t=e>>8&255)?255:t<0?0:t)<<8)|(255<(i=255&e)?255:i<0?0:i):16777215},set_color:function(e){var n;return null!=this.floatColors?(this.floatColors[0]=(e>>16&255)/255,this.floatColors[1]=(e>>8&255)/255,this.floatColors[2]=(255&e)/255,this.floatColors[3]=1):(null==this.colors&&(this.colors=[]),this.colors[0]=(0|e)-16777216&16777215|((n=255)<(n=null==n?255:n)?255:n<0?0:n)<<24),e},vertices:null,vertices32:null,indices:null,colors:null,floatColors:null,texture:null,set_texture:function(e){return this.texture!=e&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.release(),this.texture=e,null!=this.texture&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset))&&this.texture.asset.retain(),e},uvs:null,textureDestroyed:function(e){null!=this.texture&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.release(),(this.texture=null)!=this.texture)&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset)&&this.texture.asset.retain()},hitTest:function(e,n,t){if(this.complexHit){var i,l,s,r,h,a,o,c,u,_=e*t.a+n*t.c+t.tx,d=e*t.b+n*t.d+t.ty,b=2+this.customFloatAttributesSize,g=0,O=0,f=this.indices.length/3|0;if(null!=this.vertices32)for(;g<f;){l=this.indices[O],++O,s=this.indices[O],++O,r=this.indices[O],++O,h=this.vertices32[i=l*b],++i,a=this.vertices32[i],o=this.vertices32[i=s*b],++i,c=this.vertices32[i],u=this.vertices32[i=r*b],++i;var p,C=(_-u)*(c-(p=this.vertices32[i]))-(o-u)*(d-p),v=(_-h)*(p-a)-(u-h)*(d-a),m=0<(w=(_-o)*(a-c)-(h-o)*(d-c))||0<C||0<v;if(!(w<0||C<0||v<0)||!m)return!0;++g}else for(;g<f;){l=this.indices[O],++O,s=this.indices[O],++O,r=this.indices[O],++O,h=this.vertices[i=l*b],++i,a=this.vertices[i],o=this.vertices[i=s*b],++i,c=this.vertices[i],u=this.vertices[i=r*b],++i;var w,C=(_-u)*(c-(p=this.vertices[i]))-(o-u)*(d-p),v=(_-h)*(p-a)-(u-h)*(d-a),m=0<(w=(_-o)*(a-c)-(h-o)*(d-c))||0<C||0<v;if(!(w<0||C<0||v<0)||!m)return!0;++g}return!1}return q.prototype.hitTest.call(this,e,n,t)},set_shader:function(e){return null!=(this.shader=e)&&(this.customFloatAttributesSize=e.customFloatAttributesSize),e},computeSize:function(){if(null!=this.vertices32&&2<=this.vertices32.length){var e=0,n=0,t=0,i=this.vertices32.length-1;if(0<this.customFloatAttributesSize)for(;t<i;)e<(s=this.vertices32[t])&&(e=s),++t,n<(r=this.vertices32[t])&&(n=r),t+=1+this.customFloatAttributesSize;else for(;t<i;)e<(s=this.vertices32[t])&&(e=s),++t,n<(r=this.vertices32[t])&&(n=r),++t;var l=Math.round(1e3*n)/1e3;this.set_width(Math.round(1e3*e)/1e3),this.set_height(l)}else if(null!=this.vertices&&2<=this.vertices.length){var s,r,e=0,n=0,t=0,i=this.vertices.length-1;if(0<this.customFloatAttributesSize)for(;t<i;)e<(s=this.vertices[t])&&(e=s),++t,n<(r=this.vertices[t])&&(n=r),t+=1+this.customFloatAttributesSize;else for(;t<i;)e<(s=this.vertices[t])&&(e=s),++t,n<(r=this.vertices[t])&&(n=r),++t;l=Math.round(1e3*n)/1e3;this.set_width(Math.round(1e3*e)/1e3),this.set_height(l)}else this.set_width(0),this.set_height(0)},grid:function(e,n,t,i){for(var l,s=(t=-1==(t=null==t?-1:t)?this._width:t)/e,r=(i=-1==(i=null==i?-1:i)?this._height:i)/n,h=0,a=0,o=0,c=n+1;o<c;)for(var u=o++,_=u*r,d=0,b=e+1;d<b;){var g=d++;this.vertices[h]=g*s,++h,this.vertices[h]=_,++h,0<u&&0<g&&(this.indices[a]=g=(u-1)*(e+1)+g-1,++a,this.indices[a]=1+g,++a,this.indices[a]=g+(e+1),++a,this.indices[a]=1+g,++a,this.indices[a]=g+(e+1),++a,this.indices[a]=g+(e+1)+1,++a)}if(this.vertices.length>h&&(l=this.vertices).length!=h)if(l.length>h)l.splice(h,l.length-h);else for(var O=l;O.length<h;)O.push(null);if(this.indices.length>a&&(l=this.indices).length!=a)if(l.length>a)l.splice(a,l.length-a);else for(O=l;O.length<a;)O.push(null)},gridFromTexture:function(e,n,t){null==t&&(t=this.texture),this.grid(e,n,t.width,t.height);for(var i=0,l=1/e,s=1/n,r=0,h=n+1;r<h;)for(var a=r++*s,o=(this.uvs[i]=0,this.uvs[++i]=a,++i,1),c=e+1;o<c;){var u=o++;this.uvs[i]=u*l,++i,this.uvs[i]=a,++i}if(this.uvs.length>i){t=this.uvs;if(t.length!=i)if(t.length>i)t.splice(i,t.length-i);else for(var _=t;_.length<i;)_.push(null)}},__class__:Aa,__properties__:$extend(q.prototype.__properties__,{set_texture:"set_texture",set_color:"set_color",get_color:"get_color"})}),(E["ceramic.AntialiasedTriangle"]=Ba).__name__="ceramic.AntialiasedTriangle",Ba.__super__=Aa,Ba.prototype=$extend(Aa.prototype,{set_width:function(e){return Aa.prototype.set_width.call(this,e),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.antialiasing,this.vertices[7]=this.get_height()+this.antialiasing,this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.antialiasing,this.vertices[10]=this.get_width()+this.antialiasing,this.vertices[11]=this.get_height()+this.antialiasing,e},set_height:function(e){return Aa.prototype.set_height.call(this,e),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.antialiasing,this.vertices[7]=this.get_height()+this.antialiasing,this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.antialiasing,this.vertices[10]=this.get_width()+this.antialiasing,this.vertices[11]=this.get_height()+this.antialiasing,e},antialiasing:null,set_antialiasing:function(e){return this.antialiasing!=e&&(this.antialiasing=e,this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.antialiasing,this.vertices[7]=this.get_height()+this.antialiasing,this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.antialiasing,this.vertices[10]=this.get_width()+this.antialiasing,this.vertices[11]=this.get_height()+this.antialiasing),e},set_color:function(e){if(null==this.colors)this.colors=[0,0,0,0,0,0];else if(6!=this.colors.length){var n=this.colors;if(6!=n.length)if(6<n.length)n.splice(6,n.length-6);else for(var t=n;t.length<6;)t.push(null)}var n=255,i=(0|e)-16777216,n=(this.colors[0]=i&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,255),n=(this.colors[1]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,255),n=(this.colors[2]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,0),n=(this.colors[3]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,0),n=(this.colors[4]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,0);return this.colors[5]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,e},updateVertices:function(){this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.antialiasing,this.vertices[7]=this.get_height()+this.antialiasing,this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.antialiasing,this.vertices[10]=this.get_width()+this.antialiasing,this.vertices[11]=this.get_height()+this.antialiasing},__class__:Ba,__properties__:$extend(Aa.prototype.__properties__,{set_antialiasing:"set_antialiasing"})}),function(){this.info={name:"spine-raptor",collections:{},version:"1.0",package:null,author:"Jeremy Faivre",displayName:"Spine Raptor"},this._computeRenderTexturesPriorityQueue=[],this.numBlockingDefaultScroll=0,this.disposedEntities=[],this.beginUpdateCallbacks=[],this.visualsContentDirty=!1,this.hierarchyDirty=!1,this.lazyScenes=!0,this.timelines=new vi,this.converters=new te,this.textInput=null,this.persistent=null,this.projectDir=null,this.defaultFont=null,this.defaultWhiteTexture=null,this.defaultTexturedShader=null,this.renderTextures=[],this.groups=[],this.destroyedVisuals=[],this.pendingVisuals=[],this.visuals=[],this.logger=new Ut,this.frame=0,this._computeFps=new An,this.inUpdate=!1,this._xUpdatesToCallNow=[],this._xUpdatesHandlers=[],this._xUpdatesHandlersPool=new o,this.loaders=[],this.postFlushImmediateCallbacksLen=0,this.postFlushImmediateCallbacksCapacity=0,this.postFlushImmediateCallbacks=[],this.immediateCallbacksLen=0,this.immediateCallbacksCapacity=0,this.immediateCallbacks=[],j.call(this),ke.app=this,ii.pluginInit(),Ft.init(),Dr.backend=new Di,this.settings=new zt,this.screen=new Rt,this.audio=new mn,this.input=new nt,this.systems=new ri,this.assets=new tn,this.backend=new O,this.backend.onceReady(this,$bind(this,this.backendReady)),this.backend.init(this)}),fn=((E["ceramic.App"]=ke).__name__="ceramic.App",ke.__properties__={get_app:"get_app"},ke.get_app=function(){return ke.app},ke.oncePreInit=function(e){null==ke.preInitCallbacks&&(ke.preInitCallbacks=[]),ke.preInitCallbacks.push(e)},ke.init=function(){return F.bind(),new ke,new et(ke.app.settings)},ke.__super__=j,ke.prototype=$extend(j.prototype,{__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var l=0,s=this.__cbOnReady.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnReady[r],++i):--e}if(null!=this.__cbOnceReady){for(var h=null,a=null,l=0,s=this.__cbOnceReady.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceReady[r],this.__cbOnceReady[r]=null,o=this.__cbOnceOwnerUnbindReady[r],(this.__cbOnceOwnerUnbindReady[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindReady[r]),a.push(this.__cbOnceReady[r]))}this.__cbOnceOwnerUnbindReady=h,this.__cbOnceReady=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(t)},onceReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(t)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReady[n])&&s(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReady[n])&&s(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReady[l])&&s()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReady[l])&&s()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&0<this.__cbOnReady.length||null!=this.__cbOnceReady&&0<this.__cbOnceReady.length},__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnPreUpdate:null,__cbOncePreUpdate:null,__cbOnOwnerUnbindPreUpdate:null,__cbOnceOwnerUnbindPreUpdate:null,emitPreUpdate:function(e){var n=0;if(null!=this.__cbOnPreUpdate&&(n+=this.__cbOnPreUpdate.length),null!=this.__cbOncePreUpdate&&(n+=this.__cbOncePreUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPreUpdate)for(var s=0,r=this.__cbOnPreUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnPreUpdate[h],++l):--n}if(null!=this.__cbOncePreUpdate){for(var a=null,o=null,s=0,r=this.__cbOncePreUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOncePreUpdate[h],this.__cbOncePreUpdate[h]=null,c=this.__cbOnceOwnerUnbindPreUpdate[h],(this.__cbOnceOwnerUnbindPreUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPreUpdate[h]),o.push(this.__cbOncePreUpdate[h]))}this.__cbOnceOwnerUnbindPreUpdate=a,this.__cbOncePreUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPreUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event preUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offPreUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPreUpdate&&(this.__cbOnOwnerUnbindPreUpdate=[]),this.__cbOnOwnerUnbindPreUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPreUpdate&&(this.__cbOnOwnerUnbindPreUpdate=[]),this.__cbOnOwnerUnbindPreUpdate.push(null);null==this.__cbOnPreUpdate&&(this.__cbOnPreUpdate=[]),this.__cbOnPreUpdate.push(t)},oncePreUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event preUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offPreUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPreUpdate&&(this.__cbOnceOwnerUnbindPreUpdate=[]),this.__cbOnceOwnerUnbindPreUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPreUpdate&&(this.__cbOnceOwnerUnbindPreUpdate=[]),this.__cbOnceOwnerUnbindPreUpdate.push(null);null==this.__cbOncePreUpdate&&(this.__cbOncePreUpdate=[]),this.__cbOncePreUpdate.push(t)},offPreUpdate:function(e){if(null!=e){var n;null!=this.__cbOnPreUpdate&&-1!=(n=this.__cbOnPreUpdate.indexOf(e))&&(this.__cbOnPreUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPreUpdate[n])&&s(),this.__cbOnOwnerUnbindPreUpdate.splice(n,1)),null!=this.__cbOncePreUpdate&&-1!=(n=this.__cbOncePreUpdate.indexOf(e))&&(this.__cbOncePreUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPreUpdate[n])&&s(),this.__cbOnceOwnerUnbindPreUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPreUpdate){for(var t=0,i=this.__cbOnOwnerUnbindPreUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPreUpdate[l])&&s()}this.__cbOnOwnerUnbindPreUpdate=null}if(null!=this.__cbOnceOwnerUnbindPreUpdate){for(t=0,i=this.__cbOnceOwnerUnbindPreUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPreUpdate[l])&&s()}this.__cbOnceOwnerUnbindPreUpdate=null}this.__cbOnPreUpdate=null,this.__cbOncePreUpdate=null}},listensPreUpdate:function(){return null!=this.__cbOnPreUpdate&&0<this.__cbOnPreUpdate.length||null!=this.__cbOncePreUpdate&&0<this.__cbOncePreUpdate.length},__cbOnPostUpdate:null,__cbOncePostUpdate:null,__cbOnOwnerUnbindPostUpdate:null,__cbOnceOwnerUnbindPostUpdate:null,emitPostUpdate:function(e){var n=0;if(null!=this.__cbOnPostUpdate&&(n+=this.__cbOnPostUpdate.length),null!=this.__cbOncePostUpdate&&(n+=this.__cbOncePostUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPostUpdate)for(var s=0,r=this.__cbOnPostUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnPostUpdate[h],++l):--n}if(null!=this.__cbOncePostUpdate){for(var a=null,o=null,s=0,r=this.__cbOncePostUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOncePostUpdate[h],this.__cbOncePostUpdate[h]=null,c=this.__cbOnceOwnerUnbindPostUpdate[h],(this.__cbOnceOwnerUnbindPostUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindPostUpdate[h]),o.push(this.__cbOncePostUpdate[h]))}this.__cbOnceOwnerUnbindPostUpdate=a,this.__cbOncePostUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPostUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event postUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offPostUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPostUpdate&&(this.__cbOnOwnerUnbindPostUpdate=[]),this.__cbOnOwnerUnbindPostUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPostUpdate&&(this.__cbOnOwnerUnbindPostUpdate=[]),this.__cbOnOwnerUnbindPostUpdate.push(null);null==this.__cbOnPostUpdate&&(this.__cbOnPostUpdate=[]),this.__cbOnPostUpdate.push(t)},oncePostUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event postUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offPostUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPostUpdate&&(this.__cbOnceOwnerUnbindPostUpdate=[]),this.__cbOnceOwnerUnbindPostUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPostUpdate&&(this.__cbOnceOwnerUnbindPostUpdate=[]),this.__cbOnceOwnerUnbindPostUpdate.push(null);null==this.__cbOncePostUpdate&&(this.__cbOncePostUpdate=[]),this.__cbOncePostUpdate.push(t)},offPostUpdate:function(e){if(null!=e){var n;null!=this.__cbOnPostUpdate&&-1!=(n=this.__cbOnPostUpdate.indexOf(e))&&(this.__cbOnPostUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPostUpdate[n])&&s(),this.__cbOnOwnerUnbindPostUpdate.splice(n,1)),null!=this.__cbOncePostUpdate&&-1!=(n=this.__cbOncePostUpdate.indexOf(e))&&(this.__cbOncePostUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPostUpdate[n])&&s(),this.__cbOnceOwnerUnbindPostUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPostUpdate){for(var t=0,i=this.__cbOnOwnerUnbindPostUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPostUpdate[l])&&s()}this.__cbOnOwnerUnbindPostUpdate=null}if(null!=this.__cbOnceOwnerUnbindPostUpdate){for(t=0,i=this.__cbOnceOwnerUnbindPostUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPostUpdate[l])&&s()}this.__cbOnceOwnerUnbindPostUpdate=null}this.__cbOnPostUpdate=null,this.__cbOncePostUpdate=null}},listensPostUpdate:function(){return null!=this.__cbOnPostUpdate&&0<this.__cbOnPostUpdate.length||null!=this.__cbOncePostUpdate&&0<this.__cbOncePostUpdate.length},__cbOnDefaultAssetsLoad:null,__cbOnceDefaultAssetsLoad:null,__cbOnOwnerUnbindDefaultAssetsLoad:null,__cbOnceOwnerUnbindDefaultAssetsLoad:null,emitDefaultAssetsLoad:function(e){var n=0;if(null!=this.__cbOnDefaultAssetsLoad&&(n+=this.__cbOnDefaultAssetsLoad.length),null!=this.__cbOnceDefaultAssetsLoad&&(n+=this.__cbOnceDefaultAssetsLoad.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDefaultAssetsLoad)for(var s=0,r=this.__cbOnDefaultAssetsLoad.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnDefaultAssetsLoad[h],++l):--n}if(null!=this.__cbOnceDefaultAssetsLoad){for(var a=null,o=null,s=0,r=this.__cbOnceDefaultAssetsLoad.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceDefaultAssetsLoad[h],this.__cbOnceDefaultAssetsLoad[h]=null,c=this.__cbOnceOwnerUnbindDefaultAssetsLoad[h],(this.__cbOnceOwnerUnbindDefaultAssetsLoad[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDefaultAssetsLoad[h]),o.push(this.__cbOnceDefaultAssetsLoad[h]))}this.__cbOnceOwnerUnbindDefaultAssetsLoad=a,this.__cbOnceDefaultAssetsLoad=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onDefaultAssetsLoad:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event defaultAssetsLoad because owner is destroyed!");var l=function(e){null!=t&&(i.offDefaultAssetsLoad(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDefaultAssetsLoad&&(this.__cbOnOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnOwnerUnbindDefaultAssetsLoad.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDefaultAssetsLoad&&(this.__cbOnOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnOwnerUnbindDefaultAssetsLoad.push(null);null==this.__cbOnDefaultAssetsLoad&&(this.__cbOnDefaultAssetsLoad=[]),this.__cbOnDefaultAssetsLoad.push(t)},onceDefaultAssetsLoad:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event defaultAssetsLoad because owner is destroyed!");var l=function(e){null!=t&&(i.offDefaultAssetsLoad(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDefaultAssetsLoad&&(this.__cbOnceOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnceOwnerUnbindDefaultAssetsLoad.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDefaultAssetsLoad&&(this.__cbOnceOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnceOwnerUnbindDefaultAssetsLoad.push(null);null==this.__cbOnceDefaultAssetsLoad&&(this.__cbOnceDefaultAssetsLoad=[]),this.__cbOnceDefaultAssetsLoad.push(t)},offDefaultAssetsLoad:function(e){if(null!=e){var n;null!=this.__cbOnDefaultAssetsLoad&&-1!=(n=this.__cbOnDefaultAssetsLoad.indexOf(e))&&(this.__cbOnDefaultAssetsLoad.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDefaultAssetsLoad[n])&&s(),this.__cbOnOwnerUnbindDefaultAssetsLoad.splice(n,1)),null!=this.__cbOnceDefaultAssetsLoad&&-1!=(n=this.__cbOnceDefaultAssetsLoad.indexOf(e))&&(this.__cbOnceDefaultAssetsLoad.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDefaultAssetsLoad[n])&&s(),this.__cbOnceOwnerUnbindDefaultAssetsLoad.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDefaultAssetsLoad){for(var t=0,i=this.__cbOnOwnerUnbindDefaultAssetsLoad.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDefaultAssetsLoad[l])&&s()}this.__cbOnOwnerUnbindDefaultAssetsLoad=null}if(null!=this.__cbOnceOwnerUnbindDefaultAssetsLoad){for(t=0,i=this.__cbOnceOwnerUnbindDefaultAssetsLoad.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDefaultAssetsLoad[l])&&s()}this.__cbOnceOwnerUnbindDefaultAssetsLoad=null}this.__cbOnDefaultAssetsLoad=null,this.__cbOnceDefaultAssetsLoad=null}},listensDefaultAssetsLoad:function(){return null!=this.__cbOnDefaultAssetsLoad&&0<this.__cbOnDefaultAssetsLoad.length||null!=this.__cbOnceDefaultAssetsLoad&&0<this.__cbOnceDefaultAssetsLoad.length},__cbOnCriticalError:null,__cbOnceCriticalError:null,__cbOnOwnerUnbindCriticalError:null,__cbOnceOwnerUnbindCriticalError:null,emitCriticalError:function(e,n){var t=0;if(null!=this.__cbOnCriticalError&&(t+=this.__cbOnCriticalError.length),null!=this.__cbOnceCriticalError&&(t+=this.__cbOnceCriticalError.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnCriticalError)for(var r=0,h=this.__cbOnCriticalError.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnCriticalError[a],++s):--t}if(null!=this.__cbOnceCriticalError){for(var o=null,c=null,r=0,h=this.__cbOnceCriticalError.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceCriticalError[a],this.__cbOnceCriticalError[a]=null,u=this.__cbOnceOwnerUnbindCriticalError[a],(this.__cbOnceOwnerUnbindCriticalError[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCriticalError[a]),c.push(this.__cbOnceCriticalError[a]))}this.__cbOnceOwnerUnbindCriticalError=o,this.__cbOnceCriticalError=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onCriticalError:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event criticalError because owner is destroyed!");var l=function(e){null!=t&&(i.offCriticalError(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCriticalError&&(this.__cbOnOwnerUnbindCriticalError=[]),this.__cbOnOwnerUnbindCriticalError.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCriticalError&&(this.__cbOnOwnerUnbindCriticalError=[]),this.__cbOnOwnerUnbindCriticalError.push(null);null==this.__cbOnCriticalError&&(this.__cbOnCriticalError=[]),this.__cbOnCriticalError.push(t)},onceCriticalError:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event criticalError because owner is destroyed!");var l=function(e){null!=t&&(i.offCriticalError(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCriticalError&&(this.__cbOnceOwnerUnbindCriticalError=[]),this.__cbOnceOwnerUnbindCriticalError.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCriticalError&&(this.__cbOnceOwnerUnbindCriticalError=[]),this.__cbOnceOwnerUnbindCriticalError.push(null);null==this.__cbOnceCriticalError&&(this.__cbOnceCriticalError=[]),this.__cbOnceCriticalError.push(t)},offCriticalError:function(e){if(null!=e){var n;null!=this.__cbOnCriticalError&&-1!=(n=this.__cbOnCriticalError.indexOf(e))&&(this.__cbOnCriticalError.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCriticalError[n])&&s(),this.__cbOnOwnerUnbindCriticalError.splice(n,1)),null!=this.__cbOnceCriticalError&&-1!=(n=this.__cbOnceCriticalError.indexOf(e))&&(this.__cbOnceCriticalError.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCriticalError[n])&&s(),this.__cbOnceOwnerUnbindCriticalError.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCriticalError){for(var t=0,i=this.__cbOnOwnerUnbindCriticalError.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCriticalError[l])&&s()}this.__cbOnOwnerUnbindCriticalError=null}if(null!=this.__cbOnceOwnerUnbindCriticalError){for(t=0,i=this.__cbOnceOwnerUnbindCriticalError.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCriticalError[l])&&s()}this.__cbOnceOwnerUnbindCriticalError=null}this.__cbOnCriticalError=null,this.__cbOnceCriticalError=null}},listensCriticalError:function(){return null!=this.__cbOnCriticalError&&0<this.__cbOnCriticalError.length||null!=this.__cbOnceCriticalError&&0<this.__cbOnceCriticalError.length},__cbOnBeginEnterBackground:null,__cbOnceBeginEnterBackground:null,__cbOnOwnerUnbindBeginEnterBackground:null,__cbOnceOwnerUnbindBeginEnterBackground:null,emitBeginEnterBackground:function(){var e=0;if(null!=this.__cbOnBeginEnterBackground&&(e+=this.__cbOnBeginEnterBackground.length),null!=this.__cbOnceBeginEnterBackground&&(e+=this.__cbOnceBeginEnterBackground.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginEnterBackground)for(var l=0,s=this.__cbOnBeginEnterBackground.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBeginEnterBackground[r],++i):--e}if(null!=this.__cbOnceBeginEnterBackground){for(var h=null,a=null,l=0,s=this.__cbOnceBeginEnterBackground.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceBeginEnterBackground[r],this.__cbOnceBeginEnterBackground[r]=null,o=this.__cbOnceOwnerUnbindBeginEnterBackground[r],(this.__cbOnceOwnerUnbindBeginEnterBackground[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBeginEnterBackground[r]),a.push(this.__cbOnceBeginEnterBackground[r]))}this.__cbOnceOwnerUnbindBeginEnterBackground=h,this.__cbOnceBeginEnterBackground=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onBeginEnterBackground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event beginEnterBackground because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEnterBackground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginEnterBackground&&(this.__cbOnOwnerUnbindBeginEnterBackground=[]),this.__cbOnOwnerUnbindBeginEnterBackground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginEnterBackground&&(this.__cbOnOwnerUnbindBeginEnterBackground=[]),this.__cbOnOwnerUnbindBeginEnterBackground.push(null);null==this.__cbOnBeginEnterBackground&&(this.__cbOnBeginEnterBackground=[]),this.__cbOnBeginEnterBackground.push(t)},onceBeginEnterBackground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event beginEnterBackground because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEnterBackground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginEnterBackground&&(this.__cbOnceOwnerUnbindBeginEnterBackground=[]),this.__cbOnceOwnerUnbindBeginEnterBackground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginEnterBackground&&(this.__cbOnceOwnerUnbindBeginEnterBackground=[]),this.__cbOnceOwnerUnbindBeginEnterBackground.push(null);null==this.__cbOnceBeginEnterBackground&&(this.__cbOnceBeginEnterBackground=[]),this.__cbOnceBeginEnterBackground.push(t)},offBeginEnterBackground:function(e){if(null!=e){var n;null!=this.__cbOnBeginEnterBackground&&-1!=(n=this.__cbOnBeginEnterBackground.indexOf(e))&&(this.__cbOnBeginEnterBackground.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginEnterBackground[n])&&s(),this.__cbOnOwnerUnbindBeginEnterBackground.splice(n,1)),null!=this.__cbOnceBeginEnterBackground&&-1!=(n=this.__cbOnceBeginEnterBackground.indexOf(e))&&(this.__cbOnceBeginEnterBackground.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginEnterBackground[n])&&s(),this.__cbOnceOwnerUnbindBeginEnterBackground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEnterBackground){for(var t=0,i=this.__cbOnOwnerUnbindBeginEnterBackground.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginEnterBackground[l])&&s()}this.__cbOnOwnerUnbindBeginEnterBackground=null}if(null!=this.__cbOnceOwnerUnbindBeginEnterBackground){for(t=0,i=this.__cbOnceOwnerUnbindBeginEnterBackground.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginEnterBackground[l])&&s()}this.__cbOnceOwnerUnbindBeginEnterBackground=null}this.__cbOnBeginEnterBackground=null,this.__cbOnceBeginEnterBackground=null}},listensBeginEnterBackground:function(){return null!=this.__cbOnBeginEnterBackground&&0<this.__cbOnBeginEnterBackground.length||null!=this.__cbOnceBeginEnterBackground&&0<this.__cbOnceBeginEnterBackground.length},__cbOnFinishEnterBackground:null,__cbOnceFinishEnterBackground:null,__cbOnOwnerUnbindFinishEnterBackground:null,__cbOnceOwnerUnbindFinishEnterBackground:null,emitFinishEnterBackground:function(){var e=0;if(null!=this.__cbOnFinishEnterBackground&&(e+=this.__cbOnFinishEnterBackground.length),null!=this.__cbOnceFinishEnterBackground&&(e+=this.__cbOnceFinishEnterBackground.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishEnterBackground)for(var l=0,s=this.__cbOnFinishEnterBackground.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishEnterBackground[r],++i):--e}if(null!=this.__cbOnceFinishEnterBackground){for(var h=null,a=null,l=0,s=this.__cbOnceFinishEnterBackground.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceFinishEnterBackground[r],this.__cbOnceFinishEnterBackground[r]=null,o=this.__cbOnceOwnerUnbindFinishEnterBackground[r],(this.__cbOnceOwnerUnbindFinishEnterBackground[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishEnterBackground[r]),a.push(this.__cbOnceFinishEnterBackground[r]))}this.__cbOnceOwnerUnbindFinishEnterBackground=h,this.__cbOnceFinishEnterBackground=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishEnterBackground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event finishEnterBackground because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishEnterBackground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishEnterBackground&&(this.__cbOnOwnerUnbindFinishEnterBackground=[]),this.__cbOnOwnerUnbindFinishEnterBackground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishEnterBackground&&(this.__cbOnOwnerUnbindFinishEnterBackground=[]),this.__cbOnOwnerUnbindFinishEnterBackground.push(null);null==this.__cbOnFinishEnterBackground&&(this.__cbOnFinishEnterBackground=[]),this.__cbOnFinishEnterBackground.push(t)},onceFinishEnterBackground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event finishEnterBackground because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishEnterBackground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishEnterBackground&&(this.__cbOnceOwnerUnbindFinishEnterBackground=[]),this.__cbOnceOwnerUnbindFinishEnterBackground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishEnterBackground&&(this.__cbOnceOwnerUnbindFinishEnterBackground=[]),this.__cbOnceOwnerUnbindFinishEnterBackground.push(null);null==this.__cbOnceFinishEnterBackground&&(this.__cbOnceFinishEnterBackground=[]),this.__cbOnceFinishEnterBackground.push(t)},offFinishEnterBackground:function(e){if(null!=e){var n;null!=this.__cbOnFinishEnterBackground&&-1!=(n=this.__cbOnFinishEnterBackground.indexOf(e))&&(this.__cbOnFinishEnterBackground.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishEnterBackground[n])&&s(),this.__cbOnOwnerUnbindFinishEnterBackground.splice(n,1)),null!=this.__cbOnceFinishEnterBackground&&-1!=(n=this.__cbOnceFinishEnterBackground.indexOf(e))&&(this.__cbOnceFinishEnterBackground.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishEnterBackground[n])&&s(),this.__cbOnceOwnerUnbindFinishEnterBackground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishEnterBackground){for(var t=0,i=this.__cbOnOwnerUnbindFinishEnterBackground.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishEnterBackground[l])&&s()}this.__cbOnOwnerUnbindFinishEnterBackground=null}if(null!=this.__cbOnceOwnerUnbindFinishEnterBackground){for(t=0,i=this.__cbOnceOwnerUnbindFinishEnterBackground.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishEnterBackground[l])&&s()}this.__cbOnceOwnerUnbindFinishEnterBackground=null}this.__cbOnFinishEnterBackground=null,this.__cbOnceFinishEnterBackground=null}},listensFinishEnterBackground:function(){return null!=this.__cbOnFinishEnterBackground&&0<this.__cbOnFinishEnterBackground.length||null!=this.__cbOnceFinishEnterBackground&&0<this.__cbOnceFinishEnterBackground.length},__cbOnBeginEnterForeground:null,__cbOnceBeginEnterForeground:null,__cbOnOwnerUnbindBeginEnterForeground:null,__cbOnceOwnerUnbindBeginEnterForeground:null,emitBeginEnterForeground:function(){var e=0;if(null!=this.__cbOnBeginEnterForeground&&(e+=this.__cbOnBeginEnterForeground.length),null!=this.__cbOnceBeginEnterForeground&&(e+=this.__cbOnceBeginEnterForeground.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginEnterForeground)for(var l=0,s=this.__cbOnBeginEnterForeground.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBeginEnterForeground[r],++i):--e}if(null!=this.__cbOnceBeginEnterForeground){for(var h=null,a=null,l=0,s=this.__cbOnceBeginEnterForeground.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceBeginEnterForeground[r],this.__cbOnceBeginEnterForeground[r]=null,o=this.__cbOnceOwnerUnbindBeginEnterForeground[r],(this.__cbOnceOwnerUnbindBeginEnterForeground[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBeginEnterForeground[r]),a.push(this.__cbOnceBeginEnterForeground[r]))}this.__cbOnceOwnerUnbindBeginEnterForeground=h,this.__cbOnceBeginEnterForeground=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onBeginEnterForeground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event beginEnterForeground because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEnterForeground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginEnterForeground&&(this.__cbOnOwnerUnbindBeginEnterForeground=[]),this.__cbOnOwnerUnbindBeginEnterForeground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginEnterForeground&&(this.__cbOnOwnerUnbindBeginEnterForeground=[]),this.__cbOnOwnerUnbindBeginEnterForeground.push(null);null==this.__cbOnBeginEnterForeground&&(this.__cbOnBeginEnterForeground=[]),this.__cbOnBeginEnterForeground.push(t)},onceBeginEnterForeground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event beginEnterForeground because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEnterForeground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginEnterForeground&&(this.__cbOnceOwnerUnbindBeginEnterForeground=[]),this.__cbOnceOwnerUnbindBeginEnterForeground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginEnterForeground&&(this.__cbOnceOwnerUnbindBeginEnterForeground=[]),this.__cbOnceOwnerUnbindBeginEnterForeground.push(null);null==this.__cbOnceBeginEnterForeground&&(this.__cbOnceBeginEnterForeground=[]),this.__cbOnceBeginEnterForeground.push(t)},offBeginEnterForeground:function(e){if(null!=e){var n;null!=this.__cbOnBeginEnterForeground&&-1!=(n=this.__cbOnBeginEnterForeground.indexOf(e))&&(this.__cbOnBeginEnterForeground.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginEnterForeground[n])&&s(),this.__cbOnOwnerUnbindBeginEnterForeground.splice(n,1)),null!=this.__cbOnceBeginEnterForeground&&-1!=(n=this.__cbOnceBeginEnterForeground.indexOf(e))&&(this.__cbOnceBeginEnterForeground.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginEnterForeground[n])&&s(),this.__cbOnceOwnerUnbindBeginEnterForeground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEnterForeground){for(var t=0,i=this.__cbOnOwnerUnbindBeginEnterForeground.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginEnterForeground[l])&&s()}this.__cbOnOwnerUnbindBeginEnterForeground=null}if(null!=this.__cbOnceOwnerUnbindBeginEnterForeground){for(t=0,i=this.__cbOnceOwnerUnbindBeginEnterForeground.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginEnterForeground[l])&&s()}this.__cbOnceOwnerUnbindBeginEnterForeground=null}this.__cbOnBeginEnterForeground=null,this.__cbOnceBeginEnterForeground=null}},listensBeginEnterForeground:function(){return null!=this.__cbOnBeginEnterForeground&&0<this.__cbOnBeginEnterForeground.length||null!=this.__cbOnceBeginEnterForeground&&0<this.__cbOnceBeginEnterForeground.length},__cbOnFinishEnterForeground:null,__cbOnceFinishEnterForeground:null,__cbOnOwnerUnbindFinishEnterForeground:null,__cbOnceOwnerUnbindFinishEnterForeground:null,emitFinishEnterForeground:function(){var e=0;if(null!=this.__cbOnFinishEnterForeground&&(e+=this.__cbOnFinishEnterForeground.length),null!=this.__cbOnceFinishEnterForeground&&(e+=this.__cbOnceFinishEnterForeground.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishEnterForeground)for(var l=0,s=this.__cbOnFinishEnterForeground.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishEnterForeground[r],++i):--e}if(null!=this.__cbOnceFinishEnterForeground){for(var h=null,a=null,l=0,s=this.__cbOnceFinishEnterForeground.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceFinishEnterForeground[r],this.__cbOnceFinishEnterForeground[r]=null,o=this.__cbOnceOwnerUnbindFinishEnterForeground[r],(this.__cbOnceOwnerUnbindFinishEnterForeground[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishEnterForeground[r]),a.push(this.__cbOnceFinishEnterForeground[r]))}this.__cbOnceOwnerUnbindFinishEnterForeground=h,this.__cbOnceFinishEnterForeground=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishEnterForeground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event finishEnterForeground because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishEnterForeground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishEnterForeground&&(this.__cbOnOwnerUnbindFinishEnterForeground=[]),this.__cbOnOwnerUnbindFinishEnterForeground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishEnterForeground&&(this.__cbOnOwnerUnbindFinishEnterForeground=[]),this.__cbOnOwnerUnbindFinishEnterForeground.push(null);null==this.__cbOnFinishEnterForeground&&(this.__cbOnFinishEnterForeground=[]),this.__cbOnFinishEnterForeground.push(t)},onceFinishEnterForeground:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event finishEnterForeground because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishEnterForeground(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishEnterForeground&&(this.__cbOnceOwnerUnbindFinishEnterForeground=[]),this.__cbOnceOwnerUnbindFinishEnterForeground.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishEnterForeground&&(this.__cbOnceOwnerUnbindFinishEnterForeground=[]),this.__cbOnceOwnerUnbindFinishEnterForeground.push(null);null==this.__cbOnceFinishEnterForeground&&(this.__cbOnceFinishEnterForeground=[]),this.__cbOnceFinishEnterForeground.push(t)},offFinishEnterForeground:function(e){if(null!=e){var n;null!=this.__cbOnFinishEnterForeground&&-1!=(n=this.__cbOnFinishEnterForeground.indexOf(e))&&(this.__cbOnFinishEnterForeground.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishEnterForeground[n])&&s(),this.__cbOnOwnerUnbindFinishEnterForeground.splice(n,1)),null!=this.__cbOnceFinishEnterForeground&&-1!=(n=this.__cbOnceFinishEnterForeground.indexOf(e))&&(this.__cbOnceFinishEnterForeground.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishEnterForeground[n])&&s(),this.__cbOnceOwnerUnbindFinishEnterForeground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishEnterForeground){for(var t=0,i=this.__cbOnOwnerUnbindFinishEnterForeground.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishEnterForeground[l])&&s()}this.__cbOnOwnerUnbindFinishEnterForeground=null}if(null!=this.__cbOnceOwnerUnbindFinishEnterForeground){for(t=0,i=this.__cbOnceOwnerUnbindFinishEnterForeground.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishEnterForeground[l])&&s()}this.__cbOnceOwnerUnbindFinishEnterForeground=null}this.__cbOnFinishEnterForeground=null,this.__cbOnceFinishEnterForeground=null}},listensFinishEnterForeground:function(){return null!=this.__cbOnFinishEnterForeground&&0<this.__cbOnFinishEnterForeground.length||null!=this.__cbOnceFinishEnterForeground&&0<this.__cbOnceFinishEnterForeground.length},__cbOnBeginSortVisuals:null,__cbOnceBeginSortVisuals:null,__cbOnOwnerUnbindBeginSortVisuals:null,__cbOnceOwnerUnbindBeginSortVisuals:null,emitBeginSortVisuals:function(){var e=0;if(null!=this.__cbOnBeginSortVisuals&&(e+=this.__cbOnBeginSortVisuals.length),null!=this.__cbOnceBeginSortVisuals&&(e+=this.__cbOnceBeginSortVisuals.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginSortVisuals)for(var l=0,s=this.__cbOnBeginSortVisuals.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBeginSortVisuals[r],++i):--e}if(null!=this.__cbOnceBeginSortVisuals){for(var h=null,a=null,l=0,s=this.__cbOnceBeginSortVisuals.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceBeginSortVisuals[r],this.__cbOnceBeginSortVisuals[r]=null,o=this.__cbOnceOwnerUnbindBeginSortVisuals[r],(this.__cbOnceOwnerUnbindBeginSortVisuals[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBeginSortVisuals[r]),a.push(this.__cbOnceBeginSortVisuals[r]))}this.__cbOnceOwnerUnbindBeginSortVisuals=h,this.__cbOnceBeginSortVisuals=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onBeginSortVisuals:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event beginSortVisuals because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginSortVisuals(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginSortVisuals&&(this.__cbOnOwnerUnbindBeginSortVisuals=[]),this.__cbOnOwnerUnbindBeginSortVisuals.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginSortVisuals&&(this.__cbOnOwnerUnbindBeginSortVisuals=[]),this.__cbOnOwnerUnbindBeginSortVisuals.push(null);null==this.__cbOnBeginSortVisuals&&(this.__cbOnBeginSortVisuals=[]),this.__cbOnBeginSortVisuals.push(t)},onceBeginSortVisuals:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event beginSortVisuals because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginSortVisuals(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginSortVisuals&&(this.__cbOnceOwnerUnbindBeginSortVisuals=[]),this.__cbOnceOwnerUnbindBeginSortVisuals.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginSortVisuals&&(this.__cbOnceOwnerUnbindBeginSortVisuals=[]),this.__cbOnceOwnerUnbindBeginSortVisuals.push(null);null==this.__cbOnceBeginSortVisuals&&(this.__cbOnceBeginSortVisuals=[]),this.__cbOnceBeginSortVisuals.push(t)},offBeginSortVisuals:function(e){if(null!=e){var n;null!=this.__cbOnBeginSortVisuals&&-1!=(n=this.__cbOnBeginSortVisuals.indexOf(e))&&(this.__cbOnBeginSortVisuals.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginSortVisuals[n])&&s(),this.__cbOnOwnerUnbindBeginSortVisuals.splice(n,1)),null!=this.__cbOnceBeginSortVisuals&&-1!=(n=this.__cbOnceBeginSortVisuals.indexOf(e))&&(this.__cbOnceBeginSortVisuals.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginSortVisuals[n])&&s(),this.__cbOnceOwnerUnbindBeginSortVisuals.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginSortVisuals){for(var t=0,i=this.__cbOnOwnerUnbindBeginSortVisuals.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginSortVisuals[l])&&s()}this.__cbOnOwnerUnbindBeginSortVisuals=null}if(null!=this.__cbOnceOwnerUnbindBeginSortVisuals){for(t=0,i=this.__cbOnceOwnerUnbindBeginSortVisuals.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginSortVisuals[l])&&s()}this.__cbOnceOwnerUnbindBeginSortVisuals=null}this.__cbOnBeginSortVisuals=null,this.__cbOnceBeginSortVisuals=null}},listensBeginSortVisuals:function(){return null!=this.__cbOnBeginSortVisuals&&0<this.__cbOnBeginSortVisuals.length||null!=this.__cbOnceBeginSortVisuals&&0<this.__cbOnceBeginSortVisuals.length},__cbOnFinishSortVisuals:null,__cbOnceFinishSortVisuals:null,__cbOnOwnerUnbindFinishSortVisuals:null,__cbOnceOwnerUnbindFinishSortVisuals:null,emitFinishSortVisuals:function(){var e=0;if(null!=this.__cbOnFinishSortVisuals&&(e+=this.__cbOnFinishSortVisuals.length),null!=this.__cbOnceFinishSortVisuals&&(e+=this.__cbOnceFinishSortVisuals.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishSortVisuals)for(var l=0,s=this.__cbOnFinishSortVisuals.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishSortVisuals[r],++i):--e}if(null!=this.__cbOnceFinishSortVisuals){for(var h=null,a=null,l=0,s=this.__cbOnceFinishSortVisuals.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceFinishSortVisuals[r],this.__cbOnceFinishSortVisuals[r]=null,o=this.__cbOnceOwnerUnbindFinishSortVisuals[r],(this.__cbOnceOwnerUnbindFinishSortVisuals[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishSortVisuals[r]),a.push(this.__cbOnceFinishSortVisuals[r]))}this.__cbOnceOwnerUnbindFinishSortVisuals=h,this.__cbOnceFinishSortVisuals=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishSortVisuals:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event finishSortVisuals because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishSortVisuals(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishSortVisuals&&(this.__cbOnOwnerUnbindFinishSortVisuals=[]),this.__cbOnOwnerUnbindFinishSortVisuals.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishSortVisuals&&(this.__cbOnOwnerUnbindFinishSortVisuals=[]),this.__cbOnOwnerUnbindFinishSortVisuals.push(null);null==this.__cbOnFinishSortVisuals&&(this.__cbOnFinishSortVisuals=[]),this.__cbOnFinishSortVisuals.push(t)},onceFinishSortVisuals:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event finishSortVisuals because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishSortVisuals(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishSortVisuals&&(this.__cbOnceOwnerUnbindFinishSortVisuals=[]),this.__cbOnceOwnerUnbindFinishSortVisuals.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishSortVisuals&&(this.__cbOnceOwnerUnbindFinishSortVisuals=[]),this.__cbOnceOwnerUnbindFinishSortVisuals.push(null);null==this.__cbOnceFinishSortVisuals&&(this.__cbOnceFinishSortVisuals=[]),this.__cbOnceFinishSortVisuals.push(t)},offFinishSortVisuals:function(e){if(null!=e){var n;null!=this.__cbOnFinishSortVisuals&&-1!=(n=this.__cbOnFinishSortVisuals.indexOf(e))&&(this.__cbOnFinishSortVisuals.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishSortVisuals[n])&&s(),this.__cbOnOwnerUnbindFinishSortVisuals.splice(n,1)),null!=this.__cbOnceFinishSortVisuals&&-1!=(n=this.__cbOnceFinishSortVisuals.indexOf(e))&&(this.__cbOnceFinishSortVisuals.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishSortVisuals[n])&&s(),this.__cbOnceOwnerUnbindFinishSortVisuals.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishSortVisuals){for(var t=0,i=this.__cbOnOwnerUnbindFinishSortVisuals.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishSortVisuals[l])&&s()}this.__cbOnOwnerUnbindFinishSortVisuals=null}if(null!=this.__cbOnceOwnerUnbindFinishSortVisuals){for(t=0,i=this.__cbOnceOwnerUnbindFinishSortVisuals.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishSortVisuals[l])&&s()}this.__cbOnceOwnerUnbindFinishSortVisuals=null}this.__cbOnFinishSortVisuals=null,this.__cbOnceFinishSortVisuals=null}},listensFinishSortVisuals:function(){return null!=this.__cbOnFinishSortVisuals&&0<this.__cbOnFinishSortVisuals.length||null!=this.__cbOnceFinishSortVisuals&&0<this.__cbOnceFinishSortVisuals.length},__cbOnBeginDraw:null,__cbOnceBeginDraw:null,__cbOnOwnerUnbindBeginDraw:null,__cbOnceOwnerUnbindBeginDraw:null,emitBeginDraw:function(){var e=0;if(null!=this.__cbOnBeginDraw&&(e+=this.__cbOnBeginDraw.length),null!=this.__cbOnceBeginDraw&&(e+=this.__cbOnceBeginDraw.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginDraw)for(var l=0,s=this.__cbOnBeginDraw.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBeginDraw[r],++i):--e}if(null!=this.__cbOnceBeginDraw){for(var h=null,a=null,l=0,s=this.__cbOnceBeginDraw.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceBeginDraw[r],this.__cbOnceBeginDraw[r]=null,o=this.__cbOnceOwnerUnbindBeginDraw[r],(this.__cbOnceOwnerUnbindBeginDraw[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBeginDraw[r]),a.push(this.__cbOnceBeginDraw[r]))}this.__cbOnceOwnerUnbindBeginDraw=h,this.__cbOnceBeginDraw=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onBeginDraw:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event beginDraw because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginDraw(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginDraw&&(this.__cbOnOwnerUnbindBeginDraw=[]),this.__cbOnOwnerUnbindBeginDraw.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginDraw&&(this.__cbOnOwnerUnbindBeginDraw=[]),this.__cbOnOwnerUnbindBeginDraw.push(null);null==this.__cbOnBeginDraw&&(this.__cbOnBeginDraw=[]),this.__cbOnBeginDraw.push(t)},onceBeginDraw:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event beginDraw because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginDraw(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginDraw&&(this.__cbOnceOwnerUnbindBeginDraw=[]),this.__cbOnceOwnerUnbindBeginDraw.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginDraw&&(this.__cbOnceOwnerUnbindBeginDraw=[]),this.__cbOnceOwnerUnbindBeginDraw.push(null);null==this.__cbOnceBeginDraw&&(this.__cbOnceBeginDraw=[]),this.__cbOnceBeginDraw.push(t)},offBeginDraw:function(e){if(null!=e){var n;null!=this.__cbOnBeginDraw&&-1!=(n=this.__cbOnBeginDraw.indexOf(e))&&(this.__cbOnBeginDraw.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginDraw[n])&&s(),this.__cbOnOwnerUnbindBeginDraw.splice(n,1)),null!=this.__cbOnceBeginDraw&&-1!=(n=this.__cbOnceBeginDraw.indexOf(e))&&(this.__cbOnceBeginDraw.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginDraw[n])&&s(),this.__cbOnceOwnerUnbindBeginDraw.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginDraw){for(var t=0,i=this.__cbOnOwnerUnbindBeginDraw.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginDraw[l])&&s()}this.__cbOnOwnerUnbindBeginDraw=null}if(null!=this.__cbOnceOwnerUnbindBeginDraw){for(t=0,i=this.__cbOnceOwnerUnbindBeginDraw.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginDraw[l])&&s()}this.__cbOnceOwnerUnbindBeginDraw=null}this.__cbOnBeginDraw=null,this.__cbOnceBeginDraw=null}},listensBeginDraw:function(){return null!=this.__cbOnBeginDraw&&0<this.__cbOnBeginDraw.length||null!=this.__cbOnceBeginDraw&&0<this.__cbOnceBeginDraw.length},__cbOnFinishDraw:null,__cbOnceFinishDraw:null,__cbOnOwnerUnbindFinishDraw:null,__cbOnceOwnerUnbindFinishDraw:null,emitFinishDraw:function(){var e=0;if(null!=this.__cbOnFinishDraw&&(e+=this.__cbOnFinishDraw.length),null!=this.__cbOnceFinishDraw&&(e+=this.__cbOnceFinishDraw.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishDraw)for(var l=0,s=this.__cbOnFinishDraw.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishDraw[r],++i):--e}if(null!=this.__cbOnceFinishDraw){for(var h=null,a=null,l=0,s=this.__cbOnceFinishDraw.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceFinishDraw[r],this.__cbOnceFinishDraw[r]=null,o=this.__cbOnceOwnerUnbindFinishDraw[r],(this.__cbOnceOwnerUnbindFinishDraw[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishDraw[r]),a.push(this.__cbOnceFinishDraw[r]))}this.__cbOnceOwnerUnbindFinishDraw=h,this.__cbOnceFinishDraw=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishDraw:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event finishDraw because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishDraw(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishDraw&&(this.__cbOnOwnerUnbindFinishDraw=[]),this.__cbOnOwnerUnbindFinishDraw.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishDraw&&(this.__cbOnOwnerUnbindFinishDraw=[]),this.__cbOnOwnerUnbindFinishDraw.push(null);null==this.__cbOnFinishDraw&&(this.__cbOnFinishDraw=[]),this.__cbOnFinishDraw.push(t)},onceFinishDraw:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event finishDraw because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishDraw(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishDraw&&(this.__cbOnceOwnerUnbindFinishDraw=[]),this.__cbOnceOwnerUnbindFinishDraw.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishDraw&&(this.__cbOnceOwnerUnbindFinishDraw=[]),this.__cbOnceOwnerUnbindFinishDraw.push(null);null==this.__cbOnceFinishDraw&&(this.__cbOnceFinishDraw=[]),this.__cbOnceFinishDraw.push(t)},offFinishDraw:function(e){if(null!=e){var n;null!=this.__cbOnFinishDraw&&-1!=(n=this.__cbOnFinishDraw.indexOf(e))&&(this.__cbOnFinishDraw.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishDraw[n])&&s(),this.__cbOnOwnerUnbindFinishDraw.splice(n,1)),null!=this.__cbOnceFinishDraw&&-1!=(n=this.__cbOnceFinishDraw.indexOf(e))&&(this.__cbOnceFinishDraw.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishDraw[n])&&s(),this.__cbOnceOwnerUnbindFinishDraw.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishDraw){for(var t=0,i=this.__cbOnOwnerUnbindFinishDraw.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishDraw[l])&&s()}this.__cbOnOwnerUnbindFinishDraw=null}if(null!=this.__cbOnceOwnerUnbindFinishDraw){for(t=0,i=this.__cbOnceOwnerUnbindFinishDraw.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishDraw[l])&&s()}this.__cbOnceOwnerUnbindFinishDraw=null}this.__cbOnFinishDraw=null,this.__cbOnceFinishDraw=null}},listensFinishDraw:function(){return null!=this.__cbOnFinishDraw&&0<this.__cbOnFinishDraw.length||null!=this.__cbOnceFinishDraw&&0<this.__cbOnceFinishDraw.length},__cbOnLowMemory:null,__cbOnceLowMemory:null,__cbOnOwnerUnbindLowMemory:null,__cbOnceOwnerUnbindLowMemory:null,emitLowMemory:function(){var e=0;if(null!=this.__cbOnLowMemory&&(e+=this.__cbOnLowMemory.length),null!=this.__cbOnceLowMemory&&(e+=this.__cbOnceLowMemory.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnLowMemory)for(var l=0,s=this.__cbOnLowMemory.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnLowMemory[r],++i):--e}if(null!=this.__cbOnceLowMemory){for(var h=null,a=null,l=0,s=this.__cbOnceLowMemory.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceLowMemory[r],this.__cbOnceLowMemory[r]=null,o=this.__cbOnceOwnerUnbindLowMemory[r],(this.__cbOnceOwnerUnbindLowMemory[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindLowMemory[r]),a.push(this.__cbOnceLowMemory[r]))}this.__cbOnceOwnerUnbindLowMemory=h,this.__cbOnceLowMemory=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onLowMemory:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lowMemory because owner is destroyed!");var l=function(e){null!=t&&(i.offLowMemory(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLowMemory&&(this.__cbOnOwnerUnbindLowMemory=[]),this.__cbOnOwnerUnbindLowMemory.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLowMemory&&(this.__cbOnOwnerUnbindLowMemory=[]),this.__cbOnOwnerUnbindLowMemory.push(null);null==this.__cbOnLowMemory&&(this.__cbOnLowMemory=[]),this.__cbOnLowMemory.push(t)},onceLowMemory:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lowMemory because owner is destroyed!");var l=function(e){null!=t&&(i.offLowMemory(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLowMemory&&(this.__cbOnceOwnerUnbindLowMemory=[]),this.__cbOnceOwnerUnbindLowMemory.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLowMemory&&(this.__cbOnceOwnerUnbindLowMemory=[]),this.__cbOnceOwnerUnbindLowMemory.push(null);null==this.__cbOnceLowMemory&&(this.__cbOnceLowMemory=[]),this.__cbOnceLowMemory.push(t)},offLowMemory:function(e){if(null!=e){var n;null!=this.__cbOnLowMemory&&-1!=(n=this.__cbOnLowMemory.indexOf(e))&&(this.__cbOnLowMemory.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLowMemory[n])&&s(),this.__cbOnOwnerUnbindLowMemory.splice(n,1)),null!=this.__cbOnceLowMemory&&-1!=(n=this.__cbOnceLowMemory.indexOf(e))&&(this.__cbOnceLowMemory.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLowMemory[n])&&s(),this.__cbOnceOwnerUnbindLowMemory.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLowMemory){for(var t=0,i=this.__cbOnOwnerUnbindLowMemory.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLowMemory[l])&&s()}this.__cbOnOwnerUnbindLowMemory=null}if(null!=this.__cbOnceOwnerUnbindLowMemory){for(t=0,i=this.__cbOnceOwnerUnbindLowMemory.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLowMemory[l])&&s()}this.__cbOnceOwnerUnbindLowMemory=null}this.__cbOnLowMemory=null,this.__cbOnceLowMemory=null}},listensLowMemory:function(){return null!=this.__cbOnLowMemory&&0<this.__cbOnLowMemory.length||null!=this.__cbOnceLowMemory&&0<this.__cbOnceLowMemory.length},__cbOnTerminate:null,__cbOnceTerminate:null,__cbOnOwnerUnbindTerminate:null,__cbOnceOwnerUnbindTerminate:null,emitTerminate:function(){var e=0;if(null!=this.__cbOnTerminate&&(e+=this.__cbOnTerminate.length),null!=this.__cbOnceTerminate&&(e+=this.__cbOnceTerminate.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnTerminate)for(var l=0,s=this.__cbOnTerminate.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnTerminate[r],++i):--e}if(null!=this.__cbOnceTerminate){for(var h=null,a=null,l=0,s=this.__cbOnceTerminate.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceTerminate[r],this.__cbOnceTerminate[r]=null,o=this.__cbOnceOwnerUnbindTerminate[r],(this.__cbOnceOwnerUnbindTerminate[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindTerminate[r]),a.push(this.__cbOnceTerminate[r]))}this.__cbOnceOwnerUnbindTerminate=h,this.__cbOnceTerminate=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onTerminate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event terminate because owner is destroyed!");var l=function(e){null!=t&&(i.offTerminate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTerminate&&(this.__cbOnOwnerUnbindTerminate=[]),this.__cbOnOwnerUnbindTerminate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTerminate&&(this.__cbOnOwnerUnbindTerminate=[]),this.__cbOnOwnerUnbindTerminate.push(null);null==this.__cbOnTerminate&&(this.__cbOnTerminate=[]),this.__cbOnTerminate.push(t)},onceTerminate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event terminate because owner is destroyed!");var l=function(e){null!=t&&(i.offTerminate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTerminate&&(this.__cbOnceOwnerUnbindTerminate=[]),this.__cbOnceOwnerUnbindTerminate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTerminate&&(this.__cbOnceOwnerUnbindTerminate=[]),this.__cbOnceOwnerUnbindTerminate.push(null);null==this.__cbOnceTerminate&&(this.__cbOnceTerminate=[]),this.__cbOnceTerminate.push(t)},offTerminate:function(e){if(null!=e){var n;null!=this.__cbOnTerminate&&-1!=(n=this.__cbOnTerminate.indexOf(e))&&(this.__cbOnTerminate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTerminate[n])&&s(),this.__cbOnOwnerUnbindTerminate.splice(n,1)),null!=this.__cbOnceTerminate&&-1!=(n=this.__cbOnceTerminate.indexOf(e))&&(this.__cbOnceTerminate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTerminate[n])&&s(),this.__cbOnceOwnerUnbindTerminate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTerminate){for(var t=0,i=this.__cbOnOwnerUnbindTerminate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTerminate[l])&&s()}this.__cbOnOwnerUnbindTerminate=null}if(null!=this.__cbOnceOwnerUnbindTerminate){for(t=0,i=this.__cbOnceOwnerUnbindTerminate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTerminate[l])&&s()}this.__cbOnceOwnerUnbindTerminate=null}this.__cbOnTerminate=null,this.__cbOnceTerminate=null}},listensTerminate:function(){return null!=this.__cbOnTerminate&&0<this.__cbOnTerminate.length||null!=this.__cbOnceTerminate&&0<this.__cbOnceTerminate.length},immediateCallbacks:null,immediateCallbacksCapacity:null,immediateCallbacksLen:null,postFlushImmediateCallbacks:null,postFlushImmediateCallbacksCapacity:null,postFlushImmediateCallbacksLen:null,loaders:null,_onceImmediateWithOwner:function(e,n){this._onceImmediate(function(){(null==e||0<=e._lifecycleState)&&n()})},_onceImmediate:function(e){if(null==e)throw ct.thrown("Immediate callback should not be null!");this.immediateCallbacksLen<this.immediateCallbacksCapacity?(this.immediateCallbacks[this.immediateCallbacksLen]=e,this.immediateCallbacksLen++):(this.immediateCallbacks[this.immediateCallbacksLen++]=e,this.immediateCallbacksCapacity++)},_oncePostFlushImmediateWithOwner:function(e,n,t){this._oncePostFlushImmediate(function(){(null==e||0<=e._lifecycleState)&&n()},t)},_oncePostFlushImmediate:function(n,e){var t=this;e?ke.app._onceImmediate(function(){var e=!1;t._oncePostFlushImmediate(n,e=null==e?!0:e)}):0==this.immediateCallbacksLen?n():this.postFlushImmediateCallbacksLen<this.postFlushImmediateCallbacksCapacity?(this.postFlushImmediateCallbacks[this.postFlushImmediateCallbacksLen]=n,this.postFlushImmediateCallbacksLen++):(this.postFlushImmediateCallbacks[this.postFlushImmediateCallbacksLen++]=n,this.postFlushImmediateCallbacksCapacity++)},flushImmediate:function(){for(var e=!1;0<this.immediateCallbacksLen;){for(var e=!0,n=(o=C.pool(this.immediateCallbacksLen)).get(),t=this.immediateCallbacksLen,i=this.immediateCallbacksLen=0,l=t;i<l;){var s=i++;n.vector[s]=this.immediateCallbacks[s],this.immediateCallbacks[s]=null}for(var r=0,h=t;r<h;){var a=r++;(0,n.vector[a])()}o.release(n)}if(0<this.postFlushImmediateCallbacksLen){for(var o,n=(o=C.pool(this.postFlushImmediateCallbacksLen)).get(),t=this.postFlushImmediateCallbacksLen,i=this.postFlushImmediateCallbacksLen=0,l=t;i<l;){s=i++;n.vector[s]=this.postFlushImmediateCallbacks[s],this.postFlushImmediateCallbacks[s]=null}for(i=0,l=t;i<l;){s=i++;(0,n.vector[s])()}o.release(n)}return e},_xUpdatesHandlersPool:null,_xUpdatesHandlers:null,_xUpdatesToCallNow:null,onceXUpdates:function(e,n,t){for(var i=this._xUpdatesHandlersPool,l=0<i.availableItems.length?i.availableItems.pop():null,s=((l=null==l?new fn:l).owner=e,l.numUpdates=n,l.callback=t,!1),r=0,h=this._xUpdatesHandlers.length;r<h;){var a=r++;if(null==this._xUpdatesHandlers[a]){this._xUpdatesHandlers[a]=l,s=!0;break}}s||this._xUpdatesHandlers.push(l)},offXUpdates:function(e){for(var n=!1,t=0,i=this._xUpdatesHandlers.length;t<i;){var l=t++,s=this._xUpdatesHandlers[l];s.callback==e&&(s.reset(),this._xUpdatesHandlersPool.recycle(s),n=!(this._xUpdatesHandlers[l]=null))}n&&this.cleanXUpdatesNullValues()},tickOnceXUpdates:function(){for(var e=0,n=!1,t=0,i=this._xUpdatesHandlers.length;t<i;){var l,s=t++,r=this._xUpdatesHandlers[s];null!=r&&(r.numUpdates--,r.numUpdates<=0)&&((null==(l=r.owner)||0<=l._lifecycleState)&&(this._xUpdatesToCallNow[e]=r.callback,++e),n=!(this._xUpdatesHandlers[s]=null))}if(0<e)for(t=0,i=e;t<i;){var s=t++,h=this._xUpdatesToCallNow[s];this._xUpdatesToCallNow[s]=null,h()}n&&this.cleanXUpdatesNullValues()},cleanXUpdatesNullValues:function(){for(var e=0,n=0,t=this._xUpdatesHandlers.length;e<t;){do{}while(null==this._xUpdatesHandlers[e]&&(++n,++e<t));0!=n&&e<t&&(this._xUpdatesHandlers[e-n]=this._xUpdatesHandlers[e]),++e}var i=this._xUpdatesHandlers,l=t-n;if(i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(var s=i;s.length<l;)s.push(null)},inUpdate:null,get_computedFps:function(){return this._computeFps.fps},_computeFps:null,frame:null,delta:null,realDelta:null,backend:null,screen:null,audio:null,settings:null,systems:null,logger:null,visuals:null,pendingVisuals:null,destroyedVisuals:null,groups:null,input:null,renderTextures:null,assets:null,defaultTexturedShader:null,defaultWhiteTexture:null,defaultFont:null,projectDir:null,persistent:null,textInput:null,converters:null,timelines:null,lazyScenes:null,scenes:null,get_scenes:function(){return this.lazyScenes&&(this.lazyScenes=!1,this.scenes=Et.get_shared()),this.scenes},set_scenes:function(e){return this.scenes=e},hierarchyDirty:null,visualsContentDirty:null,beginUpdateCallbacks:null,disposedEntities:null,numBlockingDefaultScroll:null,quit:function(){xt.quit()},backendReady:function(){var n=this;if(this.backend.onUpdate(this,$bind(this,this.updatePreReady)),this.persistent=new Tt("app"),this.textInput=new ci,this.bindSettings(),this.screen.backendReady(),null!=ke.preInitCallbacks){for(var e=0,t=[].concat(ke.preInitCallbacks);e<t.length;){var i=t[e];++e,i()}ke.preInitCallbacks=null}this.initFieldConverters(),null!=this.settings.collections&&this.initCollections(this.settings.collections(),this.settings.appInfo);var l=this.assets,s=this.settings.defaultShader,r=s.__name__.split("."),h=r.pop(),a=(h=h.charAt(0).toLowerCase()+he.substr(h,1,null),0<r.length?r.join("_")+"_"+h:h),o=new Yt(a,null,null),l=(o.shaderClass=s,l.addAsset(o),this.assets),a=(h=(h=(r=(s=Ts).__name__.split(".")).pop()).charAt(0).toLowerCase()+he.substr(h,1,null),0<r.length?r.join("_")+"_"+h:h),l=((o=new Yt(a,null,null)).shaderClass=s,l.addAsset(o),this.assets),a=(h=(h=(r=(s=xs).__name__.split(".")).pop()).charAt(0).toLowerCase()+he.substr(h,1,null),0<r.length?r.join("_")+"_"+h:h);(o=new Yt(a,null,null)).shaderClass=s,l.addAsset(o),this.assets.onceComplete(this,function(e){n.assets._add(n.settings.defaultFont,null,null),n.assets._add("image:white",null,null),n.assets.onceComplete(n,function(e){e?(n.defaultFont=n.assets.font(n.settings.defaultFont),n.defaultWhiteTexture=n.assets.texture("image:white"),e=n.assets._shaderFromClass(n.settings.defaultShader),n.defaultTexturedShader=e,n.logger.success("Default assets loaded.",{fileName:"../../../../ceramic/runtime/src/ceramic/App.hx",lineNumber:922,className:"ceramic.App",methodName:"backendReady"}),n.assetsLoaded()):ke.app.logger.error("Failed to load default assets.",{fileName:"../../../../ceramic/runtime/src/ceramic/App.hx",lineNumber:925,className:"ceramic.App",methodName:"backendReady"})}),n.emitDefaultAssetsLoad(n.assets),n.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/App.hx",lineNumber:933,className:"ceramic.App",methodName:"backendReady"}),n.assets.immediate.flush(),n.flushImmediate()}),this.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/App.hx",lineNumber:939,className:"ceramic.App",methodName:"backendReady"}),this.assets.immediate.flush(),this.flushImmediate()},bindSettings:function(){this.settings.onTargetFpsChange(this,function(e,n){ke.app.backend.setTargetFps(e)}),ke.app.backend.setTargetFps(this.settings.get_targetFps())},initFieldConverters:function(){var e=this.converters,n=new Vn,e=(e.h["ceramic.Texture"]=n,this.converters),n=new Bn,e=(e.h["ceramic.BitmapFont"]=n,this.converters),n=new Mn,e=(e.h["ceramic.FragmentData"]=n,this.converters),n=new Pn,e=(e.h["ceramic.Color"]=n,this.converters),n=new Rn,e=(e.h["Map<String,String>"]=n,this.converters),n=new Rn,e=(e.h["Map<String,Bool>"]=n,this.converters),n=new Rn,e=(e.h["ceramic.ReadOnlyMap<String,String>"]=n,this.converters),n=new Rn,e=(e.h["ceramic.ReadOnlyMap<String,Bool>"]=n,this.converters),n=new In,e=(e.h["Array<Float>"]=n,this.converters),n=new In,e=(e.h["Array<Int>"]=n,this.converters),n=new In,e=(e.h["Array<String>"]=n,this.converters),n=new In,e=(e.h["ceramic.ReadOnlyArray<Float>"]=n,this.converters),n=new In,e=(e.h["ceramic.ReadOnlyArray<Int>"]=n,this.converters),n=new In,e=(e.h["ceramic.ReadOnlyArray<String>"]=n,this.converters),n=new Fn,e=(e.h["Map<String,ceramic.Component>"]=n,this.converters),n=new Fn,e=(e.h["ceramic.ReadOnlyMap<String,ceramic.Component>"]=n,this.converters),n=new En;e.h["ceramic.IntBoolMap"]=n},initCollections:function(g,O){for(var f=this,e=(null==O&&(O=this.info),Object.create(null)),n=0,t=0,i=L.fields(O.collections);t<i.length;)for(var l=i[t],s=(++t,0),r=L.fields(L.field(O.collections,l));s<r.length;){var h=r[s],h=(++s,L.field(L.field(O.collections,l),h));"string"==typeof h||null==(h=h.data)||Object.prototype.hasOwnProperty.call(e,h)||(e[h]=!0,this.assets.addDatabase(h),++n)}0<n&&this.assets.onceComplete(this,function(e){for(var n=0,t=L.fields(O.collections);n<t.length;)for(var i=t[n],l=(++n,0),s=L.fields(L.field(O.collections,i));l<s.length;){var r=s[l],h=(++l,L.field(L.field(O.collections,i),r));if("string"!=typeof h){var a=h.data;if(null!=a){for(var o=f.assets.database(a),c=L.field(g,r),a=h.type,u=E[a],_=0;_<o.length;){var d=o[_],b=(++_,B.createInstance(u,[null,null]));b.setRawData(d),c.push(b)}c.synchronize()}}}})},assetsLoaded:function(){this.runNextLoader()},runNextLoader:function(){0<this.loaders.length?this.loaders.shift()($bind(this,this.runNextLoader)):(this.loaders=null,this.runReady())},runReady:function(){var l=this;xt.postAppInit(),this.emitReady(),this.screen.resize(),this.backend.offUpdate($bind(this,this.updatePreReady)),this.backend.onUpdate(this,$bind(this,this.update)),this.backend.onRender(this,$bind(this,this.render)),this.backend.input.onKeyDown(this,function(e){l.beginUpdateCallbacks.push(function(){l.input.emitKeyDown(e)})}),this.backend.input.onKeyUp(this,function(e){l.beginUpdateCallbacks.push(function(){l.input.emitKeyUp(e)})}),this.backend.input.onGamepadEnable(this,function(e,n){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadEnable(e,n)})}),this.backend.input.onGamepadDisable(this,function(e){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadDisable(e)})}),this.backend.input.onGamepadDown(this,function(e,n){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadDown(e,n)})}),this.backend.input.onGamepadUp(this,function(e,n){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadUp(e,n)})}),this.backend.input.onGamepadGyro(this,function(e,n,t,i){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadGyro(e,n,t,i)})}),this.backend.input.onGamepadAxis(this,function(e,n,t){l.beginUpdateCallbacks.push(function(){l.input.emitGamepadAxis(e,n,t)})})},updatePreReady:function(e){tn.flushAllInstancesImmediate(),this.flushImmediate()},update:function(e){999999999<++this.frame&&(this.frame-=999999999);var n=e;if(n>this.settings.get_maxDelta()&&(n=this.settings.get_maxDelta()),0<=this.settings.get_overrideDelta()&&(n=this.settings.get_overrideDelta()),this._computeFps.addFrame(n),this.delta=n,this.realDelta=e,mi.update(n,e),Ft.tick(),this.screen.updatePointerOverState(n),this.inUpdate=!0,this.screen.resetDeltas(),this.input.resetDeltas(),0<this.beginUpdateCallbacks.length)for(var t=this.beginUpdateCallbacks,i=(this.beginUpdateCallbacks=[],0);i<t.length;){var l=t[i];++i,l()}for(this.emitPreUpdate(n),this.systems.earlyUpdate(n),tn.flushAllInstancesImmediate(),this.flushImmediate(),0<n&&(H.tick(n),this.flushImmediate()),this.emitUpdate(n),this.tickOnceXUpdates(),this.flushImmediate(),this.systems.lateUpdate(n),this.emitPostUpdate(n),this.flushImmediate();0<this.disposedEntities.length;)this.disposedEntities.shift().destroy();this.syncPendingVisuals();var s,r=this.visuals,h=0,a=!1;do{this.visualsContentDirty=!1;(f=this.screen.matrix).changedDirty&&(f.changed=f.tx!=f._txPrev||f.ty!=f._tyPrev||f.a!=f._aPrev||f.b!=f._bPrev||f.c!=f._cPrev||f.d!=f._dPrev,f.changedDirty=!1),this.screen.matrix.changed&&this.screen.matrix.emitChange();for(var i=0,o=r.length;i<o;)0<=(m=r[O=i++])._lifecycleState&&(m.touchableDirty&&m.computeTouchable(),m.contentDirty)&&(m.visibilityDirty&&m.computeVisibility(),m.computedVisible)&&m.computeContent();for(var c=0,u=r.length;c<u;){var _=r[c++];0<=_._lifecycleState&&null!=_.transform&&((U=_.transform).changedDirty&&(U.changed=U.tx!=U._txPrev||U.ty!=U._tyPrev||U.a!=U._aPrev||U.b!=U._bPrev||U.c!=U._cPrev||U.d!=U._dPrev,U.changedDirty=!1),_.transform.changed)&&_.transform.emitChange()}if(9999<h++){if(a&&this.visualsContentDirty)throw ct.thrown("Failed to update visuals because flushImmediate() is being called continuously and visuals content stays dirty.");if(a)throw ct.thrown("Failed to update visuals because flushImmediate() is being called continuously.");for(var d=0,b=r.length;d<b;){var g=r[d++];if(0<=g._lifecycleState&&g.contentDirty)throw ct.thrown("Failed to update visuals because visuals content stays dirty. ("+ot.string(g)+")")}}}while(a=this.flushImmediate(),s=this.syncPendingVisuals(),a||this.visualsContentDirty||s);for(i=0,o=this.renderTextures.length;i<o;){var O=i++;null!=(I=this.renderTextures[O]).dependingTextures&&I.dependingTextures.clear()}for(i=0,o=r.length;i<o;){var f,p,C,v,m=r[O=i++];if(0<=m._lifecycleState)if(m.renderTargetDirty&&m.computeRenderTarget(),m.matrixDirty&&m.computeMatrix(),m.visibilityDirty&&m.computeVisibility(),m.computedVisible)if(m.clipDirty&&m.computeClip(),null!=m.computedRenderTarget)if(null!=m.asQuad){if(null!=m.asQuad._texture&&(f=m.computedRenderTarget,p=m.asQuad._texture,null==f.dependingTextures&&(f.dependingTextures=new Sn),M=f.dependingTextures.intMap.h[0|p.index],f.dependingTextures.set(p.index,(null!=M?M:0)+1)),null!=m.shader&&null!=m.shader.usedTextures)for(var w=m.shader.usedTextures,c=0,u=w.length;c<u;){var y=c++,U=m.computedRenderTarget,y=w[y],D=(null==U.dependingTextures&&(U.dependingTextures=new Sn),U.dependingTextures.intMap.h[0|y.index]);U.dependingTextures.set(y.index,(null!=D?D:0)+1)}}else if(null!=m.asMesh)if(null!=m.asMesh.texture&&(p=m.computedRenderTarget,C=m.asMesh.texture,null==p.dependingTextures&&(p.dependingTextures=new Sn),v=p.dependingTextures.intMap.h[0|C.index],p.dependingTextures.set(C.index,(null!=v?v:0)+1)),null!=m.shader&&null!=m.shader.usedTextures)for(var T=m.shader.usedTextures,d=0,b=T.length;d<b;){var x=d++,S=m.computedRenderTarget,x=T[x],A=(null==S.dependingTextures&&(S.dependingTextures=new Sn),S.dependingTextures.intMap.h[0|x.index]);S.dependingTextures.set(x.index,(null!=A?A:0)+1)}}this.computeHierarchy();var k=this.renderTextures;if(0!=k.length){for(var I,P=k.length,i=0,o=P;i<o;)(I=k[O=i++]).priority=0;for(i=0,o=P;i<o;)for(var F=k[O=i++],c=0,u=P;c<u;){var B=k[c++];null!=F.dependingTextures&&0<(null!=(M=F.dependingTextures.intMap.h[0|B.index])?M:0)&&B.priority<=F.priority&&(B.priority=F.priority+1)}for(i=0,o=P;i<o;)for(F=k[O=i++],c=0,u=P;c<u;){var M,B=k[c++];null!=F.dependingTextures&&0<(null!=(M=F.dependingTextures.intMap.h[0|B.index])?M:0)&&B.priority<=F.priority&&(B.priority=F.priority+1)}}this.syncDestroyedVisuals();r=this.visuals;this.emitBeginSortVisuals(),Kt.rec(r,0,r.length),this.emitFinishSortVisuals(),this.inUpdate=!1},render:function(){this.emitBeginDraw(),this.backend.draw.draw(this.visuals),this.emitFinishDraw(),H.endFrame()},addVisual:function(e){this.pendingVisuals.push(e)},removeVisual:function(e){this.destroyedVisuals.push(e)},syncPendingVisuals:function(){if(0<this.pendingVisuals.length){for(;0<this.pendingVisuals.length;)this.visuals.push(this.pendingVisuals.pop());return this.hierarchyDirty=!0}return!1},syncDestroyedVisuals:function(){if(0<this.destroyedVisuals.length){for(var e=0,n=0,t=this.visuals.length;e<t;){do{}while(this.visuals[e]._lifecycleState<0&&(++n,++e<t));0!=n&&e<t&&(this.visuals[e-n]=this.visuals[e]),++e}var i=this.destroyedVisuals;if(0!=i.length)if(0<i.length)i.splice(0,i.length);else for(var l=i;l.length<0;)l.push(null);var s=t-n;if((i=this.visuals).length!=s)if(i.length>s)i.splice(s,i.length-s);else for(l=i;l.length<s;)l.push(null);this.hierarchyDirty=!0}},updateVisuals:function(e){var n,t=0,i=!1;do{this.visualsContentDirty=!1;(b=this.screen.matrix).changedDirty&&(b.changed=b.tx!=b._txPrev||b.ty!=b._tyPrev||b.a!=b._aPrev||b.b!=b._bPrev||b.c!=b._cPrev||b.d!=b._dPrev,b.changedDirty=!1),this.screen.matrix.changed&&this.screen.matrix.emitChange();for(var l=0,s=e.length;l<s;)0<=(p=e[_=l++])._lifecycleState&&(p.touchableDirty&&p.computeTouchable(),p.contentDirty)&&(p.visibilityDirty&&p.computeVisibility(),p.computedVisible)&&p.computeContent();for(var r=0,h=e.length;r<h;){var a=e[r++];0<=a._lifecycleState&&null!=a.transform&&((m=a.transform).changedDirty&&(m.changed=m.tx!=m._txPrev||m.ty!=m._tyPrev||m.a!=m._aPrev||m.b!=m._bPrev||m.c!=m._cPrev||m.d!=m._dPrev,m.changedDirty=!1),a.transform.changed)&&a.transform.emitChange()}if(9999<t++){if(i&&this.visualsContentDirty)throw ct.thrown("Failed to update visuals because flushImmediate() is being called continuously and visuals content stays dirty.");if(i)throw ct.thrown("Failed to update visuals because flushImmediate() is being called continuously.");for(var o=0,c=e.length;o<c;){var u=e[o++];if(0<=u._lifecycleState&&u.contentDirty)throw ct.thrown("Failed to update visuals because visuals content stays dirty. ("+ot.string(u)+")")}}}while(i=this.flushImmediate(),n=this.syncPendingVisuals(),i||this.visualsContentDirty||n);for(l=0,s=this.renderTextures.length;l<s;){var _=l++,d=this.renderTextures[_];null!=d.dependingTextures&&d.dependingTextures.clear()}for(l=0,s=e.length;l<s;){var b,g,O,f,p=e[_=l++];if(0<=p._lifecycleState)if(p.renderTargetDirty&&p.computeRenderTarget(),p.matrixDirty&&p.computeMatrix(),p.visibilityDirty&&p.computeVisibility(),p.computedVisible)if(p.clipDirty&&p.computeClip(),null!=p.computedRenderTarget)if(null!=p.asQuad){if(null!=p.asQuad._texture&&(b=p.computedRenderTarget,g=p.asQuad._texture,null==b.dependingTextures&&(b.dependingTextures=new Sn),O=b.dependingTextures.intMap.h[0|g.index],b.dependingTextures.set(g.index,(null!=O?O:0)+1)),null!=p.shader&&null!=p.shader.usedTextures)for(var C=p.shader.usedTextures,r=0,h=C.length;r<h;){var v=r++,m=p.computedRenderTarget,v=C[v],w=(null==m.dependingTextures&&(m.dependingTextures=new Sn),m.dependingTextures.intMap.h[0|v.index]);m.dependingTextures.set(v.index,(null!=w?w:0)+1)}}else if(null!=p.asMesh)if(null!=p.asMesh.texture&&(g=p.computedRenderTarget,O=p.asMesh.texture,null==g.dependingTextures&&(g.dependingTextures=new Sn),f=g.dependingTextures.intMap.h[0|O.index],g.dependingTextures.set(O.index,(null!=f?f:0)+1)),null!=p.shader&&null!=p.shader.usedTextures)for(var y=p.shader.usedTextures,o=0,c=y.length;o<c;){var U=o++,D=p.computedRenderTarget,U=y[U],T=(null==D.dependingTextures&&(D.dependingTextures=new Sn),D.dependingTextures.intMap.h[0|U.index]);D.dependingTextures.set(U.index,(null!=T?T:0)+1)}}},computeHierarchy:function(){if(this.hierarchyDirty){for(var e=0,n=this.visuals.length;e<n;){var t=e++,t=this.visuals[t];0<=t._lifecycleState&&null==t.parent&&(t.computedDepth=1e3*t.depth,null!=t.children)&&q._computeChildrenDepth0(t)}this.hierarchyDirty=!1}},_computeRenderTexturesPriorityQueue:null,computeRenderTexturesPriority:function(e){if(0!=e.length){for(var n=e.length,t=0,i=n;t<i;)e[t++].priority=0;for(t=0,i=n;t<i;)for(var l=e[t++],s=0,r=n;s<r;){var h=e[s++];null!=l.dependingTextures&&0<(null!=(a=l.dependingTextures.intMap.h[0|h.index])?a:0)&&h.priority<=l.priority&&(h.priority=l.priority+1)}for(t=0,i=n;t<i;)for(l=e[t++],s=0,r=n;s<r;){var a,h=e[s++];null!=l.dependingTextures&&0<(null!=(a=l.dependingTextures.intMap.h[0|h.index])?a:0)&&h.priority<=l.priority&&(h.priority=l.priority+1)}}},sortVisuals:function(e){this.emitBeginSortVisuals(),Kt.rec(e,0,e.length),this.emitFinishSortVisuals()},group:function(e,n){null==n&&(n=!0);for(var t=0,i=this.groups.length;t<i;){var l=t++,l=this.groups[l];if(l.id==e)return l}return n?new jn(e):null},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offReady(),this.offUpdate(),this.offPreUpdate(),this.offPostUpdate(),this.offDefaultAssetsLoad(),this.offCriticalError(),this.offBeginEnterBackground(),this.offFinishEnterBackground(),this.offBeginEnterForeground(),this.offFinishEnterForeground(),this.offBeginSortVisuals(),this.offFinishSortVisuals(),this.offBeginDraw(),this.offFinishDraw(),this.offLowMemory(),this.offTerminate()},info:null,__class__:ke,__properties__:$extend(j.prototype.__properties__,{set_scenes:"set_scenes",get_scenes:"get_scenes",get_computedFps:"get_computedFps"})}),function(){this.callback=null,this.numUpdates=-1,this.owner=null}),C=((E["ceramic.AppXUpdatesHandler"]=fn).__name__="ceramic.AppXUpdatesHandler",fn.prototype={owner:null,numUpdates:null,callback:null,reset:function(){this.owner=null,this.numUpdates=-1,this.callback=null},__class__:fn},function(e){this.nextFree=0,this.arrays=null,this.arrayLengths=e}),pn=((E["ceramic.ArrayPool"]=C).__name__="ceramic.ArrayPool",C.pool=function(e){return e<=10?C.dynPool10:e<=100?C.dynPool100:e<=1e3?C.dynPool1000:e<=1e4?C.dynPool10000:e<=1e5?C.dynPool100000:(C.didNotifyLargePool||(C.didNotifyLargePool=!0,mi.schedule(null,.5,function(){C.didNotifyLargePool=!1},-1),ke.app.logger.warning("You should avoid asking a pool for arrays with more than 100000 elements (asked: "+e+") because it needs allocating a temporary one-time pool each time for that.",{fileName:"../../../../ceramic/runtime/src/ceramic/ArrayPool.hx",lineNumber:86,className:"ceramic.ArrayPool",methodName:"pool"})),new C(e))},C.prototype={arrays:null,nextFree:null,arrayLengths:null,get:function(){null==this.arrays?this.arrays=new Pt(C.ALLOC_STEP):this.nextFree>=this.arrays.length&&(e=this.arrays).set_length(e.length+C.ALLOC_STEP);var e=this.arrays.vector[this.nextFree];for(null==e&&(e=new Pt(this.arrayLengths),this.arrays.vector[this.nextFree]=e),e._poolIndex=this.nextFree;;){if(this.nextFree++,this.nextFree==this.arrays.length)break;var n=this.arrays.vector[this.nextFree];if(null==n)break;if(-1==n._poolIndex)break}return e},release:function(e){for(var n=e._poolIndex,t=(e._poolIndex=-1,this.nextFree>n&&(this.nextFree=n),0),i=e.length;t<i;){var l=t++;e.vector[l]=null}},__class__:C},(E["ceramic.Assert"]=Fa).__name__="ceramic.Assert",(E["ceramic.Asset"]=Ga).__name__="ceramic.Asset",Ga.__interfaces__=[u],Ga.__super__=j,Ga.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnComplete:null,__cbOnceComplete:null,__cbOnOwnerUnbindComplete:null,__cbOnceOwnerUnbindComplete:null,emitComplete:function(e){e&&null!=this.owner&&this.owner.emitUpdate(this);var n=0;if(null!=this.__cbOnComplete&&(n+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(n+=this.__cbOnceComplete.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnComplete)for(var s=0,r=this.__cbOnComplete.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnComplete[h],++l):--n}if(null!=this.__cbOnceComplete){for(var a=null,o=null,s=0,r=this.__cbOnceComplete.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceComplete[h],this.__cbOnceComplete[h]=null,c=this.__cbOnceOwnerUnbindComplete[h],(this.__cbOnceOwnerUnbindComplete[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindComplete[h]),o.push(this.__cbOnceComplete[h]))}this.__cbOnceOwnerUnbindComplete=a,this.__cbOnceComplete=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(t)},onceComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(t)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(s=this.__cbOnOwnerUnbindComplete[n])&&s(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindComplete[n])&&s(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindComplete[l])&&s()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindComplete[l])&&s()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&0<this.__cbOnComplete.length||null!=this.__cbOnceComplete&&0<this.__cbOnceComplete.length},kind:null,name:null,variant:null,fullName:null,path:null,allPaths:null,density:null,owner:null,runtimeAssets:null,options:null,assets:null,refCount:null,statusAutoruns:null,get_status:function(){var e,n,t=this.unobservedStatus;return null!=w.current&&(e=w.current,null!=(n=this.statusAutoruns)||(n=w.getAutorunArray(),null!=(this.statusAutoruns=n)))&&e.bindToAutorunArray(n),t},set_status:function(e){var n=this.unobservedStatus;return n!=(this.unobservedStatus=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n),null!=(n=this.statusAutoruns))&&(this.statusAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateStatus:function(){var e=this.unobservedStatus,e=(this.emitStatusChange(e,e),this.statusAutoruns);null!=e&&(this.statusAutoruns=null,w.invalidateAutorunArray(e))},unobservedStatus:null,__cbOnStatusChange:null,__cbOnceStatusChange:null,__cbOnOwnerUnbindStatusChange:null,__cbOnceOwnerUnbindStatusChange:null,emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnStatusChange)for(var r=0,h=this.__cbOnStatusChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnStatusChange[a],++s):--t}if(null!=this.__cbOnceStatusChange){for(var o=null,c=null,r=0,h=this.__cbOnceStatusChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceStatusChange[a],this.__cbOnceStatusChange[a]=null,u=this.__cbOnceOwnerUnbindStatusChange[a],(this.__cbOnceOwnerUnbindStatusChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindStatusChange[a]),c.push(this.__cbOnceStatusChange[a]))}this.__cbOnceOwnerUnbindStatusChange=o,this.__cbOnceStatusChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(t)},onceStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(t)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStatusChange[n])&&s(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStatusChange[n])&&s(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStatusChange[l])&&s()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStatusChange[l])&&s()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&0<this.__cbOnStatusChange.length||null!=this.__cbOnceStatusChange&&0<this.__cbOnceStatusChange.length},handleTexturesDensityChange:null,hotReload:null,customExtensions:null,load:function(){this.set_status(Cn.BROKEN),ke.app.logger.error("This asset as no load implementation.",{fileName:"../../../../ceramic/runtime/src/ceramic/Asset.hx",lineNumber:168,className:"ceramic.Asset",methodName:"load"}),this.emitComplete(!1)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.owner&&(this.owner.removeAsset(this),this.owner=null),null!=this.assets&&(this.assets.destroy(),this.assets=null))},computePath:function(e,n,t){if(null==t&&null!=this.runtimeAssets&&(t=this.runtimeAssets),null==e)switch(this.kind){case"atlas":e=["atlas"];break;case"database":e=["csv"];break;case"font":e=["fnt","ttf","otf"];break;case"fragments":e=["fragments"];break;case"image":e=["png","jpg","jpeg"];break;case"shader":e=["frag","vert"];break;case"sound":var i,l,s,r;ke.app.backend.info;e=(null!=on._soundExtensions||(on._soundExtensions=[],i=new Audio,l=null!=qe.navigator?qe.navigator.userAgent:"",r=on.RE_OPERA.match(l)&&parseInt(on.RE_OPERA.matched(0).split("/")[1],10)<33,s=-1!=l.indexOf("Safari")&&-1==l.indexOf("Chrome"),l=on.RE_SAFARI_VERSION.match(l),s&&l&&parseInt(on.RE_SAFARI_VERSION.matched(1),10),null!=(s=i.canPlayType('audio/ogg; codecs="vorbis"'))&&"no"!=s&&""!=s&&on._soundExtensions.push("ogg"),l=i.canPlayType("audio/mpeg;"),s=i.canPlayType("audio/mp3;"),!r&&(null!=l&&"no"!=l&&""!=l||null!=s&&"no"!=s&&""!=s)&&on._soundExtensions.push("mp3"),r=i.canPlayType("audio/x-flac;"),l=i.canPlayType("audio/flac;"),(null!=r&&"no"!=r&&""!=r||null!=l&&"no"!=l&&""!=l)&&on._soundExtensions.push("flac"),s=i.canPlayType('audio/wav; codecs="1"'),r=i.canPlayType("audio/wav;"),(null!=s&&"no"!=s&&""!=s||null!=r&&"no"!=r&&""!=r)&&on._soundExtensions.push("wav")),[].concat(on._soundExtensions));break;case"text":e=["txt","json","fnt","atlas"];break;default:e=null}null!=e&&null!=n||Object.prototype.hasOwnProperty.call(tn.customAssetKinds.h,this.kind)&&(u=tn.customAssetKinds.h[this.kind],null==e&&(e=u.extensions),null==n)&&(n=u.dir),null==e&&(e=[]),null!=this.customExtensions&&(e=e.concat(this.customExtensions)),null==n&&(n=!1);var h=ke.app.screen.get_texturesDensity(),a=null,o=[],c=null,u=n?(null!=t?t.getLists():tn).allDirsByName:(null!=t?t.getLists():tn).allByName,_=this.name;if(null==a&&null!=_&&Dt.isAbsolute(_)&&(a=_),0<e.length){for(var d=0;d<e.length;){var b=e[d];if(++d,z.endsWith(_,"."+b)){_=he.substr(_,0,_.length-b.length-1);break}}var g=!1;if(Object.prototype.hasOwnProperty.call(u.h,_))for(var O=u.h[_],d=0;d<e.length;){for(var b=e[d],f=(++d,99999999999),p=0;p<O.length;){var C,v=O[p],v=(++p,tn.decodePath(v));v.extension==b&&(g||(C=Math.abs(h-v.density))<f&&(f=C,v.density,a=v.path,c=v),o.push(v.path))}null!=a&&(g=!0)}}if(null==a&&(a=_),this.allPaths=o,this.set_path(a),null!=c&&null!=c.flags)for(var n=c.flags.h,m=Object.keys(n),w=m.length,y=0;y<w;){var U=m[y++];Object.prototype.hasOwnProperty.call(this.options,U)||(this.options[U]=c.flags.h[U])}},set_path:function(e){return this.path!=e&&(this.get_status()==Cn.READY&&this.set_status(Cn.NONE),this.path=e,this.density=null==e?1:tn.decodePath(e).density),e},set_name:function(e){return this.name!=e&&(this.name=e,this.fullName=null!=this.variant?e+":"+this.variant:e,this.id="asset:"+this.kind+":"+this.fullName),e},set_variant:function(e){return this.variant==e?e:(this.variant=e,this.fullName=null!=e?this.name+":"+e:this.name,this.id="asset:"+this.kind+":"+this.fullName,this.name)},set_runtimeAssets:function(e){return this.runtimeAssets!=e&&(this.runtimeAssets=e,this.computePath()),e},set_handleTexturesDensityChange:function(e){return this.handleTexturesDensityChange!=e&&((this.handleTexturesDensityChange=e)?ke.app.screen.onTexturesDensityChange(this,$bind(this,this.texturesDensityDidChange)):ke.app.screen.offTexturesDensityChange($bind(this,this.texturesDensityDidChange))),e},texturesDensityDidChange:function(e,n){},set_hotReload:function(e){return this.hotReload!=e&&((this.hotReload=e)?this.owner.onAssetFilesChange(this,$bind(this,this.assetFilesDidChange)):this.owner.offAssetFilesChange($bind(this,this.assetFilesDidChange))),e},assetFilesDidChange:function(e,n){},toString:function(){var e=this.className();return null!=this.path&&""!=z.trim(this.path)?e+"("+this.fullName+" "+this.path+")":e+"("+this.fullName+")"},willEmitComplete:function(e){e&&null!=this.owner&&this.owner.emitUpdate(this)},retain:function(){this.refCount++},release:function(){0==this.refCount?ke.app.logger.warning("Called release() on asset "+ot.string(this)+" when its refCount is already 0 (destroyed="+ot.string(this._lifecycleState<0)+")",{fileName:"../../../../ceramic/runtime/src/ceramic/Asset.hx",lineNumber:506,className:"ceramic.Asset",methodName:"release"}):this.refCount--},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange(),this.offComplete()},__class__:Ga,__properties__:$extend(j.prototype.__properties__,{set_hotReload:"set_hotReload",set_handleTexturesDensityChange:"set_handleTexturesDensityChange",set_status:"set_status",get_status:"get_status",set_runtimeAssets:"set_runtimeAssets",set_path:"set_path",set_variant:"set_variant",set_name:"set_name"})}),function(e){var n=(this.path=e).lastIndexOf("."),t=(this.extension=he.substr(e,n+1,null).toLowerCase(),he.substr(e,0,n)),i=t.lastIndexOf("@");if(-(this.density=1)==i)i=n;else for(var l=0,s=he.substr(t,i+1,null).split("+");l<s.length;){var r,h=s[l],a=(++l,!0);z.endsWith(h,"x")&&(r=parseFloat(he.substr(h,0,h.length-1)),isNaN(r)||(this.density=r,a=!1)),a&&(null==this.flags&&(this.flags=new te),-1==(r=h.indexOf("="))?this.flags.h[h]=!0:(a=he.substr(h,0,r),h=he.substr(h,r+1,null),this.flags.h[a]=h))}this.name=he.substr(e,0,Math.min(i,n))}),Cn=((E["ceramic.AssetPathInfo"]=pn).__name__="ceramic.AssetPathInfo",pn.prototype={density:null,extension:null,name:null,path:null,flags:null,toString:function(){return""+ot.string({extension:this.extension,name:this.name,path:this.path,density:this.density})},__class__:pn},en["ceramic.AssetStatus"]={__ename__:"ceramic.AssetStatus",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"ceramic.AssetStatus",toString:c},LOADING:{_hx_name:"LOADING",_hx_index:1,__enum__:"ceramic.AssetStatus",toString:c},READY:{_hx_name:"READY",_hx_index:2,__enum__:"ceramic.AssetStatus",toString:c},BROKEN:{_hx_name:"BROKEN",_hx_index:3,__enum__:"ceramic.AssetStatus",toString:c}}),vn=(Cn.__constructs__=[Cn.NONE,Cn.LOADING,Cn.READY,Cn.BROKEN],function(e,n,t){this.parseAtlas=null,this.unobservedText=null,this.textAutoruns=null,this.unobservedAtlas=null,this.atlasAutoruns=null,Ga.call(this,"atlas",e,n,t),this.set_handleTexturesDensityChange(!0),this.assets=new tn}),mn=((E["ceramic.AtlasAsset"]=vn).__name__="ceramic.AtlasAsset",vn.__super__=Ga,vn.prototype=$extend(Ga.prototype,{__cbOnReplaceAtlas:null,__cbOnceReplaceAtlas:null,__cbOnOwnerUnbindReplaceAtlas:null,__cbOnceOwnerUnbindReplaceAtlas:null,emitReplaceAtlas:function(e,n){var t=0;if(null!=this.__cbOnReplaceAtlas&&(t+=this.__cbOnReplaceAtlas.length),null!=this.__cbOnceReplaceAtlas&&(t+=this.__cbOnceReplaceAtlas.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnReplaceAtlas)for(var r=0,h=this.__cbOnReplaceAtlas.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnReplaceAtlas[a],++s):--t}if(null!=this.__cbOnceReplaceAtlas){for(var o=null,c=null,r=0,h=this.__cbOnceReplaceAtlas.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceReplaceAtlas[a],this.__cbOnceReplaceAtlas[a]=null,u=this.__cbOnceOwnerUnbindReplaceAtlas[a],(this.__cbOnceOwnerUnbindReplaceAtlas[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindReplaceAtlas[a]),c.push(this.__cbOnceReplaceAtlas[a]))}this.__cbOnceOwnerUnbindReplaceAtlas=o,this.__cbOnceReplaceAtlas=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onReplaceAtlas:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event replaceAtlas because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceAtlas(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplaceAtlas&&(this.__cbOnOwnerUnbindReplaceAtlas=[]),this.__cbOnOwnerUnbindReplaceAtlas.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplaceAtlas&&(this.__cbOnOwnerUnbindReplaceAtlas=[]),this.__cbOnOwnerUnbindReplaceAtlas.push(null);null==this.__cbOnReplaceAtlas&&(this.__cbOnReplaceAtlas=[]),this.__cbOnReplaceAtlas.push(t)},onceReplaceAtlas:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event replaceAtlas because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceAtlas(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplaceAtlas&&(this.__cbOnceOwnerUnbindReplaceAtlas=[]),this.__cbOnceOwnerUnbindReplaceAtlas.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplaceAtlas&&(this.__cbOnceOwnerUnbindReplaceAtlas=[]),this.__cbOnceOwnerUnbindReplaceAtlas.push(null);null==this.__cbOnceReplaceAtlas&&(this.__cbOnceReplaceAtlas=[]),this.__cbOnceReplaceAtlas.push(t)},offReplaceAtlas:function(e){if(null!=e){var n;null!=this.__cbOnReplaceAtlas&&-1!=(n=this.__cbOnReplaceAtlas.indexOf(e))&&(this.__cbOnReplaceAtlas.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplaceAtlas[n])&&s(),this.__cbOnOwnerUnbindReplaceAtlas.splice(n,1)),null!=this.__cbOnceReplaceAtlas&&-1!=(n=this.__cbOnceReplaceAtlas.indexOf(e))&&(this.__cbOnceReplaceAtlas.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplaceAtlas[n])&&s(),this.__cbOnceOwnerUnbindReplaceAtlas.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceAtlas){for(var t=0,i=this.__cbOnOwnerUnbindReplaceAtlas.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplaceAtlas[l])&&s()}this.__cbOnOwnerUnbindReplaceAtlas=null}if(null!=this.__cbOnceOwnerUnbindReplaceAtlas){for(t=0,i=this.__cbOnceOwnerUnbindReplaceAtlas.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReplaceAtlas[l])&&s()}this.__cbOnceOwnerUnbindReplaceAtlas=null}this.__cbOnReplaceAtlas=null,this.__cbOnceReplaceAtlas=null}},listensReplaceAtlas:function(){return null!=this.__cbOnReplaceAtlas&&0<this.__cbOnReplaceAtlas.length||null!=this.__cbOnceReplaceAtlas&&0<this.__cbOnceReplaceAtlas.length},atlasAutoruns:null,get_atlas:function(){var e,n,t=this.unobservedAtlas;return null!=w.current&&(e=w.current,null!=(n=this.atlasAutoruns)||(n=w.getAutorunArray(),null!=(this.atlasAutoruns=n)))&&e.bindToAutorunArray(n),t},set_atlas:function(e){var n=this.unobservedAtlas;return n!=(this.unobservedAtlas=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitAtlasChange(e,n),null!=(n=this.atlasAutoruns))&&(this.atlasAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateAtlas:function(){var e=this.unobservedAtlas,e=(this.emitAtlasChange(e,e),this.atlasAutoruns);null!=e&&(this.atlasAutoruns=null,w.invalidateAutorunArray(e))},unobservedAtlas:null,__cbOnAtlasChange:null,__cbOnceAtlasChange:null,__cbOnOwnerUnbindAtlasChange:null,__cbOnceOwnerUnbindAtlasChange:null,emitAtlasChange:function(e,n){var t=0;if(null!=this.__cbOnAtlasChange&&(t+=this.__cbOnAtlasChange.length),null!=this.__cbOnceAtlasChange&&(t+=this.__cbOnceAtlasChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnAtlasChange)for(var r=0,h=this.__cbOnAtlasChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnAtlasChange[a],++s):--t}if(null!=this.__cbOnceAtlasChange){for(var o=null,c=null,r=0,h=this.__cbOnceAtlasChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceAtlasChange[a],this.__cbOnceAtlasChange[a]=null,u=this.__cbOnceOwnerUnbindAtlasChange[a],(this.__cbOnceOwnerUnbindAtlasChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindAtlasChange[a]),c.push(this.__cbOnceAtlasChange[a]))}this.__cbOnceOwnerUnbindAtlasChange=o,this.__cbOnceAtlasChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onAtlasChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event atlasChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAtlasChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAtlasChange&&(this.__cbOnOwnerUnbindAtlasChange=[]),this.__cbOnOwnerUnbindAtlasChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAtlasChange&&(this.__cbOnOwnerUnbindAtlasChange=[]),this.__cbOnOwnerUnbindAtlasChange.push(null);null==this.__cbOnAtlasChange&&(this.__cbOnAtlasChange=[]),this.__cbOnAtlasChange.push(t)},onceAtlasChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event atlasChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAtlasChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAtlasChange&&(this.__cbOnceOwnerUnbindAtlasChange=[]),this.__cbOnceOwnerUnbindAtlasChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAtlasChange&&(this.__cbOnceOwnerUnbindAtlasChange=[]),this.__cbOnceOwnerUnbindAtlasChange.push(null);null==this.__cbOnceAtlasChange&&(this.__cbOnceAtlasChange=[]),this.__cbOnceAtlasChange.push(t)},offAtlasChange:function(e){if(null!=e){var n;null!=this.__cbOnAtlasChange&&-1!=(n=this.__cbOnAtlasChange.indexOf(e))&&(this.__cbOnAtlasChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAtlasChange[n])&&s(),this.__cbOnOwnerUnbindAtlasChange.splice(n,1)),null!=this.__cbOnceAtlasChange&&-1!=(n=this.__cbOnceAtlasChange.indexOf(e))&&(this.__cbOnceAtlasChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAtlasChange[n])&&s(),this.__cbOnceOwnerUnbindAtlasChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAtlasChange){for(var t=0,i=this.__cbOnOwnerUnbindAtlasChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAtlasChange[l])&&s()}this.__cbOnOwnerUnbindAtlasChange=null}if(null!=this.__cbOnceOwnerUnbindAtlasChange){for(t=0,i=this.__cbOnceOwnerUnbindAtlasChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindAtlasChange[l])&&s()}this.__cbOnceOwnerUnbindAtlasChange=null}this.__cbOnAtlasChange=null,this.__cbOnceAtlasChange=null}},listensAtlasChange:function(){return null!=this.__cbOnAtlasChange&&0<this.__cbOnAtlasChange.length||null!=this.__cbOnceAtlasChange&&0<this.__cbOnceAtlasChange.length},textAutoruns:null,get_text:function(){var e,n,t=this.unobservedText;return null!=w.current&&(e=w.current,null!=(n=this.textAutoruns)||(n=w.getAutorunArray(),null!=(this.textAutoruns=n)))&&e.bindToAutorunArray(n),t},set_text:function(e){var n=this.unobservedText;return n!=(this.unobservedText=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextChange(e,n),null!=(n=this.textAutoruns))&&(this.textAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateText:function(){var e=this.unobservedText,e=(this.emitTextChange(e,e),this.textAutoruns);null!=e&&(this.textAutoruns=null,w.invalidateAutorunArray(e))},unobservedText:null,__cbOnTextChange:null,__cbOnceTextChange:null,__cbOnOwnerUnbindTextChange:null,__cbOnceOwnerUnbindTextChange:null,emitTextChange:function(e,n){var t=0;if(null!=this.__cbOnTextChange&&(t+=this.__cbOnTextChange.length),null!=this.__cbOnceTextChange&&(t+=this.__cbOnceTextChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTextChange)for(var r=0,h=this.__cbOnTextChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTextChange[a],++s):--t}if(null!=this.__cbOnceTextChange){for(var o=null,c=null,r=0,h=this.__cbOnceTextChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTextChange[a],this.__cbOnceTextChange[a]=null,u=this.__cbOnceOwnerUnbindTextChange[a],(this.__cbOnceOwnerUnbindTextChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextChange[a]),c.push(this.__cbOnceTextChange[a]))}this.__cbOnceOwnerUnbindTextChange=o,this.__cbOnceTextChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event textChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(null);null==this.__cbOnTextChange&&(this.__cbOnTextChange=[]),this.__cbOnTextChange.push(t)},onceTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event textChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(null);null==this.__cbOnceTextChange&&(this.__cbOnceTextChange=[]),this.__cbOnceTextChange.push(t)},offTextChange:function(e){if(null!=e){var n;null!=this.__cbOnTextChange&&-1!=(n=this.__cbOnTextChange.indexOf(e))&&(this.__cbOnTextChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTextChange[n])&&s(),this.__cbOnOwnerUnbindTextChange.splice(n,1)),null!=this.__cbOnceTextChange&&-1!=(n=this.__cbOnceTextChange.indexOf(e))&&(this.__cbOnceTextChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTextChange[n])&&s(),this.__cbOnceOwnerUnbindTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextChange){for(var t=0,i=this.__cbOnOwnerUnbindTextChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTextChange[l])&&s()}this.__cbOnOwnerUnbindTextChange=null}if(null!=this.__cbOnceOwnerUnbindTextChange){for(t=0,i=this.__cbOnceOwnerUnbindTextChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTextChange[l])&&s()}this.__cbOnceOwnerUnbindTextChange=null}this.__cbOnTextChange=null,this.__cbOnceTextChange=null}},listensTextChange:function(){return null!=this.__cbOnTextChange&&0<this.__cbOnTextChange.length||null!=this.__cbOnceTextChange&&0<this.__cbOnceTextChange.length},parseAtlas:null,load:function(){for(var u=this,_=(null!=this.owner&&(this.assets.inheritRuntimeAssetsFromAssets(this.owner),this.assets.loadMethod=this.owner.loadMethod,this.assets.scheduleMethod=this.owner.scheduleMethod,this.assets.delayBetweenXAssets=this.owner.delayBetweenXAssets),[]),a=this.assets.iterator();a.hasNext();){var e=a.next();_.push(e)}this.set_status(Cn.LOADING),null==this.path?(ke.app.logger.warning("Cannot load atlas asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:127,className:"ceramic.AtlasAsset",methodName:"load"}),this.set_status(Cn.BROKEN),this.emitComplete(!1)):(ke.app.logger.info("Load atlas "+this.path,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:133,className:"ceramic.AtlasAsset",methodName:"load"}),this.assets.runtimeAssets=this.runtimeAssets,(a=new oi(this.name)).set_handleTexturesDensityChange(!1),this.assets.addAsset(a),a.set_path(this.path),this.assets.onceComplete(this,function(e){if(u.set_text(a.get_text()),null!=u.get_text())try{for(var o=null!=u.parseAtlas?u.parseAtlas(u.get_text()):bi.parse(u.get_text()),c=(o.id="atlas:"+u.path,[]),n=0,t=o.pages.length;n<t;){var i=n++,l=o.pages[i].get_name(),s=Dt.directory(u.path),r=(null!=s&&0<s.length&&(l=Dt.join([s,l])),tn.decodePath(l)),h=new Zn(r.name);h.set_handleTexturesDensityChange(!1),h.set_path(r.path),u.assets.addAsset(h),c.push(h)}u.assets.onceComplete(u,function(e){if(e){for(var n=0,t=c.length;n<t;){var i=n++,l=(a=c[i]).get_texture();null!=l&&l.set_filter(o.pages[i].get_filter()),o.pages[i].set_texture(l)}o.computeFrames();var s=u.get_atlas();if((o.asset=u).set_atlas(o),null!=s){u.emitReplaceAtlas(u.get_atlas(),s);for(n=0,t=[].concat(ke.app.visuals);n<t.length;){var r,h=t[n];++n,0<=h._lifecycleState&&null!=h.asQuad&&null!=(h=h.asQuad).tile&&h.tile instanceof Oi&&null!=(r=h.tile)&&r.atlas==s&&(null!=(r=r.name)&&null!=(r=o.region(r))?h.set_tile(r):h.set_tile(null))}s.asset=null,s.destroy()}for(n=0;n<_.length;){var a=_[n];++n,a instanceof Zn&&-1!=c.indexOf(a)||a.destroy()}u.set_status(Cn.READY),u.emitComplete(!0),u.handleTexturesDensityChange&&u.checkTexturesDensity()}else u.set_status(Cn.BROKEN),ke.app.logger.error("Failed to load textures for atlas at path: "+u.path,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:261,className:"ceramic.AtlasAsset",methodName:"load"}),u.emitComplete(!1)}),u.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:267,className:"ceramic.AtlasAsset",methodName:"load"})}catch(n){zl.lastError=n,u.set_status(Cn.BROKEN),ke.app.logger.error("Failed to decode atlas data at path: "+u.path,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:271,className:"ceramic.AtlasAsset",methodName:"load"}),u.emitComplete(!1)}else u.set_status(Cn.BROKEN),ke.app.logger.error("Failed to load atlas data at path: "+u.path,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:277,className:"ceramic.AtlasAsset",methodName:"load"}),u.emitComplete(!1)}),this.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:282,className:"ceramic.AtlasAsset",methodName:"load"}))},texturesDensityDidChange:function(e,n){this.get_status()==Cn.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e;null!=this.owner&&this.owner.reloadOnTextureDensityChange&&(e=this.path,this.computePath(),e!=this.path)&&(ke.app.logger.info("Reload atlas ("+e+" -> "+this.path+")",{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:316,className:"ceramic.AtlasAsset",methodName:"checkTexturesDensity"}),this.load())},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ke.app.logger.info("Reload atlas (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:343,className:"ceramic.AtlasAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ga.prototype.destroy.call(this),null!=this.get_atlas()&&(this.get_atlas().destroy(),this.set_atlas(null)))},unbindEvents:function(){Ga.prototype.unbindEvents.call(this),this.offReplaceAtlas(),this.offAtlasChange(),this.offTextChange()},__class__:vn,__properties__:$extend(Ga.prototype.__properties__,{set_text:"set_text",get_text:"get_text",set_atlas:"set_atlas",get_atlas:"get_atlas"})}),function(){this.busFilters=[],j.call(this),this.mixers=new gt,this.mixers.exists(0)||this.mixers.set(0,new wn(0))}),wn=((E["ceramic.Audio"]=mn).__name__="ceramic.Audio",mn.__super__=j,mn.prototype=$extend(j.prototype,{mixers:null,busFilters:null,initMixerIfNeeded:function(e){this.mixers.exists(e)||this.mixers.set(e,new wn(e))},mixer:function(e){this.mixers.exists(e)||this.mixers.set(e,new wn(e));var n=this.mixers,t=n._keys.intMap.h[0|e];return 2<=(e=null!=t?t:0)?n.values[e-2]:gt.RET_NULL},addFilter:function(e,n){if((n=null==n?0:n)<0)throw ct.thrown("Invalid bus "+n+", must be 0 or higher");for(-1!=e.bus&&this._removeFilter(e,e.bus);this.busFilters.length<=n;)this.busFilters.push([]);this.busFilters[n].push(e),e.attach(n),ke.app.backend.audio.addFilter(n,e,$bind(e,e.emitReady));for(var t=0,i=this.busFilters[n].length;t<i;){var l=t++;ke.app.backend.audio.filterParamsChanged(n,this.busFilters[n][l].filterId)}},removeFilter:function(e,n){this._removeFilter(e,n)},_removeFilter:function(e,n){if(!((n=null==n?e.bus:n)<0||n>=this.busFilters.length)){var t=this.busFilters[n].indexOf(e);if(-1!=t){e.detach(n),this.busFilters[n].splice(t,1),ke.app.backend.audio.removeFilter(n,e.filterId);for(var i=0,l=this.busFilters[n].length;i<l;){var s=i++;ke.app.backend.audio.filterParamsChanged(n,this.busFilters[n][s].filterId)}}}},filters:function(e){e=this.busFilters[e];return e=null!=e?[].concat(e):[]},clearFilters:function(e){if(e<this.busFilters.length)for(var n=this.busFilters[e];0<n.length;)this._removeFilter(n[n.length-1],e)},__class__:mn}),(E["ceramic.AudioFilter"]=Na).__name__="ceramic.AudioFilter",Na.__super__=j,Na.prototype=$extend(j.prototype,{__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(e){var n=0;if(null!=this.__cbOnReady&&(n+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(n+=this.__cbOnceReady.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnReady)for(var s=0,r=this.__cbOnReady.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnReady[h],++l):--n}if(null!=this.__cbOnceReady){for(var a=null,o=null,s=0,r=this.__cbOnceReady.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceReady[h],this.__cbOnceReady[h]=null,c=this.__cbOnceOwnerUnbindReady[h],(this.__cbOnceOwnerUnbindReady[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindReady[h]),o.push(this.__cbOnceReady[h]))}this.__cbOnceOwnerUnbindReady=a,this.__cbOnceReady=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(t)},onceReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(t)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReady[n])&&s(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReady[n])&&s(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReady[l])&&s()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReady[l])&&s()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&0<this.__cbOnReady.length||null!=this.__cbOnceReady&&0<this.__cbOnceReady.length},filterId:null,bus:null,active:null,params:null,paramsChanged:null,paramsAcquired:null,getBool:function(e){e=this.params[e];return null!=e&&0!=e},getInt:function(e){e=this.params[e];return null!=e?0|e:0},getFloat:function(e){e=this.params[e];return null!=e?e:0},setBool:function(e,n){var t=!this.paramsAcquired,i=(t&&this.acquireParams(),this.params[e]),n=n?1:0;(this.params[e]=n)!=i&&(this.paramsChanged=!0),t&&this.releaseParams()},setInt:function(e,n){var t=!this.paramsAcquired,i=(t&&this.acquireParams(),this.params[e]);(this.params[e]=n)!=i&&(this.paramsChanged=!0),t&&this.releaseParams()},setFloat:function(e,n){var t=!this.paramsAcquired,i=(t&&this.acquireParams(),this.params[e]);(this.params[e]=n)!=i&&(this.paramsChanged=!0),t&&this.releaseParams()},acquireParams:function(){this.paramsChanged=!1,this.paramsAcquired=!0},releaseParams:function(){var e=this.paramsChanged;this.paramsChanged=!1,this.paramsAcquired=!1,e&&0<=this.bus&&ke.app.backend.audio.filterParamsChanged(this.bus,this.filterId)},_initDefaultParamValues:function(){},attach:function(e){this.bus=e},detach:function(e){this.bus=-1},workletClass:null,numParams:function(){return 0},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,-1!=this.bus&&ke.app.audio.removeFilter(this),this._lifecycleState=-1,j.prototype.destroy.call(this))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offReady()},__class__:Na}),(E["ceramic.AudioFilterWorklet"]=Oa).__name__="ceramic.AudioFilterWorklet",Oa.prototype={filterId:null,bus:null,active:null,params:null,getBool:function(e){e=this.params[e];return null!=e&&0!=e},getInt:function(e){e=this.params[e];return null!=e?0|e:0},getFloat:function(e){e=this.params[e];return null!=e?e:0},numParams:function(){return 0},process:null,__class__:Oa},function(e){this.mute=!1,this.pitch=1,this.pan=0,this.volume=.5,j.call(this),this.index=e}),yn=((E["ceramic.AudioMixer"]=wn).__name__="ceramic.AudioMixer",wn.__super__=j,wn.prototype=$extend(j.prototype,{volume:null,pan:null,pitch:null,mute:null,index:null,__class__:wn}),(E["ceramic.AutoCollections"]=Qa).__name__="ceramic.AutoCollections",Qa.__isInterface__=!0,(E["ceramic.BackgroundQueue"]=Ra).__name__="ceramic.BackgroundQueue",Ra.__super__=j,Ra.prototype=$extend(j.prototype,{checkInterval:null,runsInBackground:null,stop:null,pending:null,schedule:function(e){ke.app._onceImmediate(e)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),this.stop=!0)},__class__:Ra}),(E["ceramic.BezierEasing"]=Sa).__name__="ceramic.BezierEasing",Sa.quadraticToCubicCP1=function(e){return Sa.TWO_THIRD*e},Sa.quadraticToCubicCP2=function(e){return 1+Sa.TWO_THIRD*(e-1)},Sa.cacheKey=function(e,n,t,i){return 0|1e4*e+1e5*n+1e6*t+1e7*i},Sa.clearCache=function(){Sa.cachedInstances=null,Sa.numCachedInstances=0},Sa.get=function(e,n,t,i){var l=null==t||null==i,s=l?Sa.TWO_THIRD*e:e,r=l?Sa.TWO_THIRD*n:n,h=l?1+Sa.TWO_THIRD*(e-1):t,a=l?1+Sa.TWO_THIRD*(n-1):i,o=null,l=0|1e4*s+1e5*r+1e6*h+1e7*a,c=Sa.cachedInstances=null==Sa.cachedInstances?new gt:Sa.cachedInstances,u=c._keys.intMap.h[0|l],u=null!=u?u:0,_=2<=u?c.values[u-2]:gt.RET_NULL;if(null==_)Sa.CACHE_SIZE<=Sa.numCachedInstances&&Sa.clearCache(),o=new Sa(s,r,h,a),Sa.cachedInstances.set(l,[o]),Sa.numCachedInstances++;else{for(var d=_.length-1;0<=d;){var b=_[d];if(b.mX1==s&&b.mY1==r&&b.mX2==h&&b.mY2==a){o=b;break}--d}null==o&&((o=new Sa(e,n,t,i)).cached=!0,_.push(o))}return o},Sa.prototype={linearEasing:null,sampleValues:null,cached:null,quadratic:null,mQuadraticX1:null,mQuadraticX2:null,mX1:null,mY1:null,mX2:null,mY2:null,configure:function(e,n,t,i){if(this.cached&&this.removeFromCache(this.mX1,this.mY1,this.mX2,this.mY2),null==t||null==i?(this.quadratic=!0,this.mQuadraticX1=e,this.mQuadraticX2=t,this.mX1=Sa.TWO_THIRD*e,this.mY1=Sa.TWO_THIRD*n,this.mX2=1+Sa.TWO_THIRD*(e-1),this.mY2=1+Sa.TWO_THIRD*(n-1)):(this.quadratic=!1,this.mX1=e,this.mY1=n,this.mX2=t,this.mY2=i),this.mX1==this.mY1&&this.mX2==this.mY2)this.linearEasing=!0;else{this.linearEasing=!1,null==this.sampleValues&&(this.sampleValues=[]);for(var l=0,s=Sa.SPLINE_TABLE_SIZE;l<s;){var r=l++,h=r*Sa.SAMPLE_STEP_SIZE,a=this.mX1,o=this.mX2;this.sampleValues[r]=(((1-3*o+3*a)*h+(3*o-6*a))*h+3*a)*h}}},ease:function(e){if(this.linearEasing)return e;if(0==e)return 0;if(1==e)return 1;for(var n=0,t=1,i=Sa.SPLINE_TABLE_SIZE-1;t!=i&&this.sampleValues[t]<=e;)n+=Sa.SAMPLE_STEP_SIZE,++t;var l,s=n+(e-this.sampleValues[--t])/(this.sampleValues[t+1]-this.sampleValues[t])*Sa.SAMPLE_STEP_SIZE,r=this.mX1,h=this.mX2,a=3*(1-3*h+3*r)*s*s+2*(3*h-6*r)*s+3*r;if(Sa.NEWTON_MIN_SLOPE<=a)l=this.newtonRaphsonIterate(e,s,this.mX1,this.mX2);else if(0==a)l=s;else{for(var o,c,u=n,_=n+Sa.SAMPLE_STEP_SIZE,d=this.mX1,b=this.mX2,g=0;0<(o=(((1-3*b+3*d)*(c=u+(_-u)/2)+(3*b-6*d))*c+3*d)*c-e)?_=c:u=c,Math.abs(o)>Sa.SUBDIVISION_PRECISION&&++g<Sa.SUBDIVISION_MAX_ITERATIONS;);l=c}r=this.mY1;return(((1-3*(h=this.mY2)+3*r)*l+(3*h-6*r))*l+3*r)*l},getTForX:function(e){for(var n=0,t=1,i=Sa.SPLINE_TABLE_SIZE-1;t!=i&&this.sampleValues[t]<=e;)n+=Sa.SAMPLE_STEP_SIZE,++t;var l=n+(e-this.sampleValues[--t])/(this.sampleValues[t+1]-this.sampleValues[t])*Sa.SAMPLE_STEP_SIZE,s=this.mX1,r=this.mX2,r=3*(1-3*r+3*s)*l*l+2*(3*r-6*s)*l+3*s;if(Sa.NEWTON_MIN_SLOPE<=r)return this.newtonRaphsonIterate(e,l,this.mX1,this.mX2);if(0==r)return l;for(var h,a,o=n,c=n+Sa.SAMPLE_STEP_SIZE,u=this.mX1,_=this.mX2,d=0;0<(h=(((1-3*_+3*u)*(a=o+(c-o)/2)+(3*_-6*u))*a+3*u)*a-e)?c=a:o=a,Math.abs(h)>Sa.SUBDIVISION_PRECISION&&++d<Sa.SUBDIVISION_MAX_ITERATIONS;);return a},calcBezier:function(e,n,t){return(((1-3*t+3*n)*e+(3*t-6*n))*e+3*n)*e},getSlope:function(e,n,t){return 3*(1-3*t+3*n)*e*e+2*(3*t-6*n)*e+3*n},binarySubdivide:function(e,n,t,i,l){for(var s,r,h=0;0<(s=(((1-3*l+3*i)*(r=n+(t-n)/2)+(3*l-6*i))*r+3*i)*r-e)?t=r:n=r,Math.abs(s)>Sa.SUBDIVISION_PRECISION&&++h<Sa.SUBDIVISION_MAX_ITERATIONS;);return r},newtonRaphsonIterate:function(e,n,t,i){for(var l=0,s=Sa.NEWTON_ITERATIONS;l<s;){l++;var r=3*(1-3*i+3*t)*n*n+2*(3*i-6*t)*n+3*t;if(0==r)return n;n-=((((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n-e)/r}return n},A:function(e,n){return 1-3*n+3*e},B:function(e,n){return 3*n-6*e},C:function(e){return 3*e},removeFromCache:function(e,n,t,i){this.cached=!1;e=0|1e4*e+1e5*n+1e6*t+1e7*i;null!=Sa.cachedInstances&&null!=(t=2<=(i=null!=(t=(n=Sa.cachedInstances)._keys.intMap.h[0|e])?t:0)?n.values[i-2]:gt.RET_NULL)&&(1==t.length&&t[0]==this?Sa.cachedInstances.remove(e):he.remove(t,this))},__class__:Sa},function(e,n,t){this.unobservedBytes=null,this.bytesAutoruns=null,Ga.call(this,"binary",e,n,t)}),Un=((E["ceramic.BinaryAsset"]=yn).__name__="ceramic.BinaryAsset",yn.__super__=Ga,yn.prototype=$extend(Ga.prototype,{bytesAutoruns:null,get_bytes:function(){var e,n,t=this.unobservedBytes;return null!=w.current&&(e=w.current,null!=(n=this.bytesAutoruns)||(n=w.getAutorunArray(),null!=(this.bytesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_bytes:function(e){var n=this.unobservedBytes;return n!=(this.unobservedBytes=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBytesChange(e,n),null!=(n=this.bytesAutoruns))&&(this.bytesAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateBytes:function(){var e=this.unobservedBytes,e=(this.emitBytesChange(e,e),this.bytesAutoruns);null!=e&&(this.bytesAutoruns=null,w.invalidateAutorunArray(e))},unobservedBytes:null,__cbOnBytesChange:null,__cbOnceBytesChange:null,__cbOnOwnerUnbindBytesChange:null,__cbOnceOwnerUnbindBytesChange:null,emitBytesChange:function(e,n){var t=0;if(null!=this.__cbOnBytesChange&&(t+=this.__cbOnBytesChange.length),null!=this.__cbOnceBytesChange&&(t+=this.__cbOnceBytesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnBytesChange)for(var r=0,h=this.__cbOnBytesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnBytesChange[a],++s):--t}if(null!=this.__cbOnceBytesChange){for(var o=null,c=null,r=0,h=this.__cbOnceBytesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceBytesChange[a],this.__cbOnceBytesChange[a]=null,u=this.__cbOnceOwnerUnbindBytesChange[a],(this.__cbOnceOwnerUnbindBytesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindBytesChange[a]),c.push(this.__cbOnceBytesChange[a]))}this.__cbOnceOwnerUnbindBytesChange=o,this.__cbOnceBytesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onBytesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event bytesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBytesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBytesChange&&(this.__cbOnOwnerUnbindBytesChange=[]),this.__cbOnOwnerUnbindBytesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBytesChange&&(this.__cbOnOwnerUnbindBytesChange=[]),this.__cbOnOwnerUnbindBytesChange.push(null);null==this.__cbOnBytesChange&&(this.__cbOnBytesChange=[]),this.__cbOnBytesChange.push(t)},onceBytesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event bytesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBytesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBytesChange&&(this.__cbOnceOwnerUnbindBytesChange=[]),this.__cbOnceOwnerUnbindBytesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBytesChange&&(this.__cbOnceOwnerUnbindBytesChange=[]),this.__cbOnceOwnerUnbindBytesChange.push(null);null==this.__cbOnceBytesChange&&(this.__cbOnceBytesChange=[]),this.__cbOnceBytesChange.push(t)},offBytesChange:function(e){if(null!=e){var n;null!=this.__cbOnBytesChange&&-1!=(n=this.__cbOnBytesChange.indexOf(e))&&(this.__cbOnBytesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBytesChange[n])&&s(),this.__cbOnOwnerUnbindBytesChange.splice(n,1)),null!=this.__cbOnceBytesChange&&-1!=(n=this.__cbOnceBytesChange.indexOf(e))&&(this.__cbOnceBytesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBytesChange[n])&&s(),this.__cbOnceOwnerUnbindBytesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBytesChange){for(var t=0,i=this.__cbOnOwnerUnbindBytesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBytesChange[l])&&s()}this.__cbOnOwnerUnbindBytesChange=null}if(null!=this.__cbOnceOwnerUnbindBytesChange){for(t=0,i=this.__cbOnceOwnerUnbindBytesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBytesChange[l])&&s()}this.__cbOnceOwnerUnbindBytesChange=null}this.__cbOnBytesChange=null,this.__cbOnceBytesChange=null}},listensBytesChange:function(){return null!=this.__cbOnBytesChange&&0<this.__cbOnBytesChange.length||null!=this.__cbOnceBytesChange&&0<this.__cbOnceBytesChange.length},load:function(){var n=this;if(this.set_status(Cn.LOADING),null==this.path)ke.app.logger.warning("Cannot load binary asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:79,className:"ceramic.BinaryAsset",methodName:"load"}),this.set_status(Cn.BROKEN),this.emitComplete(!1);else{var e={};if(null!=this.owner&&(e.immediate=this.owner.immediate,e.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=L.fields(this.options);t<i.length;){var l=i[t];++t,e[l]=L.field(this.options,l)}var s=this.path,r=tn.realAssetPath(s,this.runtimeAssets),h=tn.getReloadCount(r);0<h&&(r+="?hot="+h,s+="?hot="+h),ke.app.logger.info("Load binary "+s,{fileName:"../../../../ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:105,className:"ceramic.BinaryAsset",methodName:"load"}),ke.app.backend.binaries.load(r,e,function(e){null!=e?(n.set_bytes(e),n.set_status(Cn.READY),n.emitComplete(!0)):(n.set_status(Cn.BROKEN),ke.app.logger.error("Failed to load binary at path: "+n.path,{fileName:"../../../../ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:115,className:"ceramic.BinaryAsset",methodName:"load"}),n.emitComplete(!1))})}},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ke.app.logger.info("Reload binary (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:144,className:"ceramic.BinaryAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ga.prototype.destroy.call(this),this.set_bytes(null))},unbindEvents:function(){Ga.prototype.unbindEvents.call(this),this.offBytesChange()},__class__:yn,__properties__:$extend(Ga.prototype.__properties__,{set_bytes:"set_bytes",get_bytes:"get_bytes"})}),(E["ceramic.BitmapFont"]=Ua).__name__="ceramic.BitmapFont",Ua.__super__=j,Ua.prototype=$extend(j.prototype,{pages:null,fontData:null,set_fontData:function(e){return null!=(this.fontData=e)&&(this.spaceChar=e.chars.get(32),null==e.chars.get(160))&&e.chars.set(160,this.spaceChar),e},get_face:function(){return this.fontData.face},set_face:function(e){return this.fontData.face=e},get_pointSize:function(){return this.fontData.pointSize},set_pointSize:function(e){return this.fontData.pointSize=e},get_baseSize:function(){return this.fontData.baseSize},set_baseSize:function(e){return this.fontData.baseSize=e},get_chars:function(){return this.fontData.chars},set_chars:function(e){return this.fontData.chars=e},get_charCount:function(){return this.fontData.charCount},set_charCount:function(e){return this.fontData.charCount=e},get_lineHeight:function(){return this.fontData.lineHeight},set_lineHeight:function(e){return this.fontData.lineHeight=e},get_kernings:function(){return this.fontData.kernings},set_kernings:function(e){return this.fontData.kernings=e},get_msdf:function(){return null!=this.fontData.distanceField&&"msdf"==this.fontData.distanceField.fieldType},spaceChar:null,pageShaders:null,preRenderedPages:null,_preRenderingPages:null,asset:null,destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),null!=this.pages){for(var e=this.pages.iterableKeys,n=0,t=e.length;n<t;){var i=n++;(r=this.pages.get(e[i])).destroy()}this.pages=null}if(null!=this.pageShaders){for(var l=this.pageShaders.iterator();l.hasNext();)l.next().destroy();this.pageShaders=null}if(null!=this.preRenderedPages){for(var s=this.preRenderedPages.iterator();s.hasNext();)for(var r=s.next().iterator();r.hasNext();)r.next().destroy();this.preRenderedPages=null}}},needsToPreRenderAtSize:function(e){if(null==this.preRenderedPages||!this.preRenderedPages.h.hasOwnProperty(e))return!0;for(var n=this.preRenderedPages.h[e],t=0,i=this.pages.iterableKeys;t<i.length;){var l=i[t];if(++t,!n.h.hasOwnProperty(l))return!0}return!1},preRenderAtSize:function(e,n){for(var t=0,i=0,l=this.pages.iterableKeys;i<l.length;){var s=l[i];++i,t+=1,this.preRenderPage(s,e,function(){0==--t&&(n(),n=null)})}},preRenderPage:function(e,n,t){var i,l=this;if((null==this.preRenderedPages&&(this.preRenderedPages=new $l),null!=this._preRenderingPages)&&null!=(i=this._preRenderingPages.h[n]))return void(null!=(s=i.h[e])&&s.push(t));null==this._preRenderingPages&&(this._preRenderingPages=new $l),null==(i=this._preRenderingPages.h[n])&&(i=new $l,this._preRenderingPages.h[n]=i);null==(s=i.h[e])&&(s=[],i.h[e]=s);var s,h=this.preRenderedPages.h[n],a=this.pages.get(e);if(null==a)throw ct.thrown("Invalid bitmap font page with id "+e);var o=n/this.fontData.pointSize,c=Math.ceil(a.width*a.density*o),o=Math.ceil(a.width*a.density*o),u=new kt(c,o,1),_=(u.clearOnRender=!0,u.autoRender=!1,new r);_._texture!=a&&_._set_texture(a),_.set_width(c),_.set_height(o),_.set_shader(null!=this.pageShaders?this.pageShaders.h[e]:null),_.set_visible(!1),null!=h&&h.h.hasOwnProperty(e)&&h.h[e].destroy(),u.stamp(_,function(){for(_.destroy(),(_=null)==h&&(h=new $l,l.preRenderedPages.h[n]=h),h.h[e]=u,t(),t=null,i.remove(e);0<s.length;)s.shift()(),0})},kerning:function(e,n){var e=this.fontData.kernings.get(e);return null!=e&&e.intMap.h.hasOwnProperty(0|n)&&null!=(e=e.intMap.h[0|n])?e:0},__class__:Ua,__properties__:$extend(j.prototype.__properties__,{get_msdf:"get_msdf",set_kernings:"set_kernings",get_kernings:"get_kernings",set_lineHeight:"set_lineHeight",get_lineHeight:"get_lineHeight",set_charCount:"set_charCount",get_charCount:"get_charCount",set_chars:"set_chars",get_chars:"get_chars",set_baseSize:"set_baseSize",get_baseSize:"get_baseSize",set_pointSize:"set_pointSize",get_pointSize:"get_pointSize",set_face:"set_face",get_face:"get_face",set_fontData:"set_fontData"})}),(E["ceramic.BitmapFontCharacter"]=Va).__name__="ceramic.BitmapFontCharacter",Va.prototype={id:null,x:null,y:null,width:null,height:null,xOffset:null,yOffset:null,xAdvance:null,page:null,__class__:Va},(E["ceramic.BitmapFontData"]=Wa).__name__="ceramic.BitmapFontData",Wa.prototype={face:null,path:null,pointSize:null,baseSize:null,chars:null,charCount:null,distanceField:null,pages:null,lineHeight:null,kernings:null,smooth:null,aa:null,needsReparsing:null,rawFontData:null,__class__:Wa},(E["ceramic.BitmapFontDataPage"]=Xa).__name__="ceramic.BitmapFontDataPage",Xa.prototype={id:null,file:null,__class__:Xa},(E["ceramic.BitmapFontDistanceFieldData"]=Ya).__name__="ceramic.BitmapFontDistanceFieldData",Ya.prototype={fieldType:null,distanceRange:null,__class__:Ya},(E["ceramic.BitmapFontParser"]=Za).__name__="ceramic.BitmapFontParser",Za.parse=function(e,n,t){if(0==e.length)throw ct.thrown("BitmapFont: fontData is 0 length");if(z.startsWith(z.trim(e),"<"))try{e=Za.convertXmlFontData(e)}catch(a){zl.lastError=a;var i=ct.caught(a).unwrap();throw ct.thrown("BitmapFont: invalid xml font data specified for parser: "+ot.string(i))}var l=!1,s=e;if(-1!=e.indexOf("CONSTRUCT 3")&&-1!=e.indexOf("Character width:")){l=!0;try{e=Za.convertConstruct3FontData(e,null!=n?n:"font.png",t)}catch(a){zl.lastError=a;i=ct.caught(a).unwrap();throw ct.thrown("BitmapFont: invalid Construct 3 font data specified for parser: "+ot.string(i))}}var r=new Wa(null,".",0,0,new gt,0,null,[],0,new gt,!0,!0,!1,null),h=(l&&null==t&&(r.needsReparsing=!0,r.rawFontData=s),z.replace(z.replace(e,"\r",""),"\t"," ").split("\n"));if(0==h.length)throw ct.thrown("BitmapFont: invalid font data specified for parser.");n=h[0];if("info"!=he.substr(z.ltrim(n),0,4))throw ct.thrown("BitmapFont: invalid font data specified for parser. Format should be plain ascii text .fnt file only currently.");for(var a=0;a<h.length;){var o=h[a];++a,Za.parseLine(o,r)}return h=null,Za.ensureSpaceCharacter(r),r},Za.convertXmlFontData=function(e){for(var n="",t=D.parse(e).firstElement().elements();t.hasNext();){var i=t.next();if(i.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":nn.toString(i.nodeType)));switch(i.nodeName){case"chars":case"pages":if(i.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":nn.toString(i.nodeType)));if("chars"==i.nodeName){if(i.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":nn.toString(i.nodeType)));n+=ot.string(i.nodeName);for(var l=i.attributes();l.hasNext();){var s=l.next(),r=i.get(s);null!=r&&(n=(n+=" ")+ot.string(s)+"=","face"==s||"char"==s||"file"==s||-1!=r.indexOf(" ")||-1!=r.indexOf('"')||-1!=r.indexOf("=")?n+=ot.string(JSON.stringify(r)):n+=ot.string(r))}n+="\n"}for(var h=i.elements();h.hasNext();){var a=h.next();if(a.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":nn.toString(a.nodeType)));n+=ot.string(a.nodeName);for(var o=a.attributes();o.hasNext();){var c=o.next(),u=a.get(c);null!=u&&(n=(n+=" ")+ot.string(c)+"=","face"==c||"char"==c||"file"==c||-1!=u.indexOf(" ")||-1!=u.indexOf('"')||-1!=u.indexOf("=")?n+=ot.string(JSON.stringify(u)):n+=ot.string(u))}n+="\n"}break;default:if(i.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":nn.toString(i.nodeType)));n+=ot.string(i.nodeName);for(var _=i.attributes();_.hasNext();){var d=_.next(),b=i.get(d);null!=b&&(n=(n+=" ")+ot.string(d)+"=","face"==d||"char"==d||"file"==d||-1!=b.indexOf(" ")||-1!=b.indexOf('"')||-1!=b.indexOf("=")?n+=ot.string(JSON.stringify(b)):n+=ot.string(b))}n+="\n"}}return n},Za.convertConstruct3FontData=function(e,n,t){for(var i="",l=e.split("\n"),s=0,r=0,h=0,a="",o=[],c=0;c<l.length;){var u=z.trim(l[c]);if(-1!=u.indexOf("Character width:"))s=ot.parseInt(z.trim(u.split(":")[1]));else if(-1!=u.indexOf("Character height:"))r=ot.parseInt(z.trim(u.split(":")[1]));else if(-1!=u.indexOf("Character spacing:"))h=ot.parseInt(z.trim(u.split(":")[1]));else if("Character set:"==u)for(++c;c<l.length;){var _=z.trim(l[c]);if(0<_.length){a=_;break}++c}else if("Spacing data:"==u&&++c<l.length){u=z.trim(l[c]);try{o=JSON.parse(u)}catch(g){zl.lastError=g,o=[]}}++c}for(var d,b=Object.create(null),g=0;g<o.length;){var O=o[g];if(++g,2<=O.length)for(var f=0|O[0],p=ot.string(O[1]),C=0,v=p.length;C<v;){var m=C++;b[p.charAt(m)]=f}}t=(e=null!=t?(0==(d=Math.floor(t/s))&&(d=1),w=a.length,t):(w=a.length,(d=Math.ceil(Math.sqrt(w)))*s),Math.ceil(w/d)*r),i=(i=(i=(i=(i=(i=(i=(i=(i+='info face="Construct3Font" size=')+ot.string(null==r?"null":""+r)+' bold=0 italic=0 charset="" unicode=1 stretchH=100 smooth=0 aa=0 padding=0,0,0,0 spacing=')+ot.string(null==h?"null":""+h)+",")+ot.string(null==h?"null":""+h)+"\ncommon lineHeight=")+ot.string(ot.string(r+h))+" base=")+ot.string(null==r?"null":""+r)+" scaleW=")+ot.string(null==e?"null":""+e)+" scaleH=")+ot.string(null==t?"null":""+t)+' pages=1 packed=0\npage id=0 file="')+(null==n?"null":""+n)+'"\n';for(var w=a.length,g=(-1==a.indexOf(" ")&&Object.prototype.hasOwnProperty.call(b," ")&&++w,i=(i+="chars count=")+ot.string(null==w?"null":""+w)+"\n",0),C=a.length;g<C;)var c=g++,y=a.charAt(c),U=he.cca(a,c),y=Object.prototype.hasOwnProperty.call(b,y)?b[y]:s,D=c%d*s,T=Math.floor(c/d)*r,i=(i=(i=(i=(i=(i=(i+="char id=")+ot.string(null==U?"null":""+U)+" x=")+ot.string(null==D?"null":""+D)+" y=")+ot.string(null==T?"null":""+T)+" width=")+ot.string(null==y?"null":""+y)+" height=")+ot.string(null==r?"null":""+r)+" xoffset=0 yoffset=0 xadvance=")+ot.string(ot.string(y+h))+" page=0\n";return-1==a.indexOf(" ")&&Object.prototype.hasOwnProperty.call(b," ")&&(e=b[" "],t=he.cca(" ",0),i=(i=(i+="char id=")+ot.string(null==t?"null":""+t)+" x=0 y=0 width=0 height=0 xoffset=0 yoffset=0 xadvance=")+ot.string(ot.string(e+h))+" page=0\n"),i},Za.parseLine=function(e,n){var t=new te;switch(Za.extractLineTokens(e,t)){case"char":var i=new Va(ot.parseInt(t.h.id),parseFloat(t.h.x),parseFloat(t.h.y),parseFloat(t.h.width),parseFloat(t.h.height),parseFloat(t.h.xoffset),parseFloat(t.h.yoffset),parseFloat(t.h.xadvance),ot.parseInt(t.h.page));n.chars.set(i.id,i);break;case"chars":n.charCount=ot.parseInt(t.h.count);break;case"common":n.lineHeight=parseFloat(t.h.lineHeight),n.baseSize=parseFloat(t.h.base);break;case"distanceField":var i=t.h.fieldType,l=ot.parseInt(t.h.distanceRange);n.distanceField=new Ya(i,l);break;case"info":var s=(a=t.h.face).length;34==he.cca(a,0)&&34==he.cca(a,s-1)&&(a=a.substring(1,s-1)),n.face=a,n.pointSize=parseFloat(t.h.size),Object.prototype.hasOwnProperty.call(t.h,"smooth")&&(n.smooth="1"==t.h.smooth||"true"==t.h.smooth),Object.prototype.hasOwnProperty.call(t.h,"aa")&&(n.aa="1"==t.h.aa||"true"==t.h.aa);break;case"kerning":var i=ot.parseInt(t.h.first),l=ot.parseInt(t.h.second),r=parseFloat(t.h.amount),h=n.kernings.get(i);null==h&&(h=new rt,n.kernings.set(i,h)),h.set(l,r);break;case"page":var a,s=(a=t.h.file).length;34==he.cca(a,0)&&34==he.cca(a,s-1)&&(a=a.substring(1,s-1)),n.pages.push(new Xa(ot.parseInt(t.h.id),z.trim(a)))}},Za.extractLineTokens=function(e,n){for(var t=0,i=e.length,l=null,s=null,r=null,h=!1;t<i;){var a=he.cca(e,t);if(h){if(92==a?(a=he.cca(e,t),++t):34==a&&(h=!1),null==r)throw ct.thrown("Invalid bitmap font line: "+e);r.b+=ot.string(e.charAt(t))}else if(32==a)null!=r&&(null==l?l=r.b:null==s?(s=r.b,n.h[s]=null):n.h[s]=r.b,r=s=null);else if(null==s&&61==a){if(null==r)throw ct.thrown("Invalid bitmap font line: "+e);s=r.b,r=null}else 34==a&&(h=!0),(r=null==r?new y:r).b+=ot.string(e.charAt(t));++t}return null!=r&&(null==l?l=r.b:null==s?(s=r.b,n.h[s]=null):n.h[s]=r.b,r=s=null),l},Za.unquote=function(e){var n=e.length;return e=34==he.cca(e,0)&&34==he.cca(e,n-1)?e.substring(1,n-1):e},Za.ensureSpaceCharacter=function(e){if(!e.chars.exists(32)){for(var n=!0,t=-1,i=0,l=null!=(O=(d=e.chars).iterableKeys)?O.length:-1;i<l;){var s=i++,r=d.iterableKeys[s],h=d.get(r);if(t<0)t=h.xAdvance;else if(h.xAdvance!=t){n=!1;break}}var a=0;if(n&&0<t)a=t;else{for(var o=[110,101,111,97,114],c=0,u=0;u<o.length;){var _=o[u];++u,e.chars.exists(_)&&(a+=(h=e.chars.get(_)).xAdvance,++c)}if(0<c)a=a/c*.4;else{for(var d,b=0,g=0,i=0,l=null!=(O=(d=e.chars).iterableKeys)?O.length:-1;i<l;){s=i++,r=d.iterableKeys[s];b+=(h=d.get(r)).xAdvance,++g}a=0<g?b/g*.4:e.baseSize/3}}var O=new Va(32,0,0,0,0,0,0,a,0);e.chars.set(32,O)}},(E["ceramic.Border"]=$a).__name__="ceramic.Border",$a.__super__=Aa,$a.prototype=$extend(Aa.prototype,{autoComputeVertices:null,set_autoComputeVertices:function(e){return this.autoComputeVertices!=e&&(this.autoComputeVertices=e)&&this.computeVertices(),e},autoComputeColors:null,set_autoComputeColors:function(e){return this.autoComputeColors!=e&&(this.autoComputeColors=e)&&this.computeColors(),e},set_width:function(e){return Aa.prototype.set_width.call(this,e),this.autoComputeVertices&&this.computeVertices(),e},set_height:function(e){return Aa.prototype.set_height.call(this,e),this.autoComputeVertices&&this.computeVertices(),e},borderPosition:null,set_borderPosition:function(e){return this.borderPosition!=e&&(this.borderPosition=e,this.autoComputeVertices)&&this.computeVertices(),e},borderSize:null,set_borderSize:function(e){return this.borderSize!=e&&(this.borderSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderTopSize:null,set_borderTopSize:function(e){return this.borderTopSize!=e&&(this.borderTopSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderBottomSize:null,set_borderBottomSize:function(e){return this.borderBottomSize!=e&&(this.borderBottomSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderLeftSize:null,set_borderLeftSize:function(e){return this.borderLeftSize!=e&&(this.borderLeftSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderRightSize:null,set_borderRightSize:function(e){return this.borderRightSize!=e&&(this.borderRightSize=e,this.autoComputeVertices)&&this.computeVertices(),e},borderColor:null,set_borderColor:function(e){return this.borderColor!=e&&(this.borderColor=e,this.autoComputeColors)&&this.computeColors(),e},borderTopColor:null,set_borderTopColor:function(e){return this.borderTopColor!=e&&(this.borderTopColor=e,this.autoComputeColors)&&this.computeColors(),e},borderBottomColor:null,set_borderBottomColor:function(e){return this.borderBottomColor!=e&&(this.borderBottomColor=e,this.autoComputeColors)&&this.computeColors(),e},borderLeftColor:null,set_borderLeftColor:function(e){return this.borderLeftColor!=e&&(this.borderLeftColor=e,this.autoComputeColors)&&this.computeColors(),e},borderRightColor:null,set_borderRightColor:function(e){return this.borderRightColor!=e&&(this.borderRightColor=e,this.autoComputeColors)&&this.computeColors(),e},computeColors:function(){var e=(0|(-1!=this.borderTopColor?this.borderTopColor:this.borderColor))-16777216,e=e&16777215|-16777216,n=(0|(-1!=this.borderBottomColor?this.borderBottomColor:this.borderColor))-16777216&16777215|-16777216,t=(0|(-1!=this.borderLeftColor?this.borderLeftColor:this.borderColor))-16777216&16777215|-16777216,i=(0|(-1!=this.borderRightColor?this.borderRightColor:this.borderColor))-16777216&16777215|-16777216;this.colors[0]=e,this.colors[1]=e,this.colors[2]=e,this.colors[3]=e,this.colors[4]=e,this.colors[5]=e,this.colors[6]=i,this.colors[7]=i,this.colors[8]=i,this.colors[9]=i,this.colors[10]=i,this.colors[11]=i,this.colors[12]=n,this.colors[13]=n,this.colors[14]=n,this.colors[15]=n,this.colors[16]=n,this.colors[17]=n,this.colors[18]=t,this.colors[19]=t,this.colors[20]=t,this.colors[21]=t,this.colors[22]=t,this.colors[23]=t},computeVertices:function(){var e=.5,n=.5,t=(this.borderPosition==Un.OUTSIDE?(e=1,n=0):this.borderPosition==Un.INSIDE&&(e=0,n=1),0<=this.borderLeftSize?this.borderLeftSize:this.borderSize),i=e*t,t=n*t,l=0<=this.borderTopSize?this.borderTopSize:this.borderSize,s=e*l,l=n*l,r=0<=this.borderRightSize?this.borderRightSize:this.borderSize,h=e*r,r=n*r,a=0<=this.borderBottomSize?this.borderBottomSize:this.borderSize,e=e*a,n=n*a,a=this.get_width(),o=this.get_height(),c=(this.vertices[0]=-i,this.vertices[1]=-s,a+h);this.vertices[2]=c,this.vertices[3]=-s,this.vertices[4]=t,this.vertices[5]=l,this.vertices[6]=a-r,this.vertices[7]=l,this.vertices[8]=t,this.vertices[9]=o-n,this.vertices[10]=a-r,this.vertices[11]=o-n,this.vertices[12]=-i,this.vertices[13]=o+e,this.vertices[14]=a+h,this.vertices[15]=o+e},__class__:$a,__properties__:$extend(Aa.prototype.__properties__,{set_borderRightColor:"set_borderRightColor",set_borderLeftColor:"set_borderLeftColor",set_borderBottomColor:"set_borderBottomColor",set_borderTopColor:"set_borderTopColor",set_borderColor:"set_borderColor",set_borderRightSize:"set_borderRightSize",set_borderLeftSize:"set_borderLeftSize",set_borderBottomSize:"set_borderBottomSize",set_borderTopSize:"set_borderTopSize",set_borderSize:"set_borderSize",set_borderPosition:"set_borderPosition",set_autoComputeColors:"set_autoComputeColors",set_autoComputeVertices:"set_autoComputeVertices"})}),en["ceramic.BorderPosition"]={__ename__:"ceramic.BorderPosition",__constructs__:null,INSIDE:{_hx_name:"INSIDE",_hx_index:0,__enum__:"ceramic.BorderPosition",toString:c},OUTSIDE:{_hx_name:"OUTSIDE",_hx_index:1,__enum__:"ceramic.BorderPosition",toString:c},MIDDLE:{_hx_name:"MIDDLE",_hx_index:2,__enum__:"ceramic.BorderPosition",toString:c}}),Dn=(Un.__constructs__=[Un.INSIDE,Un.OUTSIDE,Un.MIDDLE],(E["ceramic.Component"]=b0).__name__="ceramic.Component",b0.__isInterface__=!0,b0.prototype={initializerName:null,setEntity:null,getEntity:null,bindAsComponent:null,__class__:b0},(E["ceramic.Click"]=c0).__name__="ceramic.Click",c0.__interfaces__=[u,b0],c0.__super__=j,c0.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(){var e=0;if(null!=this.__cbOnClick&&(e+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(e+=this.__cbOnceClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnClick)for(var l=0,s=this.__cbOnClick.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnClick[r],++i):--e}if(null!=this.__cbOnceClick){for(var h=null,a=null,l=0,s=this.__cbOnceClick.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceClick[r],this.__cbOnceClick[r]=null,o=this.__cbOnceOwnerUnbindClick[r],(this.__cbOnceOwnerUnbindClick[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindClick[r]),a.push(this.__cbOnceClick[r]))}this.__cbOnceOwnerUnbindClick=h,this.__cbOnceClick=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClick[n])&&s(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClick[n])&&s(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClick[l])&&s()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClick[l])&&s()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},threshold:null,entity:null,pressedAutoruns:null,get_pressed:function(){var e,n,t=this.unobservedPressed;return null!=w.current&&(e=w.current,null!=(n=this.pressedAutoruns)||(n=w.getAutorunArray(),null!=(this.pressedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_pressed:function(e){var n=this.unobservedPressed;return n!=(this.unobservedPressed=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPressedChange(e,n),null!=(n=this.pressedAutoruns))&&(this.pressedAutoruns=null,w.invalidateAutorunArray(n)),e},invalidatePressed:function(){var e=this.unobservedPressed,e=(this.emitPressedChange(e,e),this.pressedAutoruns);null!=e&&(this.pressedAutoruns=null,w.invalidateAutorunArray(e))},unobservedPressed:null,__cbOnPressedChange:null,__cbOncePressedChange:null,__cbOnOwnerUnbindPressedChange:null,__cbOnceOwnerUnbindPressedChange:null,emitPressedChange:function(e,n){var t=0;if(null!=this.__cbOnPressedChange&&(t+=this.__cbOnPressedChange.length),null!=this.__cbOncePressedChange&&(t+=this.__cbOncePressedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPressedChange)for(var r=0,h=this.__cbOnPressedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPressedChange[a],++s):--t}if(null!=this.__cbOncePressedChange){for(var o=null,c=null,r=0,h=this.__cbOncePressedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePressedChange[a],this.__cbOncePressedChange[a]=null,u=this.__cbOnceOwnerUnbindPressedChange[a],(this.__cbOnceOwnerUnbindPressedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPressedChange[a]),c.push(this.__cbOncePressedChange[a]))}this.__cbOnceOwnerUnbindPressedChange=o,this.__cbOncePressedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPressedChange&&(this.__cbOnOwnerUnbindPressedChange=[]),this.__cbOnOwnerUnbindPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPressedChange&&(this.__cbOnOwnerUnbindPressedChange=[]),this.__cbOnOwnerUnbindPressedChange.push(null);null==this.__cbOnPressedChange&&(this.__cbOnPressedChange=[]),this.__cbOnPressedChange.push(t)},oncePressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPressedChange&&(this.__cbOnceOwnerUnbindPressedChange=[]),this.__cbOnceOwnerUnbindPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPressedChange&&(this.__cbOnceOwnerUnbindPressedChange=[]),this.__cbOnceOwnerUnbindPressedChange.push(null);null==this.__cbOncePressedChange&&(this.__cbOncePressedChange=[]),this.__cbOncePressedChange.push(t)},offPressedChange:function(e){if(null!=e){var n;null!=this.__cbOnPressedChange&&-1!=(n=this.__cbOnPressedChange.indexOf(e))&&(this.__cbOnPressedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPressedChange[n])&&s(),this.__cbOnOwnerUnbindPressedChange.splice(n,1)),null!=this.__cbOncePressedChange&&-1!=(n=this.__cbOncePressedChange.indexOf(e))&&(this.__cbOncePressedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPressedChange[n])&&s(),this.__cbOnceOwnerUnbindPressedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPressedChange){for(var t=0,i=this.__cbOnOwnerUnbindPressedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPressedChange[l])&&s()}this.__cbOnOwnerUnbindPressedChange=null}if(null!=this.__cbOnceOwnerUnbindPressedChange){for(t=0,i=this.__cbOnceOwnerUnbindPressedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPressedChange[l])&&s()}this.__cbOnceOwnerUnbindPressedChange=null}this.__cbOnPressedChange=null,this.__cbOncePressedChange=null}},listensPressedChange:function(){return null!=this.__cbOnPressedChange&&0<this.__cbOnPressedChange.length||null!=this.__cbOncePressedChange&&0<this.__cbOncePressedChange.length},pointerStartX:null,pointerStartY:null,bindAsComponent:function(){this.entity.onPointerDown(this,$bind(this,this.handlePointerDown)),this.entity.onPointerUp(this,$bind(this,this.handlePointerUp)),this.entity.onBlur(this,$bind(this,this.handleBlur))},cancel:function(){this.set_pressed(!1)},handlePointerDown:function(e){this.pointerStartX=ke.app.screen.pointerX,this.pointerStartY=ke.app.screen.pointerY,this.set_pressed(!0),ke.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove))},handlePointerUp:function(e){this.get_pressed()&&(this.set_pressed(!1),this.entity._hits(e.x,e.y,!1))&&this.emitClick()},handlePointerMove:function(e){-1!=this.threshold&&(Math.abs(ke.app.screen.pointerX-this.pointerStartX)>this.threshold||Math.abs(ke.app.screen.pointerY-this.pointerStartY)>this.threshold)&&(ke.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.set_pressed(!1))},handleBlur:function(){this.set_pressed(!1)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offPressedChange(),this.offClick()},setEntity:function(e){this.entity=e instanceof q?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:c0,__properties__:$extend(j.prototype.__properties__,{set_pressed:"set_pressed",get_pressed:"get_pressed"})}),function(){this.combinedCollectionLastChanges=null,this.combinedCollections=null,this.filter=null,this.byId=null,this.entriesDirty=!1,this.indexDirty=!0,this.entries=[],this.lastChange=0,this.internalId=Dn._nextInternalId++}),Tn=((E["ceramic.CollectionImpl"]=Dn).__name__="ceramic.CollectionImpl",Dn.__interfaces__=[i],Dn.prototype={internalId:null,lastChange:null,entries:null,indexDirty:null,entriesDirty:null,byId:null,filter:null,combinedCollections:null,combinedCollectionLastChanges:null,get_length:function(){if(null!=this.combinedCollections&&Dn._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}Dn._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries.length},pushAll:function(e){for(var n=0;n<e.length;){var t=e[n];++n,this.entries.push(t)}this.indexDirty=!0,this.lastChange=999999999<this.lastChange?-999999999:this.lastChange+1,Dn._lastCheckedCombined=null},clear:function(){var e=this.entries.length;0<e&&this.entries.splice(0,e),this.indexDirty=!0,this.lastChange=999999999<this.lastChange?-999999999:this.lastChange+1,Dn._lastCheckedCombined=null},push:function(e){this.entries.push(e),this.indexDirty=!0,this.lastChange=999999999<this.lastChange?-999999999:this.lastChange+1,Dn._lastCheckedCombined=null},remove:function(e){he.remove(this.entries,e),this.indexDirty=!0,this.lastChange=999999999<this.lastChange?-999999999:this.lastChange+1,Dn._lastCheckedCombined=null},synchronize:function(){this.entriesDirty&&this.computeEntries(),this.indexDirty&&this.computeIndex()},get:function(e){if(null==e)throw ct.thrown("Cannot get a collection entry with a null id!");if(null!=this.combinedCollections&&Dn._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,l=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=l.lastChange){this.entriesDirty=!0;break}}Dn._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.indexDirty&&this.computeIndex(),this.byId.h[e]},getByIndex:function(e){if(null!=this.combinedCollections&&Dn._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,l=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=l.lastChange){this.entriesDirty=!0;break}}Dn._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries[e]},indexOfId:function(e){e=this.get(e);return null==e?-1:this.indexOf(e)},indexOf:function(e){if(null!=this.combinedCollections&&Dn._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,l=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=l.lastChange){this.entriesDirty=!0;break}}Dn._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries.indexOf(e)},iterator:function(){if(null!=this.combinedCollections&&Dn._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}Dn._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),new rs(this.entries)},checkCombined:function(){if(null!=this.combinedCollections&&Dn._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}Dn._lastCheckedCombined=this}},computeIndex:function(){this.entriesDirty&&this.computeEntries(),this.byId=new te;for(var e=0,n=this.entries;e<n.length;){var t=n[e];++e,Object.prototype.hasOwnProperty.call(this.byId.h,t.id)||(this.byId.h[t.id]=t)}this.indexDirty=!1},computeEntries:function(){this.entries=[];for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(null!=i.combinedCollections&&Dn._lastCheckedCombined!=i){for(var l=0,s=i.combinedCollections.length;l<s;){var r=l++,h=i.combinedCollections[r];if(i.combinedCollectionLastChanges[r]!=h.lastChange){i.entriesDirty=!0;break}}Dn._lastCheckedCombined=i}i.entriesDirty&&i.computeEntries();for(var a=0,o=i.entries;a<o.length;){var c=o[a++];this.entries.push(c)}this.combinedCollectionLastChanges[t]=i.lastChange}null!=this.filter&&(this.entries=this.filter(this.entries)),this.entriesDirty=!1,this.indexDirty=!0,Dn._lastCheckedCombined!=this&&(Dn._lastCheckedCombined=null)},__class__:Dn,__properties__:{get_length:"get_length"}},(E["ceramic.CollectionEntry"]=f0).__name__="ceramic.CollectionEntry",f0.prototype={id:null,name:null,index:null,setRawData:function(e){for(var n=ws.getClass(this),t=n.__name__,i=Yn.types(t),t=i.h,l=Object.keys(t),s=l.length,r=0;r<s;){var h=l[r++],a=i.h[h];if(Object.prototype.hasOwnProperty.call(e,h)){var o=L.field(e,h),c=null;if(!this.setRawField(h,o)){var u=n.__name__;if(Gn._hasMeta(n,u,h,"skipEmpty",!0)){if(null==o)continue;if("string"==typeof o)if(0==o.length)continue}if(null==a){var _=z.trim((""+ot.string(o)).toLowerCase()),d=en[a];if(null!=d){for(var b=0,g=d.__constructs__,O=new Array(g.length),f=0,p=g.length;f<p;){var C=f++;O[C]=g[C]._hx_name}for(var v=O;b<v.length;){var m=v[b];if(++b,m.toLowerCase()==_){c=B.createEnum(d,m);break}}}}else switch(a){case"Bool":c="boolean"==typeof o?o:""!=(o=z.trim((""+ot.string(o)).toLowerCase()))&&"0"!=o&&"false"!=o&&"no"!=o;break;case"Float":"number"==typeof o&&(0|o)===o||"number"==typeof o?c=o:null!=(c=parseFloat(z.replace(""+ot.string(o),",",".")))&&!isNaN(c)||(c=0);break;case"String":c=null==o||"null"==o?null:""+ot.string(o);break;case"Int":case"ceramic.Color":"number"==typeof o&&(0|o)===o||"number"==typeof o?c=0|o:null!=(c=ot.parseInt(""+ot.string(o)))&&!isNaN(c)||(c=0);break;default:var w=z.trim((""+ot.string(o)).toLowerCase()),y=en[a];if(null!=y){for(var U=0,D=y.__constructs__,T=new Array(D.length),x=0,S=D.length;x<S;){var A=x++;T[A]=D[A]._hx_name}for(var k=T;U<k.length;){var I=k[U];if(++U,I.toLowerCase()==w){c=B.createEnum(y,I);break}}}}this[h]=c}}}},setRawField:function(e,n){return!1},__class__:f0},(E["ceramic.View"]=g0).__name__="ceramic.View",g0.requestLayout=function(){g0._layoutRequested||(g0._layoutRequested=!0,g0._layouting)||ke.app._oncePostFlushImmediate(function(){g0._updateViewsLayout(0)},!0)},g0._updateViewsLayout=function(e){g0._layoutRequested=!1;for(var n=!(g0._layouting=!0),t=0,i=g0._allViews.length;t<i;){var l=t++;if((a=g0._allViews[l]).layoutDirty){n=!0;break}}var s=[].concat(g0._allViews);if(n){for(t=0,i=s.length;t<i;)if((a=s[l=t++]).layoutDirty&&a.layoutDependsOnParent())for(var r=a,h=r.get_parentView();null!=h&&((r=h).layoutDirty=!0,r.layoutDependsOnParent());)h=r.get_parentView();for(t=0,i=g0._allViews.length;t<i;){l=t++;(a=g0._allViews[l]).shouldResetComputedSize()&&a.resetComputedSize()}for(t=0,i=s.length;t<i;){var a=s[l=t++];g0._layoutParentThenSelf(a)}for(t=0,i=s.length;t<i;){a=s[l=t++];g0._layoutParentThenSelf(a)}}g0._layouting=!1,g0._layoutRequested&&ke.app._oncePostFlushImmediate(function(){g0._updateViewsLayout(0)},!0)},g0._markParentsAsLayoutDirtyIfNeeded=function(e){if(e.layoutDirty&&e.layoutDependsOnParent())for(var n=e,t=n.get_parentView();null!=t&&((n=t).layoutDirty=!0,n.layoutDependsOnParent());)t=n.get_parentView()},g0._layoutParentThenSelf=function(e){var n=e.get_parentView();null!=n&&g0._layoutParentThenSelf(n),e.layoutDirty&&e.canLayout&&(e.emitLayout(),e.layoutDirty=!1)},g0.__super__=s,g0.prototype=$extend(s.prototype,{__cbOnLayout:null,__cbOnceLayout:null,__cbOnOwnerUnbindLayout:null,__cbOnceOwnerUnbindLayout:null,emitLayout:function(){this.updateBorder(),this.layout();var e=0;if(null!=this.__cbOnLayout&&(e+=this.__cbOnLayout.length),null!=this.__cbOnceLayout&&(e+=this.__cbOnceLayout.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnLayout)for(var l=0,s=this.__cbOnLayout.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnLayout[r],++i):--e}if(null!=this.__cbOnceLayout){for(var h=null,a=null,l=0,s=this.__cbOnceLayout.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceLayout[r],this.__cbOnceLayout[r]=null,o=this.__cbOnceOwnerUnbindLayout[r],(this.__cbOnceOwnerUnbindLayout[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindLayout[r]),a.push(this.__cbOnceLayout[r]))}this.__cbOnceOwnerUnbindLayout=h,this.__cbOnceLayout=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onLayout:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event layout because owner is destroyed!");var l=function(e){null!=t&&(i.offLayout(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLayout&&(this.__cbOnOwnerUnbindLayout=[]),this.__cbOnOwnerUnbindLayout.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLayout&&(this.__cbOnOwnerUnbindLayout=[]),this.__cbOnOwnerUnbindLayout.push(null);null==this.__cbOnLayout&&(this.__cbOnLayout=[]),this.__cbOnLayout.push(t)},onceLayout:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event layout because owner is destroyed!");var l=function(e){null!=t&&(i.offLayout(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLayout&&(this.__cbOnceOwnerUnbindLayout=[]),this.__cbOnceOwnerUnbindLayout.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLayout&&(this.__cbOnceOwnerUnbindLayout=[]),this.__cbOnceOwnerUnbindLayout.push(null);null==this.__cbOnceLayout&&(this.__cbOnceLayout=[]),this.__cbOnceLayout.push(t)},offLayout:function(e){if(null!=e){var n;null!=this.__cbOnLayout&&-1!=(n=this.__cbOnLayout.indexOf(e))&&(this.__cbOnLayout.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLayout[n])&&s(),this.__cbOnOwnerUnbindLayout.splice(n,1)),null!=this.__cbOnceLayout&&-1!=(n=this.__cbOnceLayout.indexOf(e))&&(this.__cbOnceLayout.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLayout[n])&&s(),this.__cbOnceOwnerUnbindLayout.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLayout){for(var t=0,i=this.__cbOnOwnerUnbindLayout.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLayout[l])&&s()}this.__cbOnOwnerUnbindLayout=null}if(null!=this.__cbOnceOwnerUnbindLayout){for(t=0,i=this.__cbOnceOwnerUnbindLayout.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLayout[l])&&s()}this.__cbOnceOwnerUnbindLayout=null}this.__cbOnLayout=null,this.__cbOnceLayout=null}},listensLayout:function(){return null!=this.__cbOnLayout&&0<this.__cbOnLayout.length||null!=this.__cbOnceLayout&&0<this.__cbOnceLayout.length},subviews:null,computedSize:null,viewWidth:null,set_viewWidth:function(e){return this.viewWidth!=e&&(this.viewWidth=e,this.layoutDirty=!0),e},viewHeight:null,set_viewHeight:function(e){return this.viewHeight!=e&&(this.viewHeight=e,this.layoutDirty=!0),e},viewSize:function(e,n){this.set_viewWidth(e),this.set_viewHeight(n)},padding:function(e,n,t,i){null==n&&null==t&&null==i?i=t=n=e:null==t&&null==i?(t=e,i=n):(null==n&&(n=e),null==t&&(t=e),null==i&&(i=e)),this.set_paddingLeft(i),this.set_paddingTop(e),this.set_paddingRight(n),this.set_paddingBottom(t)},paddingLeft:null,set_paddingLeft:function(e){return this.paddingLeft!=e&&(this.paddingLeft=e,this.layoutDirty=!0),e},paddingRight:null,set_paddingRight:function(e){return this.paddingRight!=e&&(this.paddingRight=e,this.layoutDirty=!0),e},paddingTop:null,set_paddingTop:function(e){return this.paddingTop!=e&&(this.paddingTop=e,this.layoutDirty=!0),e},paddingBottom:null,set_paddingBottom:function(e){return this.paddingBottom!=e&&(this.paddingBottom=e,this.layoutDirty=!0),e},offset:function(e,n){this.set_offsetX(e),this.set_offsetY(n)},offsetX:null,set_offsetX:function(e){return this.offsetX!=e&&(this.offsetX=e,this.layoutDirty=!0),e},offsetY:null,set_offsetY:function(e){return this.offsetY!=e&&(this.offsetY=e,this.layoutDirty=!0),e},flex:null,set_flex:function(e){return this.flex!=e&&(this.flex=e,this.layoutDirty=!0),e},canLayout:null,layoutDirty:null,border:null,borderDepth:null,set_borderDepth:function(e){return this.borderDepth!=e&&(this.borderDepth=e,null!=this.border)&&this.border.set_depth(e),e},borderAlpha:null,set_borderAlpha:function(e){return this.borderAlpha!=e&&(this.borderAlpha=e,null!=this.border)&&this.border.set_alpha(e),e},borderPosition:null,set_borderPosition:function(e){return this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),e},borderSize:null,set_borderSize:function(e){return this.borderSize!=e&&(this.borderSize=e,this.updateBorder()),e},borderTopSize:null,set_borderTopSize:function(e){return this.borderTopSize!=e&&(this.borderTopSize=e,this.updateBorder()),e},borderBottomSize:null,set_borderBottomSize:function(e){return this.borderBottomSize!=e&&(this.borderBottomSize=e,this.updateBorder()),e},borderLeftSize:null,set_borderLeftSize:function(e){return this.borderLeftSize!=e&&(this.borderLeftSize=e,this.updateBorder()),e},borderRightSize:null,set_borderRightSize:function(e){return this.borderRightSize!=e&&(this.borderRightSize=e,this.updateBorder()),e},borderColor:null,set_borderColor:function(e){return this.borderColor!=e&&(this.borderColor=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),e},borderTopColor:null,set_borderTopColor:function(e){return this.borderTopColor!=e&&(this.borderTopColor=e,0<this.borderSize||0<this.borderTopSize)&&this.updateBorder(),e},borderBottomColor:null,set_borderBottomColor:function(e){return this.borderBottomColor!=e&&(this.borderBottomColor=e,0<this.borderSize||0<this.borderBottomSize)&&this.updateBorder(),e},borderLeftColor:null,set_borderLeftColor:function(e){return this.borderLeftColor!=e&&(this.borderLeftColor=e,0<this.borderSize||0<this.borderLeftSize)&&this.updateBorder(),e},borderRightColor:null,set_borderRightColor:function(e){return this.borderRightColor!=e&&(this.borderRightColor=e,0<this.borderSize||0<this.borderRightSize)&&this.updateBorder(),e},shouldDisplayBorder:function(){return 0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize},initBorder:function(){this.border=new $a,this.add(this.border)},updateBorder:function(){var e,n,t;0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize?(null==this.border&&this.initBorder(),this.border.set_depth(this.borderDepth),this.border.set_alpha(this.borderAlpha),0!=(t=this.border).autoComputeVertices&&(t.autoComputeVertices=!1),0!=(t=this.border).autoComputeColors&&(t.autoComputeColors=!1),t=this.border,e=this.borderColor,t.borderColor!=e&&(t.borderColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderTopColor,t.borderTopColor!=e&&(t.borderTopColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderBottomColor,t.borderBottomColor!=e&&(t.borderBottomColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderLeftColor,t.borderLeftColor!=e&&(t.borderLeftColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderRightColor,t.borderRightColor!=e&&(t.borderRightColor=e,t.autoComputeColors)&&t.computeColors(),t=this.border,e=this.borderPosition,t.borderPosition!=e&&(t.borderPosition=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderSize,t.borderSize!=e&&(t.borderSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderTopSize,t.borderTopSize!=e&&(t.borderTopSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderBottomSize,t.borderBottomSize!=e&&(t.borderBottomSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderLeftSize,t.borderLeftSize!=e&&(t.borderLeftSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.borderRightSize,t.borderRightSize!=e&&(t.borderRightSize=e,t.autoComputeVertices)&&t.computeVertices(),t=this.border,e=this.get_width(),n=this.get_height(),t.set_width(e),t.set_height(n),1!=(t=this.border).autoComputeVertices&&(t.autoComputeVertices=!0,t.computeVertices()),1!=(t=this.border).autoComputeColors&&(t.autoComputeColors=!0,t.computeColors()),(t=this.border).set_anchorX(0),t.set_anchorY(0),(t=this.border).set_x(0),t.set_y(0)):null!=this.border&&(this.border.destroy(),this.border=null)},persistedComputedSizes:null,persistedComputedSizeForContext:function(e,n,t){var i=null;if(null!=this.computedSize&&this.computedSize.parentWidth==e&&this.computedSize.parentHeight==n&&this.computedSize.parentLayoutMask==t)i=this.computedSize;else for(var l=0,s=this.persistedComputedSizes.length;l<s;){var r=l++,r=this.persistedComputedSizes[r];if(r.parentWidth==e&&r.parentHeight==n&&r.parentLayoutMask==t){i=r;break}}return i},persistComputedSize:function(e,n,t,i,l){i!=kn.NO_SIZE&&l!=kn.NO_SIZE&&(null==(s=this.persistedComputedSizeForContext(e,n,t))&&((s=kn.get()).parentWidth=e,s.parentHeight=n,s.parentLayoutMask=t),s.computedWidth=i,s.computedHeight=l,this.computedSize=s);var s,e=this.computedSize;return e.parentWidth==kn.NO_SIZE&&e.parentHeight==kn.NO_SIZE&&e.recycle(),this.computedSize},assignComputedSize:function(e,n){var t=this.computedSize;return(t=null==t||t.parentWidth!=kn.NO_SIZE&&t.parentHeight!=kn.NO_SIZE?kn.get():t).parentWidth=kn.NO_SIZE,t.parentHeight=kn.NO_SIZE,t.computedWidth=e,t.computedHeight=n,this.computedSize=t},hasPersistentComputedSizeWithContext:function(e,n,t){return null!=this.persistedComputedSizeForContext(e,n,t)},resetComputedSize:function(e){for(null==e&&(e=!1),this.computedSize=null;0<this.persistedComputedSizes.length;)this.persistedComputedSizes.pop().recycle();if(e&&null!=this.subviews)for(var n=0,t=this.subviews.length;n<t;){var i=n++;this.subviews[i].resetComputedSize(!0)}},shouldResetComputedSize:function(){var e=!1;if(this.layoutDirty)e=!0;else for(var n=this.get_parentView();null!=n;){if(n.layoutDirty){e=!0;break}n=n.get_parentView()}return e},layoutDependsOnParent:function(){var e,n=!1;return n=-39999.9<this.viewWidth&&-39999.9<this.viewHeight&&(null==this.computedSize||!(this.computedSize.parentWidth==kn.NO_SIZE||!((e=this.viewWidth)<-39999.9&&-60000.1<e)||this.computedSize.parentHeight==kn.NO_SIZE||!((e=this.viewHeight)<-39999.9&&-60000.1<e)))?n:!0},set_active:function(e){return 1!=(1&this.flags)!=e&&(s.prototype.set_active.call(this,e),this.layoutDirty=!0),e},set_width:function(e){if(this._width!=e){if(this._width=e,this.layoutDirty=!0,0!=this.anchorX&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}0<this.borderSize&&this.updateBorder(),this.sizeDirty||(this.sizeDirty=!0,ke.app._onceImmediate($bind(this,this.emitResizeIfNeeded)))}return e},set_height:function(e){if(this._height!=e){if(this._height=e,this.layoutDirty=!0,0!=this.anchorY&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}0<this.borderSize&&this.updateBorder(),this.sizeDirty||(this.sizeDirty=!0,ke.app._onceImmediate($bind(this,this.emitResizeIfNeeded)))}return e},set_depth:function(e){return this.depth!=e&&(s.prototype.set_depth.call(this,e),0<this.borderSize)&&this.updateBorder(),e},set_depthRange:function(e){return this.depthRange!=e&&(s.prototype.set_depthRange.call(this,e),0<this.borderSize)&&this.updateBorder(),e},add:function(e){s.prototype.add.call(this,e),e instanceof g0&&(e=e,null==this.subviews&&(this.subviews=[]),this.subviews.push(e),e.layoutDirty=!0),this.layoutDirty=!0},addBefore:function(e,n){if(s.prototype.addBefore.call(this,e,n),e instanceof g0){null==this.subviews&&(this.subviews=[]);for(var t=this.children.indexOf(n),i=0,l=0,r=this.subviews.length;l<r;){var h=l++,a=this.subviews[h];if(t<=this.children.indexOf(a)){i=h;break}i=1+h}this.subviews.splice(i,0,e),e.layoutDirty=!0}this.layoutDirty=!0},addAfter:function(e,n){if(s.prototype.addAfter.call(this,e,n),e instanceof g0){null==this.subviews&&(this.subviews=[]);for(var t=this.children.indexOf(n),i=this.subviews.length,l=0,r=this.subviews.length;l<r;){var h=l++,a=this.subviews[h];if(t<this.children.indexOf(a)){i=h;break}}this.subviews.splice(i,0,e),e.layoutDirty=!0}this.layoutDirty=!0},remove:function(e){s.prototype.remove.call(this,e),e instanceof g0&&(this.subviews.splice(this.subviews.indexOf(e=e),1),e.layoutDirty=!0),this.layoutDirty=!0},autorun:function(e,n){var t,i=this;return n=null==n?$bind(this,this._immediateAutorunLayout):(t=n,function(){t(),i._immediateAutorunLayout()}),s.prototype.autorun.call(this,e,n)},_immediateAutorunLayout:function(){ke.app._onceImmediate($bind(this,this._autorunLayout))},_autorunLayout:function(){this.layoutDirty=!0,g0.requestLayout()},customParentView:null,get_parentView:function(){return null!=this.customParentView?this.customParentView:this.parent instanceof g0?this.parent:null},vIndex:null,destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,g0._allViews.splice(g0._allViews.indexOf(this),1),this._lifecycleState=-1,s.prototype.destroy.call(this),this.canLayout=!1,(this.customParentView=null)!=this.persistedComputedSizes))for(var e=this.persistedComputedSizes,n=(this.persistedComputedSizes=null,0),t=e.length;n<t;)e[n++].recycle()},removeAllViews:function(){if(null!=this.subviews){for(var e=this.subviews.length,n=C.pool(e),t=n.get(),i=0,l=e;i<l;){var s=i++;t.vector[s]=this.subviews[s]}for(i=0,l=e;i<l;){var s=i++,r=t.vector[s];this.remove(r)}n.release(t),this.subviews=null}},autoComputeSize:function(e){null==e&&(e=!1),this.computeSize(0,0,15,!0),e&&null!=this.computedSize&&(e=this.computedSize.computedHeight,this.set_width(this.computedSize.computedWidth),this.set_height(e))},autoComputeSizeIfNeeded:function(e){null==e&&(e=!1);this.computedSize=this.persistedComputedSizeForContext(0,0,15),null==this.computedSize&&this.computeSize(0,0,15,!0),e&&null!=this.computedSize&&(e=this.computedSize.computedHeight,this.set_width(this.computedSize.computedWidth),this.set_height(e))},applyComputedSize:function(){var e;null!=this.computedSize&&(e=this.computedSize.computedHeight,this.set_width(this.computedSize.computedWidth),this.set_height(e))},computeSizeWithIntrinsicBounds:function(e,n,t,i,l,s){var r,h,a,o=kn.NO_SIZE,c=kn.NO_SIZE,u=(null!=this.computedSize&&(o=this.computedSize.computedWidth,c=this.computedSize.computedHeight),e-this.paddingLeft-this.paddingRight),_=n-this.paddingTop-this.paddingBottom,d=1,b=this.viewWidth,g=!(-60001.1<b&&b<-60000.9),b=!(-60001.1<(b=this.viewHeight)&&b<-60000.9);return g||((null==(a=null)?1==(1&t):(t=a?1|t:-2&t,a))||u<o&&(o=u),null==(a=null)?2==(2&t):(t=a?2|t:-3&t,a))||o<u&&(o=u),b||((null==(a=null)?4==(4&t):(t=a?4|t:-5&t,a))||_<c&&(c=_),null==(a=null)?8==(8&t):(t=a?8|t:-9&t,a))||c<_&&(c=_),0<l&&0<s&&(g||b?g&&!b?((c-=this.paddingTop+this.paddingBottom)<(h=o*s/l)&&(null==(a=null)?4==(4&t):(t=a?4|t:-5&t,a))||h<c&&(null==(a=null)?8==(8&t):(t=a?8|t:-9&t,a)))&&(c=h):!g&&b?((o-=this.paddingLeft+this.paddingRight)<(r=c*l/s)&&(null==(a=null)?1==(1&t):(t=a?1|t:-2&t,a))||r<o&&(null==(a=null)?2==(2&t):(t=a?2|t:-3&t,a)))&&(o=r):g&&b&&(o-=this.paddingLeft+this.paddingRight,c-=this.paddingTop+this.paddingBottom):(c<(h=(o=o<(r=c*l/s)&&(null==(a=null)?1==(1&t):(t=a?1|t:-2&t,a))||r<o&&(null==(a=null)?2==(2&t):(t=a?2|t:-3&t,a))?r:o)*s/l)&&(null==(a=null)?4==(4&t):(t=a?4|t:-5&t,a))||h<c&&(null==(a=null)?8==(8&t):(t=a?8|t:-9&t,a)))&&(c=h),d=Math.min(o/l,c/s),o+=this.paddingLeft+this.paddingRight,c+=this.paddingTop+this.paddingBottom),i?this.persistComputedSize(e,n,t,o,c):this.assignComputedSize(o,c),d},computeSizeIfNeeded:function(e,n,t,i){this.computedSize=this.persistedComputedSizeForContext(e,n,t),null==this.computedSize&&this.computeSize(e,n,t,i)},computeSize:function(e,n,t,i){var l,s,r=kn.NO_SIZE,h=kn.NO_SIZE,a=(0==t||-39999.9<this.viewWidth&&-39999.9<this.viewHeight||(this.layoutDirty=!0),this.viewWidth);r=-60001.1<a&&a<-60000.9?(null==(s=null)?2==(2&t):(t=s?2|t:-3&t,s))?0:e:-60002.1<(a=this.viewWidth)&&a<-60001.9?e:(l=this.viewWidth)<-39999.9&&-60000.1<l?.01*(this.viewWidth+5e4)*e:this.viewWidth,h=-60001.1<(a=this.viewHeight)&&a<-60000.9?(null==(s=null)?8==(8&t):(t=s?8|t:-9&t,s))?0:n:-60002.1<(a=this.viewHeight)&&a<-60001.9?n:(l=this.viewHeight)<-39999.9&&-60000.1<l?.01*(this.viewHeight+5e4)*n:this.viewHeight,(null==(s=null)?1==(1&t):(t=s?1|t:-2&t,s))||e<r&&(r=e),(null==(s=null)?4==(4&t):(t=s?4|t:-5&t,s))||n<h&&(h=n),i?this.persistComputedSize(e,n,t,r,h):this.assignComputedSize(r,h)},willEmitLayout:function(){this.updateBorder(),this.layout()},layout:function(){},bindToScreenSize:function(n){null==n&&(n=1);var t=this,e=(ke.app.screen.onResize(this,function(){var e=ke.app.screen.height*n;t.set_width(ke.app.screen.width*n),t.set_height(e),g0.requestLayout()}),ke.app.screen.height*n);this.set_width(ke.app.screen.width*n),this.set_height(e),g0.requestLayout()},bindToTargetSize:function(){var t=this,e=(ke.app.screen.onResize(this,function(){var e=ke.app.settings.get_targetWidth(),n=ke.app.settings.get_targetHeight();t.set_width(e),t.set_height(n),g0.requestLayout()}),ke.app.settings.get_targetWidth()),n=ke.app.settings.get_targetHeight();this.set_width(e),this.set_height(n),g0.requestLayout()},percent:function(e){return-5e4+(e<-1e4?-1e4:1e4<e?1e4:e)},percentToFloat:function(e){return.01*(e+5e4)},fill:function(){return-60002},auto:function(){return-60001},unbindEvents:function(){s.prototype.unbindEvents.call(this),this.offLayout()},__class__:g0,__properties__:$extend(s.prototype.__properties__,{get_parentView:"get_parentView",set_borderRightColor:"set_borderRightColor",set_borderLeftColor:"set_borderLeftColor",set_borderBottomColor:"set_borderBottomColor",set_borderTopColor:"set_borderTopColor",set_borderColor:"set_borderColor",set_borderRightSize:"set_borderRightSize",set_borderLeftSize:"set_borderLeftSize",set_borderBottomSize:"set_borderBottomSize",set_borderTopSize:"set_borderTopSize",set_borderSize:"set_borderSize",set_borderPosition:"set_borderPosition",set_borderAlpha:"set_borderAlpha",set_borderDepth:"set_borderDepth",set_flex:"set_flex",set_offsetY:"set_offsetY",set_offsetX:"set_offsetX",set_paddingBottom:"set_paddingBottom",set_paddingTop:"set_paddingTop",set_paddingRight:"set_paddingRight",set_paddingLeft:"set_paddingLeft",set_viewHeight:"set_viewHeight",set_viewWidth:"set_viewWidth"})}),(E["ceramic.ScrollView"]=h0).__name__="ceramic.ScrollView",h0.__super__=g0,h0.prototype=$extend(g0.prototype,{scroller:null,contentView:null,set_contentView:function(e){return this.contentView!=e&&(null!=this.contentView&&this.contentView.customParentView==this&&(this.contentView.customParentView=null),this.contentView=e,null!=this.contentView&&(this.contentView.customParentView=this),null!=this.scroller&&this.scroller.content!=e&&(this.scroller.destroy(),this.scroller=null),null==this.scroller)&&this.initScroller(),e},autoComputeContentSize:null,contentSize:null,set_contentSize:function(e){return this.contentSize!=e&&(e=Math.max(0,e),this.contentSize=e,this.layoutDirty=!0),e},get_direction:function(){return this.scroller.direction},set_direction:function(e){return this.scroller.direction=e},get_pagingEnabled:function(){return this.scroller.pagingEnabled},set_pagingEnabled:function(e){return this.scroller.pagingEnabled=e},get_pageSize:function(){return this.scroller.pageSize},set_pageSize:function(e){return this.scroller.pageSize=e},get_pageSpacing:function(){return this.scroller.pageSpacing},set_pageSpacing:function(e){return this.scroller.pageSpacing=e},get_pageMomentumThreshold:function(){return this.scroller.pageMomentumThreshold},set_pageMomentumThreshold:function(e){return this.scroller.pageMomentumThreshold=e},initContentView:function(){this.set_contentView(new g0),this.contentView.customParentView=this},initScroller:function(){this.scroller=new Ht(this.contentView),this.add(this.scroller)},layout:function(){(i=this.scroller).set_x(0),i.set_y(0);var e,n,t,i=this.scroller,l=this.get_width(),s=this.get_height();i.set_width(l),i.set_height(s),this.scroller.direction==Lt.VERTICAL?(this.autoComputeContentSize&&(i=this.contentView,e=this.get_width(),n=this.get_height(),i.computedSize=i.persistedComputedSizeForContext(e,n,t=4),null==i.computedSize&&i.computeSize(e,n,t,!0),null!=(i=this.contentView).computedSize&&(s=i.computedSize.computedHeight,i.set_width(i.computedSize.computedWidth),i.set_height(s)),l=this.contentView.get_height(),this.contentSize!=l)&&(l=Math.max(0,l),this.contentSize=l,this.layoutDirty=!0),this.contentView.set_height(Math.max(this.get_height(),this.contentSize))):(this.autoComputeContentSize&&(i=this.contentView,e=this.get_width(),n=this.get_height(),i.computedSize=i.persistedComputedSizeForContext(e,n,t=1),null==i.computedSize&&i.computeSize(e,n,t,!0),null!=(i=this.contentView).computedSize)&&(s=i.computedSize.computedHeight,i.set_width(i.computedSize.computedWidth),i.set_height(s)),this.contentView.set_width(Math.max(this.get_width(),this.contentSize))),Wl.trace("-> contentSize="+this.contentSize,{fileName:"../../../../ceramic/plugins/ui/runtime/src/ceramic/ScrollView.hx",lineNumber:223,className:"ceramic.ScrollView",methodName:"layout"})},__class__:h0,__properties__:$extend(g0.prototype.__properties__,{set_pageMomentumThreshold:"set_pageMomentumThreshold",get_pageMomentumThreshold:"get_pageMomentumThreshold",set_pageSpacing:"set_pageSpacing",get_pageSpacing:"get_pageSpacing",set_pageSize:"set_pageSize",get_pageSize:"get_pageSize",set_pagingEnabled:"set_pagingEnabled",get_pagingEnabled:"get_pagingEnabled",set_direction:"set_direction",get_direction:"get_direction",set_contentSize:"set_contentSize",set_contentView:"set_contentView"})}),(E["ceramic.CollectionView"]=i0).__name__="ceramic.CollectionView",i0.__super__=h0,i0.prototype=$extend(h0.prototype,{collectionViewFlowLayout:null,collectionViewLayout:null,set_collectionViewLayout:function(e){return this.collectionViewLayout!=e&&(null!=(this.collectionViewLayout=e)&&ws.getClass(e)==Tn?this.collectionViewFlowLayout=e:this.collectionViewFlowLayout=null),e},dataSource:null,autoDestroyItems:null,maxReusableViewsCount:null,childrenDepth:null,set_childrenDepth:function(e){return this.childrenDepth!=e&&(this.childrenDepth=e,this.layoutDirty=!0),e},frames:null,itemsBehavior:null,set_itemsBehavior:function(e){return this.itemsBehavior!=e&&1==(this.itemsBehavior=e)&&(this.layoutDirty=!0),e},reusableViews:null,prevLayoutWidth:null,prevLayoutHeight:null,destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,h0.prototype.destroy.call(this),this.set_dataSource(null);for(var e=0,n=this.reusableViews.length;e<n;){var t=e++;this.reusableViews[t].destroy()}this.reusableViews=null}},set_dataSource:function(e){return this.dataSource!=e&&(this.dataSource=e,this.reloadData()),e},reloadData:function(){if(0<this.frames.length)for(var e=0,n=this.frames.length;e<n;){var t=e++,i=this.frames[t];null!=i.view&&i.view.destroy()}if(null!=this.dataSource){for(var l=[],e=0,n=this.dataSource.collectionViewSize(this);e<n;){t=e++;l.push(new xn(0,0,0,0))}this.frames=l}else this.frames=[];this.layoutDirty=!0},layout:function(){var e=!1;this.prevLayoutWidth==this.get_width()&&this.prevLayoutHeight==this.get_height()||(this.prevLayoutWidth=this.get_width(),this.prevLayoutHeight=this.get_height(),e=!0);(n=this.scroller).set_x(0),n.set_y(0);var n=this.scroller,t=this.get_width(),i=this.get_height();if(n.set_width(t),n.set_height(i),0<this.frames.length){for(var l=0,s=this.frames.length;l<s;){var r=l++;this.dataSource.collectionViewItemFrameAtIndex(this,r,this.frames[r])}this.collectionViewLayout.collectionViewLayout(this,this.frames)}this.scroller.direction==Lt.VERTICAL?(this.contentView.set_height(Math.max(this.get_height(),this.contentSize)),e&&this.contentView.get_height()- -this.scroller.scrollTransform.ty<this.get_height()&&(n=this.scroller,t=this.contentView.get_height()-this.get_height(),n.scrollTransform.ty!=-t)&&(n.scrollTransform.ty=-t,n.scrollTransform.changedDirty=!0)):(this.contentView.set_width(Math.max(this.get_width(),this.contentSize)),e&&this.contentView.get_width()- -this.scroller.scrollTransform.tx<this.get_width()&&(n=this.scroller,i=this.contentView.get_width()-this.get_width(),n.scrollTransform.tx!=-i)&&(n.scrollTransform.tx=-i,n.scrollTransform.changedDirty=!0)),this.computeVisibleItems()},findClosestItem:function(e,n,t){var i=99999999,l=99999999,s=0,r=0,h=-1,a=(t=null==t?!0:t)?-this.scroller.scrollTransform.tx:0,o=t?-this.scroller.scrollTransform.ty:0;if(0<this.frames.length)for(var c=0,u=this.frames.length;c<u;){var _=c++,d=this.frames[_],b=d.x-a,g=d.x+d.width-a,O=d.y-o,d=d.y+d.height-o,s=e<b?g-e:g<=e?e-b:0,r=n<O?d-n:d<=n?n-O:0;this.scroller.direction==Lt.VERTICAL?(s<i||s==i&&r<l)&&(i=s,l=r,h=_):(r<l||r==l&&s<i)&&(i=s,l=r,h=_)}return h},computeVisibleItems:function(){var e=this;if(null!=this.dataSource){var n=2!=this.itemsBehavior&&3!=this.itemsBehavior;if(this.scroller.direction==Lt.VERTICAL){if(null!=this.collectionViewFlowLayout)if(this.collectionViewFlowLayout.allItemsVisible)for(var t=0,i=this.frames.length;t<i;){var l=t++;(b=this.frames[l]).visible=!0,(b.width<=0||b.height<=0)&&(b.visible=!1)}else for(var s=this.scroller.scrollTransform.ty,r=this.collectionViewFlowLayout.visibleOutset,h=this.get_height(),t=0,i=this.frames.length;t<i;){var l=t++,a=-s-r;(b=this.frames[l]).visible=b.y<a+h+2*r&&b.y+b.height>=a,(b.visible&&b.width<=0||b.height<=0)&&(b.visible=!1),!n||b.visible||null!=b.view&&(e.dataSource.collectionViewReleaseItemAtIndex(e,l,b.view)?(b.view.set_active(!1),e.reusableViews.push(b.view)):0<=b.view._lifecycleState&&(b.view.set_active(!1),e.autoDestroyItems)&&b.view.destroy(),b.view=null)}else for(t=0,i=this.frames.length;t<i;){l=t++;(b=this.frames[l]).visible=this.collectionViewLayout.isFrameVisible(this,b),(b.visible&&b.width<=0||b.height<=0)&&(b.visible=!1),!n||b.visible||null!=b.view&&(e.dataSource.collectionViewReleaseItemAtIndex(e,l,b.view)?(b.view.set_active(!1),e.reusableViews.push(b.view)):0<=b.view._lifecycleState&&(b.view.set_active(!1),e.autoDestroyItems)&&b.view.destroy(),b.view=null)}for(t=0,i=this.frames.length;t<i;){var o,l=t++,c=[b=this.frames[l]];c[0].visible&&(2!=e.itemsBehavior&&null==c[0].view&&(0<e.reusableViews.length?(g=e.reusableViews.pop(),c[0].view=e.dataSource.collectionViewItemAtIndex(e,l,g),c[0].view!=g&&e.autoDestroyItems&&g.destroy()):c[0].view=e.dataSource.collectionViewItemAtIndex(e,l,null)),null!=(o=[c[0].view])[0])&&0<=o[0]._lifecycleState&&(1==e.childrenDepth?o[0].set_depth(l):-1==e.childrenDepth?o[0].set_depth(e.frames.length-l):0==e.childrenDepth&&o[0].set_depth(1),f=o[0].get_width(),p=o[0].get_height(),C=c[0].height,o[0].set_viewWidth(c[0].width),o[0].set_viewHeight(C),v=c[0].height,o[0].set_width(c[0].width),o[0].set_height(v),o[0].layoutDirty&&(e.contentView.layoutDirty=!0),m=c[0].x+c[0].width*o[0].anchorX,w=c[0].y+c[0].height*o[0].anchorY,o[0].set_x(m),o[0].set_y(w),o[0].set_active(!0),o[0].parent!=e.contentView&&e.contentView.add(o[0]),f==c[0].width&&p==c[0].height||o[0].onceLayout(e,function(t,i){return function(){var e=i[0].x+i[0].width*t[0].anchorX,n=i[0].y+i[0].height*t[0].anchorY;t[0].set_x(e),t[0].set_y(n)}}(o,c)))}}else{if(null!=this.collectionViewFlowLayout)if(this.collectionViewFlowLayout.allItemsVisible)for(t=0,i=this.frames.length;t<i;){l=t++;(b=this.frames[l]).visible=!0,(b.width<=0||b.height<=0)&&(b.visible=!1)}else for(var u=this.scroller.scrollTransform.tx,r=this.collectionViewFlowLayout.visibleOutset,_=this.get_width(),t=0,i=this.frames.length;t<i;){var l=t++,d=-u-r;(b=this.frames[l]).visible=b.x<d+_+2*r&&b.x+b.width>=d,(b.visible&&b.width<=0||b.height<=0)&&(b.visible=!1),!n||b.visible||null!=b.view&&(e.dataSource.collectionViewReleaseItemAtIndex(e,l,b.view)?(b.view.set_active(!1),e.reusableViews.push(b.view)):0<=b.view._lifecycleState&&(b.view.set_active(!1),e.autoDestroyItems)&&b.view.destroy(),b.view=null)}else for(t=0,i=this.frames.length;t<i;){l=t++;(b=this.frames[l]).visible=this.collectionViewLayout.isFrameVisible(this,b),(b.visible&&b.width<=0||b.height<=0)&&(b.visible=!1),!n||b.visible||null!=b.view&&(e.dataSource.collectionViewReleaseItemAtIndex(e,l,b.view)?(b.view.set_active(!1),e.reusableViews.push(b.view)):0<=b.view._lifecycleState&&(b.view.set_active(!1),e.autoDestroyItems)&&b.view.destroy(),b.view=null)}for(t=0,i=this.frames.length;t<i;){var b,g,O,f,p,C,v,m,w,l=t++,y=[b=this.frames[l]];y[0].visible&&(2!=e.itemsBehavior&&null==y[0].view&&(0<e.reusableViews.length?(g=e.reusableViews.pop(),y[0].view=e.dataSource.collectionViewItemAtIndex(e,l,g),y[0].view!=g&&e.autoDestroyItems&&g.destroy()):y[0].view=e.dataSource.collectionViewItemAtIndex(e,l,null)),null!=(O=[y[0].view])[0])&&0<=O[0]._lifecycleState&&(1==e.childrenDepth?O[0].set_depth(l):-1==e.childrenDepth?O[0].set_depth(e.frames.length-l):0==e.childrenDepth&&O[0].set_depth(1),f=O[0].get_width(),p=O[0].get_height(),C=y[0].height,O[0].set_viewWidth(y[0].width),O[0].set_viewHeight(C),v=y[0].height,O[0].set_width(y[0].width),O[0].set_height(v),O[0].layoutDirty&&(e.contentView.layoutDirty=!0),m=y[0].x+y[0].width*O[0].anchorX,w=y[0].y+y[0].height*O[0].anchorY,O[0].set_x(m),O[0].set_y(w),O[0].set_active(!0),O[0].parent!=e.contentView&&e.contentView.add(O[0]),f==y[0].width&&p==y[0].height||O[0].onceLayout(e,function(t,i){return function(){var e=i[0].x+i[0].width*t[0].anchorX,n=i[0].y+i[0].height*t[0].anchorY;t[0].set_x(e),t[0].set_y(n)}}(O,y)))}}if(this.autoDestroyItems)for(;this.reusableViews.length>this.maxReusableViewsCount;)this.reusableViews.pop().destroy()}},getTargetScrollXForItem:function(e,n){e<0?e=0:e>=this.frames.length&&(e=this.frames.length-1);var t=this.frames[e],i=-this.scroller.scrollTransform.tx;switch(n=null==n?3:n){case 0:i=t.x;break;case 1:i=t.x-.5*this.get_width()+.5*t.width;break;case 2:i=t.x-this.get_width()+t.width;break;case 3:var l=t.x-this.get_width()+t.width,s=t.x;s<i?i=s:i<l&&(i=l)}e=this.frames[this.frames.length-1],n=e.x+e.width-this.get_width();return i=(i=n<i?n:i)<0?0:i},getTargetScrollYForItem:function(e,n){e<0?e=0:e>=this.frames.length&&(e=this.frames.length-1);var t=this.frames[e],i=-this.scroller.scrollTransform.ty;switch(n=null==n?3:n){case 0:i=t.y;break;case 1:i=t.y-.5*this.get_height()+.5*t.height;break;case 2:i=t.y-this.get_height()+t.height;break;case 3:var l=t.y-this.get_height()+t.height,s=t.y;s<i?i=s:i<l&&(i=l)}e=this.frames[this.frames.length-1],n=e.y+e.height-this.get_height();return i=(i=n<i?n:i)<0?0:i},scrollToItem:function(e,n){null==n&&(n=3);var t=-this.scroller.scrollTransform.tx,i=-this.scroller.scrollTransform.ty;0!=this.frames.length&&(this.scroller.direction==Lt.VERTICAL?i=this.getTargetScrollYForItem(e,n):t=this.getTargetScrollXForItem(e,n),this.scroller.scrollTo(t,i))},smoothScrollToItem:function(e,n,t,i){null==t&&(t=.15),null==n&&(n=3);var l=-this.scroller.scrollTransform.tx,s=-this.scroller.scrollTransform.ty;0!=this.frames.length&&(this.scroller.direction==Lt.VERTICAL?s=this.getTargetScrollYForItem(e,n):l=this.getTargetScrollXForItem(e,n),this.scroller.smoothScrollTo(l,s,t,i))},__class__:i0,__properties__:$extend(h0.prototype.__properties__,{set_itemsBehavior:"set_itemsBehavior",set_childrenDepth:"set_childrenDepth",set_dataSource:"set_dataSource",set_collectionViewLayout:"set_collectionViewLayout"})}),(E["ceramic.CollectionViewDataSource"]=j0).__name__="ceramic.CollectionViewDataSource",j0.__isInterface__=!0,j0.prototype={collectionViewSize:null,collectionViewItemFrameAtIndex:null,collectionViewReleaseItemAtIndex:null,collectionViewItemAtIndex:null,__class__:j0},(E["ceramic.CollectionViewLayout"]=k0).__name__="ceramic.CollectionViewLayout",k0.__isInterface__=!0,k0.prototype={collectionViewLayout:null,isFrameVisible:null,__class__:k0},function(){this.allItemsVisible=!1,this.visibleOutset=0,this.itemSpacingY=0,this.itemSpacingX=0,this.insetEnd=0,this.insetStart=0,this.itemSizing=-1}),xn=((E["ceramic.CollectionViewFlowLayout"]=Tn).__name__="ceramic.CollectionViewFlowLayout",Tn.__interfaces__=[k0],Tn.prototype={itemSizing:null,insetStart:null,insetEnd:null,itemSpacingX:null,itemSpacingY:null,visibleOutset:null,allItemsVisible:null,collectionViewLayout:function(e,n){var t=0,i=0,l=0,s=0,r=e.scroller.direction,h=e.get_width(),a=e.get_height();if(r==Lt.VERTICAL){for(var s=i+=this.insetStart,o=0,c=n.length;o<c;){var u=n[o++];0<this.itemSizing&&(u.width=Math.min(h,h*this.itemSizing)),0<t&&t+u.width>h&&(t=0,i=s+this.itemSpacingY),u.x=t,u.y=i,s=Math.max(s,i+u.height),t+=u.width+this.itemSpacingX}var _=s+this.insetEnd}else{for(l=t+=this.insetStart,o=0,c=n.length;o<c;){u=n[o++];0<this.itemSizing&&(u.height=Math.min(a,a*this.itemSizing)),0<i&&i+u.height>a&&(i=0,t=l+this.itemSpacingX),u.x=t,u.y=i,l=Math.max(l,t+u.width),i+=u.height+this.itemSpacingY}_=l+this.insetEnd}e.contentSize!=_&&(_=Math.max(0,_),e.contentSize=_,e.layoutDirty=!0)},isFrameVisible:function(e,n){var t,i;return!!this.allItemsVisible||(e.scroller.direction==Lt.VERTICAL?(t=(i=-e.scroller.scrollTransform.ty-this.visibleOutset)+e.get_height()+2*this.visibleOutset,n.y<t&&n.y+n.height>=i):(i=(t=-e.scroller.scrollTransform.tx-this.visibleOutset)+e.get_width()+2*this.visibleOutset,n.x<i&&n.x+n.width>=t))},__class__:Tn},function(e,n,t,i){this.view=null,this.visible=!1,this.x=e,this.y=n,this.width=t,this.height=i}),Sn=((E["ceramic.CollectionViewItemFrame"]=xn).__name__="ceramic.CollectionViewItemFrame",xn.prototype={x:null,y:null,width:null,height:null,visible:null,view:null,toString:function(){return"Frame(x="+this.x+" y="+this.y+" w="+this.width+" h="+this.height+")"},__class__:xn},function(e,n,t){null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.size=0,this.iterableKeysUsed=null,this.iterableKeys=null,this.intMap=new $l,t&&(this.iterableKeys=[],this.iterableKeysUsed=new Sn(16,.5,!1))}),M=((E["ceramic.IntIntMap"]=Sn).__name__="ceramic.IntIntMap",Sn.prototype={intMap:null,iterableKeys:null,iterableKeysUsed:null,size:null,clear:function(){this.intMap.h={},this.size=0,null!=this.iterableKeys&&(this.iterableKeys=[],this.iterableKeysUsed=new Sn(16,.5,!1))},exists:function(e){return this.intMap.h.hasOwnProperty(0|e)},set:function(e,n){null!=this.iterableKeys&&0==(null!=(t=this.iterableKeysUsed.intMap.h[0|e])?t:0)&&(this.iterableKeysUsed.set(e,1),this.iterableKeys.push(e));var t=0|e;return this.intMap.h.hasOwnProperty(t)||this.size++,this.intMap.h[t]=0|n,n},get:function(e){e=this.intMap.h[0|e];return null!=e?e:0},remove:function(e){var n,t=0|e,i=0;return null!=this.iterableKeys&&0!=(null!=(n=this.iterableKeysUsed.intMap.h[0|e])?n:0)&&(this.iterableKeysUsed.set(e,0),this.iterableKeys.splice(this.iterableKeys.indexOf(e),1)),this.intMap.h.hasOwnProperty(t)&&(i=this.intMap.h[t],this.size--),this.intMap.remove(t),i},getInline:function(e){e=this.intMap.h[0|e];return null!=e?e:0},existsInline:function(e){return this.intMap.h.hasOwnProperty(0|e)},copy:function(){var e=new Sn;return e.intMap=this.intMap.copy(),e.size=this.size,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null,e.iterableKeysUsed=null!=this.iterableKeysUsed?tt.copy(this.iterableKeysUsed):null,e},iterator:function(){return new _t(this)},keys:function(){return new dt(this)},keyValueIterator:function(){return new bt(this)},__class__:Sn},{}),An=(M.__properties__={set_lightnessHSLuv:"set_lightnessHSLuv",get_lightnessHSLuv:"get_lightnessHSLuv",set_saturationHSLuv:"set_saturationHSLuv",get_saturationHSLuv:"get_saturationHSLuv",set_hueHSLuv:"set_hueHSLuv",get_hueHSLuv:"get_hueHSLuv",set_lightness:"set_lightness",get_lightness:"get_lightness",set_brightness:"set_brightness",get_brightness:"get_brightness",set_saturation:"set_saturation",get_saturation:"get_saturation",set_hue:"set_hue",get_hue:"get_hue",set_black:"set_black",get_black:"get_black",set_yellow:"set_yellow",get_yellow:"get_yellow",set_magenta:"set_magenta",get_magenta:"get_magenta",set_cyan:"set_cyan",get_cyan:"get_cyan",set_blueFloat:"set_blueFloat",get_blueFloat:"get_blueFloat",set_greenFloat:"set_greenFloat",get_greenFloat:"get_greenFloat",set_redFloat:"set_redFloat",get_redFloat:"get_redFloat",set_blue:"set_blue",get_blue:"get_blue",set_green:"set_green",get_green:"get_green",set_red:"set_red",get_red:"get_red"},M.toAlphaColor=function(e){e=(0|e)-16777216;return e&16777215|-16777216},M.random=function(e,n){null==n&&(n=.5),null==e&&(e=.5);var t=360*Math.random(),e=Math.random()*(1-e)+e,n=Math.random()*(1-n)+n;return M.fromHSB(t,e,n)},M.fromInt=function(e){return null==e?0:e},M.fromRGB=function(e,n,t){var i=0;return((i&65535|(255<e?255:e<0?0:e)<<16)&16711935|(255<n?255:n<0?0:n)<<8)&16776960|(255<t?255:t<0?0:t)},M.fromRGBFloat=function(e,n,t){var i=0,e=(i=i&65535|(255<(e=Math.round(255*e))?255:e<0?0:e)<<16,Math.round(255*n)),e=(i=i&16711935|(255<e?255:e<0?0:e)<<8,Math.round(255*t));return i=i&16776960|(255<e?255:e<0?0:e)},M.fromCMYK=function(e,n,t,i){var l=0,e=(1-e)*(1-i),e=(l=l&65535|(255<(s=Math.round(255*e))?255:s<0?0:s)<<16,(1-n)*(1-i)),s=Math.round(255*e),e=(1-t)*(1-i);return l=(l=l&16711935|(255<s?255:s<0?0:s)<<8)&16776960|(255<(s=Math.round(255*e))?255:s<0?0:s)},M.fromHSB=function(e,n,t){var i=0,n=t*n,l=t-n,t=e,s=n,e=(t%=360)/60,r=s*(1-Math.abs(e%2-1))+l;switch(s+=l,0|e){case 0:i=i&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16;var h=Math.round(255*r),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l)),i=i&16776960|(255<h?255:h<0?0:h);break;case 1:h=(i=i&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*s)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));i=i&16776960|(255<h?255:h<0?0:h);break;case 2:h=(i=i&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));i=i&16776960|(255<h?255:h<0?0:h);break;case 3:h=(i=i&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));i=i&16776960|(255<h?255:h<0?0:h);break;case 4:h=(i=i&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));i=i&16776960|(255<h?255:h<0?0:h);break;case 5:h=(i=i&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));i=i&16776960|(255<h?255:h<0?0:h)}return i},M.fromHSL=function(e,n,t){var i=0,n=(1-Math.abs(2*t-1))*n,l=t-n/2,t=e,s=n,e=(t%=360)/60,r=s*(1-Math.abs(e%2-1))+l;switch(s+=l,0|e){case 0:i=i&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16;var h=Math.round(255*r),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l)),i=i&16776960|(255<h?255:h<0?0:h);break;case 1:h=(i=i&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*s)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));i=i&16776960|(255<h?255:h<0?0:h);break;case 2:h=(i=i&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));i=i&16776960|(255<h?255:h<0?0:h);break;case 3:h=(i=i&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));i=i&16776960|(255<h?255:h<0?0:h);break;case 4:h=(i=i&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));i=i&16776960|(255<h?255:h<0?0:h);break;case 5:h=(i=i&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(i=i&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));i=i&16776960|(255<h?255:h<0?0:h)}return i},M.fromString=function(e){var n,t,i=null;if(e=z.trim(e),z.startsWith(e,"0x"))i=a=null==(a=ot.parseInt(e.substring(0,8)))?0:a;else if(z.startsWith(e,"#"))i=9<=e.length?(t="0x"+e.substring(1,9),16776960&(16711935&(65535&0|(255<(n=(l=ot.parseInt(t))>>16&255)?255:n<0?0:n)<<16)|(255<(n=l>>8&255)?255:n<0?0:n)<<8)|(255<(n=255&l)?255:n<0?0:n)):(t="0x"+e.substring(1,7),a=null==(a=ot.parseInt(t))?0:a);else{e=e.toUpperCase();for(var l=M.colorLookup.h,s=Object.keys(l),r=s.length,h=0;h<r;){var a,o=s[h++];if(o==e){i=a=null==(a=M.colorLookup.h[o])?0:a;break}}}return i},M.getHSBColorWheel=function(){for(var e=[],n=0;n<360;){var t=n++;e.push(M.fromHSB(t,1,1))}return e},M.interpolate=function(e,n,t){var i=((n>>16&255)-(e>>16&255))*(t=null==t?.5:t)+(e>>16&255)|0,l=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0,n=((255&n)-(255&e))*t+(255&e)|0,t=0;return((t&65535|(255<i?255:i<0?0:i)<<16)&16711935|(255<l?255:l<0?0:l)<<8)&16776960|(255<n?255:n<0?0:n)},M.gradient=function(e,n,t,i){for(var l=[],s=(null==i&&(i=function(e){return e}),0),r=t;s<r;){var h=s++,a=i(h/(t-1)),o=((n>>16&255)-(e>>16&255))*(a=null==a?.5:a)+(e>>16&255)|0,c=((n>>8&255)-(e>>8&255))*a+(e>>8&255)|0,a=((255&n)-(255&e))*a+(255&e)|0,u=0;l[h]=((u&65535|(255<o?255:o<0?0:o)<<16)&16711935|(255<c?255:c<0?0:c)<<8)&16776960|(255<a?255:a<0?0:a)}return l},M.multiply=function(e,n){var t=(e>>8&255)/255*((n>>8&255)/255),i=(255&e)/255*((255&n)/255),l=0,e=(l=l&65535|(255<(e=Math.round(255*((e>>16&255)/255*((n>>16&255)/255))))?255:e<0?0:e)<<16,Math.round(255*t)),e=(l=l&16711935|(255<e?255:e<0?0:e)<<8,Math.round(255*i));return l=l&16776960|(255<e?255:e<0?0:e)},M.add=function(e,n){var t=(e>>16&255)+(n>>16&255),i=(e>>8&255)+(n>>8&255),e=(255&e)+(255&n),n=0;return((n&65535|(255<t?255:t<0?0:t)<<16)&16711935|(255<i?255:i<0?0:i)<<8)&16776960|(255<e?255:e<0?0:e)},M.subtract=function(e,n){var t=(e>>16&255)-(n>>16&255),i=(e>>8&255)-(n>>8&255),e=(255&e)-(255&n),n=0;return((n&65535|(255<t?255:t<0?0:t)<<16)&16711935|(255<i?255:i<0?0:i)<<8)&16776960|(255<e?255:e<0?0:e)},M.toHexString=function(e,n){return((n=null==n?!0:n)?"0x":"")+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2)},M.toWebString=function(e){var n=!1;return"#"+((n=null==n?!0:n)?"0x":"")+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2)},M.getColorInfo=function(e){var n="0x"+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2)+"\n";return(n+="red: "+(e>>16&255)+" green: "+(e>>8&255)+" blue: "+(255&e)+"\n")+("hue: "+M.roundDecimal(M.get_hue(e),2)+" saturation: "+M.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" brightness: "+M.roundDecimal(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" lightness: "+M.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2,2))},M.getDarkened=function(e,n){var t=(n=null==n?.2:n)<0?0:n,i=(n=1<t?1:t,e),l=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2*(1-n),t=M.get_hue(i),e=(1-Math.abs(2*l-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),s=l-e/2,n=t,r=e,t=(n%=360)/60,h=r*(1-Math.abs(t%2-1))+s;switch(r+=s,0|t){case 0:l=(i=i&65535|(255<(l=Math.round(255*r))?255:l<0?0:l)<<16,Math.round(255*h)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*s)),i=i&16776960|(255<l?255:l<0?0:l);break;case 1:l=(i=i&65535|(255<(l=Math.round(255*h))?255:l<0?0:l)<<16,Math.round(255*r)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*s));i=i&16776960|(255<l?255:l<0?0:l);break;case 2:l=(i=i&65535|(255<(l=Math.round(255*s))?255:l<0?0:l)<<16,Math.round(255*r)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*h));i=i&16776960|(255<l?255:l<0?0:l);break;case 3:l=(i=i&65535|(255<(l=Math.round(255*s))?255:l<0?0:l)<<16,Math.round(255*h)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*r));i=i&16776960|(255<l?255:l<0?0:l);break;case 4:l=(i=i&65535|(255<(l=Math.round(255*h))?255:l<0?0:l)<<16,Math.round(255*s)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*r));i=i&16776960|(255<l?255:l<0?0:l);break;case 5:l=(i=i&65535|(255<(l=Math.round(255*r))?255:l<0?0:l)<<16,Math.round(255*s)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*h));i=i&16776960|(255<l?255:l<0?0:l)}return i},M.getLightened=function(e,n){var t=(n=null==n?.2:n)<0?0:n,i=(n=1<t?1:t,e),l=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2+(1-(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2)*n,t=M.get_hue(i),e=(1-Math.abs(2*l-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),s=l-e/2,n=t,r=e,t=(n%=360)/60,h=r*(1-Math.abs(t%2-1))+s;switch(r+=s,0|t){case 0:l=(i=i&65535|(255<(l=Math.round(255*r))?255:l<0?0:l)<<16,Math.round(255*h)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*s)),i=i&16776960|(255<l?255:l<0?0:l);break;case 1:l=(i=i&65535|(255<(l=Math.round(255*h))?255:l<0?0:l)<<16,Math.round(255*r)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*s));i=i&16776960|(255<l?255:l<0?0:l);break;case 2:l=(i=i&65535|(255<(l=Math.round(255*s))?255:l<0?0:l)<<16,Math.round(255*r)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*h));i=i&16776960|(255<l?255:l<0?0:l);break;case 3:l=(i=i&65535|(255<(l=Math.round(255*s))?255:l<0?0:l)<<16,Math.round(255*h)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*r));i=i&16776960|(255<l?255:l<0?0:l);break;case 4:l=(i=i&65535|(255<(l=Math.round(255*h))?255:l<0?0:l)<<16,Math.round(255*s)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*r));i=i&16776960|(255<l?255:l<0?0:l);break;case 5:l=(i=i&65535|(255<(l=Math.round(255*r))?255:l<0?0:l)<<16,Math.round(255*s)),l=(i=i&16711935|(255<l?255:l<0?0:l)<<8,Math.round(255*h));i=i&16776960|(255<l?255:l<0?0:l)}return i},M.getInverted=function(e){var n=255-(e>>16&255),t=255-(e>>8&255),e=255-(255&e),i=0;i=16776960&(i=16711935&(i=0|(255<n?255:n<0?0:n)<<16)|(255<t?255:t<0?0:t)<<8)|(255<e?255:e<0?0:e);return i},M.setRGB=function(e,n,t,i){return e=(e=(e=e&65535|(255<n?255:n<0?0:n)<<16)&16711935|(255<t?255:t<0?0:t)<<8)&16776960|(255<i?255:i<0?0:i)},M.setRGBFloat=function(e,n,t,i){e=65535&e|(255<(n=Math.round(255*n))?255:n<0?0:n)<<16;n=Math.round(255*t),e=16711935&e|(255<n?255:n<0?0:n)<<8,n=Math.round(255*i);return e=e&16776960|(255<n?255:n<0?0:n)},M.setCMYK=function(e,n,t,i,l){var n=(1-n)*(1-l),n=(e=e&65535|(255<(s=Math.round(255*n))?255:s<0?0:s)<<16,(1-t)*(1-l)),s=Math.round(255*n),n=(1-i)*(1-l);return e=(e=e&16711935|(255<s?255:s<0?0:s)<<8)&16776960|(255<(s=Math.round(255*n))?255:s<0?0:s)},M.setHSB=function(e,n,t,i){var t=i*t,l=i-t,i=n,s=t,n=(i%=360)/60,r=s*(1-Math.abs(n%2-1))+l;switch(s+=l,0|n){case 0:e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16;var h=Math.round(255*r),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h)}return e},M.setHSL=function(e,n,t,i){var t=(1-Math.abs(2*i-1))*t,l=i-t/2,i=n,s=t,n=(i%=360)/60,r=s*(1-Math.abs(n%2-1))+l;switch(s+=l,0|n){case 0:e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16;var h=Math.round(255*r),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h)}return e},M.setHSChromaMatch=function(e,n,t,i,l){var n=(n%=360)/60,s=i*(1-Math.abs(n%2-1))+l;switch(i+=l,0|n){case 0:e=e&65535|(255<(r=Math.round(255*i))?255:r<0?0:r)<<16;var r=Math.round(255*s),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*l));e=e&16776960|(255<r?255:r<0?0:r);break;case 1:r=(e=e&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*i)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*l));e=e&16776960|(255<r?255:r<0?0:r);break;case 2:r=(e=e&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,Math.round(255*i)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));e=e&16776960|(255<r?255:r<0?0:r);break;case 3:r=(e=e&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,Math.round(255*s)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*i));e=e&16776960|(255<r?255:r<0?0:r);break;case 4:r=(e=e&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*l)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*i));e=e&16776960|(255<r?255:r<0?0:r);break;case 5:r=(e=e&65535|(255<(r=Math.round(255*i))?255:r<0?0:r)<<16,Math.round(255*l)),r=(e=e&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));e=e&16776960|(255<r?255:r<0?0:r)}return e},M._new=function(e){return e=null==e?0:e},M.get_red=function(e){return e>>16&255},M.get_green=function(e){return e>>8&255},M.get_blue=function(e){return 255&e},M.get_redFloat=function(e){return(e>>16&255)/255},M.get_greenFloat=function(e){return(e>>8&255)/255},M.get_blueFloat=function(e){return(255&e)/255},M.set_red=function(e,n){return e=e&65535|(255<n?255:n<0?0:n)<<16,n},M.set_green=function(e,n){return e=e&16711935|(255<n?255:n<0?0:n)<<8,n},M.set_blue=function(e,n){return e=e&16776960|(255<n?255:n<0?0:n),n},M.set_redFloat=function(e,n){var t=Math.round(255*n);return e=e&65535|(255<t?255:t<0?0:t)<<16,n},M.set_greenFloat=function(e,n){var t=Math.round(255*n);return e=e&16711935|(255<t?255:t<0?0:t)<<8,n},M.set_blueFloat=function(e,n){var t=Math.round(255*n);return e=e&16776960|(255<t?255:t<0?0:t),n},M.get_cyan=function(e){return(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},M.get_magenta=function(e){return(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},M.get_yellow=function(e){return(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},M.get_black=function(e){return 1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},M.set_cyan=function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=(1-n)*(1-l),s=(e=e&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,(1-t)*(1-l)),r=Math.round(255*s),s=(1-i)*(1-l);return e=(e=e&16711935|(255<r?255:r<0?0:r)<<8)&16776960|(255<(r=Math.round(255*s))?255:r<0?0:r),n},M.set_magenta=function(e,n){var t=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i),l=(e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(1-n)*(1-i)),s=Math.round(255*l),l=(1-t)*(1-i);return e=(e=e&16711935|(255<s?255:s<0?0:s)<<8)&16776960|(255<(s=Math.round(255*l))?255:s<0?0:s),n},M.set_yellow=function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i),l=(e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(1-t)*(1-i)),s=Math.round(255*l),l=(1-n)*(1-i);return e=(e=e&16711935|(255<s?255:s<0?0:s)<<8)&16776960|(255<(s=Math.round(255*l))?255:s<0?0:s),n},M.set_black=function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-n),l=(e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(1-t)*(1-n)),s=Math.round(255*l),l=(1-i)*(1-n);return e=(e=e&16711935|(255<s?255:s<0?0:s)<<8)&16776960|(255<(s=Math.round(255*l))?255:s<0?0:s),n},M.get_hue=function(e){var n=0;return(n=0!=Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255)?180/Math.PI*Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255):n)<0?n+360:n},M.get_brightness=function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},M.get_saturation=function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},M.get_lightness=function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2},M.set_hue=function(e,n){var t=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=t*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=t-i,t=n,s=i,i=(t%=360)/60,r=s*(1-Math.abs(i%2-1))+l;switch(s+=l,0|i){case 0:e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16;var h=Math.round(255*r),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h)}return n},M.set_saturation=function(e,n){var t=M.get_hue(e),i=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),l=i*n,s=i-l,i=t,r=l,t=(i%=360)/60,h=r*(1-Math.abs(t%2-1))+s;switch(r+=s,0|t){case 0:e=e&65535|(255<(a=Math.round(255*r))?255:a<0?0:a)<<16;var a=Math.round(255*h),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*s));e=e&16776960|(255<a?255:a<0?0:a);break;case 1:a=(e=e&65535|(255<(a=Math.round(255*h))?255:a<0?0:a)<<16,Math.round(255*r)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*s));e=e&16776960|(255<a?255:a<0?0:a);break;case 2:a=(e=e&65535|(255<(a=Math.round(255*s))?255:a<0?0:a)<<16,Math.round(255*r)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*h));e=e&16776960|(255<a?255:a<0?0:a);break;case 3:a=(e=e&65535|(255<(a=Math.round(255*s))?255:a<0?0:a)<<16,Math.round(255*h)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*r));e=e&16776960|(255<a?255:a<0?0:a);break;case 4:a=(e=e&65535|(255<(a=Math.round(255*h))?255:a<0?0:a)<<16,Math.round(255*s)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*r));e=e&16776960|(255<a?255:a<0?0:a);break;case 5:a=(e=e&65535|(255<(a=Math.round(255*r))?255:a<0?0:a)<<16,Math.round(255*s)),a=(e=e&16711935|(255<a?255:a<0?0:a)<<8,Math.round(255*h));e=e&16776960|(255<a?255:a<0?0:a)}return n},M.set_brightness=function(e,n){var t=M.get_hue(e),i=n*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=n-i,s=i,i=(t%=360)/60,r=s*(1-Math.abs(i%2-1))+l;switch(s+=l,0|i){case 0:e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16;var h=Math.round(255*r),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h)}return n},M.set_lightness=function(e,n){var t=M.get_hue(e),i=(1-Math.abs(2*n-1))*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),l=n-i/2,s=i,i=(t%=360)/60,r=s*(1-Math.abs(i%2-1))+l;switch(s+=l,0|i){case 0:e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16;var h=Math.round(255*r),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 1:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*l));e=e&16776960|(255<h?255:h<0?0:h);break;case 2:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*s)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h);break;case 3:h=(e=e&65535|(255<(h=Math.round(255*l))?255:h<0?0:h)<<16,Math.round(255*r)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 4:h=(e=e&65535|(255<(h=Math.round(255*r))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*s));e=e&16776960|(255<h?255:h<0?0:h);break;case 5:h=(e=e&65535|(255<(h=Math.round(255*s))?255:h<0?0:h)<<16,Math.round(255*l)),h=(e=e&16711935|(255<h?255:h<0?0:h)<<8,Math.round(255*r));e=e&16776960|(255<h?255:h<0?0:h)}return n},M.maxColor=function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},M.minColor=function(e){return Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255))},M.boundChannel=function(e,n){return 255<n?255:n<0?0:n},M.roundDecimal=function(e,n){for(var t=1,i=0,l=n;i<l;){i++;t*=10}return Math.round(e*t)/t},M.bound=function(e,n,t){n=null!=n&&e<n?n:e;return null!=t&&t<n?t:n},M.toString=function(e){return-1==e?"NONE":"0x"+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2)},M.get_hueHSLuv=function(e){var n,t=M._hsluvCacheMap.intMap.h[0|e],t=null!=t?t:0;return 0==t&&(t=1+(M._hsluvCacheValues.length/3|0),M._hsluvCacheMap.set(e,t),null==(n=M._hsluvResult)&&(n=[0,0,0]),M._hsluvTuple[0]=(e>>16&255)/255,M._hsluvTuple[1]=(e>>8&255)/255,M._hsluvTuple[2]=(255&e)/255,g.rgbToHsluv(M._hsluvTuple,n),n[1]*=.01,n[2]*=.01,M._hsluvCacheValues.push(M._hsluvResult[0]),M._hsluvCacheValues.push(M._hsluvResult[1]),M._hsluvCacheValues.push(M._hsluvResult[2])),M._hsluvCacheValues[3*(t-1)]},M.set_hueHSLuv=function(e,n){var t=M.get_saturationHSLuv(e),i=M.get_lightnessHSLuv(e);if(M._hsluvTuple[0]=n,M._hsluvTuple[1]=100*t,M._hsluvTuple[2]=100*i,.001<i){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult);var l=M._hsluvResult[0];l<0&&(l=0);e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=M._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,(l=M._hsluvResult[2])<0&&(l=0),Math.round(255*l));e=e&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*i-1))*t,r=i-l/2,t=n,h=l,i=(t%=360)/60,a=h*(1-Math.abs(i%2-1))+r;switch(h+=r,0|i){case 0:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 1:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 2:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s);break;case 3:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 4:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 5:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s)}}return n},M.get_saturationHSLuv=function(e){var n,t=M._hsluvCacheMap.intMap.h[0|e],t=null!=t?t:0;return 0==t&&(t=1+(M._hsluvCacheValues.length/3|0),M._hsluvCacheMap.set(e,t),null==(n=M._hsluvResult)&&(n=[0,0,0]),M._hsluvTuple[0]=(e>>16&255)/255,M._hsluvTuple[1]=(e>>8&255)/255,M._hsluvTuple[2]=(255&e)/255,g.rgbToHsluv(M._hsluvTuple,n),n[1]*=.01,n[2]*=.01,M._hsluvCacheValues.push(M._hsluvResult[0]),M._hsluvCacheValues.push(M._hsluvResult[1]),M._hsluvCacheValues.push(M._hsluvResult[2])),M._hsluvCacheValues[3*(t-1)+1]},M.set_saturationHSLuv=function(e,n){var t=M.get_hueHSLuv(e),i=M.get_lightnessHSLuv(e);if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*n,M._hsluvTuple[2]=100*i,.001<i){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult);var l=M._hsluvResult[0];l<0&&(l=0);e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=M._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,(l=M._hsluvResult[2])<0&&(l=0),Math.round(255*l));e=e&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*i-1))*n,r=i-l/2,i=t,h=l,t=(i%=360)/60,a=h*(1-Math.abs(t%2-1))+r;switch(h+=r,0|t){case 0:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 1:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 2:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s);break;case 3:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 4:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 5:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s)}}return n},M.get_lightnessHSLuv=function(e){var n,t=M._hsluvCacheMap.intMap.h[0|e],t=null!=t?t:0;return 0==t&&(t=1+(M._hsluvCacheValues.length/3|0),M._hsluvCacheMap.set(e,t),null==(n=M._hsluvResult)&&(n=[0,0,0]),M._hsluvTuple[0]=(e>>16&255)/255,M._hsluvTuple[1]=(e>>8&255)/255,M._hsluvTuple[2]=(255&e)/255,g.rgbToHsluv(M._hsluvTuple,n),n[1]*=.01,n[2]*=.01,M._hsluvCacheValues.push(M._hsluvResult[0]),M._hsluvCacheValues.push(M._hsluvResult[1]),M._hsluvCacheValues.push(M._hsluvResult[2])),M._hsluvCacheValues[3*(t-1)+2]},M.set_lightnessHSLuv=function(e,n){var t=M.get_hueHSLuv(e),i=M.get_saturationHSLuv(e);if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*n,.001<n){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult);var l=M._hsluvResult[0];l<0&&(l=0);e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=M._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,(l=M._hsluvResult[2])<0&&(l=0),Math.round(255*l));e=e&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*n-1))*i,r=n-l/2,i=t,h=l,t=(i%=360)/60,a=h*(1-Math.abs(t%2-1))+r;switch(h+=r,0|t){case 0:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 1:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 2:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s);break;case 3:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 4:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 5:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s)}}return n},M._getOrCreateCachedHSLuvComponent=function(e,n){var t,i=M._hsluvCacheMap.intMap.h[0|e],i=null!=i?i:0;return 0==i&&(i=1+(M._hsluvCacheValues.length/3|0),M._hsluvCacheMap.set(e,i),null==(t=M._hsluvResult)&&(t=[0,0,0]),M._hsluvTuple[0]=(e>>16&255)/255,M._hsluvTuple[1]=(e>>8&255)/255,M._hsluvTuple[2]=(255&e)/255,g.rgbToHsluv(M._hsluvTuple,t),t[1]*=.01,t[2]*=.01,M._hsluvCacheValues.push(M._hsluvResult[0]),M._hsluvCacheValues.push(M._hsluvResult[1]),M._hsluvCacheValues.push(M._hsluvResult[2])),M._hsluvCacheValues[3*(i-1)+n]},M.fromHSLuv=function(e,n,t){var i=0;if(M._hsluvTuple[0]=e,M._hsluvTuple[1]=100*n,M._hsluvTuple[2]=100*t,.001<t){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult);var l=M._hsluvResult[0];l<0&&(l=0);i=i&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=M._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,(l=M._hsluvResult[2])<0&&(l=0),Math.round(255*l)),i=i&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*t-1))*n,r=t-l/2,n=e,h=l,t=(n%=360)/60,a=h*(1-Math.abs(t%2-1))+r;switch(h+=r,0|t){case 0:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 1:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 2:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s);break;case 3:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 4:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 5:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s)}}return i},M.setHSLuv=function(e,n,t,i){if(M._hsluvTuple[0]=n,M._hsluvTuple[1]=100*t,M._hsluvTuple[2]=100*i,.001<i){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult);var l=M._hsluvResult[0];l<0&&(l=0);e=e&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=M._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,(l=M._hsluvResult[2])<0&&(l=0),Math.round(255*l));e=e&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*i-1))*t,r=i-l/2,t=n,h=l,i=(t%=360)/60,a=h*(1-Math.abs(i%2-1))+r;switch(h+=r,0|i){case 0:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 1:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));e=e&16776960|(255<s?255:s<0?0:s);break;case 2:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s);break;case 3:s=(e=e&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 4:s=(e=e&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));e=e&16776960|(255<s?255:s<0?0:s);break;case 5:s=(e=e&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(e=e&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));e=e&16776960|(255<s?255:s<0?0:s)}}return e},M.getHSLuv=function(e,n){return null==n&&(n=[0,0,0]),M._hsluvTuple[0]=(e>>16&255)/255,M._hsluvTuple[1]=(e>>8&255)/255,M._hsluvTuple[2]=(255&e)/255,g.rgbToHsluv(M._hsluvTuple,n),n[1]*=.01,n[2]*=.01,n},(E["ceramic.LinearLayout"]=r0).__name__="ceramic.LinearLayout",r0.__super__=g0,r0.prototype=$extend(g0.prototype,{direction:null,set_direction:function(e){if(this.direction!=e){var n;if(e==yt.VERTICAL)switch(this.align._hx_index){case 0:n=wt.TOP;break;case 1:n=wt.BOTTOM;break;default:n=this.align}else switch(this.align._hx_index){case 2:n=wt.LEFT;break;case 3:n=wt.RIGHT;break;default:n=this.align}this.set_align(n),this.direction=e,this.layoutDirty=!0}return e},itemSpacing:null,set_itemSpacing:function(e){return this.itemSpacing!=e&&(this.itemSpacing=e,this.layoutDirty=!0),e},align:null,set_align:function(e){return this.align!=e&&(this.align=e,this.layoutDirty=!0),e},childrenDepth:null,set_childrenDepth:function(e){return this.childrenDepth!=e&&(this.childrenDepth=e,this.layoutDirty=!0),e},computeSize:function(e,n,t,i){var l=0==(U=this.paddingLeft)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*e:-60002.1<U&&U<-60001.9?e:U,s=0==(U=this.paddingTop)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*n:-60002.1<U&&U<-60001.9?n:U,r=0==(U=this.paddingRight)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*e:-60002.1<U&&U<-60001.9?e:U,h=0==(U=this.paddingBottom)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*n:-60002.1<U&&U<-60001.9?n:U,a=kn.NO_SIZE,o=kn.NO_SIZE;if(this.direction==yt.VERTICAL){g0.prototype.computeSize.call(this,e,n,t,i);var a=this.computedSize.computedWidth,o=this.computedSize.computedHeight,c=12,u=!(-60001.1<(I=this.viewWidth)&&I<-60000.9),_=((D=!(-60001.1<(I=this.viewHeight)&&I<-60000.9))&&(t=-5&t&-9),0),d=0,b=0,g=0,O=0==(U=this.itemSpacing)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*n:-60002.1<U&&U<-60001.9?n:U;if(!u&&((null==(S=null)?1==(1&t):(t=S?1|t:-2&t,S))&&(c|=1),(null==(S=null)?2==(2&t):(t=S?2|t:-3&t,S))&&(c|=2),null==(S=null)?1==(1&t):(t=S?1|t:-2&t,S))||(a-=l+r),(D||!(null==(S=null)?4==(4&t):(t=S?4|t:-5&t,S))||0<o)&&(o-=s+h),null!=this.subviews)for(var f=0,p=this.subviews.length;f<p;){var C=f++;1!=(1&(k=this.subviews[C]).flags)&&(++b,-60002.1<(I=k.viewHeight)&&I<-60001.9?g+=k.flex:(k.computedSize=k.persistedComputedSizeForContext(a,o,c),null==k.computedSize&&k.computeSize(a,o,c,!1),k.computedSize.computedWidth>d&&(d=k.computedSize.computedWidth),_+=k.computedSize.computedHeight))}_+=1<b?O*(b-1):0;var v=0,m=c;if(u&&(m&=-2),m=(m&=-3)&-5&-9,0<g){if(0<(v=Math.max(0,o-_)/g))for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&-60002.1<(I=k.viewHeight)&&I<-60001.9&&(y=v*k.flex,k.computedSize=k.persistedComputedSizeForContext(a,y,m),null==k.computedSize&&k.computeSize(a,y,m,!1),k.computedSize.computedWidth>d)&&(d=k.computedSize.computedWidth)}_=o}if((null==(S=null)?1==(1&c):(c=S?1|c:-2&c,S))&&a<d&&(a=d),o<_&&(o=_),i){var w=c;if(w&=-3,null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&!(-60002.1<(I=k.viewHeight)&&I<-60001.9)&&(k.computedSize=k.persistedComputedSizeForContext(a,o,w),null==k.computedSize)&&k.computeSize(a,o,w,i)}if(0<g&&0<v&&null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){var y,C=f++;1!=(1&(k=this.subviews[C]).flags)&&-60002.1<(I=k.viewHeight)&&I<-60001.9&&(y=v*k.flex,k.computedSize=k.persistedComputedSizeForContext(a,y,m),null==k.computedSize)&&k.computeSize(a,y,m,i)}}}else{g0.prototype.computeSize.call(this,e,n,t,i),a=this.computedSize.computedWidth,o=this.computedSize.computedHeight;var U,c=3,u=!(-60001.1<(I=this.viewWidth)&&I<-60000.9),D=!(-60001.1<(I=this.viewHeight)&&I<-60000.9),T=(u&&(t=-2&t&-3),0),x=0,b=0,g=0,O=0==(U=this.itemSpacing)?0:U<-39999.9&&-60000.1<U?.01*(U+5e4)*e:-60002.1<U&&U<-60001.9?e:U;if(!D&&((null==(S=null)?4==(4&t):(t=S?4|t:-5&t,S))&&(c|=4),(null==(S=null)?8==(8&t):(t=S?8|t:-9&t,S))&&(c|=8),null==(S=null)?4==(4&t):(t=S?4|t:-5&t,S))||(o-=s+h),(u||!(null==(S=null)?1==(1&t):(t=S?1|t:-2&t,S))||0<a)&&(a-=l+r),null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&(++b,-60002.1<(I=k.viewWidth)&&I<-60001.9?g+=k.flex:(k.computedSize=k.persistedComputedSizeForContext(a,o,c),null==k.computedSize&&k.computeSize(a,o,c,!1),k.computedSize.computedHeight>x&&(x=k.computedSize.computedHeight),T+=k.computedSize.computedWidth))}T+=1<b?O*(b-1):0;var S,A=0,m=c;if(D&&(m&=-5),m=(m&=-9)&-2&-3,0<g){if(0<(A=Math.max(0,a-T)/g))for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&-60002.1<(I=k.viewWidth)&&I<-60001.9&&(P=A*k.flex,k.computedSize=k.persistedComputedSizeForContext(P,o,m),null==k.computedSize&&k.computeSize(P,o,m,!1),k.computedSize.computedHeight>x)&&(x=k.computedSize.computedHeight)}T=a}if((null==(S=null)?4==(4&c):(c=S?4|c:-5&c,S))&&o<x&&(o=x),a<T&&(a=T),i){w=c;if(w&=-9,null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){C=f++;1!=(1&(k=this.subviews[C]).flags)&&!(-60002.1<(I=k.viewWidth)&&I<-60001.9)&&(k.computedSize=k.persistedComputedSizeForContext(a,o,w),null==k.computedSize)&&k.computeSize(a,o,w,i)}if(0<g&&0<A&&null!=this.subviews)for(f=0,p=this.subviews.length;f<p;){var k,I,P,C=f++;1!=(1&(k=this.subviews[C]).flags)&&-60002.1<(I=k.viewWidth)&&I<-60001.9&&(P=A*k.flex,k.computedSize=k.persistedComputedSizeForContext(P,o,m),null==k.computedSize)&&k.computeSize(P,o,m,i)}}}a+=l+r,o+=s+h,i?this.persistComputedSize(e,n,t,a,o):this.assignComputedSize(a,o)},layout:function(){var e,n,t=this.paddingLeft,i=this.get_width(),l=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t,t=this.paddingTop,i=this.get_height(),s=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t,t=this.paddingRight,i=this.get_width(),r=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t,t=this.paddingBottom,i=this.get_height(),h=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t,a=this.get_width()-l-r,o=this.get_height()-s-h,c=!1;switch(this.childrenDepth){case-1:n=-1,e=null!=this.subviews?this.subviews.length:1;break;case 0:n=0,e=1;break;case 1:e=n=1;break;case 2:e=1,c=!(n=0)}if(this.direction==yt.VERTICAL){var u=s,_=0,d=0,b=0,t=this.itemSpacing,i=this.get_height(),g=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t;if(null!=this.subviews)for(var O=0,f=this.subviews.length;O<f;){var p=O++;1!=(1&(D=this.subviews[p]).flags)&&(++d,-60002.1<(x=D.viewHeight)&&x<-60001.9?b+=D.flex:(D.computedSize=D.persistedComputedSizeForContext(a,o,A=12),null==D.computedSize&&D.computeSize(a,o,A,!0),D.set_x(l),U=D.computedSize.computedHeight,D.set_width(Math.min(a,D.computedSize.computedWidth)),D.set_height(U),_+=D.computedSize.computedHeight))}if(0<b){for(var C=1<d?g*(d-1):0,v=(Math.max(0,o-_)-C)/b,O=0,f=this.subviews.length;O<f;){var m,p=O++;(k=1!=(1&(D=this.subviews[p]).flags)&&-60002.1<(x=D.viewHeight)&&x<-60001.9)&&(m=v*D.flex,D.computedSize=D.persistedComputedSizeForContext(a,m,A=0),null==D.computedSize&&D.computeSize(a,m,A,!0),D.set_x(l),D.set_y(0),U=v*D.flex,D.set_width(a),D.set_height(U))}_=o}if(null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){p=O++;1!=(1&(D=this.subviews[p]).flags)&&(0<p&&(u+=g,_+=g),D.set_y(u),D.get_height()+u>o+s&&D.set_height(Math.max(0,o+s-u)),u+=D.get_height(),c||(D.set_depth(e),e+=n))}if(u+=h,0<(C=o-_))switch(this.align._hx_index){case 3:case 4:if(this.align==wt.CENTER&&(C=Math.round(.5*C)),null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){p=O++;1!=(1&(D=this.subviews[p]).flags)&&D.set_y(D.y+C)}}}else{var w=l,y=0,d=0,b=0,t=this.itemSpacing,i=this.get_width(),g=0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*i:-60002.1<t&&t<-60001.9?i:t;if(null!=this.subviews)for(O=0,f=this.subviews;O<f.length;){var U,D=f[O];++O,1!=(1&D.flags)&&(++d,-60002.1<(x=D.viewWidth)&&x<-60001.9?b+=D.flex:(D.computedSize=D.persistedComputedSizeForContext(a,o,A=3),null==D.computedSize&&D.computeSize(a,o,A,!0),D.set_y(s),U=Math.min(o,D.computedSize.computedHeight),D.set_width(D.computedSize.computedWidth),D.set_height(U),y+=D.computedSize.computedWidth))}if(0<b){for(var C=1<d?g*(d-1):0,T=(Math.max(0,a-y)-C)/b,O=0,f=this.subviews;O<f.length;){var x,S,A,D=f[O];++O,(k=1!=(1&D.flags)&&-60002.1<(x=D.viewWidth)&&x<-60001.9)&&(S=T*D.flex,D.computedSize=D.persistedComputedSizeForContext(S,o,A=0),null==D.computedSize&&D.computeSize(S,o,A,!0),D.set_x(0),D.set_y(s),D.set_width(T*D.flex),D.set_height(o))}y=a}if(null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){p=O++;1!=(1&(D=this.subviews[p]).flags)&&(0<p&&(w+=g,y+=g),D.set_x(w),D.get_width()+w>a+l&&D.set_width(Math.max(0,a+l-w)),w+=D.get_width(),c||(D.set_depth(e),e+=n))}if(w+=r,0<(C=a-y))switch(this.align._hx_index){case 1:case 4:if(this.align==wt.CENTER&&(C=Math.round(.5*C)),null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){p=O++;1!=(1&(D=this.subviews[p]).flags)&&D.set_x(D.x+C)}}}if(null!=this.subviews)for(O=0,f=this.subviews.length;O<f;){var k,I,P,F,p=O++;1!=(1&(D=this.subviews[p]).flags)&&(I=D.x,k=D.get_width()*D.anchorX,t=D.offsetX,D.set_x(I+(k+(0==t?0:t<-39999.9&&-60000.1<t?.01*(t+5e4)*a:-60002.1<t&&t<-60001.9?a:t))),I=D.y,P=D.get_height()*D.anchorY,F=D.offsetY,D.set_y(I+(P+(0==F?0:F<-39999.9&&-60000.1<F?.01*(F+5e4)*o:-60002.1<F&&F<-60001.9?o:F))))}},__class__:r0,__properties__:$extend(g0.prototype.__properties__,{set_childrenDepth:"set_childrenDepth",set_align:"set_align",set_itemSpacing:"set_itemSpacing",set_direction:"set_direction"})}),(E["ceramic.ColumnLayout"]=s0).__name__="ceramic.ColumnLayout",s0.__super__=r0,s0.prototype=$extend(r0.prototype,{set_direction:function(e){if(e!=yt.VERTICAL)throw ct.thrown("Changing direction of a ColumnLayout is not allowed. Use a LinearLayout if you want to change direction at runtime.");return this.direction=yt.VERTICAL},__class__:s0}),function(e){null==e&&(e=10),this.fps=0,this.index=0,this.size=e,this.frames=[];for(var n=0,t=e;n<t;){n++;this.frames.push(0)}}),kn=((E["ceramic.ComputeFps"]=An).__name__="ceramic.ComputeFps",An.prototype={frames:null,index:null,size:null,fps:null,addFrame:function(e){this.frames[this.index]=e,this.index=(this.index+1)%this.size;for(var n=0,t=0,i=this.size;t<i;){var l=t++;n+=this.frames[l]}n=0<n?this.size/n:0,this.fps=Math.round(Math.min(999,n))},__class__:An},function(e,n,t,i,l,s){this.computedFitWidth=kn.NO_SIZE,this.computedHeight=kn.NO_SIZE,this.computedWidth=kn.NO_SIZE,this.parentHeight=kn.NO_SIZE,this.parentWidth=kn.NO_SIZE,this.parentLayoutMask=15,null!=e&&(this.parentLayoutMask=e),null!=n&&(this.parentWidth=n),null!=t&&(this.parentHeight=t),null!=i&&(this.computedWidth=i),null!=l&&(this.computedHeight=l),null!=s&&(this.computedFitWidth=s)}),In=((E["ceramic.ComputedViewSize"]=kn).__name__="ceramic.ComputedViewSize",kn.get=function(){null==kn._pool&&(kn._pool=new o);var e=kn._pool,e=0<e.availableItems.length?e.availableItems.pop():null;return(e=null==e?new kn(null,null,null,null,null,null):e).parentLayoutMask=15,e.parentWidth=kn.NO_SIZE,e.parentHeight=kn.NO_SIZE,e.computedWidth=kn.NO_SIZE,e.computedHeight=kn.NO_SIZE,e.computedFitWidth=kn.NO_SIZE,e},kn.prototype={parentLayoutMask:null,parentWidth:null,parentHeight:null,computedWidth:null,computedHeight:null,computedFitWidth:null,recycle:function(){kn._pool.recycle(this)},__class__:kn},(E["ceramic.ConvertField"]=v0).__name__="ceramic.ConvertField",v0.__isInterface__=!0,v0.prototype={basicToField:null,fieldToBasic:null,__class__:v0},function(){}),Pn=((E["ceramic.ConvertArray"]=In).__name__="ceramic.ConvertArray",In.__interfaces__=[v0],In.prototype={basicToField:function(e,n,t,i,l){l(null==i?null:[].concat(i))},fieldToBasic:function(e,n,t){return null==t?null:[].concat(t)},__class__:In},function(){this.preferStringBasic=!1}),Fn=((E["ceramic.ConvertColor"]=Pn).__name__="ceramic.ConvertColor",Pn.__interfaces__=[v0],Pn.prototype={preferStringBasic:null,basicToField:function(e,n,t,i,l){l(null!=i?"string"==typeof i?M.fromString(i):0|i:0)},fieldToBasic:function(e,n,t){var i;return this.preferStringBasic?"#"+((i=null==(i=!1)?!0:i)?"0x":"")+z.hex(t>>16&255,2)+z.hex(t>>8&255,2)+z.hex(255&t,2):t},__class__:Pn},function(){}),Bn=((E["ceramic.ConvertComponentMap"]=Fn).__name__="ceramic.ConvertComponentMap",Fn.__interfaces__=[v0],Fn.prototype={basicToField:function(e,n,t,i,l){if(null==i)l(null);else{for(var s=new te,r=0,h=L.fields(i);r<h.length;){var a=h[r];++r,i[a];ke.app.logger.error("Not using component initializers anymore. Need to implement event based solution!",{fileName:"../../../../ceramic/runtime/src/ceramic/ConvertComponentMap.hx",lineNumber:71,className:"ceramic.ConvertComponentMap",methodName:"basicToField"})}l(s)}},fieldToBasic:function(e,n,t){if(null==t)return null;for(var i={},l=t.h,s=Object.keys(l),r=s.length,h=0;h<r;){var a=s[h++],o=t.h[a];null!=o&&null!=o.initializerName&&(i[a]=o.initializerName)}return i},__class__:Fn},function(){}),Mn=((E["ceramic.ConvertFont"]=Bn).__name__="ceramic.ConvertFont",Bn.__interfaces__=[v0],Bn.prototype={basicToField:function(e,n,t,i,l){null!=i?i==ke.app.defaultFont.asset.name?l(ke.app.defaultFont):t.ensureFont(i,null,null,function(e){l(null!=e?e.get_font():null)}):l(null)},fieldToBasic:function(e,n,t){return null==t||null==t.asset?null:t.asset.name},__class__:Bn},function(){}),En=((E["ceramic.ConvertFragmentData"]=Mn).__name__="ceramic.ConvertFragmentData",Mn.__interfaces__=[v0],Mn.prototype={basicToField:function(e,n,t,i,l){l(i)},fieldToBasic:function(e,n,t){return t},__class__:Mn},function(){}),Rn=((E["ceramic.ConvertIntBoolMap"]=En).__name__="ceramic.ConvertIntBoolMap",En.__interfaces__=[v0],En.prototype={basicToField:function(e,n,t,i,l){if(null==i)l(null);else{var s=new Sn(16,.5,!1);if(e instanceof jt&&"hiddenSlots"==n)for(var r=0,h=L.fields(i);r<h.length;){var a=h[r],o=(++r,L.field(i,a)),c=(Object.prototype.hasOwnProperty.call(jt._globalSlotIndexes.h,a)||(jt._globalSlotIndexes.h[a]=jt._nextGlobalSlotIndex++),jt._globalSlotIndexes.h[a]);s.set(c,o?1:0)}else for(r=0,h=L.fields(i);r<h.length;){a=h[r];++r,s.set(ot.parseInt(a),L.field(i,a)?1:0)}l(s)}},fieldToBasic:function(e,n,t){return null==t?null:(ke.app.logger.warning("ConvertIntBoolMap.fieldToBasic() not implemented!",{fileName:"../../../../ceramic/runtime/src/ceramic/ConvertIntBoolMap.hx",lineNumber:92,className:"ceramic.ConvertIntBoolMap",methodName:"fieldToBasic"}),{})},__class__:En},function(){}),Vn=((E["ceramic.ConvertMap"]=Rn).__name__="ceramic.ConvertMap",Rn.__interfaces__=[v0],Rn.prototype={basicToField:function(e,n,t,i,l){if(null==i)l(null);else{for(var s=new te,r=0,h=L.fields(i);r<h.length;){var a=h[r];++r,s.h[a]=i[a]}l(s)}},fieldToBasic:function(e,n,t){if(null==t)return null;for(var i={},l=t.h,s=Object.keys(l),r=s.length,h=0;h<r;){var a=s[h++];i[a]=t.h[a]}return i},__class__:Rn},(E["ceramic.ConvertSpineData"]=D0).__name__="ceramic.ConvertSpineData",D0.__interfaces__=[v0],D0.prototype={basicToField:function(e,n,t,i,l){null!=i?ii.ensureSpine(t,i,null,null,function(e){l(null!=e?e.get_spineData():null)}):l(null)},fieldToBasic:function(e,n,t){return null==t||null==t.asset?null:t.asset.name},__class__:D0},function(){}),Ln=((E["ceramic.ConvertTexture"]=Vn).__name__="ceramic.ConvertTexture",Vn.__interfaces__=[v0],Vn.prototype={basicToField:function(e,n,t,i,l){null!=i?t.ensureImage(i,null,null,function(e){l(null!=e?e.get_texture():null)}):l(null)},fieldToBasic:function(e,n,t){return null==t||null==t.asset?null:t.asset.name},__class__:Vn},(E["ceramic.Csv"]=F0).__name__="ceramic.Csv",F0.parse=function(e){for(var n="",t=0,i="",l=(e=z.trim(e)).length,s=!1,r="",h=[];t<l;)if(i=e.charAt(t),s)'"'==i?'""'==i+e.charAt(t+1)?(r+='"',t+=2):(s=!1,++t):(r+=i,++t);else{if("\n"==i){++t;break}""==r&&'"'==i?s=!0:""==n?","==i||";"==i?(n=i,h.push(z.replace(r,"\r","")),r=""):r+=i:i==n?(h.push(z.replace(r,"\r","")),r=""):r+=i,++t}""!=r&&h.push(z.replace(r,"\r",""));for(var s=!1,r="",a={},o=!1,c=[],u=0,_="",d=-1;t<l;)i=e.charAt(t),s?'"'==i?'""'==i+e.charAt(t+1)?(r+='"',t+=2):(s=!1,++t):(r+=i,++t):("\n"==i?(null!=(_=h[u++])?(a[_]=z.replace(r,"\r",""),o=!0):-1==d&&(d=c.length),r="",c.push(a),o=!1,u=0,a={}):""==r&&'"'==i?s=!0:i==n?(null!=(_=h[u++])?(a[_]=z.replace(r,"\r",""),o=!0):-1==d&&(d=c.length),r=""):r+=i,++t);return null!=(_=h[u++])?(a[_]=z.replace(r,"\r",""),o=!0):-1==d&&(F0.warning(a),d=c.length),r="",o&&c.push(a),0<=d&&F0.warning("Malformed CSV: too many columns at row #"+d),c},F0.stringify=function(e,n){if(null==n){n=[];for(var t=Object.create(null),i=0;i<e.length;)for(var l=e[i],s=(++i,0),r=L.fields(l);s<r.length;){var h=r[s];++s,Object.prototype.hasOwnProperty.call(t,h)||(n.push(h),t[h]=!0)}}for(var a="",o=0,i=0;i<n.length;){h=n[i];if(++i,0<o++&&(a+=","),0!=h.length){a+='"';for(s=0,r=h.length;s<r;){var c=s++;a+='"'==(b=h.charAt(c))?'""':ot.string(b)}a+='"'}}for(i=0;i<e.length;)for(l=e[i],s=(++i,a+="\n",o=0);s<n.length;){var h=n[s],u=(++s,0<o++&&(a+=","),L.field(l,h)),_=null!=u?ot.string(u):"";if(0!=_.length){a+='"';for(var r=0,d=_.length;r<d;){var b,c=r++;a+='"'==(b=_.charAt(c))?'""':ot.string(b)}a+='"'}}return a},F0.warning=function(e){ke.app.logger.warning(e,{fileName:"../../../../ceramic/runtime/src/ceramic/Csv.hx",lineNumber:333,className:"ceramic.Csv",methodName:"warning"})},function(e,n,t,i,l){this.kind=e,this.add=n,this.extensions=t,this.dir=i,this.types=l}),Hn=((E["ceramic.CustomAssetKind"]=Ln).__name__="ceramic.CustomAssetKind",Ln.prototype={kind:null,add:null,extensions:null,dir:null,types:null,__class__:Ln},function(e,n,t){this.unobservedDatabase=null,this.databaseAutoruns=null,Ga.call(this,"database",e,n,t)}),Nn=((E["ceramic.DatabaseAsset"]=Hn).__name__="ceramic.DatabaseAsset",Hn.__super__=Ga,Hn.prototype=$extend(Ga.prototype,{databaseAutoruns:null,get_database:function(){var e,n,t=this.unobservedDatabase;return null!=w.current&&(e=w.current,null!=(n=this.databaseAutoruns)||(n=w.getAutorunArray(),null!=(this.databaseAutoruns=n)))&&e.bindToAutorunArray(n),t},set_database:function(e){var n=this.unobservedDatabase;return this.unobservedDatabase=e,Tr.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDatabaseChange(e,n),null!=(n=this.databaseAutoruns)&&(this.databaseAutoruns=null,w.invalidateAutorunArray(n))),e},invalidateDatabase:function(){var e=this.unobservedDatabase,e=(this.emitDatabaseChange(e,e),this.databaseAutoruns);null!=e&&(this.databaseAutoruns=null,w.invalidateAutorunArray(e))},unobservedDatabase:null,__cbOnDatabaseChange:null,__cbOnceDatabaseChange:null,__cbOnOwnerUnbindDatabaseChange:null,__cbOnceOwnerUnbindDatabaseChange:null,emitDatabaseChange:function(e,n){var t=0;if(null!=this.__cbOnDatabaseChange&&(t+=this.__cbOnDatabaseChange.length),null!=this.__cbOnceDatabaseChange&&(t+=this.__cbOnceDatabaseChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDatabaseChange)for(var r=0,h=this.__cbOnDatabaseChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDatabaseChange[a],++s):--t}if(null!=this.__cbOnceDatabaseChange){for(var o=null,c=null,r=0,h=this.__cbOnceDatabaseChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDatabaseChange[a],this.__cbOnceDatabaseChange[a]=null,u=this.__cbOnceOwnerUnbindDatabaseChange[a],(this.__cbOnceOwnerUnbindDatabaseChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDatabaseChange[a]),c.push(this.__cbOnceDatabaseChange[a]))}this.__cbOnceOwnerUnbindDatabaseChange=o,this.__cbOnceDatabaseChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDatabaseChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event databaseChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDatabaseChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDatabaseChange&&(this.__cbOnOwnerUnbindDatabaseChange=[]),this.__cbOnOwnerUnbindDatabaseChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDatabaseChange&&(this.__cbOnOwnerUnbindDatabaseChange=[]),this.__cbOnOwnerUnbindDatabaseChange.push(null);null==this.__cbOnDatabaseChange&&(this.__cbOnDatabaseChange=[]),this.__cbOnDatabaseChange.push(t)},onceDatabaseChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event databaseChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDatabaseChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDatabaseChange&&(this.__cbOnceOwnerUnbindDatabaseChange=[]),this.__cbOnceOwnerUnbindDatabaseChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDatabaseChange&&(this.__cbOnceOwnerUnbindDatabaseChange=[]),this.__cbOnceOwnerUnbindDatabaseChange.push(null);null==this.__cbOnceDatabaseChange&&(this.__cbOnceDatabaseChange=[]),this.__cbOnceDatabaseChange.push(t)},offDatabaseChange:function(e){if(null!=e){var n;null!=this.__cbOnDatabaseChange&&-1!=(n=this.__cbOnDatabaseChange.indexOf(e))&&(this.__cbOnDatabaseChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDatabaseChange[n])&&s(),this.__cbOnOwnerUnbindDatabaseChange.splice(n,1)),null!=this.__cbOnceDatabaseChange&&-1!=(n=this.__cbOnceDatabaseChange.indexOf(e))&&(this.__cbOnceDatabaseChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDatabaseChange[n])&&s(),this.__cbOnceOwnerUnbindDatabaseChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDatabaseChange){for(var t=0,i=this.__cbOnOwnerUnbindDatabaseChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDatabaseChange[l])&&s()}this.__cbOnOwnerUnbindDatabaseChange=null}if(null!=this.__cbOnceOwnerUnbindDatabaseChange){for(t=0,i=this.__cbOnceOwnerUnbindDatabaseChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDatabaseChange[l])&&s()}this.__cbOnceOwnerUnbindDatabaseChange=null}this.__cbOnDatabaseChange=null,this.__cbOnceDatabaseChange=null}},listensDatabaseChange:function(){return null!=this.__cbOnDatabaseChange&&0<this.__cbOnDatabaseChange.length||null!=this.__cbOnceDatabaseChange&&0<this.__cbOnceDatabaseChange.length},load:function(){var e,n,t,i,l=this;this.set_status(Cn.LOADING),null==this.path?(ke.app.logger.warning("Cannot load database asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:92,className:"ceramic.DatabaseAsset",methodName:"load"}),this.set_status(Cn.BROKEN),this.emitComplete(!1)):(e={},null!=this.owner&&(e.immediate=this.owner.immediate,e.loadMethod=this.owner.loadMethod),n=this.path,t=tn.realAssetPath(n,this.runtimeAssets),0<(i=tn.getReloadCount(t))&&(t+="?hot="+i,n+="?hot="+i),ke.app.logger.info("Load database "+n,{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:113,className:"ceramic.DatabaseAsset",methodName:"load"}),ke.app.backend.texts.load(t,e,function(e){if(null!=e){try{l.set_database(F0.parse(e))}catch(e){return zl.lastError=e,l.set_status(Cn.BROKEN),ke.app.logger.error("Failed to parse database at path: "+l.path,{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:121,className:"ceramic.DatabaseAsset",methodName:"load"}),void l.emitComplete(!1)}l.set_status(Cn.READY),l.emitComplete(!0)}else l.set_status(Cn.BROKEN),ke.app.logger.error("Failed to load database at path: "+l.path,{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:130,className:"ceramic.DatabaseAsset",methodName:"load"}),l.emitComplete(!1)}))},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ke.app.logger.info("Reload database (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:159,className:"ceramic.DatabaseAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ga.prototype.destroy.call(this),this.set_database(null))},unbindEvents:function(){Ga.prototype.unbindEvents.call(this),this.offDatabaseChange()},__class__:Hn,__properties__:$extend(Ga.prototype.__properties__,{set_database:"set_database",get_database:"get_database"})}),(E["ceramic.DoubleClick"]=I0).__name__="ceramic.DoubleClick",I0.__interfaces__=[b0],I0.__super__=j,I0.prototype=$extend(j.prototype,{__cbOnDoubleClick:null,__cbOnceDoubleClick:null,__cbOnOwnerUnbindDoubleClick:null,__cbOnceOwnerUnbindDoubleClick:null,emitDoubleClick:function(){var e=0;if(null!=this.__cbOnDoubleClick&&(e+=this.__cbOnDoubleClick.length),null!=this.__cbOnceDoubleClick&&(e+=this.__cbOnceDoubleClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnDoubleClick)for(var l=0,s=this.__cbOnDoubleClick.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnDoubleClick[r],++i):--e}if(null!=this.__cbOnceDoubleClick){for(var h=null,a=null,l=0,s=this.__cbOnceDoubleClick.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceDoubleClick[r],this.__cbOnceDoubleClick[r]=null,o=this.__cbOnceOwnerUnbindDoubleClick[r],(this.__cbOnceOwnerUnbindDoubleClick[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindDoubleClick[r]),a.push(this.__cbOnceDoubleClick[r]))}this.__cbOnceOwnerUnbindDoubleClick=h,this.__cbOnceDoubleClick=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onDoubleClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event doubleClick because owner is destroyed!");var l=function(e){null!=t&&(i.offDoubleClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDoubleClick&&(this.__cbOnOwnerUnbindDoubleClick=[]),this.__cbOnOwnerUnbindDoubleClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDoubleClick&&(this.__cbOnOwnerUnbindDoubleClick=[]),this.__cbOnOwnerUnbindDoubleClick.push(null);null==this.__cbOnDoubleClick&&(this.__cbOnDoubleClick=[]),this.__cbOnDoubleClick.push(t)},onceDoubleClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event doubleClick because owner is destroyed!");var l=function(e){null!=t&&(i.offDoubleClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDoubleClick&&(this.__cbOnceOwnerUnbindDoubleClick=[]),this.__cbOnceOwnerUnbindDoubleClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDoubleClick&&(this.__cbOnceOwnerUnbindDoubleClick=[]),this.__cbOnceOwnerUnbindDoubleClick.push(null);null==this.__cbOnceDoubleClick&&(this.__cbOnceDoubleClick=[]),this.__cbOnceDoubleClick.push(t)},offDoubleClick:function(e){if(null!=e){var n;null!=this.__cbOnDoubleClick&&-1!=(n=this.__cbOnDoubleClick.indexOf(e))&&(this.__cbOnDoubleClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDoubleClick[n])&&s(),this.__cbOnOwnerUnbindDoubleClick.splice(n,1)),null!=this.__cbOnceDoubleClick&&-1!=(n=this.__cbOnceDoubleClick.indexOf(e))&&(this.__cbOnceDoubleClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDoubleClick[n])&&s(),this.__cbOnceOwnerUnbindDoubleClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDoubleClick){for(var t=0,i=this.__cbOnOwnerUnbindDoubleClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDoubleClick[l])&&s()}this.__cbOnOwnerUnbindDoubleClick=null}if(null!=this.__cbOnceOwnerUnbindDoubleClick){for(t=0,i=this.__cbOnceOwnerUnbindDoubleClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDoubleClick[l])&&s()}this.__cbOnceOwnerUnbindDoubleClick=null}this.__cbOnDoubleClick=null,this.__cbOnceDoubleClick=null}},listensDoubleClick:function(){return null!=this.__cbOnDoubleClick&&0<this.__cbOnDoubleClick.length||null!=this.__cbOnceDoubleClick&&0<this.__cbOnceDoubleClick.length},threshold:null,maxDelay:null,entity:null,pressed:null,firstClickTime:null,pointerStartX:null,pointerStartY:null,bindAsComponent:function(){this.entity.onPointerDown(this,$bind(this,this.handlePointerDown)),this.entity.onPointerUp(this,$bind(this,this.handlePointerUp)),this.entity.onBlur(this,$bind(this,this.handleBlur))},cancel:function(){ke.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.pressed=!1,this.firstClickTime=-1},handlePointerDown:function(e){this.pointerStartX=ke.app.screen.pointerX,this.pointerStartY=ke.app.screen.pointerY,this.pressed=!0,0<=this.firstClickTime&&(mi.now-this.firstClickTime<=this.maxDelay?this.emitDoubleClick():this.firstClickTime=-1),ke.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove))},handlePointerUp:function(e){this.pressed&&(this.pressed=!1,this.firstClickTime<0)?this.firstClickTime=mi.now:0<=this.firstClickTime&&(this.firstClickTime=-1)},handlePointerMove:function(e){(Math.abs(ke.app.screen.pointerX-this.pointerStartX)>this.threshold||Math.abs(ke.app.screen.pointerY-this.pointerStartY)>this.threshold)&&(ke.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.pressed=!1,this.firstClickTime=-1)},handleBlur:function(){this.pressed=!1},setEntity:function(e){this.entity=e instanceof q?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offDoubleClick()},__class__:I0}),en["ceramic.Easing"]={__ename__:"ceramic.Easing",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"ceramic.Easing",toString:c},LINEAR:{_hx_name:"LINEAR",_hx_index:1,__enum__:"ceramic.Easing",toString:c},BACK_EASE_IN:{_hx_name:"BACK_EASE_IN",_hx_index:2,__enum__:"ceramic.Easing",toString:c},BACK_EASE_IN_OUT:{_hx_name:"BACK_EASE_IN_OUT",_hx_index:3,__enum__:"ceramic.Easing",toString:c},BACK_EASE_OUT:{_hx_name:"BACK_EASE_OUT",_hx_index:4,__enum__:"ceramic.Easing",toString:c},QUAD_EASE_IN:{_hx_name:"QUAD_EASE_IN",_hx_index:5,__enum__:"ceramic.Easing",toString:c},QUAD_EASE_IN_OUT:{_hx_name:"QUAD_EASE_IN_OUT",_hx_index:6,__enum__:"ceramic.Easing",toString:c},QUAD_EASE_OUT:{_hx_name:"QUAD_EASE_OUT",_hx_index:7,__enum__:"ceramic.Easing",toString:c},CUBIC_EASE_IN:{_hx_name:"CUBIC_EASE_IN",_hx_index:8,__enum__:"ceramic.Easing",toString:c},CUBIC_EASE_IN_OUT:{_hx_name:"CUBIC_EASE_IN_OUT",_hx_index:9,__enum__:"ceramic.Easing",toString:c},CUBIC_EASE_OUT:{_hx_name:"CUBIC_EASE_OUT",_hx_index:10,__enum__:"ceramic.Easing",toString:c},QUART_EASE_IN:{_hx_name:"QUART_EASE_IN",_hx_index:11,__enum__:"ceramic.Easing",toString:c},QUART_EASE_IN_OUT:{_hx_name:"QUART_EASE_IN_OUT",_hx_index:12,__enum__:"ceramic.Easing",toString:c},QUART_EASE_OUT:{_hx_name:"QUART_EASE_OUT",_hx_index:13,__enum__:"ceramic.Easing",toString:c},QUINT_EASE_IN:{_hx_name:"QUINT_EASE_IN",_hx_index:14,__enum__:"ceramic.Easing",toString:c},QUINT_EASE_IN_OUT:{_hx_name:"QUINT_EASE_IN_OUT",_hx_index:15,__enum__:"ceramic.Easing",toString:c},QUINT_EASE_OUT:{_hx_name:"QUINT_EASE_OUT",_hx_index:16,__enum__:"ceramic.Easing",toString:c},BOUNCE_EASE_IN:{_hx_name:"BOUNCE_EASE_IN",_hx_index:17,__enum__:"ceramic.Easing",toString:c},BOUNCE_EASE_IN_OUT:{_hx_name:"BOUNCE_EASE_IN_OUT",_hx_index:18,__enum__:"ceramic.Easing",toString:c},BOUNCE_EASE_OUT:{_hx_name:"BOUNCE_EASE_OUT",_hx_index:19,__enum__:"ceramic.Easing",toString:c},ELASTIC_EASE_IN:{_hx_name:"ELASTIC_EASE_IN",_hx_index:20,__enum__:"ceramic.Easing",toString:c},ELASTIC_EASE_IN_OUT:{_hx_name:"ELASTIC_EASE_IN_OUT",_hx_index:21,__enum__:"ceramic.Easing",toString:c},ELASTIC_EASE_OUT:{_hx_name:"ELASTIC_EASE_OUT",_hx_index:22,__enum__:"ceramic.Easing",toString:c},EXPO_EASE_IN:{_hx_name:"EXPO_EASE_IN",_hx_index:23,__enum__:"ceramic.Easing",toString:c},EXPO_EASE_IN_OUT:{_hx_name:"EXPO_EASE_IN_OUT",_hx_index:24,__enum__:"ceramic.Easing",toString:c},EXPO_EASE_OUT:{_hx_name:"EXPO_EASE_OUT",_hx_index:25,__enum__:"ceramic.Easing",toString:c},SINE_EASE_IN:{_hx_name:"SINE_EASE_IN",_hx_index:26,__enum__:"ceramic.Easing",toString:c},SINE_EASE_IN_OUT:{_hx_name:"SINE_EASE_IN_OUT",_hx_index:27,__enum__:"ceramic.Easing",toString:c},SINE_EASE_OUT:{_hx_name:"SINE_EASE_OUT",_hx_index:28,__enum__:"ceramic.Easing",toString:c},BEZIER:((U=function(e,n,t,i){return{_hx_index:29,x1:e,y1:n,x2:t,y2:i,__enum__:"ceramic.Easing",toString:c}})._hx_name="BEZIER",U.__params__=["x1","y1","x2","y2"],U),CUSTOM:((U=function(e){return{_hx_index:30,easing:e,__enum__:"ceramic.Easing",toString:c}})._hx_name="CUSTOM",U.__params__=["easing"],U)}),Wn=(Nn.__constructs__=[Nn.NONE,Nn.LINEAR,Nn.BACK_EASE_IN,Nn.BACK_EASE_IN_OUT,Nn.BACK_EASE_OUT,Nn.QUAD_EASE_IN,Nn.QUAD_EASE_IN_OUT,Nn.QUAD_EASE_OUT,Nn.CUBIC_EASE_IN,Nn.CUBIC_EASE_IN_OUT,Nn.CUBIC_EASE_OUT,Nn.QUART_EASE_IN,Nn.QUART_EASE_IN_OUT,Nn.QUART_EASE_OUT,Nn.QUINT_EASE_IN,Nn.QUINT_EASE_IN_OUT,Nn.QUINT_EASE_OUT,Nn.BOUNCE_EASE_IN,Nn.BOUNCE_EASE_IN_OUT,Nn.BOUNCE_EASE_OUT,Nn.ELASTIC_EASE_IN,Nn.ELASTIC_EASE_IN_OUT,Nn.ELASTIC_EASE_OUT,Nn.EXPO_EASE_IN,Nn.EXPO_EASE_IN_OUT,Nn.EXPO_EASE_OUT,Nn.SINE_EASE_IN,Nn.SINE_EASE_IN_OUT,Nn.SINE_EASE_OUT,Nn.BEZIER,Nn.CUSTOM],(E["ceramic.EasingUtils"]=K0).__name__="ceramic.EasingUtils",K0.easingFromString=function(e){return B.createEnum(Nn,e,K0._emptyArray)},K0.easingToString=function(e){return en[e.__enum__].__constructs__[e._hx_index]._hx_name},(E["ceramic.TextInputDelegate"]=L0).__name__="ceramic.TextInputDelegate",L0.__isInterface__=!0,L0.prototype={textInputClosestPositionInLine:null,textInputNumberOfLines:null,textInputIndexForPosInLine:null,textInputLineForIndex:null,textInputPosInLineForIndex:null,__class__:L0},(E["ceramic.EditText"]=M0).__name__="ceramic.EditText",M0.__interfaces__=[L0,b0],M0.__super__=j,M0.prototype=$extend(j.prototype,{__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnStart:null,__cbOnceStart:null,__cbOnOwnerUnbindStart:null,__cbOnceOwnerUnbindStart:null,emitStart:function(){var e=0;if(null!=this.__cbOnStart&&(e+=this.__cbOnStart.length),null!=this.__cbOnceStart&&(e+=this.__cbOnceStart.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnStart)for(var l=0,s=this.__cbOnStart.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnStart[r],++i):--e}if(null!=this.__cbOnceStart){for(var h=null,a=null,l=0,s=this.__cbOnceStart.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceStart[r],this.__cbOnceStart[r]=null,o=this.__cbOnceOwnerUnbindStart[r],(this.__cbOnceOwnerUnbindStart[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindStart[r]),a.push(this.__cbOnceStart[r]))}this.__cbOnceOwnerUnbindStart=h,this.__cbOnceStart=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event start because owner is destroyed!");var l=function(e){null!=t&&(i.offStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStart&&(this.__cbOnOwnerUnbindStart=[]),this.__cbOnOwnerUnbindStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStart&&(this.__cbOnOwnerUnbindStart=[]),this.__cbOnOwnerUnbindStart.push(null);null==this.__cbOnStart&&(this.__cbOnStart=[]),this.__cbOnStart.push(t)},onceStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event start because owner is destroyed!");var l=function(e){null!=t&&(i.offStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStart&&(this.__cbOnceOwnerUnbindStart=[]),this.__cbOnceOwnerUnbindStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStart&&(this.__cbOnceOwnerUnbindStart=[]),this.__cbOnceOwnerUnbindStart.push(null);null==this.__cbOnceStart&&(this.__cbOnceStart=[]),this.__cbOnceStart.push(t)},offStart:function(e){if(null!=e){var n;null!=this.__cbOnStart&&-1!=(n=this.__cbOnStart.indexOf(e))&&(this.__cbOnStart.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStart[n])&&s(),this.__cbOnOwnerUnbindStart.splice(n,1)),null!=this.__cbOnceStart&&-1!=(n=this.__cbOnceStart.indexOf(e))&&(this.__cbOnceStart.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStart[n])&&s(),this.__cbOnceOwnerUnbindStart.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStart){for(var t=0,i=this.__cbOnOwnerUnbindStart.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStart[l])&&s()}this.__cbOnOwnerUnbindStart=null}if(null!=this.__cbOnceOwnerUnbindStart){for(t=0,i=this.__cbOnceOwnerUnbindStart.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStart[l])&&s()}this.__cbOnceOwnerUnbindStart=null}this.__cbOnStart=null,this.__cbOnceStart=null}},listensStart:function(){return null!=this.__cbOnStart&&0<this.__cbOnStart.length||null!=this.__cbOnceStart&&0<this.__cbOnceStart.length},__cbOnSubmit:null,__cbOnceSubmit:null,__cbOnOwnerUnbindSubmit:null,__cbOnceOwnerUnbindSubmit:null,emitSubmit:function(){var e=0;if(null!=this.__cbOnSubmit&&(e+=this.__cbOnSubmit.length),null!=this.__cbOnceSubmit&&(e+=this.__cbOnceSubmit.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnSubmit)for(var l=0,s=this.__cbOnSubmit.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnSubmit[r],++i):--e}if(null!=this.__cbOnceSubmit){for(var h=null,a=null,l=0,s=this.__cbOnceSubmit.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceSubmit[r],this.__cbOnceSubmit[r]=null,o=this.__cbOnceOwnerUnbindSubmit[r],(this.__cbOnceOwnerUnbindSubmit[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindSubmit[r]),a.push(this.__cbOnceSubmit[r]))}this.__cbOnceOwnerUnbindSubmit=h,this.__cbOnceSubmit=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onSubmit:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event submit because owner is destroyed!");var l=function(e){null!=t&&(i.offSubmit(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSubmit&&(this.__cbOnOwnerUnbindSubmit=[]),this.__cbOnOwnerUnbindSubmit.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSubmit&&(this.__cbOnOwnerUnbindSubmit=[]),this.__cbOnOwnerUnbindSubmit.push(null);null==this.__cbOnSubmit&&(this.__cbOnSubmit=[]),this.__cbOnSubmit.push(t)},onceSubmit:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event submit because owner is destroyed!");var l=function(e){null!=t&&(i.offSubmit(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSubmit&&(this.__cbOnceOwnerUnbindSubmit=[]),this.__cbOnceOwnerUnbindSubmit.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSubmit&&(this.__cbOnceOwnerUnbindSubmit=[]),this.__cbOnceOwnerUnbindSubmit.push(null);null==this.__cbOnceSubmit&&(this.__cbOnceSubmit=[]),this.__cbOnceSubmit.push(t)},offSubmit:function(e){if(null!=e){var n;null!=this.__cbOnSubmit&&-1!=(n=this.__cbOnSubmit.indexOf(e))&&(this.__cbOnSubmit.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSubmit[n])&&s(),this.__cbOnOwnerUnbindSubmit.splice(n,1)),null!=this.__cbOnceSubmit&&-1!=(n=this.__cbOnceSubmit.indexOf(e))&&(this.__cbOnceSubmit.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSubmit[n])&&s(),this.__cbOnceOwnerUnbindSubmit.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSubmit){for(var t=0,i=this.__cbOnOwnerUnbindSubmit.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSubmit[l])&&s()}this.__cbOnOwnerUnbindSubmit=null}if(null!=this.__cbOnceOwnerUnbindSubmit){for(t=0,i=this.__cbOnceOwnerUnbindSubmit.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSubmit[l])&&s()}this.__cbOnceOwnerUnbindSubmit=null}this.__cbOnSubmit=null,this.__cbOnceSubmit=null}},listensSubmit:function(){return null!=this.__cbOnSubmit&&0<this.__cbOnSubmit.length||null!=this.__cbOnceSubmit&&0<this.__cbOnceSubmit.length},__cbOnStop:null,__cbOnceStop:null,__cbOnOwnerUnbindStop:null,__cbOnceOwnerUnbindStop:null,emitStop:function(){var e=0;if(null!=this.__cbOnStop&&(e+=this.__cbOnStop.length),null!=this.__cbOnceStop&&(e+=this.__cbOnceStop.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnStop)for(var l=0,s=this.__cbOnStop.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnStop[r],++i):--e}if(null!=this.__cbOnceStop){for(var h=null,a=null,l=0,s=this.__cbOnceStop.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceStop[r],this.__cbOnceStop[r]=null,o=this.__cbOnceOwnerUnbindStop[r],(this.__cbOnceOwnerUnbindStop[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindStop[r]),a.push(this.__cbOnceStop[r]))}this.__cbOnceOwnerUnbindStop=h,this.__cbOnceStop=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onStop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event stop because owner is destroyed!");var l=function(e){null!=t&&(i.offStop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(null);null==this.__cbOnStop&&(this.__cbOnStop=[]),this.__cbOnStop.push(t)},onceStop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event stop because owner is destroyed!");var l=function(e){null!=t&&(i.offStop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(null);null==this.__cbOnceStop&&(this.__cbOnceStop=[]),this.__cbOnceStop.push(t)},offStop:function(e){if(null!=e){var n;null!=this.__cbOnStop&&-1!=(n=this.__cbOnStop.indexOf(e))&&(this.__cbOnStop.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStop[n])&&s(),this.__cbOnOwnerUnbindStop.splice(n,1)),null!=this.__cbOnceStop&&-1!=(n=this.__cbOnceStop.indexOf(e))&&(this.__cbOnceStop.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStop[n])&&s(),this.__cbOnceOwnerUnbindStop.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStop){for(var t=0,i=this.__cbOnOwnerUnbindStop.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStop[l])&&s()}this.__cbOnOwnerUnbindStop=null}if(null!=this.__cbOnceOwnerUnbindStop){for(t=0,i=this.__cbOnceOwnerUnbindStop.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStop[l])&&s()}this.__cbOnceOwnerUnbindStop=null}this.__cbOnStop=null,this.__cbOnceStop=null}},listensStop:function(){return null!=this.__cbOnStop&&0<this.__cbOnStop.length||null!=this.__cbOnceStop&&0<this.__cbOnceStop.length},entity:null,multiline:null,get_editing:function(){return M0._activeEditTextInput==this},selectionColor:null,set_selectionColor:function(e){return this.selectionColor=e,null!=this.selectText&&(this.selectText.selectionColor=e),e},textCursorColor:null,set_textCursorColor:function(e){return this.textCursorColor=e,null!=this.selectText&&(this.selectText.textCursorColor=e),e},textCursorOffsetX:null,set_textCursorOffsetX:function(e){return this.textCursorOffsetX=e,null!=this.selectText&&(this.selectText.textCursorOffsetX=e),e},textCursorOffsetY:null,set_textCursorOffsetY:function(e){return this.textCursorOffsetY=e,null!=this.selectText&&(this.selectText.textCursorOffsetY=e),e},textCursorHeightFactor:null,set_textCursorHeightFactor:function(e){return this.textCursorHeightFactor=e,null!=this.selectText&&(this.selectText.textCursorHeightFactor=e),e},textCursorWidth:null,set_textCursorWidth:function(e){return this.textCursorWidth=e,null!=this.selectText&&(this.selectText.textCursorWidth=e),e},disabled:null,set_disabled:function(e){return e!=this.disabled&&(this.disabled=e)&&this.stopInput(),e},container:null,set_container:function(e){return this.container!=e&&(this.container=e,null!=this.selectText&&this.selectText.set_container(e),null!=this.entity)&&this.bindPointerEvents(),e},selectText:null,boundContainer:null,selectionBackgrounds:null,inputActive:null,willUpdateSelection:null,textCursor:null,textCursorToggleVisibilityTime:null,inputRectX:null,inputRectY:null,inputRectW:null,inputRectH:null,bindAsComponent:function(){this.selectText=this.entity.component("selectText"),null==this.selectText&&(this.selectText=new Wt(this.selectionColor,this.textCursorColor,this.textCursorOffsetX,this.textCursorOffsetY,this.textCursorHeightFactor,this.textCursorWidth),this.entity.component("selectText",this.selectText)),this.selectText.set_container(this.container),this.selectText.onSelection(this,$bind(this,this.updateFromSelection)),this.bindPointerEvents(),this.bindKeyBindings(),ke.app.onUpdate(this,$bind(this,this.handleAppUpdate)),this.handleMobileWebIfNeeded()},startInput:function(e,n){null==n&&(n=-1),null==e&&(e=-1);var t,i=this;null!=M0._activeEditTextInput?(M0._activeEditTextInput.stopInput(),M0._activeEditTextInput=null,ke.app._onceImmediate(function(){i._lifecycleState<0||i.disabled||i.startInput(e,n)})):(this.emitStart(),n>this.entity.content.length&&(n=this.entity.content.length),t=(M0._activeEditTextInput=this).entity.content,this.computeInputRect(),ke.app.textInput.onUpdate(this,$bind(this,this.updateFromTextInput)),ke.app.textInput.onStop(this,$bind(this,this.handleStop)),ke.app.textInput.onEnter(this,$bind(this,this.handleEnter)),ke.app.textInput.onEscape(this,$bind(this,this.handleEscape)),ke.app.textInput.onSelection(this,$bind(this,this.updateFromInputSelection)),this.selectText.set_showCursor(!0),this.selectText.set_allowSelectingFromPointer(!0),this.inputActive=!0,null!=this.domInput&&this.domInput.focus(),ke.app.textInput.start(t,this.inputRectX,this.inputRectY,this.inputRectW,this.inputRectH,this.multiline,e,n,!0,this))},stopInput:function(){this.inputActive=!1,ke.app.textInput.offUpdate($bind(this,this.updateFromTextInput)),ke.app.textInput.offStop($bind(this,this.handleStop)),ke.app.textInput.offEnter($bind(this,this.handleEnter)),ke.app.textInput.offEscape($bind(this,this.handleEscape)),ke.app.textInput.offSelection($bind(this,this.updateFromInputSelection)),M0._activeEditTextInput==this&&(ke.app.textInput.stop(),M0._activeEditTextInput=null),this.selectText.set_showCursor(!1),this.selectText.set_allowSelectingFromPointer(!1),this.selectText.set_selectionStart(-1),this.selectText.set_selectionEnd(-1),this.emitStop()},updateText:function(e){this.inputActive&&(null!=this.domInput&&(this.domInput.value=e),ke.app.textInput.set_text(e),this.entity.set_content(e),this.updateFromInputSelection(ke.app.textInput.selectionStart,ke.app.textInput.selectionEnd))},focus:function(){var e=this;this.disabled||(ke.app.screen.set_focusedVisual(this.entity),this.inputActive)||ke.app._onceImmediate(function(){e._lifecycleState<0||e.disabled||e.startInput(0,e.entity.content.length)})},handleStop:function(){this.stopInput()},handleEnter:function(){this.multiline||(this.emitSubmit(),this.stopInput())},handleEscape:function(){this.stopInput()},updateFromTextInput:function(e){var n=this;this.entity.set_content(e),null!=this.domInput?(this.domInput.value=e,this.domInputBlockHtmlInputEvent=!0,ke.app.offXUpdates($bind(this,this.unBlockHtmlInputEvent)),ke.app.onceXUpdates(this,2,$bind(this,this.unBlockHtmlInputEvent))):(this.domInputBlockSelection=!0,ke.app._oncePostFlushImmediateWithOwner(this,function(){n.domInputBlockSelection=!1},!0)),this.emitUpdate(e)},updateFromSelection:function(e,n,t){ke.app.textInput.updateSelection(e,n,t),this.domInputBlockSelection||null==this.domInput||(this.domInput.selectionStart=e,this.domInput.selectionEnd=n),this.domInputBlockSelection=!1},updateFromInputSelection:function(e,n){this.selectText.set_selectionStart(e),this.selectText.set_selectionEnd(n),this.domInputBlockSelection||null==this.domInput||(this.domInput.selectionStart=e,this.domInput.selectionEnd=n),this.domInputBlockSelection=!1},textInputClosestPositionInLine:function(e,n,t){n=this.entity.indexForPosInLine(n,e),e=this.entity.xPositionAtIndex(n);return this.entity.posInLineForX(t,e)},textInputNumberOfLines:function(){var e=this.entity.glyphQuads;return 0==e.length?1:e[e.length-1].line+1},textInputIndexForPosInLine:function(e,n){return this.entity.indexForPosInLine(e,n)},textInputLineForIndex:function(e){return this.entity.lineForIndex(e)},textInputPosInLineForIndex:function(e){return this.entity.posInLineForIndex(e)},bindPointerEvents:function(){null!=this.boundContainer?(this.boundContainer.offPointerDown($bind(this,this.handlePointerDown)),this.boundContainer=null):this.entity.offPointerDown($bind(this,this.handlePointerDown)),null!=this.container?(this.container.onPointerDown(this,$bind(this,this.handlePointerDown)),this.boundContainer=this.container):this.entity.onPointerDown(this,$bind(this,this.handlePointerDown))},handlePointerDown:function(e){this.focus()},handleAppUpdate:function(e){!this.inputActive||ke.app.screen.get_focusedVisual()==this.entity||null!=this.container&&ke.app.screen.get_focusedVisual()==this.container||this.stopInput()},bindKeyBindings:function(){var i=this,n=new mt;n.bind([vt.CMD_OR_CTRL,vt.KEY(120)],function(){var e;ke.app.screen.get_focusedVisual()!=i.entity||i.selectText.get_selectionEnd()-i.selectText.get_selectionStart()<=0||(e=i.entity.content.substring(i.selectText.get_selectionStart(),i.selectText.get_selectionEnd()),ke.app.backend.clipboard.setText(e),e=i.entity.content.substring(0,i.selectText.get_selectionStart())+i.entity.content.substring(i.selectText.get_selectionEnd()),i.selectText.set_selectionEnd(i.selectText.get_selectionStart()),i.entity.set_content(e),i.emitUpdate(e))}),n.bind([vt.CMD_OR_CTRL,vt.KEY(118)],function(){var e,n,t;ke.app.screen.get_focusedVisual()==i.entity&&(null==(e=ke.app.backend.clipboard.getText())&&(e=""),i.multiline||(e=z.replace(e,"\n"," ")),z.replace(e,"\r",""),n=i.entity.content.substring(0,i.selectText.get_selectionStart())+e+i.entity.content.substring(i.selectText.get_selectionEnd()),(t=i.selectText).set_selectionStart(t.get_selectionStart()+e.length),i.selectText.set_selectionEnd(i.selectText.get_selectionStart()),i.entity.set_content(n),i.emitUpdate(n))}),this.onDestroy(n,function(e){n.destroy(),n=null}),this.entity.component("editText.keyBindings",n)},computeInputRect:function(){var e=this.entity,n=((e=null!=this.container?this.container:e).visualToScreen(0,0,M0._point),M0._point.x),t=M0._point.y,e=(e.visualToScreen(e.get_width(),e.get_height(),M0._point),M0._point.x),i=M0._point.y;this.inputRectX=n,this.inputRectY=t,this.inputRectW=e-n,this.inputRectH=i-t},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.inputActive&&this.stopInput(),null!=this.domInput&&(this.domInput.parentNode.removeChild(this.domInput),this.domInput=null),this._lifecycleState=-1,j.prototype.destroy.call(this))},domInput:null,domInputBlockSelection:null,domInputBlockHtmlInputEvent:null,unBlockHtmlInputEvent:function(){this.domInputBlockHtmlInputEvent=!1},handleMobileWebIfNeeded:function(){var n=this;this.computeInputRect(),null!=qe.navigator&&qe.navigator.userAgent,window.MSStream;(Ai.isIos()||Ai.isAndroid())&&(this.domInput=window.document.createElement("input"),this.domInput.type="text",this.domInput.className="edit-text",this.domInput.style.display="block",this.domInput.style.position="absolute",this.domInput.style.left="-1px",this.domInput.style.top="-1px",this.domInput.style.width="1px",this.domInput.style.height="1px",this.domInput.style.overflow="hidden",this.domInput.style.margin="0",this.domInput.style.padding="0",this.domInput.style.border="none",this.domInput.style.borderRadius="0",this.domInput.style.outline="none",this.domInput.style.userSelect="none",this.domInput.style.zIndex="99999",this.domInput.style.opacity="0",this.domInput.style.backgroundColor="transparent",this.domInput.style.webkitTapHighlightColor="transparent",this.domInput.addEventListener("click",function(){n.inputActive||n.startInput()}),this.domInput.addEventListener("input",function(e){return n.inputActive&&(n.domInputBlockHtmlInputEvent?(n.domInput.value=n.entity.content,n.domInput.selectionStart=n.selectText.get_selectionStart(),n.domInput.selectionEnd=n.selectText.get_selectionEnd()):(e=e.target.value,n.entity.set_content(e),ke.app.textInput.set_text(e),n.selectText.set_selectionStart(n.domInput.selectionStart),n.selectText.set_selectionEnd(n.domInput.selectionEnd),n.emitUpdate(e))),n.domInputBlockHtmlInputEvent=!1}),window.document.getElementById("ceramic-app").appendChild(this.domInput),ke.app.onBeginDraw(this,$bind(this,this.updateDomInputState))),this.updateDomInputState()},updateDomInputState:function(){var e,n,t,i;null==this.domInput||(this.computeInputRect(),i=ke.app.screen.matrix,e=(this.inputRectX*i.a+this.inputRectY*i.c+i.tx)/Z.app.screenDensity,n=(this.inputRectX*i.b+this.inputRectY*i.d+i.ty)/Z.app.screenDensity,t=((this.inputRectX+this.inputRectW)*i.a+(this.inputRectY+this.inputRectH)*i.c+i.tx)/Z.app.screenDensity-e,i=((this.inputRectX+this.inputRectW)*i.b+(this.inputRectY+this.inputRectH)*i.d+i.ty)/Z.app.screenDensity-n,this.inputActive?this.domInput.style.left=e-99999+"px":this.domInput.style.left=e+"px",this.domInput.style.top=n+"px",this.domInput.style.width=t+"px",this.domInput.style.height=i+"px",this.domInput.style.zIndex=100+Math.round(1e4*this.entity.computedDepth)+"px",this.inputActive)||window.document.activeElement!=this.domInput||this.domInput.blur()},setEntity:function(e){e instanceof hi?this.entity=e:this.entity=null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offUpdate(),this.offStart(),this.offSubmit(),this.offStop()},__class__:M0,__properties__:$extend(j.prototype.__properties__,{set_container:"set_container",set_disabled:"set_disabled",set_textCursorWidth:"set_textCursorWidth",set_textCursorHeightFactor:"set_textCursorHeightFactor",set_textCursorOffsetY:"set_textCursorOffsetY",set_textCursorOffsetX:"set_textCursorOffsetX",set_textCursorColor:"set_textCursorColor",set_selectionColor:"set_selectionColor",get_editing:"get_editing"})}),(E["ceramic.Equal"]=N0).__name__="ceramic.Equal",N0.equal=function(e,n){return e==n||(e instanceof Array?n instanceof Array&&N0._arrayEqual(e,n):e instanceof te?n instanceof te&&N0.stringMapEqual(e,n):e instanceof $l?n instanceof $l&&N0.intMapEqual(e,n):!(!L.isObject(e)||null!=ws.getClass(e)||!L.isObject(n)||null!=ws.getClass(n))&&N0.objectFieldsEqual(e,n))},N0.objectFieldsEqual=function(e,n){for(var t=0,i=L.fields(e);t<i.length;){var l=i[t];if(++t,!Object.prototype.hasOwnProperty.call(n,l)||!N0.equal(L.field(e,l),L.field(n,l)))return!1}for(t=0,i=L.fields(n);t<i.length;){l=i[t];if(++t,!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0},N0._arrayEqual=function(e,n){var t=e.length;if(t!=n.length)return!1;for(var i=0,l=t;i<l;){var s=i++;if(e[s]!=n[s])return!1}return!0},N0.stringMapEqual=function(e,n){for(var t=e.h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var h=o=l[r++],a=i[o];if(!Object.prototype.hasOwnProperty.call(n.h,h))return!1;if(n.h[h]!=a)return!1}for(i=t=n.h,s=(l=Object.keys(t)).length,r=0;r<s;){var o=l[r++];if(!Object.prototype.hasOwnProperty.call(e.h,o))return!1}return!0},N0.intMapEqual=function(e,n){for(var t=e,i=e.keys();i.hasNext();){var l=r=i.next(),s=t.get(r);if(!n.h.hasOwnProperty(l))return!1;if(n.h[l]!=s)return!1}for(var r=n.keys();r.hasNext();){l=r.next();if(!e.h.hasOwnProperty(l))return!1}return!0},function(){}),zn=((E["ceramic.Errors"]=Wn).__name__="ceramic.Errors",Wn.handleUncaughtError=function(e){for(var n=ke.app,n=(null!=n.__cbOnCriticalError&&0<n.__cbOnCriticalError.length||null!=n.__cbOnceCriticalError&&n.__cbOnceCriticalError.length,Nl.exceptionStack()),t=[].concat(n),i=(t.reverse(),ke.app.emitCriticalError(e,t),0);i<t.length;){var l=t[i];++i,console.log(""+ot.string(Ai.stackItemToString(l)))}console.log(""+ot.string("[error] "+ot.string(e)))},function(){}),Yn=((E["ceramic.Extensions"]=zn).__name__="ceramic.Extensions",zn.unsafeGet=function(e,n){return e[n]},zn.unsafeSet=function(e,n,t){e[n]=t},zn.setArrayLength=function(e,n){if(e.length!=n)if(e.length>n)e.splice(n,e.length-n);else for(var t=e;t.length<n;)t.push(null)},zn.randomElement=function(e){return e[Math.floor(.99999*Math.random()*e.length)]},zn.randomElementExcept=function(e,n,t){if(t=null==t?!1:t){for(var i=null;(i=e[Math.floor(.99999*Math.random()*e.length)])==n;);return i}for(var l=[],s=0;s<e.length;){var r=e[s];++s,l.push(r)}zn.shuffle(l);for(s=0;s<l.length;){r=l[s];if(++s,r!=n)return r}return null},zn.randomElementMatchingValidator=function(e,n){for(var t=[],i=0;i<e.length;){var l=e[i];++i,t.push(l)}zn.shuffle(t);for(i=0;i<t.length;){l=t[i];if(++i,n(l))return l}return null},zn.shuffle=function(e){if(null!=e)for(var n=0,t=e.length;n<t;){var i=n++,l=Math.floor((e.length-1+1)*Math.random()),s=e[i],r=e[l];e[i]=r,e[l]=s}},zn.swapElements=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},zn.removeNullElements=function(e){for(var n=0,t=0,i=e.length;n<i;){do{}while(null==e[n]&&(++t,++n<i));0!=t&&n<i&&(e[n-t]=e[n]),++n}var l=i-t;if(e.length!=l)if(e.length>l)e.splice(l,e.length-l);else for(var s=e;s.length<l;)s.push(null)},zn.setProperty=function(e,n,t){L.setProperty(e,n,t)},zn.getProperty=function(e,n){return L.getProperty(e,n)},function(){}),Gn=((E["ceramic.FieldInfo"]=Yn).__name__="ceramic.FieldInfo",Yn.types=function(e,n){null==n&&(n=!0);var t=Yn.fieldInfoMap.h[e];if(null==t){t=new te,Yn.fieldInfoMap.h[e]=t;for(var i=E[e];null!=i;){var l=L.field(i,"_fieldInfo");if(null!=l)for(var s=l,r=L.fields(l),h=0;h<r.length;){var a=r[h++],o=a,a=s[a];Object.prototype.hasOwnProperty.call(t.h,o)||(t.h[o]=a.type)}if(!n)break;i=i.__super__}}return t},Yn.typeOf=function(e,n){return Yn.types(e).h[n]},function(){}),Xn=((E["ceramic.FieldMeta"]=Gn).__name__="ceramic.FieldMeta",Gn._hasMeta=function(e,n,t,i,l){e=Gn._getMeta(e,n,t,l);return null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)},Gn._getMeta=function(e,n,t,i){var l=null,s=i?Gn.metaMapRecursive:Gn.metaMap;if(Object.prototype.hasOwnProperty.call(s.h,n))l=s.h[n];else{for(l=new te;null!=e;){var r=us.getFields(e);if(null!=r)for(var h=0,a=L.fields(r);h<a.length;){var o=a[h],c=(++h,l.h[o]),u=(null==c&&(c=new te,l.h[o]=c),L.field(r,o));if(null!=u)for(var _=0,d=L.fields(u);_<d.length;){var b=d[_];++_,Object.prototype.hasOwnProperty.call(c.h,b)||(c.h[b]=L.field(u,b))}}if(!i)break;e=e.__super__}s.h[n]=l}return Object.prototype.hasOwnProperty.call(l.h,t)?l.h[t]:null},function(){}),Kn=((E["ceramic.Files"]=Xn).__name__="ceramic.Files",Xn.haveSameContent=function(e,n){return ke.app.logger.warning("haveSameContent() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:64,className:"ceramic.Files",methodName:"haveSameContent"}),!1},Xn.haveSameLastModified=function(e,n){return ke.app.logger.warning("haveSameLastModified() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:111,className:"ceramic.Files",methodName:"haveSameLastModified"}),!1},Xn.setToSameLastModified=function(e,n){ke.app.logger.warning("setToSameLastModified() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:143,className:"ceramic.Files",methodName:"setToSameLastModified"})},Xn.getFlatDirectory=function(e,n,t,i){return null==i&&(i=!0),null==t&&(t=!1),null==n&&(n=!0),[]},Xn.getLastModified=function(e){return-1},Xn.removeEmptyDirectories=function(e,n){null==n&&(n=!0),ke.app.logger.warning("removeEmptyDirectories() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:302,className:"ceramic.Files",methodName:"removeEmptyDirectories"})},Xn.isEmptyDirectory=function(e,n){return null==n&&(n=!0),ke.app.logger.warning("isEmptyDirectory() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:330,className:"ceramic.Files",methodName:"isEmptyDirectory"}),!1},Xn.deleteRecursive=function(e){ke.app.logger.warning("deleteRecursive() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:382,className:"ceramic.Files",methodName:"deleteRecursive"})},Xn.getRelativePath=function(e,n){for(var t=he.substr(Dt.normalize(n),1,null).split("/"),i=he.substr(Dt.normalize(e),1,null).split("/"),n=Math.min(t.length,i.length),l=n,s=0,r=n;s<r;)if(t[a=s++]!=i[a]){l=a;break}for(var h=[],s=l,r=t.length;s<r;){var a=s++;h.push("..")}n=(h=h.concat(i.slice(l))).join("/");return z.endsWith(e,"/")&&!z.endsWith(n,"/")&&(n+="/"),n=z.startsWith(n,".")?n:"./"+n},Xn.copyFileWithIntermediateDirs=function(e,n){ke.app.logger.warning("copyFileWithIntermediateDirs() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:460,className:"ceramic.Files",methodName:"copyFileWithIntermediateDirs"})},Xn.copyDirectory=function(e,n,t){null==t&&(t=!1),ke.app.logger.warning("copyDirectory() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:501,className:"ceramic.Files",methodName:"copyDirectory"})},Xn.deleteFile=function(e){ke.app.logger.warning("deleteFile() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:533,className:"ceramic.Files",methodName:"deleteFile"})},Xn.getContent=function(e){return ke.app.logger.warning("getContent() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:565,className:"ceramic.Files",methodName:"getContent"}),null},Xn.getBytes=function(e){return ke.app.logger.warning("getBytes() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:599,className:"ceramic.Files",methodName:"getBytes"}),null},Xn.saveContent=function(e,n){ke.app.logger.warning("saveContent() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:631,className:"ceramic.Files",methodName:"saveContent"})},Xn.saveBytes=function(e,n){ke.app.logger.warning("saveBytes() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:663,className:"ceramic.Files",methodName:"saveBytes"})},Xn.createDirectory=function(e){ke.app.logger.warning("createDirectory() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:696,className:"ceramic.Files",methodName:"createDirectory"})},Xn.exists=function(e){return ke.app.logger.warning("exists() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:754,className:"ceramic.Files",methodName:"exists"}),!1},Xn.isDirectory=function(e){return ke.app.logger.warning("isDirectory() is not supported on this target",{fileName:"../../../../ceramic/runtime/src/ceramic/Files.hx",lineNumber:793,className:"ceramic.Files",methodName:"isDirectory"}),!1},function(){this.explicitRenderPendingResultCallbacks=null,this.explicitRenderState=0,this.neverEmpty=!1,this.density=-1,this.unobservedRenderTexture=null,this.renderTextureAutoruns=null,this.textureTile=null,this.textureTilePacker=null,this.explicitRender=!1,this.autoRender=!0,this.antialiasing=0,this.stencil=!0,this.depthBuffer=!0,this.textureFilter=fi.LINEAR,this.enabled=!0,this.hitVisual=null,this.destroyMeshOnRemove=!0,this.neverEmptyQuad=null,this.meshDirty=!1,this.mesh=null,this.textureId=null,this.observedDirty=!1,s.call(this),this.flags&=-17,this.content=new r,this.content.flags|=16,this.content.color=16777215,this.add(this.content),this.set_hitVisual(this),ke.app.screen.onTexturesDensityChange(this,$bind(this,this.handleTexturesDensityChange))}),qn=((E["ceramic.Filter"]=Kn).__name__="ceramic.Filter",Kn.__interfaces__=[u],Kn.__super__=s,Kn.prototype=$extend(s.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,textureId:null,set_textureId:function(e){return this.textureId=e,null!=this.get_renderTexture()&&(this.get_renderTexture().id=e),e},mesh:null,set_mesh:function(e){var n;return this.mesh!=e&&(null!=this.mesh&&(this.destroyMeshOnRemove?(n=this.mesh,this.mesh=null,n.destroy()):this.remove(this.mesh)),this.mesh=e,null!=this.mesh&&this.add(this.mesh),this.meshDirty=!0,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},meshDirty:null,neverEmptyQuad:null,destroyMeshOnRemove:null,content:null,hitVisual:null,set_hitVisual:function(e){return this.hitVisual!=e&&(null!=this.hitVisual&&ke.app.screen.removeHitVisual(this.hitVisual),this.hitVisual=e,null!=this.hitVisual)&&ke.app.screen.addHitVisual(this.hitVisual),e},enabled:null,set_enabled:function(e){return this.enabled!=e&&(this.enabled=e,this.flags=!e?16|this.flags:-17&this.flags,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},textureFilter:null,set_textureFilter:function(e){return this.textureFilter!=e&&(this.textureFilter=e,null!=this.get_renderTexture())&&this.get_renderTexture().set_filter(e),e},depthBuffer:null,set_depthBuffer:function(e){return this.depthBuffer!=e&&(this.depthBuffer=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},stencil:null,set_stencil:function(e){return this.stencil!=e&&(this.stencil=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},antialiasing:null,set_antialiasing:function(e){return this.antialiasing!=e&&(this.antialiasing=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},autoRender:null,set_autoRender:function(e){return this.autoRender!=e&&(this.autoRender=e,null!=this.get_renderTexture())&&(this.get_renderTexture().autoRender=e),e},explicitRender:null,set_explicitRender:function(e){return this.explicitRender!=e&&(this.explicitRender=e,this.content.set_active(!e)),e},textureTilePacker:null,set_textureTilePacker:function(e){return this.textureTilePacker!=e&&(null!=this.textureTile&&null!=this.textureTilePacker&&(this.textureTilePacker.releaseTile(this.textureTile),this.textureTile=null,this.set_tile(null),this.set_tile(null),this.content.set_renderTarget(null)),this.textureTilePacker=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},textureTile:null,renderTextureAutoruns:null,get_renderTexture:function(){var e,n,t=this.unobservedRenderTexture;return null!=w.current&&(e=w.current,null!=(n=this.renderTextureAutoruns)||(n=w.getAutorunArray(),null!=(this.renderTextureAutoruns=n)))&&e.bindToAutorunArray(n),t},set_renderTexture:function(e){var n=this.unobservedRenderTexture;return n!=(this.unobservedRenderTexture=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitRenderTextureChange(e,n),null!=(n=this.renderTextureAutoruns))&&(this.renderTextureAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateRenderTexture:function(){var e=this.unobservedRenderTexture,e=(this.emitRenderTextureChange(e,e),this.renderTextureAutoruns);null!=e&&(this.renderTextureAutoruns=null,w.invalidateAutorunArray(e))},unobservedRenderTexture:null,__cbOnRenderTextureChange:null,__cbOnceRenderTextureChange:null,__cbOnOwnerUnbindRenderTextureChange:null,__cbOnceOwnerUnbindRenderTextureChange:null,emitRenderTextureChange:function(e,n){var t=0;if(null!=this.__cbOnRenderTextureChange&&(t+=this.__cbOnRenderTextureChange.length),null!=this.__cbOnceRenderTextureChange&&(t+=this.__cbOnceRenderTextureChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnRenderTextureChange)for(var r=0,h=this.__cbOnRenderTextureChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnRenderTextureChange[a],++s):--t}if(null!=this.__cbOnceRenderTextureChange){for(var o=null,c=null,r=0,h=this.__cbOnceRenderTextureChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceRenderTextureChange[a],this.__cbOnceRenderTextureChange[a]=null,u=this.__cbOnceOwnerUnbindRenderTextureChange[a],(this.__cbOnceOwnerUnbindRenderTextureChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindRenderTextureChange[a]),c.push(this.__cbOnceRenderTextureChange[a]))}this.__cbOnceOwnerUnbindRenderTextureChange=o,this.__cbOnceRenderTextureChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onRenderTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event renderTextureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offRenderTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindRenderTextureChange&&(this.__cbOnOwnerUnbindRenderTextureChange=[]),this.__cbOnOwnerUnbindRenderTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindRenderTextureChange&&(this.__cbOnOwnerUnbindRenderTextureChange=[]),this.__cbOnOwnerUnbindRenderTextureChange.push(null);null==this.__cbOnRenderTextureChange&&(this.__cbOnRenderTextureChange=[]),this.__cbOnRenderTextureChange.push(t)},onceRenderTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event renderTextureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offRenderTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindRenderTextureChange&&(this.__cbOnceOwnerUnbindRenderTextureChange=[]),this.__cbOnceOwnerUnbindRenderTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindRenderTextureChange&&(this.__cbOnceOwnerUnbindRenderTextureChange=[]),this.__cbOnceOwnerUnbindRenderTextureChange.push(null);null==this.__cbOnceRenderTextureChange&&(this.__cbOnceRenderTextureChange=[]),this.__cbOnceRenderTextureChange.push(t)},offRenderTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnRenderTextureChange&&-1!=(n=this.__cbOnRenderTextureChange.indexOf(e))&&(this.__cbOnRenderTextureChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindRenderTextureChange[n])&&s(),this.__cbOnOwnerUnbindRenderTextureChange.splice(n,1)),null!=this.__cbOnceRenderTextureChange&&-1!=(n=this.__cbOnceRenderTextureChange.indexOf(e))&&(this.__cbOnceRenderTextureChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindRenderTextureChange[n])&&s(),this.__cbOnceOwnerUnbindRenderTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindRenderTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindRenderTextureChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindRenderTextureChange[l])&&s()}this.__cbOnOwnerUnbindRenderTextureChange=null}if(null!=this.__cbOnceOwnerUnbindRenderTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindRenderTextureChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindRenderTextureChange[l])&&s()}this.__cbOnceOwnerUnbindRenderTextureChange=null}this.__cbOnRenderTextureChange=null,this.__cbOnceRenderTextureChange=null}},listensRenderTextureChange:function(){return null!=this.__cbOnRenderTextureChange&&0<this.__cbOnRenderTextureChange.length||null!=this.__cbOnceRenderTextureChange&&0<this.__cbOnceRenderTextureChange.length},density:null,set_density:function(e){return this.density!=e&&(this.density=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},neverEmpty:null,set_neverEmpty:function(e){var n;return this.neverEmpty!=e&&((this.neverEmpty=e)?null==this.neverEmptyQuad&&(this.neverEmptyQuad=new r,(n=this.neverEmptyQuad).set_width(1),n.set_height(1),(n=this.neverEmptyQuad).set_x(-999999999),n.set_y(-999999999),this.content.add(this.neverEmptyQuad)):null!=this.neverEmptyQuad&&(this.neverEmptyQuad.destroy(),this.neverEmptyQuad=null)),e},explicitRenderState:null,explicitRenderPendingResultCallbacks:null,handleTexturesDensityChange:function(e,n){e!=n&&-1==this.density&&(this.updateRenderTextureAndContent(Math.ceil(this.get_width()),Math.ceil(this.get_height()),e,this.depthBuffer,this.stencil,this.antialiasing),this.contentDirty=!1)},updateRenderTextureAndContent:function(e,n,t,i,l,s){var r=null!=this.mesh?this.mesh.texture:this._texture,h=(this.enabled?(this.meshDirty||null==this.get_renderTexture()||(null==this.textureTilePacker||!this.textureTilePacker.managesTexture(this.get_renderTexture()))&&(this.get_renderTexture().width!=e||this.get_renderTexture().height!=n||-1!=t&&this.get_renderTexture().density!=t||this.get_renderTexture().depth!=i||this.get_renderTexture().stencil!=l||this.get_renderTexture().antialiasing!=s)||null!=this.textureTilePacker&&!this.textureTilePacker.managesTexture(this.get_renderTexture())||null!=this.textureTile&&(this.textureTile.frameWidth!=e||this.textureTile.frameHeight!=n))&&(null==this.get_renderTexture()||null!=this.textureTilePacker&&this.textureTilePacker.managesTexture(this.get_renderTexture())||(r=null,this.get_renderTexture().destroy(),this.set_renderTexture(null)),null!=this.textureTile&&null!=this.textureTilePacker&&(this.textureTilePacker.releaseTile(this.textureTile),this.textureTile=null),0<e)&&0<n&&(null!=this.textureTilePacker?(this.set_renderTexture(this.textureTilePacker.texture),this.textureTile=this.textureTilePacker.allocTile(e,n),this.set_tile(this.textureTile)):(this.set_renderTexture(new kt(e,n,t,i,l,s)),this.get_renderTexture().id=this.textureId,this.get_renderTexture().set_filter(this.textureFilter),this.get_renderTexture().autoRender=this.autoRender,this.set_tile(null),r=this.get_renderTexture())):null==this.get_renderTexture()||null!=this.textureTilePacker&&this.textureTilePacker.managesTexture(this.get_renderTexture())||(this.set_tile(null),r=null,this.get_renderTexture().destroy(),this.set_renderTexture(null)),null!=this.mesh?((h=this.mesh).texture!=r&&(null!=h.texture&&(h.texture.offDestroy($bind(h,h.textureDestroyed)),null!=h.texture.asset)&&h.texture.asset.release(),h.texture=r,null!=h.texture)&&(h.texture.onDestroy(h,$bind(h,h.textureDestroyed)),null!=h.texture.asset)&&h.texture.asset.retain(),null!=this._texture&&this._set_texture(null)):this._texture!=r&&this._set_texture(r),this.meshDirty=!1,this.content);h.set_width(e),h.set_height(n),this.content.set_renderTarget(this.get_renderTexture()),null!=this.textureTile?(h=this.content,t=this.textureTile.frameY,h.set_x(this.textureTile.frameX),h.set_y(t)):((h=this.content).set_x(0),h.set_y(0)),this.content.contentDirty&&this.content.computeContent()},render:function(r){var h=this;if(this.explicitRender)if(1==this.explicitRenderState)null!=r&&(null==this.explicitRenderPendingResultCallbacks&&(this.explicitRenderPendingResultCallbacks=[]),this.explicitRenderPendingResultCallbacks.push(r),r=null);else if(2==this.explicitRenderState)null!=r&&(null==this.explicitRenderPendingResultCallbacks&&(this.explicitRenderPendingResultCallbacks=[]),this.explicitRenderPendingResultCallbacks.push(function(){h.render(r),r=null}));else if(this.explicitRenderState=1,this.contentDirty&&this.computeContent(),null==this.get_renderTexture()){this.explicitRenderState=0;var e=this.explicitRenderPendingResultCallbacks;if((this.explicitRenderPendingResultCallbacks=null)!=r&&(r(),r=null),null!=e)for(var n=0,t=e.length;n<t;){var i=n++,l=e[i];e[i]=null,l(),l=null}}else this.content.set_active(!0),ke.app.onceUpdate(null,function(e){if(h._lifecycleState<0)r=null;else if(h.explicitRenderState=2,h.contentDirty&&h.computeContent(),null==h.get_renderTexture()){h.content.set_active(!1),h.explicitRenderState=0;var n=h.explicitRenderPendingResultCallbacks;if((h.explicitRenderPendingResultCallbacks=null)!=r&&(r(),r=null),null!=n)for(var t=0,i=n.length;t<i;){var l=t++,s=n[l];n[l]=null,s(),s=null}}else h.get_renderTexture().renderDirty=!0,ke.app.onceFinishDraw(null,function(){if(h._lifecycleState<0)r=null;else{h.content.set_active(!1),h.explicitRenderState=0;var e=h.explicitRenderPendingResultCallbacks;if((h.explicitRenderPendingResultCallbacks=null)!=r&&(r(),r=null),null!=e)for(var n=0,t=e.length;n<t;){var i=n++,l=e[i];e[i]=null,l(),l=null}}})});else ke.app.logger.warning("Explicit render is disabled on this filter. Ignoring render() call.",{fileName:"../../../../ceramic/runtime/src/ceramic/Filter.hx",lineNumber:479,className:"ceramic.Filter",methodName:"render"})},visualInContentHits:function(e,n,t){var i=Rt.matchedHitVisual;if(Rt.matchedHitVisual=null,this.hitVisual._hits(n,t,!1)){Rt.matchedHitVisual=i,e.matrixDirty&&e.computeMatrix();var l=Kn._matrix,s=(l.a=e.matA,l.b=e.matB,l.c=e.matC,l.d=e.matD,l.tx=e.matTX,l.ty=e.matTY,l.changedDirty=!0,this.hitVisual);do{s.matrixDirty&&s.computeMatrix();var r=Kn._matrix.a*s.matA+Kn._matrix.b*s.matC,h=(Kn._matrix.b=Kn._matrix.a*s.matB+Kn._matrix.b*s.matD,Kn._matrix.a=r,Kn._matrix.c*s.matA+Kn._matrix.d*s.matC),a=(Kn._matrix.d=Kn._matrix.c*s.matB+Kn._matrix.d*s.matD,Kn._matrix.c=h,Kn._matrix.tx*s.matA+Kn._matrix.ty*s.matC+s.matTX);if(Kn._matrix.ty=Kn._matrix.tx*s.matB+Kn._matrix.ty*s.matD+s.matTY,Kn._matrix.tx=a,null!=s.computedRenderTarget){var o=!1,c=s.parent;if(null!=c)do{if(null!=c.asQuad&&c instanceof Kn){var u=c;if(u.get_renderTexture()==s.computedRenderTarget){s=u.hitVisual,o=!0;break}}}while(null!=(c=c.parent));if(!o)return!1}else s=null}while(null!=s);var _=(l=Kn._matrix).a*l.d-l.b*l.c;return 0==_?(l.a=l.b=l.c=l.d=0,l.tx=-l.tx,l.ty=-l.ty):(r=l.d*(_=1/_),l.d=l.a*_,l.a=r,l.b*=-_,l.c*=-_,a=-l.a*l.tx-l.c*l.ty,l.ty=-l.b*l.tx-l.d*l.ty,l.tx=a),l.changedDirty=!0,e.hitTest(n,t,Kn._matrix)}return Rt.matchedHitVisual=i,!1},set_width:function(e){return this.get_width()==e?e:(this.contentDirty=!0,ke.app.visualsContentDirty=!0,s.prototype.set_width.call(this,e))},set_height:function(e){return this.get_height()==e?e:(this.contentDirty=!0,ke.app.visualsContentDirty=!0,s.prototype.set_height.call(this,e))},computeContent:function(){this.updateRenderTextureAndContent(Math.ceil(this.get_width()),Math.ceil(this.get_height()),this.density,this.depthBuffer,this.stencil,this.antialiasing),this.contentDirty=!1},destroy:function(){var e;this._lifecycleState<=-2||(this._lifecycleState=-2,this.set_hitVisual(null),null!=this._texture&&this._set_texture(null),null==this.get_renderTexture()||null!=this.textureTilePacker&&this.textureTilePacker.managesTexture(this.get_renderTexture())||(this.get_renderTexture().destroy(),this.set_renderTexture(null)),this.set_textureTilePacker(null),this.set_renderTexture(null),null!=this.mesh&&(e=this.mesh,this.set_mesh(null),e.destroy()),this.set_neverEmpty(!1),this.explicitRenderPendingResultCallbacks=null,this.content=null,this._lifecycleState=-1,s.prototype.destroy.call(this))},unbindEvents:function(){s.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offRenderTextureChange()},__class__:Kn,__properties__:$extend(s.prototype.__properties__,{set_neverEmpty:"set_neverEmpty",set_density:"set_density",set_renderTexture:"set_renderTexture",get_renderTexture:"get_renderTexture",set_textureTilePacker:"set_textureTilePacker",set_explicitRender:"set_explicitRender",set_autoRender:"set_autoRender",set_antialiasing:"set_antialiasing",set_stencil:"set_stencil",set_depthBuffer:"set_depthBuffer",set_textureFilter:"set_textureFilter",set_enabled:"set_enabled",set_hitVisual:"set_hitVisual",set_mesh:"set_mesh",set_textureId:"set_textureId"})}),function(e,n,t){this.transformedPath=null,this.unobservedFont=null,this.fontAutoruns=null,this.pages=null,this.fontData=null,Ga.call(this,"font",e,n,t),this.set_handleTexturesDensityChange(!0),this.assets=new tn}),$n=((E["ceramic.FontAsset"]=qn).__name__="ceramic.FontAsset",qn.__super__=Ga,qn.prototype=$extend(Ga.prototype,{__cbOnReplaceFont:null,__cbOnceReplaceFont:null,__cbOnOwnerUnbindReplaceFont:null,__cbOnceOwnerUnbindReplaceFont:null,emitReplaceFont:function(e,n){var t=0;if(null!=this.__cbOnReplaceFont&&(t+=this.__cbOnReplaceFont.length),null!=this.__cbOnceReplaceFont&&(t+=this.__cbOnceReplaceFont.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnReplaceFont)for(var r=0,h=this.__cbOnReplaceFont.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnReplaceFont[a],++s):--t}if(null!=this.__cbOnceReplaceFont){for(var o=null,c=null,r=0,h=this.__cbOnceReplaceFont.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceReplaceFont[a],this.__cbOnceReplaceFont[a]=null,u=this.__cbOnceOwnerUnbindReplaceFont[a],(this.__cbOnceOwnerUnbindReplaceFont[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindReplaceFont[a]),c.push(this.__cbOnceReplaceFont[a]))}this.__cbOnceOwnerUnbindReplaceFont=o,this.__cbOnceReplaceFont=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onReplaceFont:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event replaceFont because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceFont(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplaceFont&&(this.__cbOnOwnerUnbindReplaceFont=[]),this.__cbOnOwnerUnbindReplaceFont.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplaceFont&&(this.__cbOnOwnerUnbindReplaceFont=[]),this.__cbOnOwnerUnbindReplaceFont.push(null);null==this.__cbOnReplaceFont&&(this.__cbOnReplaceFont=[]),this.__cbOnReplaceFont.push(t)},onceReplaceFont:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event replaceFont because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceFont(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplaceFont&&(this.__cbOnceOwnerUnbindReplaceFont=[]),this.__cbOnceOwnerUnbindReplaceFont.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplaceFont&&(this.__cbOnceOwnerUnbindReplaceFont=[]),this.__cbOnceOwnerUnbindReplaceFont.push(null);null==this.__cbOnceReplaceFont&&(this.__cbOnceReplaceFont=[]),this.__cbOnceReplaceFont.push(t)},offReplaceFont:function(e){if(null!=e){var n;null!=this.__cbOnReplaceFont&&-1!=(n=this.__cbOnReplaceFont.indexOf(e))&&(this.__cbOnReplaceFont.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplaceFont[n])&&s(),this.__cbOnOwnerUnbindReplaceFont.splice(n,1)),null!=this.__cbOnceReplaceFont&&-1!=(n=this.__cbOnceReplaceFont.indexOf(e))&&(this.__cbOnceReplaceFont.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplaceFont[n])&&s(),this.__cbOnceOwnerUnbindReplaceFont.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceFont){for(var t=0,i=this.__cbOnOwnerUnbindReplaceFont.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplaceFont[l])&&s()}this.__cbOnOwnerUnbindReplaceFont=null}if(null!=this.__cbOnceOwnerUnbindReplaceFont){for(t=0,i=this.__cbOnceOwnerUnbindReplaceFont.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReplaceFont[l])&&s()}this.__cbOnceOwnerUnbindReplaceFont=null}this.__cbOnReplaceFont=null,this.__cbOnceReplaceFont=null}},listensReplaceFont:function(){return null!=this.__cbOnReplaceFont&&0<this.__cbOnReplaceFont.length||null!=this.__cbOnceReplaceFont&&0<this.__cbOnceReplaceFont.length},fontData:null,pages:null,fontAutoruns:null,get_font:function(){var e,n,t=this.unobservedFont;return null!=w.current&&(e=w.current,null!=(n=this.fontAutoruns)||(n=w.getAutorunArray(),null!=(this.fontAutoruns=n)))&&e.bindToAutorunArray(n),t},set_font:function(e){var n=this.unobservedFont;return n!=(this.unobservedFont=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFontChange(e,n),null!=(n=this.fontAutoruns))&&(this.fontAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFont:function(){var e=this.unobservedFont,e=(this.emitFontChange(e,e),this.fontAutoruns);null!=e&&(this.fontAutoruns=null,w.invalidateAutorunArray(e))},unobservedFont:null,__cbOnFontChange:null,__cbOnceFontChange:null,__cbOnOwnerUnbindFontChange:null,__cbOnceOwnerUnbindFontChange:null,emitFontChange:function(e,n){var t=0;if(null!=this.__cbOnFontChange&&(t+=this.__cbOnFontChange.length),null!=this.__cbOnceFontChange&&(t+=this.__cbOnceFontChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFontChange)for(var r=0,h=this.__cbOnFontChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFontChange[a],++s):--t}if(null!=this.__cbOnceFontChange){for(var o=null,c=null,r=0,h=this.__cbOnceFontChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFontChange[a],this.__cbOnceFontChange[a]=null,u=this.__cbOnceOwnerUnbindFontChange[a],(this.__cbOnceOwnerUnbindFontChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFontChange[a]),c.push(this.__cbOnceFontChange[a]))}this.__cbOnceOwnerUnbindFontChange=o,this.__cbOnceFontChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event fontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFontChange&&(this.__cbOnOwnerUnbindFontChange=[]),this.__cbOnOwnerUnbindFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFontChange&&(this.__cbOnOwnerUnbindFontChange=[]),this.__cbOnOwnerUnbindFontChange.push(null);null==this.__cbOnFontChange&&(this.__cbOnFontChange=[]),this.__cbOnFontChange.push(t)},onceFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event fontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFontChange&&(this.__cbOnceOwnerUnbindFontChange=[]),this.__cbOnceOwnerUnbindFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFontChange&&(this.__cbOnceOwnerUnbindFontChange=[]),this.__cbOnceOwnerUnbindFontChange.push(null);null==this.__cbOnceFontChange&&(this.__cbOnceFontChange=[]),this.__cbOnceFontChange.push(t)},offFontChange:function(e){if(null!=e){var n;null!=this.__cbOnFontChange&&-1!=(n=this.__cbOnFontChange.indexOf(e))&&(this.__cbOnFontChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFontChange[n])&&s(),this.__cbOnOwnerUnbindFontChange.splice(n,1)),null!=this.__cbOnceFontChange&&-1!=(n=this.__cbOnceFontChange.indexOf(e))&&(this.__cbOnceFontChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFontChange[n])&&s(),this.__cbOnceOwnerUnbindFontChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFontChange){for(var t=0,i=this.__cbOnOwnerUnbindFontChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFontChange[l])&&s()}this.__cbOnOwnerUnbindFontChange=null}if(null!=this.__cbOnceOwnerUnbindFontChange){for(t=0,i=this.__cbOnceOwnerUnbindFontChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFontChange[l])&&s()}this.__cbOnceOwnerUnbindFontChange=null}this.__cbOnFontChange=null,this.__cbOnceFontChange=null}},listensFontChange:function(){return null!=this.__cbOnFontChange&&0<this.__cbOnFontChange.length||null!=this.__cbOnceFontChange&&0<this.__cbOnceFontChange.length},transformedPath:null,load:function(){for(var _,e,d=this,b=(null!=this.owner&&(this.assets.inheritRuntimeAssetsFromAssets(this.owner),this.assets.loadMethod=this.owner.loadMethod,this.assets.scheduleMethod=this.owner.scheduleMethod,this.assets.delayBetweenXAssets=this.owner.delayBetweenXAssets),[]),g=this.assets.iterator();g.hasNext();){var n=g.next();b.push(n)}this.set_status(Cn.LOADING),null==this.path?(ke.app.logger.warning("Cannot load font asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:113,className:"ceramic.FontAsset",methodName:"load"}),this.set_status(Cn.BROKEN),this.emitComplete(!1)):(e=(_=this.path).toLowerCase(),(z.endsWith(e,".ttf")||z.endsWith(e,".otf"))&&(_=_.substring(0,_.length-4)+".fnt"),ke.app.logger.info("Load font "+_,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:128,className:"ceramic.FontAsset",methodName:"load"}),null!=this.transformedPath&&(_=Dt.join([this.transformedPath,_])),this.assets.runtimeAssets=this.runtimeAssets,(g=new oi(this.name)).set_handleTexturesDensityChange(!1),g.set_path(_),this.assets.addAsset(g),this.assets.onceComplete(this,function(e){var n=g.get_text(),o=Dt.directory(_);if(""==o&&(o="."),null!=n)try{for(var t=Dt.withoutExtension(Dt.withoutDirectory(_))+".png",c=(d.fontData=Za.parse(n,t),d.fontData.path=o,new te),u=[],i=0,l=d.fontData.pages;i<l.length;){var s=l[i],r=(++i,s.file),h=(""!=o&&(r=Dt.join([o,r])),tn.decodePath(r)),a=new Zn(h.name);a.set_handleTexturesDensityChange(!1),a.set_path(h.path),d.assets.addAsset(a),u.push(a)}d.assets.onceComplete(d,function(e){if(e){if(d.fontData.needsReparsing&&null!=d.fontData.rawFontData&&0<u.length){e=u[0].get_texture();if(null!=e){var e=Math.round(e.width),n=Dt.withoutExtension(Dt.withoutDirectory(_))+".png";try{d.fontData=Za.parse(d.fontData.rawFontData,n,e),d.fontData.path=o}catch(t){zl.lastError=t;n=ct.caught(t).unwrap();ke.app.logger.error("Failed to re-parse Construct 3 font with image width: "+ot.string(n),{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:195,className:"ceramic.FontAsset",methodName:"load"})}}}for(var t=0;t<u.length;){var i=u[t],l=(++t,i.path),s=i.get_texture();c.h[l]=s}var r=d.get_font(),e=new Ua(d.fontData,c);if(e.id="font:"+d.path,(e.asset=d).set_font(e),null!=r){d.emitReplaceFont(d.get_font(),r),r==ke.app.defaultFont&&(ke.app.defaultFont=d.get_font());for(var t=0,h=[].concat(ke.app.visuals);t<h.length;){var a=h[t];++t,0<=a._lifecycleState&&a instanceof hi&&(a=a).font==r&&a.set_font(d.get_font())}r.asset=null,r.destroy()}for(t=0;t<b.length;){i=b[t];++t,i instanceof Zn&&-1!=u.indexOf(i)||i.destroy()}d.set_status(Cn.READY),d.emitComplete(!0),d.handleTexturesDensityChange&&d.checkTexturesDensity()}else d.set_status(Cn.BROKEN),ke.app.logger.error("Failed to load textures for font at path: "+d.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:267,className:"ceramic.FontAsset",methodName:"load"}),d.emitComplete(!1)}),d.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:273,className:"ceramic.FontAsset",methodName:"load"})}catch(i){zl.lastError=i,d.set_status(Cn.BROKEN),ke.app.logger.error("Failed to decode font data at path: "+d.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:277,className:"ceramic.FontAsset",methodName:"load"}),d.emitComplete(!1)}else d.set_status(Cn.BROKEN),ke.app.logger.error("Failed to load font data at path: "+d.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:283,className:"ceramic.FontAsset",methodName:"load"}),d.emitComplete(!1)}),this.assets.load(null,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:288,className:"ceramic.FontAsset",methodName:"load"}))},texturesDensityDidChange:function(e,n){this.get_status()==Cn.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e;null!=this.owner&&this.owner.reloadOnTextureDensityChange&&(e=this.path,this.computePath(),e!=this.path)&&(ke.app.logger.info("Reload font ("+e+" -> "+this.path+")",{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:316,className:"ceramic.FontAsset",methodName:"checkTexturesDensity"}),this.load())},assetFilesDidChange:function(e,n){var h=this,t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ke.app.logger.info("Reload font (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:341,className:"ceramic.FontAsset",methodName:"assetFilesDidChange"}),e=this.path.toLowerCase(),null!=(null!=(n=this.owner)?n.runtimeAssets:null)&&z.endsWith(e,".ttf")||z.endsWith(e,".otf")?(this.path,this.owner.runtimeAssets.requestTransformedDir(function(r){xt.runCeramic(["assets","--filter",h.path,"--from",h.owner.runtimeAssets.path,"--to",r,"--list-changed"],function(e,n,t){if(0==e){h.transformedPath=r;for(var i=JSON.parse(z.trim(n)),l=0;l<i.length;){var s=i[l];++l,ke.app.logger.debug("Updated on the fly: "+s,{fileName:"../../../../ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:359,className:"ceramic.FontAsset",methodName:"assetFilesDidChange"}),tn.incrementReloadCount(s)}h.load()}})})):this.load())},destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,this._lifecycleState=-1,Ga.prototype.destroy.call(this),null!=this.get_font()&&(this.get_font().destroy(),this.set_font(null)),null!=this.pages)){for(var e=this.pages.h,n=Object.keys(e),t=n.length,i=0;i<t;){var l=n[i++];this.pages.h[l].destroy()}this.pages=null}},unbindEvents:function(){Ga.prototype.unbindEvents.call(this),this.offReplaceFont(),this.offFontChange()},__class__:qn,__properties__:$extend(Ga.prototype.__properties__,{set_font:"set_font",get_font:"get_font"})}),(E["ceramic.Value"]=W0).__name__="ceramic.Value",W0.prototype={value:null,__class__:W0},(E["ceramic.Fragment"]=X0).__name__="ceramic.Fragment",X0.cacheData=function(e){X0.cachedFragmentData.h[e.id]=e},X0.getData=function(e){return X0.cachedFragmentData.h[e]},X0.__super__=s,X0.prototype=$extend(s.prototype,{assets:null,entities:null,items:null,tracks:null,fps:null,fragmentData:null,resizable:null,autoUpdateTimeline:null,set_autoUpdateTimeline:function(e){return this.autoUpdateTimeline!=e&&(this.autoUpdateTimeline=e,null!=this.timeline)&&this.timeline.set_autoUpdate(e),e},pendingLoads:null,timeline:null,ready:null,__cbOnReady:null,__cbOnceReady:null,__cbOnOwnerUnbindReady:null,__cbOnceOwnerUnbindReady:null,emitReady:function(){this.willEmitReady();var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var l=0,s=this.__cbOnReady.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnReady[r],++i):--e}if(null!=this.__cbOnceReady){for(var h=null,a=null,l=0,s=this.__cbOnceReady.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceReady[r],this.__cbOnceReady[r]=null,o=this.__cbOnceOwnerUnbindReady[r],(this.__cbOnceOwnerUnbindReady[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindReady[r]),a.push(this.__cbOnceReady[r]))}this.__cbOnceOwnerUnbindReady=h,this.__cbOnceReady=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(t)},onceReady:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event ready because owner is destroyed!");var l=function(e){null!=t&&(i.offReady(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(t)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReady[n])&&s(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReady[n])&&s(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReady[l])&&s()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReady[l])&&s()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&0<this.__cbOnReady.length||null!=this.__cbOnceReady&&0<this.__cbOnceReady.length},scheduleWhenReady:function(e,n){this.ready?n():this.onceReady(e,n)},willEmitReady:function(){this.ready=!0},set_fragmentData:function(e){var n,t=this,i=(this.pendingLoads++,this.fragmentData=e,Object.create(null));if(null!=e&&(this.set_width(e.width),this.set_height(e.height),null!=e.color?this.color=e.color:this.color=0,null!=e.transparent?(n=e.transparent,this.flags=n?16|this.flags:-17&this.flags):this.flags|=16,null!=e.items))for(var l=0,s=e.items;l<s.length;){var r=s[l];++l,this.putItem(r),i[r.id]=!0}if(null==e||Object.prototype.hasOwnProperty.call(e,"items")){for(var h=null,l=0,s=this.entities;l<s.length;){var a=s[l];++l,Object.prototype.hasOwnProperty.call(i,a.id)||(h=null==h?[]:h).push(a.id)}if(null!=h)for(l=0;l<h.length;){var o=h[l];++l,this.removeItem(o)}}null!=e&&(this.pendingLoads++,ke.app.converters.h["ceramic.ReadOnlyMap<String,ceramic.Component>"].basicToField(this,"components",this.assets,e.components,function(e){t._lifecycleState<0||(t.pendingLoads--,t.onceReady(t,function(){t.set_fragmentComponents(e)}),0==t.pendingLoads&&t.emitReady())})),null!=e&&null!=e.fps&&this.set_fps(e.fps);var c=null;if(null!=e&&null!=e.tracks){for(l=0,s=e.tracks;l<s.length;){var u=s[l];++l,(c=null==c?new te:c).h[u.entity+"#"+u.field]=!0,this.putTrack(null,u)}if(null!=this.timeline&&0<this.timeline.tracks.length)for(l=0,s=[].concat(this.timeline.tracks);l<s.length;){var _,d=s[l];++l,null!=c&&Object.prototype.hasOwnProperty.call(c.h,d.id)||(2==(_=d.id.split("#")).length?this.removeTrack(_[0],_[1]):ke.app.logger.warning("Cannot remove track with unhandled id: "+d.id,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:314,className:"ceramic.Fragment",methodName:"set_fragmentData"}))}}var b=null;if(null!=e&&null!=e.labels){for(var g=e.labels,l=0,s=L.fields(g);l<s.length;){var O=s[l],f=(++l,(b=null==b?new te:b).h[O]=!0,g[O]);this.putLabel(f,O)}if(null!=this.timeline&&null!=this.timeline.labels)for(l=0,s=[].concat(this.timeline.labels);l<s.length;){var p=s[l];++l,null!=b&&Object.prototype.hasOwnProperty.call(b.h,p)||this.timeline.removeLabel(p)}}return this.pendingLoads--,0==this.pendingLoads&&this.emitReady(),e},set_fps:function(e){if(this.fps!=e&&(this.fps=e,null!=this.timeline&&(this.timeline.fps=e),null!=this.tracks))for(var n=0,t=this.tracks;n<t.length;){var i=t[n];++n,this.putTrack(null,i)}return e},putItem:function(e){var n,t=this._get(e.id),i=!1,l=(null!=t?(i=t instanceof q,s=ws.getClass(t),e.entity!=s.__name__&&(this.removeItem(e.id),t=null)):this.items.push(e),e.entity),s=E[l],r=null!=t?t:null,h="ceramic.Fragment"==e.entity;if(null==r&&(n=[],h&&(n.push(this.assets),n.push(!1)),r=B.createInstance(s,n)),null==r)throw ct.thrown("Failed to create instance of "+e.entity);if(r.id=e.id,h&&r.set_depthRange(1),null!=e.props){for(var a=L.fields(e.props),o=(ql.sort(a,function(e,n){return 0}),0);o<a.length;){var c=a[o],u=(++o,this.typeOfItemField(e,c)),_=L.field(e.props,c);if(null!=(m=null!=u?ke.app.converters.h[u]:null))this.putItemField(h,e,r,c,_,m);else{if(!Object.prototype.hasOwnProperty.call(X0.basicTypes.h,u)){var d=en[u];if(null!=d){for(var b=0,g=d.__constructs__,O=new Array(g.length),f=0,p=g.length;f<p;){var C=f++;O[C]=g[C]._hx_name}for(var v=O;b<v.length;){l=v[b];if(++b,l.toLowerCase()==_.toLowerCase()){_=B.createEnum(d,l);break}}}}L.setProperty(r,c,_)}}var m,u=this.typeOfItemField(e,"components"),_=e.components;null!=(m=null!=u?ke.app.converters.h[u]:null)?this.putItemField(h,e,r,"components",_,m):ke.app.logger.warning("No converter found for field: components (type: "+u+")",{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:475,className:"ceramic.Fragment",methodName:"putItem"})}return null==t&&("ceramic.Assets"==this.typeOfItemField(e,"assets")&&L.setProperty(r,"assets",this.assets),this.entities.push(r)),r instanceof q&&!i&&this.add(r),null==t&&this.putTracksForItem(e.id),r},typeOfItemField:function(e,n){return null!=e.schema?L.field(e.schema,n):Yn.typeOf(e.entity,n)},putItemField:function(n,e,a,t,i,l){var s=this;this.pendingLoads++,l.basicToField(a,t,this.assets,i,function(h){var e;s.pendingLoads--,s._lifecycleState<0||(0<=a._lifecycleState&&(n&&"fragmentData"==t?(e=a,s.pendingLoads++,e.onceReady(s,function(){s.pendingLoads--,s._lifecycleState<0||0==s.pendingLoads&&s.emitReady()}),e.set_fragmentData(h)):"components"!=t?L.setProperty(a,t,h):s.onceReady(s,function(){var e;if(null!=h&&null!=(e=h))for(var n=e.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s=t[l++],r=e.h[s];null!=r&&a.component(s,r)}})),0==s.pendingLoads&&s.emitReady())})},_get:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},_getWithType:function(e,n){e=this._get(e);return null!=e?e:null},getItemInstanceByName:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},getItem:function(e){for(var n=0,t=this.items;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},getItemByName:function(e){for(var n=0,t=this.items;n<t.length;){var i=t[n];if(++n,i.name==e)return i}return null},typeOfItem:function(e){var n=this.getItem(e);return null!=n?n.entity:(ke.app.logger.warning("Failed to resolve entity type for item "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:711,className:"ceramic.Fragment",methodName:"typeOfItem"}),null)},removeItem:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e){he.remove(this.entities,i),i.destroy();break}}for(n=0,t=this.items;n<t.length;){var l=t[n];if(++n,l.id==e){he.remove(this.items,l);break}}},removeAllItems:function(){for(var e=0,n=[].concat(this.entities);e<n.length;){var t=n[e];++e,he.remove(this.entities,t),t.destroy()}for(e=0,n=[].concat(this.items);e<n.length;){var i=n[e];++e,he.remove(this.items,i)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,s.prototype.destroy.call(this),null!=this.timeline&&(this.timeline.destroy(),this.timeline=null),this.removeAllItems())},set_components:function(e){if(this._components!=e){if(null!=this._components){l=this._components.h;for(var n=(s=Object.keys(l)).length,t=0;t<n;){var i=s[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||null!=this.fragmentComponents&&Object.prototype.hasOwnProperty.call(this.fragmentComponents.h,i)||this.removeComponent(i)}}if(null!=e){l=e.h;for(var l,s,n=(s=Object.keys(l)).length,t=0;t<n;){var r,i=s[t++],h=e.h[i];null!=this._components&&null!=(r=this._components.h[i])?r!=h&&(this.removeComponent(i),this.component(i,h)):this.component(i,h)}}this._components=e}return e},fragmentComponents:null,set_fragmentComponents:function(e){if(this.fragmentComponents!=e){if(null!=this.fragmentComponents){l=this.fragmentComponents.h;for(var n=(s=Object.keys(l)).length,t=0;t<n;){var i=s[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||this.removeComponent(i)}}if(null!=e){l=e.h;for(var l,s,n=(s=Object.keys(l)).length,t=0;t<n;){var r,i=s[t++],h=e.h[i];null!=this.fragmentComponents&&null!=(r=this.fragmentComponents.h[i])?r!=h&&(this.removeComponent(i),this.component(i,h)):this.component(i,h)}}this.fragmentComponents=e}return e},isManagedComponent:function(){},putTrack:function(e,n){var t=null;if(null==(p=this.getTrack(n.entity,n.field)))null==this.tracks&&(this.tracks=[]),this.tracks.push(n);else{for(var t=new $l,i=0,l=p.keyframes;i<l.length;){var s=l[i];++i,t.h[s.index]=!0}var r=this.tracks.indexOf(p);this.tracks[r]=n}var r=n.entity,h=this._get(r);if(null!=n.keyframes&&0<n.keyframes.length){this.createTimelineIfNeeded();var a=n.field,o=r+"#"+a,c=n.options;if(null==(e=null==e?this.typeOfItem(n.entity):e))ke.app.logger.warning("Cannot update timeline track "+o+": failed to resolve entity type",{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:940,className:"ceramic.Fragment",methodName:"putTrack"});else{var r=Yn.types(e),u=null!=r?r.h[a]:null;if(null==u)ke.app.logger.warning("Cannot update timeline track "+o+": failed to resolve info for "+a+" of entity type "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:947,className:"ceramic.Fragment",methodName:"putTrack"});else{var _=this.timeline.get(o);if(null==_){if(null==h)return void ke.app.logger.warning("Failed to create timeline track "+o+" because there is no entity with id "+n.entity,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:955,className:"ceramic.Fragment",methodName:"putTrack"});if(X0._trackResult.value=null,ke.app.timelines.emitCreateTrack(u,c,X0._trackResult),null==(_=X0._trackResult.value))return void ke.app.logger.warning("Failed to create timeline track "+o+" for "+a+" of entity type "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:963,className:"ceramic.Fragment",methodName:"putTrack"});h.onDestroy(_,function(e){_.destroy()}),_.id=o,ke.app.timelines.emitBindTrack(u,c,_,h,a),this.timeline.add(_)}if(_.loop=n.loop,0<X0._usedKeyframes.length){for(i=0,l=X0._usedKeyframes.length;i<l;){var d=i++;X0._usedKeyframes[d]=null}if(0!=(y=X0._usedKeyframes).length)if(0<y.length)y.splice(0,y.length);else for(var b=y;b.length<0;)b.push(null)}for(var g=-1,O=!0,i=0,l=n.keyframes;i<l.length;){var s=l[i],f=(++i,s.index),p=(f<g&&(O=!1),_.findKeyframeAtIndex(g=f));if(X0._keyframeResult.value=null,ke.app.timelines.emitCreateKeyframe(u,c,s.value,f,K0.easingFromString(s.easing),p,X0._keyframeResult),null==(w=X0._keyframeResult.value))return void ke.app.logger.warning("Failed to create or update keyframe #"+ot.string($bind(this,this.frame))+" of track "+o+" for field "+a+" of entity type "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1020,className:"ceramic.Fragment",methodName:"putTrack"});X0._usedKeyframes.push(w),null!=p?p!=w&&(_.remove(p),_.add(w)):_.add(w)}var C=null,v=_.keyframes;if(O)for(var m=0,i=0,l=v.length;i<l;){var w=v[d=i++];X0._usedKeyframes[m]==w?++m:(C=null==C?[]:C).push(w)}else{ke.app.logger.warning("Input keyframe array should be sorted by time in ascending order!",{fileName:"../../../../ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:1050,className:"ceramic.Fragment",methodName:"putTrack"});for(i=0,l=v.length;i<l;){w=v[d=i++];-1==X0._usedKeyframes.indexOf(w)&&(C=null==C?[]:C).push(w)}}if(null!=C){for(i=0;i<C.length;){w=C[i];++i,_.remove(w)}C=null}if(0<X0._usedKeyframes.length){for(var y,i=0,l=X0._usedKeyframes.length;i<l;){d=i++;X0._usedKeyframes[d]=null}if(0!=(y=X0._usedKeyframes).length)if(0<y.length)y.splice(0,y.length);else for(b=y;b.length<0;)b.push(null)}_.apply()}}}},putTracksForItem:function(e){if(null!=this.tracks)for(var n=0,t=this.tracks.length;n<t;){var i=n++,i=this.tracks[i];i.entity==e&&this.putTrack(null,i)}},getTrack:function(e,n){if(null!=this.tracks)for(var t=0,i=this.tracks;t<i.length;){var l=i[t];if(++t,l.entity==e&&l.field==n)return l}return null},removeTrack:function(e,n){if(null!=this.tracks){for(var t,i=-1,l=0,s=this.tracks.length;l<s;){var r=l++,h=this.tracks[r];if(h.entity==e&&h.field==n){i=r;break}}-1!=i&&(this.tracks.splice(i,1),null!=this.timeline)&&null!=(t=this.timeline.get(e+"#"+n))&&(this.timeline.remove(t),t.destroy())}},createTimelineIfNeeded:function(){null==this.timeline&&(this.timeline=new Ci,this.timeline.fps=this.fps,this.timeline.set_autoUpdate(this.autoUpdateTimeline))},putLabel:function(e,n){this.createTimelineIfNeeded(),this.timeline.setLabel(e,n)},indexOfLabel:function(e){return null!=this.timeline?this.timeline.indexOfLabel(e):-1},labelAtIndex:function(e){return null!=this.timeline?this.timeline.labelAtIndex(e):null},removeLabel:function(e){null!=this.timeline&&this.timeline.removeLabel(e)},removeLabelAtIndex:function(e){null!=this.timeline&&this.timeline.removeLabelAtIndex(e)},get_paused:function(){return null!=this.timeline&&this.timeline.paused},set_paused:function(e){return(null!=this.timeline&&this.timeline.paused)!=e&&(this.createTimelineIfNeeded(),this.timeline.set_paused(e)),e},unbindEvents:function(){s.prototype.unbindEvents.call(this),this.offReady()},__class__:X0,__properties__:$extend(s.prototype.__properties__,{set_paused:"set_paused",get_paused:"get_paused",set_fragmentComponents:"set_fragmentComponents",set_autoUpdateTimeline:"set_autoUpdateTimeline",set_fragmentData:"set_fragmentData",set_fps:"set_fps"})}),function(e,n,t){this.unobservedFragments=null,this.fragmentsAutoruns=null,Ga.call(this,"fragments",e,n,t)}),jn=((E["ceramic.FragmentsAsset"]=$n).__name__="ceramic.FragmentsAsset",$n.fromRawFragments=function(e){var n={},t=0|e.version;if(1==t){var i=e.fragments;if(null!=i)for(var l=0;l<i.length;){var s=i[l],r=(++l,s.data),h=s.components,r={id:s.id,data:null!=r?r:{},width:s.width,height:s.height,components:null!=h?h:{}},a=(Object.prototype.hasOwnProperty.call(s,"color")&&(r.color=M.fromString(s.color)),Object.prototype.hasOwnProperty.call(s,"transparent")&&(r.transparent=1==s.transparent),e.schema),o=[];if(Object.prototype.hasOwnProperty.call(s,"visuals"))for(var c=s.visuals,u=0;u<c.length;){for(var _=c[u],d=(++u,_.data),b=_.components,g={id:_.id,data:null!=d?d:{},entity:_.entity,components:null!=b?b:{},props:{}},O=0,f=L.fields(_);O<f.length;){var p=f[O];switch(++O,p){case"components":case"data":case"id":case"kind":case"locked":break;case"entity":var C=L.field(_,p);null!=a&&null!=C&&Object.prototype.hasOwnProperty.call(a,C)&&(g.schema=L.field(a,C));break;default:g.props[p]=L.field(_,p)}}o.push(g)}if(Object.prototype.hasOwnProperty.call(s,"entities"))for(var v=s.entities,m=0;m<v.length;){for(var w=v[m],y=(++m,w.data),U=w.components,D={id:w.id,data:null!=y?y:{},entity:w.entity,components:null!=U?U:{},props:{}},T=0,x=L.fields(w);T<x.length;){var S=x[T];switch(++T,S){case"components":case"data":case"id":case"kind":case"locked":break;case"entity":var A=L.field(w,S);null!=a&&null!=A&&Object.prototype.hasOwnProperty.call(a,A)&&(D.schema=L.field(a,A));break;default:D.props[S]=L.field(w,S)}}o.push(D)}r.items=o,n[r.id]=r}}else ke.app.logger.warning("Unsupported fragments file version: "+t,{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:267,className:"ceramic.FragmentsAsset",methodName:"fromRawFragments"});return n},$n.__super__=Ga,$n.prototype=$extend(Ga.prototype,{fragmentsAutoruns:null,get_fragments:function(){var e,n,t=this.unobservedFragments;return null!=w.current&&(e=w.current,null!=(n=this.fragmentsAutoruns)||(n=w.getAutorunArray(),null!=(this.fragmentsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_fragments:function(e){var n=this.unobservedFragments;return n!=(this.unobservedFragments=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFragmentsChange(e,n),null!=(n=this.fragmentsAutoruns))&&(this.fragmentsAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFragments:function(){var e=this.unobservedFragments,e=(this.emitFragmentsChange(e,e),this.fragmentsAutoruns);null!=e&&(this.fragmentsAutoruns=null,w.invalidateAutorunArray(e))},unobservedFragments:null,__cbOnFragmentsChange:null,__cbOnceFragmentsChange:null,__cbOnOwnerUnbindFragmentsChange:null,__cbOnceOwnerUnbindFragmentsChange:null,emitFragmentsChange:function(e,n){var t=0;if(null!=this.__cbOnFragmentsChange&&(t+=this.__cbOnFragmentsChange.length),null!=this.__cbOnceFragmentsChange&&(t+=this.__cbOnceFragmentsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFragmentsChange)for(var r=0,h=this.__cbOnFragmentsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFragmentsChange[a],++s):--t}if(null!=this.__cbOnceFragmentsChange){for(var o=null,c=null,r=0,h=this.__cbOnceFragmentsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFragmentsChange[a],this.__cbOnceFragmentsChange[a]=null,u=this.__cbOnceOwnerUnbindFragmentsChange[a],(this.__cbOnceOwnerUnbindFragmentsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFragmentsChange[a]),c.push(this.__cbOnceFragmentsChange[a]))}this.__cbOnceOwnerUnbindFragmentsChange=o,this.__cbOnceFragmentsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFragmentsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event fragmentsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFragmentsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFragmentsChange&&(this.__cbOnOwnerUnbindFragmentsChange=[]),this.__cbOnOwnerUnbindFragmentsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFragmentsChange&&(this.__cbOnOwnerUnbindFragmentsChange=[]),this.__cbOnOwnerUnbindFragmentsChange.push(null);null==this.__cbOnFragmentsChange&&(this.__cbOnFragmentsChange=[]),this.__cbOnFragmentsChange.push(t)},onceFragmentsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event fragmentsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFragmentsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFragmentsChange&&(this.__cbOnceOwnerUnbindFragmentsChange=[]),this.__cbOnceOwnerUnbindFragmentsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFragmentsChange&&(this.__cbOnceOwnerUnbindFragmentsChange=[]),this.__cbOnceOwnerUnbindFragmentsChange.push(null);null==this.__cbOnceFragmentsChange&&(this.__cbOnceFragmentsChange=[]),this.__cbOnceFragmentsChange.push(t)},offFragmentsChange:function(e){if(null!=e){var n;null!=this.__cbOnFragmentsChange&&-1!=(n=this.__cbOnFragmentsChange.indexOf(e))&&(this.__cbOnFragmentsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFragmentsChange[n])&&s(),this.__cbOnOwnerUnbindFragmentsChange.splice(n,1)),null!=this.__cbOnceFragmentsChange&&-1!=(n=this.__cbOnceFragmentsChange.indexOf(e))&&(this.__cbOnceFragmentsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFragmentsChange[n])&&s(),this.__cbOnceOwnerUnbindFragmentsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFragmentsChange){for(var t=0,i=this.__cbOnOwnerUnbindFragmentsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFragmentsChange[l])&&s()}this.__cbOnOwnerUnbindFragmentsChange=null}if(null!=this.__cbOnceOwnerUnbindFragmentsChange){for(t=0,i=this.__cbOnceOwnerUnbindFragmentsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFragmentsChange[l])&&s()}this.__cbOnceOwnerUnbindFragmentsChange=null}this.__cbOnFragmentsChange=null,this.__cbOnceFragmentsChange=null}},listensFragmentsChange:function(){return null!=this.__cbOnFragmentsChange&&0<this.__cbOnFragmentsChange.length||null!=this.__cbOnceFragmentsChange&&0<this.__cbOnceFragmentsChange.length},load:function(){var e,n,t,i=this;this.set_status(Cn.LOADING),null==this.path?(ke.app.logger.warning("Cannot load fragments asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:86,className:"ceramic.FragmentsAsset",methodName:"load"}),this.set_status(Cn.BROKEN),this.emitComplete(!1)):(e=this.path,n=tn.realAssetPath(e,this.runtimeAssets),0<(t=tn.getReloadCount(n))&&(n+="?hot="+t,e+="?hot="+t),t={},null!=this.owner&&(t.immediate=this.owner.immediate,t.loadMethod=this.owner.loadMethod),ke.app.logger.info("Load fragments "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:107,className:"ceramic.FragmentsAsset",methodName:"load"}),ke.app.backend.texts.load(n,t,function(e){if(null!=e){try{var n=JSON.parse(e);Object.prototype.hasOwnProperty.call(n,"version")?i.set_fragments($n.fromRawFragments(n)):i.set_fragments(n)}catch(e){return zl.lastError=e,i.set_status(Cn.BROKEN),ke.app.logger.error("Failed to parse fragments at path: "+i.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:121,className:"ceramic.FragmentsAsset",methodName:"load"}),void i.emitComplete(!1)}i.set_status(Cn.READY),i.emitComplete(!0)}else i.set_status(Cn.BROKEN),ke.app.logger.error("Failed to load fragments at path: "+i.path,{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:130,className:"ceramic.FragmentsAsset",methodName:"load"}),i.emitComplete(!1)}))},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ke.app.logger.info("Reload fragments (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:295,className:"ceramic.FragmentsAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ga.prototype.destroy.call(this),this.set_fragments(null))},unbindEvents:function(){Ga.prototype.unbindEvents.call(this),this.offFragmentsChange()},__class__:$n,__properties__:$extend(Ga.prototype.__properties__,{set_fragments:"set_fragments",get_fragments:"get_fragments"})}),(E["ceramic.GeometryUtils"]=_0).__name__="ceramic.GeometryUtils",_0.pointInTriangle=function(e,n,t,i,l,s,r,h){var a=(e-l)*(i-s)-(t-l)*(n-s),s=(e-r)*(s-h)-(l-r)*(n-h),l=(e-t)*(h-i)-(r-t)*(n-i);return!((a<0||s<0||l<0)&&(0<a||0<s||0<l))},_0.pointInRectangle=function(e,n,t,i,l,s){return!(e<t||n<i||t+l<=e||i+s<=n)},_0.pointInCircle=function(e,n,t,i,l){return(e-t)*(e-t)+(n-i)*(n-i)<=l*l},_0.intersectCircles=function(e,n,t,i,l,s){i-=e,e=l-n,l=t+s;return i*i+e*e<=l*l},_0.distance=function(e,n,t,i){t-=e,e=i-n;return Math.sqrt(t*t+e*e)},_0.squareDistance=function(e,n,t,i){t-=e,e=i-n;return t*t+e*e},_0.angleTo=function(e,n,t,i){i=57.29577951308232*Math.atan2(i-n,t-e)+90;return i<0?i+=360:360<=i&&(i-=360),i},_0.angleDelta=function(e,n){for(var t=e;t<0;)t+=360;for(;360<=t;)t-=360;e=t;for(t=n;t<0;)t+=360;for(;360<=t;)t-=360;var i=(n=t)-e;return 180<i?n-=360:i<-180&&(n+=360),n-e},_0.clampDegrees=function(e){for(;e<0;)e+=360;for(;360<=e;)e-=360;return e},_0.angleDirection=function(e,n){e=.017453292519943295*(e-90);return n.x=Math.cos(e),n.y=Math.sin(e),n},_0.isClockwise=function(e,n,t){if(t<=2)return!1;for(var i=0,l=n+t-2,s=e[l],r=e[1+l],h=n;h<=l;){var a=e[h],o=e[h+1];i+=s*o-a*r,s=a,r=o,h+=2}return i<0},(E["ceramic.GlyphQuad"]=ab).__name__="ceramic.GlyphQuad",ab.__super__=r,ab.prototype=$extend(r.prototype,{__cbOnClear:null,__cbOnceClear:null,__cbOnOwnerUnbindClear:null,__cbOnceOwnerUnbindClear:null,emitClear:function(e){var n=0;if(null!=this.__cbOnClear&&(n+=this.__cbOnClear.length),null!=this.__cbOnceClear&&(n+=this.__cbOnceClear.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnClear)for(var s=0,r=this.__cbOnClear.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnClear[h],++l):--n}if(null!=this.__cbOnceClear){for(var a=null,o=null,s=0,r=this.__cbOnceClear.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceClear[h],this.__cbOnceClear[h]=null,c=this.__cbOnceOwnerUnbindClear[h],(this.__cbOnceOwnerUnbindClear[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindClear[h]),o.push(this.__cbOnceClear[h]))}this.__cbOnceOwnerUnbindClear=a,this.__cbOnceClear=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onClear:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event clear because owner is destroyed!");var l=function(e){null!=t&&(i.offClear(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClear&&(this.__cbOnOwnerUnbindClear=[]),this.__cbOnOwnerUnbindClear.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClear&&(this.__cbOnOwnerUnbindClear=[]),this.__cbOnOwnerUnbindClear.push(null);null==this.__cbOnClear&&(this.__cbOnClear=[]),this.__cbOnClear.push(t)},onceClear:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event clear because owner is destroyed!");var l=function(e){null!=t&&(i.offClear(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClear&&(this.__cbOnceOwnerUnbindClear=[]),this.__cbOnceOwnerUnbindClear.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClear&&(this.__cbOnceOwnerUnbindClear=[]),this.__cbOnceOwnerUnbindClear.push(null);null==this.__cbOnceClear&&(this.__cbOnceClear=[]),this.__cbOnceClear.push(t)},offClear:function(e){if(null!=e){var n;null!=this.__cbOnClear&&-1!=(n=this.__cbOnClear.indexOf(e))&&(this.__cbOnClear.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClear[n])&&s(),this.__cbOnOwnerUnbindClear.splice(n,1)),null!=this.__cbOnceClear&&-1!=(n=this.__cbOnceClear.indexOf(e))&&(this.__cbOnceClear.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClear[n])&&s(),this.__cbOnceOwnerUnbindClear.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClear){for(var t=0,i=this.__cbOnOwnerUnbindClear.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClear[l])&&s()}this.__cbOnOwnerUnbindClear=null}if(null!=this.__cbOnceOwnerUnbindClear){for(t=0,i=this.__cbOnceOwnerUnbindClear.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClear[l])&&s()}this.__cbOnceOwnerUnbindClear=null}this.__cbOnClear=null,this.__cbOnceClear=null}},listensClear:function(){return null!=this.__cbOnClear&&0<this.__cbOnClear.length||null!=this.__cbOnceClear&&0<this.__cbOnceClear.length},char:null,glyph:null,index:null,posInLine:null,line:null,code:null,glyphX:null,glyphY:null,glyphAdvance:null,toString:function(){return"GlyphQuad(c="+this.char+",i="+this.index+",l="+this.line+",x="+this.glyphX+",y="+this.glyphY+")"},clear:function(){this.emitClear(this),r.prototype.clear.call(this)},unbindEvents:function(){r.prototype.unbindEvents.call(this),this.offClear()},__class__:ab}),function(e){this.items=[],j.call(this),null!=e&&(this.id=e),ke.app.groups.push(this)}),Qn=((E["ceramic.Group"]=jn).__name__="ceramic.Group",jn.__super__=j,jn.prototype=$extend(j.prototype,{items:null,add:function(e){var n=this.items;-1!=n.indexOf(e)?ke.app.logger.warning("Cannot add item "+ot.string(e)+" to group, already inside group",{fileName:"../../../../ceramic/runtime/src/ceramic/Group.hx",lineNumber:126,className:"ceramic.Group",methodName:"add"}):(n.push(e),e.onDestroy(this,$bind(this,this.itemDestroyed)))},remove:function(e){var n=this.items,t=n.indexOf(e);-1!=t?(n.splice(t,1),e.offDestroy($bind(this,this.itemDestroyed))):ke.app.logger.warning("Cannot remove item "+ot.string(e)+" from group, index is -1",{fileName:"../../../../ceramic/runtime/src/ceramic/Group.hx",lineNumber:154,className:"ceramic.Group",methodName:"remove"})},contains:function(e){return-1!=this.items.indexOf(e)},itemDestroyed:function(e){this.remove(e)},clear:function(){var e=this.items;if(0<e.length){for(var n=e.length,t=C.pool(n),i=t.get(),l=0,s=n;l<s;){var r=l++;i.vector[r]=e[r]}for(l=0,s=n;l<s;){var r=l++,h=i.vector[r];h.offDestroy($bind(this,this.itemDestroyed)),h.destroy()}if(0!=e.length)if(0<e.length)e.splice(0,e.length);else for(var a=e;a.length<0;)a.push(null);t.release(i)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),he.remove(ke.app.groups,this),this.clear())},__class__:jn}),function(){}),Zn=((E["ceramic.HashedString"]=Qn).__name__="ceramic.HashedString",Qn.encode=function(e){return Kl.encode(e)+""+e.length+";"+e},Qn.append=function(e,n){return e+Qn.encode(n)},Qn.decode=function(e){Qn._lastDecodeIncomplete=!1;for(var n=0,t=e.length,i=null;n<t;){for(var l=e.substring(n,n+32),s=n+=32;s<t&&59!=he.cca(e,s);)++s;var r=ot.parseInt(e.substring(n,s));if(null==r||r<=0){ke.app.logger.warning("Failed to parse all encoded string: invalid section length",{fileName:"../../../../ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:148,className:"ceramic.HashedString",methodName:"decode"}),Qn._lastDecodeIncomplete=!0;break}var n=s+1,h=e.substring(n,n+r);if(null==h){ke.app.logger.warning("Failed to parse all encoded string: null section",{fileName:"../../../../ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:157,className:"ceramic.HashedString",methodName:"decode"}),Qn._lastDecodeIncomplete=!0;break}if(Kl.encode(h)!=l){ke.app.logger.warning("Failed to parse all encoded string: section hash mismatch",{fileName:"../../../../ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:163,className:"ceramic.HashedString",methodName:"decode"}),Qn._lastDecodeIncomplete=!0;break}n+=r,(i=null==i?new y:i).b+=null==h?"null":""+h}return null!=i?i.b:(ke.app.logger.error("Invalid encoded string",{fileName:"../../../../ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:181,className:"ceramic.HashedString",methodName:"decode"}),Qn._lastDecodeIncomplete=!0,null)},Qn.isLastDecodeIncomplete=function(){return Qn._lastDecodeIncomplete},function(e,n,t){this.reloadBecauseOfDensityChange=!1,this.defaultImageOptions=null,this.unobservedTexture=null,this.textureAutoruns=null,Ga.call(this,"image",e,n,t),this.set_handleTexturesDensityChange(!0)}),Jn=((E["ceramic.ImageAsset"]=Zn).__name__="ceramic.ImageAsset",Zn.__super__=Ga,Zn.prototype=$extend(Ga.prototype,{__cbOnReplaceTexture:null,__cbOnceReplaceTexture:null,__cbOnOwnerUnbindReplaceTexture:null,__cbOnceOwnerUnbindReplaceTexture:null,emitReplaceTexture:function(e,n){var t=0;if(null!=this.__cbOnReplaceTexture&&(t+=this.__cbOnReplaceTexture.length),null!=this.__cbOnceReplaceTexture&&(t+=this.__cbOnceReplaceTexture.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnReplaceTexture)for(var r=0,h=this.__cbOnReplaceTexture.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnReplaceTexture[a],++s):--t}if(null!=this.__cbOnceReplaceTexture){for(var o=null,c=null,r=0,h=this.__cbOnceReplaceTexture.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceReplaceTexture[a],this.__cbOnceReplaceTexture[a]=null,u=this.__cbOnceOwnerUnbindReplaceTexture[a],(this.__cbOnceOwnerUnbindReplaceTexture[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindReplaceTexture[a]),c.push(this.__cbOnceReplaceTexture[a]))}this.__cbOnceOwnerUnbindReplaceTexture=o,this.__cbOnceReplaceTexture=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onReplaceTexture:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event replaceTexture because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceTexture(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplaceTexture&&(this.__cbOnOwnerUnbindReplaceTexture=[]),this.__cbOnOwnerUnbindReplaceTexture.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplaceTexture&&(this.__cbOnOwnerUnbindReplaceTexture=[]),this.__cbOnOwnerUnbindReplaceTexture.push(null);null==this.__cbOnReplaceTexture&&(this.__cbOnReplaceTexture=[]),this.__cbOnReplaceTexture.push(t)},onceReplaceTexture:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event replaceTexture because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceTexture(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplaceTexture&&(this.__cbOnceOwnerUnbindReplaceTexture=[]),this.__cbOnceOwnerUnbindReplaceTexture.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplaceTexture&&(this.__cbOnceOwnerUnbindReplaceTexture=[]),this.__cbOnceOwnerUnbindReplaceTexture.push(null);null==this.__cbOnceReplaceTexture&&(this.__cbOnceReplaceTexture=[]),this.__cbOnceReplaceTexture.push(t)},offReplaceTexture:function(e){if(null!=e){var n;null!=this.__cbOnReplaceTexture&&-1!=(n=this.__cbOnReplaceTexture.indexOf(e))&&(this.__cbOnReplaceTexture.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplaceTexture[n])&&s(),this.__cbOnOwnerUnbindReplaceTexture.splice(n,1)),null!=this.__cbOnceReplaceTexture&&-1!=(n=this.__cbOnceReplaceTexture.indexOf(e))&&(this.__cbOnceReplaceTexture.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplaceTexture[n])&&s(),this.__cbOnceOwnerUnbindReplaceTexture.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceTexture){for(var t=0,i=this.__cbOnOwnerUnbindReplaceTexture.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplaceTexture[l])&&s()}this.__cbOnOwnerUnbindReplaceTexture=null}if(null!=this.__cbOnceOwnerUnbindReplaceTexture){for(t=0,i=this.__cbOnceOwnerUnbindReplaceTexture.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReplaceTexture[l])&&s()}this.__cbOnceOwnerUnbindReplaceTexture=null}this.__cbOnReplaceTexture=null,this.__cbOnceReplaceTexture=null}},listensReplaceTexture:function(){return null!=this.__cbOnReplaceTexture&&0<this.__cbOnReplaceTexture.length||null!=this.__cbOnceReplaceTexture&&0<this.__cbOnceReplaceTexture.length},textureAutoruns:null,get_texture:function(){var e,n,t=this.unobservedTexture;return null!=w.current&&(e=w.current,null!=(n=this.textureAutoruns)||(n=w.getAutorunArray(),null!=(this.textureAutoruns=n)))&&e.bindToAutorunArray(n),t},set_texture:function(e){var n=this.unobservedTexture;return n!=(this.unobservedTexture=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextureChange(e,n),null!=(n=this.textureAutoruns))&&(this.textureAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTexture:function(){var e=this.unobservedTexture,e=(this.emitTextureChange(e,e),this.textureAutoruns);null!=e&&(this.textureAutoruns=null,w.invalidateAutorunArray(e))},unobservedTexture:null,__cbOnTextureChange:null,__cbOnceTextureChange:null,__cbOnOwnerUnbindTextureChange:null,__cbOnceOwnerUnbindTextureChange:null,emitTextureChange:function(e,n){var t=0;if(null!=this.__cbOnTextureChange&&(t+=this.__cbOnTextureChange.length),null!=this.__cbOnceTextureChange&&(t+=this.__cbOnceTextureChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTextureChange)for(var r=0,h=this.__cbOnTextureChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTextureChange[a],++s):--t}if(null!=this.__cbOnceTextureChange){for(var o=null,c=null,r=0,h=this.__cbOnceTextureChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTextureChange[a],this.__cbOnceTextureChange[a]=null,u=this.__cbOnceOwnerUnbindTextureChange[a],(this.__cbOnceOwnerUnbindTextureChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextureChange[a]),c.push(this.__cbOnceTextureChange[a]))}this.__cbOnceOwnerUnbindTextureChange=o,this.__cbOnceTextureChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event textureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(null);null==this.__cbOnTextureChange&&(this.__cbOnTextureChange=[]),this.__cbOnTextureChange.push(t)},onceTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event textureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(null);null==this.__cbOnceTextureChange&&(this.__cbOnceTextureChange=[]),this.__cbOnceTextureChange.push(t)},offTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnTextureChange&&-1!=(n=this.__cbOnTextureChange.indexOf(e))&&(this.__cbOnTextureChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTextureChange[n])&&s(),this.__cbOnOwnerUnbindTextureChange.splice(n,1)),null!=this.__cbOnceTextureChange&&-1!=(n=this.__cbOnceTextureChange.indexOf(e))&&(this.__cbOnceTextureChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTextureChange[n])&&s(),this.__cbOnceOwnerUnbindTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindTextureChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTextureChange[l])&&s()}this.__cbOnOwnerUnbindTextureChange=null}if(null!=this.__cbOnceOwnerUnbindTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindTextureChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTextureChange[l])&&s()}this.__cbOnceOwnerUnbindTextureChange=null}this.__cbOnTextureChange=null,this.__cbOnceTextureChange=null}},listensTextureChange:function(){return null!=this.__cbOnTextureChange&&0<this.__cbOnTextureChange.length||null!=this.__cbOnceTextureChange&&0<this.__cbOnceTextureChange.length},defaultImageOptions:null,reloadBecauseOfDensityChange:null,load:function(){var _=this,d=(this.set_status(Cn.LOADING),this.reloadBecauseOfDensityChange);if(this.reloadBecauseOfDensityChange=!1,null==this.path)ke.app.logger.warning("Cannot load image asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:103,className:"ceramic.ImageAsset",methodName:"load"}),this.set_status(Cn.BROKEN),this.emitComplete(!1);else{var e={};if(null!=this.owner&&(e.immediate=this.owner.immediate,e.loadMethod=this.owner.loadMethod),null!=this.defaultImageOptions)for(var n=0,t=L.fields(this.defaultImageOptions);n<t.length;){var i=t[n];++n,e[i]=L.field(this.defaultImageOptions,i)}if(null!=this.options)for(n=0,t=L.fields(this.options);n<t.length;){i=t[n];++n,e[i]=L.field(this.options,i)}this.loadTexture(this.path,e,function(e,n){if(null!=e){var t=_.get_texture();if(e.id="texture:"+n,_.set_texture(e),_.get_texture().asset=_,null!=t){_.get_texture().set_filter(t.filter),_.emitReplaceTexture(_.get_texture(),t);for(var i=0,l=[].concat(ke.app.visuals);i<l.length;){var s,r,h,a,o,c,u=l[i];++i,0<=u._lifecycleState&&(null!=u.asQuad?(s=u.asQuad)._texture==t&&(c=s.frameX,r=s.frameY,h=s.frameWidth,a=s.frameHeight,o=_.get_texture(),s._texture!=o&&s._set_texture(o),!d&&0==c&&0==r&&h==t.width&&a==t.height||(s.frameX=c,s.frameY=r,s.frameWidth!=h&&-1!=(s.frameWidth=h)&&s.set_width(h),s.frameHeight==a)||-1==(s.frameHeight=a)||s.set_height(a)):null!=u.asMesh&&(o=u.asMesh).texture==t&&(c=_.get_texture(),o.texture!=c)&&(null!=o.texture&&(o.texture.offDestroy($bind(o,o.textureDestroyed)),null!=o.texture.asset)&&o.texture.asset.release(),o.texture=c,null!=o.texture)&&(o.texture.onDestroy(o,$bind(o,o.textureDestroyed)),null!=o.texture.asset)&&o.texture.asset.retain())}t.asset=null,t.destroy()}_.set_status(Cn.READY),_.emitComplete(!0),_.handleTexturesDensityChange&&_.checkTexturesDensity()}else ke.app.logger.warning("Failed to decode texture",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:201,className:"ceramic.ImageAsset",methodName:"load"}),_.set_status(Cn.BROKEN),_.emitComplete(!1)})}},loadTexture:function(n,e,t){var i=this,l=n,s=tn.realAssetPath(l,this.runtimeAssets),r=tn.getReloadCount(s);0<r&&(s+="?hot="+r,l+="?hot="+r),ke.app.logger.info("Load image "+l+" (density="+this.density+")",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:221,className:"ceramic.ImageAsset",methodName:"loadTexture"}),ke.app.backend.textures.load(s,e,function(e){null!=e?(e=new At(e,i.density),t(e,l)):(i.set_status(Cn.BROKEN),ke.app.logger.error("Failed to load texture at path: "+n,{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:287,className:"ceramic.ImageAsset",methodName:"loadTexture"}),i.emitComplete(!1))})},texturesDensityDidChange:function(e,n){this.get_status()==Cn.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e;null!=this.owner&&this.owner.reloadOnTextureDensityChange&&(e=this.path,this.computePath(),e!=this.path)&&(ke.app.logger.info("Reload texture ("+e+" -> "+this.path+")",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:323,className:"ceramic.ImageAsset",methodName:"checkTexturesDensity"}),this.reloadBecauseOfDensityChange=!0,this.load())},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ke.app.logger.info("Reload texture (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:349,className:"ceramic.ImageAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ga.prototype.destroy.call(this),null!=this.get_texture()&&(this.get_texture().destroy(),this.set_texture(null)))},unbindEvents:function(){Ga.prototype.unbindEvents.call(this),this.offReplaceTexture(),this.offTextureChange()},__class__:Zn,__properties__:$extend(Ga.prototype.__properties__,{set_texture:"set_texture",get_texture:"get_texture"})}),function(){this.immediateCallbacksLen=0,this.immediateCallbacksCapacity=0,this.immediateCallbacks=[]}),et=((E["ceramic.Immediate"]=Jn).__name__="ceramic.Immediate",Jn.prototype={immediateCallbacks:null,immediateCallbacksCapacity:null,immediateCallbacksLen:null,push:function(e){if(null==e)throw ct.thrown("Immediate callback should not be null!");this.immediateCallbacksLen<this.immediateCallbacksCapacity?(this.immediateCallbacks[this.immediateCallbacksLen]=e,this.immediateCallbacksLen++):(this.immediateCallbacks[this.immediateCallbacksLen++]=e,this.immediateCallbacksCapacity++)},flush:function(){for(var e=!1;0<this.immediateCallbacksLen;){for(var e=!0,n=C.pool(this.immediateCallbacksLen),t=n.get(),i=this.immediateCallbacksLen,l=this.immediateCallbacksLen=0,s=i;l<s;){var r=l++;t.vector[r]=this.immediateCallbacks[r],this.immediateCallbacks[r]=null}for(var h=0,a=i;h<a;){var o=h++;(0,t.vector[o])()}n.release(t)}return e},__class__:Jn},function(e){this.settings=e}),nt=((E["ceramic.InitSettings"]=et).__name__="ceramic.InitSettings",et.prototype={settings:null,get_targetWidth:function(){return this.settings.get_targetWidth()},set_targetWidth:function(e){return this.settings.set_targetWidth(e)},get_targetHeight:function(){return this.settings.get_targetHeight()},set_targetHeight:function(e){return this.settings.set_targetHeight(e)},targetSize:function(e,n){this.settings.set_targetWidth(e),this.settings.set_targetHeight(n)},get_windowWidth:function(){return this.settings.get_windowWidth()},set_windowWidth:function(e){return this.settings.set_windowWidth(e)},get_windowHeight:function(){return this.settings.get_windowHeight()},set_windowHeight:function(e){return this.settings.set_windowHeight(e)},windowSize:function(e,n){this.settings.set_windowWidth(e),this.settings.set_windowHeight(n)},get_targetDensity:function(){return this.settings.get_targetDensity()},set_targetDensity:function(e){return this.settings.set_targetDensity(e)},get_background:function(){return this.settings.get_background()},set_background:function(e){return this.settings.set_background(e)},get_scaling:function(){return this.settings.get_scaling()},set_scaling:function(e){return this.settings.set_scaling(e)},get_title:function(){return this.settings.get_title()},set_title:function(e){return this.settings.set_title(e)},get_fullscreen:function(){return this.settings.get_fullscreen()},set_fullscreen:function(e){return this.settings.set_fullscreen(e)},get_targetFps:function(){return this.settings.get_targetFps()},set_targetFps:function(e){return this.settings.set_targetFps(e)},get_maxDelta:function(){return this.settings.get_maxDelta()},set_maxDelta:function(e){return this.settings.set_maxDelta(e)},get_overrideDelta:function(){return this.settings.get_overrideDelta()},set_overrideDelta:function(e){return this.settings.set_overrideDelta(e)},get_preventDefaultMouseWheel:function(){return this.settings.get_preventDefaultMouseWheel()},set_preventDefaultMouseWheel:function(e){return this.settings.set_preventDefaultMouseWheel(e)},get_preventDefaultTouches:function(){return this.settings.get_preventDefaultTouches()},set_preventDefaultTouches:function(e){return this.settings.set_preventDefaultTouches(e)},get_orientation:function(){return this.settings.orientation},set_orientation:function(e){return this.settings.orientation=e},get_antialiasing:function(){return this.settings.antialiasing},set_antialiasing:function(e){return this.settings.antialiasing=e},get_collections:function(){return this.settings.collections},set_collections:function(e){return this.settings.collections=e},get_appInfo:function(){return this.settings.appInfo},set_appInfo:function(e){return this.settings.appInfo=e},get_resizable:function(){return this.settings.resizable},set_resizable:function(e){return this.settings.resizable=e},get_assetsPath:function(){return this.settings.assetsPath},set_assetsPath:function(e){return this.settings.assetsPath=e},get_backend:function(){return this.settings.backend},set_backend:function(e){return this.settings.backend=e},get_defaultFont:function(){return this.settings.defaultFont},set_defaultFont:function(e){return this.settings.defaultFont=e},get_defaultShader:function(){return this.settings.defaultShader},set_defaultShader:function(e){return this.settings.defaultShader=e},__class__:et,__properties__:{set_defaultShader:"set_defaultShader",get_defaultShader:"get_defaultShader",set_defaultFont:"set_defaultFont",get_defaultFont:"get_defaultFont",set_backend:"set_backend",get_backend:"get_backend",set_assetsPath:"set_assetsPath",get_assetsPath:"get_assetsPath",set_resizable:"set_resizable",get_resizable:"get_resizable",set_appInfo:"set_appInfo",get_appInfo:"get_appInfo",set_collections:"set_collections",get_collections:"get_collections",set_antialiasing:"set_antialiasing",get_antialiasing:"get_antialiasing",set_orientation:"set_orientation",get_orientation:"get_orientation",set_preventDefaultTouches:"set_preventDefaultTouches",get_preventDefaultTouches:"get_preventDefaultTouches",set_preventDefaultMouseWheel:"set_preventDefaultMouseWheel",get_preventDefaultMouseWheel:"get_preventDefaultMouseWheel",set_overrideDelta:"set_overrideDelta",get_overrideDelta:"get_overrideDelta",set_maxDelta:"set_maxDelta",get_maxDelta:"get_maxDelta",set_targetFps:"set_targetFps",get_targetFps:"get_targetFps",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_title:"set_title",get_title:"get_title",set_scaling:"set_scaling",get_scaling:"get_scaling",set_background:"set_background",get_background:"get_background",set_targetDensity:"set_targetDensity",get_targetDensity:"get_targetDensity",set_windowHeight:"set_windowHeight",get_windowHeight:"get_windowHeight",set_windowWidth:"set_windowWidth",get_windowWidth:"get_windowWidth",set_targetHeight:"set_targetHeight",get_targetHeight:"get_targetHeight",set_targetWidth:"set_targetWidth",get_targetWidth:"get_targetWidth"}},function(){this.activeGamepads=[],this.gamepadNames=new gt,this.gamepadGyroKeys=[],this.gamepadGyroDeltas=new gt,this.gamepadAxisValues=new rt(16,.5,!1),this.pressedGamepadButtons=new Sn(16,.5,!1),this.pressedKeyCodes=new Sn(16,.5,!1),this.pressedScanCodes=new Sn(16,.5,!1),j.call(this)}),tt=((E["ceramic.Input"]=nt).__name__="ceramic.Input",nt._elementsImFocused=function(){var e=W.get_context();return null!=e&&null!=e.focusedWindow},nt.__super__=j,nt.prototype=$extend(j.prototype,{__cbOnKeyDown:null,__cbOnceKeyDown:null,__cbOnOwnerUnbindKeyDown:null,__cbOnceOwnerUnbindKeyDown:null,__onOwnerKeyDown:null,__onceOwnerKeyDown:null,emitKeyDown:function(e){this.willEmitKeyDown(e);var n=0;if(null!=this.__cbOnKeyDown&&(n+=this.__cbOnKeyDown.length),null!=this.__cbOnceKeyDown&&(n+=this.__cbOnceKeyDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyDown)for(var s=0,r=this.__cbOnKeyDown.length;s<r;){var h=s++,a=this.__onOwnerKeyDown[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnKeyDown[h],++l):--n}if(null!=this.__cbOnceKeyDown){for(var c=null,u=null,_=null,s=0,r=this.__cbOnceKeyDown.length;s<r;){var d,h=s++,a=this.__onceOwnerKeyDown[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceKeyDown[h],this.__cbOnceKeyDown[h]=null,d=this.__cbOnceOwnerUnbindKeyDown[h],(this.__cbOnceOwnerUnbindKeyDown[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindKeyDown[h]),u.push(this.__cbOnceKeyDown[h]),_.push(this.__onceOwnerKeyDown[h]))}this.__cbOnceOwnerUnbindKeyDown=c,this.__cbOnceKeyDown=u,this.__onceOwnerKeyDown=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onKeyDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event keyDown because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(null);null==this.__cbOnKeyDown&&(this.__cbOnKeyDown=[]),this.__cbOnKeyDown.push(t),null==this.__onOwnerKeyDown&&(this.__onOwnerKeyDown=[]),this.__onOwnerKeyDown.push(n)},onceKeyDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event keyDown because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(null);null==this.__cbOnceKeyDown&&(this.__cbOnceKeyDown=[]),this.__cbOnceKeyDown.push(t),null==this.__onceOwnerKeyDown&&(this.__onceOwnerKeyDown=[]),this.__onceOwnerKeyDown.push(n)},offKeyDown:function(e){if(null!=e){var n;null!=this.__cbOnKeyDown&&-1!=(n=this.__cbOnKeyDown.indexOf(e))&&(this.__cbOnKeyDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindKeyDown[n])&&s(),this.__cbOnOwnerUnbindKeyDown.splice(n,1),this.__onOwnerKeyDown.splice(n,1)),null!=this.__cbOnceKeyDown&&-1!=(n=this.__cbOnceKeyDown.indexOf(e))&&(this.__cbOnceKeyDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindKeyDown[n])&&s(),this.__cbOnceOwnerUnbindKeyDown.splice(n,1),this.__onceOwnerKeyDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyDown){for(var t=0,i=this.__cbOnOwnerUnbindKeyDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindKeyDown[l])&&s()}this.__cbOnOwnerUnbindKeyDown=null}if(null!=this.__cbOnceOwnerUnbindKeyDown){for(t=0,i=this.__cbOnceOwnerUnbindKeyDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindKeyDown[l])&&s()}this.__cbOnceOwnerUnbindKeyDown=null}this.__cbOnKeyDown=null,this.__cbOnceKeyDown=null,this.__onOwnerKeyDown=null,this.__onceOwnerKeyDown=null}},listensKeyDown:function(){return null!=this.__cbOnKeyDown&&0<this.__cbOnKeyDown.length||null!=this.__cbOnceKeyDown&&0<this.__cbOnceKeyDown.length},__cbOnKeyUp:null,__cbOnceKeyUp:null,__cbOnOwnerUnbindKeyUp:null,__cbOnceOwnerUnbindKeyUp:null,__onOwnerKeyUp:null,__onceOwnerKeyUp:null,emitKeyUp:function(e){this.willEmitKeyUp(e);var n=0;if(null!=this.__cbOnKeyUp&&(n+=this.__cbOnKeyUp.length),null!=this.__cbOnceKeyUp&&(n+=this.__cbOnceKeyUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnKeyUp)for(var s=0,r=this.__cbOnKeyUp.length;s<r;){var h=s++,a=this.__onOwnerKeyUp[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnKeyUp[h],++l):--n}if(null!=this.__cbOnceKeyUp){for(var c=null,u=null,_=null,s=0,r=this.__cbOnceKeyUp.length;s<r;){var d,h=s++,a=this.__onceOwnerKeyUp[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceKeyUp[h],this.__cbOnceKeyUp[h]=null,d=this.__cbOnceOwnerUnbindKeyUp[h],(this.__cbOnceOwnerUnbindKeyUp[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindKeyUp[h]),u.push(this.__cbOnceKeyUp[h]),_.push(this.__onceOwnerKeyUp[h]))}this.__cbOnceOwnerUnbindKeyUp=c,this.__cbOnceKeyUp=u,this.__onceOwnerKeyUp=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onKeyUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event keyUp because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(null);null==this.__cbOnKeyUp&&(this.__cbOnKeyUp=[]),this.__cbOnKeyUp.push(t),null==this.__onOwnerKeyUp&&(this.__onOwnerKeyUp=[]),this.__onOwnerKeyUp.push(n)},onceKeyUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event keyUp because owner is destroyed!");var l=function(e){null!=t&&(i.offKeyUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(null);null==this.__cbOnceKeyUp&&(this.__cbOnceKeyUp=[]),this.__cbOnceKeyUp.push(t),null==this.__onceOwnerKeyUp&&(this.__onceOwnerKeyUp=[]),this.__onceOwnerKeyUp.push(n)},offKeyUp:function(e){if(null!=e){var n;null!=this.__cbOnKeyUp&&-1!=(n=this.__cbOnKeyUp.indexOf(e))&&(this.__cbOnKeyUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindKeyUp[n])&&s(),this.__cbOnOwnerUnbindKeyUp.splice(n,1),this.__onOwnerKeyUp.splice(n,1)),null!=this.__cbOnceKeyUp&&-1!=(n=this.__cbOnceKeyUp.indexOf(e))&&(this.__cbOnceKeyUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindKeyUp[n])&&s(),this.__cbOnceOwnerUnbindKeyUp.splice(n,1),this.__onceOwnerKeyUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyUp){for(var t=0,i=this.__cbOnOwnerUnbindKeyUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindKeyUp[l])&&s()}this.__cbOnOwnerUnbindKeyUp=null}if(null!=this.__cbOnceOwnerUnbindKeyUp){for(t=0,i=this.__cbOnceOwnerUnbindKeyUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindKeyUp[l])&&s()}this.__cbOnceOwnerUnbindKeyUp=null}this.__cbOnKeyUp=null,this.__cbOnceKeyUp=null,this.__onOwnerKeyUp=null,this.__onceOwnerKeyUp=null}},listensKeyUp:function(){return null!=this.__cbOnKeyUp&&0<this.__cbOnKeyUp.length||null!=this.__cbOnceKeyUp&&0<this.__cbOnceKeyUp.length},__cbOnGamepadAxis:null,__cbOnceGamepadAxis:null,__cbOnOwnerUnbindGamepadAxis:null,__cbOnceOwnerUnbindGamepadAxis:null,emitGamepadAxis:function(e,n,t){this.gamepadAxisValues.set(32*e+n,t);var i=0;if(null!=this.__cbOnGamepadAxis&&(i+=this.__cbOnGamepadAxis.length),null!=this.__cbOnceGamepadAxis&&(i+=this.__cbOnceGamepadAxis.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnGamepadAxis)for(var h=0,a=this.__cbOnGamepadAxis.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnGamepadAxis[o],++r):--i}if(null!=this.__cbOnceGamepadAxis){for(var c=null,u=null,h=0,a=this.__cbOnceGamepadAxis.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceGamepadAxis[o],this.__cbOnceGamepadAxis[o]=null,_=this.__cbOnceOwnerUnbindGamepadAxis[o],(this.__cbOnceOwnerUnbindGamepadAxis[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindGamepadAxis[o]),u.push(this.__cbOnceGamepadAxis[o]))}this.__cbOnceOwnerUnbindGamepadAxis=c,this.__cbOnceGamepadAxis=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onGamepadAxis:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadAxis(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(null);null==this.__cbOnGamepadAxis&&(this.__cbOnGamepadAxis=[]),this.__cbOnGamepadAxis.push(t)},onceGamepadAxis:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadAxis(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(null);null==this.__cbOnceGamepadAxis&&(this.__cbOnceGamepadAxis=[]),this.__cbOnceGamepadAxis.push(t)},offGamepadAxis:function(e){if(null!=e){var n;null!=this.__cbOnGamepadAxis&&-1!=(n=this.__cbOnGamepadAxis.indexOf(e))&&(this.__cbOnGamepadAxis.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadAxis[n])&&s(),this.__cbOnOwnerUnbindGamepadAxis.splice(n,1)),null!=this.__cbOnceGamepadAxis&&-1!=(n=this.__cbOnceGamepadAxis.indexOf(e))&&(this.__cbOnceGamepadAxis.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadAxis[n])&&s(),this.__cbOnceOwnerUnbindGamepadAxis.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadAxis){for(var t=0,i=this.__cbOnOwnerUnbindGamepadAxis.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadAxis[l])&&s()}this.__cbOnOwnerUnbindGamepadAxis=null}if(null!=this.__cbOnceOwnerUnbindGamepadAxis){for(t=0,i=this.__cbOnceOwnerUnbindGamepadAxis.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadAxis[l])&&s()}this.__cbOnceOwnerUnbindGamepadAxis=null}this.__cbOnGamepadAxis=null,this.__cbOnceGamepadAxis=null}},listensGamepadAxis:function(){return null!=this.__cbOnGamepadAxis&&0<this.__cbOnGamepadAxis.length||null!=this.__cbOnceGamepadAxis&&0<this.__cbOnceGamepadAxis.length},__cbOnGamepadDown:null,__cbOnceGamepadDown:null,__cbOnOwnerUnbindGamepadDown:null,__cbOnceOwnerUnbindGamepadDown:null,__onOwnerGamepadDown:null,__onceOwnerGamepadDown:null,emitGamepadDown:function(e,n){this.willEmitGamepadDown(e,n);var t=0;if(null!=this.__cbOnGamepadDown&&(t+=this.__cbOnGamepadDown.length),null!=this.__cbOnceGamepadDown&&(t+=this.__cbOnceGamepadDown.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadDown)for(var r=0,h=this.__cbOnGamepadDown.length;r<h;){var a=r++,o=this.__onOwnerGamepadDown[a],c=!1;null!=W.get_context().focusedWindow?null!=o&&(c=K._filterEventOwner(o)):c=!0,c?(l.vector[s]=this.__cbOnGamepadDown[a],++s):--t}if(null!=this.__cbOnceGamepadDown){for(var u=null,_=null,d=null,r=0,h=this.__cbOnceGamepadDown.length;r<h;){var b,a=r++,o=this.__onceOwnerGamepadDown[a],c=!1;null!=W.get_context().focusedWindow?null!=o&&(c=K._filterEventOwner(o)):c=!0,c?(l.vector[s]=this.__cbOnceGamepadDown[a],this.__cbOnceGamepadDown[a]=null,b=this.__cbOnceOwnerUnbindGamepadDown[a],(this.__cbOnceOwnerUnbindGamepadDown[a]=null)!=b&&b(),++s):(--t,null==u&&(u=[],_=[],d=[]),u.push(this.__cbOnceOwnerUnbindGamepadDown[a]),_.push(this.__cbOnceGamepadDown[a]),d.push(this.__onceOwnerGamepadDown[a]))}this.__cbOnceOwnerUnbindGamepadDown=u,this.__cbOnceGamepadDown=_,this.__onceOwnerGamepadDown=d}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGamepadDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadDown because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(null);null==this.__cbOnGamepadDown&&(this.__cbOnGamepadDown=[]),this.__cbOnGamepadDown.push(t),null==this.__onOwnerGamepadDown&&(this.__onOwnerGamepadDown=[]),this.__onOwnerGamepadDown.push(n)},onceGamepadDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadDown because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(null);null==this.__cbOnceGamepadDown&&(this.__cbOnceGamepadDown=[]),this.__cbOnceGamepadDown.push(t),null==this.__onceOwnerGamepadDown&&(this.__onceOwnerGamepadDown=[]),this.__onceOwnerGamepadDown.push(n)},offGamepadDown:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDown&&-1!=(n=this.__cbOnGamepadDown.indexOf(e))&&(this.__cbOnGamepadDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadDown[n])&&s(),this.__cbOnOwnerUnbindGamepadDown.splice(n,1),this.__onOwnerGamepadDown.splice(n,1)),null!=this.__cbOnceGamepadDown&&-1!=(n=this.__cbOnceGamepadDown.indexOf(e))&&(this.__cbOnceGamepadDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadDown[n])&&s(),this.__cbOnceOwnerUnbindGamepadDown.splice(n,1),this.__onceOwnerGamepadDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDown){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadDown[l])&&s()}this.__cbOnOwnerUnbindGamepadDown=null}if(null!=this.__cbOnceOwnerUnbindGamepadDown){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadDown[l])&&s()}this.__cbOnceOwnerUnbindGamepadDown=null}this.__cbOnGamepadDown=null,this.__cbOnceGamepadDown=null,this.__onOwnerGamepadDown=null,this.__onceOwnerGamepadDown=null}},listensGamepadDown:function(){return null!=this.__cbOnGamepadDown&&0<this.__cbOnGamepadDown.length||null!=this.__cbOnceGamepadDown&&0<this.__cbOnceGamepadDown.length},__cbOnGamepadUp:null,__cbOnceGamepadUp:null,__cbOnOwnerUnbindGamepadUp:null,__cbOnceOwnerUnbindGamepadUp:null,__onOwnerGamepadUp:null,__onceOwnerGamepadUp:null,emitGamepadUp:function(e,n){this.willEmitGamepadUp(e,n);var t=0;if(null!=this.__cbOnGamepadUp&&(t+=this.__cbOnGamepadUp.length),null!=this.__cbOnceGamepadUp&&(t+=this.__cbOnceGamepadUp.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadUp)for(var r=0,h=this.__cbOnGamepadUp.length;r<h;){var a=r++,o=this.__onOwnerGamepadUp[a],c=!1;null!=W.get_context().focusedWindow?null!=o&&(c=K._filterEventOwner(o)):c=!0,c?(l.vector[s]=this.__cbOnGamepadUp[a],++s):--t}if(null!=this.__cbOnceGamepadUp){for(var u=null,_=null,d=null,r=0,h=this.__cbOnceGamepadUp.length;r<h;){var b,a=r++,o=this.__onceOwnerGamepadUp[a],c=!1;null!=W.get_context().focusedWindow?null!=o&&(c=K._filterEventOwner(o)):c=!0,c?(l.vector[s]=this.__cbOnceGamepadUp[a],this.__cbOnceGamepadUp[a]=null,b=this.__cbOnceOwnerUnbindGamepadUp[a],(this.__cbOnceOwnerUnbindGamepadUp[a]=null)!=b&&b(),++s):(--t,null==u&&(u=[],_=[],d=[]),u.push(this.__cbOnceOwnerUnbindGamepadUp[a]),_.push(this.__cbOnceGamepadUp[a]),d.push(this.__onceOwnerGamepadUp[a]))}this.__cbOnceOwnerUnbindGamepadUp=u,this.__cbOnceGamepadUp=_,this.__onceOwnerGamepadUp=d}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGamepadUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadUp because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(null);null==this.__cbOnGamepadUp&&(this.__cbOnGamepadUp=[]),this.__cbOnGamepadUp.push(t),null==this.__onOwnerGamepadUp&&(this.__onOwnerGamepadUp=[]),this.__onOwnerGamepadUp.push(n)},onceGamepadUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadUp because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(null);null==this.__cbOnceGamepadUp&&(this.__cbOnceGamepadUp=[]),this.__cbOnceGamepadUp.push(t),null==this.__onceOwnerGamepadUp&&(this.__onceOwnerGamepadUp=[]),this.__onceOwnerGamepadUp.push(n)},offGamepadUp:function(e){if(null!=e){var n;null!=this.__cbOnGamepadUp&&-1!=(n=this.__cbOnGamepadUp.indexOf(e))&&(this.__cbOnGamepadUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadUp[n])&&s(),this.__cbOnOwnerUnbindGamepadUp.splice(n,1),this.__onOwnerGamepadUp.splice(n,1)),null!=this.__cbOnceGamepadUp&&-1!=(n=this.__cbOnceGamepadUp.indexOf(e))&&(this.__cbOnceGamepadUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadUp[n])&&s(),this.__cbOnceOwnerUnbindGamepadUp.splice(n,1),this.__onceOwnerGamepadUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadUp){for(var t=0,i=this.__cbOnOwnerUnbindGamepadUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadUp[l])&&s()}this.__cbOnOwnerUnbindGamepadUp=null}if(null!=this.__cbOnceOwnerUnbindGamepadUp){for(t=0,i=this.__cbOnceOwnerUnbindGamepadUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadUp[l])&&s()}this.__cbOnceOwnerUnbindGamepadUp=null}this.__cbOnGamepadUp=null,this.__cbOnceGamepadUp=null,this.__onOwnerGamepadUp=null,this.__onceOwnerGamepadUp=null}},listensGamepadUp:function(){return null!=this.__cbOnGamepadUp&&0<this.__cbOnGamepadUp.length||null!=this.__cbOnceGamepadUp&&0<this.__cbOnceGamepadUp.length},__cbOnGamepadGyro:null,__cbOnceGamepadGyro:null,__cbOnOwnerUnbindGamepadGyro:null,__cbOnceOwnerUnbindGamepadGyro:null,emitGamepadGyro:function(e,n,t,i){this.willEmitGamepadGyro(e,n,t,i);var l=0;if(null!=this.__cbOnGamepadGyro&&(l+=this.__cbOnGamepadGyro.length),null!=this.__cbOnceGamepadGyro&&(l+=this.__cbOnceGamepadGyro.length),0<l){var s=C.pool(l),r=s.get(),h=0;if(null!=this.__cbOnGamepadGyro)for(var a=0,o=this.__cbOnGamepadGyro.length;a<o;){var c=a++;!0?(r.vector[h]=this.__cbOnGamepadGyro[c],++h):--l}if(null!=this.__cbOnceGamepadGyro){for(var u=null,_=null,a=0,o=this.__cbOnceGamepadGyro.length;a<o;){var d,c=a++;!0?(r.vector[h]=this.__cbOnceGamepadGyro[c],this.__cbOnceGamepadGyro[c]=null,d=this.__cbOnceOwnerUnbindGamepadGyro[c],(this.__cbOnceOwnerUnbindGamepadGyro[c]=null)!=d&&d(),++h):(--l,null==u&&(u=[],_=[],0),u.push(this.__cbOnceOwnerUnbindGamepadGyro[c]),_.push(this.__cbOnceGamepadGyro[c]))}this.__cbOnceOwnerUnbindGamepadGyro=u,this.__cbOnceGamepadGyro=_}for(a=0,o=l;a<o;){h=a++;(0,r.vector[h])(e,n,t,i)}s.release(r)}},onGamepadGyro:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadGyro(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(null);null==this.__cbOnGamepadGyro&&(this.__cbOnGamepadGyro=[]),this.__cbOnGamepadGyro.push(t)},onceGamepadGyro:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadGyro(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(null);null==this.__cbOnceGamepadGyro&&(this.__cbOnceGamepadGyro=[]),this.__cbOnceGamepadGyro.push(t)},offGamepadGyro:function(e){if(null!=e){var n;null!=this.__cbOnGamepadGyro&&-1!=(n=this.__cbOnGamepadGyro.indexOf(e))&&(this.__cbOnGamepadGyro.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadGyro[n])&&s(),this.__cbOnOwnerUnbindGamepadGyro.splice(n,1)),null!=this.__cbOnceGamepadGyro&&-1!=(n=this.__cbOnceGamepadGyro.indexOf(e))&&(this.__cbOnceGamepadGyro.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadGyro[n])&&s(),this.__cbOnceOwnerUnbindGamepadGyro.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadGyro){for(var t=0,i=this.__cbOnOwnerUnbindGamepadGyro.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadGyro[l])&&s()}this.__cbOnOwnerUnbindGamepadGyro=null}if(null!=this.__cbOnceOwnerUnbindGamepadGyro){for(t=0,i=this.__cbOnceOwnerUnbindGamepadGyro.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadGyro[l])&&s()}this.__cbOnceOwnerUnbindGamepadGyro=null}this.__cbOnGamepadGyro=null,this.__cbOnceGamepadGyro=null}},listensGamepadGyro:function(){return null!=this.__cbOnGamepadGyro&&0<this.__cbOnGamepadGyro.length||null!=this.__cbOnceGamepadGyro&&0<this.__cbOnceGamepadGyro.length},__cbOnGamepadEnable:null,__cbOnceGamepadEnable:null,__cbOnOwnerUnbindGamepadEnable:null,__cbOnceOwnerUnbindGamepadEnable:null,emitGamepadEnable:function(e,n){this.willEmitGamepadEnable(e,n);var t=0;if(null!=this.__cbOnGamepadEnable&&(t+=this.__cbOnGamepadEnable.length),null!=this.__cbOnceGamepadEnable&&(t+=this.__cbOnceGamepadEnable.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnGamepadEnable)for(var r=0,h=this.__cbOnGamepadEnable.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnGamepadEnable[a],++s):--t}if(null!=this.__cbOnceGamepadEnable){for(var o=null,c=null,r=0,h=this.__cbOnceGamepadEnable.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceGamepadEnable[a],this.__cbOnceGamepadEnable[a]=null,u=this.__cbOnceOwnerUnbindGamepadEnable[a],(this.__cbOnceOwnerUnbindGamepadEnable[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindGamepadEnable[a]),c.push(this.__cbOnceGamepadEnable[a]))}this.__cbOnceOwnerUnbindGamepadEnable=o,this.__cbOnceGamepadEnable=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onGamepadEnable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadEnable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(null);null==this.__cbOnGamepadEnable&&(this.__cbOnGamepadEnable=[]),this.__cbOnGamepadEnable.push(t)},onceGamepadEnable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadEnable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(null);null==this.__cbOnceGamepadEnable&&(this.__cbOnceGamepadEnable=[]),this.__cbOnceGamepadEnable.push(t)},offGamepadEnable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadEnable&&-1!=(n=this.__cbOnGamepadEnable.indexOf(e))&&(this.__cbOnGamepadEnable.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadEnable[n])&&s(),this.__cbOnOwnerUnbindGamepadEnable.splice(n,1)),null!=this.__cbOnceGamepadEnable&&-1!=(n=this.__cbOnceGamepadEnable.indexOf(e))&&(this.__cbOnceGamepadEnable.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadEnable[n])&&s(),this.__cbOnceOwnerUnbindGamepadEnable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadEnable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadEnable.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadEnable[l])&&s()}this.__cbOnOwnerUnbindGamepadEnable=null}if(null!=this.__cbOnceOwnerUnbindGamepadEnable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadEnable.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadEnable[l])&&s()}this.__cbOnceOwnerUnbindGamepadEnable=null}this.__cbOnGamepadEnable=null,this.__cbOnceGamepadEnable=null}},listensGamepadEnable:function(){return null!=this.__cbOnGamepadEnable&&0<this.__cbOnGamepadEnable.length||null!=this.__cbOnceGamepadEnable&&0<this.__cbOnceGamepadEnable.length},__cbOnGamepadDisable:null,__cbOnceGamepadDisable:null,__cbOnOwnerUnbindGamepadDisable:null,__cbOnceOwnerUnbindGamepadDisable:null,emitGamepadDisable:function(e){this.willEmitGamepadDisable(e);var n=0;if(null!=this.__cbOnGamepadDisable&&(n+=this.__cbOnGamepadDisable.length),null!=this.__cbOnceGamepadDisable&&(n+=this.__cbOnceGamepadDisable.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnGamepadDisable)for(var s=0,r=this.__cbOnGamepadDisable.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnGamepadDisable[h],++l):--n}if(null!=this.__cbOnceGamepadDisable){for(var a=null,o=null,s=0,r=this.__cbOnceGamepadDisable.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceGamepadDisable[h],this.__cbOnceGamepadDisable[h]=null,c=this.__cbOnceOwnerUnbindGamepadDisable[h],(this.__cbOnceOwnerUnbindGamepadDisable[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindGamepadDisable[h]),o.push(this.__cbOnceGamepadDisable[h]))}this.__cbOnceOwnerUnbindGamepadDisable=a,this.__cbOnceGamepadDisable=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onGamepadDisable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDisable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(null);null==this.__cbOnGamepadDisable&&(this.__cbOnGamepadDisable=[]),this.__cbOnGamepadDisable.push(t)},onceGamepadDisable:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var l=function(e){null!=t&&(i.offGamepadDisable(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(null);null==this.__cbOnceGamepadDisable&&(this.__cbOnceGamepadDisable=[]),this.__cbOnceGamepadDisable.push(t)},offGamepadDisable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDisable&&-1!=(n=this.__cbOnGamepadDisable.indexOf(e))&&(this.__cbOnGamepadDisable.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGamepadDisable[n])&&s(),this.__cbOnOwnerUnbindGamepadDisable.splice(n,1)),null!=this.__cbOnceGamepadDisable&&-1!=(n=this.__cbOnceGamepadDisable.indexOf(e))&&(this.__cbOnceGamepadDisable.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGamepadDisable[n])&&s(),this.__cbOnceOwnerUnbindGamepadDisable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDisable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDisable.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGamepadDisable[l])&&s()}this.__cbOnOwnerUnbindGamepadDisable=null}if(null!=this.__cbOnceOwnerUnbindGamepadDisable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDisable.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGamepadDisable[l])&&s()}this.__cbOnceOwnerUnbindGamepadDisable=null}this.__cbOnGamepadDisable=null,this.__cbOnceGamepadDisable=null}},listensGamepadDisable:function(){return null!=this.__cbOnGamepadDisable&&0<this.__cbOnGamepadDisable.length||null!=this.__cbOnceGamepadDisable&&0<this.__cbOnceGamepadDisable.length},pressedScanCodes:null,pressedKeyCodes:null,pressedGamepadButtons:null,gamepadAxisValues:null,gamepadGyroDeltas:null,gamepadGyroKeys:null,gamepadNames:null,activeGamepads:null,resetDeltas:function(){for(;0<this.gamepadGyroKeys.length;){var e=this.gamepadGyroKeys.pop(),e=this.gamepadGyroDeltas.get(e);null!=e&&(e[0]=0,e[1]=0,e[2]=0)}},canEmitKeyDown:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},canEmitKeyUp:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},canEmitGamepadDown:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},canEmitGamepadUp:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},willEmitKeyDown:function(n){var t=this,e=this.pressedScanCodes.intMap.h[0|n.scanCode],i=null!=e?e:0,e=null!=(e=this.pressedKeyCodes.intMap.h[0|n.keyCode])?e:0;-1==i&&(e=i=0),this.pressedScanCodes.set(n.scanCode,i+1),this.pressedKeyCodes.set(n.keyCode,e+1),0==i&&ke.app.beginUpdateCallbacks.push(function(){var e=t.pressedScanCodes.intMap.h[0|n.scanCode];1==(null!=e?e:0)&&t.pressedScanCodes.set(n.scanCode,2),1==(null!=(e=t.pressedKeyCodes.intMap.h[0|n.keyCode])?e:0)&&t.pressedKeyCodes.set(n.keyCode,2)})},willEmitKeyUp:function(n){var t=this,e=this.pressedScanCodes.intMap.h[0|n.scanCode];0!=(null!=e?e:0)&&(this.pressedScanCodes.set(n.scanCode,-1),this.pressedKeyCodes.set(n.keyCode,-1),ke.app.beginUpdateCallbacks.push(function(){var e=t.pressedScanCodes.intMap.h[0|n.scanCode];-1==(null!=e?e:0)&&t.pressedScanCodes.set(n.scanCode,0),-1==(null!=(e=t.pressedKeyCodes.intMap.h[0|n.keyCode])?e:0)&&t.pressedKeyCodes.set(n.keyCode,0)}))},_keyPressed:function(e){e=this.pressedKeyCodes.intMap.h[0|e];return 0<(null!=e?e:0)},_keyJustPressed:function(e){e=this.pressedKeyCodes.intMap.h[0|e];return 1==(null!=e?e:0)},_keyJustReleased:function(e){e=this.pressedKeyCodes.intMap.h[0|e];return-1==(null!=e?e:0)},_scanPressed:function(e){e=this.pressedScanCodes.intMap.h[0|e];return 0<(null!=e?e:0)},_scanJustPressed:function(e){e=this.pressedScanCodes.intMap.h[0|e];return 1==(null!=e?e:0)},_scanJustReleased:function(e){e=this.pressedScanCodes.intMap.h[0|e];return-1==(null!=e?e:0)},willEmitGamepadEnable:function(e,n){for(var t=32*e,i=0;i<32;){var l=t+i++;this.pressedGamepadButtons.set(l,0),this.gamepadAxisValues.set(l,0)}-1==this.activeGamepads.indexOf(e)&&this.activeGamepads.push(e),this.gamepadNames.set(e,n)},willEmitGamepadDisable:function(e){for(var n=32*e,t=0;t<32;){var i=t++,l=n+i,s=this.pressedGamepadButtons.intMap.h[0|l],s=(0<(null!=s?s:0)&&this.emitGamepadUp(e,i),this.gamepadAxisValues.intMap.h[0|l]),l=null!=s?s:0;0!=l&&this.emitGamepadAxis(e,i,l)}var r=this.activeGamepads.indexOf(e);-1!=r&&this.activeGamepads.splice(r,1),this.gamepadNames.remove(e)},willEmitGamepadDown:function(e,n){var t=this,i=32*e+n,e=this.pressedGamepadButtons.intMap.h[0|i],n=null!=e?e:0;this.pressedGamepadButtons.set(i,(n=-1==n?0:n)+1),0==n&&ke.app.beginUpdateCallbacks.push(function(){var e=t.pressedGamepadButtons.intMap.h[0|i];1==(null!=e?e:0)&&t.pressedGamepadButtons.set(i,2)})},willEmitGamepadUp:function(e,n){var t=this,i=32*e+n;this.pressedGamepadButtons.set(i,-1),ke.app.beginUpdateCallbacks.push(function(){var e=t.pressedGamepadButtons.intMap.h[0|i];-1==(null!=e?e:0)&&t.pressedGamepadButtons.set(i,0)})},willEmitGamepadGyro:function(e,n,t,i){var l=this.gamepadGyroDeltas.get(e);null==l&&this.gamepadGyroDeltas.set(e,l=[0,0,0]),-1==this.gamepadGyroKeys.indexOf(e)&&this.gamepadGyroKeys.push(e),l[0]+=n,l[1]+=t,l[2]+=i},_gamepadPressed:function(e,n){e=this.pressedGamepadButtons.intMap.h[0|32*e+n];return 0<(null!=e?e:0)},_gamepadJustPressed:function(e,n){e=this.pressedGamepadButtons.intMap.h[0|32*e+n];return 1==(null!=e?e:0)},_gamepadJustReleased:function(e,n){e=this.pressedGamepadButtons.intMap.h[0|32*e+n];return-1==(null!=e?e:0)},willEmitGamepadAxis:function(e,n,t){this.gamepadAxisValues.set(32*e+n,t)},gamepadAxisValue:function(e,n){e=this.gamepadAxisValues.intMap.h[0|32*e+n];return null!=e?e:0},gamepadGyroDeltaX:function(e){e=this.gamepadGyroDeltas.get(e);return null!=e?e[0]:0},gamepadGyroDeltaY:function(e){e=this.gamepadGyroDeltas.get(e);return null!=e?e[1]:0},gamepadGyroDeltaZ:function(e){e=this.gamepadGyroDeltas.get(e);return null!=e?e[2]:0},startGamepadRumble:function(e,n,t,i){ke.app.backend.input.startGamepadRumble(e,t,i,n)},stopGamepadRumble:function(e){ke.app.backend.input.stopGamepadRumble(e)},gamepadName:function(e){return this.gamepadNames.get(e)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offKeyDown(),this.offKeyUp(),this.offGamepadAxis(),this.offGamepadDown(),this.offGamepadUp(),this.offGamepadGyro(),this.offGamepadEnable(),this.offGamepadDisable()},__class__:nt}),{}),it=(tt.__properties__={get_iterableKeys:"get_iterableKeys",get_size:"get_size"},tt.get_size=function(e){return e.size},tt.get_iterableKeys=function(e){return e.iterableKeys},tt._asIntBoolMap=function(e){return e},tt._new=function(e,n,t){return new Sn(e=null==e?16:e,n=null==n?.5:n,t=null==t?!1:t)},tt.exists=function(e,n){return e.intMap.h.hasOwnProperty(0|n)},tt.existsInline=function(e,n){return e.intMap.h.hasOwnProperty(0|n)},tt.get=function(e,n){e=e.intMap.h[0|n];return 0!=(null!=e?e:0)},tt.getInline=function(e,n){e=e.intMap.h[0|n];return 0!=(null!=e?e:0)},tt.set=function(e,n,t){e.set(n,t?1:0)},tt.remove=function(e,n){return 0!=e.remove(n)},tt.clear=function(e){e.clear()},tt.copy=function(e){var n=new Sn;return n.intMap=e.intMap.copy(),n.size=e.size,n.iterableKeys=null!=e.iterableKeys?e.iterableKeys.slice():null,n.iterableKeysUsed=null!=e.iterableKeysUsed?tt.copy(e.iterableKeysUsed):null,n},tt.iterator=function(e){return new it(e)},tt.keys=function(e){return new lt(e)},tt.keyValueIterator=function(e){return new st(e)},function(e){this.intBoolMap=e,this.i=0;e=this.intBoolMap.iterableKeys;this.len=null!=e?e.length:-1}),lt=((E["ceramic.IntBoolMapIterator"]=it).__name__="ceramic.IntBoolMapIterator",it.prototype={intBoolMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intBoolMap.iterableKeys[e],e=this.intBoolMap.intMap.h[0|e];return 0!=(null!=e?e:0)},__class__:it},function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1}),st=((E["ceramic.IntBoolMapKeyIterator"]=lt).__name__="ceramic.IntBoolMapKeyIterator",lt.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:lt},function(e){this.intBoolMap=e,this.i=0;e=this.intBoolMap.iterableKeys;this.len=null!=e?e.length:-1}),rt=((E["ceramic.IntBoolMapKeyValueIterator"]=st).__name__="ceramic.IntBoolMapKeyValueIterator",st.prototype={intBoolMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intBoolMap.iterableKeys[e],n=this.intBoolMap.intMap.h[0|e];return{key:e,value:0!=(null!=n?n:0)}},__class__:st},function(e,n,t){null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.size=0,this.iterableKeysUsed=null,this.iterableKeys=null,this.intMap=new $l,t&&(this.iterableKeys=[],this.iterableKeysUsed=new Sn(16,.5,!1))}),ht=((E["ceramic.IntFloatMap"]=rt).__name__="ceramic.IntFloatMap",rt.prototype={intMap:null,iterableKeys:null,iterableKeysUsed:null,size:null,clear:function(){this.intMap.h={},this.size=0,null!=this.iterableKeys&&(this.iterableKeys=[],this.iterableKeysUsed=new Sn(16,.5,!1))},exists:function(e){return this.intMap.h.hasOwnProperty(0|e)},set:function(e,n){null!=this.iterableKeys&&0==(null!=(t=this.iterableKeysUsed.intMap.h[0|e])?t:0)&&(this.iterableKeysUsed.set(e,1),this.iterableKeys.push(e));var t=0|e;return this.intMap.h.hasOwnProperty(t)||this.size++,this.intMap.h[t]=n},get:function(e){e=this.intMap.h[0|e];return null!=e?e:0},remove:function(e){var n,t=0|e,i=0;return null!=this.iterableKeys&&0!=(null!=(n=this.iterableKeysUsed.intMap.h[0|e])?n:0)&&(this.iterableKeysUsed.set(e,0),this.iterableKeys.splice(this.iterableKeys.indexOf(e),1)),this.intMap.h.hasOwnProperty(t)&&(i=this.intMap.h[t],this.size--),this.intMap.remove(t),i},getInline:function(e){e=this.intMap.h[0|e];return null!=e?e:0},existsInline:function(e){return this.intMap.h.hasOwnProperty(0|e)},copy:function(){var e=new rt;return e.intMap=this.intMap.copy(),e.size=this.size,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null,e.iterableKeysUsed=null!=this.iterableKeysUsed?tt.copy(this.iterableKeysUsed):null,e},iterator:function(){return new ht(this)},keys:function(){return new at(this)},keyValueIterator:function(){return new ut(this)},__class__:rt},function(e){this.intFloatMap=e,this.i=0;e=this.intFloatMap.iterableKeys;this.len=null!=e?e.length:-1}),at=((E["ceramic.IntFloatMapIterator"]=ht).__name__="ceramic.IntFloatMapIterator",ht.prototype={intFloatMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intFloatMap.iterableKeys[e],e=this.intFloatMap.intMap.h[0|e];return null!=e?e:0},__class__:ht},function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1}),ut=((E["ceramic.IntFloatMapKeyIterator"]=at).__name__="ceramic.IntFloatMapKeyIterator",at.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:at},function(e){this.intFloatMap=e,this.i=0;e=this.intFloatMap.iterableKeys;this.len=null!=e?e.length:-1}),_t=((E["ceramic.IntFloatMapKeyValueIterator"]=ut).__name__="ceramic.IntFloatMapKeyValueIterator",ut.prototype={intFloatMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intFloatMap.iterableKeys[e],n=this.intFloatMap.intMap.h[0|e];return{key:e,value:null!=n?n:0}},__class__:ut},function(e){this.intIntMap=e,this.i=0;e=this.intIntMap.iterableKeys;this.len=null!=e?e.length:-1}),dt=((E["ceramic.IntIntMapIterator"]=_t).__name__="ceramic.IntIntMapIterator",_t.prototype={intIntMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intIntMap.iterableKeys[e],e=this.intIntMap.intMap.h[0|e];return null!=e?e:0},__class__:_t},function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1}),bt=((E["ceramic.IntIntMapKeyIterator"]=dt).__name__="ceramic.IntIntMapKeyIterator",dt.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:dt},function(e){this.intIntMap=e,this.i=0;e=this.intIntMap.iterableKeys;this.len=null!=e?e.length:-1}),gt=((E["ceramic.IntIntMapKeyValueIterator"]=bt).__name__="ceramic.IntIntMapKeyValueIterator",bt.prototype={intIntMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intIntMap.iterableKeys[e],n=this.intIntMap.intMap.h[0|e];return{key:e,value:null!=n?n:0}},__class__:bt},function(e,n,t){null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.iterableKeys=null,this.nextFreeIndex=0,this.initialSize=e,this.initialFillFactor=n,this._keys=new Sn(e,n),this.values=new Array(e),t&&(this.iterableKeys=[])}),Ot=((E["ceramic.IntMap"]=gt).__name__="ceramic.IntMap",gt.prototype={_keys:null,nextFreeIndex:null,initialSize:null,initialFillFactor:null,iterableKeys:null,values:null,get:function(e){e=this._keys.intMap.h[0|e],e=null!=e?e:0;return 2<=e?this.values[e-2]:gt.RET_NULL},getInline:function(e){e=this._keys.intMap.h[0|e],e=null!=e?e:0;return 2<=e?this.values[e-2]:gt.RET_NULL},exists:function(e){return this._keys.intMap.h.hasOwnProperty(0|e)},existsInline:function(e){return this._keys.intMap.h.hasOwnProperty(0|e)},set:function(e,n){var t=this._keys.intMap.h[0|e],t=null!=t?t:0;if(2<=t)t-=2,null!=n?this.values[t]=n:(this.values[t]=null,this.nextFreeIndex>t&&(this.nextFreeIndex=t),this._keys.set(e,1));else if(null==n)1!=t&&(this._keys.set(e,1),null!=this.iterableKeys)&&this.iterableKeys.push(e);else{var i=this.values.length;for(this.nextFreeIndex>=i&&this.resizeValues(2*this.values.length),this.values[this.nextFreeIndex]=n,this._keys.set(e,this.nextFreeIndex+2),1!=t&&null!=this.iterableKeys&&this.iterableKeys.push(e);this.nextFreeIndex++,this.nextFreeIndex<i&&null!=this.values[this.nextFreeIndex];);}},remove:function(e){var n=this._keys.intMap.h[0|e],n=null!=n?n:0;0!=n&&(1!=n&&(this.values[n-=2]=null,this.nextFreeIndex>n)&&(this.nextFreeIndex=n),this._keys.remove(e),null!=this.iterableKeys)&&this.iterableKeys.splice(this.iterableKeys.indexOf(e),1)},copy:function(){var e=new gt,n=(e.initialSize=this.initialSize,e.initialFillFactor=this.initialFillFactor,this._keys),t=new Sn,n=(t.intMap=n.intMap.copy(),t.size=n.size,t.iterableKeys=null!=n.iterableKeys?n.iterableKeys.slice():null,t.iterableKeysUsed=null!=n.iterableKeysUsed?tt.copy(n.iterableKeysUsed):null,e._keys=t,e.nextFreeIndex=this.nextFreeIndex,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null,this.values),t=new Array(n.length);return ts.blit(n,0,t,0,n.length),e.values=t,e},clear:function(){if(this._keys=new Sn(this.initialSize,this.initialFillFactor),this.values=new Array(this.initialSize),this.nextFreeIndex=0,null!=this.iterableKeys){var e=this.iterableKeys;if(0!=e.length)if(0<e.length)e.splice(0,e.length);else for(var n=e;n.length<0;)n.push(null)}},iterator:function(){return new Ot(this)},keys:function(){return new ft(this)},keyValueIterator:function(){return new pt(this)},resizeValues:function(e){for(var n=this.values,t=(this.values=new Array(e),0),i=n.length;t<i;){var l=t++;this.values[l]=n[l]}},__class__:gt},function(e){this.intMap=e,this.i=0;e=this.intMap.iterableKeys;this.len=null!=e?e.length:-1}),ft=((E["ceramic.IntMapIterator"]=Ot).__name__="ceramic.IntMapIterator",Ot.prototype={intMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intMap.iterableKeys[e];return this.intMap.get(e)},__class__:Ot},function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1}),pt=((E["ceramic.IntMapKeyIterator"]=ft).__name__="ceramic.IntMapKeyIterator",ft.prototype={iterableKeys:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:ft},function(e){this.intMap=e,this.i=0;e=this.intMap.iterableKeys;this.len=null!=e?e.length:-1}),Ct=((E["ceramic.IntMapKeyValueIterator"]=pt).__name__="ceramic.IntMapKeyValueIterator",pt.prototype={intMap:null,i:null,len:null,hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,e=this.intMap.iterableKeys[e];return{key:e,value:this.intMap.get(e)}},__class__:pt},(E["ceramic.Json"]=wb).__name__="ceramic.Json",wb.stringify=function(e,n,t){return JSON.stringify(e,n,t)},wb.parse=function(e){return JSON.parse(e)},function(e,n){this.keyCode=e,this.scanCode=n}),vt=((E["ceramic.Key"]=Ct).__name__="ceramic.Key",Ct.prototype={keyCode:null,keyCodeName:null,get_keyCodeName:function(){return l.$name(this.keyCode)},scanCode:null,scanCodeName:null,get_scanCodeName:function(){return a.$name(this.scanCode)},toString:function(){return"Key("+this.keyCode+" "+l.$name(this.keyCode)+" / "+this.scanCode+" "+a.$name(this.scanCode)+")"},__class__:Ct,__properties__:{get_scanCodeName:"get_scanCodeName",get_keyCodeName:"get_keyCodeName"}},en["ceramic.KeyAcceleratorItem"]={__ename__:"ceramic.KeyAcceleratorItem",__constructs__:null,SHIFT:{_hx_name:"SHIFT",_hx_index:0,__enum__:"ceramic.KeyAcceleratorItem",toString:c},CMD_OR_CTRL:{_hx_name:"CMD_OR_CTRL",_hx_index:1,__enum__:"ceramic.KeyAcceleratorItem",toString:c},SCAN:((U=function(e){return{_hx_index:2,scanCode:e,__enum__:"ceramic.KeyAcceleratorItem",toString:c}})._hx_name="SCAN",U.__params__=["scanCode"],U),KEY:((U=function(e){return{_hx_index:3,keyCode:e,__enum__:"ceramic.KeyAcceleratorItem",toString:c}})._hx_name="KEY",U.__params__=["keyCode"],U)}),mt=(vt.__constructs__=[vt.SHIFT,vt.CMD_OR_CTRL,vt.SCAN,vt.KEY],(E["ceramic.KeyBinding"]=zb).__name__="ceramic.KeyBinding",zb.__super__=j,zb.prototype=$extend(j.prototype,{__cbOnTrigger:null,__cbOnceTrigger:null,__cbOnOwnerUnbindTrigger:null,__cbOnceOwnerUnbindTrigger:null,emitTrigger:function(){var e=0;if(null!=this.__cbOnTrigger&&(e+=this.__cbOnTrigger.length),null!=this.__cbOnceTrigger&&(e+=this.__cbOnceTrigger.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnTrigger)for(var l=0,s=this.__cbOnTrigger.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnTrigger[r],++i):--e}if(null!=this.__cbOnceTrigger){for(var h=null,a=null,l=0,s=this.__cbOnceTrigger.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceTrigger[r],this.__cbOnceTrigger[r]=null,o=this.__cbOnceOwnerUnbindTrigger[r],(this.__cbOnceOwnerUnbindTrigger[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindTrigger[r]),a.push(this.__cbOnceTrigger[r]))}this.__cbOnceOwnerUnbindTrigger=h,this.__cbOnceTrigger=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onTrigger:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event trigger because owner is destroyed!");var l=function(e){null!=t&&(i.offTrigger(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTrigger&&(this.__cbOnOwnerUnbindTrigger=[]),this.__cbOnOwnerUnbindTrigger.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTrigger&&(this.__cbOnOwnerUnbindTrigger=[]),this.__cbOnOwnerUnbindTrigger.push(null);null==this.__cbOnTrigger&&(this.__cbOnTrigger=[]),this.__cbOnTrigger.push(t)},onceTrigger:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event trigger because owner is destroyed!");var l=function(e){null!=t&&(i.offTrigger(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTrigger&&(this.__cbOnceOwnerUnbindTrigger=[]),this.__cbOnceOwnerUnbindTrigger.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTrigger&&(this.__cbOnceOwnerUnbindTrigger=[]),this.__cbOnceOwnerUnbindTrigger.push(null);null==this.__cbOnceTrigger&&(this.__cbOnceTrigger=[]),this.__cbOnceTrigger.push(t)},offTrigger:function(e){if(null!=e){var n;null!=this.__cbOnTrigger&&-1!=(n=this.__cbOnTrigger.indexOf(e))&&(this.__cbOnTrigger.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTrigger[n])&&s(),this.__cbOnOwnerUnbindTrigger.splice(n,1)),null!=this.__cbOnceTrigger&&-1!=(n=this.__cbOnceTrigger.indexOf(e))&&(this.__cbOnceTrigger.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTrigger[n])&&s(),this.__cbOnceOwnerUnbindTrigger.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTrigger){for(var t=0,i=this.__cbOnOwnerUnbindTrigger.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTrigger[l])&&s()}this.__cbOnOwnerUnbindTrigger=null}if(null!=this.__cbOnceOwnerUnbindTrigger){for(t=0,i=this.__cbOnceOwnerUnbindTrigger.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTrigger[l])&&s()}this.__cbOnceOwnerUnbindTrigger=null}this.__cbOnTrigger=null,this.__cbOnceTrigger=null}},listensTrigger:function(){return null!=this.__cbOnTrigger&&0<this.__cbOnTrigger.length||null!=this.__cbOnceTrigger&&0<this.__cbOnceTrigger.length},accelerator:null,bindings:null,pressedItems:null,matches:null,leftShiftPressed:null,rightShiftPressed:null,disableIfShiftPressed:null,cmdPressed:null,ctrlPressed:null,forceKeysUp:function(){this.leftShiftPressed=!1,this.rightShiftPressed=!1;for(var e=0,n=this.pressedItems.length;e<n;){var t=e++;this.pressedItems[t]=0}this.checkStatus()},bindKeyboardEvents:function(){for(var e=!1,n=0,t=this.accelerator.length;n<t;){var i=n++,l=(this.pressedItems.push(0),this.accelerator[i]);switch(l._hx_index){case 0:e=!0,this.bindScanCode(225,i),this.bindScanCode(229,i);break;case 1:this.disableIfShiftPressed=!0,this.bindScanCode(227,i),this.bindScanCode(231,i),this.bindScanCode(224,i),this.bindScanCode(228,i);break;case 2:var s=l.scanCode;this.bindScanCode(s,i);break;case 3:s=l.keyCode;this.bindKeyCode(s,i)}}e&&(this.disableIfShiftPressed=!1),this.disableIfShiftPressed&&this.bindShift()},bindScanCode:function(l,s){var r=this;ke.app.input.onKeyDown(this,function(e){var n,t,i;227==l||231==l?r.cmdPressed++:224!=l&&228!=l||r.ctrlPressed++,e.scanCode==l&&(n=ke.app.input,e=e.scanCode,t=r.bindings,(!nt._elementsImFocused()||(i=!1,null!=W.get_context().focusedWindow?null!=t&&(i=K._filterEventOwner(t)):i=!0,i))&&n._scanJustPressed(e)||0==r.pressedItems[s])&&(r.pressedItems[s]++,r.checkStatus(),0<r.cmdPressed||0<r.ctrlPressed)&&227!=l&&231!=l&&224!=l&&228!=l&&225!=l&&229!=l&&ke.app.onceUpdate(r,function(e){0<r.pressedItems[s]&&r.pressedItems[s]--,r.checkStatus()})}),ke.app.input.onKeyUp(this,function(e){if(227==l||231==l){if(r.cmdPressed--,0==r.cmdPressed&&0==r.ctrlPressed){for(var n=0,t=r.pressedItems.length;n<t;){n++;r.pressedItems[s]=0}return void r.checkStatus()}}else if((224==l||228==l)&&(r.ctrlPressed--,0==r.cmdPressed)&&0==r.ctrlPressed){for(n=0,t=r.pressedItems.length;n<t;){n++;r.pressedItems[s]=0}return void r.checkStatus()}e.scanCode==l&&(0<r.pressedItems[s]&&r.pressedItems[s]--,r.checkStatus())})},bindKeyCode:function(l,s){var r=this;ke.app.input.onKeyDown(this,function(e){var n,t,i;e.keyCode==l&&(n=ke.app.input,e=e.scanCode,t=r.bindings,(!nt._elementsImFocused()||(i=!1,null!=W.get_context().focusedWindow?null!=t&&(i=K._filterEventOwner(t)):i=!0,i))&&n._scanJustPressed(e)||0==r.pressedItems[s])&&(r.pressedItems[s]++,r.checkStatus(),0<r.cmdPressed||0<r.ctrlPressed)&&1073742051!=l&&1073742055!=l&&1073742048!=l&&1073742052!=l&&1073742049!=l&&1073742053!=l&&ke.app.onceUpdate(r,function(e){0<r.pressedItems[s]&&r.pressedItems[s]--,r.checkStatus()})}),ke.app.input.onKeyUp(this,function(e){e.keyCode==l&&(0<r.pressedItems[s]&&r.pressedItems[s]--,r.checkStatus())})},bindShift:function(){var n=this;ke.app.input.onKeyDown(this,function(e){225==e.scanCode?n.leftShiftPressed=!0:229==e.scanCode&&(n.rightShiftPressed=!0)}),ke.app.input.onKeyUp(this,function(e){225==e.scanCode?n.leftShiftPressed=!1:229==e.scanCode&&(n.rightShiftPressed=!1)})},checkStatus:function(){for(var e=!this.matches,n=!this.disableIfShiftPressed||!this.leftShiftPressed&&!this.rightShiftPressed,t=0,i=this.pressedItems.length;t<i;){var l=t++;if(this.pressedItems[l]<=0){n=!1;break}}n?(this.matches=!0,e&&this.emitTrigger()):this.matches=!1},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offTrigger()},__class__:zb}),function(){this.initializerName=null,this.bindings=[],j.call(this),mt.instances.push(this)}),l=((E["ceramic.KeyBindings"]=mt).__name__="ceramic.KeyBindings",mt.__interfaces__=[b0],mt.forceKeysUp=function(){for(var e=0,n=mt.instances;e<n.length;)for(var t=n[e],i=(++e,0),l=t.bindings;i<l.length;){var s=l[i];++i,s.forceKeysUp()}},mt.__super__=j,mt.prototype=$extend(j.prototype,{bindings:null,bindAsComponent:function(){},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.bindings){for(;0<this.bindings.length;)this.bindings.pop().destroy();this.bindings=null}mt.instances.splice(mt.instances.indexOf(this),1)}},bind:function(e,n){e=new zb(e,this);return this.bindings.push(e),null!=n&&e.onTrigger(this,n),e},entity:null,setEntity:function(e){this.entity=e instanceof j?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:mt}),{}),wt=(l.$name=function(e){if(0!=(e&a.MASK))return a.$name(e&~a.MASK);switch(e){case 8:return a.$name(42);case 9:return a.$name(43);case 13:return a.$name(40);case 27:return a.$name(41);case 32:return a.$name(44);case 97:return a.$name(4);case 98:return a.$name(5);case 99:return a.$name(6);case 100:return a.$name(7);case 101:return a.$name(8);case 102:return a.$name(9);case 103:return a.$name(10);case 104:return a.$name(11);case 105:return a.$name(12);case 106:return a.$name(13);case 107:return a.$name(14);case 108:return a.$name(15);case 109:return a.$name(16);case 110:return a.$name(17);case 111:return a.$name(18);case 112:return a.$name(19);case 113:return a.$name(20);case 114:return a.$name(21);case 115:return a.$name(22);case 116:return a.$name(23);case 117:return a.$name(24);case 118:return a.$name(25);case 119:return a.$name(26);case 120:return a.$name(27);case 121:return a.$name(28);case 122:return a.$name(29);case 127:return a.$name(76);default:return String.fromCodePoint(e)}},l.toString=function(e){return"KeyCode("+e+" "+l.$name(e)+")"},(E["ceramic.LayersLayout"]=Cb).__name__="ceramic.LayersLayout",Cb.__super__=g0,Cb.prototype=$extend(g0.prototype,{computeSize:function(e,n,t,i){var l,s=this.paddingLeft,r=0==s?0:s<-39999.9&&-60000.1<s?.01*(s+5e4)*e:-60002.1<s&&s<-60001.9?e:s,h=0==(s=this.paddingTop)?0:s<-39999.9&&-60000.1<s?.01*(s+5e4)*n:-60002.1<s&&s<-60001.9?n:s,a=0==(s=this.paddingRight)?0:s<-39999.9&&-60000.1<s?.01*(s+5e4)*e:-60002.1<s&&s<-60001.9?e:s,s=0==(s=this.paddingBottom)?0:s<-39999.9&&-60000.1<s?.01*(s+5e4)*n:-60002.1<s&&s<-60001.9?n:s,o=(g0.prototype.computeSize.call(this,e,n,t,i),this.computedSize.computedWidth),c=this.computedSize.computedHeight,u=15,_=this.viewWidth,d=0,b=0;if(!!(-60001.1<_&&_<-60000.9)&&(null==(l=null)?1==(1&t):(t=l?1|t:-2&t,l))||(o-=r+a),!!(-60001.1<(_=this.viewHeight)&&_<-60000.9)&&(null==(l=null)?4==(4&t):(t=l?4|t:-5&t,l))||(c-=h+s),null!=this.subviews)for(var g=0,O=this.subviews.length;g<O;){var f=g++;1!=(1&(C=this.subviews[f]).flags)&&(C.computedSize=C.persistedComputedSizeForContext(o,c,u),null==C.computedSize&&C.computeSize(o,c,u,!1),C.computedSize.computedWidth>d&&(d=C.computedSize.computedWidth),C.computedSize.computedHeight>b)&&(b=C.computedSize.computedHeight)}if((null==(l=null)?1==(1&u):(u=l?1|u:-2&u,l))&&o<d&&(o=d),(null==(l=null)?4==(4&u):(u=l?4|u:-5&u,l))&&c<b&&(c=b),i){var p=u;if(null!=this.subviews)for(g=0,O=this.subviews.length;g<O;){var C,f=g++;1!=(1&(C=this.subviews[f]).flags)&&(C.computedSize=C.persistedComputedSizeForContext(o,c,p),null==C.computedSize)&&C.computeSize(o,c,p,i)}}o+=r+a,c+=h+s,i?this.persistComputedSize(e,n,t,o,c):this.assignComputedSize(o,c)},layout:function(){var e=this.paddingLeft,n=this.get_width(),t=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingTop,n=this.get_height(),i=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingRight,n=this.get_width(),l=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingBottom,n=this.get_height(),n=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,s=this.get_width()-t-l,r=this.get_height()-i-n,h=1;if(null!=this.subviews)for(var a=0,o=this.subviews.length;a<o;){var c,u,_=a++,_=this.subviews[_];1!=(1&_.flags)&&(_.computedSize=_.persistedComputedSizeForContext(s,r,15),null==_.computedSize&&_.computeSize(s,r,15,!1),c=_.computedSize.computedHeight,_.set_width(_.computedSize.computedWidth),_.set_height(c),c=_.get_width()*_.anchorX+t,e=_.offsetX,_.set_x(c+(0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*s:-60002.1<e&&e<-60001.9?s:e)),c=_.get_height()*_.anchorY+i,u=_.offsetY,_.set_y(c+(0==u?0:u<-39999.9&&-60000.1<u?.01*(u+5e4)*r:-60002.1<u&&u<-60001.9?r:u)),_.set_depth(h++))}},__class__:Cb}),en["ceramic.LayoutAlign"]={__ename__:"ceramic.LayoutAlign",__constructs__:null,LEFT:{_hx_name:"LEFT",_hx_index:0,__enum__:"ceramic.LayoutAlign",toString:c},RIGHT:{_hx_name:"RIGHT",_hx_index:1,__enum__:"ceramic.LayoutAlign",toString:c},TOP:{_hx_name:"TOP",_hx_index:2,__enum__:"ceramic.LayoutAlign",toString:c},BOTTOM:{_hx_name:"BOTTOM",_hx_index:3,__enum__:"ceramic.LayoutAlign",toString:c},CENTER:{_hx_name:"CENTER",_hx_index:4,__enum__:"ceramic.LayoutAlign",toString:c}}),yt=(wt.__constructs__=[wt.LEFT,wt.RIGHT,wt.TOP,wt.BOTTOM,wt.CENTER],en["ceramic.LayoutDirection"]={__ename__:"ceramic.LayoutDirection",__constructs__:null,HORIZONTAL:{_hx_name:"HORIZONTAL",_hx_index:0,__enum__:"ceramic.LayoutDirection",toString:c},VERTICAL:{_hx_name:"VERTICAL",_hx_index:1,__enum__:"ceramic.LayoutDirection",toString:c}}),Ut=(yt.__constructs__=[yt.HORIZONTAL,yt.VERTICAL],(E["polyline.MiterUtils"]=Fb).__name__="polyline.MiterUtils",Fb.prototype={tangentX:null,tangentY:null,miterX:null,miterY:null,aX:null,aY:null,bX:null,bY:null,outX:null,outY:null,tmpX:null,tmpY:null,computeMiter:function(e){return this.tangentX=this.aX+this.bX,this.tangentY=this.aY+this.bY,this.miterX=-this.tangentY,this.miterY=this.tangentX,this.tmpX=-this.aY,this.tmpY=this.aX,e/(this.miterX*this.tmpX+this.miterY*this.tmpY)},normal:function(e,n){this.outX=-n,this.outY=e},direction:function(){this.outX=this.aX-this.bX,this.outY=this.aY-this.bY;var e=this.outX*this.outX+this.outY*this.outY;0<e&&(e=1/Math.sqrt(e),this.outX*=e,this.outY*=e)},__class__:Fb},(E["polyline.Stroke"]=Gb).__name__="polyline.Stroke",Gb.prototype={miterLimit:null,thickness:null,join:null,cap:null,canLoop:null,tmpX:null,tmpY:null,lineAX:null,lineAY:null,lineBX:null,lineBY:null,tangentX:null,tangentY:null,miterX:null,miterY:null,capEndX:null,capEndY:null,_hasNormal:null,_normalX:null,_normalY:null,_lastFlip:null,_started:null,_points:null,build:function(e,n,t){if(0<n.length&&n.splice(0,n.length),0<t.length&&t.splice(0,t.length),0!=e.length){var i,l,s,r,h,a,o,c,u,_,d,b,g,O,f,p,C,v,m,E=e.length,w=(this._lastFlip=-1,this._started=!1,2),y=0,U=this._hasNormal=!1,D=0,T=0,x=0,S=0,A=-9999999999,k=-9999999999,I=0;for(this._points=e;w<E;){if(U||(D=e[w-2],T=e[w-1],x=e[w],S=e[w+1]),U=!(k=A=-9999999999),I=this.mapThickness(x,S,w,e),w<E-2)if(A=e[w+2],k=e[w+3],x==A&&S==k)U=!0;else{var P=D-x,F=T-S,B=((A-x)*P+(k-S)*F)/(P*P+F*F),P=A-(x+B*P),B=k-(S+B*F);if(Math.sqrt(P*P+B*B)<I){for(var M=Math.atan2(T-S,D-x)-Math.atan2(k-S,A-x);M<0;)M+=6.28318530718;for(;6.28318530718<M;)M-=6.28318530718;(M<1.57079632679||4.71238898038<M)&&(k=A=-9999999999)}}U||(F=D,P=T,B=x,i=S,d=.5*I,l=0,o=this.cap==Us.SQUARE,O=this.join==Ds.BEVEL,Gb.miterUtils.aX=B,Gb.miterUtils.aY=i,Gb.miterUtils.bX=F,Gb.miterUtils.bY=P,(f=Gb.miterUtils).outX=f.aX-f.bX,f.outY=f.aY-f.bY,0<(_=f.outX*f.outX+f.outY*f.outY)&&(_=1/Math.sqrt(_),f.outX*=_,f.outY*=_),this.lineAX=Gb.miterUtils.outX,this.lineAY=Gb.miterUtils.outY,this._hasNormal||((s=Gb.miterUtils).outX=-this.lineAY,s.outY=this.lineAX,this._normalX=Gb.miterUtils.outX,this._normalY=Gb.miterUtils.outY,this._hasNormal=!0),this._started||(this._started=!0,s=.5*this.mapThickness(this._points[0],this._points[1],0,this._points),o&&(this.capEndX=F+this.lineAX*-s,this.capEndY=P+this.lineAY*-s,F=this.capEndX,P=this.capEndY),r=this._normalX,h=this._normalY,this.tmpX=F+r*-s,this.tmpY=P+h*-s,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=F+r*s,this.tmpY=P+h*s,n.push(this.tmpX),n.push(this.tmpY)),t.push(y),t.push(y+1),t.push(y+2),-9999999999==A?((r=Gb.miterUtils).outX=-this.lineAY,r.outY=this.lineAX,this._normalX=Gb.miterUtils.outX,this._normalY=Gb.miterUtils.outY,this._hasNormal=!0,o&&(this.capEndX=B+this.lineAX*d,this.capEndY=i+this.lineAY*d,B=this.capEndX,i=this.capEndY),h=this._normalX,o=this._normalY,this.tmpX=B+h*-d,this.tmpY=i+o*-d,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=B+h*d,this.tmpY=i+o*d,n.push(this.tmpX),n.push(this.tmpY),1==this._lastFlip?(t.push(y),t.push(y+2)):(t.push(y+2),t.push(y+1)),t.push(y+3),l+=4):(Gb.miterUtils.aX=A,Gb.miterUtils.aY=k,Gb.miterUtils.bX=B,Gb.miterUtils.bY=i,(o=Gb.miterUtils).outX=o.aX-o.bX,o.outY=o.aY-o.bY,0<(a=o.outX*o.outX+o.outY*o.outY)&&(a=1/Math.sqrt(a),o.outX*=a,o.outY*=a),this.lineBX=Gb.miterUtils.outX,this.lineBY=Gb.miterUtils.outY,Gb.miterUtils.tangentX=this.tangentX,Gb.miterUtils.tangentY=this.tangentY,Gb.miterUtils.miterX=this.miterX,Gb.miterUtils.miterY=this.miterY,Gb.miterUtils.aX=this.lineAX,Gb.miterUtils.aY=this.lineAY,Gb.miterUtils.bX=this.lineBX,Gb.miterUtils.bY=this.lineBY,(o=Gb.miterUtils).tangentX=o.aX+o.bX,o.tangentY=o.aY+o.bY,o.miterX=-o.tangentY,o.miterY=o.tangentX,o.tmpX=-o.aY,o.tmpY=o.aX,b=d/(o.miterX*o.tmpX+o.miterY*o.tmpY),this.tangentX=Gb.miterUtils.tangentX,this.tangentY=Gb.miterUtils.tangentY,this.miterX=Gb.miterUtils.miterX,this.miterY=Gb.miterUtils.miterY,a=this.tangentX*this._normalX+this.tangentY*this._normalY<0?-1:1,(o=O)||this.join!=Ds.MITER||b/d>this.miterLimit&&(o=!0),o?(this.tmpX=B+this._normalX*-d*a,this.tmpY=i+this._normalY*-d*a,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=B+this.miterX*b*a,this.tmpY=i+this.miterY*b*a,n.push(this.tmpX),n.push(this.tmpY),this._lastFlip!=-a?(t.push(y),t.push(y+2)):(t.push(y+2),t.push(y+1)),t.push(y+3),t.push(y+2),t.push(y+3),t.push(y+4),(o=Gb.miterUtils).outX=-this.lineBY,o.outY=this.lineBX,this.tmpX=Gb.miterUtils.outX,this.tmpY=Gb.miterUtils.outY,this._normalX=this.tmpX,this._normalY=this.tmpY,this.tmpX=B+this.tmpX*-d*a,this.tmpY=i+this.tmpY*-d*a,n.push(this.tmpX),n.push(this.tmpY),l+=3):(o=this.miterX,c=this.miterY,this.tmpX=B+o*-b,this.tmpY=i+c*-b,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=B+o*b,this.tmpY=i+c*b,n.push(this.tmpX),n.push(this.tmpY),1==this._lastFlip?(t.push(y),t.push(y+2)):(t.push(y+2),t.push(y+1)),t.push(y+3),a=-1,this._normalX=this.miterX,this._normalY=this.miterY,l+=2),this._lastFlip=a),y+=l),-9999999999==A&&(this._lastFlip=-1,this._started=!1,U=this._hasNormal=!1),w+=2}this._points=null,this.canLoop&&this.cap==Us.BUTT&&e[0]==e[e.length-2]&&e[1]==e[e.length-1]&&6<e.length&&(g=e[2],p=e[3],v=e[e.length-4],C=e[e.length-3],u=e[0],m=e[1],Gb.miterUtils.aX=g,Gb.miterUtils.aY=p,Gb.miterUtils.bX=u,Gb.miterUtils.bY=m,(f=Gb.miterUtils).outX=f.aX-f.bX,f.outY=f.aY-f.bY,0<(_=f.outX*f.outX+f.outY*f.outY)&&(_=1/Math.sqrt(_),f.outX*=_,f.outY*=_),g=Gb.miterUtils.outX,p=Gb.miterUtils.outY,Gb.miterUtils.aX=u,Gb.miterUtils.aY=m,Gb.miterUtils.bX=v,Gb.miterUtils.bY=C,(f=Gb.miterUtils).outX=f.aX-f.bX,f.outY=f.aY-f.bY,0<(_=f.outX*f.outX+f.outY*f.outY)&&(_=1/Math.sqrt(_),f.outX*=_,f.outY*=_),v=Gb.miterUtils.outX,C=Gb.miterUtils.outY,Gb.miterUtils.aX=v,Gb.miterUtils.aY=C,Gb.miterUtils.bX=g,Gb.miterUtils.bY=p,d=.5*I,(f=Gb.miterUtils).tangentX=f.aX+f.bX,f.tangentY=f.aY+f.bY,f.miterX=-f.tangentY,f.miterY=f.tangentX,f.tmpX=-f.aY,f.tmpY=f.aX,b=d/(f.miterX*f.tmpX+f.miterY*f.tmpY),g=Gb.miterUtils.miterX,p=Gb.miterUtils.miterY,(O=this.join==Ds.BEVEL)||this.join!=Ds.MITER||b/d>this.miterLimit&&(O=!0),O&&((f=Gb.miterUtils).outX=-C,f.outY=v,g=Gb.miterUtils.outX,p=Gb.miterUtils.outY,b=d),C=m+p*-b,v=u+g*b,m=m+p*b,n[0]=p=u+g*-b,n[1]=C,n[2]=v,n[3]=m,n[n.length-4]=p,n[n.length-3]=C,n[n.length-2]=v,n[n.length-1]=m)}},mapThickness:function(e,n,t,i){return this.thickness},_seg:function(e,n,t,i,l,s,r,h,a,o){var c,u,_,d=0,b=this.cap==Us.SQUARE,g=this.join==Ds.BEVEL,O=(Gb.miterUtils.aX=s,Gb.miterUtils.aY=r,Gb.miterUtils.bX=i,Gb.miterUtils.bY=l,Gb.miterUtils),f=(O.outX=O.aX-O.bX,O.outY=O.aY-O.bY,O.outX*O.outX+O.outY*O.outY);return 0<f&&(f=1/Math.sqrt(f),O.outX*=f,O.outY*=f),this.lineAX=Gb.miterUtils.outX,this.lineAY=Gb.miterUtils.outY,this._hasNormal||((O=Gb.miterUtils).outX=-this.lineAY,O.outY=this.lineAX,this._normalX=Gb.miterUtils.outX,this._normalY=Gb.miterUtils.outY,this._hasNormal=!0),this._started||(this._started=!0,c=.5*this.mapThickness(this._points[0],this._points[1],0,this._points),b&&(this.capEndX=i+this.lineAX*-c,this.capEndY=l+this.lineAY*-c,i=this.capEndX,l=this.capEndY),u=this._normalX,_=this._normalY,this.tmpX=i+u*-c,this.tmpY=l+_*-c,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=i+u*c,this.tmpY=l+_*c,e.push(this.tmpX),e.push(this.tmpY)),n.push(t),n.push(t+1),n.push(t+2),-9999999999==h?((O=Gb.miterUtils).outX=-this.lineAY,O.outY=this.lineAX,this._normalX=Gb.miterUtils.outX,this._normalY=Gb.miterUtils.outY,this._hasNormal=!0,b&&(this.capEndX=s+this.lineAX*o,this.capEndY=r+this.lineAY*o,s=this.capEndX,r=this.capEndY),u=this._normalX,_=this._normalY,this.tmpX=s+u*-o,this.tmpY=r+_*-o,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=s+u*o,this.tmpY=r+_*o,e.push(this.tmpX),e.push(this.tmpY),1==this._lastFlip?(n.push(t),n.push(t+2)):(n.push(t+2),n.push(t+1)),n.push(t+3),d+=4):(Gb.miterUtils.aX=h,Gb.miterUtils.aY=a,Gb.miterUtils.bX=s,Gb.miterUtils.bY=r,(O=Gb.miterUtils).outX=O.aX-O.bX,O.outY=O.aY-O.bY,0<(f=O.outX*O.outX+O.outY*O.outY)&&(f=1/Math.sqrt(f),O.outX*=f,O.outY*=f),this.lineBX=Gb.miterUtils.outX,this.lineBY=Gb.miterUtils.outY,Gb.miterUtils.tangentX=this.tangentX,Gb.miterUtils.tangentY=this.tangentY,Gb.miterUtils.miterX=this.miterX,Gb.miterUtils.miterY=this.miterY,Gb.miterUtils.aX=this.lineAX,Gb.miterUtils.aY=this.lineAY,Gb.miterUtils.bX=this.lineBX,Gb.miterUtils.bY=this.lineBY,(O=Gb.miterUtils).tangentX=O.aX+O.bX,O.tangentY=O.aY+O.bY,O.miterX=-O.tangentY,O.miterY=O.tangentX,O.tmpX=-O.aY,O.tmpY=O.aX,i=o/(O.miterX*O.tmpX+O.miterY*O.tmpY),this.tangentX=Gb.miterUtils.tangentX,this.tangentY=Gb.miterUtils.tangentY,this.miterX=Gb.miterUtils.miterX,this.miterY=Gb.miterUtils.miterY,l=this.tangentX*this._normalX+this.tangentY*this._normalY<0?-1:1,(c=g)||this.join!=Ds.MITER||i/o>this.miterLimit&&(c=!0),c?(this.tmpX=s+this._normalX*-o*l,this.tmpY=r+this._normalY*-o*l,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=s+this.miterX*i*l,this.tmpY=r+this.miterY*i*l,e.push(this.tmpX),e.push(this.tmpY),this._lastFlip!=-l?(n.push(t),n.push(t+2)):(n.push(t+2),n.push(t+1)),n.push(t+3),n.push(t+2),n.push(t+3),n.push(t+4),(O=Gb.miterUtils).outX=-this.lineBY,O.outY=this.lineBX,this.tmpX=Gb.miterUtils.outX,this.tmpY=Gb.miterUtils.outY,this._normalX=this.tmpX,this._normalY=this.tmpY,this.tmpX=s+this.tmpX*-o*l,this.tmpY=r+this.tmpY*-o*l,e.push(this.tmpX),e.push(this.tmpY),d+=3):(u=this.miterX,_=this.miterY,this.tmpX=s+u*-i,this.tmpY=r+_*-i,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=s+u*i,this.tmpY=r+_*i,e.push(this.tmpX),e.push(this.tmpY),1==this._lastFlip?(n.push(t),n.push(t+2)):(n.push(t+2),n.push(t+1)),n.push(t+3),l=-1,this._normalX=this.miterX,this._normalY=this.miterY,d+=2),this._lastFlip=l),d},extrusions:function(e,n,t,i,l,s){this.tmpX=n+i*-s,this.tmpY=t+l*-s,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=n+i*s,this.tmpY=t+l*s,e.push(this.tmpX),e.push(this.tmpY)},pointsAngle:function(e,n,t,i,l,s){for(var r=Math.atan2(s-n,l-e)-Math.atan2(i-n,t-e);r<0;)r+=6.28318530718;for(;6.28318530718<r;)r-=6.28318530718;return r},distanceToLine:function(e,n,t,i,l,s){var l=l-t,s=s-i,r=((e-t)*l+(n-i)*s)/(l*l+s*s),e=e-(t+r*l),t=n-(i+r*s);return Math.sqrt(e*e+t*t)},__class__:Gb},(E["ceramic.Line"]=Hb).__name__="ceramic.Line",Hb.__super__=Aa,Hb.prototype=$extend(Aa.prototype,{points:null,set_points:function(e){return this.points=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0,e},miterLimit:null,set_miterLimit:function(e){return this.miterLimit!=e&&(this.miterLimit=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},thickness:null,set_thickness:function(e){return this.thickness!=e&&(this.thickness=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},join:null,set_join:function(e){return this.join!=e&&(this.join=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},cap:null,set_cap:function(e){return this.cap!=e&&(this.cap=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},loop:null,set_loop:function(e){return this.loop!=e&&(this.loop=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},autoComputeSize:null,set_autoComputeSize:function(e){return this.autoComputeSize!=e&&(this.autoComputeSize=e)&&this.computeSize(),e},computeContent:function(){null!=this.points&&4<=this.points.length&&(Hb._stroke.miterLimit=this.miterLimit,Hb._stroke.thickness=this.thickness,Hb._stroke.join=this.join,Hb._stroke.cap=this.cap,Hb._stroke.canLoop=this.loop,null==this.vertices&&(this.vertices=[]),null==this.indices&&(this.indices=[]),Hb._stroke.build(this.points,this.vertices,this.indices)),this.autoComputeSize&&this.computeSize(),this.contentDirty=!1},computeSize:function(){if(null!=this.points&&2<=this.points.length){for(var e=0,n=0,t=0,i=this.points.length-1;t<i;){var l=this.points[t],l=(e<l&&(e=l),++t,this.points[t]);n<l&&(n=l),++t}this.set_width(e),this.set_height(n)}else this.set_width(0),this.set_height(0)},__class__:Hb,__properties__:$extend(Aa.prototype.__properties__,{set_autoComputeSize:"set_autoComputeSize",set_loop:"set_loop",set_cap:"set_cap",set_join:"set_join",set_thickness:"set_thickness",set_miterLimit:"set_miterLimit",set_points:"set_points"})}),function(){this.indentPrefix="",j.call(this),Ut.didInitOnce||(Ut.didInitOnce=!0)}),Dt=((E["ceramic.Logger"]=Ut).__name__="ceramic.Logger",Ut.__super__=j,Ut.prototype=$extend(j.prototype,{__cbOnInfo:null,__cbOnceInfo:null,__cbOnOwnerUnbindInfo:null,__cbOnceOwnerUnbindInfo:null,emitInfo:function(e,n){var t=0;if(null!=this.__cbOnInfo&&(t+=this.__cbOnInfo.length),null!=this.__cbOnceInfo&&(t+=this.__cbOnceInfo.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInfo)for(var r=0,h=this.__cbOnInfo.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInfo[a],++s):--t}if(null!=this.__cbOnceInfo){for(var o=null,c=null,r=0,h=this.__cbOnceInfo.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInfo[a],this.__cbOnceInfo[a]=null,u=this.__cbOnceOwnerUnbindInfo[a],(this.__cbOnceOwnerUnbindInfo[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInfo[a]),c.push(this.__cbOnceInfo[a]))}this.__cbOnceOwnerUnbindInfo=o,this.__cbOnceInfo=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInfo:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event info because owner is destroyed!");var l=function(e){null!=t&&(i.offInfo(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInfo&&(this.__cbOnOwnerUnbindInfo=[]),this.__cbOnOwnerUnbindInfo.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInfo&&(this.__cbOnOwnerUnbindInfo=[]),this.__cbOnOwnerUnbindInfo.push(null);null==this.__cbOnInfo&&(this.__cbOnInfo=[]),this.__cbOnInfo.push(t)},onceInfo:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event info because owner is destroyed!");var l=function(e){null!=t&&(i.offInfo(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInfo&&(this.__cbOnceOwnerUnbindInfo=[]),this.__cbOnceOwnerUnbindInfo.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInfo&&(this.__cbOnceOwnerUnbindInfo=[]),this.__cbOnceOwnerUnbindInfo.push(null);null==this.__cbOnceInfo&&(this.__cbOnceInfo=[]),this.__cbOnceInfo.push(t)},offInfo:function(e){if(null!=e){var n;null!=this.__cbOnInfo&&-1!=(n=this.__cbOnInfo.indexOf(e))&&(this.__cbOnInfo.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInfo[n])&&s(),this.__cbOnOwnerUnbindInfo.splice(n,1)),null!=this.__cbOnceInfo&&-1!=(n=this.__cbOnceInfo.indexOf(e))&&(this.__cbOnceInfo.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInfo[n])&&s(),this.__cbOnceOwnerUnbindInfo.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInfo){for(var t=0,i=this.__cbOnOwnerUnbindInfo.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInfo[l])&&s()}this.__cbOnOwnerUnbindInfo=null}if(null!=this.__cbOnceOwnerUnbindInfo){for(t=0,i=this.__cbOnceOwnerUnbindInfo.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInfo[l])&&s()}this.__cbOnceOwnerUnbindInfo=null}this.__cbOnInfo=null,this.__cbOnceInfo=null}},listensInfo:function(){return null!=this.__cbOnInfo&&0<this.__cbOnInfo.length||null!=this.__cbOnceInfo&&0<this.__cbOnceInfo.length},__cbOnDebug:null,__cbOnceDebug:null,__cbOnOwnerUnbindDebug:null,__cbOnceOwnerUnbindDebug:null,emitDebug:function(e,n){var t=0;if(null!=this.__cbOnDebug&&(t+=this.__cbOnDebug.length),null!=this.__cbOnceDebug&&(t+=this.__cbOnceDebug.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDebug)for(var r=0,h=this.__cbOnDebug.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDebug[a],++s):--t}if(null!=this.__cbOnceDebug){for(var o=null,c=null,r=0,h=this.__cbOnceDebug.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDebug[a],this.__cbOnceDebug[a]=null,u=this.__cbOnceOwnerUnbindDebug[a],(this.__cbOnceOwnerUnbindDebug[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDebug[a]),c.push(this.__cbOnceDebug[a]))}this.__cbOnceOwnerUnbindDebug=o,this.__cbOnceDebug=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDebug:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event debug because owner is destroyed!");var l=function(e){null!=t&&(i.offDebug(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDebug&&(this.__cbOnOwnerUnbindDebug=[]),this.__cbOnOwnerUnbindDebug.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDebug&&(this.__cbOnOwnerUnbindDebug=[]),this.__cbOnOwnerUnbindDebug.push(null);null==this.__cbOnDebug&&(this.__cbOnDebug=[]),this.__cbOnDebug.push(t)},onceDebug:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event debug because owner is destroyed!");var l=function(e){null!=t&&(i.offDebug(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDebug&&(this.__cbOnceOwnerUnbindDebug=[]),this.__cbOnceOwnerUnbindDebug.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDebug&&(this.__cbOnceOwnerUnbindDebug=[]),this.__cbOnceOwnerUnbindDebug.push(null);null==this.__cbOnceDebug&&(this.__cbOnceDebug=[]),this.__cbOnceDebug.push(t)},offDebug:function(e){if(null!=e){var n;null!=this.__cbOnDebug&&-1!=(n=this.__cbOnDebug.indexOf(e))&&(this.__cbOnDebug.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDebug[n])&&s(),this.__cbOnOwnerUnbindDebug.splice(n,1)),null!=this.__cbOnceDebug&&-1!=(n=this.__cbOnceDebug.indexOf(e))&&(this.__cbOnceDebug.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDebug[n])&&s(),this.__cbOnceOwnerUnbindDebug.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDebug){for(var t=0,i=this.__cbOnOwnerUnbindDebug.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDebug[l])&&s()}this.__cbOnOwnerUnbindDebug=null}if(null!=this.__cbOnceOwnerUnbindDebug){for(t=0,i=this.__cbOnceOwnerUnbindDebug.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDebug[l])&&s()}this.__cbOnceOwnerUnbindDebug=null}this.__cbOnDebug=null,this.__cbOnceDebug=null}},listensDebug:function(){return null!=this.__cbOnDebug&&0<this.__cbOnDebug.length||null!=this.__cbOnceDebug&&0<this.__cbOnceDebug.length},__cbOnSuccess:null,__cbOnceSuccess:null,__cbOnOwnerUnbindSuccess:null,__cbOnceOwnerUnbindSuccess:null,emitSuccess:function(e,n){var t=0;if(null!=this.__cbOnSuccess&&(t+=this.__cbOnSuccess.length),null!=this.__cbOnceSuccess&&(t+=this.__cbOnceSuccess.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSuccess)for(var r=0,h=this.__cbOnSuccess.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSuccess[a],++s):--t}if(null!=this.__cbOnceSuccess){for(var o=null,c=null,r=0,h=this.__cbOnceSuccess.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSuccess[a],this.__cbOnceSuccess[a]=null,u=this.__cbOnceOwnerUnbindSuccess[a],(this.__cbOnceOwnerUnbindSuccess[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSuccess[a]),c.push(this.__cbOnceSuccess[a]))}this.__cbOnceOwnerUnbindSuccess=o,this.__cbOnceSuccess=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSuccess:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event success because owner is destroyed!");var l=function(e){null!=t&&(i.offSuccess(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSuccess&&(this.__cbOnOwnerUnbindSuccess=[]),this.__cbOnOwnerUnbindSuccess.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSuccess&&(this.__cbOnOwnerUnbindSuccess=[]),this.__cbOnOwnerUnbindSuccess.push(null);null==this.__cbOnSuccess&&(this.__cbOnSuccess=[]),this.__cbOnSuccess.push(t)},onceSuccess:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event success because owner is destroyed!");var l=function(e){null!=t&&(i.offSuccess(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSuccess&&(this.__cbOnceOwnerUnbindSuccess=[]),this.__cbOnceOwnerUnbindSuccess.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSuccess&&(this.__cbOnceOwnerUnbindSuccess=[]),this.__cbOnceOwnerUnbindSuccess.push(null);null==this.__cbOnceSuccess&&(this.__cbOnceSuccess=[]),this.__cbOnceSuccess.push(t)},offSuccess:function(e){if(null!=e){var n;null!=this.__cbOnSuccess&&-1!=(n=this.__cbOnSuccess.indexOf(e))&&(this.__cbOnSuccess.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSuccess[n])&&s(),this.__cbOnOwnerUnbindSuccess.splice(n,1)),null!=this.__cbOnceSuccess&&-1!=(n=this.__cbOnceSuccess.indexOf(e))&&(this.__cbOnceSuccess.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSuccess[n])&&s(),this.__cbOnceOwnerUnbindSuccess.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSuccess){for(var t=0,i=this.__cbOnOwnerUnbindSuccess.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSuccess[l])&&s()}this.__cbOnOwnerUnbindSuccess=null}if(null!=this.__cbOnceOwnerUnbindSuccess){for(t=0,i=this.__cbOnceOwnerUnbindSuccess.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSuccess[l])&&s()}this.__cbOnceOwnerUnbindSuccess=null}this.__cbOnSuccess=null,this.__cbOnceSuccess=null}},listensSuccess:function(){return null!=this.__cbOnSuccess&&0<this.__cbOnSuccess.length||null!=this.__cbOnceSuccess&&0<this.__cbOnceSuccess.length},__cbOnWarning:null,__cbOnceWarning:null,__cbOnOwnerUnbindWarning:null,__cbOnceOwnerUnbindWarning:null,emitWarning:function(e,n){var t=0;if(null!=this.__cbOnWarning&&(t+=this.__cbOnWarning.length),null!=this.__cbOnceWarning&&(t+=this.__cbOnceWarning.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWarning)for(var r=0,h=this.__cbOnWarning.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWarning[a],++s):--t}if(null!=this.__cbOnceWarning){for(var o=null,c=null,r=0,h=this.__cbOnceWarning.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWarning[a],this.__cbOnceWarning[a]=null,u=this.__cbOnceOwnerUnbindWarning[a],(this.__cbOnceOwnerUnbindWarning[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWarning[a]),c.push(this.__cbOnceWarning[a]))}this.__cbOnceOwnerUnbindWarning=o,this.__cbOnceWarning=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWarning:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event warning because owner is destroyed!");var l=function(e){null!=t&&(i.offWarning(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWarning&&(this.__cbOnOwnerUnbindWarning=[]),this.__cbOnOwnerUnbindWarning.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWarning&&(this.__cbOnOwnerUnbindWarning=[]),this.__cbOnOwnerUnbindWarning.push(null);null==this.__cbOnWarning&&(this.__cbOnWarning=[]),this.__cbOnWarning.push(t)},onceWarning:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event warning because owner is destroyed!");var l=function(e){null!=t&&(i.offWarning(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWarning&&(this.__cbOnceOwnerUnbindWarning=[]),this.__cbOnceOwnerUnbindWarning.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWarning&&(this.__cbOnceOwnerUnbindWarning=[]),this.__cbOnceOwnerUnbindWarning.push(null);null==this.__cbOnceWarning&&(this.__cbOnceWarning=[]),this.__cbOnceWarning.push(t)},offWarning:function(e){if(null!=e){var n;null!=this.__cbOnWarning&&-1!=(n=this.__cbOnWarning.indexOf(e))&&(this.__cbOnWarning.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWarning[n])&&s(),this.__cbOnOwnerUnbindWarning.splice(n,1)),null!=this.__cbOnceWarning&&-1!=(n=this.__cbOnceWarning.indexOf(e))&&(this.__cbOnceWarning.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWarning[n])&&s(),this.__cbOnceOwnerUnbindWarning.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWarning){for(var t=0,i=this.__cbOnOwnerUnbindWarning.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWarning[l])&&s()}this.__cbOnOwnerUnbindWarning=null}if(null!=this.__cbOnceOwnerUnbindWarning){for(t=0,i=this.__cbOnceOwnerUnbindWarning.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWarning[l])&&s()}this.__cbOnceOwnerUnbindWarning=null}this.__cbOnWarning=null,this.__cbOnceWarning=null}},listensWarning:function(){return null!=this.__cbOnWarning&&0<this.__cbOnWarning.length||null!=this.__cbOnceWarning&&0<this.__cbOnceWarning.length},__cbOnError:null,__cbOnceError:null,__cbOnOwnerUnbindError:null,__cbOnceOwnerUnbindError:null,emitError:function(e,n){var t=0;if(null!=this.__cbOnError&&(t+=this.__cbOnError.length),null!=this.__cbOnceError&&(t+=this.__cbOnceError.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnError)for(var r=0,h=this.__cbOnError.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnError[a],++s):--t}if(null!=this.__cbOnceError){for(var o=null,c=null,r=0,h=this.__cbOnceError.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceError[a],this.__cbOnceError[a]=null,u=this.__cbOnceOwnerUnbindError[a],(this.__cbOnceOwnerUnbindError[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindError[a]),c.push(this.__cbOnceError[a]))}this.__cbOnceOwnerUnbindError=o,this.__cbOnceError=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onError:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event error because owner is destroyed!");var l=function(e){null!=t&&(i.offError(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindError&&(this.__cbOnOwnerUnbindError=[]),this.__cbOnOwnerUnbindError.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindError&&(this.__cbOnOwnerUnbindError=[]),this.__cbOnOwnerUnbindError.push(null);null==this.__cbOnError&&(this.__cbOnError=[]),this.__cbOnError.push(t)},onceError:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event error because owner is destroyed!");var l=function(e){null!=t&&(i.offError(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindError&&(this.__cbOnceOwnerUnbindError=[]),this.__cbOnceOwnerUnbindError.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindError&&(this.__cbOnceOwnerUnbindError=[]),this.__cbOnceOwnerUnbindError.push(null);null==this.__cbOnceError&&(this.__cbOnceError=[]),this.__cbOnceError.push(t)},offError:function(e){if(null!=e){var n;null!=this.__cbOnError&&-1!=(n=this.__cbOnError.indexOf(e))&&(this.__cbOnError.splice(n,1),null!=(s=this.__cbOnOwnerUnbindError[n])&&s(),this.__cbOnOwnerUnbindError.splice(n,1)),null!=this.__cbOnceError&&-1!=(n=this.__cbOnceError.indexOf(e))&&(this.__cbOnceError.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindError[n])&&s(),this.__cbOnceOwnerUnbindError.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindError){for(var t=0,i=this.__cbOnOwnerUnbindError.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindError[l])&&s()}this.__cbOnOwnerUnbindError=null}if(null!=this.__cbOnceOwnerUnbindError){for(t=0,i=this.__cbOnceOwnerUnbindError.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindError[l])&&s()}this.__cbOnceOwnerUnbindError=null}this.__cbOnError=null,this.__cbOnceError=null}},listensError:function(){return null!=this.__cbOnError&&0<this.__cbOnError.length||null!=this.__cbOnceError&&0<this.__cbOnceError.length},indentPrefix:null,debug:function(e,n){this.emitDebug(e,n),Wl.trace(this.prefixLines("[debug] ",e),n)},info:function(e,n){this.emitInfo(e,n),Wl.trace(this.prefixLines("[info] ",e),n)},success:function(e,n){this.emitSuccess(e,n),Wl.trace(this.prefixLines("[success] ",e),n)},warning:function(e,n){this.emitWarning(e,n),Ut._hasElectronRunner?Wl.trace(this.prefixLines("[warning] ",e),n):console.warn(e)},error:function(e,n){this.emitError(e,n),Ut._hasElectronRunner?Wl.trace(this.prefixLines("[error] ",e),n):console.error(e)},pushIndent:function(){this.indentPrefix+="    "},popIndent:function(){this.indentPrefix=this.indentPrefix.substring(0,this.indentPrefix.length-4)},prefixLines:function(e,n){for(var t=[],i=0,l=ot.string(n).split("\n");i<l.length;){var s=l[i];++i,t.push(e+this.indentPrefix+s)}return t.join("\n")},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offInfo(),this.offDebug(),this.offSuccess(),this.offWarning(),this.offError()},__class__:Ut}),(E["ceramic.LongPress"]=Jb).__name__="ceramic.LongPress",Jb.__interfaces__=[b0],Jb.__super__=j,Jb.prototype=$extend(j.prototype,{__cbOnLongPress:null,__cbOnceLongPress:null,__cbOnOwnerUnbindLongPress:null,__cbOnceOwnerUnbindLongPress:null,emitLongPress:function(e){var n=0;if(null!=this.__cbOnLongPress&&(n+=this.__cbOnLongPress.length),null!=this.__cbOnceLongPress&&(n+=this.__cbOnceLongPress.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnLongPress)for(var s=0,r=this.__cbOnLongPress.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnLongPress[h],++l):--n}if(null!=this.__cbOnceLongPress){for(var a=null,o=null,s=0,r=this.__cbOnceLongPress.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceLongPress[h],this.__cbOnceLongPress[h]=null,c=this.__cbOnceOwnerUnbindLongPress[h],(this.__cbOnceOwnerUnbindLongPress[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindLongPress[h]),o.push(this.__cbOnceLongPress[h]))}this.__cbOnceOwnerUnbindLongPress=a,this.__cbOnceLongPress=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(null);null==this.__cbOnLongPress&&(this.__cbOnLongPress=[]),this.__cbOnLongPress.push(t)},onceLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(null);null==this.__cbOnceLongPress&&(this.__cbOnceLongPress=[]),this.__cbOnceLongPress.push(t)},offLongPress:function(e){if(null!=e){var n;null!=this.__cbOnLongPress&&-1!=(n=this.__cbOnLongPress.indexOf(e))&&(this.__cbOnLongPress.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLongPress[n])&&s(),this.__cbOnOwnerUnbindLongPress.splice(n,1)),null!=this.__cbOnceLongPress&&-1!=(n=this.__cbOnceLongPress.indexOf(e))&&(this.__cbOnceLongPress.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLongPress[n])&&s(),this.__cbOnceOwnerUnbindLongPress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLongPress){for(var t=0,i=this.__cbOnOwnerUnbindLongPress.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLongPress[l])&&s()}this.__cbOnOwnerUnbindLongPress=null}if(null!=this.__cbOnceOwnerUnbindLongPress){for(t=0,i=this.__cbOnceOwnerUnbindLongPress.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLongPress[l])&&s()}this.__cbOnceOwnerUnbindLongPress=null}this.__cbOnLongPress=null,this.__cbOnceLongPress=null}},listensLongPress:function(){return null!=this.__cbOnLongPress&&0<this.__cbOnLongPress.length||null!=this.__cbOnceLongPress&&0<this.__cbOnceLongPress.length},threshold:null,requiredDuration:null,entity:null,click:null,bindAsComponent:function(){this.bindPointerEvents()},pointerStartX:null,pointerStartY:null,didLongPress:null,cancelLongPress:null,bindPointerEvents:function(){this.entity.onPointerDown(this,$bind(this,this.handlePointerDown)),this.entity.onPointerUp(this,$bind(this,this.handlePointerUp))},handlePointerDown:function(e){var n=this;this.didLongPress=!1,this.pointerStartX=ke.app.screen.pointerX,this.pointerStartY=ke.app.screen.pointerY,ke.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.cancelLongPress=mi.schedule(this,this.requiredDuration,function(){n.cancelLongPress=null,n.didLongPress=!0,null!=n.click&&n.click.cancel(),n.emitLongPress(e)},-1)},handlePointerMove:function(e){(Math.abs(ke.app.screen.pointerX-this.pointerStartX)>this.threshold||Math.abs(ke.app.screen.pointerY-this.pointerStartY)>this.threshold)&&(ke.app.screen.offPointerMove($bind(this,this.handlePointerMove)),null!=this.cancelLongPress)&&(this.cancelLongPress(),this.cancelLongPress=null)},handlePointerUp:function(e){null!=this.cancelLongPress&&(this.cancelLongPress(),this.cancelLongPress=null),ke.app.screen.offPointerMove($bind(this,this.handlePointerMove))},setEntity:function(e){this.entity=e instanceof q?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offLongPress()},__class__:Jb}),(E["ceramic.MeshPool"]=Kb).__name__="ceramic.MeshPool",Kb.getIntArray=function(){return 0<Kb.availableIntArrays.length?Kb.availableIntArrays.pop():[]},Kb.getFloatArray=function(){return 0<Kb.availableFloatArrays.length?Kb.availableFloatArrays.pop():[]},Kb.recycleIntArray=function(e){null!=e&&(0<e.length&&e.splice(0,e.length),Kb.availableIntArrays.push(e))},Kb.recycleFloatArray=function(e){null!=e&&(0<e.length&&e.splice(0,e.length),Kb.availableFloatArrays.push(e))},Kb.get=function(){var e;return 0<Kb.availableMeshes.length?((e=Kb.availableMeshes.pop()).set_active(!0),e.set_visible(!0),e.set_touchable(!0),e.indices=0<Kb.availableIntArrays.length?Kb.availableIntArrays.pop():[],e.vertices=0<Kb.availableFloatArrays.length?Kb.availableFloatArrays.pop():[],e.colors=0<Kb.availableIntArrays.length?Kb.availableIntArrays.pop():[],e.uvs=0<Kb.availableFloatArrays.length?Kb.availableFloatArrays.pop():[],e):new Aa},Kb.recycle=function(e){e.clear(),null!=e.parent&&e.parent.remove(e),e.set_x(0),e.set_y(0),e.set_scaleX(1),e.set_scaleY(1),e.set_anchorX(0),e.set_anchorY(0),e.set_skewX(0),e.set_skewY(0),e._width=0,e._height=0,e.set_transform(null),e.set_rotation(0),e.set_active(!0),e.set_visible(!0),e.set_touchable(!0),e.set_active(!1),e.set_renderTarget(null);null!=e.texture&&(null!=e.texture&&(e.texture.offDestroy($bind(e,e.textureDestroyed)),null!=e.texture.asset)&&e.texture.asset.release(),(e.texture=null)!=e.texture)&&(e.texture.onDestroy(e,$bind(e,e.textureDestroyed)),null!=e.texture.asset)&&e.texture.asset.retain(),e.multiTouch=!1,e._numPointerDown=0,e._numPointerOver=0;if(null!=e.clip&&(e.clip=null,e.clipDirty=!0,null!=e.children))for(var n=0,t=e.children.length;n<t;){var i=n++;if((h=e.children[i]).clipDirty=!0,null!=h.children)for(var l=0,s=h.children.length;l<s;){var r=l++;h.children[r].set_clipDirty(!0)}}if(0!=e.inheritAlpha&&(e.inheritAlpha=!1,e.visibilityDirty=!0,null!=e.children))for(n=0,t=e.children.length;n<t;){var h,i=n++;if((h=e.children[i]).visibilityDirty=!0,null!=h.children)for(l=0,s=h.children.length;l<s;){r=l++;h.children[r].set_visibilityDirty(!0)}}e.set_alpha(1),e.set_blending(0),e.set_shader(null),e.customFloatAttributesSize=0,e.set_depthRange(1);var a=e.indices;null!=a&&(0<a.length&&a.splice(0,a.length),Kb.availableIntArrays.push(a)),null!=(a=e.vertices)&&(0<a.length&&a.splice(0,a.length),Kb.availableFloatArrays.push(a)),null!=(a=e.colors)&&(0<a.length&&a.splice(0,a.length),Kb.availableIntArrays.push(a)),null!=(a=e.uvs)&&(0<a.length&&a.splice(0,a.length),Kb.availableFloatArrays.push(a)),e.indices=null,e.vertices=null,e.colors=null,e.uvs=null,e.offPointerDown(),e.offPointerUp(),e.offPointerOver(),e.offPointerOut(),e.offFocus(),e.offBlur(),Kb.availableMeshes.push(e)},Kb.clear=function(){if(0<Kb.availableMeshes.length)for(var e=Kb.availableMeshes,n=(Kb.availableMeshes=[],0),t=e.length;n<t;)e[n++].destroy()},function(e){switch(e){case".":case"..":return this.dir=e,void(this.file="")}var n=e.lastIndexOf("/"),t=e.lastIndexOf("\\"),t=(n<t?(this.dir=he.substr(e,0,t),e=he.substr(e,t+1,null),this.backslash=!0):t<n?(this.dir=he.substr(e,0,n),e=he.substr(e,n+1,null)):this.dir=null,e.lastIndexOf("."));-1!=t?(this.ext=he.substr(e,t+1,null),this.file=he.substr(e,0,t)):(this.ext=null,this.file=e)}),Tt=((E["ceramic.Path"]=Dt).__name__="ceramic.Path",Dt.withoutExtension=function(e){e=new Dt(e);return e.ext=null,e.toString()},Dt.withoutDirectory=function(e){e=new Dt(e);return e.dir=null,e.toString()},Dt.directory=function(e){e=new Dt(e);return null==e.dir?"":e.dir},Dt.extension=function(e){e=new Dt(e);return null==e.ext?"":e.ext},Dt.withExtension=function(e,n){e=new Dt(e);return e.ext=n,e.toString()},Dt.join=function(e){for(var n=[],t=0,i=e;t<i.length;){var l=i[t];++t,null!=l&&""!=l&&n.push(l)}if(0==(e=n).length)return"";for(var s=e[0],n=1,t=e.length;n<t;){var r=n++,s=Dt.addTrailingSlash(s);s+=e[r]}return Dt.normalize(s)},Dt.normalize=function(e){if("/"==(e=e.split("\\").join("/")))return"/";for(var n=[],t=0,i=e.split("/");t<i.length;){var l=i[t];++t,".."==l&&0<n.length&&".."!=n[n.length-1]?n.pop():"."!=l&&n.push(l)}for(var s,r=n.join("/");-1!=(s=r.indexOf("//"));)r=r.substring(0,s)+r.substring(s+1);for(var h="",a=!1,o=!1,t=0,i=r.length;t<i;){var c=t++,u=r.charCodeAt(c);switch(u){case 47:a?(a=!1,o&&(h+="/",o=!1),h+=String.fromCodePoint(u)):o=!0;break;case 58:h+=":",a=!0;break;default:a=!1,o&&(h+="/",o=!1),h+=String.fromCodePoint(u)}}return h},Dt.addTrailingSlash=function(e){var n,t;return 0==e.length?"/":(n=e.lastIndexOf("/"))<(t=e.lastIndexOf("\\"))?t!=e.length-1?e+"\\":e:n!=e.length-1?e+"/":e},Dt.removeTrailingSlashes=function(e){e:for(;;){var n=he.cca(e,e.length-1);if(null==n)break;switch(n){case 47:case 92:e=he.substr(e,0,-1);break;default:break e}}return e},Dt.isAbsolute=function(e){return!!z.startsWith(e,"/")||":"==e.charAt(1)||!!z.startsWith(e,"\\\\")},Dt.prototype={dir:null,file:null,ext:null,backslash:null,toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:Dt},function(n){this.id=n;var e=ke.app.backend.io.readString("persistent_"+n);if(null!=e)try{var t=new Gl(e);this.internalData=t.unserialize()}catch(e){zl.lastError=e,ke.app.logger.warning("Failed to read persistent data with id "+n,{fileName:"../../../../ceramic/runtime/src/ceramic/PersistentData.hx",lineNumber:80,className:"ceramic.PersistentData",methodName:"new"})}null==this.internalData&&(this.internalData={})}),xt=((E["ceramic.PersistentData"]=Tt).__name__="ceramic.PersistentData",Tt.prototype={internalData:null,id:null,get:function(e){return this.internalData[e]},set:function(e,n){this.internalData[e]=n},remove:function(e){L.deleteField(this.internalData,e)},clear:function(){for(var e=0,n=L.fields(this.internalData);e<n.length;){var t=n[e];++e,L.deleteField(this.internalData,t)}},exists:function(e){return Object.prototype.hasOwnProperty.call(this.internalData,e)},keys:function(){return L.fields(this.internalData)},save:function(){var e=new Yl,e=(e.serialize(this.internalData),e.toString());ke.app.backend.io.saveString("persistent_"+this.id,e)},__class__:Tt},(E["ceramic.Pixels"]=Nb).__name__="ceramic.Pixels",Nb.copy=function(e,n,t,i,l,s,r,h,a,o,c,u,_,d){null==d&&(d=!0),null==_&&(_=!0),null==u&&(u=!0),null==c&&(c=!0);for(var b=l+r,g=s+h,O=l,f=s,p=a,C=o;f<g;){for(var v=f*n,m=C*i;O<b;){var w=4*(v+O),y=4*(m+p);c&&(t[y]=e[w]),++w,++y,u&&(t[y]=e[w]),++w,++y,_&&(t[y]=e[w]),++w,++y,d&&(t[y]=e[w]),++O,++p}++f,++C,O=l,p=a}},Nb.create=function(e,n,t){for(var i=new Uint8Array(e*n*4),l=0,s=e*n;l<s;){var r=4*l++;i[r]=t>>16&255,i[++r]=t>>8&255,i[++r]=255&t,i[++r]=t>>24&255}return i},Nb.fromBytes=function(e){return new Uint8Array(e.b.bufferValue)},Nb.get=function(e,n,t,i){var i=4*(i*n+t),n=e[i],t=e[1+i],l=e[2+i],s=0,e=e[3+i],i=(0|(((s&65535|(255<n?255:n<0?0:n)<<16)&16711935|(255<t?255:t<0?0:t)<<8)&16776960|(255<l?255:l<0?0:l)))-16777216;return i&16777215|(255<(e=null==e?255:e)?255:e<0?0:e)<<24},Nb.set=function(e,n,t,i,l){i=4*(i*n+t);e[i]=l>>16&255,e[1+i]=l>>8&255,e[2+i]=255&l,e[3+i]=l>>24&255},Nb.setRectangle=function(e,n,t,i,l,s,r){for(var h=0,a=l;h<a;)for(var o=h++,c=0,u=s;c<u;){var _=4*((i+c++)*n+(t+o));e[_]=r>>16&255,e[1+_]=r>>8&255,e[2+_]=255&r,e[3+_]=r>>24&255}},Nb._pixelsToPng=function(e,n,t,i,l){ke.app.backend.textures.pixelsToPng(e,n,t,i,l)},Nb.rgbaPixelsToRgbPixels=function(e,n,t,i){for(var l=e*n*3,s=(null==i?i=new Uint8Array(l):i.length!=l&&(ke.app.logger.warning("Not reusing outPixels because its length ("+i.length+") does not match the required one: "+l+". Creating a new buffer.",{fileName:"../../../../ceramic/runtime/src/ceramic/Pixels.hx",lineNumber:388,className:"ceramic.Pixels",methodName:"rgbaPixelsToRgbPixels"}),i=new Uint8Array(l)),0),r=e*n;s<r;){var h=s++,a=3*h,h=4*h;i[a]=t[h],++h,i[++a]=t[h],++h,i[++a]=t[h]}return i},Nb.rgbPixelsToRgbaPixels=function(e,n,t,i,l){null==t&&(t=255);for(var s=e*n*4,r=(null==l?l=new Uint8Array(s):l.length!=s&&(ke.app.logger.warning("Not reusing outPixels because its length ("+l.length+") does not match the required one: "+s+". Creating a new buffer.",{fileName:"../../../../ceramic/runtime/src/ceramic/Pixels.hx",lineNumber:437,className:"ceramic.Pixels",methodName:"rgbPixelsToRgbaPixels"}),l=new Uint8Array(s)),0),h=e*n;r<h;){var a=r++,o=3*a,a=4*a;l[a]=i[o],++o,l[++a]=i[o],++o,l[++a]=i[o],l[++a]=t}return l},Nb.mixPixelsBuffers=function(e,n,t){null==n&&(n=1);for(var i=e.length,l=e[0].length,s=(null==t&&(t=new Uint8Array(l)),0),r=[],h=1,a=0,o=Math.ceil(.5*i);a<o;)s+=r[a]=h,h*=n,++a;for(a=i-1,h=1;o<=a;)s+=r[a]=h,h*=n,--a;for(var c=0,u=l;c<u;){for(var a=c++,_=0,d=0,b=i;d<b;){var g=d++;_+=e[g][a]*r[g]}t[a]=Math.round(_/s)}return t},Nb.flipY=function(e,n){for(var t=e.length/(4*n)|0,i=0,l=.5*t|0;i<l;)for(var s=i++,r=0,h=n;r<h;){var a,o=r++,c=e[a=4*(s*n+o)],u=e[1+a],_=e[2+a],d=e[3+a];e[a]=e[o=4*((t-1-s)*n+o)],e[1+a]=e[1+o],e[2+a]=e[2+o],e[3+a]=e[3+o],e[o]=c,e[1+o]=u,e[2+o]=_,e[3+o]=d}},Nb.flipX=function(e,n){for(var t=.5*n|0,i=0,l=e.length/(4*n)|0;i<l;)for(var s=i++,r=0,h=t;r<h;){var a,o=r++,c=e[a=4*(s*n+o)],u=e[1+a],_=e[2+a],d=e[3+a];e[a]=e[o=4*(s*n+n-1-o)],e[1+a]=e[1+o],e[2+a]=e[2+o],e[3+a]=e[3+o],e[o]=c,e[1+o]=u,e[2+o]=_,e[3+o]=d}},function(){}),St=((E["ceramic.Platform"]=xt).__name__="ceramic.Platform",xt.postAppInit=function(){},xt.readStringFromAsset=function(e){return null},xt.readBytesFromAsset=function(e){return null},xt.getAssetsPath=function(){return null},xt.getRtti=function(e){return _s.getRtti(e)},xt.nodeRequire=function(e){return null},xt.quit=function(){Z.app.shutdown()},xt.runCeramic=function(e,n){var t=xt.getEnv("CERAMIC_CLI");null==t&&(t=xt.isWindows()?"ceramic.exe":"ceramic"),ke.app.logger.debug("ceramic "+e.join(" "),{fileName:"../../../../ceramic/runtime/src/ceramic/Platform.hx",lineNumber:344,className:"ceramic.Platform",methodName:"runCeramic"}),xt.exec(t,e,n)},xt.getEnv=function(e){return null},xt.isWindows=function(){return!1},xt.exec=function(e,n,t){xt.exec__execDidLogError||(xt.exec__execDidLogError=!0,ke.app.logger.error("exec() is not supported on this platform!",{fileName:"../../../../ceramic/runtime/src/ceramic/Platform.hx",lineNumber:470,className:"ceramic.Platform",methodName:"exec"})),t(-1,null,null)},function(){}),At=((E["ceramic.PremultiplyAlpha"]=St).__name__="ceramic.PremultiplyAlpha",St.premultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],s=e[t+2],r=e[t+3]/255;e[t]=i*r|0,e[t+1]=l*r|0,e[t+2]=s*r|0,t+=4}},St.reversePremultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],s=e[t+2],r=e[t+3]/255;0<r&&(e[t]=i/r|0,e[t+1]=l/r|0,e[t+2]=s/r|0),t+=4}},function(e,n){null==n&&(n=-1),this.asset=null,this.wrapT=0,this.wrapS=0,this.filter=fi.LINEAR,this.asRenderTexture=null,this.isRenderTexture=!1,this.index=At._nextIndex++,j.call(this),-1==n&&(n=ke.app.screen.get_texturesDensity()),this.backendItem=e,this.set_density(n)}),kt=((E["ceramic.Texture"]=At).__name__="ceramic.Texture",At.fromPixels=function(e,n,t,i){null==i&&(i=1);e=ke.app.backend.textures.createTexture(Math.round(e*i),Math.round(n*i),t);return new At(e,i)},At.fromBytes=function(e,n,t,i){null==n&&(n=1),ke.app.backend.textures.loadFromBytes(e,Ai.imageTypeFromBytes(e),t,function(e){i(new At(e,n))})},At.__super__=j,At.prototype=$extend(j.prototype,{index:null,isRenderTexture:null,asRenderTexture:null,get_textureId:function(){return this.backendItem.textureId},get_nativeWidth:function(){return this.backendItem.width},get_nativeHeight:function(){return this.backendItem.height},get_nativeWidthActual:function(){return this.backendItem.widthActual},get_nativeHeightActual:function(){return this.backendItem.heightActual},width:null,height:null,density:null,set_density:function(e){return this.density!=e&&(this.density=e,this.width=this.backendItem.width/e,this.height=this.backendItem.height/e),e},filter:null,set_filter:function(e){if(this.filter!=e){this.filter=e;ke.app.backend.textures;var n=this.backendItem;switch(e._hx_index){case 0:n.set_filterMin(9729),n.set_filterMag(9729);break;case 1:n.set_filterMin(9728),n.set_filterMag(9728)}}return e},wrapS:null,set_wrapS:function(e){if(this.wrapS!=e){this.wrapS=e;ke.app.backend.textures;var n=this.backendItem;switch(e){case 0:n.set_wrapS(33071);break;case 1:n.set_wrapS(10497);break;case 2:n.set_wrapS(33648)}}return e},wrapT:null,set_wrapT:function(e){if(this.wrapT!=e){this.wrapT=e;ke.app.backend.textures;var n=this.backendItem;switch(e){case 0:n.set_wrapT(33071);break;case 1:n.set_wrapT(10497);break;case 2:n.set_wrapT(33648)}}return e},setWrap:function(e,n){this.set_wrapS(e),null!=n&&this.set_wrapT(n)},backendItem:null,asset:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),ke.app.backend.textures.destroyTexture(this.backendItem),this.backendItem=null)},fetchPixels:function(e){return ke.app.backend.textures.fetchTexturePixels(this.backendItem,e)},submitPixels:function(e){ke.app.backend.textures.submitTexturePixels(this.backendItem,e)},_toPng:function(e,n,t){ke.app.backend.textures.textureToPng(this.backendItem,n=null==n?!0:n,e,t)},toString:function(){var e;return null!=this.id?(e=this.id,"Texture("+(e=z.startsWith(e,"texture:")?he.substr(e,8,null):e)+" "+this.width+" "+this.height+" "+this.density+" #"+this.index+")"):"Texture("+this.width+" "+this.height+" "+this.density+" #"+this.index+")"},__class__:At,__properties__:$extend(j.prototype.__properties__,{set_wrapT:"set_wrapT",set_wrapS:"set_wrapS",set_filter:"set_filter",set_density:"set_density",get_nativeHeightActual:"get_nativeHeightActual",get_nativeWidthActual:"get_nativeWidthActual",get_nativeHeight:"get_nativeHeight",get_nativeWidth:"get_nativeWidth",get_textureId:"get_textureId"})}),function(e,n,t,i,l,s){null==s&&(s=0),null==l&&(l=!0),null==i&&(i=!0),null==t&&(t=-1),this._initialClearQuad=null,this._renderedOnce=!1,this._usedInRendering=!1,this.incomingEdges=0,this.priority=0,this.dependingTextures=null,this.antialiasing=0,this.stencil=!0,this.depth=!0,this.renderDirty=!1,this.clearOnRender=!0,this.autoRender=!0,-1==t&&(t=ke.app.screen.get_texturesDensity()),this.depth=i,this.stencil=l,this.antialiasing=s;var h=ke.app.backend.textures,e=Math.round(e*t),n=Math.round(n*t),a="render:"+h.nextRenderIndex++,o=Z.app.runtime.webglVersion,c=new qi,e=(c.id=a,c.width=e,c.height=n,c.depth=i,c.stencil=l,c.antialiasing=2<=o?s:0,c.init(),h.loadedTexturesRetainCount.h[a]=1,c);At.call(this,e,t),this.isRenderTexture=!0,this.asRenderTexture=this,ke.app.renderTextures.push(this),this._initialClearQuad=new r,(h=this._initialClearQuad).set_x(0),h.set_y(0),(h=this._initialClearQuad).set_width(0),h.set_height(0),(h=this._initialClearQuad).flags&=-17,this._initialClearQuad.set_renderTarget(this),this.renderDirty=!0}),It=((E["ceramic.RenderTexture"]=kt).__name__="ceramic.RenderTexture",kt.__super__=At,kt.prototype=$extend(At.prototype,{autoRender:null,clearOnRender:null,renderDirty:null,depth:null,stencil:null,antialiasing:null,dependingTextures:null,priority:null,incomingEdges:null,_usedInRendering:null,_renderedOnce:null,set__renderedOnce:function(e){return(this._renderedOnce=e)&&null!=this._initialClearQuad&&(this._initialClearQuad.destroy(),this._initialClearQuad=null),e},_initialClearQuad:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,At.prototype.destroy.call(this),null!=this._initialClearQuad&&(this._initialClearQuad.destroy(),this._initialClearQuad=null),he.remove(ke.app.renderTextures,this))},stamp:function(e,n){this._stamp(e,n)},_stamp:function(n,t){var i=this,l=n.parent,s=n.renderTarget,r=n.visible;null!=l&&l.remove(n),n.set_renderTarget(this),n.set_visible(!0),ke.app.oncePreUpdate(this,function(e){i.renderDirty=!0,ke.app.onceFinishDraw(i,function(){n.set_visible(r),n.set_renderTarget(s),null!=l&&(l.add(n),l=null),s=n=null,t(),t=null})})},clear:function(e,n,t,i,l,s,h){var a;null==s&&(s=-1),null==l&&(l=-1),null==i&&(i=-1),null==t&&(t=-1),null==n&&(n=0),null==e&&(e=16777215),null==kt._clearQuad&&(kt._clearQuad=new r,kt._clearQuad.set_active(!1),kt._clearQuad.set_blending(4),(a=kt._clearQuad).set_anchorX(0),a.set_anchorY(0)),kt._clearQuad.color=e,kt._clearQuad.set_alpha(n),kt._clearQuad.set_depth(-1),-1!=t&&-1!=i&&-1!=l&&-1!=s?((a=kt._clearQuad).set_width(l),a.set_height(s),(a=kt._clearQuad).set_x(t),a.set_y(i)):(a=kt._clearQuad,e=this.height,a.set_width(this.width),a.set_height(e),(a=kt._clearQuad).set_x(0),a.set_y(0)),this.stamp(kt._clearQuad,h)},dependsOnTexture:function(e){return null!=this.dependingTextures&&0<(null!=(e=this.dependingTextures.intMap.h[0|e.index])?e:0)},dependsOnTextureCount:function(e){return null!=this.dependingTextures&&null!=(e=this.dependingTextures.intMap.h[0|e.index])?e:0},incrementDependingTextureCount:function(e){null==this.dependingTextures&&(this.dependingTextures=new Sn);var n=this.dependingTextures.intMap.h[0|e.index];this.dependingTextures.set(e.index,(null!=n?n:0)+1)},resetDependingTextureCounts:function(){null!=this.dependingTextures&&this.dependingTextures.clear()},toString:function(){var e;return null!=this.id?(e=this.id,"RenderTexture("+(e=z.startsWith(e,"texture:")?he.substr(e,8,null):e)+" "+this.width+" "+this.height+" "+this.density+" #"+this.index+"/"+this.priority+")"):"RenderTexture("+this.width+" "+this.height+" "+this.density+" #"+this.index+"/"+this.priority+")"},__class__:kt,__properties__:$extend(At.prototype.__properties__,{set__renderedOnce:"set__renderedOnce"})}),function(){this.zPerRenderTarget=new rt,this.usedRenderTarget=null,this.activeShaderCanBatchMultipleTextures=!1,this.maxUsableTexturesInBatch=-1,this.usedTextures=0,this.usedTextureIndexes=[],this.z=0,this.stateDirty=!0,this.mesh=null,this.quad=null,this.defaultWhiteTexture=null,this.defaultTexturedShader=null,this.texHeightActual=0,this.texWidthActual=0,this.texHeight=0,this.texWidth=0,this.activeTextureSlot=0,this.lastClipIsRegular=!1,this.lastClip=null,this.lastComputedBlending=1,this.lastRenderTarget=null,this.lastShader=null,this.lastTextureId=null,this.lastTexture=null,this.stencilClip=!1,this.customFloatAttributesSize=0,this.activeShader=null,this.drawCalls=0,j.call(this)}),Pt=((E["ceramic.Renderer"]=It).__name__="ceramic.Renderer",It.__super__=j,It.prototype=$extend(j.prototype,{drawCalls:null,activeShader:null,customFloatAttributesSize:null,stencilClip:null,lastTexture:null,lastTextureId:null,lastShader:null,lastRenderTarget:null,lastComputedBlending:null,lastClip:null,lastClipIsRegular:null,activeTextureSlot:null,backendTextures:null,backendShaders:null,texWidth:null,texHeight:null,texWidthActual:null,texHeightActual:null,defaultTexturedShader:null,defaultWhiteTexture:null,quad:null,mesh:null,stateDirty:null,z:null,usedTextureIndexes:null,usedTextures:null,maxUsableTexturesInBatch:null,activeShaderCanBatchMultipleTextures:null,usedRenderTarget:null,zPerRenderTarget:null,render:function(e,n){var t=ke.app.backend.draw;for(this.backendTextures=ke.app.backend.textures,this.backendShaders=ke.app.backend.shaders,this.defaultTexturedShader=ke.app.defaultTexturedShader.backendItem,this.defaultWhiteTexture=ke.app.defaultWhiteTexture,this.maxUsableTexturesInBatch=0|Math.min(this.backendTextures.maxTexturesByBatch(),this.backendShaders.maxIfStatementsByFragmentShader());this.usedTextureIndexes.length<this.maxUsableTexturesInBatch;)this.usedTextureIndexes.push(0);this.usedRenderTarget=null,this.zPerRenderTarget.clear(),this.drawCalls=0,Q._activeTextureSlot=0;(h=Q._batcher)._buffersIndex=-1,h.prepareNextBuffers();for(var i=ke.app.defaultWhiteTexture.backendItem,l=(Ji.defaultTextureId=i.textureId,this.quad=null,this.mesh=null,this.lastTexture=null,this.lastTextureId=null,this.lastShader=null,this.lastRenderTarget=null,this.lastComputedBlending=1,this.lastClip=null,this.usedTextures=0,this.texWidth=0,this.texHeight=0,this.texWidthActual=0,this.texHeightActual=0,this.stencilClip=!1,this.z=0,this.stateDirty=!0,ke.app.defaultTexturedShader.backendItem,ke.app.renderTextures),s=0,r=l.length;s<r;)(_=l[s++])._usedInRendering=!1,_.autoRender&&(_.renderDirty=!0);var h=Q._batcher,h=(ne.gl.enableVertexAttribArray(0),ne.gl.enableVertexAttribArray(1),ne.gl.enableVertexAttribArray(2),this.usedTextures=this.maxUsableTexturesInBatch,this.unbindUsedTextures(t),Q._activeTextureSlot=0,Q._batcher);if(0!=(h=Z._graphics)._activeTextureSlot){for(h._activeTextureSlot=0;h._boundTexture2D.length<=h._activeTextureSlot;)h._boundTexture2D.push(null);ne.gl.activeTexture(33984)}this.activeTextureSlot=0,t.setRenderTarget(null,!0);var i=ke.app.settings.get_background(),h=Q._batcher,h=(Z._graphics.clear((i>>16&255)/255,(i>>8&255)/255,(255&i)/255,1,!1),null!=Q._currentRenderTarget&&(Q._didUpdateCurrentRenderTarget=!0),Q._batcher),h=Z._graphics,h=(ne.gl.enable(3042),this.activeShader=null,this.lastShader=null,this.useShader(t,null),Q._batcher),h=Z._graphics,h=(ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,Q._batcher);if(ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.disable(2960),null!=n){for(s=0,r=n.length;s<r;){var a,o=n[s++],c=o.asQuad,u=o.asMesh;o.computedVisible&&(null==o.computedRenderTarget||o.computedRenderTarget.renderDirty)&&((a=o.computedClip)!=this.lastClip&&(this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0,null!=this.lastClip&&(this.lastClipIsRegular?(h=Q._batcher,ne.gl.disable(3089)):(this.lastRenderTarget=this.lastClip.computedRenderTarget,this.useRenderTarget(t,this.lastRenderTarget),Q._batcher,ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.disable(2960))),this.lastClip=a,null!=this.lastClip)&&(this.lastRenderTarget=this.lastClip.computedRenderTarget,this.useRenderTarget(t,this.lastRenderTarget),null!=this.lastClip.asQuad&&this.lastClip.asQuad.isRegular()?(this.lastClipIsRegular=!0,this.scissorWithQuad(t,this.lastClip.asQuad)):(this.lastClipIsRegular=!1,Q._drawingInStencilBuffer=!0,Q._batcher,ne.gl.stencilMask(255),ne.gl.clearStencil(255),ne.gl.clear(1024),ne.gl.enable(2960),ne.gl.stencilOp(7680,7680,7681),ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!1,!1,!1,!1),null!=this.lastClip.asQuad?(c=this.lastClip.asQuad,this.stencilClip=!0,this.drawQuad(t,c),this.stencilClip=!1,c=o.asQuad):null!=this.lastClip.asMesh&&(u=this.lastClip.asMesh,this.stencilClip=!0,this.drawMesh(t,u),this.stencilClip=!1,u=o.asMesh),this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0,Q._drawingInStencilBuffer=!1,Q._batcher,ne.gl.stencilFunc(514,1,255),ne.gl.stencilMask(0),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.enable(2960))),null!=c&&16!=(16&c.flags)?this.drawQuad(t,c):null!=u&&this.drawMesh(t,u))}this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0}for(var _,s=0,r=(l=ke.app.renderTextures).length;s<r;)(_=l[s++]).renderDirty=!1;Q._activeTextureSlot=0;h=Q._batcher;if(0!=(h=Z._graphics)._activeTextureSlot){for(h._activeTextureSlot=0;h._boundTexture2D.length<=h._activeTextureSlot;)h._boundTexture2D.push(null);ne.gl.activeTexture(33984)}this.activeTextureSlot=0,t.setRenderTarget(null,!0);h=Q._batcher,h=Z._graphics,ne.gl.enable(3042),this.activeShader=null,this.lastShader=null,this.useShader(t,null),this.lastClipIsRegular&&(h=Q._batcher,ne.gl.disable(3089)),h=Q._batcher,h=Z._graphics;ne.gl.blendFuncSeparate(1,771,1,771)},drawQuad:function(e,n){var t=this;this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),y=Q._batcher,y=Z._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(a=null,this.stateDirty||(h=this.computeQuadBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||h!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n._texture!=this.lastTexture&&(null!=n._texture&&null!=this.lastTexture?n._texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n._texture)?a=n._texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n._texture)?a=null!=n._texture?n._texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n._texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip)&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeQuadBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1):null!=a&&this.useTextureInSameBatch(e,a));((y=Q._batcher)._numPos+4>y._maxVerts||16384<y._numIndices+6)&&(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n._texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip)&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeQuadBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1);var i,l,s,r,h=n.get_width(),a=n.get_height(),e=n.matA,o=n.matB,c=n.matC,u=n.matD,_=n.matTX,d=n.matTY,b=this.z,g=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1;if(0==this.customFloatAttributesSize)-1!=g?(O=Q._batcher._numPos,p=d+o*h+u*a,(y=Q._batcher)._posList[y._posIndex]=f=_+e*h+c*a,y._posList[y._posIndex+1]=p,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,(y=Q._batcher)._posList[y._posIndex]=_+c*a,y._posList[y._posIndex+1]=d+u*a,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,(y=Q._batcher)._posList[y._posIndex]=_,y._posList[y._posIndex+1]=d,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,(y=Q._batcher)._posList[y._posIndex]=_+e*h,y._posList[y._posIndex+1]=d+o*h,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4):(O=Q._batcher._numPos,p=d+o*h+u*a,(y=Q._batcher)._posList[y._posIndex]=f=_+e*h+c*a,y._posList[y._posIndex+1]=p,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,(y=Q._batcher)._posList[y._posIndex]=_+c*a,y._posList[y._posIndex+1]=d+u*a,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,(y=Q._batcher)._posList[y._posIndex]=_,y._posList[y._posIndex+1]=d,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,(y=Q._batcher)._posList[y._posIndex]=_+e*h,y._posList[y._posIndex+1]=d+o*h,y._posList[y._posIndex+2]=b,y._posIndex+=3),y._numPos++;else{if(-1!=g){for(var O=Q._batcher._numPos,f=_+e*h+c*a,p=d+o*h+u*a,C=((y=Q._batcher)._posList[y._posIndex]=f,y._posList[y._posIndex+1]=p,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){var m=C++;(y=Q._batcher)._posList[y._posIndex+m]=0}(y=Q._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=Q._batcher)._posList[y._posIndex]=_+c*a,y._posList[y._posIndex+1]=d+u*a,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){m=C++;(y=Q._batcher)._posList[y._posIndex+m]=0}(y=Q._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=Q._batcher)._posList[y._posIndex]=_,y._posList[y._posIndex+1]=d,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){m=C++;(y=Q._batcher)._posList[y._posIndex+m]=0}(y=Q._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=Q._batcher)._posList[y._posIndex]=_+e*h,y._posList[y._posIndex+1]=d+o*h,y._posList[y._posIndex+2]=b,y._posList[y._posIndex+3]=g,y._posIndex+=4,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){m=C++;(y=Q._batcher)._posList[y._posIndex+m]=0}}else{for(O=Q._batcher._numPos,f=_+e*h+c*a,p=d+o*h+u*a,C=((y=Q._batcher)._posList[y._posIndex]=f,y._posList[y._posIndex+1]=p,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){m=C++;(y=Q._batcher)._posList[y._posIndex+m]=0}(y=Q._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=Q._batcher)._posList[y._posIndex]=_+c*a,y._posList[y._posIndex+1]=d+u*a,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){m=C++;(y=Q._batcher)._posList[y._posIndex+m]=0}(y=Q._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=Q._batcher)._posList[y._posIndex]=_,y._posList[y._posIndex+1]=d,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){m=C++;(y=Q._batcher)._posList[y._posIndex+m]=0}(y=Q._batcher)._posIndex+=y._floatAttributesSize;for(C=((y=Q._batcher)._posList[y._posIndex]=_+e*h,y._posList[y._posIndex+1]=d+o*h,y._posList[y._posIndex+2]=b,y._posIndex+=3,y._numPos++,0),v=t.customFloatAttributesSize;C<v;){m=C++;(y=Q._batcher)._posList[y._posIndex+m]=0}}(y=Q._batcher)._posIndex+=y._floatAttributesSize}(y=Q._batcher)._indiceList[y._numIndices]=O,y._numIndices++,(y=Q._batcher)._indiceList[y._numIndices]=O+1,y._numIndices++,(y=Q._batcher)._indiceList[y._numIndices]=O+2,y._numIndices++,(y=Q._batcher)._indiceList[y._numIndices]=O,y._numIndices++,(y=Q._batcher)._indiceList[y._numIndices]=O+2,y._numIndices++,(y=Q._batcher)._indiceList[y._numIndices]=O+3,y._numIndices++,this.stencilClip?(i=r=1,s=l=0):(s=3==this.lastComputedBlending?(r=n.computedAlpha,i=(n.color>>16&255)/255,l=(n.color>>8&255)/255,(255&n.color)/255):(r=n.computedAlpha,i=(n.color>>16&255)/255*r,l=(n.color>>8&255)/255*r,(255&n.color)/255*r),2==n.blending&&2!=this.lastComputedBlending&&(r=0));for(var w=0;w<4;)(y=Q._batcher)._colorList[y._colorIndex]=i,y._colorList[y._colorIndex+1]=l,y._colorList[y._colorIndex+2]=s,y._colorList[y._colorIndex+3]=r,y._colorIndex+=4,y._numColors++,++w;var y,g=0,f=0,p=0,c=0;null!=n._texture?(u=this.texWidthActual,a=this.texHeightActual,_=n._texture.density,g=n.frameX*_/u,f=n.frameY*_/a,32==(32&n.flags)?(p=n.frameHeight*_/u,c=n.frameWidth*_/a,(y=Q._batcher)._uvList[y._uvIndex]=g+p,y._uvList[y._uvIndex+1]=f,y._uvIndex+=2,y._numUVs++,(y=Q._batcher)._uvList[y._uvIndex]=g+p,y._uvList[y._uvIndex+1]=f+c,y._uvIndex+=2,y._numUVs++,(y=Q._batcher)._uvList[y._uvIndex]=g,y._uvList[y._uvIndex+1]=f+c,y._uvIndex+=2,y._numUVs++,(y=Q._batcher)._uvList[y._uvIndex]=g):(p=n.frameWidth*_/u,c=n.frameHeight*_/a,(y=Q._batcher)._uvList[y._uvIndex]=g+p,y._uvList[y._uvIndex+1]=f+c,y._uvIndex+=2,y._numUVs++,(y=Q._batcher)._uvList[y._uvIndex]=g,y._uvList[y._uvIndex+1]=f+c,y._uvIndex+=2,y._numUVs++,(y=Q._batcher)._uvList[y._uvIndex]=g,y._uvList[y._uvIndex+1]=f,y._uvIndex+=2,y._numUVs++,(y=Q._batcher)._uvList[y._uvIndex]=g+p),y._uvList[y._uvIndex+1]=f):((y=Q._batcher)._uvList[y._uvIndex]=0,y._uvList[y._uvIndex+1]=0,y._uvIndex+=2,y._numUVs++,(y=Q._batcher)._uvList[y._uvIndex]=0,y._uvList[y._uvIndex+1]=0,y._uvIndex+=2,y._numUVs++,(y=Q._batcher)._uvList[y._uvIndex]=0,y._uvList[y._uvIndex+1]=0,y._uvIndex+=2,y._numUVs++,(y=Q._batcher)._uvList[y._uvIndex]=0,y._uvList[y._uvIndex+1]=0),y._uvIndex+=2,y._numUVs++,this.z=b+b*b*1e-5+1e-5},drawMesh:function(e,n){null!=n.vertices32?null!=n.floatColors?this.drawMeshWithVertices32AndFloatColors(e,n):this.drawMeshWithVertices32(e,n):null!=n.floatColors?this.drawMeshWithVerticesAndFloatColors(e,n):this.drawMeshWithVertices(e,n)},drawMeshWithVertices32:function(e,n){var t,i,l=n.vertices32,s=n.colors,r=this,h=((null!=l?l:null).length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),x=Q._batcher,x=Z._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(t=null,this.stateDirty||(i=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||i!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?t=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?t=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1):null!=t&&this.useTextureInSameBatch(e,t)),n.matA),a=n.matB,o=n.matC,c=n.matD,u=n.matTX,_=n.matTY,d=this.z,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,g=this.stencilClip||0==n.colorMapping,E=!this.stencilClip&&1==n.colorMapping,O=n.uvs,f=n.indices,p=f.length,C=this.customFloatAttributesSize,R=n.customFloatAttributesSize,V=0,L=null!=n.texture&&n.texture.isRenderTexture,v=p,H=(((x=Q._batcher)._numPos+p>x._maxVerts||16384<x._numIndices+p)&&(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,p>(x=Q._batcher)._maxVerts-x._numPos||p>16384-Q._batcher._numIndices)&&(x=Q._batcher,v=3*((v=0|Math.min(x._maxVerts-x._numPos,16384-Q._batcher._numIndices))/3|0)),n.texture),N=0,W=0;for(null!=H&&(N=this.texWidth/this.texWidthActual,W=this.texHeight/this.texHeightActual);;){for(var m,w=0,y=0,U=0,D=0,T=(g&&(r.stencilClip?(y=w=1,D=U=0):(D=3==r.lastComputedBlending?(m=s[0],w=n.computedAlpha*((m>>24&255)/255),y=(m>>16&255)/255,U=(m>>8&255)/255,(255&m)/255):(y=((m=s[0])>>16&255)/255*(w=n.computedAlpha*((m>>24&255)/255)),U=(m>>8&255)/255*w,(255&m)/255*w),2==n.blending&&2!=r.lastComputedBlending&&(w=0))),V),z=Q._batcher._numPos;T<v;){var x,S,A=f[T],k=2*A,I=A*(2+R),P=I++,P=(null!=l?l:null)[P],F=I++,F=(null!=l?l:null)[F],F=((x=Q._batcher)._indiceList[x._numIndices]=z,x._numIndices++,++z,-1!=b?((S=Q._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posList[S._posIndex+3]=b,S._posIndex+=4,S._numPos++):((S=Q._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posIndex+=3,S._numPos++),g||(P=E?s[T]:s[A],D=L||3==r.lastComputedBlending?(w=n.computedAlpha*((P>>24&255)/255),y=(P>>16&255)/255,U=(P>>8&255)/255,(255&P)/255):(y=(P>>16&255)/255*(w=n.computedAlpha*((P>>24&255)/255)),U=(P>>8&255)/255*w,(255&P)/255*w),2==n.blending&&2!=r.lastComputedBlending&&(w=0)),Q._batcher);if(F._colorList[F._colorIndex]=y,F._colorList[F._colorIndex+1]=U,F._colorList[F._colorIndex+2]=D,F._colorList[F._colorIndex+3]=w,F._colorIndex+=4,F._numColors++,null!=H?(A=O[k]*N,P=O[1+k]*W,(F=Q._batcher)._uvList[F._uvIndex]=A,F._uvList[F._uvIndex+1]=P,F._uvIndex+=2,F._numUVs++):((k=Q._batcher)._uvList[k._uvIndex]=0,k._uvList[k._uvIndex+1]=0,k._uvIndex+=2,k._numUVs++),0!=C){for(var Y=0,G=C;Y<G;){var X,B,M=Y++;M<R?(X=I++,(B=Q._batcher)._posList[B._posIndex+M]=(null!=l?l:null)[X]):(B=Q._batcher)._posList[B._posIndex+M]=0}A=Q._batcher;A._posIndex+=A._floatAttributesSize}++T}if(v==p)break;r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=r.activeShaderCanBatchMultipleTextures?r.activeTextureSlot:-1;var V=v,K=Q._batcher;p<(v=3*((v=V+(0|Math.min(K._maxVerts-K._numPos,16384-Q._batcher._numIndices)))/3|0))&&(v=p)}this.z=d+d*d*1e-5+1e-5},drawMeshWithVertices32AndFloatColors:function(e,n){var t,i,l=n.vertices32,s=n.floatColors,r=this,h=((null!=l?l:null).length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),x=Q._batcher,x=Z._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(t=null,this.stateDirty||(i=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||i!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?t=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?t=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1):null!=t&&this.useTextureInSameBatch(e,t)),n.matA),a=n.matB,o=n.matC,c=n.matD,u=n.matTX,_=n.matTY,d=this.z,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,g=this.stencilClip||0==n.colorMapping,O=!this.stencilClip&&1==n.colorMapping,f=n.uvs,p=n.indices,C=p.length,E=this.customFloatAttributesSize,R=n.customFloatAttributesSize,V=0,L=null!=n.texture&&n.texture.isRenderTexture,v=C,H=(((x=Q._batcher)._numPos+C>x._maxVerts||16384<x._numIndices+C)&&(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,C>(x=Q._batcher)._maxVerts-x._numPos||C>16384-Q._batcher._numIndices)&&(x=Q._batcher,v=3*((v=0|Math.min(x._maxVerts-x._numPos,16384-Q._batcher._numIndices))/3|0)),n.texture),N=0,W=0;for(null!=H&&(N=this.texWidth/this.texWidthActual,W=this.texHeight/this.texHeightActual);;){for(var m,w=0,y=0,U=0,D=0,T=(g&&(r.stencilClip?(y=w=1,D=U=0):(D=null!=s?(w=n.computedAlpha*s[3],y=s[0],U=s[1],s[2]):3==r.lastComputedBlending?(m=null[0],w=n.computedAlpha*((m>>24&255)/255),y=(m>>16&255)/255,U=(m>>8&255)/255,(255&m)/255):(y=((m=null[0])>>16&255)/255*(w=n.computedAlpha*((m>>24&255)/255)),U=(m>>8&255)/255*w,(255&m)/255*w),2==n.blending&&2!=r.lastComputedBlending&&(w=0))),V),z=Q._batcher._numPos;T<v;){var x,S,A=p[T],k=2*A,I=A*(2+R),P=I++,P=(null!=l?l:null)[P],F=I++,F=(null!=l?l:null)[F],P=((x=Q._batcher)._indiceList[x._numIndices]=z,x._numIndices++,++z,-1!=b?((S=Q._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posList[S._posIndex+3]=b,S._posIndex+=4,S._numPos++):((S=Q._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posIndex+=3,S._numPos++),g||(D=null!=s?(P=4*(O?T:A),L||3==r.lastComputedBlending?(w=n.computedAlpha*s[3+P],y=s[P],U=s[1+P],s[2+P]):(w=n.computedAlpha*s[3+P],y=s[P]*w,U=s[1+P]*w,s[2+P]*w)):(F=O?null[T]:null[A],L||3==r.lastComputedBlending?(w=n.computedAlpha*((F>>24&255)/255),y=(F>>16&255)/255,U=(F>>8&255)/255,(255&F)/255):(y=(F>>16&255)/255*(w=n.computedAlpha*((F>>24&255)/255)),U=(F>>8&255)/255*w,(255&F)/255*w)),2==n.blending&&2!=r.lastComputedBlending&&(w=0)),Q._batcher);if(P._colorList[P._colorIndex]=y,P._colorList[P._colorIndex+1]=U,P._colorList[P._colorIndex+2]=D,P._colorList[P._colorIndex+3]=w,P._colorIndex+=4,P._numColors++,null!=H?(A=f[k]*N,F=f[1+k]*W,(P=Q._batcher)._uvList[P._uvIndex]=A,P._uvList[P._uvIndex+1]=F,P._uvIndex+=2,P._numUVs++):((k=Q._batcher)._uvList[k._uvIndex]=0,k._uvList[k._uvIndex+1]=0,k._uvIndex+=2,k._numUVs++),0!=E){for(var Y=0,G=E;Y<G;){var X,B,M=Y++;M<R?(X=I++,(B=Q._batcher)._posList[B._posIndex+M]=(null!=l?l:null)[X]):(B=Q._batcher)._posList[B._posIndex+M]=0}A=Q._batcher;A._posIndex+=A._floatAttributesSize}++T}if(v==C)break;r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=r.activeShaderCanBatchMultipleTextures?r.activeTextureSlot:-1;var V=v,K=Q._batcher;C<(v=3*((v=V+(0|Math.min(K._maxVerts-K._numPos,16384-Q._batcher._numIndices)))/3|0))&&(v=C)}this.z=d+d*d*1e-5+1e-5},drawMeshWithVertices:function(e,n){var t,i,l=n.vertices,s=n.colors,r=this,h=(l.length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),x=Q._batcher,x=Z._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(t=null,this.stateDirty||(i=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||i!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?t=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?t=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1):null!=t&&this.useTextureInSameBatch(e,t)),n.matA),a=n.matB,o=n.matC,c=n.matD,u=n.matTX,_=n.matTY,d=this.z,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,g=this.stencilClip||0==n.colorMapping,E=!this.stencilClip&&1==n.colorMapping,O=n.uvs,f=n.indices,p=f.length,C=this.customFloatAttributesSize,R=n.customFloatAttributesSize,V=0,L=null!=n.texture&&n.texture.isRenderTexture,v=p,H=(((x=Q._batcher)._numPos+p>x._maxVerts||16384<x._numIndices+p)&&(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,p>(x=Q._batcher)._maxVerts-x._numPos||p>16384-Q._batcher._numIndices)&&(x=Q._batcher,v=3*((v=0|Math.min(x._maxVerts-x._numPos,16384-Q._batcher._numIndices))/3|0)),n.texture),N=0,W=0;for(null!=H&&(N=this.texWidth/this.texWidthActual,W=this.texHeight/this.texHeightActual);;){for(var m,w=0,y=0,U=0,D=0,T=(g&&(r.stencilClip?(y=w=1,D=U=0):(D=3==r.lastComputedBlending?(m=s[0],w=n.computedAlpha*((m>>24&255)/255),y=(m>>16&255)/255,U=(m>>8&255)/255,(255&m)/255):(y=((m=s[0])>>16&255)/255*(w=n.computedAlpha*((m>>24&255)/255)),U=(m>>8&255)/255*w,(255&m)/255*w),2==n.blending&&2!=r.lastComputedBlending&&(w=0))),V),z=Q._batcher._numPos;T<v;){var x,S,A=f[T],k=2*A,I=A*(2+R),P=I++,P=l[P],F=I++,F=l[F],F=((x=Q._batcher)._indiceList[x._numIndices]=z,x._numIndices++,++z,-1!=b?((S=Q._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posList[S._posIndex+3]=b,S._posIndex+=4,S._numPos++):((S=Q._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posIndex+=3,S._numPos++),g||(P=E?s[T]:s[A],D=L||3==r.lastComputedBlending?(w=n.computedAlpha*((P>>24&255)/255),y=(P>>16&255)/255,U=(P>>8&255)/255,(255&P)/255):(y=(P>>16&255)/255*(w=n.computedAlpha*((P>>24&255)/255)),U=(P>>8&255)/255*w,(255&P)/255*w),2==n.blending&&2!=r.lastComputedBlending&&(w=0)),Q._batcher);if(F._colorList[F._colorIndex]=y,F._colorList[F._colorIndex+1]=U,F._colorList[F._colorIndex+2]=D,F._colorList[F._colorIndex+3]=w,F._colorIndex+=4,F._numColors++,null!=H?(A=O[k]*N,P=O[1+k]*W,(F=Q._batcher)._uvList[F._uvIndex]=A,F._uvList[F._uvIndex+1]=P,F._uvIndex+=2,F._numUVs++):((k=Q._batcher)._uvList[k._uvIndex]=0,k._uvList[k._uvIndex+1]=0,k._uvIndex+=2,k._numUVs++),0!=C){for(var Y=0,G=C;Y<G;){var X,B,M=Y++;M<R?(X=I++,(B=Q._batcher)._posList[B._posIndex+M]=l[X]):(B=Q._batcher)._posList[B._posIndex+M]=0}A=Q._batcher;A._posIndex+=A._floatAttributesSize}++T}if(v==p)break;r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=r.activeShaderCanBatchMultipleTextures?r.activeTextureSlot:-1;var V=v,K=Q._batcher;p<(v=3*((v=V+(0|Math.min(K._maxVerts-K._numPos,16384-Q._batcher._numIndices)))/3|0))&&(v=p)}this.z=d+d*d*1e-5+1e-5},drawMeshWithVerticesAndFloatColors:function(e,n){var t,i,l=n.vertices,s=n.floatColors,r=this,h=(l.length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),x=Q._batcher,x=Z._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(t=null,this.stateDirty||(i=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||i!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?t=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?t=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1):null!=t&&this.useTextureInSameBatch(e,t)),n.matA),a=n.matB,o=n.matC,c=n.matD,u=n.matTX,_=n.matTY,d=this.z,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,g=this.stencilClip||0==n.colorMapping,O=!this.stencilClip&&1==n.colorMapping,f=n.uvs,p=n.indices,C=p.length,E=this.customFloatAttributesSize,R=n.customFloatAttributesSize,V=0,L=null!=n.texture&&n.texture.isRenderTexture,v=C,H=(((x=Q._batcher)._numPos+C>x._maxVerts||16384<x._numIndices+C)&&(r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,C>(x=Q._batcher)._maxVerts-x._numPos||C>16384-Q._batcher._numIndices)&&(x=Q._batcher,v=3*((v=0|Math.min(x._maxVerts-x._numPos,16384-Q._batcher._numIndices))/3|0)),n.texture),N=0,W=0;for(null!=H&&(N=this.texWidth/this.texWidthActual,W=this.texHeight/this.texHeightActual);;){for(var m,w=0,y=0,U=0,D=0,T=(g&&(r.stencilClip?(y=w=1,D=U=0):(D=null!=s?(w=n.computedAlpha*s[3],y=s[0],U=s[1],s[2]):3==r.lastComputedBlending?(m=null[0],w=n.computedAlpha*((m>>24&255)/255),y=(m>>16&255)/255,U=(m>>8&255)/255,(255&m)/255):(y=((m=null[0])>>16&255)/255*(w=n.computedAlpha*((m>>24&255)/255)),U=(m>>8&255)/255*w,(255&m)/255*w),2==n.blending&&2!=r.lastComputedBlending&&(w=0))),V),z=Q._batcher._numPos;T<v;){var x,S,A=p[T],k=2*A,I=A*(2+R),P=I++,P=l[P],F=I++,F=l[F],P=((x=Q._batcher)._indiceList[x._numIndices]=z,x._numIndices++,++z,-1!=b?((S=Q._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posList[S._posIndex+3]=b,S._posIndex+=4,S._numPos++):((S=Q._batcher)._posList[S._posIndex]=u+h*P+o*F,S._posList[S._posIndex+1]=_+a*P+c*F,S._posList[S._posIndex+2]=d,S._posIndex+=3,S._numPos++),g||(D=null!=s?(P=4*(O?T:A),L||3==r.lastComputedBlending?(w=n.computedAlpha*s[3+P],y=s[P],U=s[1+P],s[2+P]):(w=n.computedAlpha*s[3+P],y=s[P]*w,U=s[1+P]*w,s[2+P]*w)):(F=O?null[T]:null[A],L||3==r.lastComputedBlending?(w=n.computedAlpha*((F>>24&255)/255),y=(F>>16&255)/255,U=(F>>8&255)/255,(255&F)/255):(y=(F>>16&255)/255*(w=n.computedAlpha*((F>>24&255)/255)),U=(F>>8&255)/255*w,(255&F)/255*w)),2==n.blending&&2!=r.lastComputedBlending&&(w=0)),Q._batcher);if(P._colorList[P._colorIndex]=y,P._colorList[P._colorIndex+1]=U,P._colorList[P._colorIndex+2]=D,P._colorList[P._colorIndex+3]=w,P._colorIndex+=4,P._numColors++,null!=H?(A=f[k]*N,F=f[1+k]*W,(P=Q._batcher)._uvList[P._uvIndex]=A,P._uvList[P._uvIndex+1]=F,P._uvIndex+=2,P._numUVs++):((k=Q._batcher)._uvList[k._uvIndex]=0,k._uvList[k._uvIndex+1]=0,k._uvIndex+=2,k._numUVs++),0!=E){for(var Y=0,G=E;Y<G;){var X,B,M=Y++;M<R?(X=I++,(B=Q._batcher)._posList[B._posIndex+M]=l[X]):(B=Q._batcher)._posList[B._posIndex+M]=0}A=Q._batcher;A._posIndex+=A._floatAttributesSize}++T}if(v==C)break;r.flush(e),r.unbindUsedTextures(e),r.lastTexture=n.texture,r.useFirstTextureInBatch(e,r.lastTexture),n.computedRenderTarget!=r.lastRenderTarget&&(r.lastRenderTarget=n.computedRenderTarget,r.useRenderTarget(e,r.lastRenderTarget),null!=r.lastClip)&&r.lastClipIsRegular&&r.scissorWithQuad(e,r.lastClip.asQuad),r.lastShader=n.shader,r.useShader(e,null!=r.lastShader?r.lastShader.backendItem:null),r.lastComputedBlending=r.computeMeshBlending(n),r.useBlending(e,r.lastComputedBlending),r.stateDirty=!1,b=r.activeShaderCanBatchMultipleTextures?r.activeTextureSlot:-1;var V=v,K=Q._batcher;C<(v=3*((v=V+(0|Math.min(K._maxVerts-K._numPos,16384-Q._batcher._numIndices)))/3|0))&&(v=C)}this.z=d+d*d*1e-5+1e-5},_drawMesh:function(e,n,t,i,l,s){var r,h,a=this,o=((null!=i?i:t).length,this.stencilClip?(this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),x=Q._batcher,x=Z._graphics,ne.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1):(r=null,this.stateDirty||(h=this.computeMeshBlending(n),this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||h!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty)||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?r=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?r=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0),this.stateDirty?(a.flush(e),a.unbindUsedTextures(e),a.lastTexture=n.texture,a.useFirstTextureInBatch(e,a.lastTexture),n.computedRenderTarget!=a.lastRenderTarget&&(a.lastRenderTarget=n.computedRenderTarget,a.useRenderTarget(e,a.lastRenderTarget),null!=a.lastClip)&&a.lastClipIsRegular&&a.scissorWithQuad(e,a.lastClip.asQuad),a.lastShader=n.shader,a.useShader(e,null!=a.lastShader?a.lastShader.backendItem:null),a.lastComputedBlending=a.computeMeshBlending(n),a.useBlending(e,a.lastComputedBlending),a.stateDirty=!1):null!=r&&this.useTextureInSameBatch(e,r)),n.matA),c=n.matB,u=n.matC,_=n.matD,d=n.matTX,b=n.matTY,g=this.z,O=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,f=this.stencilClip||0==n.colorMapping,p=!this.stencilClip&&1==n.colorMapping,E=n.uvs,R=n.indices,C=R.length,V=this.customFloatAttributesSize,L=n.customFloatAttributesSize,H=0,N=null!=n.texture&&n.texture.isRenderTexture,v=C,W=(((x=Q._batcher)._numPos+C>x._maxVerts||16384<x._numIndices+C)&&(a.flush(e),a.unbindUsedTextures(e),a.lastTexture=n.texture,a.useFirstTextureInBatch(e,a.lastTexture),n.computedRenderTarget!=a.lastRenderTarget&&(a.lastRenderTarget=n.computedRenderTarget,a.useRenderTarget(e,a.lastRenderTarget),null!=a.lastClip)&&a.lastClipIsRegular&&a.scissorWithQuad(e,a.lastClip.asQuad),a.lastShader=n.shader,a.useShader(e,null!=a.lastShader?a.lastShader.backendItem:null),a.lastComputedBlending=a.computeMeshBlending(n),a.useBlending(e,a.lastComputedBlending),a.stateDirty=!1,O=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,C>(x=Q._batcher)._maxVerts-x._numPos||C>16384-Q._batcher._numIndices)&&(x=Q._batcher,v=3*((v=0|Math.min(x._maxVerts-x._numPos,16384-Q._batcher._numIndices))/3|0)),n.texture),z=0,Y=0;for(null!=W&&(z=this.texWidth/this.texWidthActual,Y=this.texHeight/this.texHeightActual);;){for(var m,w=0,y=0,U=0,D=0,T=(f&&(a.stencilClip?(y=w=1,D=U=0):(D=null!=s?(w=n.computedAlpha*s[3],y=s[0],U=s[1],s[2]):3==a.lastComputedBlending?(m=l[0],w=n.computedAlpha*((m>>24&255)/255),y=(m>>16&255)/255,U=(m>>8&255)/255,(255&m)/255):(y=((m=l[0])>>16&255)/255*(w=n.computedAlpha*((m>>24&255)/255)),U=(m>>8&255)/255*w,(255&m)/255*w),2==n.blending&&2!=a.lastComputedBlending&&(w=0))),H),G=Q._batcher._numPos;T<v;){var x,S,A=R[T],k=2*A,I=A*(2+L),P=I++,P=(null!=i?i:t)[P],F=I++,F=(null!=i?i:t)[F],P=((x=Q._batcher)._indiceList[x._numIndices]=G,x._numIndices++,++G,-1!=O?((S=Q._batcher)._posList[S._posIndex]=d+o*P+u*F,S._posList[S._posIndex+1]=b+c*P+_*F,S._posList[S._posIndex+2]=g,S._posList[S._posIndex+3]=O,S._posIndex+=4,S._numPos++):((S=Q._batcher)._posList[S._posIndex]=d+o*P+u*F,S._posList[S._posIndex+1]=b+c*P+_*F,S._posList[S._posIndex+2]=g,S._posIndex+=3,S._numPos++),f||(D=null!=s?(P=4*(p?T:A),N||3==a.lastComputedBlending?(w=n.computedAlpha*s[3+P],y=s[P],U=s[1+P],s[2+P]):(w=n.computedAlpha*s[3+P],y=s[P]*w,U=s[1+P]*w,s[2+P]*w)):(F=p?l[T]:l[A],N||3==a.lastComputedBlending?(w=n.computedAlpha*((F>>24&255)/255),y=(F>>16&255)/255,U=(F>>8&255)/255,(255&F)/255):(y=(F>>16&255)/255*(w=n.computedAlpha*((F>>24&255)/255)),U=(F>>8&255)/255*w,(255&F)/255*w)),2==n.blending&&2!=a.lastComputedBlending&&(w=0)),Q._batcher);if(P._colorList[P._colorIndex]=y,P._colorList[P._colorIndex+1]=U,P._colorList[P._colorIndex+2]=D,P._colorList[P._colorIndex+3]=w,P._colorIndex+=4,P._numColors++,null!=W?(A=E[k]*z,F=E[1+k]*Y,(P=Q._batcher)._uvList[P._uvIndex]=A,P._uvList[P._uvIndex+1]=F,P._uvIndex+=2,P._numUVs++):((k=Q._batcher)._uvList[k._uvIndex]=0,k._uvList[k._uvIndex+1]=0,k._uvIndex+=2,k._numUVs++),0!=V){for(var X=0,K=V;X<K;){var q,B,M=X++;M<L?(q=I++,(B=Q._batcher)._posList[B._posIndex+M]=(null!=i?i:t)[q]):(B=Q._batcher)._posList[B._posIndex+M]=0}A=Q._batcher;A._posIndex+=A._floatAttributesSize}++T}if(v==C)break;a.flush(e),a.unbindUsedTextures(e),a.lastTexture=n.texture,a.useFirstTextureInBatch(e,a.lastTexture),n.computedRenderTarget!=a.lastRenderTarget&&(a.lastRenderTarget=n.computedRenderTarget,a.useRenderTarget(e,a.lastRenderTarget),null!=a.lastClip)&&a.lastClipIsRegular&&a.scissorWithQuad(e,a.lastClip.asQuad),a.lastShader=n.shader,a.useShader(e,null!=a.lastShader?a.lastShader.backendItem:null),a.lastComputedBlending=a.computeMeshBlending(n),a.useBlending(e,a.lastComputedBlending),a.stateDirty=!1,O=a.activeShaderCanBatchMultipleTextures?a.activeTextureSlot:-1;var H=v,$=Q._batcher;C<(v=3*((v=H+(0|Math.min($._maxVerts-$._numPos,16384-Q._batcher._numIndices)))/3|0))&&(v=C)}this.z=g+g*g*1e-5+1e-5},incrementZ:function(e){return e+e*e*1e-5+1e-5},flush:function(e){return!(Q._batcher._numPos<=0||(Q._batcher.flush(),null!=Q._currentRenderTarget&&(Q._didUpdateCurrentRenderTarget=!0),this.drawCalls++,0))},computeQuadBlending:function(e){var n=e.blending;return n=0!=n&&2!=n?n:null!=e.computedRenderTarget?5:1},computeMeshBlending:function(e){var n=e.blending;return n=0!=n&&2!=n?n:null!=e.computedRenderTarget?5:1},isSameShader:function(e,n){return(null!=e?e.backendItem:this.defaultTexturedShader)==(null!=n?n.backendItem:this.defaultTexturedShader)},useShader:function(e,n){null==n&&(n=this.defaultTexturedShader),this.activeShader=n,Q._activeShader=n;var t=Q._batcher,t=(Z._graphics.projectionMatrix=Q._projectionMatrix,Q._batcher),i=(Z._graphics.modelViewMatrix=Q._modelViewMatrix,ke.app.backend.shaders),l=0,s=Q._activeShader.customAttributes;if(null!=s)for(var r=0,h=s.length;r<h;)l+=s[r++].size;var a=l,i=i.canBatchWithMultipleTextures(Q._activeShader);Q._batcher._customAttributes=null!=Q._activeShader?Q._activeShader.customAttributes:null;(t=Q._batcher)._floatAttributesSize=a,t._batchMultiTexture=i,t._vertexSize=3+t._floatAttributesSize+(t._batchMultiTexture?1:0),t._posSize=t._vertexSize,t._vertexSize<4&&(t._vertexSize=4),t._maxVerts=0|Math.floor(65536/t._vertexSize),0==t._numPos&&(t._numIndices=0,t._numPos=0,t._numUVs=0,t._numColors=0,t._posIndex=0,t._uvIndex=0,t._colorIndex=0),n.activate(),this.activeShaderCanBatchMultipleTextures=this.backendShaders.canBatchWithMultipleTextures(n),t=this.backendShaders,l=0;if(null!=(s=n.customAttributes))for(r=0,h=s.length;r<h;)l+=s[r++].size;this.customFloatAttributesSize=l},useBlending:function(e,n){switch(n){case 0:throw ct.thrown("Cannot apply AUTO blending. Needs to be computed to an actual blending function.");case 1:Q._batcher,Z._graphics;ne.gl.blendFuncSeparate(1,771,1,771);break;case 2:Q._batcher,Z._graphics;ne.gl.blendFuncSeparate(1,1,1,1);break;case 3:Q._batcher,Z._graphics;ne.gl.blendFuncSeparate(770,771,1,771);break;case 4:Q._batcher,Z._graphics;ne.gl.blendFuncSeparate(1,770,1,770);break;case 5:Q._batcher,Z._graphics;ne.gl.blendFuncSeparate(1,771,773,1);break;case 6:Q._batcher,Z._graphics;ne.gl.blendFuncSeparate(770,771,773,1);break;case 7:Q._batcher,Z._graphics;ne.gl.blendFuncSeparate(1,0,1,0)}},scissorWithQuad:function(e,n){e.enableScissor(n.matTX,n.matTY,n.matA*n.get_width(),n.matD*n.get_height())},isNotRenderedRenderTexture:function(e){e=e.asRenderTexture;return!(null==e||e._renderedOnce||!e.renderDirty||e._usedInRendering)},useRenderTarget:function(e,n){var t,i;this.usedRenderTarget!=n&&(i=null!=this.usedRenderTarget?this.usedRenderTarget.index:0,t=null!=n?n.index:0,this.zPerRenderTarget.set(i,this.z),i=this.zPerRenderTarget.intMap.h[0|t],this.z=null!=i?i:0),null!=(this.usedRenderTarget=n)?(n._usedInRendering=!0,n.set__renderedOnce(!0),e.setRenderTarget(n)):e.setRenderTarget(null)},useFirstTextureInBatch:function(e,n){null==n&&(n=this.defaultWhiteTexture),this.usedTextures=1;var t=n.backendItem.index,i=(this.usedTextureIndexes[0]=t,Q._activeTextureSlot=0,Q._batcher);if(0!=(i=Z._graphics)._activeTextureSlot){for(i._activeTextureSlot=0;i._boundTexture2D.length<=i._activeTextureSlot;)i._boundTexture2D.push(null);ne.gl.activeTexture(33984)}this.activeTextureSlot=0,this.useTexture(e,n,!1)},useTexture:function(e,n,t){var i,l;null!=n?(this.lastTexture=n,this.lastTextureId=n.backendItem.textureId,this.texWidth=n.backendItem.width,this.texHeight=n.backendItem.height,this.texWidthActual=n.backendItem.widthActual,this.texHeightActual=n.backendItem.heightActual,t||(i=Q._batcher,l=n.backendItem.textureId,(i=Z._graphics)._boundTexture2D[i._activeTextureSlot]!=l&&(i._boundTexture2D[i._activeTextureSlot]=l,ne.gl.bindTexture(3553,l)))):(this.lastTexture=null,this.lastTextureId=null,i=Q._batcher,i=Z._graphics,l=Ji.defaultTextureId,i._boundTexture2D[i._activeTextureSlot]!=l&&(i._boundTexture2D[i._activeTextureSlot]=l,ne.gl.bindTexture(3553,l)))},canUseTextureInSameBatch:function(e,n){var t=!1;if(null==n&&(n=this.defaultWhiteTexture),0<this.usedTextures)if(this.activeShaderCanBatchMultipleTextures){for(var i=n.backendItem.index,l=0,s=this.usedTextures;l<s;){var r=l++;if(i==this.usedTextureIndexes[r]){t=!0;break}}!t&&this.usedTextures<this.maxUsableTexturesInBatch&&(t=!0)}else this.lastTexture==n&&(t=!0);return t},useTextureInSameBatch:function(e,n){var t=!1;if(null==n&&(n=this.defaultWhiteTexture),this.activeShaderCanBatchMultipleTextures){for(var i=n.backendItem.index,l=0,s=this.usedTextures;l<s;){var r=l++;if(i==this.usedTextureIndexes[r]){Q._activeTextureSlot=r;var h=Q._batcher,a=Z._graphics;if(a._activeTextureSlot!=r){for(a._activeTextureSlot=r;a._boundTexture2D.length<=a._activeTextureSlot;)a._boundTexture2D.push(null);ne.gl.activeTexture(33984+r)}this.activeTextureSlot=r,this.useTexture(e,n,!0),t=!0;break}}if(!t&&this.usedTextures<this.maxUsableTexturesInBatch){r=this.usedTextures++,h=(this.usedTextureIndexes[r]=i,Q._activeTextureSlot=r,Q._batcher);if((h=Z._graphics)._activeTextureSlot!=r){for(h._activeTextureSlot=r;h._boundTexture2D.length<=h._activeTextureSlot;)h._boundTexture2D.push(null);ne.gl.activeTexture(33984+r)}this.activeTextureSlot=r,this.useTexture(e,n,!1)}}},unbindUsedTextures:function(e){for(;0<this.usedTextures;){this.usedTextures--;var n=this.usedTextures,t=(Q._activeTextureSlot=n,Q._batcher),i=Z._graphics;if(i._activeTextureSlot!=n){for(i._activeTextureSlot=n;i._boundTexture2D.length<=i._activeTextureSlot;)i._boundTexture2D.push(null);ne.gl.activeTexture(33984+n)}Q._batcher;var n=Z._graphics,l=Ji.defaultTextureId;n._boundTexture2D[n._activeTextureSlot]!=l&&(n._boundTexture2D[n._activeTextureSlot]=l,ne.gl.bindTexture(3553,l))}Q._activeTextureSlot=0;t=Q._batcher;if(0!=(t=Z._graphics)._activeTextureSlot){for(t._activeTextureSlot=0;t._boundTexture2D.length<=t._activeTextureSlot;)t._boundTexture2D.push(null);ne.gl.activeTexture(33984)}this.activeTextureSlot=0,this.useTexture(e,null,!1)},__class__:It}),function(e){this._poolIndex=-1,this.set_length(e)}),Ft=((E["ceramic.ReusableArray"]=Pt).__name__="ceramic.ReusableArray",Pt.prototype={_poolIndex:null,vector:null,length:null,set_length:function(e){if(null==this.vector)return this.vector=new Array(e),this.length=e;if(e!=this.length){if(e>this.vector.length){for(var n=new Array(e),t=0,i=this.length;t<i;)n[l=t++]=this.vector[l],this.vector[l]=null;this.vector=n;for(t=this.length,i=e;t<i;){var l=t++;this.vector[l]=null}}else for(t=e,i=this.length;t<i;){l=t++;this.vector[l]=null}this.length=e}return e},get:function(e){return this.vector[e]},set:function(e,n){this.vector[e]=n},__class__:Pt,__properties__:{set_length:"set_length"}},(E["ceramic.RowLayout"]=Xb).__name__="ceramic.RowLayout",Xb.__super__=r0,Xb.prototype=$extend(r0.prototype,{set_direction:function(e){if(e!=yt.HORIZONTAL)throw ct.thrown("Changing direction of an RowLayout is not allowed. Use a LinearLayout if you want to change direction at runtime.");return this.direction=yt.HORIZONTAL},__class__:Xb}),function(){}),Bt=((E["ceramic.Runner"]=Ft).__name__="ceramic.Runner",Ft.currentIsMainThread=function(){return!0},Ft.init=function(){},Ft.tick=function(){},Ft.isEmulatingBackgroundWithMain=function(){return!0},Ft.runInMain=function(e){ke.app._onceImmediate(e)},Ft.runInBackground=function(e){ke.app._onceImmediate(e)},function(e,n){this.path=null,this.cachedLists=null,this.cachedNames=new te,this.assetDirsByBaseName=null,this.assetsByBaseName=null,this.allAssetDirs=null,this.allAssets=null,this.pendingTransformedDirCallbacks=null,this.didQueryTransformedDir=0,this.transformedDir=null,this.allAssets=e,this.path=n,this.initData()}),a=((E["ceramic.RuntimeAssets"]=Bt).__name__="ceramic.RuntimeAssets",Bt.fromPath=function(e){return null},Bt.toAssetConstName=function(e){for(var n="",t=e.length,i=0,l=!1;i<t;){var s,r=e.charAt(i),l="/"==r?(n+="__",!1):"."!=r&&Bt.isAsciiChar(r)?(s=r.toUpperCase(),r=r==s,l&&r&&(n+="_",l=!1),n+=null==s?"null":""+s,!r):(n+="_",!1);++i}var h=n;return h=z.endsWith(h,"_")?he.substr(h,0,h.length-1):h},Bt.isAsciiChar=function(e){e=he.cca(e,0);return 48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122},Bt.prototype={transformedDir:null,didQueryTransformedDir:null,pendingTransformedDirCallbacks:null,requestTransformedDir:function(r){var h=this;2==this.didQueryTransformedDir?ke.app._onceImmediate(function(){r(h.transformedDir)}):1==this.didQueryTransformedDir?(null==this.pendingTransformedDirCallbacks&&(this.pendingTransformedDirCallbacks=[]),this.pendingTransformedDirCallbacks.push(r)):(this.didQueryTransformedDir=1,xt.runCeramic(["tmp","dir"],function(e,n,t){if(0==e?0<(n=z.trim(n)).length&&Xn.exists(n)&&(h.transformedDir=n):ke.app.logger.error("Failed to resolve tmp dir: "+e+" / "+t,{fileName:"../../../../ceramic/runtime/src/ceramic/RuntimeAssets.hx",lineNumber:86,className:"ceramic.RuntimeAssets",methodName:"requestTransformedDir"}),h.didQueryTransformedDir=2,r(h.transformedDir),null!=h.pendingTransformedDirCallbacks)for(var i=h.pendingTransformedDirCallbacks,l=(h.pendingTransformedDirCallbacks=null,0);l<i.length;){var s=i[l];++l,s(h.transformedDir)}}))},allAssets:null,allAssetDirs:null,assetsByBaseName:null,assetDirsByBaseName:null,cachedNames:null,cachedLists:null,path:null,reset:function(e,n){this.allAssets=e,this.path=n,this.allAssetDirs=null,this.assetsByBaseName=null,this.assetDirsByBaseName=null,this.cachedNames=new te,this.cachedLists=null,this.initData()},getNames:function(e,n,t){null==t&&(t=!1);var i=e+"|"+(null!=n?n.join(","):"")+(t?"|1":"|0"),l=this.cachedNames.h[i];if(null!=l)return l;var s=[];switch(null==n&&(n=[]),e){case"atlas":c=["atlas"];break;case"database":c=["csv"];break;case"font":c=["fnt","ttf","otf"];break;case"fragments":c=["fragments"];break;case"image":c=["png","jpg","jpeg"];break;case"shader":c=["frag","vert"];break;case"sound":ke.app.backend.info;null!=on._soundExtensions||(on._soundExtensions=[],r=new Audio,h=null!=qe.navigator?qe.navigator.userAgent:"",o=on.RE_OPERA.match(h)&&parseInt(on.RE_OPERA.matched(0).split("/")[1],10)<33,a=-1!=h.indexOf("Safari")&&-1==h.indexOf("Chrome"),h=on.RE_SAFARI_VERSION.match(h),a&&h&&parseInt(on.RE_SAFARI_VERSION.matched(1),10),null!=(a=r.canPlayType('audio/ogg; codecs="vorbis"'))&&"no"!=a&&""!=a&&on._soundExtensions.push("ogg"),h=r.canPlayType("audio/mpeg;"),a=r.canPlayType("audio/mp3;"),!o&&(null!=h&&"no"!=h&&""!=h||null!=a&&"no"!=a&&""!=a)&&on._soundExtensions.push("mp3"),o=r.canPlayType("audio/x-flac;"),h=r.canPlayType("audio/flac;"),(null!=o&&"no"!=o&&""!=o||null!=h&&"no"!=h&&""!=h)&&on._soundExtensions.push("flac"),a=r.canPlayType('audio/wav; codecs="1"'),o=r.canPlayType("audio/wav;"),(null!=a&&"no"!=a&&""!=a||null!=o&&"no"!=o&&""!=o)&&on._soundExtensions.push("wav"));var r,h,a,o,c=[].concat(on._soundExtensions);break;case"text":c=["txt","json","fnt","atlas"];break;default:c=[]}if(0!=(n=n.concat(c)).length){for(var u=Object.create(null),_=t?this.allAssetDirs:this.allAssets,d=0;d<n.length;)for(var b=n[d],g=(++d,0);g<_.length;){var O,f=_[g],p=(++g,f.toLowerCase()),C=p.lastIndexOf("."),v=null;-1!=C&&(p=he.substr(p,C+1,null))==b&&(-1==(O=he.substr(f,0,C).lastIndexOf("@"))&&(O=C),f=he.substr(f,0,Math.min(O,C)),null==(v=Bt.toAssetConstName(f))||Object.prototype.hasOwnProperty.call(u,v)||null==p||(u[v]=f))}for(var m=t?this.assetDirsByBaseName:this.assetsByBaseName,w=Object.keys(u),y=w.length,U=0;U<y;){u[v=w[U++]];for(var D=[],T=m.h[u[v]],d=0;d<T.length;)for(var x=T[d],g=(++d,0);g<n.length;){b=n[g];if(++g,z.endsWith(x,"."+b)){D.push(x);break}}var S={name:u[v],constName:v,paths:D};s.push(S)}this.cachedNames.h[i]=s}return s},getLists:function(){if(null!=this.cachedLists)return this.cachedLists;for(var e={all:[],allDirs:[],allByName:new te,allDirsByName:new te},n=0,t=this.allAssets;n<t.length;){var i=t[n];++n,e.all.push(i)}for(n=0,t=this.allAssetDirs;n<t.length;){i=t[n];++n,e.allDirs.push(i)}for(var l=this.assetsByBaseName.h,s=Object.keys(l),r=s.length,h=0;h<r;){var a=s[h++],o=[].concat(this.assetsByBaseName.h[a]);e.allByName.h[a]=o}l=this.assetDirsByBaseName.h;for(r=(s=Object.keys(l)).length,h=0;h<r;){a=s[h++],o=[].concat(this.assetDirsByBaseName.h[a]);e.allDirsByName.h[a]=o}return this.cachedLists=e},getEncodableLists:function(){for(var e=this.getLists(),n={},t=e.allByName.h,i=Object.keys(t),l=i.length,s=0;s<l;)n[r=i[s++]]=e.allByName.h[r];for(var r,h={},l=(t=e.allDirsByName.h,(i=Object.keys(t)).length),s=0;s<l;)h[r=i[s++]]=e.allDirsByName.h[r];return{all:e.all,allDirs:e.allDirs,allByName:n,allDirsByName:h}},initData:function(){for(var e=Object.create(null),n=0,t=this.allAssets;n<t.length;){var i=t[n];++n,e[i]=!0}for(var l=Object.create(null),n=(this.allAssetDirs=[],0),t=this.allAssets;n<t.length;){var i=t[n],s=(++n,i.lastIndexOf("/"));if(-1!=s)for(var r=he.substr(i,0,s);!Object.prototype.hasOwnProperty.call(l,r)&&(this.allAssetDirs.push(r),l[r]=!0,-1!=(s=r.lastIndexOf("/")));)r=he.substr(r,0,s)}if(null==this.assetsByBaseName){this.assetsByBaseName=new te;for(n=0,t=this.allAssets;n<t.length;){var h=t[n],a=(++n,h.lastIndexOf(".")),o=(-1==(c=he.substr(h,0,a).lastIndexOf("@"))&&(c=a),he.substr(h,0,Math.min(c,a)));Object.prototype.hasOwnProperty.call(this.assetsByBaseName.h,o)||(this.assetsByBaseName.h[o]=[]),this.assetsByBaseName.h[o].push(h)}}if(null==this.assetDirsByBaseName){this.assetDirsByBaseName=new te;for(n=0,t=this.allAssetDirs;n<t.length;){var c,h=t[n],a=(++n,h.lastIndexOf(".")),o=(-1==(c=he.substr(h,0,a).lastIndexOf("@"))&&(c=a),he.substr(h,0,Math.min(c,a)));Object.prototype.hasOwnProperty.call(this.assetDirsByBaseName.h,o)||(this.assetDirsByBaseName.h[o]=[]),this.assetDirsByBaseName.h[o].push(h)}}},__class__:Bt},{}),Mt=(a.$name=function(e){var n=null;return null!=(n=0<=e&&e<a.scanCodeNames.length?a.scanCodeNames[e]:n)?n:""},a.toString=function(e){return"ScanCode("+e+" "+a.$name(e)+")"},{}),Et=(Mt.toString=function(e){switch(e){case 0:return"NONE";case 1:return"PRELOAD";case 2:return"LOAD";case 3:return"CREATE";case 4:return"FADE_IN";case 5:return"READY";case 6:return"FADE_OUT";case 7:return"DISABLED";default:return"_"}},(E["ceramic.System"]=a1).__name__="ceramic.System",a1.__super__=j,a1.prototype=$extend(j.prototype,{__cbOnBeginEarlyUpdate:null,__cbOnceBeginEarlyUpdate:null,__cbOnOwnerUnbindBeginEarlyUpdate:null,__cbOnceOwnerUnbindBeginEarlyUpdate:null,emitBeginEarlyUpdate:function(e){var n=0;if(null!=this.__cbOnBeginEarlyUpdate&&(n+=this.__cbOnBeginEarlyUpdate.length),null!=this.__cbOnceBeginEarlyUpdate&&(n+=this.__cbOnceBeginEarlyUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnBeginEarlyUpdate)for(var s=0,r=this.__cbOnBeginEarlyUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnBeginEarlyUpdate[h],++l):--n}if(null!=this.__cbOnceBeginEarlyUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceBeginEarlyUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceBeginEarlyUpdate[h],this.__cbOnceBeginEarlyUpdate[h]=null,c=this.__cbOnceOwnerUnbindBeginEarlyUpdate[h],(this.__cbOnceOwnerUnbindBeginEarlyUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindBeginEarlyUpdate[h]),o.push(this.__cbOnceBeginEarlyUpdate[h]))}this.__cbOnceOwnerUnbindBeginEarlyUpdate=a,this.__cbOnceBeginEarlyUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onBeginEarlyUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event beginEarlyUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEarlyUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginEarlyUpdate&&(this.__cbOnOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnOwnerUnbindBeginEarlyUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginEarlyUpdate&&(this.__cbOnOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnOwnerUnbindBeginEarlyUpdate.push(null);null==this.__cbOnBeginEarlyUpdate&&(this.__cbOnBeginEarlyUpdate=[]),this.__cbOnBeginEarlyUpdate.push(t)},onceBeginEarlyUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event beginEarlyUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginEarlyUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginEarlyUpdate&&(this.__cbOnceOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnceOwnerUnbindBeginEarlyUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginEarlyUpdate&&(this.__cbOnceOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnceOwnerUnbindBeginEarlyUpdate.push(null);null==this.__cbOnceBeginEarlyUpdate&&(this.__cbOnceBeginEarlyUpdate=[]),this.__cbOnceBeginEarlyUpdate.push(t)},offBeginEarlyUpdate:function(e){if(null!=e){var n;null!=this.__cbOnBeginEarlyUpdate&&-1!=(n=this.__cbOnBeginEarlyUpdate.indexOf(e))&&(this.__cbOnBeginEarlyUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginEarlyUpdate[n])&&s(),this.__cbOnOwnerUnbindBeginEarlyUpdate.splice(n,1)),null!=this.__cbOnceBeginEarlyUpdate&&-1!=(n=this.__cbOnceBeginEarlyUpdate.indexOf(e))&&(this.__cbOnceBeginEarlyUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginEarlyUpdate[n])&&s(),this.__cbOnceOwnerUnbindBeginEarlyUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEarlyUpdate){for(var t=0,i=this.__cbOnOwnerUnbindBeginEarlyUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginEarlyUpdate[l])&&s()}this.__cbOnOwnerUnbindBeginEarlyUpdate=null}if(null!=this.__cbOnceOwnerUnbindBeginEarlyUpdate){for(t=0,i=this.__cbOnceOwnerUnbindBeginEarlyUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginEarlyUpdate[l])&&s()}this.__cbOnceOwnerUnbindBeginEarlyUpdate=null}this.__cbOnBeginEarlyUpdate=null,this.__cbOnceBeginEarlyUpdate=null}},listensBeginEarlyUpdate:function(){return null!=this.__cbOnBeginEarlyUpdate&&0<this.__cbOnBeginEarlyUpdate.length||null!=this.__cbOnceBeginEarlyUpdate&&0<this.__cbOnceBeginEarlyUpdate.length},__cbOnEndEarlyUpdate:null,__cbOnceEndEarlyUpdate:null,__cbOnOwnerUnbindEndEarlyUpdate:null,__cbOnceOwnerUnbindEndEarlyUpdate:null,emitEndEarlyUpdate:function(e){var n=0;if(null!=this.__cbOnEndEarlyUpdate&&(n+=this.__cbOnEndEarlyUpdate.length),null!=this.__cbOnceEndEarlyUpdate&&(n+=this.__cbOnceEndEarlyUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnEndEarlyUpdate)for(var s=0,r=this.__cbOnEndEarlyUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnEndEarlyUpdate[h],++l):--n}if(null!=this.__cbOnceEndEarlyUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceEndEarlyUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceEndEarlyUpdate[h],this.__cbOnceEndEarlyUpdate[h]=null,c=this.__cbOnceOwnerUnbindEndEarlyUpdate[h],(this.__cbOnceOwnerUnbindEndEarlyUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindEndEarlyUpdate[h]),o.push(this.__cbOnceEndEarlyUpdate[h]))}this.__cbOnceOwnerUnbindEndEarlyUpdate=a,this.__cbOnceEndEarlyUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onEndEarlyUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event endEarlyUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offEndEarlyUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEndEarlyUpdate&&(this.__cbOnOwnerUnbindEndEarlyUpdate=[]),this.__cbOnOwnerUnbindEndEarlyUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEndEarlyUpdate&&(this.__cbOnOwnerUnbindEndEarlyUpdate=[]),this.__cbOnOwnerUnbindEndEarlyUpdate.push(null);null==this.__cbOnEndEarlyUpdate&&(this.__cbOnEndEarlyUpdate=[]),this.__cbOnEndEarlyUpdate.push(t)},onceEndEarlyUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event endEarlyUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offEndEarlyUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEndEarlyUpdate&&(this.__cbOnceOwnerUnbindEndEarlyUpdate=[]),this.__cbOnceOwnerUnbindEndEarlyUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEndEarlyUpdate&&(this.__cbOnceOwnerUnbindEndEarlyUpdate=[]),this.__cbOnceOwnerUnbindEndEarlyUpdate.push(null);null==this.__cbOnceEndEarlyUpdate&&(this.__cbOnceEndEarlyUpdate=[]),this.__cbOnceEndEarlyUpdate.push(t)},offEndEarlyUpdate:function(e){if(null!=e){var n;null!=this.__cbOnEndEarlyUpdate&&-1!=(n=this.__cbOnEndEarlyUpdate.indexOf(e))&&(this.__cbOnEndEarlyUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEndEarlyUpdate[n])&&s(),this.__cbOnOwnerUnbindEndEarlyUpdate.splice(n,1)),null!=this.__cbOnceEndEarlyUpdate&&-1!=(n=this.__cbOnceEndEarlyUpdate.indexOf(e))&&(this.__cbOnceEndEarlyUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEndEarlyUpdate[n])&&s(),this.__cbOnceOwnerUnbindEndEarlyUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndEarlyUpdate){for(var t=0,i=this.__cbOnOwnerUnbindEndEarlyUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEndEarlyUpdate[l])&&s()}this.__cbOnOwnerUnbindEndEarlyUpdate=null}if(null!=this.__cbOnceOwnerUnbindEndEarlyUpdate){for(t=0,i=this.__cbOnceOwnerUnbindEndEarlyUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEndEarlyUpdate[l])&&s()}this.__cbOnceOwnerUnbindEndEarlyUpdate=null}this.__cbOnEndEarlyUpdate=null,this.__cbOnceEndEarlyUpdate=null}},listensEndEarlyUpdate:function(){return null!=this.__cbOnEndEarlyUpdate&&0<this.__cbOnEndEarlyUpdate.length||null!=this.__cbOnceEndEarlyUpdate&&0<this.__cbOnceEndEarlyUpdate.length},__cbOnBeginLateUpdate:null,__cbOnceBeginLateUpdate:null,__cbOnOwnerUnbindBeginLateUpdate:null,__cbOnceOwnerUnbindBeginLateUpdate:null,emitBeginLateUpdate:function(e){var n=0;if(null!=this.__cbOnBeginLateUpdate&&(n+=this.__cbOnBeginLateUpdate.length),null!=this.__cbOnceBeginLateUpdate&&(n+=this.__cbOnceBeginLateUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnBeginLateUpdate)for(var s=0,r=this.__cbOnBeginLateUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnBeginLateUpdate[h],++l):--n}if(null!=this.__cbOnceBeginLateUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceBeginLateUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceBeginLateUpdate[h],this.__cbOnceBeginLateUpdate[h]=null,c=this.__cbOnceOwnerUnbindBeginLateUpdate[h],(this.__cbOnceOwnerUnbindBeginLateUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindBeginLateUpdate[h]),o.push(this.__cbOnceBeginLateUpdate[h]))}this.__cbOnceOwnerUnbindBeginLateUpdate=a,this.__cbOnceBeginLateUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onBeginLateUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event beginLateUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginLateUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginLateUpdate&&(this.__cbOnOwnerUnbindBeginLateUpdate=[]),this.__cbOnOwnerUnbindBeginLateUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginLateUpdate&&(this.__cbOnOwnerUnbindBeginLateUpdate=[]),this.__cbOnOwnerUnbindBeginLateUpdate.push(null);null==this.__cbOnBeginLateUpdate&&(this.__cbOnBeginLateUpdate=[]),this.__cbOnBeginLateUpdate.push(t)},onceBeginLateUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event beginLateUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginLateUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginLateUpdate&&(this.__cbOnceOwnerUnbindBeginLateUpdate=[]),this.__cbOnceOwnerUnbindBeginLateUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginLateUpdate&&(this.__cbOnceOwnerUnbindBeginLateUpdate=[]),this.__cbOnceOwnerUnbindBeginLateUpdate.push(null);null==this.__cbOnceBeginLateUpdate&&(this.__cbOnceBeginLateUpdate=[]),this.__cbOnceBeginLateUpdate.push(t)},offBeginLateUpdate:function(e){if(null!=e){var n;null!=this.__cbOnBeginLateUpdate&&-1!=(n=this.__cbOnBeginLateUpdate.indexOf(e))&&(this.__cbOnBeginLateUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginLateUpdate[n])&&s(),this.__cbOnOwnerUnbindBeginLateUpdate.splice(n,1)),null!=this.__cbOnceBeginLateUpdate&&-1!=(n=this.__cbOnceBeginLateUpdate.indexOf(e))&&(this.__cbOnceBeginLateUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginLateUpdate[n])&&s(),this.__cbOnceOwnerUnbindBeginLateUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginLateUpdate){for(var t=0,i=this.__cbOnOwnerUnbindBeginLateUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginLateUpdate[l])&&s()}this.__cbOnOwnerUnbindBeginLateUpdate=null}if(null!=this.__cbOnceOwnerUnbindBeginLateUpdate){for(t=0,i=this.__cbOnceOwnerUnbindBeginLateUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginLateUpdate[l])&&s()}this.__cbOnceOwnerUnbindBeginLateUpdate=null}this.__cbOnBeginLateUpdate=null,this.__cbOnceBeginLateUpdate=null}},listensBeginLateUpdate:function(){return null!=this.__cbOnBeginLateUpdate&&0<this.__cbOnBeginLateUpdate.length||null!=this.__cbOnceBeginLateUpdate&&0<this.__cbOnceBeginLateUpdate.length},__cbOnEndLateUpdate:null,__cbOnceEndLateUpdate:null,__cbOnOwnerUnbindEndLateUpdate:null,__cbOnceOwnerUnbindEndLateUpdate:null,emitEndLateUpdate:function(e){var n=0;if(null!=this.__cbOnEndLateUpdate&&(n+=this.__cbOnEndLateUpdate.length),null!=this.__cbOnceEndLateUpdate&&(n+=this.__cbOnceEndLateUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnEndLateUpdate)for(var s=0,r=this.__cbOnEndLateUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnEndLateUpdate[h],++l):--n}if(null!=this.__cbOnceEndLateUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceEndLateUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceEndLateUpdate[h],this.__cbOnceEndLateUpdate[h]=null,c=this.__cbOnceOwnerUnbindEndLateUpdate[h],(this.__cbOnceOwnerUnbindEndLateUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindEndLateUpdate[h]),o.push(this.__cbOnceEndLateUpdate[h]))}this.__cbOnceOwnerUnbindEndLateUpdate=a,this.__cbOnceEndLateUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onEndLateUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event endLateUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offEndLateUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEndLateUpdate&&(this.__cbOnOwnerUnbindEndLateUpdate=[]),this.__cbOnOwnerUnbindEndLateUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEndLateUpdate&&(this.__cbOnOwnerUnbindEndLateUpdate=[]),this.__cbOnOwnerUnbindEndLateUpdate.push(null);null==this.__cbOnEndLateUpdate&&(this.__cbOnEndLateUpdate=[]),this.__cbOnEndLateUpdate.push(t)},onceEndLateUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event endLateUpdate because owner is destroyed!");var l=function(e){null!=t&&(i.offEndLateUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEndLateUpdate&&(this.__cbOnceOwnerUnbindEndLateUpdate=[]),this.__cbOnceOwnerUnbindEndLateUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEndLateUpdate&&(this.__cbOnceOwnerUnbindEndLateUpdate=[]),this.__cbOnceOwnerUnbindEndLateUpdate.push(null);null==this.__cbOnceEndLateUpdate&&(this.__cbOnceEndLateUpdate=[]),this.__cbOnceEndLateUpdate.push(t)},offEndLateUpdate:function(e){if(null!=e){var n;null!=this.__cbOnEndLateUpdate&&-1!=(n=this.__cbOnEndLateUpdate.indexOf(e))&&(this.__cbOnEndLateUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEndLateUpdate[n])&&s(),this.__cbOnOwnerUnbindEndLateUpdate.splice(n,1)),null!=this.__cbOnceEndLateUpdate&&-1!=(n=this.__cbOnceEndLateUpdate.indexOf(e))&&(this.__cbOnceEndLateUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEndLateUpdate[n])&&s(),this.__cbOnceOwnerUnbindEndLateUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndLateUpdate){for(var t=0,i=this.__cbOnOwnerUnbindEndLateUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEndLateUpdate[l])&&s()}this.__cbOnOwnerUnbindEndLateUpdate=null}if(null!=this.__cbOnceOwnerUnbindEndLateUpdate){for(t=0,i=this.__cbOnceOwnerUnbindEndLateUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEndLateUpdate[l])&&s()}this.__cbOnceOwnerUnbindEndLateUpdate=null}this.__cbOnEndLateUpdate=null,this.__cbOnceEndLateUpdate=null}},listensEndLateUpdate:function(){return null!=this.__cbOnEndLateUpdate&&0<this.__cbOnEndLateUpdate.length||null!=this.__cbOnceEndLateUpdate&&0<this.__cbOnceEndLateUpdate.length},name:null,autoUpdate:null,earlyUpdateOrder:null,set_earlyUpdateOrder:function(e){return this.earlyUpdateOrder!=e&&(this.earlyUpdateOrder=e,ke.app.systems.earlyUpdateOrderDirty=!0),e},lateUpdateOrder:null,set_lateUpdateOrder:function(e){return this.lateUpdateOrder!=e&&(this.lateUpdateOrder=e,ke.app.systems.lateUpdateOrderDirty=!0),e},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),ke.app.systems.removeSystem(this))},earlyUpdate:function(e){},lateUpdate:function(e){},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offBeginEarlyUpdate(),this.offEndEarlyUpdate(),this.offBeginLateUpdate(),this.offEndLateUpdate()},__class__:a1,__properties__:$extend(j.prototype.__properties__,{set_lateUpdateOrder:"set_lateUpdateOrder",set_earlyUpdateOrder:"set_earlyUpdateOrder"})}),function(){this.rootScenes=new te,this.filter=null,this.autoScaleFilter=!0,this.autoDestroyFilter=!0,this.main=null,this.fadeOutWhenNextMainCanFadeIn=!0,this.bindMainToScreenSize=!0,this.keepAssetsForNextMain=!1,this._updatingScenes=[],this.all=[],a1.call(this),this.set_lateUpdateOrder(5e3)}),Rt=((E["ceramic.SceneSystem"]=Et).__name__="ceramic.SceneSystem",Et.__properties__={set_shared:"set_shared",get_shared:"get_shared"},Et.get_shared=function(){return Et.lazyShared&&(Et.lazyShared=!1,Et.shared=new Et),Et.shared},Et.set_shared=function(e){return Et.shared=e},Et.__super__=a1,Et.prototype=$extend(a1.prototype,{all:null,_updatingScenes:null,keepAssetsForNextMain:null,bindMainToScreenSize:null,fadeOutWhenNextMainCanFadeIn:null,main:null,autoDestroyFilter:null,autoScaleFilter:null,filter:null,set_filter:function(e){if(this.filter!=e){var n=this.filter;if(null!=n){for(var t=u=this.rootScenes.h,i=(_=Object.keys(u)).length,l=0;l<i;)(d=t[_[l++]]).parent==n.content&&(n.content.remove(d),d.set_scaleX(1),d.set_scaleY(1));if(null!=n.content.children){for(var s=null,r=0,h=n.content.children.length;r<h;){var a=r++,o=n.content.children[a];o instanceof v&&(c=o).isRootScene&&(s=null==s?[]:s).push(c)}if(null!=s)for(r=0,h=s.length;r<h;){var c=s[a=r++];n.content.remove(c),c.set_active(!1)}}this.autoDestroyFilter?n.destroy():(n.set_scaleX(1),n.set_scaleY(1))}if(null!=(this.filter=e)){this.autoScaleFilter&&this.scaleFilter();for(var u,_,d,t=u=this.rootScenes.h,i=(_=Object.keys(u)).length,l=0;l<i;)(d=t[_[l++]]).parent!=e.content&&e.content.add(d)}}return e},scaleFilter:function(){var e=this.filter,n=ke.app.screen.width/this.filter.get_width(),t=ke.app.screen.height/this.filter.get_height(),e=(e.set_scaleX(n),e.set_scaleY(t),this.filter.content),n=this.filter.get_width()/ke.app.screen.width,t=this.filter.get_height()/ke.app.screen.height;e.set_scaleX(n),e.set_scaleY(t)},rootScenes:null,set_main:function(e){return this.main!=e&&(this.main=e,this.set("main",e,this.bindMainToScreenSize,this.keepAssetsForNextMain)),e},set:function(a,o,e,n){null==n&&(n=!1),null==e&&(e=!0);var c=this,t=this.rootScenes.h[a],i=null;if(null!=o&&o.isRootScene)for(var l=this.rootScenes.h,s=l,r=Object.keys(l),h=r.length,u=0;u<h;){var _=r[u++];if(s[_]==o){i=_;break}}if(null!=i){if(i==a)return;var d=this.rootScenes;Object.prototype.hasOwnProperty.call(d.h,i)&&delete d.h[i]}if(o!=t)if(null==o){d=this.rootScenes;if(Object.prototype.hasOwnProperty.call(d.h,a)&&delete d.h[a],"main"==a&&this.set_main(null),0<=t._lifecycleState)switch(t.get_status()){case 0:case 1:case 2:case 3:case 4:t.scheduleOnceReady(t,$bind(t,t.destroy));break;case 5:t.fadeOut($bind(t,t.destroy));break;case 6:case 7:t.destroy()}}else{if(o._lifecycleState<0)throw ct.thrown("Cannot assign a destroyed scene as root scene!");l=null;if(null==i?(o.isRootScene=!0,this.rootScenes.h[a]=o,"main"==a&&this.set_main(o),o.onDestroy(this,function(e){var n=null;if(null!=o&&o.isRootScene)for(var t=c.rootScenes.h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var h=l[r++];if(i[h]==e){n=h;break}}null!=n&&(t=c.rootScenes,Object.prototype.hasOwnProperty.call(t.h,a)&&delete t.h[a],"main"==n)&&c.main==e&&c.set_main(null)}),o.onReplace(this,function(e){var n=null;if(null!=o&&o.isRootScene)for(var t=c.rootScenes.h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var h=l[r++];if(i[h]==o){n=h;break}}null!=n&&c.set(n,e)})):("main"==i&&this.set_main(null),this.rootScenes.h[a]=o,"main"==a&&this.set_main(o)),null!=t){n&&(l=t._assets);var b=function(){n&&(t._assets=null),t.destroy(),t=null};if(this.fadeOutWhenNextMainCanFadeIn){var g=null;switch(o.get_status()){case 0:case 1:case 2:case 3:g=function(e,n){switch(e){case 0:case 1:case 2:case 3:break;case 4:case 5:case 6:case 7:switch(o.offStatusChange(g),t.get_status()){case 5:t.fadeOut(b);break;case 0:case 1:case 2:case 3:case 4:case 6:case 7:b()}}},o.onStatusChange(t,g);break;case 4:case 5:case 6:case 7:switch(t.get_status()){case 5:t.fadeOut(b);break;case 0:case 1:case 2:case 3:case 4:case 6:case 7:b()}}}else switch(t.get_status()){case 5:t.fadeOut(b);break;case 0:case 1:case 2:case 3:case 4:case 6:case 7:b()}}null==i&&(o._assets=l,e&&o.bindToScreenSize(),null!=this.filter&&this.filter.content.add(o),o._boot())}},get:function(e){return this.rootScenes.h[e]},setCurrentScene:function(e,n){this.keepAssetsForNextMain=n=null==n?!1:n,this.set_main(e)},lateUpdate:function(e){for(var n=this.all.length,t=0,i=n;t<i;){var l=t++;this._updatingScenes[l]=this.all[l]}for(t=0,i=n;t<i;){var l=t++,s=this._updatingScenes[l];if((1!=(1&s.flags)||s.autoUpdateWhenInactive)&&(!(s._lifecycleState<0)&&(0==s.get_status()&&null!=s.parent&&s._boot(),!s.paused)&&s.autoUpdate))switch(s.get_status()){case 4:case 5:case 6:s.update(e)}}for(t=0,i=n;t<i;){l=t++;this._updatingScenes[l]=null}this.autoScaleFilter&&null!=this.filter&&this.scaleFilter()},__class__:Et,__properties__:$extend(a1.prototype.__properties__,{set_filter:"set_filter",set_main:"set_main"})}),function(){this.hitVisuals=[],this.matchedOverListeners=new $l,this.matchedDownListeners=new $l,this.visualsListenPointerOver=!1,this.maxTouchIndex=-1,this.prevMouseY=0,this.prevMouseX=0,this.prevTouchPositions=new rt(16,.5,!1),this.pressedTouches=new Sn(16,.5,!1),this.pressedMouseButtons=new Sn(16,.5,!1),this._numPointerDown=0,this.resizing=!1,this.reverseMatrix=new n,this.matrix=new n,this.unobservedTexturesDensity=1,this.texturesDensityAutoruns=null,this.unobservedFocusedVisual=null,this.focusedVisualAutoruns=null,this.touches=new gt(8,.5,!1),this.mouseWheelDeltaY=0,this.mouseWheelDeltaX=0,this.mouseDeltaY=0,this.mouseDeltaX=0,this.mouseY=0,this.mouseX=0,this.pointerDeltaY=0,this.pointerDeltaX=0,this.pointerY=0,this.pointerX=0,this.offsetY=0,this.offsetX=0,this.actualHeight=0,this.actualWidth=0,this.height=0,this.width=0,this.density=1,this.observedDirty=!1,j.call(this)}),Vt=((E["ceramic.Screen"]=Rt).__name__="ceramic.Screen",Rt.__interfaces__=[u],Rt._elementsImFocused=function(){var e=W.get_context();return null!=e&&null!=e.focusedWindow},Rt.__super__=j,Rt.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,density:null,width:null,height:null,actualWidth:null,actualHeight:null,offsetX:null,offsetY:null,nativeWidth:null,get_nativeWidth:function(){return Z.app.screenWidth},nativeHeight:null,get_nativeHeight:function(){return Z.app.screenHeight},nativeDensity:null,get_nativeDensity:function(){return Z.app.screenDensity},pointerX:null,pointerY:null,pointerDeltaX:null,pointerDeltaY:null,mouseX:null,mouseY:null,mouseDeltaX:null,mouseDeltaY:null,mouseWheelDeltaX:null,mouseWheelDeltaY:null,touches:null,focusedVisualAutoruns:null,get_focusedVisual:function(){var e,n,t=this.unobservedFocusedVisual;return null!=w.current&&(e=w.current,null!=(n=this.focusedVisualAutoruns)||(n=w.getAutorunArray(),null!=(this.focusedVisualAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedVisual:function(e){var n=this.unobservedFocusedVisual;return this.set_unobservedFocusedVisual(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedVisualChange(e,n),null!=(n=this.focusedVisualAutoruns))&&(this.focusedVisualAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFocusedVisual:function(){var e=this.unobservedFocusedVisual,e=(this.emitFocusedVisualChange(e,e),this.focusedVisualAutoruns);null!=e&&(this.focusedVisualAutoruns=null,w.invalidateAutorunArray(e))},unobservedFocusedVisual:null,__cbOnFocusedVisualChange:null,__cbOnceFocusedVisualChange:null,__cbOnOwnerUnbindFocusedVisualChange:null,__cbOnceOwnerUnbindFocusedVisualChange:null,emitFocusedVisualChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedVisualChange&&(t+=this.__cbOnFocusedVisualChange.length),null!=this.__cbOnceFocusedVisualChange&&(t+=this.__cbOnceFocusedVisualChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedVisualChange)for(var r=0,h=this.__cbOnFocusedVisualChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFocusedVisualChange[a],++s):--t}if(null!=this.__cbOnceFocusedVisualChange){for(var o=null,c=null,r=0,h=this.__cbOnceFocusedVisualChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFocusedVisualChange[a],this.__cbOnceFocusedVisualChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedVisualChange[a],(this.__cbOnceOwnerUnbindFocusedVisualChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedVisualChange[a]),c.push(this.__cbOnceFocusedVisualChange[a]))}this.__cbOnceOwnerUnbindFocusedVisualChange=o,this.__cbOnceFocusedVisualChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFocusedVisualChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focusedVisualChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedVisualChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedVisualChange&&(this.__cbOnOwnerUnbindFocusedVisualChange=[]),this.__cbOnOwnerUnbindFocusedVisualChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedVisualChange&&(this.__cbOnOwnerUnbindFocusedVisualChange=[]),this.__cbOnOwnerUnbindFocusedVisualChange.push(null);null==this.__cbOnFocusedVisualChange&&(this.__cbOnFocusedVisualChange=[]),this.__cbOnFocusedVisualChange.push(t)},onceFocusedVisualChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focusedVisualChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedVisualChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedVisualChange&&(this.__cbOnceOwnerUnbindFocusedVisualChange=[]),this.__cbOnceOwnerUnbindFocusedVisualChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedVisualChange&&(this.__cbOnceOwnerUnbindFocusedVisualChange=[]),this.__cbOnceOwnerUnbindFocusedVisualChange.push(null);null==this.__cbOnceFocusedVisualChange&&(this.__cbOnceFocusedVisualChange=[]),this.__cbOnceFocusedVisualChange.push(t)},offFocusedVisualChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedVisualChange&&-1!=(n=this.__cbOnFocusedVisualChange.indexOf(e))&&(this.__cbOnFocusedVisualChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedVisualChange[n])&&s(),this.__cbOnOwnerUnbindFocusedVisualChange.splice(n,1)),null!=this.__cbOnceFocusedVisualChange&&-1!=(n=this.__cbOnceFocusedVisualChange.indexOf(e))&&(this.__cbOnceFocusedVisualChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedVisualChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedVisualChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedVisualChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedVisualChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedVisualChange[l])&&s()}this.__cbOnOwnerUnbindFocusedVisualChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedVisualChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedVisualChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedVisualChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedVisualChange=null}this.__cbOnFocusedVisualChange=null,this.__cbOnceFocusedVisualChange=null}},listensFocusedVisualChange:function(){return null!=this.__cbOnFocusedVisualChange&&0<this.__cbOnFocusedVisualChange.length||null!=this.__cbOnceFocusedVisualChange&&0<this.__cbOnceFocusedVisualChange.length},set_unobservedFocusedVisual:function(e){var n;return this.unobservedFocusedVisual!=e&&(n=this.unobservedFocusedVisual,this.unobservedFocusedVisual=e,null!=n&&(this.emitBlur(n),n.emitBlur()),null!=e)&&(this.emitFocus(e),e.emitFocus()),e},texturesDensityAutoruns:null,get_texturesDensity:function(){var e,n,t=this.unobservedTexturesDensity;return null!=w.current&&(e=w.current,null!=(n=this.texturesDensityAutoruns)||(n=w.getAutorunArray(),null!=(this.texturesDensityAutoruns=n)))&&e.bindToAutorunArray(n),t},set_texturesDensity:function(e){var n=this.unobservedTexturesDensity;return n!=(this.unobservedTexturesDensity=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTexturesDensityChange(e,n),null!=(n=this.texturesDensityAutoruns))&&(this.texturesDensityAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTexturesDensity:function(){var e=this.unobservedTexturesDensity,e=(this.emitTexturesDensityChange(e,e),this.texturesDensityAutoruns);null!=e&&(this.texturesDensityAutoruns=null,w.invalidateAutorunArray(e))},unobservedTexturesDensity:null,__cbOnTexturesDensityChange:null,__cbOnceTexturesDensityChange:null,__cbOnOwnerUnbindTexturesDensityChange:null,__cbOnceOwnerUnbindTexturesDensityChange:null,emitTexturesDensityChange:function(e,n){var t=0;if(null!=this.__cbOnTexturesDensityChange&&(t+=this.__cbOnTexturesDensityChange.length),null!=this.__cbOnceTexturesDensityChange&&(t+=this.__cbOnceTexturesDensityChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTexturesDensityChange)for(var r=0,h=this.__cbOnTexturesDensityChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTexturesDensityChange[a],++s):--t}if(null!=this.__cbOnceTexturesDensityChange){for(var o=null,c=null,r=0,h=this.__cbOnceTexturesDensityChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTexturesDensityChange[a],this.__cbOnceTexturesDensityChange[a]=null,u=this.__cbOnceOwnerUnbindTexturesDensityChange[a],(this.__cbOnceOwnerUnbindTexturesDensityChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTexturesDensityChange[a]),c.push(this.__cbOnceTexturesDensityChange[a]))}this.__cbOnceOwnerUnbindTexturesDensityChange=o,this.__cbOnceTexturesDensityChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTexturesDensityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event texturesDensityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTexturesDensityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTexturesDensityChange&&(this.__cbOnOwnerUnbindTexturesDensityChange=[]),this.__cbOnOwnerUnbindTexturesDensityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTexturesDensityChange&&(this.__cbOnOwnerUnbindTexturesDensityChange=[]),this.__cbOnOwnerUnbindTexturesDensityChange.push(null);null==this.__cbOnTexturesDensityChange&&(this.__cbOnTexturesDensityChange=[]),this.__cbOnTexturesDensityChange.push(t)},onceTexturesDensityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event texturesDensityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTexturesDensityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTexturesDensityChange&&(this.__cbOnceOwnerUnbindTexturesDensityChange=[]),this.__cbOnceOwnerUnbindTexturesDensityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTexturesDensityChange&&(this.__cbOnceOwnerUnbindTexturesDensityChange=[]),this.__cbOnceOwnerUnbindTexturesDensityChange.push(null);null==this.__cbOnceTexturesDensityChange&&(this.__cbOnceTexturesDensityChange=[]),this.__cbOnceTexturesDensityChange.push(t)},offTexturesDensityChange:function(e){if(null!=e){var n;null!=this.__cbOnTexturesDensityChange&&-1!=(n=this.__cbOnTexturesDensityChange.indexOf(e))&&(this.__cbOnTexturesDensityChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTexturesDensityChange[n])&&s(),this.__cbOnOwnerUnbindTexturesDensityChange.splice(n,1)),null!=this.__cbOnceTexturesDensityChange&&-1!=(n=this.__cbOnceTexturesDensityChange.indexOf(e))&&(this.__cbOnceTexturesDensityChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTexturesDensityChange[n])&&s(),this.__cbOnceOwnerUnbindTexturesDensityChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTexturesDensityChange){for(var t=0,i=this.__cbOnOwnerUnbindTexturesDensityChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTexturesDensityChange[l])&&s()}this.__cbOnOwnerUnbindTexturesDensityChange=null}if(null!=this.__cbOnceOwnerUnbindTexturesDensityChange){for(t=0,i=this.__cbOnceOwnerUnbindTexturesDensityChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTexturesDensityChange[l])&&s()}this.__cbOnceOwnerUnbindTexturesDensityChange=null}this.__cbOnTexturesDensityChange=null,this.__cbOnceTexturesDensityChange=null}},listensTexturesDensityChange:function(){return null!=this.__cbOnTexturesDensityChange&&0<this.__cbOnTexturesDensityChange.length||null!=this.__cbOnceTexturesDensityChange&&0<this.__cbOnceTexturesDensityChange.length},matrix:null,reverseMatrix:null,resizing:null,isPointerDown:null,_numPointerDown:null,get_isPointerDown:function(){return 0<this._numPointerDown},pressedMouseButtons:null,pressedTouches:null,prevTouchPositions:null,prevMouseX:null,prevMouseY:null,maxTouchIndex:null,visualsListenPointerOver:null,__cbOnResize:null,__cbOnceResize:null,__cbOnOwnerUnbindResize:null,__cbOnceOwnerUnbindResize:null,emitResize:function(){var e=0;if(null!=this.__cbOnResize&&(e+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(e+=this.__cbOnceResize.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnResize)for(var l=0,s=this.__cbOnResize.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnResize[r],++i):--e}if(null!=this.__cbOnceResize){for(var h=null,a=null,l=0,s=this.__cbOnceResize.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceResize[r],this.__cbOnceResize[r]=null,o=this.__cbOnceOwnerUnbindResize[r],(this.__cbOnceOwnerUnbindResize[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindResize[r]),a.push(this.__cbOnceResize[r]))}this.__cbOnceOwnerUnbindResize=h,this.__cbOnceResize=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(t)},onceResize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event resize because owner is destroyed!");var l=function(e){null!=t&&(i.offResize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(t)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindResize[n])&&s(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindResize[n])&&s(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindResize[l])&&s()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindResize[l])&&s()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&0<this.__cbOnResize.length||null!=this.__cbOnceResize&&0<this.__cbOnceResize.length},__cbOnMouseDown:null,__cbOnceMouseDown:null,__cbOnOwnerUnbindMouseDown:null,__cbOnceOwnerUnbindMouseDown:null,__onOwnerMouseDown:null,__onceOwnerMouseDown:null,emitMouseDown:function(e,n,t){this.willEmitMouseDown(e,n,t);var i=0;if(null!=this.__cbOnMouseDown&&(i+=this.__cbOnMouseDown.length),null!=this.__cbOnceMouseDown&&(i+=this.__cbOnceMouseDown.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnMouseDown)for(var h=0,a=this.__cbOnMouseDown.length;h<a;){var o=h++,c=this.__onOwnerMouseDown[o],u=!1;null!=W.get_context().focusedWindow?null!=c&&(u=K._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnMouseDown[o],++r):--i}if(null!=this.__cbOnceMouseDown){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceMouseDown.length;h<a;){var g,o=h++,c=this.__onceOwnerMouseDown[o],u=!1;null!=W.get_context().focusedWindow?null!=c&&(u=K._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnceMouseDown[o],this.__cbOnceMouseDown[o]=null,g=this.__cbOnceOwnerUnbindMouseDown[o],(this.__cbOnceOwnerUnbindMouseDown[o]=null)!=g&&g(),++r):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindMouseDown[o]),d.push(this.__cbOnceMouseDown[o]),b.push(this.__onceOwnerMouseDown[o]))}this.__cbOnceOwnerUnbindMouseDown=_,this.__cbOnceMouseDown=d,this.__onceOwnerMouseDown=b}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}l=this.matchFirstDownListener(n,t,-1,e);null!=l&&(l._numPointerDown++,1!=l._numPointerDown&&!l.multiTouch||(ke.app.screen.set_focusedVisual(l),l.emitPointerDown(new Ui(-1,e,n,t,!0)))),this.matchedDownListeners.h[1e4+e]=l},onMouseDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(null);null==this.__cbOnMouseDown&&(this.__cbOnMouseDown=[]),this.__cbOnMouseDown.push(t),null==this.__onOwnerMouseDown&&(this.__onOwnerMouseDown=[]),this.__onOwnerMouseDown.push(n)},onceMouseDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(null);null==this.__cbOnceMouseDown&&(this.__cbOnceMouseDown=[]),this.__cbOnceMouseDown.push(t),null==this.__onceOwnerMouseDown&&(this.__onceOwnerMouseDown=[]),this.__onceOwnerMouseDown.push(n)},offMouseDown:function(e){if(null!=e){var n;null!=this.__cbOnMouseDown&&-1!=(n=this.__cbOnMouseDown.indexOf(e))&&(this.__cbOnMouseDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseDown[n])&&s(),this.__cbOnOwnerUnbindMouseDown.splice(n,1),this.__onOwnerMouseDown.splice(n,1)),null!=this.__cbOnceMouseDown&&-1!=(n=this.__cbOnceMouseDown.indexOf(e))&&(this.__cbOnceMouseDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseDown[n])&&s(),this.__cbOnceOwnerUnbindMouseDown.splice(n,1),this.__onceOwnerMouseDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseDown){for(var t=0,i=this.__cbOnOwnerUnbindMouseDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseDown[l])&&s()}this.__cbOnOwnerUnbindMouseDown=null}if(null!=this.__cbOnceOwnerUnbindMouseDown){for(t=0,i=this.__cbOnceOwnerUnbindMouseDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseDown[l])&&s()}this.__cbOnceOwnerUnbindMouseDown=null}this.__cbOnMouseDown=null,this.__cbOnceMouseDown=null,this.__onOwnerMouseDown=null,this.__onceOwnerMouseDown=null}},listensMouseDown:function(){return null!=this.__cbOnMouseDown&&0<this.__cbOnMouseDown.length||null!=this.__cbOnceMouseDown&&0<this.__cbOnceMouseDown.length},__cbOnMouseUp:null,__cbOnceMouseUp:null,__cbOnOwnerUnbindMouseUp:null,__cbOnceOwnerUnbindMouseUp:null,__onOwnerMouseUp:null,__onceOwnerMouseUp:null,emitMouseUp:function(e,n,t){this.willEmitMouseUp(e,n,t);var i=0;if(null!=this.__cbOnMouseUp&&(i+=this.__cbOnMouseUp.length),null!=this.__cbOnceMouseUp&&(i+=this.__cbOnceMouseUp.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnMouseUp)for(var h=0,a=this.__cbOnMouseUp.length;h<a;){var o=h++,c=this.__onOwnerMouseUp[o],u=!1;null!=W.get_context().focusedWindow?null!=c&&(u=K._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnMouseUp[o],++r):--i}if(null!=this.__cbOnceMouseUp){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceMouseUp.length;h<a;){var g,o=h++,c=this.__onceOwnerMouseUp[o],u=!1;null!=W.get_context().focusedWindow?null!=c&&(u=K._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnceMouseUp[o],this.__cbOnceMouseUp[o]=null,g=this.__cbOnceOwnerUnbindMouseUp[o],(this.__cbOnceOwnerUnbindMouseUp[o]=null)!=g&&g(),++r):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindMouseUp[o]),d.push(this.__cbOnceMouseUp[o]),b.push(this.__onceOwnerMouseUp[o]))}this.__cbOnceOwnerUnbindMouseUp=_,this.__cbOnceMouseUp=d,this.__onceOwnerMouseUp=b}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}var l=1e4+e,O=this.matchedDownListeners.h[l];null!=O&&0<=O._lifecycleState&&0<O._numPointerDown&&(O._numPointerDown--,0!=O._numPointerDown&&!O.multiTouch||O.emitPointerUp(new Ui(-1,e,n,t,O._hits(n,t,!1)))),this.matchedDownListeners.remove(l)},onMouseUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(null);null==this.__cbOnMouseUp&&(this.__cbOnMouseUp=[]),this.__cbOnMouseUp.push(t),null==this.__onOwnerMouseUp&&(this.__onOwnerMouseUp=[]),this.__onOwnerMouseUp.push(n)},onceMouseUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(null);null==this.__cbOnceMouseUp&&(this.__cbOnceMouseUp=[]),this.__cbOnceMouseUp.push(t),null==this.__onceOwnerMouseUp&&(this.__onceOwnerMouseUp=[]),this.__onceOwnerMouseUp.push(n)},offMouseUp:function(e){if(null!=e){var n;null!=this.__cbOnMouseUp&&-1!=(n=this.__cbOnMouseUp.indexOf(e))&&(this.__cbOnMouseUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseUp[n])&&s(),this.__cbOnOwnerUnbindMouseUp.splice(n,1),this.__onOwnerMouseUp.splice(n,1)),null!=this.__cbOnceMouseUp&&-1!=(n=this.__cbOnceMouseUp.indexOf(e))&&(this.__cbOnceMouseUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseUp[n])&&s(),this.__cbOnceOwnerUnbindMouseUp.splice(n,1),this.__onceOwnerMouseUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseUp){for(var t=0,i=this.__cbOnOwnerUnbindMouseUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseUp[l])&&s()}this.__cbOnOwnerUnbindMouseUp=null}if(null!=this.__cbOnceOwnerUnbindMouseUp){for(t=0,i=this.__cbOnceOwnerUnbindMouseUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseUp[l])&&s()}this.__cbOnceOwnerUnbindMouseUp=null}this.__cbOnMouseUp=null,this.__cbOnceMouseUp=null,this.__onOwnerMouseUp=null,this.__onceOwnerMouseUp=null}},listensMouseUp:function(){return null!=this.__cbOnMouseUp&&0<this.__cbOnMouseUp.length||null!=this.__cbOnceMouseUp&&0<this.__cbOnceMouseUp.length},__cbOnMouseWheel:null,__cbOnceMouseWheel:null,__cbOnOwnerUnbindMouseWheel:null,__cbOnceOwnerUnbindMouseWheel:null,emitMouseWheel:function(e,n){this.willEmitMouseWheel(e,n);var t=0;if(null!=this.__cbOnMouseWheel&&(t+=this.__cbOnMouseWheel.length),null!=this.__cbOnceMouseWheel&&(t+=this.__cbOnceMouseWheel.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMouseWheel)for(var r=0,h=this.__cbOnMouseWheel.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMouseWheel[a],++s):--t}if(null!=this.__cbOnceMouseWheel){for(var o=null,c=null,r=0,h=this.__cbOnceMouseWheel.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMouseWheel[a],this.__cbOnceMouseWheel[a]=null,u=this.__cbOnceOwnerUnbindMouseWheel[a],(this.__cbOnceOwnerUnbindMouseWheel[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMouseWheel[a]),c.push(this.__cbOnceMouseWheel[a]))}this.__cbOnceOwnerUnbindMouseWheel=o,this.__cbOnceMouseWheel=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMouseWheel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseWheel because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseWheel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(null);null==this.__cbOnMouseWheel&&(this.__cbOnMouseWheel=[]),this.__cbOnMouseWheel.push(t)},onceMouseWheel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseWheel because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseWheel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(null);null==this.__cbOnceMouseWheel&&(this.__cbOnceMouseWheel=[]),this.__cbOnceMouseWheel.push(t)},offMouseWheel:function(e){if(null!=e){var n;null!=this.__cbOnMouseWheel&&-1!=(n=this.__cbOnMouseWheel.indexOf(e))&&(this.__cbOnMouseWheel.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseWheel[n])&&s(),this.__cbOnOwnerUnbindMouseWheel.splice(n,1)),null!=this.__cbOnceMouseWheel&&-1!=(n=this.__cbOnceMouseWheel.indexOf(e))&&(this.__cbOnceMouseWheel.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseWheel[n])&&s(),this.__cbOnceOwnerUnbindMouseWheel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseWheel){for(var t=0,i=this.__cbOnOwnerUnbindMouseWheel.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseWheel[l])&&s()}this.__cbOnOwnerUnbindMouseWheel=null}if(null!=this.__cbOnceOwnerUnbindMouseWheel){for(t=0,i=this.__cbOnceOwnerUnbindMouseWheel.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseWheel[l])&&s()}this.__cbOnceOwnerUnbindMouseWheel=null}this.__cbOnMouseWheel=null,this.__cbOnceMouseWheel=null}},listensMouseWheel:function(){return null!=this.__cbOnMouseWheel&&0<this.__cbOnMouseWheel.length||null!=this.__cbOnceMouseWheel&&0<this.__cbOnceMouseWheel.length},__cbOnMouseMove:null,__cbOnceMouseMove:null,__cbOnOwnerUnbindMouseMove:null,__cbOnceOwnerUnbindMouseMove:null,__onOwnerMouseMove:null,__onceOwnerMouseMove:null,emitMouseMove:function(e,n){this.willEmitMouseMove(e,n);var t=0;if(null!=this.__cbOnMouseMove&&(t+=this.__cbOnMouseMove.length),null!=this.__cbOnceMouseMove&&(t+=this.__cbOnceMouseMove.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMouseMove)for(var r=0,h=this.__cbOnMouseMove.length;r<h;){var a=r++,o=this.__onOwnerMouseMove[a],c=!1;null!=W.get_context().focusedWindow?null!=o&&(c=K._filterEventOwner(o)):c=!0,c?(l.vector[s]=this.__cbOnMouseMove[a],++s):--t}if(null!=this.__cbOnceMouseMove){for(var u=null,_=null,d=null,r=0,h=this.__cbOnceMouseMove.length;r<h;){var b,a=r++,o=this.__onceOwnerMouseMove[a],c=!1;null!=W.get_context().focusedWindow?null!=o&&(c=K._filterEventOwner(o)):c=!0,c?(l.vector[s]=this.__cbOnceMouseMove[a],this.__cbOnceMouseMove[a]=null,b=this.__cbOnceOwnerUnbindMouseMove[a],(this.__cbOnceOwnerUnbindMouseMove[a]=null)!=b&&b(),++s):(--t,null==u&&(u=[],_=[],d=[]),u.push(this.__cbOnceOwnerUnbindMouseMove[a]),_.push(this.__cbOnceMouseMove[a]),d.push(this.__onceOwnerMouseMove[a]))}this.__cbOnceOwnerUnbindMouseMove=u,this.__cbOnceMouseMove=_,this.__onceOwnerMouseMove=d}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMouseMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(null);null==this.__cbOnMouseMove&&(this.__cbOnMouseMove=[]),this.__cbOnMouseMove.push(t),null==this.__onOwnerMouseMove&&(this.__onOwnerMouseMove=[]),this.__onOwnerMouseMove.push(n)},onceMouseMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mouseMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMouseMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(null);null==this.__cbOnceMouseMove&&(this.__cbOnceMouseMove=[]),this.__cbOnceMouseMove.push(t),null==this.__onceOwnerMouseMove&&(this.__onceOwnerMouseMove=[]),this.__onceOwnerMouseMove.push(n)},offMouseMove:function(e){if(null!=e){var n;null!=this.__cbOnMouseMove&&-1!=(n=this.__cbOnMouseMove.indexOf(e))&&(this.__cbOnMouseMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMouseMove[n])&&s(),this.__cbOnOwnerUnbindMouseMove.splice(n,1),this.__onOwnerMouseMove.splice(n,1)),null!=this.__cbOnceMouseMove&&-1!=(n=this.__cbOnceMouseMove.indexOf(e))&&(this.__cbOnceMouseMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMouseMove[n])&&s(),this.__cbOnceOwnerUnbindMouseMove.splice(n,1),this.__onceOwnerMouseMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseMove){for(var t=0,i=this.__cbOnOwnerUnbindMouseMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMouseMove[l])&&s()}this.__cbOnOwnerUnbindMouseMove=null}if(null!=this.__cbOnceOwnerUnbindMouseMove){for(t=0,i=this.__cbOnceOwnerUnbindMouseMove.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMouseMove[l])&&s()}this.__cbOnceOwnerUnbindMouseMove=null}this.__cbOnMouseMove=null,this.__cbOnceMouseMove=null,this.__onOwnerMouseMove=null,this.__onceOwnerMouseMove=null}},listensMouseMove:function(){return null!=this.__cbOnMouseMove&&0<this.__cbOnMouseMove.length||null!=this.__cbOnceMouseMove&&0<this.__cbOnceMouseMove.length},__cbOnTouchDown:null,__cbOnceTouchDown:null,__cbOnOwnerUnbindTouchDown:null,__cbOnceOwnerUnbindTouchDown:null,__onOwnerTouchDown:null,__onceOwnerTouchDown:null,emitTouchDown:function(e,n,t){this.willEmitTouchDown(e,n,t);var i=0;if(null!=this.__cbOnTouchDown&&(i+=this.__cbOnTouchDown.length),null!=this.__cbOnceTouchDown&&(i+=this.__cbOnceTouchDown.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchDown)for(var h=0,a=this.__cbOnTouchDown.length;h<a;){var o=h++,c=this.__onOwnerTouchDown[o],u=!1;null!=W.get_context().focusedWindow?null!=c&&(u=K._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnTouchDown[o],++r):--i}if(null!=this.__cbOnceTouchDown){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceTouchDown.length;h<a;){var g,o=h++,c=this.__onceOwnerTouchDown[o],u=!1;null!=W.get_context().focusedWindow?null!=c&&(u=K._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnceTouchDown[o],this.__cbOnceTouchDown[o]=null,g=this.__cbOnceOwnerUnbindTouchDown[o],(this.__cbOnceOwnerUnbindTouchDown[o]=null)!=g&&g(),++r):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindTouchDown[o]),d.push(this.__cbOnceTouchDown[o]),b.push(this.__onceOwnerTouchDown[o]))}this.__cbOnceOwnerUnbindTouchDown=_,this.__cbOnceTouchDown=d,this.__onceOwnerTouchDown=b}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}l=this.matchFirstDownListener(n,t,e,-1);null!=l&&(l._numPointerDown++,1!=l._numPointerDown&&!l.multiTouch||(ke.app.screen.set_focusedVisual(l),l.emitPointerDown(new Ui(e,-1,n,t,!0)))),this.matchedDownListeners.h[2e4+e]=l},onTouchDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event touchDown because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(null);null==this.__cbOnTouchDown&&(this.__cbOnTouchDown=[]),this.__cbOnTouchDown.push(t),null==this.__onOwnerTouchDown&&(this.__onOwnerTouchDown=[]),this.__onOwnerTouchDown.push(n)},onceTouchDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event touchDown because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(null);null==this.__cbOnceTouchDown&&(this.__cbOnceTouchDown=[]),this.__cbOnceTouchDown.push(t),null==this.__onceOwnerTouchDown&&(this.__onceOwnerTouchDown=[]),this.__onceOwnerTouchDown.push(n)},offTouchDown:function(e){if(null!=e){var n;null!=this.__cbOnTouchDown&&-1!=(n=this.__cbOnTouchDown.indexOf(e))&&(this.__cbOnTouchDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchDown[n])&&s(),this.__cbOnOwnerUnbindTouchDown.splice(n,1),this.__onOwnerTouchDown.splice(n,1)),null!=this.__cbOnceTouchDown&&-1!=(n=this.__cbOnceTouchDown.indexOf(e))&&(this.__cbOnceTouchDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchDown[n])&&s(),this.__cbOnceOwnerUnbindTouchDown.splice(n,1),this.__onceOwnerTouchDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchDown){for(var t=0,i=this.__cbOnOwnerUnbindTouchDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchDown[l])&&s()}this.__cbOnOwnerUnbindTouchDown=null}if(null!=this.__cbOnceOwnerUnbindTouchDown){for(t=0,i=this.__cbOnceOwnerUnbindTouchDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchDown[l])&&s()}this.__cbOnceOwnerUnbindTouchDown=null}this.__cbOnTouchDown=null,this.__cbOnceTouchDown=null,this.__onOwnerTouchDown=null,this.__onceOwnerTouchDown=null}},listensTouchDown:function(){return null!=this.__cbOnTouchDown&&0<this.__cbOnTouchDown.length||null!=this.__cbOnceTouchDown&&0<this.__cbOnceTouchDown.length},__cbOnTouchUp:null,__cbOnceTouchUp:null,__cbOnOwnerUnbindTouchUp:null,__cbOnceOwnerUnbindTouchUp:null,__onOwnerTouchUp:null,__onceOwnerTouchUp:null,emitTouchUp:function(e,n,t){this.willEmitTouchUp(e,n,t);var i=0;if(null!=this.__cbOnTouchUp&&(i+=this.__cbOnTouchUp.length),null!=this.__cbOnceTouchUp&&(i+=this.__cbOnceTouchUp.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchUp)for(var h=0,a=this.__cbOnTouchUp.length;h<a;){var o=h++,c=this.__onOwnerTouchUp[o],u=!1;null!=W.get_context().focusedWindow?null!=c&&(u=K._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnTouchUp[o],++r):--i}if(null!=this.__cbOnceTouchUp){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceTouchUp.length;h<a;){var g,o=h++,c=this.__onceOwnerTouchUp[o],u=!1;null!=W.get_context().focusedWindow?null!=c&&(u=K._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnceTouchUp[o],this.__cbOnceTouchUp[o]=null,g=this.__cbOnceOwnerUnbindTouchUp[o],(this.__cbOnceOwnerUnbindTouchUp[o]=null)!=g&&g(),++r):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindTouchUp[o]),d.push(this.__cbOnceTouchUp[o]),b.push(this.__onceOwnerTouchUp[o]))}this.__cbOnceOwnerUnbindTouchUp=_,this.__cbOnceTouchUp=d,this.__onceOwnerTouchUp=b}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s),s=null}var l=2e4+e,O=this.matchedDownListeners.h[l];null!=O&&0<=O._lifecycleState&&0<O._numPointerDown&&(O._numPointerDown--,0!=O._numPointerDown&&!O.multiTouch||O.emitPointerUp(new Ui(e,-1,n,t,O._hits(n,t,!1)))),this.matchedDownListeners.remove(l)},onTouchUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event touchUp because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(null);null==this.__cbOnTouchUp&&(this.__cbOnTouchUp=[]),this.__cbOnTouchUp.push(t),null==this.__onOwnerTouchUp&&(this.__onOwnerTouchUp=[]),this.__onOwnerTouchUp.push(n)},onceTouchUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event touchUp because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(null);null==this.__cbOnceTouchUp&&(this.__cbOnceTouchUp=[]),this.__cbOnceTouchUp.push(t),null==this.__onceOwnerTouchUp&&(this.__onceOwnerTouchUp=[]),this.__onceOwnerTouchUp.push(n)},offTouchUp:function(e){if(null!=e){var n;null!=this.__cbOnTouchUp&&-1!=(n=this.__cbOnTouchUp.indexOf(e))&&(this.__cbOnTouchUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchUp[n])&&s(),this.__cbOnOwnerUnbindTouchUp.splice(n,1),this.__onOwnerTouchUp.splice(n,1)),null!=this.__cbOnceTouchUp&&-1!=(n=this.__cbOnceTouchUp.indexOf(e))&&(this.__cbOnceTouchUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchUp[n])&&s(),this.__cbOnceOwnerUnbindTouchUp.splice(n,1),this.__onceOwnerTouchUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchUp){for(var t=0,i=this.__cbOnOwnerUnbindTouchUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchUp[l])&&s()}this.__cbOnOwnerUnbindTouchUp=null}if(null!=this.__cbOnceOwnerUnbindTouchUp){for(t=0,i=this.__cbOnceOwnerUnbindTouchUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchUp[l])&&s()}this.__cbOnceOwnerUnbindTouchUp=null}this.__cbOnTouchUp=null,this.__cbOnceTouchUp=null,this.__onOwnerTouchUp=null,this.__onceOwnerTouchUp=null}},listensTouchUp:function(){return null!=this.__cbOnTouchUp&&0<this.__cbOnTouchUp.length||null!=this.__cbOnceTouchUp&&0<this.__cbOnceTouchUp.length},__cbOnTouchMove:null,__cbOnceTouchMove:null,__cbOnOwnerUnbindTouchMove:null,__cbOnceOwnerUnbindTouchMove:null,__onOwnerTouchMove:null,__onceOwnerTouchMove:null,emitTouchMove:function(e,n,t){this.willEmitTouchMove(e,n,t);var i=0;if(null!=this.__cbOnTouchMove&&(i+=this.__cbOnTouchMove.length),null!=this.__cbOnceTouchMove&&(i+=this.__cbOnceTouchMove.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnTouchMove)for(var h=0,a=this.__cbOnTouchMove.length;h<a;){var o=h++,c=this.__onOwnerTouchMove[o],u=!1;null!=W.get_context().focusedWindow?null!=c&&(u=K._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnTouchMove[o],++r):--i}if(null!=this.__cbOnceTouchMove){for(var _=null,d=null,b=null,h=0,a=this.__cbOnceTouchMove.length;h<a;){var g,o=h++,c=this.__onceOwnerTouchMove[o],u=!1;null!=W.get_context().focusedWindow?null!=c&&(u=K._filterEventOwner(c)):u=!0,u?(s.vector[r]=this.__cbOnceTouchMove[o],this.__cbOnceTouchMove[o]=null,g=this.__cbOnceOwnerUnbindTouchMove[o],(this.__cbOnceOwnerUnbindTouchMove[o]=null)!=g&&g(),++r):(--i,null==_&&(_=[],d=[],b=[]),_.push(this.__cbOnceOwnerUnbindTouchMove[o]),d.push(this.__cbOnceTouchMove[o]),b.push(this.__onceOwnerTouchMove[o]))}this.__cbOnceOwnerUnbindTouchMove=_,this.__cbOnceTouchMove=d,this.__onceOwnerTouchMove=b}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onTouchMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event touchMove because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(null);null==this.__cbOnTouchMove&&(this.__cbOnTouchMove=[]),this.__cbOnTouchMove.push(t),null==this.__onOwnerTouchMove&&(this.__onOwnerTouchMove=[]),this.__onOwnerTouchMove.push(n)},onceTouchMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event touchMove because owner is destroyed!");var l=function(e){null!=t&&(i.offTouchMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(null);null==this.__cbOnceTouchMove&&(this.__cbOnceTouchMove=[]),this.__cbOnceTouchMove.push(t),null==this.__onceOwnerTouchMove&&(this.__onceOwnerTouchMove=[]),this.__onceOwnerTouchMove.push(n)},offTouchMove:function(e){if(null!=e){var n;null!=this.__cbOnTouchMove&&-1!=(n=this.__cbOnTouchMove.indexOf(e))&&(this.__cbOnTouchMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTouchMove[n])&&s(),this.__cbOnOwnerUnbindTouchMove.splice(n,1),this.__onOwnerTouchMove.splice(n,1)),null!=this.__cbOnceTouchMove&&-1!=(n=this.__cbOnceTouchMove.indexOf(e))&&(this.__cbOnceTouchMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTouchMove[n])&&s(),this.__cbOnceOwnerUnbindTouchMove.splice(n,1),this.__onceOwnerTouchMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchMove){for(var t=0,i=this.__cbOnOwnerUnbindTouchMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTouchMove[l])&&s()}this.__cbOnOwnerUnbindTouchMove=null}if(null!=this.__cbOnceOwnerUnbindTouchMove){for(t=0,i=this.__cbOnceOwnerUnbindTouchMove.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTouchMove[l])&&s()}this.__cbOnceOwnerUnbindTouchMove=null}this.__cbOnTouchMove=null,this.__cbOnceTouchMove=null,this.__onOwnerTouchMove=null,this.__onceOwnerTouchMove=null}},listensTouchMove:function(){return null!=this.__cbOnTouchMove&&0<this.__cbOnTouchMove.length||null!=this.__cbOnceTouchMove&&0<this.__cbOnceTouchMove.length},__cbOnPointerDown:null,__cbOncePointerDown:null,__cbOnOwnerUnbindPointerDown:null,__cbOnceOwnerUnbindPointerDown:null,__onOwnerPointerDown:null,__onceOwnerPointerDown:null,emitPointerDown:function(e){var n=0;if(null!=this.__cbOnPointerDown&&(n+=this.__cbOnPointerDown.length),null!=this.__cbOncePointerDown&&(n+=this.__cbOncePointerDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerDown)for(var s=0,r=this.__cbOnPointerDown.length;s<r;){var h=s++,a=this.__onOwnerPointerDown[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnPointerDown[h],++l):--n}if(null!=this.__cbOncePointerDown){for(var c=null,u=null,_=null,s=0,r=this.__cbOncePointerDown.length;s<r;){var d,h=s++,a=this.__onceOwnerPointerDown[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOncePointerDown[h],this.__cbOncePointerDown[h]=null,d=this.__cbOnceOwnerUnbindPointerDown[h],(this.__cbOnceOwnerUnbindPointerDown[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindPointerDown[h]),u.push(this.__cbOncePointerDown[h]),_.push(this.__onceOwnerPointerDown[h]))}this.__cbOnceOwnerUnbindPointerDown=c,this.__cbOncePointerDown=u,this.__onceOwnerPointerDown=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(null);null==this.__cbOnPointerDown&&(this.__cbOnPointerDown=[]),this.__cbOnPointerDown.push(t),null==this.__onOwnerPointerDown&&(this.__onOwnerPointerDown=[]),this.__onOwnerPointerDown.push(n)},oncePointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(null);null==this.__cbOncePointerDown&&(this.__cbOncePointerDown=[]),this.__cbOncePointerDown.push(t),null==this.__onceOwnerPointerDown&&(this.__onceOwnerPointerDown=[]),this.__onceOwnerPointerDown.push(n)},offPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnPointerDown&&-1!=(n=this.__cbOnPointerDown.indexOf(e))&&(this.__cbOnPointerDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerDown[n])&&s(),this.__cbOnOwnerUnbindPointerDown.splice(n,1),this.__onOwnerPointerDown.splice(n,1)),null!=this.__cbOncePointerDown&&-1!=(n=this.__cbOncePointerDown.indexOf(e))&&(this.__cbOncePointerDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerDown[n])&&s(),this.__cbOnceOwnerUnbindPointerDown.splice(n,1),this.__onceOwnerPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindPointerDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerDown[l])&&s()}this.__cbOnOwnerUnbindPointerDown=null}if(null!=this.__cbOnceOwnerUnbindPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindPointerDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerDown[l])&&s()}this.__cbOnceOwnerUnbindPointerDown=null}this.__cbOnPointerDown=null,this.__cbOncePointerDown=null,this.__onOwnerPointerDown=null,this.__onceOwnerPointerDown=null}},listensPointerDown:function(){return null!=this.__cbOnPointerDown&&0<this.__cbOnPointerDown.length||null!=this.__cbOncePointerDown&&0<this.__cbOncePointerDown.length},__cbOnPointerUp:null,__cbOncePointerUp:null,__cbOnOwnerUnbindPointerUp:null,__cbOnceOwnerUnbindPointerUp:null,__onOwnerPointerUp:null,__onceOwnerPointerUp:null,emitPointerUp:function(e){var n=0;if(null!=this.__cbOnPointerUp&&(n+=this.__cbOnPointerUp.length),null!=this.__cbOncePointerUp&&(n+=this.__cbOncePointerUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerUp)for(var s=0,r=this.__cbOnPointerUp.length;s<r;){var h=s++,a=this.__onOwnerPointerUp[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnPointerUp[h],++l):--n}if(null!=this.__cbOncePointerUp){for(var c=null,u=null,_=null,s=0,r=this.__cbOncePointerUp.length;s<r;){var d,h=s++,a=this.__onceOwnerPointerUp[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOncePointerUp[h],this.__cbOncePointerUp[h]=null,d=this.__cbOnceOwnerUnbindPointerUp[h],(this.__cbOnceOwnerUnbindPointerUp[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindPointerUp[h]),u.push(this.__cbOncePointerUp[h]),_.push(this.__onceOwnerPointerUp[h]))}this.__cbOnceOwnerUnbindPointerUp=c,this.__cbOncePointerUp=u,this.__onceOwnerPointerUp=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(null);null==this.__cbOnPointerUp&&(this.__cbOnPointerUp=[]),this.__cbOnPointerUp.push(t),null==this.__onOwnerPointerUp&&(this.__onOwnerPointerUp=[]),this.__onOwnerPointerUp.push(n)},oncePointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(null);null==this.__cbOncePointerUp&&(this.__cbOncePointerUp=[]),this.__cbOncePointerUp.push(t),null==this.__onceOwnerPointerUp&&(this.__onceOwnerPointerUp=[]),this.__onceOwnerPointerUp.push(n)},offPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnPointerUp&&-1!=(n=this.__cbOnPointerUp.indexOf(e))&&(this.__cbOnPointerUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerUp[n])&&s(),this.__cbOnOwnerUnbindPointerUp.splice(n,1),this.__onOwnerPointerUp.splice(n,1)),null!=this.__cbOncePointerUp&&-1!=(n=this.__cbOncePointerUp.indexOf(e))&&(this.__cbOncePointerUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerUp[n])&&s(),this.__cbOnceOwnerUnbindPointerUp.splice(n,1),this.__onceOwnerPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindPointerUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerUp[l])&&s()}this.__cbOnOwnerUnbindPointerUp=null}if(null!=this.__cbOnceOwnerUnbindPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindPointerUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerUp[l])&&s()}this.__cbOnceOwnerUnbindPointerUp=null}this.__cbOnPointerUp=null,this.__cbOncePointerUp=null,this.__onOwnerPointerUp=null,this.__onceOwnerPointerUp=null}},listensPointerUp:function(){return null!=this.__cbOnPointerUp&&0<this.__cbOnPointerUp.length||null!=this.__cbOncePointerUp&&0<this.__cbOncePointerUp.length},__cbOnPointerMove:null,__cbOncePointerMove:null,__cbOnOwnerUnbindPointerMove:null,__cbOnceOwnerUnbindPointerMove:null,__onOwnerPointerMove:null,__onceOwnerPointerMove:null,emitPointerMove:function(e){var n=0;if(null!=this.__cbOnPointerMove&&(n+=this.__cbOnPointerMove.length),null!=this.__cbOncePointerMove&&(n+=this.__cbOncePointerMove.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnPointerMove)for(var s=0,r=this.__cbOnPointerMove.length;s<r;){var h=s++,a=this.__onOwnerPointerMove[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnPointerMove[h],++l):--n}if(null!=this.__cbOncePointerMove){for(var c=null,u=null,_=null,s=0,r=this.__cbOncePointerMove.length;s<r;){var d,h=s++,a=this.__onceOwnerPointerMove[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOncePointerMove[h],this.__cbOncePointerMove[h]=null,d=this.__cbOnceOwnerUnbindPointerMove[h],(this.__cbOnceOwnerUnbindPointerMove[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindPointerMove[h]),u.push(this.__cbOncePointerMove[h]),_.push(this.__onceOwnerPointerMove[h]))}this.__cbOnceOwnerUnbindPointerMove=c,this.__cbOncePointerMove=u,this.__onceOwnerPointerMove=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onPointerMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerMove because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerMove&&(this.__cbOnOwnerUnbindPointerMove=[]),this.__cbOnOwnerUnbindPointerMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerMove&&(this.__cbOnOwnerUnbindPointerMove=[]),this.__cbOnOwnerUnbindPointerMove.push(null);null==this.__cbOnPointerMove&&(this.__cbOnPointerMove=[]),this.__cbOnPointerMove.push(t),null==this.__onOwnerPointerMove&&(this.__onOwnerPointerMove=[]),this.__onOwnerPointerMove.push(n)},oncePointerMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerMove because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerMove&&(this.__cbOnceOwnerUnbindPointerMove=[]),this.__cbOnceOwnerUnbindPointerMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerMove&&(this.__cbOnceOwnerUnbindPointerMove=[]),this.__cbOnceOwnerUnbindPointerMove.push(null);null==this.__cbOncePointerMove&&(this.__cbOncePointerMove=[]),this.__cbOncePointerMove.push(t),null==this.__onceOwnerPointerMove&&(this.__onceOwnerPointerMove=[]),this.__onceOwnerPointerMove.push(n)},offPointerMove:function(e){if(null!=e){var n;null!=this.__cbOnPointerMove&&-1!=(n=this.__cbOnPointerMove.indexOf(e))&&(this.__cbOnPointerMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerMove[n])&&s(),this.__cbOnOwnerUnbindPointerMove.splice(n,1),this.__onOwnerPointerMove.splice(n,1)),null!=this.__cbOncePointerMove&&-1!=(n=this.__cbOncePointerMove.indexOf(e))&&(this.__cbOncePointerMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerMove[n])&&s(),this.__cbOnceOwnerUnbindPointerMove.splice(n,1),this.__onceOwnerPointerMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerMove){for(var t=0,i=this.__cbOnOwnerUnbindPointerMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerMove[l])&&s()}this.__cbOnOwnerUnbindPointerMove=null}if(null!=this.__cbOnceOwnerUnbindPointerMove){for(t=0,i=this.__cbOnceOwnerUnbindPointerMove.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerMove[l])&&s()}this.__cbOnceOwnerUnbindPointerMove=null}this.__cbOnPointerMove=null,this.__cbOncePointerMove=null,this.__onOwnerPointerMove=null,this.__onceOwnerPointerMove=null}},listensPointerMove:function(){return null!=this.__cbOnPointerMove&&0<this.__cbOnPointerMove.length||null!=this.__cbOncePointerMove&&0<this.__cbOncePointerMove.length},__cbOnMultiTouchPointerDown:null,__cbOnceMultiTouchPointerDown:null,__cbOnOwnerUnbindMultiTouchPointerDown:null,__cbOnceOwnerUnbindMultiTouchPointerDown:null,__onOwnerMultiTouchPointerDown:null,__onceOwnerMultiTouchPointerDown:null,emitMultiTouchPointerDown:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerDown&&(n+=this.__cbOnMultiTouchPointerDown.length),null!=this.__cbOnceMultiTouchPointerDown&&(n+=this.__cbOnceMultiTouchPointerDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnMultiTouchPointerDown)for(var s=0,r=this.__cbOnMultiTouchPointerDown.length;s<r;){var h=s++,a=this.__onOwnerMultiTouchPointerDown[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnMultiTouchPointerDown[h],++l):--n}if(null!=this.__cbOnceMultiTouchPointerDown){for(var c=null,u=null,_=null,s=0,r=this.__cbOnceMultiTouchPointerDown.length;s<r;){var d,h=s++,a=this.__onceOwnerMultiTouchPointerDown[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceMultiTouchPointerDown[h],this.__cbOnceMultiTouchPointerDown[h]=null,d=this.__cbOnceOwnerUnbindMultiTouchPointerDown[h],(this.__cbOnceOwnerUnbindMultiTouchPointerDown[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindMultiTouchPointerDown[h]),u.push(this.__cbOnceMultiTouchPointerDown[h]),_.push(this.__onceOwnerMultiTouchPointerDown[h]))}this.__cbOnceOwnerUnbindMultiTouchPointerDown=c,this.__cbOnceMultiTouchPointerDown=u,this.__onceOwnerMultiTouchPointerDown=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onMultiTouchPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event multiTouchPointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMultiTouchPointerDown&&(this.__cbOnOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnOwnerUnbindMultiTouchPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMultiTouchPointerDown&&(this.__cbOnOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnOwnerUnbindMultiTouchPointerDown.push(null);null==this.__cbOnMultiTouchPointerDown&&(this.__cbOnMultiTouchPointerDown=[]),this.__cbOnMultiTouchPointerDown.push(t),null==this.__onOwnerMultiTouchPointerDown&&(this.__onOwnerMultiTouchPointerDown=[]),this.__onOwnerMultiTouchPointerDown.push(n)},onceMultiTouchPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event multiTouchPointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMultiTouchPointerDown&&(this.__cbOnceOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnceOwnerUnbindMultiTouchPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMultiTouchPointerDown&&(this.__cbOnceOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnceOwnerUnbindMultiTouchPointerDown.push(null);null==this.__cbOnceMultiTouchPointerDown&&(this.__cbOnceMultiTouchPointerDown=[]),this.__cbOnceMultiTouchPointerDown.push(t),null==this.__onceOwnerMultiTouchPointerDown&&(this.__onceOwnerMultiTouchPointerDown=[]),this.__onceOwnerMultiTouchPointerDown.push(n)},offMultiTouchPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerDown&&-1!=(n=this.__cbOnMultiTouchPointerDown.indexOf(e))&&(this.__cbOnMultiTouchPointerDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerDown[n])&&s(),this.__cbOnOwnerUnbindMultiTouchPointerDown.splice(n,1),this.__onOwnerMultiTouchPointerDown.splice(n,1)),null!=this.__cbOnceMultiTouchPointerDown&&-1!=(n=this.__cbOnceMultiTouchPointerDown.indexOf(e))&&(this.__cbOnceMultiTouchPointerDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerDown[n])&&s(),this.__cbOnceOwnerUnbindMultiTouchPointerDown.splice(n,1),this.__onceOwnerMultiTouchPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerDown[l])&&s()}this.__cbOnOwnerUnbindMultiTouchPointerDown=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerDown[l])&&s()}this.__cbOnceOwnerUnbindMultiTouchPointerDown=null}this.__cbOnMultiTouchPointerDown=null,this.__cbOnceMultiTouchPointerDown=null,this.__onOwnerMultiTouchPointerDown=null,this.__onceOwnerMultiTouchPointerDown=null}},listensMultiTouchPointerDown:function(){return null!=this.__cbOnMultiTouchPointerDown&&0<this.__cbOnMultiTouchPointerDown.length||null!=this.__cbOnceMultiTouchPointerDown&&0<this.__cbOnceMultiTouchPointerDown.length},__cbOnMultiTouchPointerUp:null,__cbOnceMultiTouchPointerUp:null,__cbOnOwnerUnbindMultiTouchPointerUp:null,__cbOnceOwnerUnbindMultiTouchPointerUp:null,__onOwnerMultiTouchPointerUp:null,__onceOwnerMultiTouchPointerUp:null,emitMultiTouchPointerUp:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerUp&&(n+=this.__cbOnMultiTouchPointerUp.length),null!=this.__cbOnceMultiTouchPointerUp&&(n+=this.__cbOnceMultiTouchPointerUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnMultiTouchPointerUp)for(var s=0,r=this.__cbOnMultiTouchPointerUp.length;s<r;){var h=s++,a=this.__onOwnerMultiTouchPointerUp[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnMultiTouchPointerUp[h],++l):--n}if(null!=this.__cbOnceMultiTouchPointerUp){for(var c=null,u=null,_=null,s=0,r=this.__cbOnceMultiTouchPointerUp.length;s<r;){var d,h=s++,a=this.__onceOwnerMultiTouchPointerUp[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceMultiTouchPointerUp[h],this.__cbOnceMultiTouchPointerUp[h]=null,d=this.__cbOnceOwnerUnbindMultiTouchPointerUp[h],(this.__cbOnceOwnerUnbindMultiTouchPointerUp[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindMultiTouchPointerUp[h]),u.push(this.__cbOnceMultiTouchPointerUp[h]),_.push(this.__onceOwnerMultiTouchPointerUp[h]))}this.__cbOnceOwnerUnbindMultiTouchPointerUp=c,this.__cbOnceMultiTouchPointerUp=u,this.__onceOwnerMultiTouchPointerUp=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onMultiTouchPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event multiTouchPointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMultiTouchPointerUp&&(this.__cbOnOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnOwnerUnbindMultiTouchPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMultiTouchPointerUp&&(this.__cbOnOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnOwnerUnbindMultiTouchPointerUp.push(null);null==this.__cbOnMultiTouchPointerUp&&(this.__cbOnMultiTouchPointerUp=[]),this.__cbOnMultiTouchPointerUp.push(t),null==this.__onOwnerMultiTouchPointerUp&&(this.__onOwnerMultiTouchPointerUp=[]),this.__onOwnerMultiTouchPointerUp.push(n)},onceMultiTouchPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event multiTouchPointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMultiTouchPointerUp&&(this.__cbOnceOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnceOwnerUnbindMultiTouchPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMultiTouchPointerUp&&(this.__cbOnceOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnceOwnerUnbindMultiTouchPointerUp.push(null);null==this.__cbOnceMultiTouchPointerUp&&(this.__cbOnceMultiTouchPointerUp=[]),this.__cbOnceMultiTouchPointerUp.push(t),null==this.__onceOwnerMultiTouchPointerUp&&(this.__onceOwnerMultiTouchPointerUp=[]),this.__onceOwnerMultiTouchPointerUp.push(n)},offMultiTouchPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerUp&&-1!=(n=this.__cbOnMultiTouchPointerUp.indexOf(e))&&(this.__cbOnMultiTouchPointerUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerUp[n])&&s(),this.__cbOnOwnerUnbindMultiTouchPointerUp.splice(n,1),this.__onOwnerMultiTouchPointerUp.splice(n,1)),null!=this.__cbOnceMultiTouchPointerUp&&-1!=(n=this.__cbOnceMultiTouchPointerUp.indexOf(e))&&(this.__cbOnceMultiTouchPointerUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerUp[n])&&s(),this.__cbOnceOwnerUnbindMultiTouchPointerUp.splice(n,1),this.__onceOwnerMultiTouchPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerUp[l])&&s()}this.__cbOnOwnerUnbindMultiTouchPointerUp=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerUp[l])&&s()}this.__cbOnceOwnerUnbindMultiTouchPointerUp=null}this.__cbOnMultiTouchPointerUp=null,this.__cbOnceMultiTouchPointerUp=null,this.__onOwnerMultiTouchPointerUp=null,this.__onceOwnerMultiTouchPointerUp=null}},listensMultiTouchPointerUp:function(){return null!=this.__cbOnMultiTouchPointerUp&&0<this.__cbOnMultiTouchPointerUp.length||null!=this.__cbOnceMultiTouchPointerUp&&0<this.__cbOnceMultiTouchPointerUp.length},__cbOnMultiTouchPointerMove:null,__cbOnceMultiTouchPointerMove:null,__cbOnOwnerUnbindMultiTouchPointerMove:null,__cbOnceOwnerUnbindMultiTouchPointerMove:null,__onOwnerMultiTouchPointerMove:null,__onceOwnerMultiTouchPointerMove:null,emitMultiTouchPointerMove:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerMove&&(n+=this.__cbOnMultiTouchPointerMove.length),null!=this.__cbOnceMultiTouchPointerMove&&(n+=this.__cbOnceMultiTouchPointerMove.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnMultiTouchPointerMove)for(var s=0,r=this.__cbOnMultiTouchPointerMove.length;s<r;){var h=s++,a=this.__onOwnerMultiTouchPointerMove[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnMultiTouchPointerMove[h],++l):--n}if(null!=this.__cbOnceMultiTouchPointerMove){for(var c=null,u=null,_=null,s=0,r=this.__cbOnceMultiTouchPointerMove.length;s<r;){var d,h=s++,a=this.__onceOwnerMultiTouchPointerMove[h],o=!1;null!=W.get_context().focusedWindow?null!=a&&(o=K._filterEventOwner(a)):o=!0,o?(i.vector[l]=this.__cbOnceMultiTouchPointerMove[h],this.__cbOnceMultiTouchPointerMove[h]=null,d=this.__cbOnceOwnerUnbindMultiTouchPointerMove[h],(this.__cbOnceOwnerUnbindMultiTouchPointerMove[h]=null)!=d&&d(),++l):(--n,null==c&&(c=[],u=[],_=[]),c.push(this.__cbOnceOwnerUnbindMultiTouchPointerMove[h]),u.push(this.__cbOnceMultiTouchPointerMove[h]),_.push(this.__onceOwnerMultiTouchPointerMove[h]))}this.__cbOnceOwnerUnbindMultiTouchPointerMove=c,this.__cbOnceMultiTouchPointerMove=u,this.__onceOwnerMultiTouchPointerMove=_}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onMultiTouchPointerMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event multiTouchPointerMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMultiTouchPointerMove&&(this.__cbOnOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnOwnerUnbindMultiTouchPointerMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMultiTouchPointerMove&&(this.__cbOnOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnOwnerUnbindMultiTouchPointerMove.push(null);null==this.__cbOnMultiTouchPointerMove&&(this.__cbOnMultiTouchPointerMove=[]),this.__cbOnMultiTouchPointerMove.push(t),null==this.__onOwnerMultiTouchPointerMove&&(this.__onOwnerMultiTouchPointerMove=[]),this.__onOwnerMultiTouchPointerMove.push(n)},onceMultiTouchPointerMove:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event multiTouchPointerMove because owner is destroyed!");var l=function(e){null!=t&&(i.offMultiTouchPointerMove(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMultiTouchPointerMove&&(this.__cbOnceOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnceOwnerUnbindMultiTouchPointerMove.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMultiTouchPointerMove&&(this.__cbOnceOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnceOwnerUnbindMultiTouchPointerMove.push(null);null==this.__cbOnceMultiTouchPointerMove&&(this.__cbOnceMultiTouchPointerMove=[]),this.__cbOnceMultiTouchPointerMove.push(t),null==this.__onceOwnerMultiTouchPointerMove&&(this.__onceOwnerMultiTouchPointerMove=[]),this.__onceOwnerMultiTouchPointerMove.push(n)},offMultiTouchPointerMove:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerMove&&-1!=(n=this.__cbOnMultiTouchPointerMove.indexOf(e))&&(this.__cbOnMultiTouchPointerMove.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerMove[n])&&s(),this.__cbOnOwnerUnbindMultiTouchPointerMove.splice(n,1),this.__onOwnerMultiTouchPointerMove.splice(n,1)),null!=this.__cbOnceMultiTouchPointerMove&&-1!=(n=this.__cbOnceMultiTouchPointerMove.indexOf(e))&&(this.__cbOnceMultiTouchPointerMove.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerMove[n])&&s(),this.__cbOnceOwnerUnbindMultiTouchPointerMove.splice(n,1),this.__onceOwnerMultiTouchPointerMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerMove){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerMove.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMultiTouchPointerMove[l])&&s()}this.__cbOnOwnerUnbindMultiTouchPointerMove=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerMove){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerMove.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMultiTouchPointerMove[l])&&s()}this.__cbOnceOwnerUnbindMultiTouchPointerMove=null}this.__cbOnMultiTouchPointerMove=null,this.__cbOnceMultiTouchPointerMove=null,this.__onOwnerMultiTouchPointerMove=null,this.__onceOwnerMultiTouchPointerMove=null}},listensMultiTouchPointerMove:function(){return null!=this.__cbOnMultiTouchPointerMove&&0<this.__cbOnMultiTouchPointerMove.length||null!=this.__cbOnceMultiTouchPointerMove&&0<this.__cbOnceMultiTouchPointerMove.length},__cbOnFocus:null,__cbOnceFocus:null,__cbOnOwnerUnbindFocus:null,__cbOnceOwnerUnbindFocus:null,emitFocus:function(e){var n=0;if(null!=this.__cbOnFocus&&(n+=this.__cbOnFocus.length),null!=this.__cbOnceFocus&&(n+=this.__cbOnceFocus.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnFocus)for(var s=0,r=this.__cbOnFocus.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnFocus[h],++l):--n}if(null!=this.__cbOnceFocus){for(var a=null,o=null,s=0,r=this.__cbOnceFocus.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceFocus[h],this.__cbOnceFocus[h]=null,c=this.__cbOnceOwnerUnbindFocus[h],(this.__cbOnceOwnerUnbindFocus[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindFocus[h]),o.push(this.__cbOnceFocus[h]))}this.__cbOnceOwnerUnbindFocus=a,this.__cbOnceFocus=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onFocus:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focus because owner is destroyed!");var l=function(e){null!=t&&(i.offFocus(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(null);null==this.__cbOnFocus&&(this.__cbOnFocus=[]),this.__cbOnFocus.push(t)},onceFocus:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focus because owner is destroyed!");var l=function(e){null!=t&&(i.offFocus(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(null);null==this.__cbOnceFocus&&(this.__cbOnceFocus=[]),this.__cbOnceFocus.push(t)},offFocus:function(e){if(null!=e){var n;null!=this.__cbOnFocus&&-1!=(n=this.__cbOnFocus.indexOf(e))&&(this.__cbOnFocus.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocus[n])&&s(),this.__cbOnOwnerUnbindFocus.splice(n,1)),null!=this.__cbOnceFocus&&-1!=(n=this.__cbOnceFocus.indexOf(e))&&(this.__cbOnceFocus.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocus[n])&&s(),this.__cbOnceOwnerUnbindFocus.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocus){for(var t=0,i=this.__cbOnOwnerUnbindFocus.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocus[l])&&s()}this.__cbOnOwnerUnbindFocus=null}if(null!=this.__cbOnceOwnerUnbindFocus){for(t=0,i=this.__cbOnceOwnerUnbindFocus.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocus[l])&&s()}this.__cbOnceOwnerUnbindFocus=null}this.__cbOnFocus=null,this.__cbOnceFocus=null}},listensFocus:function(){return null!=this.__cbOnFocus&&0<this.__cbOnFocus.length||null!=this.__cbOnceFocus&&0<this.__cbOnceFocus.length},__cbOnBlur:null,__cbOnceBlur:null,__cbOnOwnerUnbindBlur:null,__cbOnceOwnerUnbindBlur:null,emitBlur:function(e){var n=0;if(null!=this.__cbOnBlur&&(n+=this.__cbOnBlur.length),null!=this.__cbOnceBlur&&(n+=this.__cbOnceBlur.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnBlur)for(var s=0,r=this.__cbOnBlur.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnBlur[h],++l):--n}if(null!=this.__cbOnceBlur){for(var a=null,o=null,s=0,r=this.__cbOnceBlur.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceBlur[h],this.__cbOnceBlur[h]=null,c=this.__cbOnceOwnerUnbindBlur[h],(this.__cbOnceOwnerUnbindBlur[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindBlur[h]),o.push(this.__cbOnceBlur[h]))}this.__cbOnceOwnerUnbindBlur=a,this.__cbOnceBlur=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onBlur:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event blur because owner is destroyed!");var l=function(e){null!=t&&(i.offBlur(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(null);null==this.__cbOnBlur&&(this.__cbOnBlur=[]),this.__cbOnBlur.push(t)},onceBlur:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event blur because owner is destroyed!");var l=function(e){null!=t&&(i.offBlur(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(null);null==this.__cbOnceBlur&&(this.__cbOnceBlur=[]),this.__cbOnceBlur.push(t)},offBlur:function(e){if(null!=e){var n;null!=this.__cbOnBlur&&-1!=(n=this.__cbOnBlur.indexOf(e))&&(this.__cbOnBlur.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBlur[n])&&s(),this.__cbOnOwnerUnbindBlur.splice(n,1)),null!=this.__cbOnceBlur&&-1!=(n=this.__cbOnceBlur.indexOf(e))&&(this.__cbOnceBlur.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBlur[n])&&s(),this.__cbOnceOwnerUnbindBlur.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBlur){for(var t=0,i=this.__cbOnOwnerUnbindBlur.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBlur[l])&&s()}this.__cbOnOwnerUnbindBlur=null}if(null!=this.__cbOnceOwnerUnbindBlur){for(t=0,i=this.__cbOnceOwnerUnbindBlur.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBlur[l])&&s()}this.__cbOnceOwnerUnbindBlur=null}this.__cbOnBlur=null,this.__cbOnceBlur=null}},listensBlur:function(){return null!=this.__cbOnBlur&&0<this.__cbOnBlur.length||null!=this.__cbOnceBlur&&0<this.__cbOnceBlur.length},backendReady:function(){var O=this;ke.app.backend.screen.onResize(this,$bind(this,this.resize)),this.resize(),ke.app.settings.onBackgroundChange(this,function(e,n){ke.app.backend.screen.setBackground(e)}),ke.app.settings.onTitleChange(this,function(e,n){ke.app.backend.screen.setWindowTitle(e)}),ke.app.settings.onFullscreenChange(this,function(e,n){ke.app.backend.screen.setWindowFullscreen(e)}),ke.app.settings.onScalingChange(this,function(e,n){O.resize()}),ke.app.settings.onTargetWidthChange(this,function(e,n){O.resize()}),ke.app.settings.onTargetHeightChange(this,function(e,n){O.resize()}),ke.app.settings.onTargetDensityChange(this,function(e,n){O.updateTexturesDensity()}),this.matrix.onChange(this,function(){(e=O.reverseMatrix).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0;var e=O.reverseMatrix,n=O.matrix,t=e.a*n.a+e.b*n.c,i=(e.b=e.a*n.b+e.b*n.d,e.a=t,e.c*n.a+e.d*n.c),i=(e.d=e.c*n.b+e.d*n.d,e.c=i,e.tx*n.a+e.ty*n.c+n.tx);e.ty=e.tx*n.b+e.ty*n.d+n.ty,e.tx=i,e.changedDirty=!0;n=(e=O.reverseMatrix).a*e.d-e.b*e.c;0==n?(e.a=e.b=e.c=e.d=0,e.tx=-e.tx,e.ty=-e.ty):(t=e.d*(n=1/n),e.d=e.a*n,e.a=t,e.b*=-n,e.c*=-n,i=-e.a*e.tx-e.c*e.ty,e.ty=-e.b*e.tx-e.d*e.ty,e.tx=i),e.changedDirty=!0,O.reverseMatrix.emitChange()}),ke.app.backend.screen.onMouseDown(this,function(d,b,g){ke.app.beginUpdateCallbacks.push(function(){ke.app.flushImmediate();for(var e=b*Z.app.screenDensity,n=g*Z.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new Ui(-1,d,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.buttonId&&(O.mouseX=n.x,O.mouseY=n.y),-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new yi(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,s=0,r=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++s,r+=(u=a.values[_]).x,h+=u.y}0<s?(O.pointerX=r/s,O.pointerY=h/s):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,O.emitMouseDown(d,i,e),O._numPointerDown++,O.emitMultiTouchPointerDown(n),1==O._numPointerDown&&O.emitPointerDown(n)})}),ke.app.backend.screen.onMouseUp(this,function(d,b,g){ke.app.beginUpdateCallbacks.push(function(){ke.app.flushImmediate();for(var e=b*Z.app.screenDensity,n=g*Z.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new Ui(-1,d,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.buttonId&&(O.mouseX=n.x,O.mouseY=n.y),-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new yi(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,s=0,r=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++s,r+=(u=a.values[_]).x,h+=u.y}0<s?(O.pointerX=r/s,O.pointerY=h/s):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,-1!=n.touchIndex&&O.touches.set(n.touchIndex,null),O.emitMouseUp(d,i,e),O._numPointerDown--,O.emitMultiTouchPointerUp(n),0==O._numPointerDown&&O.emitPointerUp(n)})}),ke.app.backend.screen.onMouseMove(this,function(d,b){ke.app.beginUpdateCallbacks.push(function(){ke.app.flushImmediate();for(var e=d*Z.app.screenDensity,n=b*Z.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new Ui(-1,-1,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(O.mouseX=n.x,O.mouseY=n.y,-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new yi(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,s=0,r=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++s,r+=(u=a.values[_]).x,h+=u.y}0<s?(O.pointerX=r/s,O.pointerY=h/s):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,O.emitMouseMove(i,e),O.emitMultiTouchPointerMove(n),O.emitPointerMove(n)})}),ke.app.backend.screen.onMouseWheel(this,function(e,n){ke.app.beginUpdateCallbacks.push(function(){O.emitMouseWheel(e,n)})}),ke.app.backend.screen.onTouchDown(this,function(d,b,g){ke.app.beginUpdateCallbacks.push(function(){ke.app.flushImmediate();for(var e=b*Z.app.screenDensity,n=g*Z.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new Ui(d,-1,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.buttonId&&(O.mouseX=n.x,O.mouseY=n.y),-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new yi(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,s=0,r=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++s,r+=(u=a.values[_]).x,h+=u.y}0<s?(O.pointerX=r/s,O.pointerY=h/s):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,O.emitTouchDown(d,i,e),O._numPointerDown++,O.emitMultiTouchPointerDown(n),1==O._numPointerDown&&O.emitPointerDown(n)})}),ke.app.backend.screen.onTouchUp(this,function(d,b,g){ke.app.beginUpdateCallbacks.push(function(){ke.app.flushImmediate();for(var e=b*Z.app.screenDensity,n=g*Z.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new Ui(d,-1,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.buttonId&&(O.mouseX=n.x,O.mouseY=n.y),-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new yi(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,s=0,r=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++s,r+=(u=a.values[_]).x,h+=u.y}0<s?(O.pointerX=r/s,O.pointerY=h/s):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,-1!=n.touchIndex&&O.touches.set(n.touchIndex,null),O.emitTouchUp(d,i,e),O._numPointerDown--,O.emitMultiTouchPointerUp(n),0==O._numPointerDown&&O.emitPointerUp(n)})}),ke.app.backend.screen.onTouchMove(this,function(d,b,g){ke.app.beginUpdateCallbacks.push(function(){ke.app.flushImmediate();for(var e=b*Z.app.screenDensity,n=g*Z.app.screenDensity,t=O.reverseMatrix,i=e*t.a+n*t.c+t.tx,e=e*(t=O.reverseMatrix).b+n*t.d+t.ty,n=new Ui(d,-1,i,e,0<=i&&i<=O.width&&0<=e&&e<=O.height),t=(-1!=n.touchIndex&&(null==(u=O.touches.get(n.touchIndex))?(u=new yi(n.touchIndex,n.x,n.y,0,0),O.touches.set(n.touchIndex,u)):(u.x=n.x,u.y=n.y)),O.pointerX),l=O.pointerY,s=0,r=0,h=0,a=O.touches,o=0,c=a.values.length;;){for(;o<c&&null==a.values[o];)++o;if(!(o<c))break;var u,_=o++;++s,r+=(u=a.values[_]).x,h+=u.y}0<s?(O.pointerX=r/s,O.pointerY=h/s):(O.pointerX=O.mouseX,O.pointerY=O.mouseY),O.pointerDeltaX+=O.pointerX-t,O.pointerDeltaY+=O.pointerY-l,O.emitTouchMove(d,i,e),O.emitMultiTouchPointerMove(n),0<O._numPointerDown&&O.emitPointerMove(n)})})},updatePointerOverState:function(e){for(var n=this.mouseX,t=this.mouseY,i=1e4,l=this.matchedOverListeners.h[i],s=((a=this.matchFirstOverListener(n,t))!=l&&(null!=a?this.matchedOverListeners.h[i]=a:this.matchedOverListeners.remove(i)),null!=l&&l!=a&&0<=l._lifecycleState&&0<l._numPointerOver&&(l._numPointerOver--,0!=l._numPointerOver&&!l.multiTouch||l.emitPointerOut(new Ui(-1,-1,n,t,!1))),null!=a&&l!=a&&(a._numPointerOver++,1!=a._numPointerOver&&!a.multiTouch||a.emitPointerOver(new Ui(-1,-1,n,t,!0))),this.touches),r=0,h=s.values.length;;){for(;r<h&&null==s.values[r];)++r;if(!(r<h))break;var a,o=r++,o=s.values[o],n=o.x,t=o.y,i=2e4+o.index,l=this.matchedOverListeners.h[i];(a=this.matchFirstOverListener(n,t))!=l&&(null!=a?this.matchedOverListeners.h[i]=a:this.matchedOverListeners.remove(i)),null!=l&&l!=a&&0<=l._lifecycleState&&0<l._numPointerOver&&(l._numPointerOver--,0!=l._numPointerOver&&!l.multiTouch||l.emitPointerOut(new Ui(-1,-1,n,t,!1))),null!=a&&l!=a&&(a._numPointerOver++,1!=a._numPointerOver&&!a.multiTouch||a.emitPointerOver(new Ui(-1,-1,n,t,!0)))}},resize:function(){var e,n,t;this.resizing||(this.resizing=!0,this.updateScaling(),e=ke.app.settings.get_scaling(),n=ke.app.settings.get_targetWidth(),t=ke.app.settings.get_targetHeight(),this.emitResize(),e==ke.app.settings.get_scaling()&&n==ke.app.settings.get_targetWidth()&&t==ke.app.settings.get_targetHeight()||this.updateScaling(),this.updateTransform(),this.updateTexturesDensity(),this.resizing=!1)},updateTexturesDensity:function(){var e;0<ke.app.settings.get_targetDensity()?this.set_texturesDensity(ke.app.settings.get_targetDensity()):(e=(e=this.density)<1?1:Math.round(e),this.set_texturesDensity(e))},updateScaling:function(){var e,n=0<ke.app.settings.get_targetWidth()?ke.app.settings.get_targetWidth():Z.app.screenWidth,t=0<ke.app.settings.get_targetHeight()?ke.app.settings.get_targetHeight():Z.app.screenHeight;switch(ke.app.settings.get_scaling()._hx_index){case 0:e=Math.max(n/(Z.app.screenWidth*Z.app.screenDensity),t/(Z.app.screenHeight*Z.app.screenDensity));break;case 1:e=Math.min(n/(Z.app.screenWidth*Z.app.screenDensity),t/(Z.app.screenHeight*Z.app.screenDensity));break;case 2:n=Z.app.screenWidth,t=Z.app.screenHeight,e=Math.max(n/(Z.app.screenWidth*Z.app.screenDensity),t/(Z.app.screenHeight*Z.app.screenDensity));break;case 3:var i=Z.app.screenHeight/Z.app.screenWidth,l=t/n;l<i?t=n*i:i<l&&(n=t/i),n=Math.ceil(n),t=Math.ceil(t),e=Math.max(n/(Z.app.screenWidth*Z.app.screenDensity),t/(Z.app.screenHeight*Z.app.screenDensity))}switch(this.actualWidth=Math.ceil(Z.app.screenWidth*Z.app.screenDensity*e),this.actualHeight=Math.ceil(Z.app.screenHeight*Z.app.screenDensity*e),this.density=1/e,ke.app.settings.get_scaling()._hx_index){case 0:case 1:this.offsetX=.5*(this.actualWidth-n),this.offsetY=.5*(this.actualHeight-t);break;case 2:case 3:this.offsetX=0,this.offsetY=0}this.width=n,this.height=t},updateTransform:function(){var e=0<ke.app.settings.get_targetWidth()?ke.app.settings.get_targetWidth()*this.density:Z.app.screenWidth*Z.app.screenDensity,n=0<ke.app.settings.get_targetHeight()?ke.app.settings.get_targetHeight()*this.density:Z.app.screenHeight*Z.app.screenDensity;switch(ke.app.settings.get_scaling()._hx_index){case 2:e=Z.app.screenWidth*Z.app.screenDensity,n=Z.app.screenHeight*Z.app.screenDensity;break;case 3:var t=Z.app.screenHeight/Z.app.screenWidth,i=n/e;i<t?n=e*t:t<i&&(e=n/t)}(l=this.matrix).a=1,l.b=0,l.c=0,l.d=1,l.tx=0,l.ty=0,l.changedDirty=!0;var l=this.matrix,s=this.density,r=this.density,s=(l.a*=s,l.b*=r,l.c*=s,l.d*=r,l.tx*=s,l.ty*=r,l.changedDirty=!0,.5*(Z.app.screenWidth*Z.app.screenDensity-e)),r=.5*(Z.app.screenHeight*Z.app.screenDensity-n);(l=this.matrix).tx+=s,l.ty+=r,l.changedDirty=!0},matchFirstDownListener:function(e,n,t,i){null==i&&(i=-1),null==t&&(t=-1),ke.app.computeHierarchy();for(var l=0;l<2;)for(var s=l++,r=(Rt.matchedHitVisual=null,0==s),h=ke.app.visuals,a=h.length-1;0<=a;){var o=h[a];if(0<=o._lifecycleState&&o.computedTouchable){var c=null!=o.__cbOnPointerDown&&0<o.__cbOnPointerDown.length||null!=o.__cbOncePointerDown&&0<o.__cbOncePointerDown.length,u=!1,_=!1;if(c&&(u=o._hits(e,n,!1))&&(_=o.interceptPointerDown(o,e,n,t,i)),u&&!_||r&&this.isHitVisual(o)&&o._hits(e,n,!1)){var d=!1;if(c)for(var b=o.parent;null!=b&&!(d=b.interceptPointerDown(o,e,n,t,i));)b=b.parent;if(!d){if(c||!r||!this.isHitVisual(o))return Rt.matchedHitVisual=null,o;Rt.matchedHitVisual=o}}}--a}return Rt.matchedHitVisual=null},matchFirstOverListener:function(e,n){if(this.visualsListenPointerOver){ke.app.computeHierarchy();for(var t=0;t<2;)for(var i=t++,l=(Rt.matchedHitVisual=null,0==i),s=ke.app.visuals,r=s.length-1;0<=r;){var h=s[r];if(0<=h._lifecycleState&&h.computedTouchable){var a=null!=h.__cbOnPointerOver&&0<h.__cbOnPointerOver.length||null!=h.__cbOncePointerOver&&0<h.__cbOncePointerOver.length,o=!1,c=!1;if(a&&(o=h._hits(e,n,!1))&&(c=h.interceptPointerOver(h,e,n)),o&&!c||l&&this.isHitVisual(h)&&h._hits(e,n,!1)){var u=!1;if(a)for(var _=h.parent;null!=_&&!(u=_.interceptPointerOver(h,e,n));)_=_.parent;if(!u){if(a||!l||!this.isHitVisual(h))return Rt.matchedHitVisual=null,h;Rt.matchedHitVisual=h}}}--r}Rt.matchedHitVisual=null}return null},prepareMultiTouchPointerDown:function(e){-1!=e.buttonId&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex&&(null==(a=this.touches.get(e.touchIndex))?(a=new yi(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,a)):(a.x=e.x,a.y=e.y));for(var e=this.pointerX,n=this.pointerY,t=0,i=0,l=0,s=this.touches,r=0,h=s.values.length;;){for(;r<h&&null==s.values[r];)++r;if(!(r<h))break;var a,o=r++;++t,i+=(a=s.values[o]).x,l+=a.y}0<t?(this.pointerX=i/t,this.pointerY=l/t):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-e,this.pointerDeltaY+=this.pointerY-n},prepareMultiTouchPointerUp:function(e){-1!=e.buttonId&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex&&(null==(o=this.touches.get(e.touchIndex))?(o=new yi(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,o)):(o.x=e.x,o.y=e.y));for(var n=this.pointerX,t=this.pointerY,i=0,l=0,s=0,r=this.touches,h=0,a=r.values.length;;){for(;h<a&&null==r.values[h];)++h;if(!(h<a))break;var o,c=h++;++i,l+=(o=r.values[c]).x,s+=o.y}0<i?(this.pointerX=l/i,this.pointerY=s/i):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-n,this.pointerDeltaY+=this.pointerY-t,-1!=e.touchIndex&&this.touches.set(e.touchIndex,null)},prepareMultiTouchPointerMove:function(e,n){n&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex&&(null==(a=this.touches.get(e.touchIndex))?(a=new yi(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,a)):(a.x=e.x,a.y=e.y));for(var n=this.pointerX,e=this.pointerY,t=0,i=0,l=0,s=this.touches,r=0,h=s.values.length;;){for(;r<h&&null==s.values[r];)++r;if(!(r<h))break;var a,o=r++;++t,i+=(a=s.values[o]).x,l+=a.y}0<t?(this.pointerX=i/t,this.pointerY=l/t):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-n,this.pointerDeltaY+=this.pointerY-e},updatePointer:function(){for(var e=this.pointerX,n=this.pointerY,t=0,i=0,l=0,s=this.touches,r=0,h=s.values.length;;){for(;r<h&&null==s.values[r];)++r;if(!(r<h))break;var a=r++,a=s.values[a];++t,i+=a.x,l+=a.y}0<t?(this.pointerX=i/t,this.pointerY=l/t):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-e,this.pointerDeltaY+=this.pointerY-n},canEmitMultiTouchPointerDown:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},canEmitMultiTouchPointerMove:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},canEmitMultiTouchPointerUp:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},canEmitMouseDown:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},canEmitMouseMove:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},canEmitMouseUp:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},canEmitTouchDown:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},canEmitTouchMove:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},canEmitTouchUp:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},canEmitPointerDown:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},canEmitPointerMove:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},canEmitPointerUp:function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},matchedDownListeners:null,matchedOverListeners:null,didEmitMouseDown:function(e,n,t){var i=this.matchFirstDownListener(n,t,-1,e);null!=i&&(i._numPointerDown++,1!=i._numPointerDown&&!i.multiTouch||(ke.app.screen.set_focusedVisual(i),i.emitPointerDown(new Ui(-1,e,n,t,!0)))),this.matchedDownListeners.h[1e4+e]=i},didEmitMouseUp:function(e,n,t){var i=1e4+e,l=this.matchedDownListeners.h[i];null!=l&&0<=l._lifecycleState&&0<l._numPointerDown&&(l._numPointerDown--,0!=l._numPointerDown&&!l.multiTouch||l.emitPointerUp(new Ui(-1,e,n,t,l._hits(n,t,!1)))),this.matchedDownListeners.remove(i)},updateMouseOver:function(e,n){var t=this.matchedOverListeners.h[1e4],i=this.matchFirstOverListener(e,n);i!=t&&(null!=i?this.matchedOverListeners.h[1e4]=i:this.matchedOverListeners.remove(1e4)),null!=t&&t!=i&&0<=t._lifecycleState&&0<t._numPointerOver&&(t._numPointerOver--,0!=t._numPointerOver&&!t.multiTouch||t.emitPointerOut(new Ui(-1,-1,e,n,!1))),null!=i&&t!=i&&(i._numPointerOver++,1!=i._numPointerOver&&!i.multiTouch||i.emitPointerOver(new Ui(-1,-1,e,n,!0)))},didEmitTouchDown:function(e,n,t){var i=this.matchFirstDownListener(n,t,e,-1);null!=i&&(i._numPointerDown++,1!=i._numPointerDown&&!i.multiTouch||(ke.app.screen.set_focusedVisual(i),i.emitPointerDown(new Ui(e,-1,n,t,!0)))),this.matchedDownListeners.h[2e4+e]=i},didEmitTouchUp:function(e,n,t){var i=2e4+e,l=this.matchedDownListeners.h[i];null!=l&&0<=l._lifecycleState&&0<l._numPointerDown&&(l._numPointerDown--,0!=l._numPointerDown&&!l.multiTouch||l.emitPointerUp(new Ui(e,-1,n,t,l._hits(n,t,!1)))),this.matchedDownListeners.remove(i)},updateTouchOver:function(e,n,t){var e=2e4+e,i=this.matchedOverListeners.h[e],l=this.matchFirstOverListener(n,t);l!=i&&(null!=l?this.matchedOverListeners.h[e]=l:this.matchedOverListeners.remove(e)),null!=i&&i!=l&&0<=i._lifecycleState&&0<i._numPointerOver&&(i._numPointerOver--,0!=i._numPointerOver&&!i.multiTouch||i.emitPointerOut(new Ui(-1,-1,n,t,!1))),null!=l&&i!=l&&(l._numPointerOver++,1!=l._numPointerOver&&!l.multiTouch||l.emitPointerOver(new Ui(-1,-1,n,t,!0)))},hitVisuals:null,addHitVisual:function(e){var n=8==(8&e.flags);this.hitVisuals.push(e),n||(e.flags|=8)},removeHitVisual:function(e){var n=this.hitVisuals.indexOf(e);-1==n?ke.app.logger.warning("Hit visual not removed from hitVisuals because it was not added at the first place",{fileName:"../../../../ceramic/runtime/src/ceramic/Screen.hx",lineNumber:1349,className:"ceramic.Screen",methodName:"removeHitVisual"}):(this.hitVisuals.splice(n,1),-1==this.hitVisuals.indexOf(e)&&(e.flags&=-9))},isHitVisual:function(e){return 8==(8&e.flags)},resetDeltas:function(){this.pointerDeltaX=0,this.pointerDeltaY=0,this.mouseDeltaX=0,this.mouseDeltaY=0,this.mouseWheelDeltaX=0;for(var e=this.mouseWheelDeltaY=0;e<=this.maxTouchIndex;){var n=this.touches.get(e);null!=n&&(n.deltaX=0,n.deltaY=0),++e}},willEmitMouseMove:function(e,n){this.mouseDeltaX+=e-this.prevMouseX,this.mouseDeltaY+=n-this.prevMouseY,this.prevMouseX=e,this.prevMouseY=n},willEmitMouseDown:function(n,e,t){var i=this,l=(this.prevMouseX=e,this.prevMouseY=t,this.pressedMouseButtons.intMap.h[0|n]),l=null!=l?l:0,l=(this.pressedMouseButtons.set(n,(l=-1==l?0:l)+1),0==l&&ke.app.beginUpdateCallbacks.push(function(){var e=i.pressedMouseButtons.intMap.h[0|n];1==(null!=e?e:0)&&i.pressedMouseButtons.set(n,2)}),W.get_context());null==l||null==l.focusedWindow||null!=(l=this.matchFirstDownListener(e,t,-1,n))&&(e=!1,null!=W.get_context().focusedWindow?null!=l&&(e=K._filterEventOwner(l)):e=!0,e)||this.set_focusedVisual(null)},willEmitMouseUp:function(n,e,t){var i=this;this.pressedMouseButtons.set(n,-1),ke.app.beginUpdateCallbacks.push(function(){var e=i.pressedMouseButtons.intMap.h[0|n];-1==(null!=e?e:0)&&i.pressedMouseButtons.set(n,0)})},willEmitMouseWheel:function(e,n){this.mouseWheelDeltaX+=e,this.mouseWheelDeltaY+=n},mouseAllowed:function(e){var n;return!Rt._elementsImFocused()||(n=!1,null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n)},_mousePressed:function(e){e=this.pressedMouseButtons.intMap.h[0|e];return 0<(null!=e?e:0)},_mouseJustPressed:function(e){e=this.pressedMouseButtons.intMap.h[0|e];return 1==(null!=e?e:0)},_mouseJustReleased:function(e){e=this.pressedMouseButtons.intMap.h[0|e];return-1==(null!=e?e:0)},willEmitTouchMove:function(e,n,t){e>this.maxTouchIndex&&(this.maxTouchIndex=e);var i=2*e,l=this.prevTouchPositions.intMap.h[0|i],s=null!=l?l:0,i=null!=(l=this.prevTouchPositions.intMap.h[0|1+i])?l:0,l=this.touches.get(e);null!=l&&(l.deltaX+=n-s,l.deltaY+=t-i)},willEmitTouchDown:function(n,e,t){var i=this,l=2*n,s=1+l,l=(this.prevTouchPositions.set(l,e),this.prevTouchPositions.set(s,t),this.pressedTouches.intMap.h[0|n]),s=null!=l?l:0,l=(this.pressedTouches.set(n,(s=-1==s?0:s)+1),0==s&&ke.app.beginUpdateCallbacks.push(function(){var e=i.pressedTouches.intMap.h[0|n];1==(null!=e?e:0)&&i.pressedTouches.set(n,2)}),W.get_context());null==l||null==l.focusedWindow||null!=(s=this.matchFirstDownListener(e,t,n,-1))&&(l=!1,null!=W.get_context().focusedWindow?null!=s&&(l=K._filterEventOwner(s)):l=!0,l)||this.set_focusedVisual(null)},willEmitTouchUp:function(n,e,t){var i=this,l=this.pressedTouches.intMap.h[0|n];1==(null!=l?l:0)?this.pressedTouches.set(n,-2):this.pressedTouches.set(n,-1),ke.app.beginUpdateCallbacks.push(function(){var e=i.pressedTouches.intMap.h[0|n],e=null!=e?e:0;-1!=e&&-2!=e||i.pressedTouches.set(n,0)})},_touchPressed:function(e){e=this.pressedTouches.intMap.h[0|e];return 0<(null!=e?e:0)},_touchJustPressed:function(e){e=this.pressedTouches.intMap.h[0|e],e=null!=e?e:0;return 1==e||-2==e},_touchJustReleased:function(e){e=this.pressedTouches.intMap.h[0|e],e=null!=e?e:0;return-1==e||-2==e},touchDeltaX:function(e){e=this.touches.get(e);return null!=e?e.deltaX:0},touchDeltaY:function(e){e=this.touches.get(e);return null!=e?e.deltaY:0},toTexture:function(n){ke.app.backend.screen.screenshotToTexture(function(e){null!=e?(e=new At(e,Z.app.screenDensity),n(e)):n(null)})},toPixels:function(e){ke.app.backend.screen.screenshotToPixels(e)},_toPng:function(e,n){ke.app.onceFinishDraw(this,function(){ke.app.backend.screen.screenshotToPng(e,n)})},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offFocusedVisualChange(),this.offTexturesDensityChange(),this.offResize(),this.offMouseDown(),this.offMouseUp(),this.offMouseWheel(),this.offMouseMove(),this.offTouchDown(),this.offTouchUp(),this.offTouchMove(),this.offPointerDown(),this.offPointerUp(),this.offPointerMove(),this.offMultiTouchPointerDown(),this.offMultiTouchPointerUp(),this.offMultiTouchPointerMove(),this.offFocus(),this.offBlur()},__class__:Rt,__properties__:$extend(j.prototype.__properties__,{get_isPointerDown:"get_isPointerDown",set_texturesDensity:"set_texturesDensity",get_texturesDensity:"get_texturesDensity",set_unobservedFocusedVisual:"set_unobservedFocusedVisual",set_focusedVisual:"set_focusedVisual",get_focusedVisual:"get_focusedVisual",get_nativeDensity:"get_nativeDensity",get_nativeHeight:"get_nativeHeight",get_nativeWidth:"get_nativeWidth"})}),en["ceramic.ScreenScaling"]={__ename__:"ceramic.ScreenScaling",__constructs__:null,FIT:{_hx_name:"FIT",_hx_index:0,__enum__:"ceramic.ScreenScaling",toString:c},FILL:{_hx_name:"FILL",_hx_index:1,__enum__:"ceramic.ScreenScaling",toString:c},RESIZE:{_hx_name:"RESIZE",_hx_index:2,__enum__:"ceramic.ScreenScaling",toString:c},FIT_RESIZE:{_hx_name:"FIT_RESIZE",_hx_index:3,__enum__:"ceramic.ScreenScaling",toString:c}}),Lt=(Vt.__constructs__=[Vt.FIT,Vt.FILL,Vt.RESIZE,Vt.FIT_RESIZE],en["ceramic.ScrollDirection"]={__ename__:"ceramic.ScrollDirection",__constructs__:null,HORIZONTAL:{_hx_name:"HORIZONTAL",_hx_index:0,__enum__:"ceramic.ScrollDirection",toString:c},VERTICAL:{_hx_name:"VERTICAL",_hx_index:1,__enum__:"ceramic.ScrollDirection",toString:c}}),Ht=(Lt.__constructs__=[Lt.HORIZONTAL,Lt.VERTICAL],function(e){this.pageIndexOnStartDrag=0,this.pageMomentumThreshold=-1,this.pageSpacing=0,this.pageSize=-1,this.pagingEnabled=!1,this.scrollbarStartY=-1,this.scrollbarStartX=-1,this.scrollbarDownY=-1,this.scrollbarDownX=-1,this.blockingDefaultScroll=!1,this.pointerOnScrollerChild=!1,this.pointerOnScroller=!1,this.animating=!1,this.tweenY=null,this.tweenX=null,this.canClick=!1,this.lastWheelEventTime=-1,this.fromWheel=!1,this.releaseSnap=!1,this.momentum=0,this.scrollVelocity=null,this.touchIndex=-1,this.pointerStartY=0,this.pointerStartX=0,this.pointerStart=0,this.contentStart=0,this.position=0,this.dragThresholdStatus=0,this.prevPointerY=-99999999,this.prevPointerX=-99999999,this.touchableStrictHierarchy=!0,this.dragFactor=1,this.bounceNoMomentumDuration=.1,this.bounceDurationFactor=4e-5,this.bounceMinDuration=.08,this.bounceMomentumFactor=75e-5,this.maxClickMomentum=100,this.overScrollResistance=5,this.wheelEndDelay=.25,this.wheelMomentum=!1,this.wheelFactor=1,this.wheelDeceleration=1600,this.deceleration=300,this.verticalToHorizontalWheel=!1,this.unobservedStatus=Nt.IDLE,this.statusAutoruns=null,this.roundScrollWhenIdle=1,this.noDragThreshold=0,this.dragThreshold=0,this.dragEnabled=!0,this.scrollEnabled=!0,this.scrollTransform=new n,this.allowPointerOutside=!0,this.direction=Lt.VERTICAL,this.scrollbar=null,this.content=null,this.observedDirty=!1,q.call(this),null==e&&(e=new q),(this.content=e).set_anchorX(0),e.set_anchorY(0),e.set_x(0),e.set_y(0),e.set_transform(this.scrollTransform),e.set_depth(1),this.add(e),this.scrollTransform.onChange(this,$bind(this,this.updateScrollbar)),this.onPointerDown(this,function(e){}),this.startTracking()}),Nt=((E["ceramic.Scroller"]=Ht).__name__="ceramic.Scroller",Ht.__interfaces__=[u],Ht.__super__=q,Ht.prototype=$extend(q.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnAnimateStart:null,__cbOnceAnimateStart:null,__cbOnOwnerUnbindAnimateStart:null,__cbOnceOwnerUnbindAnimateStart:null,emitAnimateStart:function(){var e=0;if(null!=this.__cbOnAnimateStart&&(e+=this.__cbOnAnimateStart.length),null!=this.__cbOnceAnimateStart&&(e+=this.__cbOnceAnimateStart.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnAnimateStart)for(var l=0,s=this.__cbOnAnimateStart.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnAnimateStart[r],++i):--e}if(null!=this.__cbOnceAnimateStart){for(var h=null,a=null,l=0,s=this.__cbOnceAnimateStart.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceAnimateStart[r],this.__cbOnceAnimateStart[r]=null,o=this.__cbOnceOwnerUnbindAnimateStart[r],(this.__cbOnceOwnerUnbindAnimateStart[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindAnimateStart[r]),a.push(this.__cbOnceAnimateStart[r]))}this.__cbOnceOwnerUnbindAnimateStart=h,this.__cbOnceAnimateStart=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onAnimateStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event animateStart because owner is destroyed!");var l=function(e){null!=t&&(i.offAnimateStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAnimateStart&&(this.__cbOnOwnerUnbindAnimateStart=[]),this.__cbOnOwnerUnbindAnimateStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAnimateStart&&(this.__cbOnOwnerUnbindAnimateStart=[]),this.__cbOnOwnerUnbindAnimateStart.push(null);null==this.__cbOnAnimateStart&&(this.__cbOnAnimateStart=[]),this.__cbOnAnimateStart.push(t)},onceAnimateStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event animateStart because owner is destroyed!");var l=function(e){null!=t&&(i.offAnimateStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAnimateStart&&(this.__cbOnceOwnerUnbindAnimateStart=[]),this.__cbOnceOwnerUnbindAnimateStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAnimateStart&&(this.__cbOnceOwnerUnbindAnimateStart=[]),this.__cbOnceOwnerUnbindAnimateStart.push(null);null==this.__cbOnceAnimateStart&&(this.__cbOnceAnimateStart=[]),this.__cbOnceAnimateStart.push(t)},offAnimateStart:function(e){if(null!=e){var n;null!=this.__cbOnAnimateStart&&-1!=(n=this.__cbOnAnimateStart.indexOf(e))&&(this.__cbOnAnimateStart.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAnimateStart[n])&&s(),this.__cbOnOwnerUnbindAnimateStart.splice(n,1)),null!=this.__cbOnceAnimateStart&&-1!=(n=this.__cbOnceAnimateStart.indexOf(e))&&(this.__cbOnceAnimateStart.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAnimateStart[n])&&s(),this.__cbOnceOwnerUnbindAnimateStart.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAnimateStart){for(var t=0,i=this.__cbOnOwnerUnbindAnimateStart.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAnimateStart[l])&&s()}this.__cbOnOwnerUnbindAnimateStart=null}if(null!=this.__cbOnceOwnerUnbindAnimateStart){for(t=0,i=this.__cbOnceOwnerUnbindAnimateStart.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindAnimateStart[l])&&s()}this.__cbOnceOwnerUnbindAnimateStart=null}this.__cbOnAnimateStart=null,this.__cbOnceAnimateStart=null}},listensAnimateStart:function(){return null!=this.__cbOnAnimateStart&&0<this.__cbOnAnimateStart.length||null!=this.__cbOnceAnimateStart&&0<this.__cbOnceAnimateStart.length},__cbOnAnimateEnd:null,__cbOnceAnimateEnd:null,__cbOnOwnerUnbindAnimateEnd:null,__cbOnceOwnerUnbindAnimateEnd:null,emitAnimateEnd:function(){var e=0;if(null!=this.__cbOnAnimateEnd&&(e+=this.__cbOnAnimateEnd.length),null!=this.__cbOnceAnimateEnd&&(e+=this.__cbOnceAnimateEnd.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnAnimateEnd)for(var l=0,s=this.__cbOnAnimateEnd.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnAnimateEnd[r],++i):--e}if(null!=this.__cbOnceAnimateEnd){for(var h=null,a=null,l=0,s=this.__cbOnceAnimateEnd.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceAnimateEnd[r],this.__cbOnceAnimateEnd[r]=null,o=this.__cbOnceOwnerUnbindAnimateEnd[r],(this.__cbOnceOwnerUnbindAnimateEnd[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindAnimateEnd[r]),a.push(this.__cbOnceAnimateEnd[r]))}this.__cbOnceOwnerUnbindAnimateEnd=h,this.__cbOnceAnimateEnd=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onAnimateEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event animateEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offAnimateEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAnimateEnd&&(this.__cbOnOwnerUnbindAnimateEnd=[]),this.__cbOnOwnerUnbindAnimateEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAnimateEnd&&(this.__cbOnOwnerUnbindAnimateEnd=[]),this.__cbOnOwnerUnbindAnimateEnd.push(null);null==this.__cbOnAnimateEnd&&(this.__cbOnAnimateEnd=[]),this.__cbOnAnimateEnd.push(t)},onceAnimateEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event animateEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offAnimateEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAnimateEnd&&(this.__cbOnceOwnerUnbindAnimateEnd=[]),this.__cbOnceOwnerUnbindAnimateEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAnimateEnd&&(this.__cbOnceOwnerUnbindAnimateEnd=[]),this.__cbOnceOwnerUnbindAnimateEnd.push(null);null==this.__cbOnceAnimateEnd&&(this.__cbOnceAnimateEnd=[]),this.__cbOnceAnimateEnd.push(t)},offAnimateEnd:function(e){if(null!=e){var n;null!=this.__cbOnAnimateEnd&&-1!=(n=this.__cbOnAnimateEnd.indexOf(e))&&(this.__cbOnAnimateEnd.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAnimateEnd[n])&&s(),this.__cbOnOwnerUnbindAnimateEnd.splice(n,1)),null!=this.__cbOnceAnimateEnd&&-1!=(n=this.__cbOnceAnimateEnd.indexOf(e))&&(this.__cbOnceAnimateEnd.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAnimateEnd[n])&&s(),this.__cbOnceOwnerUnbindAnimateEnd.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAnimateEnd){for(var t=0,i=this.__cbOnOwnerUnbindAnimateEnd.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAnimateEnd[l])&&s()}this.__cbOnOwnerUnbindAnimateEnd=null}if(null!=this.__cbOnceOwnerUnbindAnimateEnd){for(t=0,i=this.__cbOnceOwnerUnbindAnimateEnd.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindAnimateEnd[l])&&s()}this.__cbOnceOwnerUnbindAnimateEnd=null}this.__cbOnAnimateEnd=null,this.__cbOnceAnimateEnd=null}},listensAnimateEnd:function(){return null!=this.__cbOnAnimateEnd&&0<this.__cbOnAnimateEnd.length||null!=this.__cbOnceAnimateEnd&&0<this.__cbOnceAnimateEnd.length},__cbOnDragStart:null,__cbOnceDragStart:null,__cbOnOwnerUnbindDragStart:null,__cbOnceOwnerUnbindDragStart:null,emitDragStart:function(){var e=0;if(null!=this.__cbOnDragStart&&(e+=this.__cbOnDragStart.length),null!=this.__cbOnceDragStart&&(e+=this.__cbOnceDragStart.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnDragStart)for(var l=0,s=this.__cbOnDragStart.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnDragStart[r],++i):--e}if(null!=this.__cbOnceDragStart){for(var h=null,a=null,l=0,s=this.__cbOnceDragStart.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceDragStart[r],this.__cbOnceDragStart[r]=null,o=this.__cbOnceOwnerUnbindDragStart[r],(this.__cbOnceOwnerUnbindDragStart[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindDragStart[r]),a.push(this.__cbOnceDragStart[r]))}this.__cbOnceOwnerUnbindDragStart=h,this.__cbOnceDragStart=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onDragStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event dragStart because owner is destroyed!");var l=function(e){null!=t&&(i.offDragStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDragStart&&(this.__cbOnOwnerUnbindDragStart=[]),this.__cbOnOwnerUnbindDragStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDragStart&&(this.__cbOnOwnerUnbindDragStart=[]),this.__cbOnOwnerUnbindDragStart.push(null);null==this.__cbOnDragStart&&(this.__cbOnDragStart=[]),this.__cbOnDragStart.push(t)},onceDragStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event dragStart because owner is destroyed!");var l=function(e){null!=t&&(i.offDragStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDragStart&&(this.__cbOnceOwnerUnbindDragStart=[]),this.__cbOnceOwnerUnbindDragStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDragStart&&(this.__cbOnceOwnerUnbindDragStart=[]),this.__cbOnceOwnerUnbindDragStart.push(null);null==this.__cbOnceDragStart&&(this.__cbOnceDragStart=[]),this.__cbOnceDragStart.push(t)},offDragStart:function(e){if(null!=e){var n;null!=this.__cbOnDragStart&&-1!=(n=this.__cbOnDragStart.indexOf(e))&&(this.__cbOnDragStart.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDragStart[n])&&s(),this.__cbOnOwnerUnbindDragStart.splice(n,1)),null!=this.__cbOnceDragStart&&-1!=(n=this.__cbOnceDragStart.indexOf(e))&&(this.__cbOnceDragStart.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDragStart[n])&&s(),this.__cbOnceOwnerUnbindDragStart.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDragStart){for(var t=0,i=this.__cbOnOwnerUnbindDragStart.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDragStart[l])&&s()}this.__cbOnOwnerUnbindDragStart=null}if(null!=this.__cbOnceOwnerUnbindDragStart){for(t=0,i=this.__cbOnceOwnerUnbindDragStart.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDragStart[l])&&s()}this.__cbOnceOwnerUnbindDragStart=null}this.__cbOnDragStart=null,this.__cbOnceDragStart=null}},listensDragStart:function(){return null!=this.__cbOnDragStart&&0<this.__cbOnDragStart.length||null!=this.__cbOnceDragStart&&0<this.__cbOnceDragStart.length},__cbOnDragEnd:null,__cbOnceDragEnd:null,__cbOnOwnerUnbindDragEnd:null,__cbOnceOwnerUnbindDragEnd:null,emitDragEnd:function(){var e=0;if(null!=this.__cbOnDragEnd&&(e+=this.__cbOnDragEnd.length),null!=this.__cbOnceDragEnd&&(e+=this.__cbOnceDragEnd.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnDragEnd)for(var l=0,s=this.__cbOnDragEnd.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnDragEnd[r],++i):--e}if(null!=this.__cbOnceDragEnd){for(var h=null,a=null,l=0,s=this.__cbOnceDragEnd.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceDragEnd[r],this.__cbOnceDragEnd[r]=null,o=this.__cbOnceOwnerUnbindDragEnd[r],(this.__cbOnceOwnerUnbindDragEnd[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindDragEnd[r]),a.push(this.__cbOnceDragEnd[r]))}this.__cbOnceOwnerUnbindDragEnd=h,this.__cbOnceDragEnd=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onDragEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event dragEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offDragEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDragEnd&&(this.__cbOnOwnerUnbindDragEnd=[]),this.__cbOnOwnerUnbindDragEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDragEnd&&(this.__cbOnOwnerUnbindDragEnd=[]),this.__cbOnOwnerUnbindDragEnd.push(null);null==this.__cbOnDragEnd&&(this.__cbOnDragEnd=[]),this.__cbOnDragEnd.push(t)},onceDragEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event dragEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offDragEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDragEnd&&(this.__cbOnceOwnerUnbindDragEnd=[]),this.__cbOnceOwnerUnbindDragEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDragEnd&&(this.__cbOnceOwnerUnbindDragEnd=[]),this.__cbOnceOwnerUnbindDragEnd.push(null);null==this.__cbOnceDragEnd&&(this.__cbOnceDragEnd=[]),this.__cbOnceDragEnd.push(t)},offDragEnd:function(e){if(null!=e){var n;null!=this.__cbOnDragEnd&&-1!=(n=this.__cbOnDragEnd.indexOf(e))&&(this.__cbOnDragEnd.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDragEnd[n])&&s(),this.__cbOnOwnerUnbindDragEnd.splice(n,1)),null!=this.__cbOnceDragEnd&&-1!=(n=this.__cbOnceDragEnd.indexOf(e))&&(this.__cbOnceDragEnd.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDragEnd[n])&&s(),this.__cbOnceOwnerUnbindDragEnd.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDragEnd){for(var t=0,i=this.__cbOnOwnerUnbindDragEnd.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDragEnd[l])&&s()}this.__cbOnOwnerUnbindDragEnd=null}if(null!=this.__cbOnceOwnerUnbindDragEnd){for(t=0,i=this.__cbOnceOwnerUnbindDragEnd.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDragEnd[l])&&s()}this.__cbOnceOwnerUnbindDragEnd=null}this.__cbOnDragEnd=null,this.__cbOnceDragEnd=null}},listensDragEnd:function(){return null!=this.__cbOnDragEnd&&0<this.__cbOnDragEnd.length||null!=this.__cbOnceDragEnd&&0<this.__cbOnceDragEnd.length},__cbOnWheelStart:null,__cbOnceWheelStart:null,__cbOnOwnerUnbindWheelStart:null,__cbOnceOwnerUnbindWheelStart:null,emitWheelStart:function(){var e=0;if(null!=this.__cbOnWheelStart&&(e+=this.__cbOnWheelStart.length),null!=this.__cbOnceWheelStart&&(e+=this.__cbOnceWheelStart.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnWheelStart)for(var l=0,s=this.__cbOnWheelStart.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnWheelStart[r],++i):--e}if(null!=this.__cbOnceWheelStart){for(var h=null,a=null,l=0,s=this.__cbOnceWheelStart.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceWheelStart[r],this.__cbOnceWheelStart[r]=null,o=this.__cbOnceOwnerUnbindWheelStart[r],(this.__cbOnceOwnerUnbindWheelStart[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindWheelStart[r]),a.push(this.__cbOnceWheelStart[r]))}this.__cbOnceOwnerUnbindWheelStart=h,this.__cbOnceWheelStart=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onWheelStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event wheelStart because owner is destroyed!");var l=function(e){null!=t&&(i.offWheelStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWheelStart&&(this.__cbOnOwnerUnbindWheelStart=[]),this.__cbOnOwnerUnbindWheelStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWheelStart&&(this.__cbOnOwnerUnbindWheelStart=[]),this.__cbOnOwnerUnbindWheelStart.push(null);null==this.__cbOnWheelStart&&(this.__cbOnWheelStart=[]),this.__cbOnWheelStart.push(t)},onceWheelStart:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event wheelStart because owner is destroyed!");var l=function(e){null!=t&&(i.offWheelStart(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWheelStart&&(this.__cbOnceOwnerUnbindWheelStart=[]),this.__cbOnceOwnerUnbindWheelStart.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWheelStart&&(this.__cbOnceOwnerUnbindWheelStart=[]),this.__cbOnceOwnerUnbindWheelStart.push(null);null==this.__cbOnceWheelStart&&(this.__cbOnceWheelStart=[]),this.__cbOnceWheelStart.push(t)},offWheelStart:function(e){if(null!=e){var n;null!=this.__cbOnWheelStart&&-1!=(n=this.__cbOnWheelStart.indexOf(e))&&(this.__cbOnWheelStart.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWheelStart[n])&&s(),this.__cbOnOwnerUnbindWheelStart.splice(n,1)),null!=this.__cbOnceWheelStart&&-1!=(n=this.__cbOnceWheelStart.indexOf(e))&&(this.__cbOnceWheelStart.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWheelStart[n])&&s(),this.__cbOnceOwnerUnbindWheelStart.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWheelStart){for(var t=0,i=this.__cbOnOwnerUnbindWheelStart.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWheelStart[l])&&s()}this.__cbOnOwnerUnbindWheelStart=null}if(null!=this.__cbOnceOwnerUnbindWheelStart){for(t=0,i=this.__cbOnceOwnerUnbindWheelStart.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWheelStart[l])&&s()}this.__cbOnceOwnerUnbindWheelStart=null}this.__cbOnWheelStart=null,this.__cbOnceWheelStart=null}},listensWheelStart:function(){return null!=this.__cbOnWheelStart&&0<this.__cbOnWheelStart.length||null!=this.__cbOnceWheelStart&&0<this.__cbOnceWheelStart.length},__cbOnWheelEnd:null,__cbOnceWheelEnd:null,__cbOnOwnerUnbindWheelEnd:null,__cbOnceOwnerUnbindWheelEnd:null,emitWheelEnd:function(){var e=0;if(null!=this.__cbOnWheelEnd&&(e+=this.__cbOnWheelEnd.length),null!=this.__cbOnceWheelEnd&&(e+=this.__cbOnceWheelEnd.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnWheelEnd)for(var l=0,s=this.__cbOnWheelEnd.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnWheelEnd[r],++i):--e}if(null!=this.__cbOnceWheelEnd){for(var h=null,a=null,l=0,s=this.__cbOnceWheelEnd.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceWheelEnd[r],this.__cbOnceWheelEnd[r]=null,o=this.__cbOnceOwnerUnbindWheelEnd[r],(this.__cbOnceOwnerUnbindWheelEnd[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindWheelEnd[r]),a.push(this.__cbOnceWheelEnd[r]))}this.__cbOnceOwnerUnbindWheelEnd=h,this.__cbOnceWheelEnd=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onWheelEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event wheelEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offWheelEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWheelEnd&&(this.__cbOnOwnerUnbindWheelEnd=[]),this.__cbOnOwnerUnbindWheelEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWheelEnd&&(this.__cbOnOwnerUnbindWheelEnd=[]),this.__cbOnOwnerUnbindWheelEnd.push(null);null==this.__cbOnWheelEnd&&(this.__cbOnWheelEnd=[]),this.__cbOnWheelEnd.push(t)},onceWheelEnd:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event wheelEnd because owner is destroyed!");var l=function(e){null!=t&&(i.offWheelEnd(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWheelEnd&&(this.__cbOnceOwnerUnbindWheelEnd=[]),this.__cbOnceOwnerUnbindWheelEnd.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWheelEnd&&(this.__cbOnceOwnerUnbindWheelEnd=[]),this.__cbOnceOwnerUnbindWheelEnd.push(null);null==this.__cbOnceWheelEnd&&(this.__cbOnceWheelEnd=[]),this.__cbOnceWheelEnd.push(t)},offWheelEnd:function(e){if(null!=e){var n;null!=this.__cbOnWheelEnd&&-1!=(n=this.__cbOnWheelEnd.indexOf(e))&&(this.__cbOnWheelEnd.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWheelEnd[n])&&s(),this.__cbOnOwnerUnbindWheelEnd.splice(n,1)),null!=this.__cbOnceWheelEnd&&-1!=(n=this.__cbOnceWheelEnd.indexOf(e))&&(this.__cbOnceWheelEnd.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWheelEnd[n])&&s(),this.__cbOnceOwnerUnbindWheelEnd.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWheelEnd){for(var t=0,i=this.__cbOnOwnerUnbindWheelEnd.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWheelEnd[l])&&s()}this.__cbOnOwnerUnbindWheelEnd=null}if(null!=this.__cbOnceOwnerUnbindWheelEnd){for(t=0,i=this.__cbOnceOwnerUnbindWheelEnd.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWheelEnd[l])&&s()}this.__cbOnceOwnerUnbindWheelEnd=null}this.__cbOnWheelEnd=null,this.__cbOnceWheelEnd=null}},listensWheelEnd:function(){return null!=this.__cbOnWheelEnd&&0<this.__cbOnWheelEnd.length||null!=this.__cbOnceWheelEnd&&0<this.__cbOnceWheelEnd.length},__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(e){var n=0;if(null!=this.__cbOnClick&&(n+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(n+=this.__cbOnceClick.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnClick)for(var s=0,r=this.__cbOnClick.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnClick[h],++l):--n}if(null!=this.__cbOnceClick){for(var a=null,o=null,s=0,r=this.__cbOnceClick.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceClick[h],this.__cbOnceClick[h]=null,c=this.__cbOnceOwnerUnbindClick[h],(this.__cbOnceOwnerUnbindClick[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindClick[h]),o.push(this.__cbOnceClick[h]))}this.__cbOnceOwnerUnbindClick=a,this.__cbOnceClick=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClick[n])&&s(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClick[n])&&s(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClick[l])&&s()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClick[l])&&s()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},__cbOnScrollerPointerDown:null,__cbOnceScrollerPointerDown:null,__cbOnOwnerUnbindScrollerPointerDown:null,__cbOnceOwnerUnbindScrollerPointerDown:null,emitScrollerPointerDown:function(e){var n=0;if(null!=this.__cbOnScrollerPointerDown&&(n+=this.__cbOnScrollerPointerDown.length),null!=this.__cbOnceScrollerPointerDown&&(n+=this.__cbOnceScrollerPointerDown.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnScrollerPointerDown)for(var s=0,r=this.__cbOnScrollerPointerDown.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnScrollerPointerDown[h],++l):--n}if(null!=this.__cbOnceScrollerPointerDown){for(var a=null,o=null,s=0,r=this.__cbOnceScrollerPointerDown.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceScrollerPointerDown[h],this.__cbOnceScrollerPointerDown[h]=null,c=this.__cbOnceOwnerUnbindScrollerPointerDown[h],(this.__cbOnceOwnerUnbindScrollerPointerDown[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindScrollerPointerDown[h]),o.push(this.__cbOnceScrollerPointerDown[h]))}this.__cbOnceOwnerUnbindScrollerPointerDown=a,this.__cbOnceScrollerPointerDown=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onScrollerPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scrollerPointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollerPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollerPointerDown&&(this.__cbOnOwnerUnbindScrollerPointerDown=[]),this.__cbOnOwnerUnbindScrollerPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollerPointerDown&&(this.__cbOnOwnerUnbindScrollerPointerDown=[]),this.__cbOnOwnerUnbindScrollerPointerDown.push(null);null==this.__cbOnScrollerPointerDown&&(this.__cbOnScrollerPointerDown=[]),this.__cbOnScrollerPointerDown.push(t)},onceScrollerPointerDown:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scrollerPointerDown because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollerPointerDown(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollerPointerDown&&(this.__cbOnceOwnerUnbindScrollerPointerDown=[]),this.__cbOnceOwnerUnbindScrollerPointerDown.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollerPointerDown&&(this.__cbOnceOwnerUnbindScrollerPointerDown=[]),this.__cbOnceOwnerUnbindScrollerPointerDown.push(null);null==this.__cbOnceScrollerPointerDown&&(this.__cbOnceScrollerPointerDown=[]),this.__cbOnceScrollerPointerDown.push(t)},offScrollerPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnScrollerPointerDown&&-1!=(n=this.__cbOnScrollerPointerDown.indexOf(e))&&(this.__cbOnScrollerPointerDown.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScrollerPointerDown[n])&&s(),this.__cbOnOwnerUnbindScrollerPointerDown.splice(n,1)),null!=this.__cbOnceScrollerPointerDown&&-1!=(n=this.__cbOnceScrollerPointerDown.indexOf(e))&&(this.__cbOnceScrollerPointerDown.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScrollerPointerDown[n])&&s(),this.__cbOnceOwnerUnbindScrollerPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollerPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindScrollerPointerDown.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScrollerPointerDown[l])&&s()}this.__cbOnOwnerUnbindScrollerPointerDown=null}if(null!=this.__cbOnceOwnerUnbindScrollerPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindScrollerPointerDown.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScrollerPointerDown[l])&&s()}this.__cbOnceOwnerUnbindScrollerPointerDown=null}this.__cbOnScrollerPointerDown=null,this.__cbOnceScrollerPointerDown=null}},listensScrollerPointerDown:function(){return null!=this.__cbOnScrollerPointerDown&&0<this.__cbOnScrollerPointerDown.length||null!=this.__cbOnceScrollerPointerDown&&0<this.__cbOnceScrollerPointerDown.length},__cbOnScrollerPointerUp:null,__cbOnceScrollerPointerUp:null,__cbOnOwnerUnbindScrollerPointerUp:null,__cbOnceOwnerUnbindScrollerPointerUp:null,emitScrollerPointerUp:function(e){var n=0;if(null!=this.__cbOnScrollerPointerUp&&(n+=this.__cbOnScrollerPointerUp.length),null!=this.__cbOnceScrollerPointerUp&&(n+=this.__cbOnceScrollerPointerUp.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnScrollerPointerUp)for(var s=0,r=this.__cbOnScrollerPointerUp.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnScrollerPointerUp[h],++l):--n}if(null!=this.__cbOnceScrollerPointerUp){for(var a=null,o=null,s=0,r=this.__cbOnceScrollerPointerUp.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceScrollerPointerUp[h],this.__cbOnceScrollerPointerUp[h]=null,c=this.__cbOnceOwnerUnbindScrollerPointerUp[h],(this.__cbOnceOwnerUnbindScrollerPointerUp[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindScrollerPointerUp[h]),o.push(this.__cbOnceScrollerPointerUp[h]))}this.__cbOnceOwnerUnbindScrollerPointerUp=a,this.__cbOnceScrollerPointerUp=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onScrollerPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scrollerPointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollerPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollerPointerUp&&(this.__cbOnOwnerUnbindScrollerPointerUp=[]),this.__cbOnOwnerUnbindScrollerPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollerPointerUp&&(this.__cbOnOwnerUnbindScrollerPointerUp=[]),this.__cbOnOwnerUnbindScrollerPointerUp.push(null);null==this.__cbOnScrollerPointerUp&&(this.__cbOnScrollerPointerUp=[]),this.__cbOnScrollerPointerUp.push(t)},onceScrollerPointerUp:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scrollerPointerUp because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollerPointerUp(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollerPointerUp&&(this.__cbOnceOwnerUnbindScrollerPointerUp=[]),this.__cbOnceOwnerUnbindScrollerPointerUp.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollerPointerUp&&(this.__cbOnceOwnerUnbindScrollerPointerUp=[]),this.__cbOnceOwnerUnbindScrollerPointerUp.push(null);null==this.__cbOnceScrollerPointerUp&&(this.__cbOnceScrollerPointerUp=[]),this.__cbOnceScrollerPointerUp.push(t)},offScrollerPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnScrollerPointerUp&&-1!=(n=this.__cbOnScrollerPointerUp.indexOf(e))&&(this.__cbOnScrollerPointerUp.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScrollerPointerUp[n])&&s(),this.__cbOnOwnerUnbindScrollerPointerUp.splice(n,1)),null!=this.__cbOnceScrollerPointerUp&&-1!=(n=this.__cbOnceScrollerPointerUp.indexOf(e))&&(this.__cbOnceScrollerPointerUp.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScrollerPointerUp[n])&&s(),this.__cbOnceOwnerUnbindScrollerPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollerPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindScrollerPointerUp.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScrollerPointerUp[l])&&s()}this.__cbOnOwnerUnbindScrollerPointerUp=null}if(null!=this.__cbOnceOwnerUnbindScrollerPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindScrollerPointerUp.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScrollerPointerUp[l])&&s()}this.__cbOnceOwnerUnbindScrollerPointerUp=null}this.__cbOnScrollerPointerUp=null,this.__cbOnceScrollerPointerUp=null}},listensScrollerPointerUp:function(){return null!=this.__cbOnScrollerPointerUp&&0<this.__cbOnScrollerPointerUp.length||null!=this.__cbOnceScrollerPointerUp&&0<this.__cbOnceScrollerPointerUp.length},content:null,scrollbar:null,set_scrollbar:function(e){return this.scrollbar==e?e:(null!=this.scrollbar&&this.scrollbar.destroy(),this.scrollbar=e,null!=this.scrollbar&&(this.add(this.scrollbar),this.scrollbar.set_depth(2),this.bindScrollbar(this.scrollbar)),this.scrollbar)},direction:null,allowPointerOutside:null,scrollTransform:null,scrollEnabled:null,dragEnabled:null,dragThreshold:null,noDragThreshold:null,roundScrollWhenIdle:null,set_roundScrollWhenIdle:function(e){var n;return this.roundScrollWhenIdle!=e&&(this.roundScrollWhenIdle=e,this.get_status()==Nt.IDLE&&0<this.roundScrollWhenIdle&&(n=1==this.roundScrollWhenIdle?(n=Math.round(-this.scrollTransform.tx),this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty)):(n=Math.round(-this.scrollTransform.tx*this.roundScrollWhenIdle)/this.roundScrollWhenIdle,this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty*this.roundScrollWhenIdle)/this.roundScrollWhenIdle),this.scrollTransform.ty!=-n))&&(this.scrollTransform.ty=-n,this.scrollTransform.changedDirty=!0),e},statusAutoruns:null,get_status:function(){var e,n,t=this.unobservedStatus;return null!=w.current&&(e=w.current,null!=(n=this.statusAutoruns)||(n=w.getAutorunArray(),null!=(this.statusAutoruns=n)))&&e.bindToAutorunArray(n),t},set_status:function(e){var n=this.unobservedStatus;return this.set_unobservedStatus(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n),null!=(n=this.statusAutoruns))&&(this.statusAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateStatus:function(){var e=this.unobservedStatus,e=(this.emitStatusChange(e,e),this.statusAutoruns);null!=e&&(this.statusAutoruns=null,w.invalidateAutorunArray(e))},unobservedStatus:null,__cbOnStatusChange:null,__cbOnceStatusChange:null,__cbOnOwnerUnbindStatusChange:null,__cbOnceOwnerUnbindStatusChange:null,emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnStatusChange)for(var r=0,h=this.__cbOnStatusChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnStatusChange[a],++s):--t}if(null!=this.__cbOnceStatusChange){for(var o=null,c=null,r=0,h=this.__cbOnceStatusChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceStatusChange[a],this.__cbOnceStatusChange[a]=null,u=this.__cbOnceOwnerUnbindStatusChange[a],(this.__cbOnceOwnerUnbindStatusChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindStatusChange[a]),c.push(this.__cbOnceStatusChange[a]))}this.__cbOnceOwnerUnbindStatusChange=o,this.__cbOnceStatusChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(t)},onceStatusChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event statusChange because owner is destroyed!");var l=function(e){null!=t&&(i.offStatusChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(t)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStatusChange[n])&&s(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStatusChange[n])&&s(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStatusChange[l])&&s()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStatusChange[l])&&s()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&0<this.__cbOnStatusChange.length||null!=this.__cbOnceStatusChange&&0<this.__cbOnceStatusChange.length},set_unobservedStatus:function(e){var n,t;return e!=this.unobservedStatus&&(t=this.unobservedStatus,(this.unobservedStatus=e)==Nt.DRAGGING?(this.pagingEnabled&&(this.pageIndexOnStartDrag=this.pageIndexFromScroll(-this.scrollTransform.tx,-this.scrollTransform.ty)),this.emitDragStart()):t==Nt.DRAGGING?this.emitDragEnd():e==Nt.IDLE&&0<this.roundScrollWhenIdle&&(t=1==this.roundScrollWhenIdle?(n=Math.round(-this.scrollTransform.tx),this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty)):(n=Math.round(-this.scrollTransform.tx*this.roundScrollWhenIdle)/this.roundScrollWhenIdle,this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty*this.roundScrollWhenIdle)/this.roundScrollWhenIdle),this.scrollTransform.ty!=-t)&&(this.scrollTransform.ty=-t,this.scrollTransform.changedDirty=!0)),e},verticalToHorizontalWheel:null,deceleration:null,wheelDeceleration:null,wheelFactor:null,wheelMomentum:null,wheelEndDelay:null,overScrollResistance:null,maxClickMomentum:null,bounceMomentumFactor:null,bounceMinDuration:null,bounceDurationFactor:null,bounceNoMomentumDuration:null,dragFactor:null,touchableStrictHierarchy:null,prevPointerX:null,prevPointerY:null,dragThresholdStatus:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.blockingDefaultScroll&&(this.blockingDefaultScroll=!1,ke.app.numBlockingDefaultScroll--),this._lifecycleState=-1,q.prototype.destroy.call(this))},set_scrollEnabled:function(e){return this.scrollEnabled!=e&&(this.scrollEnabled=e,this.set_status(Nt.IDLE),e?this.startTracking():this.stopTracking()),e},set_width:function(e){return q.prototype.set_width.call(this,e),this.direction==Lt.VERTICAL&&this.content.set_width(e),e},set_height:function(e){return q.prototype.set_height.call(this,e),this.direction==Lt.HORIZONTAL&&this.content.set_height(e),e},interceptPointerDown:function(e,n,t,i,l){return!(!this.scrollEnabled||this.allowPointerOutside||this._hits(n,t,!1))},interceptPointerOver:function(e,n,t){if(this.scrollEnabled){n=this._hits(n,t,!1);if(this.pointerOnScrollerChild=n&&!(e instanceof Ht),!this.allowPointerOutside&&!n)return!0}return!1},scrollToBounds:function(){var e;this.direction==Lt.VERTICAL?this.content.get_height()<=this.get_height()?0!=this.scrollTransform.ty&&(this.scrollTransform.ty=0,this.scrollTransform.changedDirty=!0):this.content.get_height()-this.get_height()<-this.scrollTransform.ty?(e=this.content.get_height()-this.get_height(),this.scrollTransform.ty!=-e&&(this.scrollTransform.ty=-e,this.scrollTransform.changedDirty=!0)):-this.scrollTransform.ty<0&&0!=this.scrollTransform.ty&&(this.scrollTransform.ty=0,this.scrollTransform.changedDirty=!0):this.content.get_width()<=this.get_width()?0!=this.scrollTransform.tx&&(this.scrollTransform.tx=0,this.scrollTransform.changedDirty=!0):this.content.get_width()-this.get_width()<-this.scrollTransform.tx?(e=this.content.get_width()-this.get_width(),this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0)):-this.scrollTransform.tx<0&&0!=this.scrollTransform.tx&&(this.scrollTransform.tx=0,this.scrollTransform.changedDirty=!0)},isContentPositionInBounds:function(e,n){return!(e<-this.scrollTransform.tx||e>=-this.scrollTransform.tx+this.get_width()||n<-this.scrollTransform.ty||n>=-this.scrollTransform.ty+this.get_height())},ensureContentPositionIsInBounds:function(e,n){var t=-this.scrollTransform.tx,i=-this.scrollTransform.ty,e=(e<t?t=e:e>=t+this.get_width()&&(t=e-this.get_width()),this.content.get_width()-this.get_width()),e=((t=e<t?e:t)<0&&(t=0),n<i?i=n:n>=i+this.get_height()&&(i=n-this.get_height()),this.content.get_height()-this.get_height());(i=e<i?e:i)<0&&(i=0),this.scrollTransform.tx!=-t&&(this.scrollTransform.tx=-t,this.scrollTransform.changedDirty=!0),this.scrollTransform.ty!=-i&&(this.scrollTransform.ty=-i,this.scrollTransform.changedDirty=!0)},get_scrollX:function(){return-this.scrollTransform.tx},set_scrollX:function(e){return this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0),e},get_scrollY:function(){return-this.scrollTransform.ty},set_scrollY:function(e){return this.scrollTransform.ty!=-e&&(this.scrollTransform.ty=-e,this.scrollTransform.changedDirty=!0),e},position:null,contentStart:null,pointerStart:null,pointerStartX:null,pointerStartY:null,touchIndex:null,scrollVelocity:null,momentum:null,releaseSnap:null,fromWheel:null,lastWheelEventTime:null,canClick:null,tweenX:null,tweenY:null,animating:null,set_animating:function(e){return this.animating!=e&&((this.animating=e)?this.emitAnimateStart():this.emitAnimateEnd()),e},pointerOnScroller:null,pointerOnScrollerChild:null,blockingDefaultScroll:null,startTracking:function(){ke.app.onUpdate(this,$bind(this,this.update)),this.onPointerOver(this,$bind(this,this.pointerOver)),this.onPointerOut(this,$bind(this,this.pointerOut)),ke.app.screen.onMultiTouchPointerDown(this,$bind(this,this.pointerDown)),ke.app.screen.onFocus(this,$bind(this,this.screenFocus)),ke.app.screen.onMouseWheel(this,$bind(this,this.mouseWheel))},stopTracking:function(){ke.app.offUpdate($bind(this,this.update)),this.offPointerOver($bind(this,this.pointerOver)),this.offPointerOut($bind(this,this.pointerOut)),ke.app.screen.offMultiTouchPointerDown($bind(this,this.pointerDown)),ke.app.screen.offFocus($bind(this,this.screenFocus)),ke.app.screen.offMouseWheel($bind(this,this.mouseWheel)),this.blockingDefaultScroll&&(this.blockingDefaultScroll=!1,ke.app.numBlockingDefaultScroll--)},pointerOver:function(e){this.pointerOnScroller=!0},pointerOut:function(e){this.pointerOnScroller=!1},mouseWheel:function(e,n){if(!this.pagingEnabled&&this.get_status()!=Nt.TOUCHING&&this.get_status()!=Nt.DRAGGING&&(this.pointerOnScroller||this.pointerOnScrollerChild)&&this._hits(ke.app.screen.pointerX,ke.app.screen.pointerY,!1)){if(this.direction==Lt.VERTICAL){if(0<this.scrollTransform.ty||this.scrollTransform.ty<this.get_height()-this.content.get_height())return}else if(0<this.scrollTransform.tx||this.scrollTransform.tx<this.get_width()-this.content.get_width())return;var t,i;e*=this.wheelFactor,n*=this.wheelFactor,this.set_status(Nt.SCROLLING),this.fromWheel=!0,-1==this.lastWheelEventTime?(this.lastWheelEventTime=mi.now,this.emitWheelStart()):this.lastWheelEventTime=mi.now,this.direction==Lt.VERTICAL?((this.momentum<0&&0<n||0<this.momentum&&n<0)&&(this.momentum=0),this.scrollTransform.ty-=n,0<this.scrollTransform.ty?this.scrollTransform.ty=0:this.scrollTransform.ty<this.get_height()-this.content.get_height()&&(t=this.get_height(),i=this.content.get_height(),this.scrollTransform.ty=t-i),this.wheelMomentum&&this.scrollTransform.ty<0&&this.scrollTransform.ty>this.get_height()-this.content.get_height()&&(this.momentum-=60*n)):this.verticalToHorizontalWheel&&0==e?((this.momentum<0&&0<n||0<this.momentum&&n<0)&&(this.momentum=0),this.scrollTransform.tx-=n,0<this.scrollTransform.tx?this.scrollTransform.tx=0:this.scrollTransform.tx<this.get_width()-this.content.get_width()&&(t=this.get_width(),i=this.content.get_width(),this.scrollTransform.tx=t-i),this.wheelMomentum&&this.scrollTransform.tx<=0&&this.scrollTransform.tx>=this.get_width()-this.content.get_width()&&(this.momentum-=60*n)):((this.momentum<0&&0<e||0<this.momentum&&e<0)&&(this.momentum=0),this.scrollTransform.tx-=e,0<this.scrollTransform.tx?this.scrollTransform.tx=0:this.scrollTransform.tx<this.get_width()-this.content.get_width()&&(t=this.get_width(),i=this.content.get_width(),this.scrollTransform.tx=t-i),this.wheelMomentum&&this.scrollTransform.tx<=0&&this.scrollTransform.tx>=this.get_width()-this.content.get_width()&&(this.momentum-=60*e)),this.scrollTransform.changedDirty=!0}},pointerDown:function(e){var n,t;this.computedTouchable&&this.dragEnabled&&this.get_status()!=Nt.TOUCHING&&this.get_status()!=Nt.DRAGGING&&(this.dragThresholdStatus=0<this.dragThreshold?1:0,t=(n=this._hits(e.x,e.y,!1))&&this.touchableStrictHierarchy?ke.app.screen.matchFirstDownListener(e.x,e.y):null,n)&&(!this.touchableStrictHierarchy||null!=t&&(t==this||this.contains(t,!0)))&&(this.set_animating(!1),null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy(),this.get_status()==Nt.SCROLLING&&Math.abs(this.momentum)>this.maxClickMomentum?(ke.app.screen.set_focusedVisual(this),this.canClick=!1):this.canClick=!0,this.prevPointerX=-99999999,this.prevPointerY=-99999999,this.set_status(Nt.TOUCHING),this.touchIndex=e.touchIndex,this.pointerStartX=e.x,this.pointerStartY=e.y,this.direction==Lt.VERTICAL?(this.contentStart=this.scrollTransform.ty,this.pointerStart=e.y):(this.contentStart=this.scrollTransform.tx,this.pointerStart=e.x),this.scrollVelocity=new ki,this.scrollVelocity.add(0),ke.app.screen.onMultiTouchPointerUp(this,$bind(this,this.pointerUp)),this.emitScrollerPointerDown(e))},pointerUp:function(e){e.touchIndex==this.touchIndex&&(this.get_status()==Nt.TOUCHING&&ke.app.screen.get_focusedVisual()==this||(this.canClick=!1),this.momentum=this.scrollVelocity.get(),this.scrollVelocity=null,this.touchIndex=-1,this.set_status(Nt.SCROLLING),ke.app.screen.offMultiTouchPointerUp($bind(this,this.pointerUp)),this.direction==Lt.VERTICAL?this.pagingEnabled||0<this.scrollTransform.ty||this.scrollTransform.ty<this.get_height()-this.content.get_height()?this.releaseSnap=!0:this.releaseSnap=!1:this.pagingEnabled||0<this.scrollTransform.tx||this.scrollTransform.tx<this.get_width()-this.content.get_width()?this.releaseSnap=!0:this.releaseSnap=!1,this.canClick&&(this.canClick=!1,this.emitClick(e)),this.emitScrollerPointerUp(e))},screenFocus:function(e){null==e||e==this||this.get_status()!=Nt.TOUCHING||this.contains(e)||(this.set_status(Nt.IDLE),ke.app.screen.offMultiTouchPointerUp($bind(this,this.pointerUp)))},isOverScrollingTop:function(){return 0<this.scrollTransform.ty},isOverScrollingBottom:function(){return this.scrollTransform.ty<this.get_height()-this.content.get_height()},isOverScrollingLeft:function(){return 0<this.scrollTransform.tx},isOverScrollingRight:function(){return this.scrollTransform.tx<this.get_width()-this.content.get_width()},roundScrollIfNeeded:function(){var e;0<this.roundScrollWhenIdle&&(e=1==this.roundScrollWhenIdle?(e=Math.round(-this.scrollTransform.tx),this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty)):(e=Math.round(-this.scrollTransform.tx*this.roundScrollWhenIdle)/this.roundScrollWhenIdle,this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0),Math.round(-this.scrollTransform.ty*this.roundScrollWhenIdle)/this.roundScrollWhenIdle),this.scrollTransform.ty!=-e)&&(this.scrollTransform.ty=-e,this.scrollTransform.changedDirty=!0)},update:function(e){var n=this.blockingDefaultScroll;if(this.blockingDefaultScroll=(this.pointerOnScroller||this.pointerOnScrollerChild)&&this._hits(ke.app.screen.pointerX,ke.app.screen.pointerY,!1),this.blockingDefaultScroll!=n&&(this.blockingDefaultScroll?ke.app.numBlockingDefaultScroll++:ke.app.numBlockingDefaultScroll--),0!=e&&3!=this.dragThresholdStatus){var t=ke.app.screen.pointerX,i=ke.app.screen.pointerY;if(-1!=this.touchIndex&&null!=(n=ke.app.screen.touches.get(this.touchIndex))&&(t=n.x,i=n.y),1==this.dragThresholdStatus){var n=Math.abs(t-this.pointerStartX),l=Math.abs(i-this.pointerStartY),s=0<this.noDragThreshold?this.noDragThreshold:this.dragThreshold;if(this.direction==Lt.VERTICAL?(0<this.noDragThreshold||l<n)&&s<=n?this.dragThresholdStatus=3:n<l&&l>=this.dragThreshold&&(this.dragThresholdStatus=2):(0<this.noDragThreshold||n<l)&&s<=l?this.dragThresholdStatus=3:l<n&&n>=this.dragThreshold&&(this.dragThresholdStatus=2),3==this.dragThresholdStatus)return}switch(this.scrollUpdate(t,i,e),-1!=this.lastWheelEventTime&&mi.now-this.lastWheelEventTime>this.wheelEndDelay&&(this.lastWheelEventTime=-1,this.emitWheelEnd()),this.get_status()._hx_index){case 1:case 2:this.prevPointerX=t,this.prevPointerY=i;break;default:this.prevPointerX=-99999999,this.prevPointerY=-99999999}this.updateScrollbar(),this.get_status()==Nt.IDLE&&this.roundScrollIfNeeded()}},updateScrollbar:function(){null!=this.scrollbar&&(this.direction==Lt.VERTICAL?(this.scrollbar.set_x(this.get_width()-this.scrollbar.get_width()*(1-this.scrollbar.anchorX)),0<this.content.get_height()?(this.scrollbar.set_height(Math.min(this.get_height(),this.get_height()*this.get_height()/this.content.get_height())),this.scrollbar.set_y(this.get_height()*-this.scrollTransform.ty/this.content.get_height())):(this.scrollbar.set_height(0),this.scrollbar.set_y(0))):(this.scrollbar.set_y(this.get_height()-this.scrollbar.get_height()*(1-this.scrollbar.anchorY)),0<this.content.get_width()?(this.scrollbar.set_width(Math.min(this.get_width(),this.get_width()*this.get_width()/this.content.get_width())),this.scrollbar.set_x(this.get_width()*-this.scrollTransform.tx/this.content.get_width())):(this.scrollbar.set_width(0),this.scrollbar.set_x(0))))},scrollbarDownX:null,scrollbarDownY:null,scrollbarStartX:null,scrollbarStartY:null,bindScrollbar:function(e){this.scrollbarDownX=-1,this.scrollbarDownY=-1,e.onPointerDown(this,$bind(this,this.handleScrollbarDown)),e.onPointerUp(this,$bind(this,this.handleScrollbarUp))},handleScrollbarDown:function(e){this.scrollEnabled&&(this.scrollbarStartX=this.scrollbar.x,this.scrollbarStartY=this.scrollbar.y,this.screenToVisual(e.x,e.y,Ht._point),this.scrollbarDownX=Ht._point.x,this.scrollbarDownY=Ht._point.y,ke.app.screen.offPointerMove($bind(this,this.handleScrollbarMove)),ke.app.screen.onPointerMove(this.scrollbar,$bind(this,this.handleScrollbarMove)))},handleScrollbarUp:function(e){ke.app.screen.offPointerMove($bind(this,this.handleScrollbarMove))},handleScrollbarMove:function(e){this.screenToVisual(e.x,e.y,Ht._point);var e=Ht._point.x-this.scrollbarDownX,n=Ht._point.y-this.scrollbarDownY;this.direction==Lt.VERTICAL?(n=(this.scrollbarStartY+n)*this.content.get_height()/this.get_height(),this.scrollTransform.ty!=-n&&(this.scrollTransform.ty=-n,this.scrollTransform.changedDirty=!0)):(n=(this.scrollbarStartX+e)*this.content.get_width()/this.get_width(),this.scrollTransform.tx!=-n&&(this.scrollTransform.tx=-n,this.scrollTransform.changedDirty=!0)),this.scrollToBounds()},scrollUpdate:function(e,n,t,i){switch(null==i&&(i=0),this.get_status()._hx_index){case 0:break;case 1:var l=Math.abs(e-this.pointerStartX),s=Math.abs(n-this.pointerStartY),r=0<this.noDragThreshold?this.noDragThreshold:this.dragThreshold;this.direction==Lt.VERTICAL?(l<s&&s>=Math.max(Ht.threshold,this.dragThreshold)&&!((0<this.noDragThreshold||s<l)&&r<=l)&&(this.set_status(Nt.DRAGGING),this.fromWheel=!1,this.pointerStart=n,this.scrollTransform.ty=this.contentStart+n-this.pointerStart,0<this.scrollTransform.tx?(this.scrollVelocity.reset(),h=Math.max(this.contentStart,0),this.pointerStart=this.contentStart+n-(h+(this.scrollTransform.ty-h)*this.overScrollResistance),this.scrollTransform.ty=h+(this.contentStart+n-this.pointerStart-h)/this.overScrollResistance):this.scrollTransform.tx<this.get_width()-this.content.get_width()&&(this.scrollVelocity.reset(),a=Math.min(this.contentStart,this.get_height()-this.content.get_height()),this.pointerStart=this.contentStart+n-(a+(this.scrollTransform.ty-a)*this.overScrollResistance),this.scrollTransform.ty=a+(this.contentStart+n-this.pointerStart-a)/this.overScrollResistance),this.scrollTransform.changedDirty=!0,ke.app.screen.set_focusedVisual(this)),this.scrollVelocity.add(n-this.pointerStart,i)):(s<l&&l>=Math.max(Ht.threshold,this.dragThreshold)&&!((0<this.noDragThreshold||l<s)&&r<=s)&&(this.set_status(Nt.DRAGGING),this.fromWheel=!1,this.pointerStart=e,this.scrollTransform.tx=this.contentStart+e-this.pointerStart,0<this.scrollTransform.tx?(this.scrollVelocity.reset(),o=Math.max(this.contentStart,0),this.pointerStart=this.contentStart+e-(o+(this.scrollTransform.tx-o)*this.overScrollResistance),this.scrollTransform.tx=o+(this.contentStart+e-this.pointerStart-o)/this.overScrollResistance):this.scrollTransform.tx<this.get_width()-this.content.get_width()&&(this.scrollVelocity.reset(),c=Math.min(this.contentStart,this.get_width()-this.content.get_width()),this.pointerStart=this.contentStart+e-(c+(this.scrollTransform.tx-c)*this.overScrollResistance),this.scrollTransform.tx=c+(this.contentStart+e-this.pointerStart-c)/this.overScrollResistance),this.scrollTransform.changedDirty=!0,ke.app.screen.set_focusedVisual(this)),this.scrollVelocity.add(e-this.pointerStart,i));break;case 2:var h,a,o,c;this.direction==Lt.VERTICAL?(e=this.pointerStart+(n-this.pointerStart)*this.dragFactor,this.scrollTransform.ty=this.contentStart+n-this.pointerStart,h=Math.max(this.contentStart,0),this.scrollTransform.ty>h?this.scrollTransform.ty=h+(this.scrollTransform.ty-h)/this.overScrollResistance:(a=Math.min(this.contentStart,this.get_height()-this.content.get_height()),this.scrollTransform.ty<a&&(this.scrollTransform.ty=a+(this.scrollTransform.ty-a)/this.overScrollResistance)),this.scrollTransform.changedDirty=!0,this.scrollVelocity.add(n-this.pointerStart,i)):(e=this.pointerStart+(e-this.pointerStart)*this.dragFactor,this.scrollTransform.tx=this.contentStart+e-this.pointerStart,o=Math.max(this.contentStart,0),this.scrollTransform.tx>o?this.scrollTransform.tx=o+(this.scrollTransform.tx-o)/this.overScrollResistance:(c=Math.min(this.contentStart,this.get_width()-this.content.get_width()),this.scrollTransform.tx<c&&(this.scrollTransform.tx=c+(this.scrollTransform.tx-c)/this.overScrollResistance)),this.scrollTransform.changedDirty=!0,this.scrollVelocity.add(e-this.pointerStart,i));break;case 3:l=0;this.direction==Lt.VERTICAL?this.animating||(this.pagingEnabled||0<this.scrollTransform.ty||this.scrollTransform.ty<this.get_height()-this.content.get_height()?this.bounceScroll():(l=this.fromWheel?Math.round(this.wheelDeceleration*ke.app.screen.height/(Z.app.screenHeight*Z.app.screenDensity)):Math.round(this.deceleration*ke.app.screen.height/(Z.app.screenHeight*Z.app.screenDensity)),this.scrollTransform.ty+=this.momentum*t,this.scrollTransform.changedDirty=!0)):this.animating||(this.pagingEnabled||0<this.scrollTransform.tx||this.scrollTransform.tx<this.get_width()-this.content.get_width()?this.bounceScroll():(l=this.fromWheel?Math.round(this.wheelDeceleration*ke.app.screen.width/(Z.app.screenWidth*Z.app.screenDensity)):Math.round(this.deceleration*ke.app.screen.width/(Z.app.screenWidth*Z.app.screenDensity)),this.scrollTransform.tx+=this.momentum*t,this.scrollTransform.changedDirty=!0)),0<this.momentum?this.momentum=Math.max(0,this.momentum-l*t):this.momentum<0?this.momentum=Math.min(0,this.momentum+l*t):0!=this.momentum||this.animating||this.set_status(Nt.IDLE)}},stop:function(){q.prototype.stop.call(this),this.set_status(Nt.IDLE),this.set_animating(!1),null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy()},stopTweens:function(){null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy()},scrollTo:function(e,n){this.stop(),this.scrollTransform.tx!=-e&&(this.scrollTransform.tx=-e,this.scrollTransform.changedDirty=!0),this.scrollTransform.ty!=-n&&(this.scrollTransform.ty=-n,this.scrollTransform.changedDirty=!0)},smoothScrollTo:function(e,n,t,i){null==t&&(t=.15);var l,s,r=this,h=(null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy(),this.momentum=0,!1);null==i&&(i=Nn.QUAD_EASE_IN_OUT),e!=-this.scrollTransform.tx&&(this.set_animating(!0),this.set_status(Nt.SCROLLING),h=!0,l=this.tween(i,t,-this.scrollTransform.tx,e,function(e,n){r.scrollTransform.tx!=-e&&(r.scrollTransform.tx=-e,r.scrollTransform.changedDirty=!0)}),(this.tweenX=l).onceComplete(this,function(){r.set_animating(!1),r.set_status(Nt.IDLE)}),l.onDestroy(this,function(e){r.tweenX==l&&(r.tweenX=null)})),n!=-this.scrollTransform.ty&&(this.set_animating(!0),this.set_status(Nt.SCROLLING),h=!0,s=this.tween(i,t,-this.scrollTransform.ty,n,function(e,n){r.scrollTransform.ty!=-e&&(r.scrollTransform.ty=-e,r.scrollTransform.changedDirty=!0)}),(this.tweenY=s).onceComplete(this,function(){r.set_animating(!1),r.set_status(Nt.IDLE)}),s.onDestroy(this,function(e){r.tweenY==s&&(r.tweenY=null)})),h||(this.set_animating(!1),this.set_status(Nt.IDLE))},snapTo:function(e,n,t,i){null==t&&(t=.15),this.momentum=0,this.set_animating(!0),null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy(),this.set_status(Nt.SCROLLING),0<t?this.smoothScrollTo(e,n,t,i):this.scrollTo(n,n)},bounceScroll:function(){var t,i,l,n,s,r,h,a,o,e,c,u,_,d,b,g=this,O=this.momentum;this.momentum=0,null!=this.tweenX&&this.tweenX.destroy(),null!=this.tweenY&&this.tweenY.destroy(),this.set_status(Nt.SCROLLING),this.direction==Lt.VERTICAL?(null!=this.tweenY&&this.tweenY.destroy(),!this.releaseSnap&&(0<O||O<0)?(c=Nn.LINEAR,t=Math.abs(-this.scrollTransform.ty-this.content.get_height()+this.get_height())<Math.abs(-this.scrollTransform.ty)?this.content.get_height()-this.get_height():0,i=-this.scrollTransform.ty-t,l=-this.scrollTransform.ty+O*this.bounceMomentumFactor-t,e=this.bounceMinDuration+Math.abs(O)*this.bounceDurationFactor,this.set_animating(!0),n=this.tween(c,e,0,1,function(e,n){e=e<=.5?(2*i*(1-2*e)+2*e*l)/2:l*(1-2*(e-.5))/2,e=t+e;g.scrollTransform.ty!=-e&&(g.scrollTransform.ty=-e,g.scrollTransform.changedDirty=!0)}),(this.tweenY=n).onceComplete(this,function(){g.set_animating(!1),g.set_status(Nt.IDLE)}),n.onDestroy(this,function(e){g.tweenY==n&&(g.tweenY=null)})):(e=this.bounceNoMomentumDuration,c=Nn.QUAD_EASE_OUT,u=-this.scrollTransform.ty,d=this.pagingEnabled?(_=this._computeTargetPageIndex(-this.scrollTransform.tx,-this.scrollTransform.ty,O,this.pageIndexOnStartDrag),this.getTargetScrollYForPageIndex(_)):!(this.content.get_height()<=this.get_height())&&Math.abs(-this.scrollTransform.ty-this.content.get_height()+this.get_height())<Math.abs(-this.scrollTransform.ty)?this.content.get_height()-this.get_height():0,this.set_animating(!0),s=this.tween(c,2*e,u,d,function(e,n){g.scrollTransform.ty!=-e&&(g.scrollTransform.ty=-e,g.scrollTransform.changedDirty=!0)}),(this.tweenY=s).onceComplete(this,function(){g.set_animating(!1),g.set_status(Nt.IDLE)}),s.onDestroy(this,function(e){g.tweenY==s&&(g.tweenY=null)}))):(null!=this.tweenX&&this.tweenX.destroy(),!this.releaseSnap&&(0<O||O<0)?(c=Nn.LINEAR,r=Math.abs(-this.scrollTransform.tx-this.content.get_width()+this.get_width())<Math.abs(-this.scrollTransform.tx)?this.content.get_width()-this.get_width():0,h=-this.scrollTransform.tx-r,a=-this.scrollTransform.tx+O*this.bounceMomentumFactor-r,e=this.bounceMinDuration+Math.abs(O)*this.bounceDurationFactor,o=this.tween(c,e,0,1,function(e,n){e=e<=.5?(2*h*(1-2*e)+2*e*a)/2:a*(1-2*(e-.5))/2,e=r+e;g.scrollTransform.tx!=-e&&(g.scrollTransform.tx=-e,g.scrollTransform.changedDirty=!0)}),(this.tweenX=o).onceComplete(this,function(){g.set_animating(!1),g.set_status(Nt.IDLE)}),o.onDestroy(this,function(e){g.tweenX==o&&(g.tweenX=null)})):(e=this.bounceNoMomentumDuration,c=Nn.QUAD_EASE_OUT,u=-this.scrollTransform.tx,d=this.pagingEnabled?(_=this._computeTargetPageIndex(-this.scrollTransform.tx,-this.scrollTransform.ty,O,this.pageIndexOnStartDrag),this.getTargetScrollXForPageIndex(_)):!(this.content.get_width()<=this.get_width())&&Math.abs(-this.scrollTransform.tx-this.content.get_width()+this.get_width())<Math.abs(-this.scrollTransform.tx)?this.content.get_width()-this.get_width():0,this.set_animating(!0),b=this.tween(c,2*e,u,d,function(e,n){g.scrollTransform.tx!=-e&&(g.scrollTransform.tx=-e,g.scrollTransform.changedDirty=!0)}),(this.tweenX=b).onceComplete(this,function(){g.set_animating(!1),g.set_status(Nt.IDLE)}),b.onDestroy(this,function(e){g.tweenX==b&&(g.tweenX=null)})))},pagingEnabled:null,pageSize:null,pageSpacing:null,pageMomentumThreshold:null,pageIndexOnStartDrag:null,pageIndexFromScroll:function(e,n){var n=this.direction==Lt.VERTICAL?n:e,e=0<this.pageSize?this.pageSize:this.direction==Lt.VERTICAL?this.get_height():this.get_width(),n=n/(e+this.pageSpacing),t=Math.floor(n);return t+(.5<=(n-t)*((e+this.pageSpacing)/e)?1:0)},_computeTargetPageIndex:function(e,n,t,i){e=this.pageIndexFromScroll(e,n),n=0<this.pageSize?this.pageSize:this.direction==Lt.VERTICAL?this.get_height():this.get_width();return t<=-n?e=i+1:n<=t&&(e=i-1),e},scrollToPageIndex:function(e){var n=-this.scrollTransform.tx,t=-this.scrollTransform.ty;this.direction==Lt.VERTICAL?t=this.getTargetScrollYForPageIndex(e):n=this.getTargetScrollXForPageIndex(e),this.scrollTo(n,t)},smoothScrollToPageIndex:function(e,n,t,i){null==i&&(i=!1),null==n&&(n=.15);var l=-this.scrollTransform.tx,s=-this.scrollTransform.ty;this.direction==Lt.VERTICAL?s=this.getTargetScrollYForPageIndex(e,i):l=this.getTargetScrollXForPageIndex(e,i),this.smoothScrollTo(l,s,n,t)},getTargetScrollXForPageIndex:function(e,n){return null==n&&(n=!1),this.direction==Lt.VERTICAL?-this.scrollTransform.tx:(e=e*((0<this.pageSize?this.pageSize:this.get_width())+this.pageSpacing),n||(this.content.get_width()-this.get_width()<e?e=this.content.get_width()-this.get_width():e<0&&(e=0)),e)},getTargetScrollYForPageIndex:function(e,n){return null==n&&(n=!1),this.direction==Lt.HORIZONTAL?-this.scrollTransform.ty:(e=e*((0<this.pageSize?this.pageSize:this.get_height())+this.pageSpacing),n||(this.content.get_height()-this.get_height()<e?e=this.content.get_height()-this.get_height():e<0&&(e=0)),e)},unbindEvents:function(){q.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange(),this.offAnimateStart(),this.offAnimateEnd(),this.offDragStart(),this.offDragEnd(),this.offWheelStart(),this.offWheelEnd(),this.offClick(),this.offScrollerPointerDown(),this.offScrollerPointerUp()},__class__:Ht,__properties__:$extend(q.prototype.__properties__,{set_animating:"set_animating",set_scrollY:"set_scrollY",get_scrollY:"get_scrollY",set_scrollX:"set_scrollX",get_scrollX:"get_scrollX",set_unobservedStatus:"set_unobservedStatus",set_status:"set_status",get_status:"get_status",set_roundScrollWhenIdle:"set_roundScrollWhenIdle",set_scrollEnabled:"set_scrollEnabled",set_scrollbar:"set_scrollbar"})}),en["ceramic.ScrollerStatus"]={__ename__:"ceramic.ScrollerStatus",__constructs__:null,IDLE:{_hx_name:"IDLE",_hx_index:0,__enum__:"ceramic.ScrollerStatus",toString:c},TOUCHING:{_hx_name:"TOUCHING",_hx_index:1,__enum__:"ceramic.ScrollerStatus",toString:c},DRAGGING:{_hx_name:"DRAGGING",_hx_index:2,__enum__:"ceramic.ScrollerStatus",toString:c},SCROLLING:{_hx_name:"SCROLLING",_hx_index:3,__enum__:"ceramic.ScrollerStatus",toString:c}}),Wt=(Nt.__constructs__=[Nt.IDLE,Nt.TOUCHING,Nt.DRAGGING,Nt.SCROLLING],function(e,n,t,i,l,s){null==s&&(s=1),null==l&&(l=1),null==i&&(i=0),null==t&&(t=0),this.initializerName=null,this.textCursorToggleVisibilityTime=1,this.textCursor=null,this.willUpdateSelection=!1,this.selectionBackgrounds=[],this.didDoubleClick=!1,this.doubleClick=null,this.boundContainer=null,this.unobservedPointerIsDown=!1,this.pointerIsDownAutoruns=null,this.unobservedInvertedSelection=!1,this.invertedSelectionAutoruns=null,this.unobservedSelectionEnd=-1,this.selectionEndAutoruns=null,this.unobservedSelectionStart=-1,this.selectionStartAutoruns=null,this.unobservedShowCursor=!1,this.showCursorAutoruns=null,this.unobservedAllowSelectingFromPointer=!1,this.allowSelectingFromPointerAutoruns=null,this.unobservedContainer=null,this.containerAutoruns=null,this.textCursorWidth=1,this.textCursorHeightFactor=1,this.textCursorOffsetY=0,this.textCursorOffsetX=0,this.observedDirty=!1,j.call(this),this.selectionColor=e,this.textCursorColor=n,this.textCursorOffsetX=t,this.textCursorOffsetY=i,this.textCursorHeightFactor=l,this.textCursorWidth=s}),zt=((E["ceramic.SelectText"]=Wt).__name__="ceramic.SelectText",Wt.__interfaces__=[u,b0],Wt.__super__=j,Wt.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnSelection:null,__cbOnceSelection:null,__cbOnOwnerUnbindSelection:null,__cbOnceOwnerUnbindSelection:null,emitSelection:function(e,n,t){var i=0;if(null!=this.__cbOnSelection&&(i+=this.__cbOnSelection.length),null!=this.__cbOnceSelection&&(i+=this.__cbOnceSelection.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnSelection)for(var h=0,a=this.__cbOnSelection.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnSelection[o],++r):--i}if(null!=this.__cbOnceSelection){for(var c=null,u=null,h=0,a=this.__cbOnceSelection.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceSelection[o],this.__cbOnceSelection[o]=null,_=this.__cbOnceOwnerUnbindSelection[o],(this.__cbOnceOwnerUnbindSelection[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindSelection[o]),u.push(this.__cbOnceSelection[o]))}this.__cbOnceOwnerUnbindSelection=c,this.__cbOnceSelection=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onSelection:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selection because owner is destroyed!");var l=function(e){null!=t&&(i.offSelection(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(null);null==this.__cbOnSelection&&(this.__cbOnSelection=[]),this.__cbOnSelection.push(t)},onceSelection:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selection because owner is destroyed!");var l=function(e){null!=t&&(i.offSelection(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(null);null==this.__cbOnceSelection&&(this.__cbOnceSelection=[]),this.__cbOnceSelection.push(t)},offSelection:function(e){if(null!=e){var n;null!=this.__cbOnSelection&&-1!=(n=this.__cbOnSelection.indexOf(e))&&(this.__cbOnSelection.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelection[n])&&s(),this.__cbOnOwnerUnbindSelection.splice(n,1)),null!=this.__cbOnceSelection&&-1!=(n=this.__cbOnceSelection.indexOf(e))&&(this.__cbOnceSelection.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelection[n])&&s(),this.__cbOnceOwnerUnbindSelection.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelection){for(var t=0,i=this.__cbOnOwnerUnbindSelection.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelection[l])&&s()}this.__cbOnOwnerUnbindSelection=null}if(null!=this.__cbOnceOwnerUnbindSelection){for(t=0,i=this.__cbOnceOwnerUnbindSelection.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelection[l])&&s()}this.__cbOnceOwnerUnbindSelection=null}this.__cbOnSelection=null,this.__cbOnceSelection=null}},listensSelection:function(){return null!=this.__cbOnSelection&&0<this.__cbOnSelection.length||null!=this.__cbOnceSelection&&0<this.__cbOnceSelection.length},entity:null,selectionColor:null,textCursorColor:null,textCursorOffsetX:null,textCursorOffsetY:null,textCursorHeightFactor:null,textCursorWidth:null,containerAutoruns:null,get_container:function(){var e,n,t=this.unobservedContainer;return null!=w.current&&(e=w.current,null!=(n=this.containerAutoruns)||(n=w.getAutorunArray(),null!=(this.containerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_container:function(e){var n=this.unobservedContainer;return n!=(this.unobservedContainer=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitContainerChange(e,n),null!=(n=this.containerAutoruns))&&(this.containerAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateContainer:function(){var e=this.unobservedContainer,e=(this.emitContainerChange(e,e),this.containerAutoruns);null!=e&&(this.containerAutoruns=null,w.invalidateAutorunArray(e))},unobservedContainer:null,__cbOnContainerChange:null,__cbOnceContainerChange:null,__cbOnOwnerUnbindContainerChange:null,__cbOnceOwnerUnbindContainerChange:null,emitContainerChange:function(e,n){var t=0;if(null!=this.__cbOnContainerChange&&(t+=this.__cbOnContainerChange.length),null!=this.__cbOnceContainerChange&&(t+=this.__cbOnceContainerChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnContainerChange)for(var r=0,h=this.__cbOnContainerChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnContainerChange[a],++s):--t}if(null!=this.__cbOnceContainerChange){for(var o=null,c=null,r=0,h=this.__cbOnceContainerChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceContainerChange[a],this.__cbOnceContainerChange[a]=null,u=this.__cbOnceOwnerUnbindContainerChange[a],(this.__cbOnceOwnerUnbindContainerChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindContainerChange[a]),c.push(this.__cbOnceContainerChange[a]))}this.__cbOnceOwnerUnbindContainerChange=o,this.__cbOnceContainerChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onContainerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event containerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContainerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindContainerChange&&(this.__cbOnOwnerUnbindContainerChange=[]),this.__cbOnOwnerUnbindContainerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindContainerChange&&(this.__cbOnOwnerUnbindContainerChange=[]),this.__cbOnOwnerUnbindContainerChange.push(null);null==this.__cbOnContainerChange&&(this.__cbOnContainerChange=[]),this.__cbOnContainerChange.push(t)},onceContainerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event containerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContainerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindContainerChange&&(this.__cbOnceOwnerUnbindContainerChange=[]),this.__cbOnceOwnerUnbindContainerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindContainerChange&&(this.__cbOnceOwnerUnbindContainerChange=[]),this.__cbOnceOwnerUnbindContainerChange.push(null);null==this.__cbOnceContainerChange&&(this.__cbOnceContainerChange=[]),this.__cbOnceContainerChange.push(t)},offContainerChange:function(e){if(null!=e){var n;null!=this.__cbOnContainerChange&&-1!=(n=this.__cbOnContainerChange.indexOf(e))&&(this.__cbOnContainerChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindContainerChange[n])&&s(),this.__cbOnOwnerUnbindContainerChange.splice(n,1)),null!=this.__cbOnceContainerChange&&-1!=(n=this.__cbOnceContainerChange.indexOf(e))&&(this.__cbOnceContainerChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindContainerChange[n])&&s(),this.__cbOnceOwnerUnbindContainerChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindContainerChange){for(var t=0,i=this.__cbOnOwnerUnbindContainerChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindContainerChange[l])&&s()}this.__cbOnOwnerUnbindContainerChange=null}if(null!=this.__cbOnceOwnerUnbindContainerChange){for(t=0,i=this.__cbOnceOwnerUnbindContainerChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindContainerChange[l])&&s()}this.__cbOnceOwnerUnbindContainerChange=null}this.__cbOnContainerChange=null,this.__cbOnceContainerChange=null}},listensContainerChange:function(){return null!=this.__cbOnContainerChange&&0<this.__cbOnContainerChange.length||null!=this.__cbOnceContainerChange&&0<this.__cbOnceContainerChange.length},allowSelectingFromPointerAutoruns:null,get_allowSelectingFromPointer:function(){var e,n,t=this.unobservedAllowSelectingFromPointer;return null!=w.current&&(e=w.current,null!=(n=this.allowSelectingFromPointerAutoruns)||(n=w.getAutorunArray(),null!=(this.allowSelectingFromPointerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_allowSelectingFromPointer:function(e){var n=this.unobservedAllowSelectingFromPointer;return n!=(this.unobservedAllowSelectingFromPointer=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitAllowSelectingFromPointerChange(e,n),null!=(n=this.allowSelectingFromPointerAutoruns))&&(this.allowSelectingFromPointerAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateAllowSelectingFromPointer:function(){var e=this.unobservedAllowSelectingFromPointer,e=(this.emitAllowSelectingFromPointerChange(e,e),this.allowSelectingFromPointerAutoruns);null!=e&&(this.allowSelectingFromPointerAutoruns=null,w.invalidateAutorunArray(e))},unobservedAllowSelectingFromPointer:null,__cbOnAllowSelectingFromPointerChange:null,__cbOnceAllowSelectingFromPointerChange:null,__cbOnOwnerUnbindAllowSelectingFromPointerChange:null,__cbOnceOwnerUnbindAllowSelectingFromPointerChange:null,emitAllowSelectingFromPointerChange:function(e,n){var t=0;if(null!=this.__cbOnAllowSelectingFromPointerChange&&(t+=this.__cbOnAllowSelectingFromPointerChange.length),null!=this.__cbOnceAllowSelectingFromPointerChange&&(t+=this.__cbOnceAllowSelectingFromPointerChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnAllowSelectingFromPointerChange)for(var r=0,h=this.__cbOnAllowSelectingFromPointerChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnAllowSelectingFromPointerChange[a],++s):--t}if(null!=this.__cbOnceAllowSelectingFromPointerChange){for(var o=null,c=null,r=0,h=this.__cbOnceAllowSelectingFromPointerChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceAllowSelectingFromPointerChange[a],this.__cbOnceAllowSelectingFromPointerChange[a]=null,u=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[a],(this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[a]),c.push(this.__cbOnceAllowSelectingFromPointerChange[a]))}this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange=o,this.__cbOnceAllowSelectingFromPointerChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onAllowSelectingFromPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event allowSelectingFromPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAllowSelectingFromPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAllowSelectingFromPointerChange&&(this.__cbOnOwnerUnbindAllowSelectingFromPointerChange=[]),this.__cbOnOwnerUnbindAllowSelectingFromPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAllowSelectingFromPointerChange&&(this.__cbOnOwnerUnbindAllowSelectingFromPointerChange=[]),this.__cbOnOwnerUnbindAllowSelectingFromPointerChange.push(null);null==this.__cbOnAllowSelectingFromPointerChange&&(this.__cbOnAllowSelectingFromPointerChange=[]),this.__cbOnAllowSelectingFromPointerChange.push(t)},onceAllowSelectingFromPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event allowSelectingFromPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAllowSelectingFromPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange&&(this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange=[]),this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange&&(this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange=[]),this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange.push(null);null==this.__cbOnceAllowSelectingFromPointerChange&&(this.__cbOnceAllowSelectingFromPointerChange=[]),this.__cbOnceAllowSelectingFromPointerChange.push(t)},offAllowSelectingFromPointerChange:function(e){if(null!=e){var n;null!=this.__cbOnAllowSelectingFromPointerChange&&-1!=(n=this.__cbOnAllowSelectingFromPointerChange.indexOf(e))&&(this.__cbOnAllowSelectingFromPointerChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAllowSelectingFromPointerChange[n])&&s(),this.__cbOnOwnerUnbindAllowSelectingFromPointerChange.splice(n,1)),null!=this.__cbOnceAllowSelectingFromPointerChange&&-1!=(n=this.__cbOnceAllowSelectingFromPointerChange.indexOf(e))&&(this.__cbOnceAllowSelectingFromPointerChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[n])&&s(),this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAllowSelectingFromPointerChange){for(var t=0,i=this.__cbOnOwnerUnbindAllowSelectingFromPointerChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAllowSelectingFromPointerChange[l])&&s()}this.__cbOnOwnerUnbindAllowSelectingFromPointerChange=null}if(null!=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange){for(t=0,i=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange[l])&&s()}this.__cbOnceOwnerUnbindAllowSelectingFromPointerChange=null}this.__cbOnAllowSelectingFromPointerChange=null,this.__cbOnceAllowSelectingFromPointerChange=null}},listensAllowSelectingFromPointerChange:function(){return null!=this.__cbOnAllowSelectingFromPointerChange&&0<this.__cbOnAllowSelectingFromPointerChange.length||null!=this.__cbOnceAllowSelectingFromPointerChange&&0<this.__cbOnceAllowSelectingFromPointerChange.length},showCursorAutoruns:null,get_showCursor:function(){var e,n,t=this.unobservedShowCursor;return null!=w.current&&(e=w.current,null!=(n=this.showCursorAutoruns)||(n=w.getAutorunArray(),null!=(this.showCursorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_showCursor:function(e){var n=this.unobservedShowCursor;return n!=(this.unobservedShowCursor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitShowCursorChange(e,n),null!=(n=this.showCursorAutoruns))&&(this.showCursorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateShowCursor:function(){var e=this.unobservedShowCursor,e=(this.emitShowCursorChange(e,e),this.showCursorAutoruns);null!=e&&(this.showCursorAutoruns=null,w.invalidateAutorunArray(e))},unobservedShowCursor:null,__cbOnShowCursorChange:null,__cbOnceShowCursorChange:null,__cbOnOwnerUnbindShowCursorChange:null,__cbOnceOwnerUnbindShowCursorChange:null,emitShowCursorChange:function(e,n){var t=0;if(null!=this.__cbOnShowCursorChange&&(t+=this.__cbOnShowCursorChange.length),null!=this.__cbOnceShowCursorChange&&(t+=this.__cbOnceShowCursorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnShowCursorChange)for(var r=0,h=this.__cbOnShowCursorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnShowCursorChange[a],++s):--t}if(null!=this.__cbOnceShowCursorChange){for(var o=null,c=null,r=0,h=this.__cbOnceShowCursorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceShowCursorChange[a],this.__cbOnceShowCursorChange[a]=null,u=this.__cbOnceOwnerUnbindShowCursorChange[a],(this.__cbOnceOwnerUnbindShowCursorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindShowCursorChange[a]),c.push(this.__cbOnceShowCursorChange[a]))}this.__cbOnceOwnerUnbindShowCursorChange=o,this.__cbOnceShowCursorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onShowCursorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event showCursorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShowCursorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindShowCursorChange&&(this.__cbOnOwnerUnbindShowCursorChange=[]),this.__cbOnOwnerUnbindShowCursorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindShowCursorChange&&(this.__cbOnOwnerUnbindShowCursorChange=[]),this.__cbOnOwnerUnbindShowCursorChange.push(null);null==this.__cbOnShowCursorChange&&(this.__cbOnShowCursorChange=[]),this.__cbOnShowCursorChange.push(t)},onceShowCursorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event showCursorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShowCursorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindShowCursorChange&&(this.__cbOnceOwnerUnbindShowCursorChange=[]),this.__cbOnceOwnerUnbindShowCursorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindShowCursorChange&&(this.__cbOnceOwnerUnbindShowCursorChange=[]),this.__cbOnceOwnerUnbindShowCursorChange.push(null);null==this.__cbOnceShowCursorChange&&(this.__cbOnceShowCursorChange=[]),this.__cbOnceShowCursorChange.push(t)},offShowCursorChange:function(e){if(null!=e){var n;null!=this.__cbOnShowCursorChange&&-1!=(n=this.__cbOnShowCursorChange.indexOf(e))&&(this.__cbOnShowCursorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindShowCursorChange[n])&&s(),this.__cbOnOwnerUnbindShowCursorChange.splice(n,1)),null!=this.__cbOnceShowCursorChange&&-1!=(n=this.__cbOnceShowCursorChange.indexOf(e))&&(this.__cbOnceShowCursorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindShowCursorChange[n])&&s(),this.__cbOnceOwnerUnbindShowCursorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindShowCursorChange){for(var t=0,i=this.__cbOnOwnerUnbindShowCursorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindShowCursorChange[l])&&s()}this.__cbOnOwnerUnbindShowCursorChange=null}if(null!=this.__cbOnceOwnerUnbindShowCursorChange){for(t=0,i=this.__cbOnceOwnerUnbindShowCursorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindShowCursorChange[l])&&s()}this.__cbOnceOwnerUnbindShowCursorChange=null}this.__cbOnShowCursorChange=null,this.__cbOnceShowCursorChange=null}},listensShowCursorChange:function(){return null!=this.__cbOnShowCursorChange&&0<this.__cbOnShowCursorChange.length||null!=this.__cbOnceShowCursorChange&&0<this.__cbOnceShowCursorChange.length},selectionStartAutoruns:null,get_selectionStart:function(){var e,n,t=this.unobservedSelectionStart;return null!=w.current&&(e=w.current,null!=(n=this.selectionStartAutoruns)||(n=w.getAutorunArray(),null!=(this.selectionStartAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectionStart:function(e){var n=this.unobservedSelectionStart;return n!=(this.unobservedSelectionStart=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectionStartChange(e,n),null!=(n=this.selectionStartAutoruns))&&(this.selectionStartAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateSelectionStart:function(){var e=this.unobservedSelectionStart,e=(this.emitSelectionStartChange(e,e),this.selectionStartAutoruns);null!=e&&(this.selectionStartAutoruns=null,w.invalidateAutorunArray(e))},unobservedSelectionStart:null,__cbOnSelectionStartChange:null,__cbOnceSelectionStartChange:null,__cbOnOwnerUnbindSelectionStartChange:null,__cbOnceOwnerUnbindSelectionStartChange:null,emitSelectionStartChange:function(e,n){var t=0;if(null!=this.__cbOnSelectionStartChange&&(t+=this.__cbOnSelectionStartChange.length),null!=this.__cbOnceSelectionStartChange&&(t+=this.__cbOnceSelectionStartChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelectionStartChange)for(var r=0,h=this.__cbOnSelectionStartChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSelectionStartChange[a],++s):--t}if(null!=this.__cbOnceSelectionStartChange){for(var o=null,c=null,r=0,h=this.__cbOnceSelectionStartChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSelectionStartChange[a],this.__cbOnceSelectionStartChange[a]=null,u=this.__cbOnceOwnerUnbindSelectionStartChange[a],(this.__cbOnceOwnerUnbindSelectionStartChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectionStartChange[a]),c.push(this.__cbOnceSelectionStartChange[a]))}this.__cbOnceOwnerUnbindSelectionStartChange=o,this.__cbOnceSelectionStartChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSelectionStartChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selectionStartChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionStartChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectionStartChange&&(this.__cbOnOwnerUnbindSelectionStartChange=[]),this.__cbOnOwnerUnbindSelectionStartChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectionStartChange&&(this.__cbOnOwnerUnbindSelectionStartChange=[]),this.__cbOnOwnerUnbindSelectionStartChange.push(null);null==this.__cbOnSelectionStartChange&&(this.__cbOnSelectionStartChange=[]),this.__cbOnSelectionStartChange.push(t)},onceSelectionStartChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selectionStartChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionStartChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectionStartChange&&(this.__cbOnceOwnerUnbindSelectionStartChange=[]),this.__cbOnceOwnerUnbindSelectionStartChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectionStartChange&&(this.__cbOnceOwnerUnbindSelectionStartChange=[]),this.__cbOnceOwnerUnbindSelectionStartChange.push(null);null==this.__cbOnceSelectionStartChange&&(this.__cbOnceSelectionStartChange=[]),this.__cbOnceSelectionStartChange.push(t)},offSelectionStartChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectionStartChange&&-1!=(n=this.__cbOnSelectionStartChange.indexOf(e))&&(this.__cbOnSelectionStartChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelectionStartChange[n])&&s(),this.__cbOnOwnerUnbindSelectionStartChange.splice(n,1)),null!=this.__cbOnceSelectionStartChange&&-1!=(n=this.__cbOnceSelectionStartChange.indexOf(e))&&(this.__cbOnceSelectionStartChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelectionStartChange[n])&&s(),this.__cbOnceOwnerUnbindSelectionStartChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectionStartChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectionStartChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelectionStartChange[l])&&s()}this.__cbOnOwnerUnbindSelectionStartChange=null}if(null!=this.__cbOnceOwnerUnbindSelectionStartChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectionStartChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelectionStartChange[l])&&s()}this.__cbOnceOwnerUnbindSelectionStartChange=null}this.__cbOnSelectionStartChange=null,this.__cbOnceSelectionStartChange=null}},listensSelectionStartChange:function(){return null!=this.__cbOnSelectionStartChange&&0<this.__cbOnSelectionStartChange.length||null!=this.__cbOnceSelectionStartChange&&0<this.__cbOnceSelectionStartChange.length},selectionEndAutoruns:null,get_selectionEnd:function(){var e,n,t=this.unobservedSelectionEnd;return null!=w.current&&(e=w.current,null!=(n=this.selectionEndAutoruns)||(n=w.getAutorunArray(),null!=(this.selectionEndAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectionEnd:function(e){var n=this.unobservedSelectionEnd;return n!=(this.unobservedSelectionEnd=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectionEndChange(e,n),null!=(n=this.selectionEndAutoruns))&&(this.selectionEndAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateSelectionEnd:function(){var e=this.unobservedSelectionEnd,e=(this.emitSelectionEndChange(e,e),this.selectionEndAutoruns);null!=e&&(this.selectionEndAutoruns=null,w.invalidateAutorunArray(e))},unobservedSelectionEnd:null,__cbOnSelectionEndChange:null,__cbOnceSelectionEndChange:null,__cbOnOwnerUnbindSelectionEndChange:null,__cbOnceOwnerUnbindSelectionEndChange:null,emitSelectionEndChange:function(e,n){var t=0;if(null!=this.__cbOnSelectionEndChange&&(t+=this.__cbOnSelectionEndChange.length),null!=this.__cbOnceSelectionEndChange&&(t+=this.__cbOnceSelectionEndChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelectionEndChange)for(var r=0,h=this.__cbOnSelectionEndChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSelectionEndChange[a],++s):--t}if(null!=this.__cbOnceSelectionEndChange){for(var o=null,c=null,r=0,h=this.__cbOnceSelectionEndChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSelectionEndChange[a],this.__cbOnceSelectionEndChange[a]=null,u=this.__cbOnceOwnerUnbindSelectionEndChange[a],(this.__cbOnceOwnerUnbindSelectionEndChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectionEndChange[a]),c.push(this.__cbOnceSelectionEndChange[a]))}this.__cbOnceOwnerUnbindSelectionEndChange=o,this.__cbOnceSelectionEndChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSelectionEndChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selectionEndChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionEndChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectionEndChange&&(this.__cbOnOwnerUnbindSelectionEndChange=[]),this.__cbOnOwnerUnbindSelectionEndChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectionEndChange&&(this.__cbOnOwnerUnbindSelectionEndChange=[]),this.__cbOnOwnerUnbindSelectionEndChange.push(null);null==this.__cbOnSelectionEndChange&&(this.__cbOnSelectionEndChange=[]),this.__cbOnSelectionEndChange.push(t)},onceSelectionEndChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selectionEndChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionEndChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectionEndChange&&(this.__cbOnceOwnerUnbindSelectionEndChange=[]),this.__cbOnceOwnerUnbindSelectionEndChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectionEndChange&&(this.__cbOnceOwnerUnbindSelectionEndChange=[]),this.__cbOnceOwnerUnbindSelectionEndChange.push(null);null==this.__cbOnceSelectionEndChange&&(this.__cbOnceSelectionEndChange=[]),this.__cbOnceSelectionEndChange.push(t)},offSelectionEndChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectionEndChange&&-1!=(n=this.__cbOnSelectionEndChange.indexOf(e))&&(this.__cbOnSelectionEndChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelectionEndChange[n])&&s(),this.__cbOnOwnerUnbindSelectionEndChange.splice(n,1)),null!=this.__cbOnceSelectionEndChange&&-1!=(n=this.__cbOnceSelectionEndChange.indexOf(e))&&(this.__cbOnceSelectionEndChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelectionEndChange[n])&&s(),this.__cbOnceOwnerUnbindSelectionEndChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectionEndChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectionEndChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelectionEndChange[l])&&s()}this.__cbOnOwnerUnbindSelectionEndChange=null}if(null!=this.__cbOnceOwnerUnbindSelectionEndChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectionEndChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelectionEndChange[l])&&s()}this.__cbOnceOwnerUnbindSelectionEndChange=null}this.__cbOnSelectionEndChange=null,this.__cbOnceSelectionEndChange=null}},listensSelectionEndChange:function(){return null!=this.__cbOnSelectionEndChange&&0<this.__cbOnSelectionEndChange.length||null!=this.__cbOnceSelectionEndChange&&0<this.__cbOnceSelectionEndChange.length},invertedSelectionAutoruns:null,get_invertedSelection:function(){var e,n,t=this.unobservedInvertedSelection;return null!=w.current&&(e=w.current,null!=(n=this.invertedSelectionAutoruns)||(n=w.getAutorunArray(),null!=(this.invertedSelectionAutoruns=n)))&&e.bindToAutorunArray(n),t},set_invertedSelection:function(e){var n=this.unobservedInvertedSelection;return n!=(this.unobservedInvertedSelection=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInvertedSelectionChange(e,n),null!=(n=this.invertedSelectionAutoruns))&&(this.invertedSelectionAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateInvertedSelection:function(){var e=this.unobservedInvertedSelection,e=(this.emitInvertedSelectionChange(e,e),this.invertedSelectionAutoruns);null!=e&&(this.invertedSelectionAutoruns=null,w.invalidateAutorunArray(e))},unobservedInvertedSelection:null,__cbOnInvertedSelectionChange:null,__cbOnceInvertedSelectionChange:null,__cbOnOwnerUnbindInvertedSelectionChange:null,__cbOnceOwnerUnbindInvertedSelectionChange:null,emitInvertedSelectionChange:function(e,n){var t=0;if(null!=this.__cbOnInvertedSelectionChange&&(t+=this.__cbOnInvertedSelectionChange.length),null!=this.__cbOnceInvertedSelectionChange&&(t+=this.__cbOnceInvertedSelectionChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInvertedSelectionChange)for(var r=0,h=this.__cbOnInvertedSelectionChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInvertedSelectionChange[a],++s):--t}if(null!=this.__cbOnceInvertedSelectionChange){for(var o=null,c=null,r=0,h=this.__cbOnceInvertedSelectionChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInvertedSelectionChange[a],this.__cbOnceInvertedSelectionChange[a]=null,u=this.__cbOnceOwnerUnbindInvertedSelectionChange[a],(this.__cbOnceOwnerUnbindInvertedSelectionChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInvertedSelectionChange[a]),c.push(this.__cbOnceInvertedSelectionChange[a]))}this.__cbOnceOwnerUnbindInvertedSelectionChange=o,this.__cbOnceInvertedSelectionChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInvertedSelectionChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event invertedSelectionChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInvertedSelectionChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInvertedSelectionChange&&(this.__cbOnOwnerUnbindInvertedSelectionChange=[]),this.__cbOnOwnerUnbindInvertedSelectionChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInvertedSelectionChange&&(this.__cbOnOwnerUnbindInvertedSelectionChange=[]),this.__cbOnOwnerUnbindInvertedSelectionChange.push(null);null==this.__cbOnInvertedSelectionChange&&(this.__cbOnInvertedSelectionChange=[]),this.__cbOnInvertedSelectionChange.push(t)},onceInvertedSelectionChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event invertedSelectionChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInvertedSelectionChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInvertedSelectionChange&&(this.__cbOnceOwnerUnbindInvertedSelectionChange=[]),this.__cbOnceOwnerUnbindInvertedSelectionChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInvertedSelectionChange&&(this.__cbOnceOwnerUnbindInvertedSelectionChange=[]),this.__cbOnceOwnerUnbindInvertedSelectionChange.push(null);null==this.__cbOnceInvertedSelectionChange&&(this.__cbOnceInvertedSelectionChange=[]),this.__cbOnceInvertedSelectionChange.push(t)},offInvertedSelectionChange:function(e){if(null!=e){var n;null!=this.__cbOnInvertedSelectionChange&&-1!=(n=this.__cbOnInvertedSelectionChange.indexOf(e))&&(this.__cbOnInvertedSelectionChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInvertedSelectionChange[n])&&s(),this.__cbOnOwnerUnbindInvertedSelectionChange.splice(n,1)),null!=this.__cbOnceInvertedSelectionChange&&-1!=(n=this.__cbOnceInvertedSelectionChange.indexOf(e))&&(this.__cbOnceInvertedSelectionChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInvertedSelectionChange[n])&&s(),this.__cbOnceOwnerUnbindInvertedSelectionChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInvertedSelectionChange){for(var t=0,i=this.__cbOnOwnerUnbindInvertedSelectionChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInvertedSelectionChange[l])&&s()}this.__cbOnOwnerUnbindInvertedSelectionChange=null}if(null!=this.__cbOnceOwnerUnbindInvertedSelectionChange){for(t=0,i=this.__cbOnceOwnerUnbindInvertedSelectionChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInvertedSelectionChange[l])&&s()}this.__cbOnceOwnerUnbindInvertedSelectionChange=null}this.__cbOnInvertedSelectionChange=null,this.__cbOnceInvertedSelectionChange=null}},listensInvertedSelectionChange:function(){return null!=this.__cbOnInvertedSelectionChange&&0<this.__cbOnInvertedSelectionChange.length||null!=this.__cbOnceInvertedSelectionChange&&0<this.__cbOnceInvertedSelectionChange.length},pointerIsDownAutoruns:null,get_pointerIsDown:function(){var e,n,t=this.unobservedPointerIsDown;return null!=w.current&&(e=w.current,null!=(n=this.pointerIsDownAutoruns)||(n=w.getAutorunArray(),null!=(this.pointerIsDownAutoruns=n)))&&e.bindToAutorunArray(n),t},set_pointerIsDown:function(e){var n=this.unobservedPointerIsDown;return n!=(this.unobservedPointerIsDown=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPointerIsDownChange(e,n),null!=(n=this.pointerIsDownAutoruns))&&(this.pointerIsDownAutoruns=null,w.invalidateAutorunArray(n)),e},invalidatePointerIsDown:function(){var e=this.unobservedPointerIsDown,e=(this.emitPointerIsDownChange(e,e),this.pointerIsDownAutoruns);null!=e&&(this.pointerIsDownAutoruns=null,w.invalidateAutorunArray(e))},unobservedPointerIsDown:null,__cbOnPointerIsDownChange:null,__cbOncePointerIsDownChange:null,__cbOnOwnerUnbindPointerIsDownChange:null,__cbOnceOwnerUnbindPointerIsDownChange:null,emitPointerIsDownChange:function(e,n){var t=0;if(null!=this.__cbOnPointerIsDownChange&&(t+=this.__cbOnPointerIsDownChange.length),null!=this.__cbOncePointerIsDownChange&&(t+=this.__cbOncePointerIsDownChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPointerIsDownChange)for(var r=0,h=this.__cbOnPointerIsDownChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPointerIsDownChange[a],++s):--t}if(null!=this.__cbOncePointerIsDownChange){for(var o=null,c=null,r=0,h=this.__cbOncePointerIsDownChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePointerIsDownChange[a],this.__cbOncePointerIsDownChange[a]=null,u=this.__cbOnceOwnerUnbindPointerIsDownChange[a],(this.__cbOnceOwnerUnbindPointerIsDownChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPointerIsDownChange[a]),c.push(this.__cbOncePointerIsDownChange[a]))}this.__cbOnceOwnerUnbindPointerIsDownChange=o,this.__cbOncePointerIsDownChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPointerIsDownChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerIsDownChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerIsDownChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPointerIsDownChange&&(this.__cbOnOwnerUnbindPointerIsDownChange=[]),this.__cbOnOwnerUnbindPointerIsDownChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPointerIsDownChange&&(this.__cbOnOwnerUnbindPointerIsDownChange=[]),this.__cbOnOwnerUnbindPointerIsDownChange.push(null);null==this.__cbOnPointerIsDownChange&&(this.__cbOnPointerIsDownChange=[]),this.__cbOnPointerIsDownChange.push(t)},oncePointerIsDownChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pointerIsDownChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPointerIsDownChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPointerIsDownChange&&(this.__cbOnceOwnerUnbindPointerIsDownChange=[]),this.__cbOnceOwnerUnbindPointerIsDownChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPointerIsDownChange&&(this.__cbOnceOwnerUnbindPointerIsDownChange=[]),this.__cbOnceOwnerUnbindPointerIsDownChange.push(null);null==this.__cbOncePointerIsDownChange&&(this.__cbOncePointerIsDownChange=[]),this.__cbOncePointerIsDownChange.push(t)},offPointerIsDownChange:function(e){if(null!=e){var n;null!=this.__cbOnPointerIsDownChange&&-1!=(n=this.__cbOnPointerIsDownChange.indexOf(e))&&(this.__cbOnPointerIsDownChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPointerIsDownChange[n])&&s(),this.__cbOnOwnerUnbindPointerIsDownChange.splice(n,1)),null!=this.__cbOncePointerIsDownChange&&-1!=(n=this.__cbOncePointerIsDownChange.indexOf(e))&&(this.__cbOncePointerIsDownChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPointerIsDownChange[n])&&s(),this.__cbOnceOwnerUnbindPointerIsDownChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerIsDownChange){for(var t=0,i=this.__cbOnOwnerUnbindPointerIsDownChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPointerIsDownChange[l])&&s()}this.__cbOnOwnerUnbindPointerIsDownChange=null}if(null!=this.__cbOnceOwnerUnbindPointerIsDownChange){for(t=0,i=this.__cbOnceOwnerUnbindPointerIsDownChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPointerIsDownChange[l])&&s()}this.__cbOnceOwnerUnbindPointerIsDownChange=null}this.__cbOnPointerIsDownChange=null,this.__cbOncePointerIsDownChange=null}},listensPointerIsDownChange:function(){return null!=this.__cbOnPointerIsDownChange&&0<this.__cbOnPointerIsDownChange.length||null!=this.__cbOncePointerIsDownChange&&0<this.__cbOncePointerIsDownChange.length},boundContainer:null,doubleClick:null,didDoubleClick:null,selectionBackgrounds:null,willUpdateSelection:null,textCursor:null,textCursorToggleVisibilityTime:null,bindAsComponent:function(){var t=this;this.entity.onGlyphQuadsChange(this,$bind(this,this.updateSelectionGraphics)),ke.app.onUpdate(this,$bind(this,this.updateCursorVisibility)),this.onShowCursorChange(this,$bind(this,this.handleShowCursorChange)),this.autorun($bind(this,this.updateFromSelection)),this.autorun($bind(this,this.updatePointerEventBindings)),this.onSelectionStartChange(this,function(e,n){t.updateSelectionGraphics()}),this.onSelectionEndChange(this,function(e,n){t.updateSelectionGraphics()}),this.bindKeyBindings()},updateFromSelection:function(){var e=this.get_selectionStart(),n=this.get_selectionEnd(),t=this.get_invertedSelection();w.unobserve(),this.emitSelection(e,n,t),this.resetCursorVisibility(),this.updateSelectionGraphics(),w.reobserve()},updateSelectionGraphics:function(){this.willUpdateSelection||(this.willUpdateSelection=!0,ke.app._onceImmediate($bind(this,this.doUpdateSelectionGraphics)))},doUpdateSelectionGraphics:function(){var n=this;if(this.willUpdateSelection=!1,-1==this.get_selectionStart()||-1==this.get_selectionEnd())this.clearSelectionGraphics();else{var e,t=this.entity.glyphQuads,i=-1,l=-1,s=-1,h=-1,a=-1,o=-1,c=Math.round(.1*this.entity.pointSize),u=Math.round(this.entity.pointSize*(this.textCursorHeightFactor-.8)),_=Math.ceil(this.entity.pointSize),d=this.textCursorWidth,b=Math.ceil(this.entity.pointSize),g=this.entity.lineHeight*this.entity.font.fontData.lineHeight*this.entity.pointSize/this.entity.font.fontData.pointSize,O=.4*this.entity.pointSize;if(this.get_selectionEnd()>this.get_selectionStart()){null!=this.textCursor&&(this.textCursor.destroy(),this.textCursor=null);for(var f=0,p=t.length;f<p;){var C,v,m,w=(D=t[U=f++]).index,y=D.line;this.get_selectionEnd()>this.get_selectionStart()&&(-1==l&&w>=this.get_selectionStart()&&(0<U&&w>this.get_selectionStart()&&0==D.posInLine?(m=t[U-1],v=this.entity.lineForIndex(this.get_selectionStart()),C=this.entity.lineForIndex(this.get_selectionEnd()),D.line,v<C&&v==m.line&&(l=y-1,s=m.glyphX+m.glyphAdvance,a=m.glyphX+m.glyphAdvance+O,h=m.glyphY,o=m.glyphY+_,++i,null==(C=[n.selectionBackgrounds[i]])[0]&&(C[0]=new r,n.selectionBackgrounds[i]=C[0],C[0].set_depth(-1),n.entity.add(C[0]),C[0].autorun(function(e){return function(){e[0].color=n.selectionColor}}(C))),0==s?(A=h-c+n.textCursorOffsetY,C[0].set_x(s-c+n.textCursorOffsetX),C[0].set_y(A),C[0].set_width(a+c-s+1)):(k=h-c+n.textCursorOffsetY,C[0].set_x(s+n.textCursorOffsetX),C[0].set_y(k),C[0].set_width(a-s+1)),C[0].set_height(o+2*c-h)),l=-1,w>=this.get_selectionStart()&&w<this.get_selectionEnd()&&(l=y,s=D.glyphX,a=0,h=D.glyphY,o=D.glyphY+_)):w<=this.get_selectionEnd()&&(l=y,s=D.glyphX,a=D.glyphX+D.glyphAdvance,h=D.glyphY,o=D.glyphY+_)),-1!=l)&&(l<y||w>=this.get_selectionEnd()?(0<U&&0==D.posInLine&&this.get_selectionEnd()-1>t[U-1].index&&(a=(v=t[U-1]).glyphX+v.glyphAdvance+O),++i,null==(m=[n.selectionBackgrounds[i]])[0]&&(m[0]=new r,n.selectionBackgrounds[i]=m[0],m[0].set_depth(-1),n.entity.add(m[0]),m[0].autorun(function(e){return function(){e[0].color=n.selectionColor}}(m))),0==s?(M=h-c+n.textCursorOffsetY,m[0].set_x(s-c+n.textCursorOffsetX),m[0].set_y(M),m[0].set_width(a+c-s+1)):(T=h-c+n.textCursorOffsetY,m[0].set_x(s+n.textCursorOffsetX),m[0].set_y(T),m[0].set_width(a-s+1)),m[0].set_height(o+2*c-h),l=-1,w>=this.get_selectionStart()&&w<this.get_selectionEnd()&&(l=y,s=D.glyphX,a=D.glyphX+D.glyphAdvance,h=D.glyphY,o=D.glyphY+_)):(h=Math.min(h,D.glyphY),a=D.glyphX+D.glyphAdvance,o=Math.max(o,D.glyphY+_)))}}else for(var U,D,T,x,f=0,p=t.length;f<p;){if((w=(D=t[U=f++]).index)==this.get_selectionStart()-1){null==n.textCursor&&(n.textCursor=new r,n.textCursor.autorun(function(){n.textCursor.color=n.textCursorColor}),n.textCursor.set_depth(0),n.entity.add(n.textCursor));var S=this.textCursor,A=D.glyphY-u+this.textCursorOffsetY,S=(S.set_x(D.glyphX+D.glyphAdvance+this.textCursorOffsetX),S.set_y(A),this.textCursor);S.set_width(d),S.set_height(b+2*u);break}if(w>=this.get_selectionStart()){null==n.textCursor&&(n.textCursor=new r,n.textCursor.autorun(function(){n.textCursor.color=n.textCursorColor}),n.textCursor.set_depth(0),n.entity.add(n.textCursor));for(var S=this.textCursor,k=D.glyphY-.5*u+this.textCursorOffsetY,I=(S.set_x(D.glyphX+this.textCursorOffsetX),S.set_y(k),this.textCursor),P=(I.set_width(d),I.set_height(b+2*u),D.line),F=this.entity.lineForIndex(this.get_selectionStart());F<P;){var B=this.textCursor,M=this.textCursor.y-g;B.set_x(0),B.set_y(M),--P}break}U==t.length-1&&(null==n.textCursor&&(n.textCursor=new r,n.textCursor.autorun(function(){n.textCursor.color=n.textCursorColor}),n.textCursor.set_depth(0),n.entity.add(n.textCursor)),I=this.textCursor,T=D.glyphY-.5*u+this.textCursorOffsetY,I.set_x(D.glyphX+D.glyphAdvance+this.textCursorOffsetX),I.set_y(T),(x=this.textCursor).set_width(d),x.set_height(b+2*u))}for(-1!=l&&(null==(e=n.selectionBackgrounds[++i])&&(e=new r,(n.selectionBackgrounds[i]=e).set_depth(-1),n.entity.add(e),e.autorun(function(){e.color=n.selectionColor})),0==s?(A=h-c+n.textCursorOffsetY,e.set_x(s-c+n.textCursorOffsetX),e.set_y(A),e.set_width(a+c-s+1)):(A=h-c+n.textCursorOffsetY,e.set_x(s+n.textCursorOffsetX),e.set_y(A),e.set_width(a-s+1)),e.set_height(o+2*c-h));i<this.selectionBackgrounds.length-1;)this.selectionBackgrounds.pop().destroy()}},clearSelectionGraphics:function(){for(null!=this.textCursor&&(this.textCursor.destroy(),this.textCursor=null);0<this.selectionBackgrounds.length;)this.selectionBackgrounds.pop().destroy()},handleShowCursorChange:function(e,n){this.resetCursorVisibility()},updateCursorVisibility:function(e){if(null!=this.textCursor)if(this.get_showCursor())if(this.get_pointerIsDown())this.resetCursorVisibility();else for(this.textCursorToggleVisibilityTime-=e;this.textCursorToggleVisibilityTime<=0;)this.textCursorToggleVisibilityTime+=.5,this.textCursor.set_visible(!this.textCursor.visible);else this.textCursor.set_visible(!1)},resetCursorVisibility:function(){this.textCursorToggleVisibilityTime=.5,null!=this.textCursor&&this.textCursor.set_visible(this.get_showCursor())},updatePointerEventBindings:function(){var e=this.get_container(),n=this.get_allowSelectingFromPointer();w.unobserve(),null!=this.boundContainer&&(this.boundContainer.offPointerDown($bind(this,this.handlePointerDown)),this.boundContainer.offPointerUp($bind(this,this.handlePointerUp)),this.boundContainer=null),this.entity.offPointerDown($bind(this,this.handlePointerDown)),this.entity.offPointerUp($bind(this,this.handlePointerUp)),null!=this.doubleClick&&(this.doubleClick.destroy(),this.doubleClick=null),n?(n=this.entity,null!=e&&(this.boundContainer=n=e),n.onPointerDown(this,$bind(this,this.handlePointerDown)),n.onPointerUp(this,$bind(this,this.handlePointerUp)),this.doubleClick=new I0,this.doubleClick.onDoubleClick(this,$bind(this,this.handleDoubleClick)),n.component("doubleClick",this.doubleClick)):(this.set_pointerIsDown(!1),ke.app.screen.offPointerMove($bind(this,this.handlePointerMove))),w.reobserve()},indexFromScreenPosition:function(e,n){this.entity.screenToVisual(e,n,Wt._point),e=Wt._point.x,n=Wt._point.y;n=this.entity.lineForYPosition(n),e=this.entity.posInLineForX(n,e);return this.entity.indexForPosInLine(n,e)},handlePointerDown:function(e){var n=ke.app.screen.pointerX,t=ke.app.screen.pointerY,n=this.indexFromScreenPosition(n,t);this.set_selectionStart(n),this.set_selectionEnd(n),this.set_invertedSelection(!1),this.resetCursorVisibility(),this.set_pointerIsDown(!0),ke.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove))},handlePointerMove:function(e){this.updateSelectionFromMovingPointer(ke.app.screen.pointerX,ke.app.screen.pointerY)},handlePointerUp:function(e){ke.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.get_pointerIsDown()&&(this.set_pointerIsDown(!1),this.didDoubleClick?this.didDoubleClick=!1:this.updateSelectionFromMovingPointer(ke.app.screen.pointerX,ke.app.screen.pointerY))},updateSelectionFromMovingPointer:function(e,n){e=this.indexFromScreenPosition(e,n);this.get_invertedSelection()?e>=this.get_selectionEnd()?(this.set_invertedSelection(!1),this.set_selectionStart(this.get_selectionEnd()),this.set_selectionEnd(e)):this.set_selectionStart(e):e<this.get_selectionStart()?(this.set_invertedSelection(!0),this.set_selectionEnd(this.get_selectionStart()),this.set_selectionStart(e)):this.set_selectionEnd(e),this.resetCursorVisibility()},isSelectionBoundChararacter:function(e){return""==z.trim(e)||-1!="/\\<>()[]{}-".indexOf(e)},handleDoubleClick:function(){this.didDoubleClick=!0;for(var e=this.indexFromScreenPosition(ke.app.screen.pointerX,ke.app.screen.pointerY),n=this.entity.content,t=n.length,i=e,l=null,s=!1;0<i&&(l=n.charAt(i-1),""!=z.trim(l))&&-1=="/\\<>()[]{}-".indexOf(l);)s=!0,--i;var r=s?e:e+1;if(null!=(l=n.charAt(e))&&""!=z.trim(l))for(;r<t&&(l=n.charAt(r),""!=z.trim(l))&&-1=="/\\<>()[]{}-".indexOf(l);)++r;t<r&&(r=t),this.set_invertedSelection(!1),this.set_selectionStart(i),this.set_selectionEnd(r)},bindKeyBindings:function(){var n=this,t=new mt;t.bind([vt.CMD_OR_CTRL,vt.KEY(99)],function(){var e;ke.app.screen.get_focusedVisual()!=n.entity||n.get_selectionEnd()-n.get_selectionStart()<=0||(e=n.entity.content.substring(n.get_selectionStart(),n.get_selectionEnd()),ke.app.backend.clipboard.setText(e))}),this.onDestroy(t,function(e){t.destroy(),t=null}),this.entity.component("selectText.keyBindings",t)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offContainerChange(),this.offAllowSelectingFromPointerChange(),this.offShowCursorChange(),this.offSelectionStartChange(),this.offSelectionEndChange(),this.offInvertedSelectionChange(),this.offPointerIsDownChange(),this.offSelection()},setEntity:function(e){e instanceof hi?this.entity=e:this.entity=null},getEntity:function(){return this.entity},initializerName:null,__class__:Wt,__properties__:$extend(j.prototype.__properties__,{set_pointerIsDown:"set_pointerIsDown",get_pointerIsDown:"get_pointerIsDown",set_invertedSelection:"set_invertedSelection",get_invertedSelection:"get_invertedSelection",set_selectionEnd:"set_selectionEnd",get_selectionEnd:"get_selectionEnd",set_selectionStart:"set_selectionStart",get_selectionStart:"get_selectionStart",set_showCursor:"set_showCursor",get_showCursor:"get_showCursor",set_allowSelectingFromPointer:"set_allowSelectingFromPointer",get_allowSelectingFromPointer:"get_allowSelectingFromPointer",set_container:"set_container",get_container:"get_container"})}),function(){this.defaultShader=Ss,this.defaultFont="font:RobotoMedium",this.backend={},this.assetsPath="assets",this.resizable=!1,this.antialiasing=0,this.appInfo=null,this.collections=null,this.orientation=0,this.unobservedPreventDefaultTouches=!1,this.preventDefaultTouchesAutoruns=null,this.unobservedPreventDefaultMouseWheel=!1,this.preventDefaultMouseWheelAutoruns=null,this.unobservedOverrideDelta=-1,this.overrideDeltaAutoruns=null,this.unobservedMaxDelta=.1,this.maxDeltaAutoruns=null,this.unobservedTargetFps=-1,this.targetFpsAutoruns=null,this.unobservedFullscreen=!1,this.fullscreenAutoruns=null,this.unobservedTitle="App",this.titleAutoruns=null,this.unobservedScaling=Vt.FIT,this.scalingAutoruns=null,this.unobservedBackground=0,this.backgroundAutoruns=null,this.unobservedTargetDensity=0,this.targetDensityAutoruns=null,this.unobservedWindowHeight=0,this.windowHeightAutoruns=null,this.unobservedWindowWidth=0,this.windowWidthAutoruns=null,this.unobservedTargetHeight=0,this.targetHeightAutoruns=null,this.unobservedTargetWidth=0,this.targetWidthAutoruns=null,this.observedDirty=!1}),Yt=((E["ceramic.Settings"]=zt).__name__="ceramic.Settings",zt.__interfaces__=[u],zt.prototype={__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,targetWidthAutoruns:null,get_targetWidth:function(){var e,n,t=this.unobservedTargetWidth;return null!=w.current&&(e=w.current,null!=(n=this.targetWidthAutoruns)||(n=w.getAutorunArray(),null!=(this.targetWidthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_targetWidth:function(e){var n=this.unobservedTargetWidth;return n!=(this.unobservedTargetWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetWidthChange(e,n),null!=(n=this.targetWidthAutoruns))&&(this.targetWidthAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTargetWidth:function(){var e=this.unobservedTargetWidth,e=(this.emitTargetWidthChange(e,e),this.targetWidthAutoruns);null!=e&&(this.targetWidthAutoruns=null,w.invalidateAutorunArray(e))},unobservedTargetWidth:null,__cbOnTargetWidthChange:null,__cbOnceTargetWidthChange:null,__cbOnOwnerUnbindTargetWidthChange:null,__cbOnceOwnerUnbindTargetWidthChange:null,emitTargetWidthChange:function(e,n){var t=0;if(null!=this.__cbOnTargetWidthChange&&(t+=this.__cbOnTargetWidthChange.length),null!=this.__cbOnceTargetWidthChange&&(t+=this.__cbOnceTargetWidthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTargetWidthChange)for(var r=0,h=this.__cbOnTargetWidthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTargetWidthChange[a],++s):--t}if(null!=this.__cbOnceTargetWidthChange){for(var o=null,c=null,r=0,h=this.__cbOnceTargetWidthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTargetWidthChange[a],this.__cbOnceTargetWidthChange[a]=null,u=this.__cbOnceOwnerUnbindTargetWidthChange[a],(this.__cbOnceOwnerUnbindTargetWidthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTargetWidthChange[a]),c.push(this.__cbOnceTargetWidthChange[a]))}this.__cbOnceOwnerUnbindTargetWidthChange=o,this.__cbOnceTargetWidthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTargetWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event targetWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTargetWidthChange&&(this.__cbOnOwnerUnbindTargetWidthChange=[]),this.__cbOnOwnerUnbindTargetWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTargetWidthChange&&(this.__cbOnOwnerUnbindTargetWidthChange=[]),this.__cbOnOwnerUnbindTargetWidthChange.push(null);null==this.__cbOnTargetWidthChange&&(this.__cbOnTargetWidthChange=[]),this.__cbOnTargetWidthChange.push(t)},onceTargetWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event targetWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTargetWidthChange&&(this.__cbOnceOwnerUnbindTargetWidthChange=[]),this.__cbOnceOwnerUnbindTargetWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTargetWidthChange&&(this.__cbOnceOwnerUnbindTargetWidthChange=[]),this.__cbOnceOwnerUnbindTargetWidthChange.push(null);null==this.__cbOnceTargetWidthChange&&(this.__cbOnceTargetWidthChange=[]),this.__cbOnceTargetWidthChange.push(t)},offTargetWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetWidthChange&&-1!=(n=this.__cbOnTargetWidthChange.indexOf(e))&&(this.__cbOnTargetWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTargetWidthChange[n])&&s(),this.__cbOnOwnerUnbindTargetWidthChange.splice(n,1)),null!=this.__cbOnceTargetWidthChange&&-1!=(n=this.__cbOnceTargetWidthChange.indexOf(e))&&(this.__cbOnceTargetWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTargetWidthChange[n])&&s(),this.__cbOnceOwnerUnbindTargetWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTargetWidthChange[l])&&s()}this.__cbOnOwnerUnbindTargetWidthChange=null}if(null!=this.__cbOnceOwnerUnbindTargetWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetWidthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTargetWidthChange[l])&&s()}this.__cbOnceOwnerUnbindTargetWidthChange=null}this.__cbOnTargetWidthChange=null,this.__cbOnceTargetWidthChange=null}},listensTargetWidthChange:function(){return null!=this.__cbOnTargetWidthChange&&0<this.__cbOnTargetWidthChange.length||null!=this.__cbOnceTargetWidthChange&&0<this.__cbOnceTargetWidthChange.length},targetHeightAutoruns:null,get_targetHeight:function(){var e,n,t=this.unobservedTargetHeight;return null!=w.current&&(e=w.current,null!=(n=this.targetHeightAutoruns)||(n=w.getAutorunArray(),null!=(this.targetHeightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_targetHeight:function(e){var n=this.unobservedTargetHeight;return n!=(this.unobservedTargetHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetHeightChange(e,n),null!=(n=this.targetHeightAutoruns))&&(this.targetHeightAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTargetHeight:function(){var e=this.unobservedTargetHeight,e=(this.emitTargetHeightChange(e,e),this.targetHeightAutoruns);null!=e&&(this.targetHeightAutoruns=null,w.invalidateAutorunArray(e))},unobservedTargetHeight:null,__cbOnTargetHeightChange:null,__cbOnceTargetHeightChange:null,__cbOnOwnerUnbindTargetHeightChange:null,__cbOnceOwnerUnbindTargetHeightChange:null,emitTargetHeightChange:function(e,n){var t=0;if(null!=this.__cbOnTargetHeightChange&&(t+=this.__cbOnTargetHeightChange.length),null!=this.__cbOnceTargetHeightChange&&(t+=this.__cbOnceTargetHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTargetHeightChange)for(var r=0,h=this.__cbOnTargetHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTargetHeightChange[a],++s):--t}if(null!=this.__cbOnceTargetHeightChange){for(var o=null,c=null,r=0,h=this.__cbOnceTargetHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTargetHeightChange[a],this.__cbOnceTargetHeightChange[a]=null,u=this.__cbOnceOwnerUnbindTargetHeightChange[a],(this.__cbOnceOwnerUnbindTargetHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTargetHeightChange[a]),c.push(this.__cbOnceTargetHeightChange[a]))}this.__cbOnceOwnerUnbindTargetHeightChange=o,this.__cbOnceTargetHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTargetHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event targetHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTargetHeightChange&&(this.__cbOnOwnerUnbindTargetHeightChange=[]),this.__cbOnOwnerUnbindTargetHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTargetHeightChange&&(this.__cbOnOwnerUnbindTargetHeightChange=[]),this.__cbOnOwnerUnbindTargetHeightChange.push(null);null==this.__cbOnTargetHeightChange&&(this.__cbOnTargetHeightChange=[]),this.__cbOnTargetHeightChange.push(t)},onceTargetHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event targetHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTargetHeightChange&&(this.__cbOnceOwnerUnbindTargetHeightChange=[]),this.__cbOnceOwnerUnbindTargetHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTargetHeightChange&&(this.__cbOnceOwnerUnbindTargetHeightChange=[]),this.__cbOnceOwnerUnbindTargetHeightChange.push(null);null==this.__cbOnceTargetHeightChange&&(this.__cbOnceTargetHeightChange=[]),this.__cbOnceTargetHeightChange.push(t)},offTargetHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetHeightChange&&-1!=(n=this.__cbOnTargetHeightChange.indexOf(e))&&(this.__cbOnTargetHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTargetHeightChange[n])&&s(),this.__cbOnOwnerUnbindTargetHeightChange.splice(n,1)),null!=this.__cbOnceTargetHeightChange&&-1!=(n=this.__cbOnceTargetHeightChange.indexOf(e))&&(this.__cbOnceTargetHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTargetHeightChange[n])&&s(),this.__cbOnceOwnerUnbindTargetHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTargetHeightChange[l])&&s()}this.__cbOnOwnerUnbindTargetHeightChange=null}if(null!=this.__cbOnceOwnerUnbindTargetHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTargetHeightChange[l])&&s()}this.__cbOnceOwnerUnbindTargetHeightChange=null}this.__cbOnTargetHeightChange=null,this.__cbOnceTargetHeightChange=null}},listensTargetHeightChange:function(){return null!=this.__cbOnTargetHeightChange&&0<this.__cbOnTargetHeightChange.length||null!=this.__cbOnceTargetHeightChange&&0<this.__cbOnceTargetHeightChange.length},targetSize:function(e,n){this.set_targetWidth(e),this.set_targetHeight(n)},windowWidthAutoruns:null,get_windowWidth:function(){var e,n,t=this.unobservedWindowWidth;return null!=w.current&&(e=w.current,null!=(n=this.windowWidthAutoruns)||(n=w.getAutorunArray(),null!=(this.windowWidthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowWidth:function(e){var n=this.unobservedWindowWidth;return n!=(this.unobservedWindowWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWindowWidthChange(e,n),null!=(n=this.windowWidthAutoruns))&&(this.windowWidthAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateWindowWidth:function(){var e=this.unobservedWindowWidth,e=(this.emitWindowWidthChange(e,e),this.windowWidthAutoruns);null!=e&&(this.windowWidthAutoruns=null,w.invalidateAutorunArray(e))},unobservedWindowWidth:null,__cbOnWindowWidthChange:null,__cbOnceWindowWidthChange:null,__cbOnOwnerUnbindWindowWidthChange:null,__cbOnceOwnerUnbindWindowWidthChange:null,emitWindowWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWindowWidthChange&&(t+=this.__cbOnWindowWidthChange.length),null!=this.__cbOnceWindowWidthChange&&(t+=this.__cbOnceWindowWidthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowWidthChange)for(var r=0,h=this.__cbOnWindowWidthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWindowWidthChange[a],++s):--t}if(null!=this.__cbOnceWindowWidthChange){for(var o=null,c=null,r=0,h=this.__cbOnceWindowWidthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWindowWidthChange[a],this.__cbOnceWindowWidthChange[a]=null,u=this.__cbOnceOwnerUnbindWindowWidthChange[a],(this.__cbOnceOwnerUnbindWindowWidthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowWidthChange[a]),c.push(this.__cbOnceWindowWidthChange[a]))}this.__cbOnceOwnerUnbindWindowWidthChange=o,this.__cbOnceWindowWidthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWindowWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event windowWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowWidthChange&&(this.__cbOnOwnerUnbindWindowWidthChange=[]),this.__cbOnOwnerUnbindWindowWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowWidthChange&&(this.__cbOnOwnerUnbindWindowWidthChange=[]),this.__cbOnOwnerUnbindWindowWidthChange.push(null);null==this.__cbOnWindowWidthChange&&(this.__cbOnWindowWidthChange=[]),this.__cbOnWindowWidthChange.push(t)},onceWindowWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event windowWidthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowWidthChange&&(this.__cbOnceOwnerUnbindWindowWidthChange=[]),this.__cbOnceOwnerUnbindWindowWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowWidthChange&&(this.__cbOnceOwnerUnbindWindowWidthChange=[]),this.__cbOnceOwnerUnbindWindowWidthChange.push(null);null==this.__cbOnceWindowWidthChange&&(this.__cbOnceWindowWidthChange=[]),this.__cbOnceWindowWidthChange.push(t)},offWindowWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowWidthChange&&-1!=(n=this.__cbOnWindowWidthChange.indexOf(e))&&(this.__cbOnWindowWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowWidthChange[n])&&s(),this.__cbOnOwnerUnbindWindowWidthChange.splice(n,1)),null!=this.__cbOnceWindowWidthChange&&-1!=(n=this.__cbOnceWindowWidthChange.indexOf(e))&&(this.__cbOnceWindowWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowWidthChange[n])&&s(),this.__cbOnceOwnerUnbindWindowWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowWidthChange[l])&&s()}this.__cbOnOwnerUnbindWindowWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWindowWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowWidthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowWidthChange[l])&&s()}this.__cbOnceOwnerUnbindWindowWidthChange=null}this.__cbOnWindowWidthChange=null,this.__cbOnceWindowWidthChange=null}},listensWindowWidthChange:function(){return null!=this.__cbOnWindowWidthChange&&0<this.__cbOnWindowWidthChange.length||null!=this.__cbOnceWindowWidthChange&&0<this.__cbOnceWindowWidthChange.length},windowHeightAutoruns:null,get_windowHeight:function(){var e,n,t=this.unobservedWindowHeight;return null!=w.current&&(e=w.current,null!=(n=this.windowHeightAutoruns)||(n=w.getAutorunArray(),null!=(this.windowHeightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowHeight:function(e){var n=this.unobservedWindowHeight;return n!=(this.unobservedWindowHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWindowHeightChange(e,n),null!=(n=this.windowHeightAutoruns))&&(this.windowHeightAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateWindowHeight:function(){var e=this.unobservedWindowHeight,e=(this.emitWindowHeightChange(e,e),this.windowHeightAutoruns);null!=e&&(this.windowHeightAutoruns=null,w.invalidateAutorunArray(e))},unobservedWindowHeight:null,__cbOnWindowHeightChange:null,__cbOnceWindowHeightChange:null,__cbOnOwnerUnbindWindowHeightChange:null,__cbOnceOwnerUnbindWindowHeightChange:null,emitWindowHeightChange:function(e,n){var t=0;if(null!=this.__cbOnWindowHeightChange&&(t+=this.__cbOnWindowHeightChange.length),null!=this.__cbOnceWindowHeightChange&&(t+=this.__cbOnceWindowHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowHeightChange)for(var r=0,h=this.__cbOnWindowHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWindowHeightChange[a],++s):--t}if(null!=this.__cbOnceWindowHeightChange){for(var o=null,c=null,r=0,h=this.__cbOnceWindowHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWindowHeightChange[a],this.__cbOnceWindowHeightChange[a]=null,u=this.__cbOnceOwnerUnbindWindowHeightChange[a],(this.__cbOnceOwnerUnbindWindowHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowHeightChange[a]),c.push(this.__cbOnceWindowHeightChange[a]))}this.__cbOnceOwnerUnbindWindowHeightChange=o,this.__cbOnceWindowHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWindowHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event windowHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowHeightChange&&(this.__cbOnOwnerUnbindWindowHeightChange=[]),this.__cbOnOwnerUnbindWindowHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowHeightChange&&(this.__cbOnOwnerUnbindWindowHeightChange=[]),this.__cbOnOwnerUnbindWindowHeightChange.push(null);null==this.__cbOnWindowHeightChange&&(this.__cbOnWindowHeightChange=[]),this.__cbOnWindowHeightChange.push(t)},onceWindowHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event windowHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowHeightChange&&(this.__cbOnceOwnerUnbindWindowHeightChange=[]),this.__cbOnceOwnerUnbindWindowHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowHeightChange&&(this.__cbOnceOwnerUnbindWindowHeightChange=[]),this.__cbOnceOwnerUnbindWindowHeightChange.push(null);null==this.__cbOnceWindowHeightChange&&(this.__cbOnceWindowHeightChange=[]),this.__cbOnceWindowHeightChange.push(t)},offWindowHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowHeightChange&&-1!=(n=this.__cbOnWindowHeightChange.indexOf(e))&&(this.__cbOnWindowHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowHeightChange[n])&&s(),this.__cbOnOwnerUnbindWindowHeightChange.splice(n,1)),null!=this.__cbOnceWindowHeightChange&&-1!=(n=this.__cbOnceWindowHeightChange.indexOf(e))&&(this.__cbOnceWindowHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowHeightChange[n])&&s(),this.__cbOnceOwnerUnbindWindowHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowHeightChange[l])&&s()}this.__cbOnOwnerUnbindWindowHeightChange=null}if(null!=this.__cbOnceOwnerUnbindWindowHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowHeightChange[l])&&s()}this.__cbOnceOwnerUnbindWindowHeightChange=null}this.__cbOnWindowHeightChange=null,this.__cbOnceWindowHeightChange=null}},listensWindowHeightChange:function(){return null!=this.__cbOnWindowHeightChange&&0<this.__cbOnWindowHeightChange.length||null!=this.__cbOnceWindowHeightChange&&0<this.__cbOnceWindowHeightChange.length},targetDensityAutoruns:null,get_targetDensity:function(){var e,n,t=this.unobservedTargetDensity;return null!=w.current&&(e=w.current,null!=(n=this.targetDensityAutoruns)||(n=w.getAutorunArray(),null!=(this.targetDensityAutoruns=n)))&&e.bindToAutorunArray(n),t},set_targetDensity:function(e){var n=this.unobservedTargetDensity;return n!=(this.unobservedTargetDensity=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetDensityChange(e,n),null!=(n=this.targetDensityAutoruns))&&(this.targetDensityAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTargetDensity:function(){var e=this.unobservedTargetDensity,e=(this.emitTargetDensityChange(e,e),this.targetDensityAutoruns);null!=e&&(this.targetDensityAutoruns=null,w.invalidateAutorunArray(e))},unobservedTargetDensity:null,__cbOnTargetDensityChange:null,__cbOnceTargetDensityChange:null,__cbOnOwnerUnbindTargetDensityChange:null,__cbOnceOwnerUnbindTargetDensityChange:null,emitTargetDensityChange:function(e,n){var t=0;if(null!=this.__cbOnTargetDensityChange&&(t+=this.__cbOnTargetDensityChange.length),null!=this.__cbOnceTargetDensityChange&&(t+=this.__cbOnceTargetDensityChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTargetDensityChange)for(var r=0,h=this.__cbOnTargetDensityChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTargetDensityChange[a],++s):--t}if(null!=this.__cbOnceTargetDensityChange){for(var o=null,c=null,r=0,h=this.__cbOnceTargetDensityChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTargetDensityChange[a],this.__cbOnceTargetDensityChange[a]=null,u=this.__cbOnceOwnerUnbindTargetDensityChange[a],(this.__cbOnceOwnerUnbindTargetDensityChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTargetDensityChange[a]),c.push(this.__cbOnceTargetDensityChange[a]))}this.__cbOnceOwnerUnbindTargetDensityChange=o,this.__cbOnceTargetDensityChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTargetDensityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event targetDensityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetDensityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTargetDensityChange&&(this.__cbOnOwnerUnbindTargetDensityChange=[]),this.__cbOnOwnerUnbindTargetDensityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTargetDensityChange&&(this.__cbOnOwnerUnbindTargetDensityChange=[]),this.__cbOnOwnerUnbindTargetDensityChange.push(null);null==this.__cbOnTargetDensityChange&&(this.__cbOnTargetDensityChange=[]),this.__cbOnTargetDensityChange.push(t)},onceTargetDensityChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event targetDensityChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetDensityChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTargetDensityChange&&(this.__cbOnceOwnerUnbindTargetDensityChange=[]),this.__cbOnceOwnerUnbindTargetDensityChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTargetDensityChange&&(this.__cbOnceOwnerUnbindTargetDensityChange=[]),this.__cbOnceOwnerUnbindTargetDensityChange.push(null);null==this.__cbOnceTargetDensityChange&&(this.__cbOnceTargetDensityChange=[]),this.__cbOnceTargetDensityChange.push(t)},offTargetDensityChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetDensityChange&&-1!=(n=this.__cbOnTargetDensityChange.indexOf(e))&&(this.__cbOnTargetDensityChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTargetDensityChange[n])&&s(),this.__cbOnOwnerUnbindTargetDensityChange.splice(n,1)),null!=this.__cbOnceTargetDensityChange&&-1!=(n=this.__cbOnceTargetDensityChange.indexOf(e))&&(this.__cbOnceTargetDensityChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTargetDensityChange[n])&&s(),this.__cbOnceOwnerUnbindTargetDensityChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetDensityChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetDensityChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTargetDensityChange[l])&&s()}this.__cbOnOwnerUnbindTargetDensityChange=null}if(null!=this.__cbOnceOwnerUnbindTargetDensityChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetDensityChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTargetDensityChange[l])&&s()}this.__cbOnceOwnerUnbindTargetDensityChange=null}this.__cbOnTargetDensityChange=null,this.__cbOnceTargetDensityChange=null}},listensTargetDensityChange:function(){return null!=this.__cbOnTargetDensityChange&&0<this.__cbOnTargetDensityChange.length||null!=this.__cbOnceTargetDensityChange&&0<this.__cbOnceTargetDensityChange.length},backgroundAutoruns:null,get_background:function(){var e,n,t=this.unobservedBackground;return null!=w.current&&(e=w.current,null!=(n=this.backgroundAutoruns)||(n=w.getAutorunArray(),null!=(this.backgroundAutoruns=n)))&&e.bindToAutorunArray(n),t},set_background:function(e){var n=this.unobservedBackground;return n!=(this.unobservedBackground=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBackgroundChange(e,n),null!=(n=this.backgroundAutoruns))&&(this.backgroundAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateBackground:function(){var e=this.unobservedBackground,e=(this.emitBackgroundChange(e,e),this.backgroundAutoruns);null!=e&&(this.backgroundAutoruns=null,w.invalidateAutorunArray(e))},unobservedBackground:null,__cbOnBackgroundChange:null,__cbOnceBackgroundChange:null,__cbOnOwnerUnbindBackgroundChange:null,__cbOnceOwnerUnbindBackgroundChange:null,emitBackgroundChange:function(e,n){var t=0;if(null!=this.__cbOnBackgroundChange&&(t+=this.__cbOnBackgroundChange.length),null!=this.__cbOnceBackgroundChange&&(t+=this.__cbOnceBackgroundChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnBackgroundChange)for(var r=0,h=this.__cbOnBackgroundChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnBackgroundChange[a],++s):--t}if(null!=this.__cbOnceBackgroundChange){for(var o=null,c=null,r=0,h=this.__cbOnceBackgroundChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceBackgroundChange[a],this.__cbOnceBackgroundChange[a]=null,u=this.__cbOnceOwnerUnbindBackgroundChange[a],(this.__cbOnceOwnerUnbindBackgroundChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindBackgroundChange[a]),c.push(this.__cbOnceBackgroundChange[a]))}this.__cbOnceOwnerUnbindBackgroundChange=o,this.__cbOnceBackgroundChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onBackgroundChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event backgroundChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBackgroundChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBackgroundChange&&(this.__cbOnOwnerUnbindBackgroundChange=[]),this.__cbOnOwnerUnbindBackgroundChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBackgroundChange&&(this.__cbOnOwnerUnbindBackgroundChange=[]),this.__cbOnOwnerUnbindBackgroundChange.push(null);null==this.__cbOnBackgroundChange&&(this.__cbOnBackgroundChange=[]),this.__cbOnBackgroundChange.push(t)},onceBackgroundChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event backgroundChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBackgroundChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBackgroundChange&&(this.__cbOnceOwnerUnbindBackgroundChange=[]),this.__cbOnceOwnerUnbindBackgroundChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBackgroundChange&&(this.__cbOnceOwnerUnbindBackgroundChange=[]),this.__cbOnceOwnerUnbindBackgroundChange.push(null);null==this.__cbOnceBackgroundChange&&(this.__cbOnceBackgroundChange=[]),this.__cbOnceBackgroundChange.push(t)},offBackgroundChange:function(e){if(null!=e){var n;null!=this.__cbOnBackgroundChange&&-1!=(n=this.__cbOnBackgroundChange.indexOf(e))&&(this.__cbOnBackgroundChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBackgroundChange[n])&&s(),this.__cbOnOwnerUnbindBackgroundChange.splice(n,1)),null!=this.__cbOnceBackgroundChange&&-1!=(n=this.__cbOnceBackgroundChange.indexOf(e))&&(this.__cbOnceBackgroundChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBackgroundChange[n])&&s(),this.__cbOnceOwnerUnbindBackgroundChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBackgroundChange){for(var t=0,i=this.__cbOnOwnerUnbindBackgroundChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBackgroundChange[l])&&s()}this.__cbOnOwnerUnbindBackgroundChange=null}if(null!=this.__cbOnceOwnerUnbindBackgroundChange){for(t=0,i=this.__cbOnceOwnerUnbindBackgroundChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBackgroundChange[l])&&s()}this.__cbOnceOwnerUnbindBackgroundChange=null}this.__cbOnBackgroundChange=null,this.__cbOnceBackgroundChange=null}},listensBackgroundChange:function(){return null!=this.__cbOnBackgroundChange&&0<this.__cbOnBackgroundChange.length||null!=this.__cbOnceBackgroundChange&&0<this.__cbOnceBackgroundChange.length},scalingAutoruns:null,get_scaling:function(){var e,n,t=this.unobservedScaling;return null!=w.current&&(e=w.current,null!=(n=this.scalingAutoruns)||(n=w.getAutorunArray(),null!=(this.scalingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scaling:function(e){var n=this.unobservedScaling;return n!=(this.unobservedScaling=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScalingChange(e,n),null!=(n=this.scalingAutoruns))&&(this.scalingAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateScaling:function(){var e=this.unobservedScaling,e=(this.emitScalingChange(e,e),this.scalingAutoruns);null!=e&&(this.scalingAutoruns=null,w.invalidateAutorunArray(e))},unobservedScaling:null,__cbOnScalingChange:null,__cbOnceScalingChange:null,__cbOnOwnerUnbindScalingChange:null,__cbOnceOwnerUnbindScalingChange:null,emitScalingChange:function(e,n){var t=0;if(null!=this.__cbOnScalingChange&&(t+=this.__cbOnScalingChange.length),null!=this.__cbOnceScalingChange&&(t+=this.__cbOnceScalingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnScalingChange)for(var r=0,h=this.__cbOnScalingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnScalingChange[a],++s):--t}if(null!=this.__cbOnceScalingChange){for(var o=null,c=null,r=0,h=this.__cbOnceScalingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceScalingChange[a],this.__cbOnceScalingChange[a]=null,u=this.__cbOnceOwnerUnbindScalingChange[a],(this.__cbOnceOwnerUnbindScalingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScalingChange[a]),c.push(this.__cbOnceScalingChange[a]))}this.__cbOnceOwnerUnbindScalingChange=o,this.__cbOnceScalingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onScalingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scalingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScalingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(null);null==this.__cbOnScalingChange&&(this.__cbOnScalingChange=[]),this.__cbOnScalingChange.push(t)},onceScalingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scalingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScalingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(null);null==this.__cbOnceScalingChange&&(this.__cbOnceScalingChange=[]),this.__cbOnceScalingChange.push(t)},offScalingChange:function(e){if(null!=e){var n;null!=this.__cbOnScalingChange&&-1!=(n=this.__cbOnScalingChange.indexOf(e))&&(this.__cbOnScalingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScalingChange[n])&&s(),this.__cbOnOwnerUnbindScalingChange.splice(n,1)),null!=this.__cbOnceScalingChange&&-1!=(n=this.__cbOnceScalingChange.indexOf(e))&&(this.__cbOnceScalingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScalingChange[n])&&s(),this.__cbOnceOwnerUnbindScalingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScalingChange){for(var t=0,i=this.__cbOnOwnerUnbindScalingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScalingChange[l])&&s()}this.__cbOnOwnerUnbindScalingChange=null}if(null!=this.__cbOnceOwnerUnbindScalingChange){for(t=0,i=this.__cbOnceOwnerUnbindScalingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScalingChange[l])&&s()}this.__cbOnceOwnerUnbindScalingChange=null}this.__cbOnScalingChange=null,this.__cbOnceScalingChange=null}},listensScalingChange:function(){return null!=this.__cbOnScalingChange&&0<this.__cbOnScalingChange.length||null!=this.__cbOnceScalingChange&&0<this.__cbOnceScalingChange.length},titleAutoruns:null,get_title:function(){var e,n,t=this.unobservedTitle;return null!=w.current&&(e=w.current,null!=(n=this.titleAutoruns)||(n=w.getAutorunArray(),null!=(this.titleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_title:function(e){var n=this.unobservedTitle;return n!=(this.unobservedTitle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleChange(e,n),null!=(n=this.titleAutoruns))&&(this.titleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTitle:function(){var e=this.unobservedTitle,e=(this.emitTitleChange(e,e),this.titleAutoruns);null!=e&&(this.titleAutoruns=null,w.invalidateAutorunArray(e))},unobservedTitle:null,__cbOnTitleChange:null,__cbOnceTitleChange:null,__cbOnOwnerUnbindTitleChange:null,__cbOnceOwnerUnbindTitleChange:null,emitTitleChange:function(e,n){var t=0;if(null!=this.__cbOnTitleChange&&(t+=this.__cbOnTitleChange.length),null!=this.__cbOnceTitleChange&&(t+=this.__cbOnceTitleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTitleChange)for(var r=0,h=this.__cbOnTitleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTitleChange[a],++s):--t}if(null!=this.__cbOnceTitleChange){for(var o=null,c=null,r=0,h=this.__cbOnceTitleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTitleChange[a],this.__cbOnceTitleChange[a]=null,u=this.__cbOnceOwnerUnbindTitleChange[a],(this.__cbOnceOwnerUnbindTitleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTitleChange[a]),c.push(this.__cbOnceTitleChange[a]))}this.__cbOnceOwnerUnbindTitleChange=o,this.__cbOnceTitleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(null);null==this.__cbOnTitleChange&&(this.__cbOnTitleChange=[]),this.__cbOnTitleChange.push(t)},onceTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(null);null==this.__cbOnceTitleChange&&(this.__cbOnceTitleChange=[]),this.__cbOnceTitleChange.push(t)},offTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleChange&&-1!=(n=this.__cbOnTitleChange.indexOf(e))&&(this.__cbOnTitleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTitleChange[n])&&s(),this.__cbOnOwnerUnbindTitleChange.splice(n,1)),null!=this.__cbOnceTitleChange&&-1!=(n=this.__cbOnceTitleChange.indexOf(e))&&(this.__cbOnceTitleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTitleChange[n])&&s(),this.__cbOnceOwnerUnbindTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTitleChange[l])&&s()}this.__cbOnOwnerUnbindTitleChange=null}if(null!=this.__cbOnceOwnerUnbindTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTitleChange[l])&&s()}this.__cbOnceOwnerUnbindTitleChange=null}this.__cbOnTitleChange=null,this.__cbOnceTitleChange=null}},listensTitleChange:function(){return null!=this.__cbOnTitleChange&&0<this.__cbOnTitleChange.length||null!=this.__cbOnceTitleChange&&0<this.__cbOnceTitleChange.length},fullscreenAutoruns:null,get_fullscreen:function(){var e,n,t=this.unobservedFullscreen;return null!=w.current&&(e=w.current,null!=(n=this.fullscreenAutoruns)||(n=w.getAutorunArray(),null!=(this.fullscreenAutoruns=n)))&&e.bindToAutorunArray(n),t},set_fullscreen:function(e){var n=this.unobservedFullscreen;return n!=(this.unobservedFullscreen=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFullscreenChange(e,n),null!=(n=this.fullscreenAutoruns))&&(this.fullscreenAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFullscreen:function(){var e=this.unobservedFullscreen,e=(this.emitFullscreenChange(e,e),this.fullscreenAutoruns);null!=e&&(this.fullscreenAutoruns=null,w.invalidateAutorunArray(e))},unobservedFullscreen:null,__cbOnFullscreenChange:null,__cbOnceFullscreenChange:null,__cbOnOwnerUnbindFullscreenChange:null,__cbOnceOwnerUnbindFullscreenChange:null,emitFullscreenChange:function(e,n){var t=0;if(null!=this.__cbOnFullscreenChange&&(t+=this.__cbOnFullscreenChange.length),null!=this.__cbOnceFullscreenChange&&(t+=this.__cbOnceFullscreenChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFullscreenChange)for(var r=0,h=this.__cbOnFullscreenChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFullscreenChange[a],++s):--t}if(null!=this.__cbOnceFullscreenChange){for(var o=null,c=null,r=0,h=this.__cbOnceFullscreenChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFullscreenChange[a],this.__cbOnceFullscreenChange[a]=null,u=this.__cbOnceOwnerUnbindFullscreenChange[a],(this.__cbOnceOwnerUnbindFullscreenChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFullscreenChange[a]),c.push(this.__cbOnceFullscreenChange[a]))}this.__cbOnceOwnerUnbindFullscreenChange=o,this.__cbOnceFullscreenChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFullscreenChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event fullscreenChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFullscreenChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFullscreenChange&&(this.__cbOnOwnerUnbindFullscreenChange=[]),this.__cbOnOwnerUnbindFullscreenChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFullscreenChange&&(this.__cbOnOwnerUnbindFullscreenChange=[]),this.__cbOnOwnerUnbindFullscreenChange.push(null);null==this.__cbOnFullscreenChange&&(this.__cbOnFullscreenChange=[]),this.__cbOnFullscreenChange.push(t)},onceFullscreenChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event fullscreenChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFullscreenChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFullscreenChange&&(this.__cbOnceOwnerUnbindFullscreenChange=[]),this.__cbOnceOwnerUnbindFullscreenChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFullscreenChange&&(this.__cbOnceOwnerUnbindFullscreenChange=[]),this.__cbOnceOwnerUnbindFullscreenChange.push(null);null==this.__cbOnceFullscreenChange&&(this.__cbOnceFullscreenChange=[]),this.__cbOnceFullscreenChange.push(t)},offFullscreenChange:function(e){if(null!=e){var n;null!=this.__cbOnFullscreenChange&&-1!=(n=this.__cbOnFullscreenChange.indexOf(e))&&(this.__cbOnFullscreenChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFullscreenChange[n])&&s(),this.__cbOnOwnerUnbindFullscreenChange.splice(n,1)),null!=this.__cbOnceFullscreenChange&&-1!=(n=this.__cbOnceFullscreenChange.indexOf(e))&&(this.__cbOnceFullscreenChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFullscreenChange[n])&&s(),this.__cbOnceOwnerUnbindFullscreenChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFullscreenChange){for(var t=0,i=this.__cbOnOwnerUnbindFullscreenChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFullscreenChange[l])&&s()}this.__cbOnOwnerUnbindFullscreenChange=null}if(null!=this.__cbOnceOwnerUnbindFullscreenChange){for(t=0,i=this.__cbOnceOwnerUnbindFullscreenChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFullscreenChange[l])&&s()}this.__cbOnceOwnerUnbindFullscreenChange=null}this.__cbOnFullscreenChange=null,this.__cbOnceFullscreenChange=null}},listensFullscreenChange:function(){return null!=this.__cbOnFullscreenChange&&0<this.__cbOnFullscreenChange.length||null!=this.__cbOnceFullscreenChange&&0<this.__cbOnceFullscreenChange.length},targetFpsAutoruns:null,get_targetFps:function(){var e,n,t=this.unobservedTargetFps;return null!=w.current&&(e=w.current,null!=(n=this.targetFpsAutoruns)||(n=w.getAutorunArray(),null!=(this.targetFpsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_targetFps:function(e){var n=this.unobservedTargetFps;return n!=(this.unobservedTargetFps=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetFpsChange(e,n),null!=(n=this.targetFpsAutoruns))&&(this.targetFpsAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTargetFps:function(){var e=this.unobservedTargetFps,e=(this.emitTargetFpsChange(e,e),this.targetFpsAutoruns);null!=e&&(this.targetFpsAutoruns=null,w.invalidateAutorunArray(e))},unobservedTargetFps:null,__cbOnTargetFpsChange:null,__cbOnceTargetFpsChange:null,__cbOnOwnerUnbindTargetFpsChange:null,__cbOnceOwnerUnbindTargetFpsChange:null,emitTargetFpsChange:function(e,n){var t=0;if(null!=this.__cbOnTargetFpsChange&&(t+=this.__cbOnTargetFpsChange.length),null!=this.__cbOnceTargetFpsChange&&(t+=this.__cbOnceTargetFpsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTargetFpsChange)for(var r=0,h=this.__cbOnTargetFpsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTargetFpsChange[a],++s):--t}if(null!=this.__cbOnceTargetFpsChange){for(var o=null,c=null,r=0,h=this.__cbOnceTargetFpsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTargetFpsChange[a],this.__cbOnceTargetFpsChange[a]=null,u=this.__cbOnceOwnerUnbindTargetFpsChange[a],(this.__cbOnceOwnerUnbindTargetFpsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTargetFpsChange[a]),c.push(this.__cbOnceTargetFpsChange[a]))}this.__cbOnceOwnerUnbindTargetFpsChange=o,this.__cbOnceTargetFpsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTargetFpsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event targetFpsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetFpsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTargetFpsChange&&(this.__cbOnOwnerUnbindTargetFpsChange=[]),this.__cbOnOwnerUnbindTargetFpsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTargetFpsChange&&(this.__cbOnOwnerUnbindTargetFpsChange=[]),this.__cbOnOwnerUnbindTargetFpsChange.push(null);null==this.__cbOnTargetFpsChange&&(this.__cbOnTargetFpsChange=[]),this.__cbOnTargetFpsChange.push(t)},onceTargetFpsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event targetFpsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTargetFpsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTargetFpsChange&&(this.__cbOnceOwnerUnbindTargetFpsChange=[]),this.__cbOnceOwnerUnbindTargetFpsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTargetFpsChange&&(this.__cbOnceOwnerUnbindTargetFpsChange=[]),this.__cbOnceOwnerUnbindTargetFpsChange.push(null);null==this.__cbOnceTargetFpsChange&&(this.__cbOnceTargetFpsChange=[]),this.__cbOnceTargetFpsChange.push(t)},offTargetFpsChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetFpsChange&&-1!=(n=this.__cbOnTargetFpsChange.indexOf(e))&&(this.__cbOnTargetFpsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTargetFpsChange[n])&&s(),this.__cbOnOwnerUnbindTargetFpsChange.splice(n,1)),null!=this.__cbOnceTargetFpsChange&&-1!=(n=this.__cbOnceTargetFpsChange.indexOf(e))&&(this.__cbOnceTargetFpsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTargetFpsChange[n])&&s(),this.__cbOnceOwnerUnbindTargetFpsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetFpsChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetFpsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTargetFpsChange[l])&&s()}this.__cbOnOwnerUnbindTargetFpsChange=null}if(null!=this.__cbOnceOwnerUnbindTargetFpsChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetFpsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTargetFpsChange[l])&&s()}this.__cbOnceOwnerUnbindTargetFpsChange=null}this.__cbOnTargetFpsChange=null,this.__cbOnceTargetFpsChange=null}},listensTargetFpsChange:function(){return null!=this.__cbOnTargetFpsChange&&0<this.__cbOnTargetFpsChange.length||null!=this.__cbOnceTargetFpsChange&&0<this.__cbOnceTargetFpsChange.length},maxDeltaAutoruns:null,get_maxDelta:function(){var e,n,t=this.unobservedMaxDelta;return null!=w.current&&(e=w.current,null!=(n=this.maxDeltaAutoruns)||(n=w.getAutorunArray(),null!=(this.maxDeltaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_maxDelta:function(e){var n=this.unobservedMaxDelta;return n!=(this.unobservedMaxDelta=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMaxDeltaChange(e,n),null!=(n=this.maxDeltaAutoruns))&&(this.maxDeltaAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateMaxDelta:function(){var e=this.unobservedMaxDelta,e=(this.emitMaxDeltaChange(e,e),this.maxDeltaAutoruns);null!=e&&(this.maxDeltaAutoruns=null,w.invalidateAutorunArray(e))},unobservedMaxDelta:null,__cbOnMaxDeltaChange:null,__cbOnceMaxDeltaChange:null,__cbOnOwnerUnbindMaxDeltaChange:null,__cbOnceOwnerUnbindMaxDeltaChange:null,emitMaxDeltaChange:function(e,n){var t=0;if(null!=this.__cbOnMaxDeltaChange&&(t+=this.__cbOnMaxDeltaChange.length),null!=this.__cbOnceMaxDeltaChange&&(t+=this.__cbOnceMaxDeltaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMaxDeltaChange)for(var r=0,h=this.__cbOnMaxDeltaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMaxDeltaChange[a],++s):--t}if(null!=this.__cbOnceMaxDeltaChange){for(var o=null,c=null,r=0,h=this.__cbOnceMaxDeltaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMaxDeltaChange[a],this.__cbOnceMaxDeltaChange[a]=null,u=this.__cbOnceOwnerUnbindMaxDeltaChange[a],(this.__cbOnceOwnerUnbindMaxDeltaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMaxDeltaChange[a]),c.push(this.__cbOnceMaxDeltaChange[a]))}this.__cbOnceOwnerUnbindMaxDeltaChange=o,this.__cbOnceMaxDeltaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMaxDeltaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event maxDeltaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxDeltaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMaxDeltaChange&&(this.__cbOnOwnerUnbindMaxDeltaChange=[]),this.__cbOnOwnerUnbindMaxDeltaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMaxDeltaChange&&(this.__cbOnOwnerUnbindMaxDeltaChange=[]),this.__cbOnOwnerUnbindMaxDeltaChange.push(null);null==this.__cbOnMaxDeltaChange&&(this.__cbOnMaxDeltaChange=[]),this.__cbOnMaxDeltaChange.push(t)},onceMaxDeltaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event maxDeltaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxDeltaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMaxDeltaChange&&(this.__cbOnceOwnerUnbindMaxDeltaChange=[]),this.__cbOnceOwnerUnbindMaxDeltaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMaxDeltaChange&&(this.__cbOnceOwnerUnbindMaxDeltaChange=[]),this.__cbOnceOwnerUnbindMaxDeltaChange.push(null);null==this.__cbOnceMaxDeltaChange&&(this.__cbOnceMaxDeltaChange=[]),this.__cbOnceMaxDeltaChange.push(t)},offMaxDeltaChange:function(e){if(null!=e){var n;null!=this.__cbOnMaxDeltaChange&&-1!=(n=this.__cbOnMaxDeltaChange.indexOf(e))&&(this.__cbOnMaxDeltaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMaxDeltaChange[n])&&s(),this.__cbOnOwnerUnbindMaxDeltaChange.splice(n,1)),null!=this.__cbOnceMaxDeltaChange&&-1!=(n=this.__cbOnceMaxDeltaChange.indexOf(e))&&(this.__cbOnceMaxDeltaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMaxDeltaChange[n])&&s(),this.__cbOnceOwnerUnbindMaxDeltaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMaxDeltaChange){for(var t=0,i=this.__cbOnOwnerUnbindMaxDeltaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMaxDeltaChange[l])&&s()}this.__cbOnOwnerUnbindMaxDeltaChange=null}if(null!=this.__cbOnceOwnerUnbindMaxDeltaChange){for(t=0,i=this.__cbOnceOwnerUnbindMaxDeltaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMaxDeltaChange[l])&&s()}this.__cbOnceOwnerUnbindMaxDeltaChange=null}this.__cbOnMaxDeltaChange=null,this.__cbOnceMaxDeltaChange=null}},listensMaxDeltaChange:function(){return null!=this.__cbOnMaxDeltaChange&&0<this.__cbOnMaxDeltaChange.length||null!=this.__cbOnceMaxDeltaChange&&0<this.__cbOnceMaxDeltaChange.length},overrideDeltaAutoruns:null,get_overrideDelta:function(){var e,n,t=this.unobservedOverrideDelta;return null!=w.current&&(e=w.current,null!=(n=this.overrideDeltaAutoruns)||(n=w.getAutorunArray(),null!=(this.overrideDeltaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overrideDelta:function(e){var n=this.unobservedOverrideDelta;return n!=(this.unobservedOverrideDelta=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitOverrideDeltaChange(e,n),null!=(n=this.overrideDeltaAutoruns))&&(this.overrideDeltaAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateOverrideDelta:function(){var e=this.unobservedOverrideDelta,e=(this.emitOverrideDeltaChange(e,e),this.overrideDeltaAutoruns);null!=e&&(this.overrideDeltaAutoruns=null,w.invalidateAutorunArray(e))},unobservedOverrideDelta:null,__cbOnOverrideDeltaChange:null,__cbOnceOverrideDeltaChange:null,__cbOnOwnerUnbindOverrideDeltaChange:null,__cbOnceOwnerUnbindOverrideDeltaChange:null,emitOverrideDeltaChange:function(e,n){var t=0;if(null!=this.__cbOnOverrideDeltaChange&&(t+=this.__cbOnOverrideDeltaChange.length),null!=this.__cbOnceOverrideDeltaChange&&(t+=this.__cbOnceOverrideDeltaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOverrideDeltaChange)for(var r=0,h=this.__cbOnOverrideDeltaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnOverrideDeltaChange[a],++s):--t}if(null!=this.__cbOnceOverrideDeltaChange){for(var o=null,c=null,r=0,h=this.__cbOnceOverrideDeltaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceOverrideDeltaChange[a],this.__cbOnceOverrideDeltaChange[a]=null,u=this.__cbOnceOwnerUnbindOverrideDeltaChange[a],(this.__cbOnceOwnerUnbindOverrideDeltaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverrideDeltaChange[a]),c.push(this.__cbOnceOverrideDeltaChange[a]))}this.__cbOnceOwnerUnbindOverrideDeltaChange=o,this.__cbOnceOverrideDeltaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onOverrideDeltaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event overrideDeltaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverrideDeltaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverrideDeltaChange&&(this.__cbOnOwnerUnbindOverrideDeltaChange=[]),this.__cbOnOwnerUnbindOverrideDeltaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverrideDeltaChange&&(this.__cbOnOwnerUnbindOverrideDeltaChange=[]),this.__cbOnOwnerUnbindOverrideDeltaChange.push(null);null==this.__cbOnOverrideDeltaChange&&(this.__cbOnOverrideDeltaChange=[]),this.__cbOnOverrideDeltaChange.push(t)},onceOverrideDeltaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event overrideDeltaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverrideDeltaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverrideDeltaChange&&(this.__cbOnceOwnerUnbindOverrideDeltaChange=[]),this.__cbOnceOwnerUnbindOverrideDeltaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverrideDeltaChange&&(this.__cbOnceOwnerUnbindOverrideDeltaChange=[]),this.__cbOnceOwnerUnbindOverrideDeltaChange.push(null);null==this.__cbOnceOverrideDeltaChange&&(this.__cbOnceOverrideDeltaChange=[]),this.__cbOnceOverrideDeltaChange.push(t)},offOverrideDeltaChange:function(e){if(null!=e){var n;null!=this.__cbOnOverrideDeltaChange&&-1!=(n=this.__cbOnOverrideDeltaChange.indexOf(e))&&(this.__cbOnOverrideDeltaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOverrideDeltaChange[n])&&s(),this.__cbOnOwnerUnbindOverrideDeltaChange.splice(n,1)),null!=this.__cbOnceOverrideDeltaChange&&-1!=(n=this.__cbOnceOverrideDeltaChange.indexOf(e))&&(this.__cbOnceOverrideDeltaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOverrideDeltaChange[n])&&s(),this.__cbOnceOwnerUnbindOverrideDeltaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverrideDeltaChange){for(var t=0,i=this.__cbOnOwnerUnbindOverrideDeltaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOverrideDeltaChange[l])&&s()}this.__cbOnOwnerUnbindOverrideDeltaChange=null}if(null!=this.__cbOnceOwnerUnbindOverrideDeltaChange){for(t=0,i=this.__cbOnceOwnerUnbindOverrideDeltaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindOverrideDeltaChange[l])&&s()}this.__cbOnceOwnerUnbindOverrideDeltaChange=null}this.__cbOnOverrideDeltaChange=null,this.__cbOnceOverrideDeltaChange=null}},listensOverrideDeltaChange:function(){return null!=this.__cbOnOverrideDeltaChange&&0<this.__cbOnOverrideDeltaChange.length||null!=this.__cbOnceOverrideDeltaChange&&0<this.__cbOnceOverrideDeltaChange.length},preventDefaultMouseWheelAutoruns:null,get_preventDefaultMouseWheel:function(){var e,n,t=this.unobservedPreventDefaultMouseWheel;return null!=w.current&&(e=w.current,null!=(n=this.preventDefaultMouseWheelAutoruns)||(n=w.getAutorunArray(),null!=(this.preventDefaultMouseWheelAutoruns=n)))&&e.bindToAutorunArray(n),t},set_preventDefaultMouseWheel:function(e){var n=this.unobservedPreventDefaultMouseWheel;return n!=(this.unobservedPreventDefaultMouseWheel=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPreventDefaultMouseWheelChange(e,n),null!=(n=this.preventDefaultMouseWheelAutoruns))&&(this.preventDefaultMouseWheelAutoruns=null,w.invalidateAutorunArray(n)),e},invalidatePreventDefaultMouseWheel:function(){var e=this.unobservedPreventDefaultMouseWheel,e=(this.emitPreventDefaultMouseWheelChange(e,e),this.preventDefaultMouseWheelAutoruns);null!=e&&(this.preventDefaultMouseWheelAutoruns=null,w.invalidateAutorunArray(e))},unobservedPreventDefaultMouseWheel:null,__cbOnPreventDefaultMouseWheelChange:null,__cbOncePreventDefaultMouseWheelChange:null,__cbOnOwnerUnbindPreventDefaultMouseWheelChange:null,__cbOnceOwnerUnbindPreventDefaultMouseWheelChange:null,emitPreventDefaultMouseWheelChange:function(e,n){var t=0;if(null!=this.__cbOnPreventDefaultMouseWheelChange&&(t+=this.__cbOnPreventDefaultMouseWheelChange.length),null!=this.__cbOncePreventDefaultMouseWheelChange&&(t+=this.__cbOncePreventDefaultMouseWheelChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPreventDefaultMouseWheelChange)for(var r=0,h=this.__cbOnPreventDefaultMouseWheelChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPreventDefaultMouseWheelChange[a],++s):--t}if(null!=this.__cbOncePreventDefaultMouseWheelChange){for(var o=null,c=null,r=0,h=this.__cbOncePreventDefaultMouseWheelChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePreventDefaultMouseWheelChange[a],this.__cbOncePreventDefaultMouseWheelChange[a]=null,u=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[a],(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[a]),c.push(this.__cbOncePreventDefaultMouseWheelChange[a]))}this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=o,this.__cbOncePreventDefaultMouseWheelChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPreventDefaultMouseWheelChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event preventDefaultMouseWheelChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPreventDefaultMouseWheelChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.push(null);null==this.__cbOnPreventDefaultMouseWheelChange&&(this.__cbOnPreventDefaultMouseWheelChange=[]),this.__cbOnPreventDefaultMouseWheelChange.push(t)},oncePreventDefaultMouseWheelChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event preventDefaultMouseWheelChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPreventDefaultMouseWheelChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.push(null);null==this.__cbOncePreventDefaultMouseWheelChange&&(this.__cbOncePreventDefaultMouseWheelChange=[]),this.__cbOncePreventDefaultMouseWheelChange.push(t)},offPreventDefaultMouseWheelChange:function(e){if(null!=e){var n;null!=this.__cbOnPreventDefaultMouseWheelChange&&-1!=(n=this.__cbOnPreventDefaultMouseWheelChange.indexOf(e))&&(this.__cbOnPreventDefaultMouseWheelChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange[n])&&s(),this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.splice(n,1)),null!=this.__cbOncePreventDefaultMouseWheelChange&&-1!=(n=this.__cbOncePreventDefaultMouseWheelChange.indexOf(e))&&(this.__cbOncePreventDefaultMouseWheelChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[n])&&s(),this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange){for(var t=0,i=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange[l])&&s()}this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange=null}if(null!=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange){for(t=0,i=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[l])&&s()}this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=null}this.__cbOnPreventDefaultMouseWheelChange=null,this.__cbOncePreventDefaultMouseWheelChange=null}},listensPreventDefaultMouseWheelChange:function(){return null!=this.__cbOnPreventDefaultMouseWheelChange&&0<this.__cbOnPreventDefaultMouseWheelChange.length||null!=this.__cbOncePreventDefaultMouseWheelChange&&0<this.__cbOncePreventDefaultMouseWheelChange.length},preventDefaultTouchesAutoruns:null,get_preventDefaultTouches:function(){var e,n,t=this.unobservedPreventDefaultTouches;return null!=w.current&&(e=w.current,null!=(n=this.preventDefaultTouchesAutoruns)||(n=w.getAutorunArray(),null!=(this.preventDefaultTouchesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_preventDefaultTouches:function(e){var n=this.unobservedPreventDefaultTouches;return n!=(this.unobservedPreventDefaultTouches=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPreventDefaultTouchesChange(e,n),null!=(n=this.preventDefaultTouchesAutoruns))&&(this.preventDefaultTouchesAutoruns=null,w.invalidateAutorunArray(n)),e},invalidatePreventDefaultTouches:function(){var e=this.unobservedPreventDefaultTouches,e=(this.emitPreventDefaultTouchesChange(e,e),this.preventDefaultTouchesAutoruns);null!=e&&(this.preventDefaultTouchesAutoruns=null,w.invalidateAutorunArray(e))},unobservedPreventDefaultTouches:null,__cbOnPreventDefaultTouchesChange:null,__cbOncePreventDefaultTouchesChange:null,__cbOnOwnerUnbindPreventDefaultTouchesChange:null,__cbOnceOwnerUnbindPreventDefaultTouchesChange:null,emitPreventDefaultTouchesChange:function(e,n){var t=0;if(null!=this.__cbOnPreventDefaultTouchesChange&&(t+=this.__cbOnPreventDefaultTouchesChange.length),null!=this.__cbOncePreventDefaultTouchesChange&&(t+=this.__cbOncePreventDefaultTouchesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPreventDefaultTouchesChange)for(var r=0,h=this.__cbOnPreventDefaultTouchesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPreventDefaultTouchesChange[a],++s):--t}if(null!=this.__cbOncePreventDefaultTouchesChange){for(var o=null,c=null,r=0,h=this.__cbOncePreventDefaultTouchesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePreventDefaultTouchesChange[a],this.__cbOncePreventDefaultTouchesChange[a]=null,u=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[a],(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[a]),c.push(this.__cbOncePreventDefaultTouchesChange[a]))}this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=o,this.__cbOncePreventDefaultTouchesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPreventDefaultTouchesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event preventDefaultTouchesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPreventDefaultTouchesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnOwnerUnbindPreventDefaultTouchesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnOwnerUnbindPreventDefaultTouchesChange.push(null);null==this.__cbOnPreventDefaultTouchesChange&&(this.__cbOnPreventDefaultTouchesChange=[]),this.__cbOnPreventDefaultTouchesChange.push(t)},oncePreventDefaultTouchesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event preventDefaultTouchesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPreventDefaultTouchesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.push(null);null==this.__cbOncePreventDefaultTouchesChange&&(this.__cbOncePreventDefaultTouchesChange=[]),this.__cbOncePreventDefaultTouchesChange.push(t)},offPreventDefaultTouchesChange:function(e){if(null!=e){var n;null!=this.__cbOnPreventDefaultTouchesChange&&-1!=(n=this.__cbOnPreventDefaultTouchesChange.indexOf(e))&&(this.__cbOnPreventDefaultTouchesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPreventDefaultTouchesChange[n])&&s(),this.__cbOnOwnerUnbindPreventDefaultTouchesChange.splice(n,1)),null!=this.__cbOncePreventDefaultTouchesChange&&-1!=(n=this.__cbOncePreventDefaultTouchesChange.indexOf(e))&&(this.__cbOncePreventDefaultTouchesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[n])&&s(),this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPreventDefaultTouchesChange){for(var t=0,i=this.__cbOnOwnerUnbindPreventDefaultTouchesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPreventDefaultTouchesChange[l])&&s()}this.__cbOnOwnerUnbindPreventDefaultTouchesChange=null}if(null!=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange){for(t=0,i=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[l])&&s()}this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=null}this.__cbOnPreventDefaultTouchesChange=null,this.__cbOncePreventDefaultTouchesChange=null}},listensPreventDefaultTouchesChange:function(){return null!=this.__cbOnPreventDefaultTouchesChange&&0<this.__cbOnPreventDefaultTouchesChange.length||null!=this.__cbOncePreventDefaultTouchesChange&&0<this.__cbOncePreventDefaultTouchesChange.length},orientation:null,collections:null,appInfo:null,antialiasing:null,resizable:null,assetsPath:null,backend:null,defaultFont:null,defaultShader:null,unbindEvents:function(){this.offObservedDirty(),this.offTargetWidthChange(),this.offTargetHeightChange(),this.offWindowWidthChange(),this.offWindowHeightChange(),this.offTargetDensityChange(),this.offBackgroundChange(),this.offScalingChange(),this.offTitleChange(),this.offFullscreenChange(),this.offTargetFpsChange(),this.offMaxDeltaChange(),this.offOverrideDeltaChange(),this.offPreventDefaultMouseWheelChange(),this.offPreventDefaultTouchesChange()},__class__:zt,__properties__:{set_preventDefaultTouches:"set_preventDefaultTouches",get_preventDefaultTouches:"get_preventDefaultTouches",set_preventDefaultMouseWheel:"set_preventDefaultMouseWheel",get_preventDefaultMouseWheel:"get_preventDefaultMouseWheel",set_overrideDelta:"set_overrideDelta",get_overrideDelta:"get_overrideDelta",set_maxDelta:"set_maxDelta",get_maxDelta:"get_maxDelta",set_targetFps:"set_targetFps",get_targetFps:"get_targetFps",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_title:"set_title",get_title:"get_title",set_scaling:"set_scaling",get_scaling:"get_scaling",set_background:"set_background",get_background:"get_background",set_targetDensity:"set_targetDensity",get_targetDensity:"get_targetDensity",set_windowHeight:"set_windowHeight",get_windowHeight:"get_windowHeight",set_windowWidth:"set_windowWidth",get_windowWidth:"get_windowWidth",set_targetHeight:"set_targetHeight",get_targetHeight:"get_targetHeight",set_targetWidth:"set_targetWidth",get_targetWidth:"get_targetWidth"}},(E["ceramic.Shader"]=j1).__name__="ceramic.Shader",j1.__super__=j,j1.prototype=$extend(j.prototype,{backendItem:null,set_backendItem:function(e){if(this.backendItem!=e&&null!=(this.backendItem=e)){ke.app.backend.shaders;var n=0,t=e.customAttributes;if(null!=t)for(var i=0,l=t.length;i<l;)n+=t[i++].size;this.customFloatAttributesSize=n}return e},asset:null,attributes:null,baseAttributes:null,customAttributes:null,textureIdAttribute:null,customFloatAttributesSize:null,textureSlots:null,usedTextures:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),null!=this.backendItem&&(ke.app.backend.shaders,this.backendItem.destroy(),this.set_backendItem(null)),this.attributes=null)},clone:function(){ke.app.backend.shaders;var e=this.backendItem.clone(),n=new j1(this.customAttributes,this.baseAttributes,this.textureIdAttribute);return n.set_backendItem(e),n},setInt:function(e,n){ke.app.backend.shaders;this.backendItem.uniforms.setInt(e,n)},setFloat:function(e,n){ke.app.backend.shaders;this.backendItem.uniforms.setFloat(e,n)},setVec2:function(e,n,t){ke.app.backend.shaders;this.backendItem.uniforms.setVector2(e,n,t)},setFloatArray:function(e,n){ke.app.backend.shaders;this.backendItem.uniforms.setFloatArray(e,new Float32Array(n))},resolveTextureSlot:function(e){return-1},setTexture:function(e,n,t){(n=null==n?-1:n)<0&&(n=this.resolveTextureSlot(e)),null==this.textureSlots&&(this.textureSlots=new gt,this.usedTextures=[]);var i=this.textureSlots.get(n);null!=i&&this.usedTextures.splice(this.usedTextures.indexOf(i),1),this.textureSlots.set(n,t),null!=t&&this.usedTextures.push(t),ke.app.backend.shaders;this.backendItem.uniforms.setTexture(e,n,null!=t?t.backendItem:null)},setMat2:function(e,n,t,i,l){ke.app.backend.shaders;this.backendItem.uniforms.setMatrix2(e,new Float32Array([n,t,i,l]))},toString:function(){var e;return null!=this.id?(e=this.id,z.startsWith(e,"shader:")&&(e=he.substr(e,7,null)),null!=this.asset&&null!=this.asset.options.vertId||null!=this.asset.options.fragId?"Shader("+e+" "+(null!=this.asset.options.vertId?this.asset.options.vertId:"default")+" "+(null!=this.asset.options.fragId?this.asset.options.fragId:"default")+")":"Shader("+e+")"):"Shader()"},__class__:j1,__properties__:$extend(j.prototype.__properties__,{set_backendItem:"set_backendItem"})}),function(e,n,t){this.shaderClass=null,this.unobservedShader=null,this.shaderAutoruns=null,Ga.call(this,"shader",e,n,t)}),Gt=((E["ceramic.ShaderAsset"]=Yt).__name__="ceramic.ShaderAsset",Yt.__super__=Ga,Yt.prototype=$extend(Ga.prototype,{shaderAutoruns:null,get_shader:function(){var e,n,t=this.unobservedShader;return null!=w.current&&(e=w.current,null!=(n=this.shaderAutoruns)||(n=w.getAutorunArray(),null!=(this.shaderAutoruns=n)))&&e.bindToAutorunArray(n),t},set_shader:function(e){var n=this.unobservedShader;return n!=(this.unobservedShader=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitShaderChange(e,n),null!=(n=this.shaderAutoruns))&&(this.shaderAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateShader:function(){var e=this.unobservedShader,e=(this.emitShaderChange(e,e),this.shaderAutoruns);null!=e&&(this.shaderAutoruns=null,w.invalidateAutorunArray(e))},unobservedShader:null,__cbOnShaderChange:null,__cbOnceShaderChange:null,__cbOnOwnerUnbindShaderChange:null,__cbOnceOwnerUnbindShaderChange:null,emitShaderChange:function(e,n){var t=0;if(null!=this.__cbOnShaderChange&&(t+=this.__cbOnShaderChange.length),null!=this.__cbOnceShaderChange&&(t+=this.__cbOnceShaderChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnShaderChange)for(var r=0,h=this.__cbOnShaderChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnShaderChange[a],++s):--t}if(null!=this.__cbOnceShaderChange){for(var o=null,c=null,r=0,h=this.__cbOnceShaderChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceShaderChange[a],this.__cbOnceShaderChange[a]=null,u=this.__cbOnceOwnerUnbindShaderChange[a],(this.__cbOnceOwnerUnbindShaderChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindShaderChange[a]),c.push(this.__cbOnceShaderChange[a]))}this.__cbOnceOwnerUnbindShaderChange=o,this.__cbOnceShaderChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onShaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event shaderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindShaderChange&&(this.__cbOnOwnerUnbindShaderChange=[]),this.__cbOnOwnerUnbindShaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindShaderChange&&(this.__cbOnOwnerUnbindShaderChange=[]),this.__cbOnOwnerUnbindShaderChange.push(null);null==this.__cbOnShaderChange&&(this.__cbOnShaderChange=[]),this.__cbOnShaderChange.push(t)},onceShaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event shaderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offShaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindShaderChange&&(this.__cbOnceOwnerUnbindShaderChange=[]),this.__cbOnceOwnerUnbindShaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindShaderChange&&(this.__cbOnceOwnerUnbindShaderChange=[]),this.__cbOnceOwnerUnbindShaderChange.push(null);null==this.__cbOnceShaderChange&&(this.__cbOnceShaderChange=[]),this.__cbOnceShaderChange.push(t)},offShaderChange:function(e){if(null!=e){var n;null!=this.__cbOnShaderChange&&-1!=(n=this.__cbOnShaderChange.indexOf(e))&&(this.__cbOnShaderChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindShaderChange[n])&&s(),this.__cbOnOwnerUnbindShaderChange.splice(n,1)),null!=this.__cbOnceShaderChange&&-1!=(n=this.__cbOnceShaderChange.indexOf(e))&&(this.__cbOnceShaderChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindShaderChange[n])&&s(),this.__cbOnceOwnerUnbindShaderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindShaderChange){for(var t=0,i=this.__cbOnOwnerUnbindShaderChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindShaderChange[l])&&s()}this.__cbOnOwnerUnbindShaderChange=null}if(null!=this.__cbOnceOwnerUnbindShaderChange){for(t=0,i=this.__cbOnceOwnerUnbindShaderChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindShaderChange[l])&&s()}this.__cbOnceOwnerUnbindShaderChange=null}this.__cbOnShaderChange=null,this.__cbOnceShaderChange=null}},listensShaderChange:function(){return null!=this.__cbOnShaderChange&&0<this.__cbOnShaderChange.length||null!=this.__cbOnceShaderChange&&0<this.__cbOnceShaderChange.length},shaderClass:null,load:function(){var n=this;if(this.set_status(Cn.LOADING),null==this.path)ke.app.logger.warning("Cannot load shader asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:81,className:"ceramic.ShaderAsset",methodName:"load"}),this.set_status(Cn.BROKEN),this.emitComplete(!1);else{var t=null,e=null,i=null,l=null;if(null==this.shaderClass){if(e=[new Gt(3,"vertexPosition"),new Gt(2,"vertexTCoord"),new Gt(4,"vertexColor")],l=new Gt(1,"vertexTextureId"),null!=this.options.customAttributes)for(var i=[],s=this.options.customAttributes,r=0,h=s.length;r<h;){var a=s[r++];i.push(new Gt(a.size,a.name))}null!=this.owner&&(this.owner.immediate,this.owner.loadMethod),t=new j1(e,i,l)}else e=(t=B.createInstance(this.shaderClass,[])).baseAttributes,i=t.customAttributes,l=t.textureIdAttribute;var o=this.path;z.startsWith(o,"shaders_")&&(o=he.substr(o,"shaders_".length,null)),null!=l?ke.app.logger.info("Load shader "+o+" (multi-texture)",{fileName:"../../../../ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:137,className:"ceramic.ShaderAsset",methodName:"load"}):ke.app.logger.info("Load shader "+o,{fileName:"../../../../ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:140,className:"ceramic.ShaderAsset",methodName:"load"}),ke.app.backend.shaders.load(tn.realAssetPath(this.path,this.runtimeAssets),e,i,l,function(e){null==e?(n.set_status(Cn.BROKEN),null!=t&&(t.destroy(),t=null),ke.app.logger.error("Failed to load shader at path: "+n.path,{fileName:"../../../../ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:151,className:"ceramic.ShaderAsset",methodName:"load"}),n.emitComplete(!1)):(t.set_backendItem(e),n.set_shader(t),(n.get_shader().asset=n).get_shader().id="shader:"+n.path,n.set_status(Cn.READY),n.emitComplete(!0))})}},assetFilesDidChange:function(e,n){},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ga.prototype.destroy.call(this),null!=this.get_shader()&&(this.get_shader().destroy(),this.set_shader(null)))},toString:function(){var e,n,t="ShaderAsset";return null!=this.options.vertId||null!=this.options.fragId?(e=null!=this.options.vertId?this.options.vertId:"default",n=null!=this.options.fragId?this.options.fragId:"default",t+"("+this.name+" "+e+" "+n+")"):null!=this.path&&""!=z.trim(this.path)?t+"("+this.name+" "+this.path+")":t+"("+this.name+")"},unbindEvents:function(){Ga.prototype.unbindEvents.call(this),this.offShaderChange()},__class__:Yt,__properties__:$extend(Ga.prototype.__properties__,{set_shader:"set_shader",get_shader:"get_shader"})}),function(e,n){this.size=e,this.name=n}),Xt=((E["ceramic.ShaderAttribute"]=Gt).__name__="ceramic.ShaderAttribute",Gt.prototype={size:null,name:null,toString:function(){return""+ot.string({size:this.size,name:this.name})},__class__:Gt},(E["ceramic.Shape"]=m1).__name__="ceramic.Shape",m1.__super__=Aa,m1.prototype=$extend(Aa.prototype,{get_points:function(){return this.vertices},set_points:function(e){return this.vertices=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0,e},autoComputeSize:null,set_autoComputeSize:function(e){return this.autoComputeSize!=e&&(this.autoComputeSize=e)&&this.computeSize(),e},get_width:function(){return this.autoComputeSize&&this.contentDirty&&this.computeContent(),Aa.prototype.get_width.call(this)},get_height:function(){return this.autoComputeSize&&this.contentDirty&&this.computeContent(),Aa.prototype.get_height.call(this)},computeContent:function(){null!=this.vertices&&6<=this.vertices.length&&(null==this.indices&&(this.indices=[]),xi._triangulate(this.vertices,this.indices)),this.autoComputeSize&&this.computeSize(),this.contentDirty=!1},__class__:m1,__properties__:$extend(Aa.prototype.__properties__,{set_autoComputeSize:"set_autoComputeSize",set_points:"set_points",get_points:"get_points"})}),(E["ceramic.Shortcuts"]=n1).__name__="ceramic.Shortcuts",n1.__properties__={get_systems:"get_systems",get_log:"get_log",get_settings:"get_settings",get_input:"get_input",get_audio:"get_audio",get_screen:"get_screen",get_app:"get_app"},n1.get_app=function(){return ke.app},n1.get_screen=function(){return ke.app.screen},n1.get_audio=function(){return ke.app.audio},n1.get_input=function(){return ke.app.input},n1.get_settings=function(){return ke.app.settings},n1.get_log=function(){return ke.app.logger},n1.get_systems=function(){return ke.app.systems},n1.unobserve=function(){w.unobserve()},n1.reobserve=function(){w.reobserve()},n1.cease=function(){w.cease()},(E["ceramic.SlugOptions"]=o1).__name__="ceramic.SlugOptions",o1.prototype={lower:null,remove:null,replacement:null,__class__:o1},function(){}),Kt=((E["ceramic.Slug"]=Xt).__name__="ceramic.Slug",Xt.encode=function(e,n){null==n&&(n=Xt.DEFAULT_OPTIONS);for(var t="",i=0,l=e;i<l.length;){var s=l,r=i++,h=s.charCodeAt(r),s=(h=55296<=h&&h<=56319?h-55232<<10|1023&s.charCodeAt(1+r):h,65536<=h&&++i,h);t+=ot.string(Xt.charMap.h.hasOwnProperty(s)?Xt.charMap.h[s]:String.fromCodePoint(s))}e=z.trim(t),e=(null!=n.remove?n.remove:Xt.safe).map(e,function(e){return""});return e=z.replace(e," ",n.replacement),n.lower?e.toLowerCase():e},function(){}),qt=((E["ceramic.SortVisuals"]=Kt).__name__="ceramic.SortVisuals",Kt.cmp=function(e,n){var t,i,l,s,r=0;return e.computedVisible||e.computedTouchable?n.computedVisible||n.computedTouchable?e.computedRenderTarget!=n.computedRenderTarget?r=null!=e.computedRenderTarget&&(null==n.computedRenderTarget||e.computedRenderTarget.priority>n.computedRenderTarget.priority||!(e.computedRenderTarget.priority<n.computedRenderTarget.priority)&&e.computedRenderTarget.index<n.computedRenderTarget.index)?-1:1:e.computedDepth>n.computedDepth?r=1:e.computedDepth<n.computedDepth?r=-1:(s=e.asQuad,t=n.asQuad,l=e.asMesh,i=n.asMesh,null==s&&null==l||null==t&&null==i||(l=null!=l?l.texture:s._texture,s=null!=i?i.texture:t._texture,null!=l&&null==s?r=1:null==l&&null!=s?r=-1:null!=l&&null!=s?l.index<s.index?r=1:l.index>s.index?r=-1:e.blending>n.blending?r=1:e.blending<n.blending&&(r=-1):e.blending>n.blending?r=1:e.blending<n.blending&&(r=-1))):r=1:r=-1,r},Kt.sort=function(e){Kt.rec(e,0,e.length)},Kt.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(!(t<=n))for(var l=n+1,s=t;l<s;)for(var r=l++;n<r;){var h,a,o=e[r],c=e[r-1],u=0;if(o.computedVisible||o.computedTouchable?c.computedVisible||c.computedTouchable?o.computedRenderTarget!=c.computedRenderTarget?u=null!=o.computedRenderTarget&&(null==c.computedRenderTarget||o.computedRenderTarget.priority>c.computedRenderTarget.priority||!(o.computedRenderTarget.priority<c.computedRenderTarget.priority)&&o.computedRenderTarget.index<c.computedRenderTarget.index)?-1:1:o.computedDepth>c.computedDepth?u=1:o.computedDepth<c.computedDepth?u=-1:(a=o.asQuad,d=c.asQuad,h=o.asMesh,_=c.asMesh,null==a&&null==h||null==d&&null==_||(h=null!=h?h.texture:a._texture,a=null!=_?_.texture:d._texture,null!=h&&null==a?u=1:null==h&&null!=a?u=-1:null!=h&&null!=a?h.index<a.index?u=1:h.index>a.index?u=-1:o.blending>c.blending?u=1:o.blending<c.blending&&(u=-1):o.blending>c.blending?u=1:o.blending<c.blending&&(u=-1))):u=1:u=-1,!(u<0))break;var _=r-1,d=e[_];e[_]=e[r],e[r]=d,--r}}else Kt.rec(e,n,i),Kt.rec(e,i,t),Kt.doMerge(e,n,i,t,i-n,t-i)},Kt.doMerge=function(e,n,t,i,l,s){var r;if(0!=l&&0!=s)if(l+s==2)c=e[t],u=e[n],_=0,c.computedVisible||c.computedTouchable?u.computedVisible||u.computedTouchable?c.computedRenderTarget!=u.computedRenderTarget?_=null!=c.computedRenderTarget&&(null==u.computedRenderTarget||c.computedRenderTarget.priority>u.computedRenderTarget.priority||!(c.computedRenderTarget.priority<u.computedRenderTarget.priority)&&c.computedRenderTarget.index<u.computedRenderTarget.index)?-1:1:c.computedDepth>u.computedDepth?_=1:c.computedDepth<u.computedDepth?_=-1:(p=c.asQuad,C=u.asQuad,v=c.asMesh,m=u.asMesh,w=null!=C||null!=m,(null!=p||null!=v)&&w&&(y=null!=v?v.texture:p._texture,U=null!=m?m.texture:C._texture,null!=y&&null==U?_=1:null==y&&null!=U?_=-1:null!=y&&null!=U?y.index<U.index?_=1:y.index>U.index?_=-1:c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1):c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1))):_=1:_=-1,_<0&&(P=e[t],e[t]=e[n],e[n]=P);else{if(s<l){for(var h,a=n+(h=l>>1),o=i-(b=t);0<o;){var c=e[O=b+(g=o>>1)],u=e[a],_=0;c.computedVisible||c.computedTouchable?u.computedVisible||u.computedTouchable?c.computedRenderTarget!=u.computedRenderTarget?_=null!=c.computedRenderTarget&&(null==u.computedRenderTarget||c.computedRenderTarget.priority>u.computedRenderTarget.priority||!(c.computedRenderTarget.priority<u.computedRenderTarget.priority)&&c.computedRenderTarget.index<u.computedRenderTarget.index)?-1:1:c.computedDepth>u.computedDepth?_=1:c.computedDepth<u.computedDepth?_=-1:(p=c.asQuad,C=u.asQuad,v=c.asMesh,m=u.asMesh,w=null!=C||null!=m,(null!=p||null!=v)&&w&&(y=null!=v?v.texture:p._texture,U=null!=m?m.texture:C._texture,null!=y&&null==U?_=1:null==y&&null!=U?_=-1:null!=y&&null!=U?y.index<U.index?_=1:y.index>U.index?_=-1:c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1):c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1))):_=1:_=-1,o=_<0?(b=O+1,o-g-1):g}d=(f=b)-t}else{for(var d,b,g,O,f=t+(d=s>>1),o=t-(b=n);0<o;){var p,C,v,m,w,y,U,c=e[f],u=e[O=b+(g=o>>1)],_=0;c.computedVisible||c.computedTouchable?u.computedVisible||u.computedTouchable?c.computedRenderTarget!=u.computedRenderTarget?_=null!=c.computedRenderTarget&&(null==u.computedRenderTarget||c.computedRenderTarget.priority>u.computedRenderTarget.priority||!(c.computedRenderTarget.priority<u.computedRenderTarget.priority)&&c.computedRenderTarget.index<u.computedRenderTarget.index)?-1:1:c.computedDepth>u.computedDepth?_=1:c.computedDepth<u.computedDepth?_=-1:(p=c.asQuad,C=u.asQuad,v=c.asMesh,m=u.asMesh,w=null!=C||null!=m,(null!=p||null!=v)&&w&&(y=null!=v?v.texture:p._texture,U=null!=m?m.texture:C._texture,null!=y&&null==U?_=1:null==y&&null!=U?_=-1:null!=y&&null!=U?y.index<U.index?_=1:y.index>U.index?_=-1:c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1):c.blending>u.blending?_=1:c.blending<u.blending&&(_=-1))):_=1:_=-1,o=_<0?g:(b=O+1,o-g-1)}h=(a=b)-n}if(a!=t&&t!=f){for(var D=f-a,T=t-a;0!=T;)var x=D%T,D=T,T=x;for(r=D;0!=r--;){for(var S=e[a+r],A=t-a,k=a+r,I=a+r+A;I!=a+r;)e[k]=e[I],A<f-(k=I)?I+=A:I=a+(A-(f-I));e[k]=S}}var P=a+d;Kt.doMerge(e,n,a,P,h,d),Kt.doMerge(e,P,f,i,l-h,s-d)}},Kt.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,s=t-n;0!=s;){var r=l%s,l=s;s=r}for(s=l;0!=s--;){for(var h=e[n+s],a=t-n,o=n+s,c=n+s+a;c!=n+s;)e[o]=e[c],a<i-(o=c)?c+=a:c=n+(a-(i-c));e[o]=h}}},Kt.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},Kt.upper=function(e,n,t,i){for(var l=t-n;0<l;){var s,r,h,a,o,c,u=e[i],_=e[r=n+(s=l>>1)],d=0;u.computedVisible||u.computedTouchable?_.computedVisible||_.computedTouchable?u.computedRenderTarget!=_.computedRenderTarget?d=null!=u.computedRenderTarget&&(null==_.computedRenderTarget||u.computedRenderTarget.priority>_.computedRenderTarget.priority||!(u.computedRenderTarget.priority<_.computedRenderTarget.priority)&&u.computedRenderTarget.index<_.computedRenderTarget.index)?-1:1:u.computedDepth>_.computedDepth?d=1:u.computedDepth<_.computedDepth?d=-1:(c=u.asQuad,h=_.asQuad,o=u.asMesh,a=_.asMesh,null==c&&null==o||null==h&&null==a||(o=null!=o?o.texture:c._texture,c=null!=a?a.texture:h._texture,null!=o&&null==c?d=1:null==o&&null!=c?d=-1:null!=o&&null!=c?o.index<c.index?d=1:o.index>c.index?d=-1:u.blending>_.blending?d=1:u.blending<_.blending&&(d=-1):u.blending>_.blending?d=1:u.blending<_.blending&&(d=-1))):d=1:d=-1,l=d<0?s:(n=r+1,l-s-1)}return n},Kt.lower=function(e,n,t,i){for(var l=t-n;0<l;){var s,r,h,a,o,c,u=e[r=n+(s=l>>1)],_=e[i],d=0;u.computedVisible||u.computedTouchable?_.computedVisible||_.computedTouchable?u.computedRenderTarget!=_.computedRenderTarget?d=null!=u.computedRenderTarget&&(null==_.computedRenderTarget||u.computedRenderTarget.priority>_.computedRenderTarget.priority||!(u.computedRenderTarget.priority<_.computedRenderTarget.priority)&&u.computedRenderTarget.index<_.computedRenderTarget.index)?-1:1:u.computedDepth>_.computedDepth?d=1:u.computedDepth<_.computedDepth?d=-1:(c=u.asQuad,h=_.asQuad,o=u.asMesh,a=_.asMesh,null==c&&null==o||null==h&&null==a||(o=null!=o?o.texture:c._texture,c=null!=a?a.texture:h._texture,null!=o&&null==c?d=1:null==o&&null!=c?d=-1:null!=o&&null!=c?o.index<c.index?d=1:o.index>c.index?d=-1:u.blending>_.blending?d=1:u.blending<_.blending&&(d=-1):u.blending>_.blending?d=1:u.blending<_.blending&&(d=-1))):d=1:d=-1,l=d<0?(n=r+1,l-s-1):s}return n},Kt.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},Kt.compare=function(e,n,t){var i,l,s,r,n=e[n],e=e[t],t=0;return n.computedVisible||n.computedTouchable?e.computedVisible||e.computedTouchable?n.computedRenderTarget!=e.computedRenderTarget?t=null!=n.computedRenderTarget&&(null==e.computedRenderTarget||n.computedRenderTarget.priority>e.computedRenderTarget.priority||!(n.computedRenderTarget.priority<e.computedRenderTarget.priority)&&n.computedRenderTarget.index<e.computedRenderTarget.index)?-1:1:n.computedDepth>e.computedDepth?t=1:n.computedDepth<e.computedDepth?t=-1:(r=n.asQuad,i=e.asQuad,s=n.asMesh,l=e.asMesh,null==r&&null==s||null==i&&null==l||(s=null!=s?s.texture:r._texture,r=null!=l?l.texture:i._texture,null!=s&&null==r?t=1:null==s&&null!=r?t=-1:null!=s&&null!=r?s.index<r.index?t=1:s.index>r.index?t=-1:n.blending>e.blending?t=1:n.blending<e.blending&&(t=-1):n.blending>e.blending?t=1:n.blending<e.blending&&(t=-1))):t=1:t=-1,t},function(){}),$t=((E["ceramic.SortVisualsByDepth"]=qt).__name__="ceramic.SortVisualsByDepth",qt.cmp=function(e,n){var t=0;return e.depth>n.depth?t=1:e.depth<n.depth&&(t=-1),t},qt.sort=function(e){qt.rec(e,0,e.length)},qt.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(!(t<=n))for(var l=n+1,s=t;l<s;)for(var r=l++;n<r;){var h=e[r],a=e[r-1],o=0;if(h.depth>a.depth?o=1:h.depth<a.depth&&(o=-1),!(o<0))break;h=r-1,a=e[h];e[h]=e[r],e[r]=a,--r}}else qt.rec(e,n,i),qt.rec(e,i,t),qt.doMerge(e,n,i,t,i-n,t-i)},qt.doMerge=function(e,n,t,i,l,s){var r;if(0!=l&&0!=s)if(l+s==2)c=e[t],u=e[n],_=0,c.depth>u.depth?_=1:c.depth<u.depth&&(_=-1),_<0&&(D=e[t],e[t]=e[n],e[n]=D);else{if(s<l){for(var h,a=n+(h=l>>1),o=i-(b=t);0<o;){var c=e[O=b+(g=o>>1)],u=e[a],_=0;c.depth>u.depth?_=1:c.depth<u.depth&&(_=-1),o=_<0?(b=O+1,o-g-1):g}d=(f=b)-t}else{for(var d,b,g,O,f=t+(d=s>>1),o=t-(b=n);0<o;){c=e[f],u=e[O=b+(g=o>>1)],_=0;c.depth>u.depth?_=1:c.depth<u.depth&&(_=-1),o=_<0?g:(b=O+1,o-g-1)}h=(a=b)-n}if(a!=t&&t!=f){for(var p=f-a,C=t-a;0!=C;)var v=p%C,p=C,C=v;for(r=p;0!=r--;){for(var m=e[a+r],w=t-a,y=a+r,U=a+r+w;U!=a+r;)e[y]=e[U],w<f-(y=U)?U+=w:U=a+(w-(f-U));e[y]=m}}var D=a+d;qt.doMerge(e,n,a,D,h,d),qt.doMerge(e,D,f,i,l-h,s-d)}},qt.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var l=i-n,s=t-n;0!=s;){var r=l%s,l=s;s=r}for(s=l;0!=s--;){for(var h=e[n+s],a=t-n,o=n+s,c=n+s+a;c!=n+s;)e[o]=e[c],a<i-(o=c)?c+=a:c=n+(a-(i-c));e[o]=h}}},qt.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},qt.upper=function(e,n,t,i){for(var l=t-n;0<l;){var s,r,h=e[i],a=e[r=n+(s=l>>1)],o=0;h.depth>a.depth?o=1:h.depth<a.depth&&(o=-1),l=o<0?s:(n=r+1,l-s-1)}return n},qt.lower=function(e,n,t,i){for(var l=t-n;0<l;){var s,r,h=e[r=n+(s=l>>1)],a=e[i],o=0;h.depth>a.depth?o=1:h.depth<a.depth&&(o=-1),l=o<0?(n=r+1,l-s-1):s}return n},qt.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},qt.compare=function(e,n,t){n=e[n],e=e[t],t=0;return n.depth>e.depth?t=1:n.depth<e.depth&&(t=-1),t},(E["ceramic.Sound"]=s1).__name__="ceramic.Sound",s1.fromSamplesBuffer=function(e,n,t,i,l){e=ke.app.backend.audio.createFromSamplesBuffer(e,n,t,i,l);return new s1(e)},s1.__super__=j,s1.prototype=$extend(j.prototype,{backendItem:null,asset:null,bus:null,group:null,set_group:function(e){var n;return this.group==e||(this.group=e,(n=ke.app.audio).mixers.exists(e))||n.mixers.set(e,new wn(e)),e},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy();for(var e=ke.app.backend.audio,n=this.backendItem,t=null,i=e.loadedAudioResources.h,l=i,s=Object.keys(i),r=s.length,h=0;h<r;){var a=s[h++];l[a]==n&&(t=a)}null==t?ke.app.logger.error("Failed to destroy audio resource: "+ot.string(n)+" because id could not be resolved",{fileName:"../../../../ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:284,className:"backend.Audio",methodName:"destroy"}):1<e.loadedAudioRetainCount.h[t]?--e.loadedAudioRetainCount.h[t]:(i=e.loadedAudioResources,Object.prototype.hasOwnProperty.call(i.h,t)&&delete i.h[t],i=e.loadedAudioRetainCount,Object.prototype.hasOwnProperty.call(i.h,t)&&delete i.h[t],n.destroy()),this.backendItem=null}},volume:null,pan:null,pitch:null,get_duration:function(){ke.app.backend.audio;return this.backendItem.getDuration()},play:function(e,n,t,i,l,s){null==n&&(n=!1);var r=ke.app.audio.mixers,h=r._keys.intMap.h[0|this.group],h=null!=h?h:0,r=2<=h?r.values[h-2]:gt.RET_NULL;return r.mute?-1:(null==t&&(t=this.volume),null==i&&(i=this.pan),null==l&&(l=this.pitch),null==s&&(s=this.bus),t*=2*r.volume,i+=r.pan,l+=r.pitch-1,ke.app.backend.audio.play(this.backendItem,t,i,l,e=null==e?0:e,n,s))},__class__:s1,__properties__:$extend(j.prototype.__properties__,{get_duration:"get_duration",set_group:"set_group"})}),function(e,n,t){this.unobservedSound=null,this.soundAutoruns=null,this.stream=!1,Ga.call(this,"sound",e,n,t)}),jt=((E["ceramic.SoundAsset"]=$t).__name__="ceramic.SoundAsset",$t.__super__=Ga,$t.prototype=$extend(Ga.prototype,{__cbOnReplaceSound:null,__cbOnceReplaceSound:null,__cbOnOwnerUnbindReplaceSound:null,__cbOnceOwnerUnbindReplaceSound:null,emitReplaceSound:function(e,n){var t=0;if(null!=this.__cbOnReplaceSound&&(t+=this.__cbOnReplaceSound.length),null!=this.__cbOnceReplaceSound&&(t+=this.__cbOnceReplaceSound.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnReplaceSound)for(var r=0,h=this.__cbOnReplaceSound.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnReplaceSound[a],++s):--t}if(null!=this.__cbOnceReplaceSound){for(var o=null,c=null,r=0,h=this.__cbOnceReplaceSound.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceReplaceSound[a],this.__cbOnceReplaceSound[a]=null,u=this.__cbOnceOwnerUnbindReplaceSound[a],(this.__cbOnceOwnerUnbindReplaceSound[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindReplaceSound[a]),c.push(this.__cbOnceReplaceSound[a]))}this.__cbOnceOwnerUnbindReplaceSound=o,this.__cbOnceReplaceSound=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onReplaceSound:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event replaceSound because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceSound(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplaceSound&&(this.__cbOnOwnerUnbindReplaceSound=[]),this.__cbOnOwnerUnbindReplaceSound.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplaceSound&&(this.__cbOnOwnerUnbindReplaceSound=[]),this.__cbOnOwnerUnbindReplaceSound.push(null);null==this.__cbOnReplaceSound&&(this.__cbOnReplaceSound=[]),this.__cbOnReplaceSound.push(t)},onceReplaceSound:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event replaceSound because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceSound(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplaceSound&&(this.__cbOnceOwnerUnbindReplaceSound=[]),this.__cbOnceOwnerUnbindReplaceSound.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplaceSound&&(this.__cbOnceOwnerUnbindReplaceSound=[]),this.__cbOnceOwnerUnbindReplaceSound.push(null);null==this.__cbOnceReplaceSound&&(this.__cbOnceReplaceSound=[]),this.__cbOnceReplaceSound.push(t)},offReplaceSound:function(e){if(null!=e){var n;null!=this.__cbOnReplaceSound&&-1!=(n=this.__cbOnReplaceSound.indexOf(e))&&(this.__cbOnReplaceSound.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplaceSound[n])&&s(),this.__cbOnOwnerUnbindReplaceSound.splice(n,1)),null!=this.__cbOnceReplaceSound&&-1!=(n=this.__cbOnceReplaceSound.indexOf(e))&&(this.__cbOnceReplaceSound.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplaceSound[n])&&s(),this.__cbOnceOwnerUnbindReplaceSound.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceSound){for(var t=0,i=this.__cbOnOwnerUnbindReplaceSound.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplaceSound[l])&&s()}this.__cbOnOwnerUnbindReplaceSound=null}if(null!=this.__cbOnceOwnerUnbindReplaceSound){for(t=0,i=this.__cbOnceOwnerUnbindReplaceSound.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReplaceSound[l])&&s()}this.__cbOnceOwnerUnbindReplaceSound=null}this.__cbOnReplaceSound=null,this.__cbOnceReplaceSound=null}},listensReplaceSound:function(){return null!=this.__cbOnReplaceSound&&0<this.__cbOnReplaceSound.length||null!=this.__cbOnceReplaceSound&&0<this.__cbOnceReplaceSound.length},stream:null,soundAutoruns:null,get_sound:function(){var e,n,t=this.unobservedSound;return null!=w.current&&(e=w.current,null!=(n=this.soundAutoruns)||(n=w.getAutorunArray(),null!=(this.soundAutoruns=n)))&&e.bindToAutorunArray(n),t},set_sound:function(e){var n=this.unobservedSound;return n!=(this.unobservedSound=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSoundChange(e,n),null!=(n=this.soundAutoruns))&&(this.soundAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateSound:function(){var e=this.unobservedSound,e=(this.emitSoundChange(e,e),this.soundAutoruns);null!=e&&(this.soundAutoruns=null,w.invalidateAutorunArray(e))},unobservedSound:null,__cbOnSoundChange:null,__cbOnceSoundChange:null,__cbOnOwnerUnbindSoundChange:null,__cbOnceOwnerUnbindSoundChange:null,emitSoundChange:function(e,n){var t=0;if(null!=this.__cbOnSoundChange&&(t+=this.__cbOnSoundChange.length),null!=this.__cbOnceSoundChange&&(t+=this.__cbOnceSoundChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSoundChange)for(var r=0,h=this.__cbOnSoundChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSoundChange[a],++s):--t}if(null!=this.__cbOnceSoundChange){for(var o=null,c=null,r=0,h=this.__cbOnceSoundChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSoundChange[a],this.__cbOnceSoundChange[a]=null,u=this.__cbOnceOwnerUnbindSoundChange[a],(this.__cbOnceOwnerUnbindSoundChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSoundChange[a]),c.push(this.__cbOnceSoundChange[a]))}this.__cbOnceOwnerUnbindSoundChange=o,this.__cbOnceSoundChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSoundChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event soundChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSoundChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSoundChange&&(this.__cbOnOwnerUnbindSoundChange=[]),this.__cbOnOwnerUnbindSoundChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSoundChange&&(this.__cbOnOwnerUnbindSoundChange=[]),this.__cbOnOwnerUnbindSoundChange.push(null);null==this.__cbOnSoundChange&&(this.__cbOnSoundChange=[]),this.__cbOnSoundChange.push(t)},onceSoundChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event soundChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSoundChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSoundChange&&(this.__cbOnceOwnerUnbindSoundChange=[]),this.__cbOnceOwnerUnbindSoundChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSoundChange&&(this.__cbOnceOwnerUnbindSoundChange=[]),this.__cbOnceOwnerUnbindSoundChange.push(null);null==this.__cbOnceSoundChange&&(this.__cbOnceSoundChange=[]),this.__cbOnceSoundChange.push(t)},offSoundChange:function(e){if(null!=e){var n;null!=this.__cbOnSoundChange&&-1!=(n=this.__cbOnSoundChange.indexOf(e))&&(this.__cbOnSoundChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSoundChange[n])&&s(),this.__cbOnOwnerUnbindSoundChange.splice(n,1)),null!=this.__cbOnceSoundChange&&-1!=(n=this.__cbOnceSoundChange.indexOf(e))&&(this.__cbOnceSoundChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSoundChange[n])&&s(),this.__cbOnceOwnerUnbindSoundChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSoundChange){for(var t=0,i=this.__cbOnOwnerUnbindSoundChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSoundChange[l])&&s()}this.__cbOnOwnerUnbindSoundChange=null}if(null!=this.__cbOnceOwnerUnbindSoundChange){for(t=0,i=this.__cbOnceOwnerUnbindSoundChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSoundChange[l])&&s()}this.__cbOnceOwnerUnbindSoundChange=null}this.__cbOnSoundChange=null,this.__cbOnceSoundChange=null}},listensSoundChange:function(){return null!=this.__cbOnSoundChange&&0<this.__cbOnSoundChange.length||null!=this.__cbOnceSoundChange&&0<this.__cbOnceSoundChange.length},load:function(){var l=this;if(this.set_status(Cn.LOADING),null==this.path)ke.app.logger.warning("Cannot load sound asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:78,className:"ceramic.SoundAsset",methodName:"load"}),this.set_status(Cn.BROKEN),this.emitComplete(!1);else{var s={};if(null!=this.owner&&(s.immediate=this.owner.immediate,s.loadMethod=this.owner.loadMethod),null!=this.options)for(var e=0,n=L.fields(this.options);e<n.length;){var t=n[e];++e,s[t]=L.field(this.options,t)}var r=[].concat(this.allPaths),h=function(e){var n;null!=e?(n=l.get_sound(),((e=new s1(e)).asset=l).set_sound(e),null!=n&&(l.emitReplaceSound(l.get_sound(),n),n.asset=null,n.destroy()),l.set_status(Cn.READY),l.emitComplete(!0)):(l.set_status(Cn.BROKEN),ke.app.logger.error("Failed to load audio at path: "+l.path,{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:122,className:"ceramic.SoundAsset",methodName:"load"}),l.emitComplete(!1))},a=null,a=function(n){var e=n,t=tn.realAssetPath(e,l.runtimeAssets),i=tn.getReloadCount(t),i=(0<i&&(t+="?hot="+i,e+="?hot="+i),ke.app.logger.info("Load sound "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:138,className:"ceramic.SoundAsset",methodName:"load"}),Dt.extension(t));null!=i&&(i=i.toLowerCase()),ke.app.backend.audio.load(t,s,function(e){null!=e||0==r.length?h(e):(e=r.shift(),ke.app.logger.warning("Failed to load "+n+". Try "+e+"...",{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:151,className:"ceramic.SoundAsset",methodName:"load"}),a(e))})};0<r.length?a(r.shift()):(this.set_status(Cn.BROKEN),ke.app.logger.error("Failed to load audio at path: "+this.path,{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:163,className:"ceramic.SoundAsset",methodName:"load"}),this.emitComplete(!1))}},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ke.app.logger.info("Reload sound (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:188,className:"ceramic.SoundAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ga.prototype.destroy.call(this),null!=this.get_sound()&&(this.get_sound().destroy(),this.set_sound(null)))},unbindEvents:function(){Ga.prototype.unbindEvents.call(this),this.offReplaceSound(),this.offSoundChange()},__class__:$t,__properties__:$extend(Ga.prototype.__properties__,{set_sound:"set_sound",get_sound:"get_sound"})}),function(){this.updateVisibleSlotWithNameDispatchersAsList=null,this.updateVisibleSlotWithNameDispatchers=null,this.updateSlotWithNameDispatchersAsList=null,this.updateSlotWithNameDispatchers=null,this.globalSlotIndexFromSkeletonSlotIndex=[],this.resetSkeleton=!1,this.resetAtChange=!0,this.frozen=!1,this.paused=!1,this.autoFreeze=!0,this.pausedOrFrozen=!1,this.autoUpdate=!0,this.loop=!0,this.nextAnimations=null,this.animation=null,this._settingNextAnimation=!1,this.skin=null,this.spineData=null,this.autoRenderOnAnimate=!1,this.color=16777215,this.hasParentSpine=!1,this.renderWhenInvisible=!1,this.hitWithFirstBoundingBox=!1,this.hitWithSlotIndex=-1,this.animationTriggers=null,this.disabledSlots=null,this.visibleSlots=null,this.hiddenSlots=null,this.forceTintBlack=!1,this.skeletonScale=1,this.skeletonOriginY=.5,this.skeletonOriginX=.5,this.hasSlotsWithTintBlack=!1,this.renderDirty=!1,this.renderDirtyAgressive=!1,this.runScheduledRenderDyn=null,this.renderScheduled=!1,this.deferEvents=!1,this.muteEvents=!1,this.slotClips=new gt(16,.5,!0),this.clipShape=null,this.clipper=new Cr,this.firstBoundingBoxSlotIndex=-1,this.setupBoneTransforms=null,this.globalBoundParentSlotVisible=!1,this.globalBoundParentSlotDepth=0,this.globalBoundParentSlot=null,this.globalBoundParentSlotGlobalIndex=-1,this.boundChildSlotsDirty=!1,this.boundChildSlots=null,this.boundParentSlots=null,this.subDepthStep=.01,this.subSpines=null,this.slotInfo=new Jt,this.slotMeshes=new gt(16,.5,!0),q.call(this),null==jt._tintBlackShader&&(jt._tintBlackShader=ke.app.assets._shaderFromClass(As)),li.get_shared().spines.push(this)}),Qt=((E["ceramic.Spine"]=jt).__name__="ceramic.Spine",jt.intToFloatColor=function(e){return-16777217&e},jt.globalSlotIndexForName=function(e){return Object.prototype.hasOwnProperty.call(jt._globalSlotIndexes.h,e)||(jt._globalSlotIndexes.h[e]=jt._nextGlobalSlotIndex++),jt._globalSlotIndexes.h[e]},jt.__super__=q,jt.prototype=$extend(q.prototype,{listener:null,slotMeshes:null,slotInfo:null,subSpines:null,subDepthStep:null,boundParentSlots:null,boundChildSlots:null,boundChildSlotsDirty:null,globalBoundParentSlotGlobalIndex:null,globalBoundParentSlot:null,globalBoundParentSlotDepth:null,globalBoundParentSlotVisible:null,setupBoneTransforms:null,firstBoundingBoxSlotIndex:null,clipper:null,clipShape:null,slotClips:null,muteEvents:null,deferEvents:null,__cbOnComplete:null,__cbOnceComplete:null,__cbOnOwnerUnbindComplete:null,__cbOnceOwnerUnbindComplete:null,emitComplete:function(){if(null!=this.nextAnimations&&0<this.nextAnimations.length)this._settingNextAnimation=!0,this.set_animation(this.nextAnimations.shift()),this.emitApplyNextAnimation(this.animation),this._settingNextAnimation=!1;else{if(this.emitFinishCurrentAnimationChain(),this.autoFreeze){var e=!0;if(null!=this.state)for(var n=this.state.tracks,t=0,i=n.length;t<i;){var l=n[a=t++];if(null!=l&&null!=l.animation&&0<l.animation.duration&&(l.loop||l.trackTime<l.animation.duration)){e=!1;break}}else e=!1;r=e}else r=!1;r&&this.set_frozen(!0)}var s=0;if(null!=this.__cbOnComplete&&(s+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(s+=this.__cbOnceComplete.length),0<s){var r=C.pool(s),h=r.get(),a=0;if(null!=this.__cbOnComplete)for(t=0,i=this.__cbOnComplete.length;t<i;){var o=t++;!0?(h.vector[a]=this.__cbOnComplete[o],++a):--s}if(null!=this.__cbOnceComplete){for(var c=null,u=null,t=0,i=this.__cbOnceComplete.length;t<i;){var _,o=t++;!0?(h.vector[a]=this.__cbOnceComplete[o],this.__cbOnceComplete[o]=null,_=this.__cbOnceOwnerUnbindComplete[o],(this.__cbOnceOwnerUnbindComplete[o]=null)!=_&&_(),++a):(--s,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindComplete[o]),u.push(this.__cbOnceComplete[o]))}this.__cbOnceOwnerUnbindComplete=c,this.__cbOnceComplete=u}for(t=0,i=s;t<i;){a=t++;(0,h.vector[a])()}r.release(h)}},onComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(t)},onceComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(t)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(s=this.__cbOnOwnerUnbindComplete[n])&&s(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindComplete[n])&&s(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindComplete[l])&&s()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindComplete[l])&&s()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&0<this.__cbOnComplete.length||null!=this.__cbOnceComplete&&0<this.__cbOnceComplete.length},__cbOnBeginRender:null,__cbOnceBeginRender:null,__cbOnOwnerUnbindBeginRender:null,__cbOnceOwnerUnbindBeginRender:null,emitBeginRender:function(){var e=0;if(null!=this.__cbOnBeginRender&&(e+=this.__cbOnBeginRender.length),null!=this.__cbOnceBeginRender&&(e+=this.__cbOnceBeginRender.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginRender)for(var l=0,s=this.__cbOnBeginRender.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnBeginRender[r],++i):--e}if(null!=this.__cbOnceBeginRender){for(var h=null,a=null,l=0,s=this.__cbOnceBeginRender.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceBeginRender[r],this.__cbOnceBeginRender[r]=null,o=this.__cbOnceOwnerUnbindBeginRender[r],(this.__cbOnceOwnerUnbindBeginRender[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindBeginRender[r]),a.push(this.__cbOnceBeginRender[r]))}this.__cbOnceOwnerUnbindBeginRender=h,this.__cbOnceBeginRender=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onBeginRender:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event beginRender because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginRender(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBeginRender&&(this.__cbOnOwnerUnbindBeginRender=[]),this.__cbOnOwnerUnbindBeginRender.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBeginRender&&(this.__cbOnOwnerUnbindBeginRender=[]),this.__cbOnOwnerUnbindBeginRender.push(null);null==this.__cbOnBeginRender&&(this.__cbOnBeginRender=[]),this.__cbOnBeginRender.push(t)},onceBeginRender:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event beginRender because owner is destroyed!");var l=function(e){null!=t&&(i.offBeginRender(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBeginRender&&(this.__cbOnceOwnerUnbindBeginRender=[]),this.__cbOnceOwnerUnbindBeginRender.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBeginRender&&(this.__cbOnceOwnerUnbindBeginRender=[]),this.__cbOnceOwnerUnbindBeginRender.push(null);null==this.__cbOnceBeginRender&&(this.__cbOnceBeginRender=[]),this.__cbOnceBeginRender.push(t)},offBeginRender:function(e){if(null!=e){var n;null!=this.__cbOnBeginRender&&-1!=(n=this.__cbOnBeginRender.indexOf(e))&&(this.__cbOnBeginRender.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBeginRender[n])&&s(),this.__cbOnOwnerUnbindBeginRender.splice(n,1)),null!=this.__cbOnceBeginRender&&-1!=(n=this.__cbOnceBeginRender.indexOf(e))&&(this.__cbOnceBeginRender.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBeginRender[n])&&s(),this.__cbOnceOwnerUnbindBeginRender.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginRender){for(var t=0,i=this.__cbOnOwnerUnbindBeginRender.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBeginRender[l])&&s()}this.__cbOnOwnerUnbindBeginRender=null}if(null!=this.__cbOnceOwnerUnbindBeginRender){for(t=0,i=this.__cbOnceOwnerUnbindBeginRender.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBeginRender[l])&&s()}this.__cbOnceOwnerUnbindBeginRender=null}this.__cbOnBeginRender=null,this.__cbOnceBeginRender=null}},listensBeginRender:function(){return null!=this.__cbOnBeginRender&&0<this.__cbOnBeginRender.length||null!=this.__cbOnceBeginRender&&0<this.__cbOnceBeginRender.length},__cbOnEndRender:null,__cbOnceEndRender:null,__cbOnOwnerUnbindEndRender:null,__cbOnceOwnerUnbindEndRender:null,emitEndRender:function(){var e=0;if(null!=this.__cbOnEndRender&&(e+=this.__cbOnEndRender.length),null!=this.__cbOnceEndRender&&(e+=this.__cbOnceEndRender.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnEndRender)for(var l=0,s=this.__cbOnEndRender.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnEndRender[r],++i):--e}if(null!=this.__cbOnceEndRender){for(var h=null,a=null,l=0,s=this.__cbOnceEndRender.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceEndRender[r],this.__cbOnceEndRender[r]=null,o=this.__cbOnceOwnerUnbindEndRender[r],(this.__cbOnceOwnerUnbindEndRender[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindEndRender[r]),a.push(this.__cbOnceEndRender[r]))}this.__cbOnceOwnerUnbindEndRender=h,this.__cbOnceEndRender=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onEndRender:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event endRender because owner is destroyed!");var l=function(e){null!=t&&(i.offEndRender(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEndRender&&(this.__cbOnOwnerUnbindEndRender=[]),this.__cbOnOwnerUnbindEndRender.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEndRender&&(this.__cbOnOwnerUnbindEndRender=[]),this.__cbOnOwnerUnbindEndRender.push(null);null==this.__cbOnEndRender&&(this.__cbOnEndRender=[]),this.__cbOnEndRender.push(t)},onceEndRender:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event endRender because owner is destroyed!");var l=function(e){null!=t&&(i.offEndRender(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEndRender&&(this.__cbOnceOwnerUnbindEndRender=[]),this.__cbOnceOwnerUnbindEndRender.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEndRender&&(this.__cbOnceOwnerUnbindEndRender=[]),this.__cbOnceOwnerUnbindEndRender.push(null);null==this.__cbOnceEndRender&&(this.__cbOnceEndRender=[]),this.__cbOnceEndRender.push(t)},offEndRender:function(e){if(null!=e){var n;null!=this.__cbOnEndRender&&-1!=(n=this.__cbOnEndRender.indexOf(e))&&(this.__cbOnEndRender.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEndRender[n])&&s(),this.__cbOnOwnerUnbindEndRender.splice(n,1)),null!=this.__cbOnceEndRender&&-1!=(n=this.__cbOnceEndRender.indexOf(e))&&(this.__cbOnceEndRender.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEndRender[n])&&s(),this.__cbOnceOwnerUnbindEndRender.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndRender){for(var t=0,i=this.__cbOnOwnerUnbindEndRender.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEndRender[l])&&s()}this.__cbOnOwnerUnbindEndRender=null}if(null!=this.__cbOnceOwnerUnbindEndRender){for(t=0,i=this.__cbOnceOwnerUnbindEndRender.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEndRender[l])&&s()}this.__cbOnceOwnerUnbindEndRender=null}this.__cbOnEndRender=null,this.__cbOnceEndRender=null}},listensEndRender:function(){return null!=this.__cbOnEndRender&&0<this.__cbOnEndRender.length||null!=this.__cbOnceEndRender&&0<this.__cbOnceEndRender.length},__cbOnUpdateSlot:null,__cbOnceUpdateSlot:null,__cbOnOwnerUnbindUpdateSlot:null,__cbOnceOwnerUnbindUpdateSlot:null,emitUpdateSlot:function(e){null!=this.updateSlotWithNameDispatchers&&0<(n=this.globalSlotIndexFromSkeletonSlotIndex[e.slot.data.index])&&null!=(t=2<=(n=null!=(t=(l=this.updateSlotWithNameDispatchers)._keys.intMap.h[0|n])?t:0)?l.values[n-2]:gt.RET_NULL)&&t.emitDispatch(e);var n,t,i=0;if(null!=this.__cbOnUpdateSlot&&(i+=this.__cbOnUpdateSlot.length),null!=this.__cbOnceUpdateSlot&&(i+=this.__cbOnceUpdateSlot.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnUpdateSlot)for(var h=0,a=this.__cbOnUpdateSlot.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnUpdateSlot[o],++r):--i}if(null!=this.__cbOnceUpdateSlot){for(var c=null,u=null,h=0,a=this.__cbOnceUpdateSlot.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceUpdateSlot[o],this.__cbOnceUpdateSlot[o]=null,_=this.__cbOnceOwnerUnbindUpdateSlot[o],(this.__cbOnceOwnerUnbindUpdateSlot[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindUpdateSlot[o]),u.push(this.__cbOnceUpdateSlot[o]))}this.__cbOnceOwnerUnbindUpdateSlot=c,this.__cbOnceUpdateSlot=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e)}l.release(s)}},onUpdateSlot:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateSlot because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateSlot(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateSlot&&(this.__cbOnOwnerUnbindUpdateSlot=[]),this.__cbOnOwnerUnbindUpdateSlot.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateSlot&&(this.__cbOnOwnerUnbindUpdateSlot=[]),this.__cbOnOwnerUnbindUpdateSlot.push(null);null==this.__cbOnUpdateSlot&&(this.__cbOnUpdateSlot=[]),this.__cbOnUpdateSlot.push(t)},onceUpdateSlot:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateSlot because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateSlot(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateSlot&&(this.__cbOnceOwnerUnbindUpdateSlot=[]),this.__cbOnceOwnerUnbindUpdateSlot.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateSlot&&(this.__cbOnceOwnerUnbindUpdateSlot=[]),this.__cbOnceOwnerUnbindUpdateSlot.push(null);null==this.__cbOnceUpdateSlot&&(this.__cbOnceUpdateSlot=[]),this.__cbOnceUpdateSlot.push(t)},offUpdateSlot:function(e){if(null!=e){var n;null!=this.__cbOnUpdateSlot&&-1!=(n=this.__cbOnUpdateSlot.indexOf(e))&&(this.__cbOnUpdateSlot.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdateSlot[n])&&s(),this.__cbOnOwnerUnbindUpdateSlot.splice(n,1)),null!=this.__cbOnceUpdateSlot&&-1!=(n=this.__cbOnceUpdateSlot.indexOf(e))&&(this.__cbOnceUpdateSlot.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdateSlot[n])&&s(),this.__cbOnceOwnerUnbindUpdateSlot.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateSlot){for(var t=0,i=this.__cbOnOwnerUnbindUpdateSlot.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdateSlot[l])&&s()}this.__cbOnOwnerUnbindUpdateSlot=null}if(null!=this.__cbOnceOwnerUnbindUpdateSlot){for(t=0,i=this.__cbOnceOwnerUnbindUpdateSlot.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdateSlot[l])&&s()}this.__cbOnceOwnerUnbindUpdateSlot=null}this.__cbOnUpdateSlot=null,this.__cbOnceUpdateSlot=null}},listensUpdateSlot:function(){return null!=this.__cbOnUpdateSlot&&0<this.__cbOnUpdateSlot.length||null!=this.__cbOnceUpdateSlot&&0<this.__cbOnceUpdateSlot.length},__cbOnUpdateVisibleSlot:null,__cbOnceUpdateVisibleSlot:null,__cbOnOwnerUnbindUpdateVisibleSlot:null,__cbOnceOwnerUnbindUpdateVisibleSlot:null,emitUpdateVisibleSlot:function(e){null!=this.updateVisibleSlotWithNameDispatchers&&0<(n=this.globalSlotIndexFromSkeletonSlotIndex[e.slot.data.index])&&null!=(t=2<=(n=null!=(t=(l=this.updateVisibleSlotWithNameDispatchers)._keys.intMap.h[0|n])?t:0)?l.values[n-2]:gt.RET_NULL)&&t.emitDispatch(e);var n,t,i=0;if(null!=this.__cbOnUpdateVisibleSlot&&(i+=this.__cbOnUpdateVisibleSlot.length),null!=this.__cbOnceUpdateVisibleSlot&&(i+=this.__cbOnceUpdateVisibleSlot.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnUpdateVisibleSlot)for(var h=0,a=this.__cbOnUpdateVisibleSlot.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnUpdateVisibleSlot[o],++r):--i}if(null!=this.__cbOnceUpdateVisibleSlot){for(var c=null,u=null,h=0,a=this.__cbOnceUpdateVisibleSlot.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceUpdateVisibleSlot[o],this.__cbOnceUpdateVisibleSlot[o]=null,_=this.__cbOnceOwnerUnbindUpdateVisibleSlot[o],(this.__cbOnceOwnerUnbindUpdateVisibleSlot[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindUpdateVisibleSlot[o]),u.push(this.__cbOnceUpdateVisibleSlot[o]))}this.__cbOnceOwnerUnbindUpdateVisibleSlot=c,this.__cbOnceUpdateVisibleSlot=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e)}l.release(s)}},onUpdateVisibleSlot:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateVisibleSlot because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateVisibleSlot(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateVisibleSlot&&(this.__cbOnOwnerUnbindUpdateVisibleSlot=[]),this.__cbOnOwnerUnbindUpdateVisibleSlot.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateVisibleSlot&&(this.__cbOnOwnerUnbindUpdateVisibleSlot=[]),this.__cbOnOwnerUnbindUpdateVisibleSlot.push(null);null==this.__cbOnUpdateVisibleSlot&&(this.__cbOnUpdateVisibleSlot=[]),this.__cbOnUpdateVisibleSlot.push(t)},onceUpdateVisibleSlot:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateVisibleSlot because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateVisibleSlot(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateVisibleSlot&&(this.__cbOnceOwnerUnbindUpdateVisibleSlot=[]),this.__cbOnceOwnerUnbindUpdateVisibleSlot.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateVisibleSlot&&(this.__cbOnceOwnerUnbindUpdateVisibleSlot=[]),this.__cbOnceOwnerUnbindUpdateVisibleSlot.push(null);null==this.__cbOnceUpdateVisibleSlot&&(this.__cbOnceUpdateVisibleSlot=[]),this.__cbOnceUpdateVisibleSlot.push(t)},offUpdateVisibleSlot:function(e){if(null!=e){var n;null!=this.__cbOnUpdateVisibleSlot&&-1!=(n=this.__cbOnUpdateVisibleSlot.indexOf(e))&&(this.__cbOnUpdateVisibleSlot.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdateVisibleSlot[n])&&s(),this.__cbOnOwnerUnbindUpdateVisibleSlot.splice(n,1)),null!=this.__cbOnceUpdateVisibleSlot&&-1!=(n=this.__cbOnceUpdateVisibleSlot.indexOf(e))&&(this.__cbOnceUpdateVisibleSlot.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdateVisibleSlot[n])&&s(),this.__cbOnceOwnerUnbindUpdateVisibleSlot.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateVisibleSlot){for(var t=0,i=this.__cbOnOwnerUnbindUpdateVisibleSlot.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdateVisibleSlot[l])&&s()}this.__cbOnOwnerUnbindUpdateVisibleSlot=null}if(null!=this.__cbOnceOwnerUnbindUpdateVisibleSlot){for(t=0,i=this.__cbOnceOwnerUnbindUpdateVisibleSlot.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdateVisibleSlot[l])&&s()}this.__cbOnceOwnerUnbindUpdateVisibleSlot=null}this.__cbOnUpdateVisibleSlot=null,this.__cbOnceUpdateVisibleSlot=null}},listensUpdateVisibleSlot:function(){return null!=this.__cbOnUpdateVisibleSlot&&0<this.__cbOnUpdateVisibleSlot.length||null!=this.__cbOnceUpdateVisibleSlot&&0<this.__cbOnceUpdateVisibleSlot.length},__cbOnUpdateSkeleton:null,__cbOnceUpdateSkeleton:null,__cbOnOwnerUnbindUpdateSkeleton:null,__cbOnceOwnerUnbindUpdateSkeleton:null,emitUpdateSkeleton:function(){var e=0;if(null!=this.__cbOnUpdateSkeleton&&(e+=this.__cbOnUpdateSkeleton.length),null!=this.__cbOnceUpdateSkeleton&&(e+=this.__cbOnceUpdateSkeleton.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnUpdateSkeleton)for(var l=0,s=this.__cbOnUpdateSkeleton.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnUpdateSkeleton[r],++i):--e}if(null!=this.__cbOnceUpdateSkeleton){for(var h=null,a=null,l=0,s=this.__cbOnceUpdateSkeleton.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceUpdateSkeleton[r],this.__cbOnceUpdateSkeleton[r]=null,o=this.__cbOnceOwnerUnbindUpdateSkeleton[r],(this.__cbOnceOwnerUnbindUpdateSkeleton[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindUpdateSkeleton[r]),a.push(this.__cbOnceUpdateSkeleton[r]))}this.__cbOnceOwnerUnbindUpdateSkeleton=h,this.__cbOnceUpdateSkeleton=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onUpdateSkeleton:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateSkeleton because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateSkeleton(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateSkeleton&&(this.__cbOnOwnerUnbindUpdateSkeleton=[]),this.__cbOnOwnerUnbindUpdateSkeleton.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateSkeleton&&(this.__cbOnOwnerUnbindUpdateSkeleton=[]),this.__cbOnOwnerUnbindUpdateSkeleton.push(null);null==this.__cbOnUpdateSkeleton&&(this.__cbOnUpdateSkeleton=[]),this.__cbOnUpdateSkeleton.push(t)},onceUpdateSkeleton:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateSkeleton because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateSkeleton(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateSkeleton&&(this.__cbOnceOwnerUnbindUpdateSkeleton=[]),this.__cbOnceOwnerUnbindUpdateSkeleton.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateSkeleton&&(this.__cbOnceOwnerUnbindUpdateSkeleton=[]),this.__cbOnceOwnerUnbindUpdateSkeleton.push(null);null==this.__cbOnceUpdateSkeleton&&(this.__cbOnceUpdateSkeleton=[]),this.__cbOnceUpdateSkeleton.push(t)},offUpdateSkeleton:function(e){if(null!=e){var n;null!=this.__cbOnUpdateSkeleton&&-1!=(n=this.__cbOnUpdateSkeleton.indexOf(e))&&(this.__cbOnUpdateSkeleton.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdateSkeleton[n])&&s(),this.__cbOnOwnerUnbindUpdateSkeleton.splice(n,1)),null!=this.__cbOnceUpdateSkeleton&&-1!=(n=this.__cbOnceUpdateSkeleton.indexOf(e))&&(this.__cbOnceUpdateSkeleton.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdateSkeleton[n])&&s(),this.__cbOnceOwnerUnbindUpdateSkeleton.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateSkeleton){for(var t=0,i=this.__cbOnOwnerUnbindUpdateSkeleton.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdateSkeleton[l])&&s()}this.__cbOnOwnerUnbindUpdateSkeleton=null}if(null!=this.__cbOnceOwnerUnbindUpdateSkeleton){for(t=0,i=this.__cbOnceOwnerUnbindUpdateSkeleton.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdateSkeleton[l])&&s()}this.__cbOnceOwnerUnbindUpdateSkeleton=null}this.__cbOnUpdateSkeleton=null,this.__cbOnceUpdateSkeleton=null}},listensUpdateSkeleton:function(){return null!=this.__cbOnUpdateSkeleton&&0<this.__cbOnUpdateSkeleton.length||null!=this.__cbOnceUpdateSkeleton&&0<this.__cbOnceUpdateSkeleton.length},__cbOnUpdateWorldTransform:null,__cbOnceUpdateWorldTransform:null,__cbOnOwnerUnbindUpdateWorldTransform:null,__cbOnceOwnerUnbindUpdateWorldTransform:null,emitUpdateWorldTransform:function(){var e=0;if(null!=this.__cbOnUpdateWorldTransform&&(e+=this.__cbOnUpdateWorldTransform.length),null!=this.__cbOnceUpdateWorldTransform&&(e+=this.__cbOnceUpdateWorldTransform.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnUpdateWorldTransform)for(var l=0,s=this.__cbOnUpdateWorldTransform.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnUpdateWorldTransform[r],++i):--e}if(null!=this.__cbOnceUpdateWorldTransform){for(var h=null,a=null,l=0,s=this.__cbOnceUpdateWorldTransform.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceUpdateWorldTransform[r],this.__cbOnceUpdateWorldTransform[r]=null,o=this.__cbOnceOwnerUnbindUpdateWorldTransform[r],(this.__cbOnceOwnerUnbindUpdateWorldTransform[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindUpdateWorldTransform[r]),a.push(this.__cbOnceUpdateWorldTransform[r]))}this.__cbOnceOwnerUnbindUpdateWorldTransform=h,this.__cbOnceUpdateWorldTransform=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onUpdateWorldTransform:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateWorldTransform because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateWorldTransform(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateWorldTransform&&(this.__cbOnOwnerUnbindUpdateWorldTransform=[]),this.__cbOnOwnerUnbindUpdateWorldTransform.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateWorldTransform&&(this.__cbOnOwnerUnbindUpdateWorldTransform=[]),this.__cbOnOwnerUnbindUpdateWorldTransform.push(null);null==this.__cbOnUpdateWorldTransform&&(this.__cbOnUpdateWorldTransform=[]),this.__cbOnUpdateWorldTransform.push(t)},onceUpdateWorldTransform:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateWorldTransform because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateWorldTransform(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateWorldTransform&&(this.__cbOnceOwnerUnbindUpdateWorldTransform=[]),this.__cbOnceOwnerUnbindUpdateWorldTransform.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateWorldTransform&&(this.__cbOnceOwnerUnbindUpdateWorldTransform=[]),this.__cbOnceOwnerUnbindUpdateWorldTransform.push(null);null==this.__cbOnceUpdateWorldTransform&&(this.__cbOnceUpdateWorldTransform=[]),this.__cbOnceUpdateWorldTransform.push(t)},offUpdateWorldTransform:function(e){if(null!=e){var n;null!=this.__cbOnUpdateWorldTransform&&-1!=(n=this.__cbOnUpdateWorldTransform.indexOf(e))&&(this.__cbOnUpdateWorldTransform.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdateWorldTransform[n])&&s(),this.__cbOnOwnerUnbindUpdateWorldTransform.splice(n,1)),null!=this.__cbOnceUpdateWorldTransform&&-1!=(n=this.__cbOnceUpdateWorldTransform.indexOf(e))&&(this.__cbOnceUpdateWorldTransform.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdateWorldTransform[n])&&s(),this.__cbOnceOwnerUnbindUpdateWorldTransform.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateWorldTransform){for(var t=0,i=this.__cbOnOwnerUnbindUpdateWorldTransform.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdateWorldTransform[l])&&s()}this.__cbOnOwnerUnbindUpdateWorldTransform=null}if(null!=this.__cbOnceOwnerUnbindUpdateWorldTransform){for(t=0,i=this.__cbOnceOwnerUnbindUpdateWorldTransform.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdateWorldTransform[l])&&s()}this.__cbOnceOwnerUnbindUpdateWorldTransform=null}this.__cbOnUpdateWorldTransform=null,this.__cbOnceUpdateWorldTransform=null}},listensUpdateWorldTransform:function(){return null!=this.__cbOnUpdateWorldTransform&&0<this.__cbOnUpdateWorldTransform.length||null!=this.__cbOnceUpdateWorldTransform&&0<this.__cbOnceUpdateWorldTransform.length},__cbOnFinishCurrentAnimationChain:null,__cbOnceFinishCurrentAnimationChain:null,__cbOnOwnerUnbindFinishCurrentAnimationChain:null,__cbOnceOwnerUnbindFinishCurrentAnimationChain:null,emitFinishCurrentAnimationChain:function(){var e=0;if(null!=this.__cbOnFinishCurrentAnimationChain&&(e+=this.__cbOnFinishCurrentAnimationChain.length),null!=this.__cbOnceFinishCurrentAnimationChain&&(e+=this.__cbOnceFinishCurrentAnimationChain.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishCurrentAnimationChain)for(var l=0,s=this.__cbOnFinishCurrentAnimationChain.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishCurrentAnimationChain[r],++i):--e}if(null!=this.__cbOnceFinishCurrentAnimationChain){for(var h=null,a=null,l=0,s=this.__cbOnceFinishCurrentAnimationChain.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceFinishCurrentAnimationChain[r],this.__cbOnceFinishCurrentAnimationChain[r]=null,o=this.__cbOnceOwnerUnbindFinishCurrentAnimationChain[r],(this.__cbOnceOwnerUnbindFinishCurrentAnimationChain[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishCurrentAnimationChain[r]),a.push(this.__cbOnceFinishCurrentAnimationChain[r]))}this.__cbOnceOwnerUnbindFinishCurrentAnimationChain=h,this.__cbOnceFinishCurrentAnimationChain=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishCurrentAnimationChain:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event finishCurrentAnimationChain because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishCurrentAnimationChain(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishCurrentAnimationChain&&(this.__cbOnOwnerUnbindFinishCurrentAnimationChain=[]),this.__cbOnOwnerUnbindFinishCurrentAnimationChain.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishCurrentAnimationChain&&(this.__cbOnOwnerUnbindFinishCurrentAnimationChain=[]),this.__cbOnOwnerUnbindFinishCurrentAnimationChain.push(null);null==this.__cbOnFinishCurrentAnimationChain&&(this.__cbOnFinishCurrentAnimationChain=[]),this.__cbOnFinishCurrentAnimationChain.push(t)},onceFinishCurrentAnimationChain:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event finishCurrentAnimationChain because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishCurrentAnimationChain(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishCurrentAnimationChain&&(this.__cbOnceOwnerUnbindFinishCurrentAnimationChain=[]),this.__cbOnceOwnerUnbindFinishCurrentAnimationChain.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishCurrentAnimationChain&&(this.__cbOnceOwnerUnbindFinishCurrentAnimationChain=[]),this.__cbOnceOwnerUnbindFinishCurrentAnimationChain.push(null);null==this.__cbOnceFinishCurrentAnimationChain&&(this.__cbOnceFinishCurrentAnimationChain=[]),this.__cbOnceFinishCurrentAnimationChain.push(t)},offFinishCurrentAnimationChain:function(e){if(null!=e){var n;null!=this.__cbOnFinishCurrentAnimationChain&&-1!=(n=this.__cbOnFinishCurrentAnimationChain.indexOf(e))&&(this.__cbOnFinishCurrentAnimationChain.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishCurrentAnimationChain[n])&&s(),this.__cbOnOwnerUnbindFinishCurrentAnimationChain.splice(n,1)),null!=this.__cbOnceFinishCurrentAnimationChain&&-1!=(n=this.__cbOnceFinishCurrentAnimationChain.indexOf(e))&&(this.__cbOnceFinishCurrentAnimationChain.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishCurrentAnimationChain[n])&&s(),this.__cbOnceOwnerUnbindFinishCurrentAnimationChain.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishCurrentAnimationChain){for(var t=0,i=this.__cbOnOwnerUnbindFinishCurrentAnimationChain.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishCurrentAnimationChain[l])&&s()}this.__cbOnOwnerUnbindFinishCurrentAnimationChain=null}if(null!=this.__cbOnceOwnerUnbindFinishCurrentAnimationChain){for(t=0,i=this.__cbOnceOwnerUnbindFinishCurrentAnimationChain.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishCurrentAnimationChain[l])&&s()}this.__cbOnceOwnerUnbindFinishCurrentAnimationChain=null}this.__cbOnFinishCurrentAnimationChain=null,this.__cbOnceFinishCurrentAnimationChain=null}},listensFinishCurrentAnimationChain:function(){return null!=this.__cbOnFinishCurrentAnimationChain&&0<this.__cbOnFinishCurrentAnimationChain.length||null!=this.__cbOnceFinishCurrentAnimationChain&&0<this.__cbOnceFinishCurrentAnimationChain.length},__cbOnApplyNextAnimation:null,__cbOnceApplyNextAnimation:null,__cbOnOwnerUnbindApplyNextAnimation:null,__cbOnceOwnerUnbindApplyNextAnimation:null,emitApplyNextAnimation:function(e){var n=0;if(null!=this.__cbOnApplyNextAnimation&&(n+=this.__cbOnApplyNextAnimation.length),null!=this.__cbOnceApplyNextAnimation&&(n+=this.__cbOnceApplyNextAnimation.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnApplyNextAnimation)for(var s=0,r=this.__cbOnApplyNextAnimation.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnApplyNextAnimation[h],++l):--n}if(null!=this.__cbOnceApplyNextAnimation){for(var a=null,o=null,s=0,r=this.__cbOnceApplyNextAnimation.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceApplyNextAnimation[h],this.__cbOnceApplyNextAnimation[h]=null,c=this.__cbOnceOwnerUnbindApplyNextAnimation[h],(this.__cbOnceOwnerUnbindApplyNextAnimation[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindApplyNextAnimation[h]),o.push(this.__cbOnceApplyNextAnimation[h]))}this.__cbOnceOwnerUnbindApplyNextAnimation=a,this.__cbOnceApplyNextAnimation=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onApplyNextAnimation:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event applyNextAnimation because owner is destroyed!");var l=function(e){null!=t&&(i.offApplyNextAnimation(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindApplyNextAnimation&&(this.__cbOnOwnerUnbindApplyNextAnimation=[]),this.__cbOnOwnerUnbindApplyNextAnimation.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindApplyNextAnimation&&(this.__cbOnOwnerUnbindApplyNextAnimation=[]),this.__cbOnOwnerUnbindApplyNextAnimation.push(null);null==this.__cbOnApplyNextAnimation&&(this.__cbOnApplyNextAnimation=[]),this.__cbOnApplyNextAnimation.push(t)},onceApplyNextAnimation:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event applyNextAnimation because owner is destroyed!");var l=function(e){null!=t&&(i.offApplyNextAnimation(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindApplyNextAnimation&&(this.__cbOnceOwnerUnbindApplyNextAnimation=[]),this.__cbOnceOwnerUnbindApplyNextAnimation.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindApplyNextAnimation&&(this.__cbOnceOwnerUnbindApplyNextAnimation=[]),this.__cbOnceOwnerUnbindApplyNextAnimation.push(null);null==this.__cbOnceApplyNextAnimation&&(this.__cbOnceApplyNextAnimation=[]),this.__cbOnceApplyNextAnimation.push(t)},offApplyNextAnimation:function(e){if(null!=e){var n;null!=this.__cbOnApplyNextAnimation&&-1!=(n=this.__cbOnApplyNextAnimation.indexOf(e))&&(this.__cbOnApplyNextAnimation.splice(n,1),null!=(s=this.__cbOnOwnerUnbindApplyNextAnimation[n])&&s(),this.__cbOnOwnerUnbindApplyNextAnimation.splice(n,1)),null!=this.__cbOnceApplyNextAnimation&&-1!=(n=this.__cbOnceApplyNextAnimation.indexOf(e))&&(this.__cbOnceApplyNextAnimation.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindApplyNextAnimation[n])&&s(),this.__cbOnceOwnerUnbindApplyNextAnimation.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindApplyNextAnimation){for(var t=0,i=this.__cbOnOwnerUnbindApplyNextAnimation.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindApplyNextAnimation[l])&&s()}this.__cbOnOwnerUnbindApplyNextAnimation=null}if(null!=this.__cbOnceOwnerUnbindApplyNextAnimation){for(t=0,i=this.__cbOnceOwnerUnbindApplyNextAnimation.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindApplyNextAnimation[l])&&s()}this.__cbOnceOwnerUnbindApplyNextAnimation=null}this.__cbOnApplyNextAnimation=null,this.__cbOnceApplyNextAnimation=null}},listensApplyNextAnimation:function(){return null!=this.__cbOnApplyNextAnimation&&0<this.__cbOnApplyNextAnimation.length||null!=this.__cbOnceApplyNextAnimation&&0<this.__cbOnceApplyNextAnimation.length},__cbOnSpineEvent:null,__cbOnceSpineEvent:null,__cbOnOwnerUnbindSpineEvent:null,__cbOnceOwnerUnbindSpineEvent:null,emitSpineEvent:function(e,n){var t=0;if(null!=this.__cbOnSpineEvent&&(t+=this.__cbOnSpineEvent.length),null!=this.__cbOnceSpineEvent&&(t+=this.__cbOnceSpineEvent.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSpineEvent)for(var r=0,h=this.__cbOnSpineEvent.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSpineEvent[a],++s):--t}if(null!=this.__cbOnceSpineEvent){for(var o=null,c=null,r=0,h=this.__cbOnceSpineEvent.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSpineEvent[a],this.__cbOnceSpineEvent[a]=null,u=this.__cbOnceOwnerUnbindSpineEvent[a],(this.__cbOnceOwnerUnbindSpineEvent[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSpineEvent[a]),c.push(this.__cbOnceSpineEvent[a]))}this.__cbOnceOwnerUnbindSpineEvent=o,this.__cbOnceSpineEvent=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSpineEvent:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event spineEvent because owner is destroyed!");var l=function(e){null!=t&&(i.offSpineEvent(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSpineEvent&&(this.__cbOnOwnerUnbindSpineEvent=[]),this.__cbOnOwnerUnbindSpineEvent.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSpineEvent&&(this.__cbOnOwnerUnbindSpineEvent=[]),this.__cbOnOwnerUnbindSpineEvent.push(null);null==this.__cbOnSpineEvent&&(this.__cbOnSpineEvent=[]),this.__cbOnSpineEvent.push(t)},onceSpineEvent:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event spineEvent because owner is destroyed!");var l=function(e){null!=t&&(i.offSpineEvent(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSpineEvent&&(this.__cbOnceOwnerUnbindSpineEvent=[]),this.__cbOnceOwnerUnbindSpineEvent.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSpineEvent&&(this.__cbOnceOwnerUnbindSpineEvent=[]),this.__cbOnceOwnerUnbindSpineEvent.push(null);null==this.__cbOnceSpineEvent&&(this.__cbOnceSpineEvent=[]),this.__cbOnceSpineEvent.push(t)},offSpineEvent:function(e){if(null!=e){var n;null!=this.__cbOnSpineEvent&&-1!=(n=this.__cbOnSpineEvent.indexOf(e))&&(this.__cbOnSpineEvent.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSpineEvent[n])&&s(),this.__cbOnOwnerUnbindSpineEvent.splice(n,1)),null!=this.__cbOnceSpineEvent&&-1!=(n=this.__cbOnceSpineEvent.indexOf(e))&&(this.__cbOnceSpineEvent.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSpineEvent[n])&&s(),this.__cbOnceOwnerUnbindSpineEvent.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSpineEvent){for(var t=0,i=this.__cbOnOwnerUnbindSpineEvent.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSpineEvent[l])&&s()}this.__cbOnOwnerUnbindSpineEvent=null}if(null!=this.__cbOnceOwnerUnbindSpineEvent){for(t=0,i=this.__cbOnceOwnerUnbindSpineEvent.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSpineEvent[l])&&s()}this.__cbOnceOwnerUnbindSpineEvent=null}this.__cbOnSpineEvent=null,this.__cbOnceSpineEvent=null}},listensSpineEvent:function(){return null!=this.__cbOnSpineEvent&&0<this.__cbOnSpineEvent.length||null!=this.__cbOnceSpineEvent&&0<this.__cbOnceSpineEvent.length},renderScheduled:null,runScheduledRender:function(){this._lifecycleState<0||(this.renderScheduled=!1,this.renderDirtyAgressive?(!this.renderWhenInvisible&&this.visibilityDirty&&this.spineComputeVisibility(),this.computedVisible||this.renderWhenInvisible?this.forceRender():this.set_renderDirty(!1)):this.renderDirty&&(!this.renderWhenInvisible&&this.visibilityDirty&&this.spineComputeVisibility(),this.computedVisible||this.renderWhenInvisible?this.render(0,0,!1):this.set_renderDirty(!1)))},runScheduledRenderDyn:null,renderDirtyAgressive:null,set_renderDirtyAgressive:function(e){return e&&null!=this.parent&&this.parent instanceof jt&&this.parent.set_renderDirty(!0),e&&!this.renderScheduled&&(!this.renderWhenInvisible&&this.visibilityDirty&&this.spineComputeVisibility(),this.computedVisible||this.renderWhenInvisible)&&(this.renderScheduled=!0,null==this.runScheduledRenderDyn&&(this.runScheduledRenderDyn=$bind(this,this.runScheduledRender)),ke.app._oncePostFlushImmediate(this.runScheduledRenderDyn,!0)),this.renderDirtyAgressive=e},renderDirty:null,set_renderDirty:function(e){return e&&null!=this.parent&&this.parent instanceof jt&&this.parent.set_renderDirty(!0),e&&!this.renderScheduled&&(!this.renderWhenInvisible&&this.visibilityDirty&&this.spineComputeVisibility(),this.computedVisible||this.renderWhenInvisible)&&(this.renderScheduled=!0,null==this.runScheduledRenderDyn&&(this.runScheduledRenderDyn=$bind(this,this.runScheduledRender)),ke.app._oncePostFlushImmediate(this.runScheduledRenderDyn,!0)),this.renderDirty=e},hasSlotsWithTintBlack:null,skeletonOrigin:function(e,n){this.set_skeletonOriginX(e),this.set_skeletonOriginY(n)},skeletonOriginX:null,set_skeletonOriginX:function(e){return this.skeletonOriginX!=e&&(this.skeletonOriginX=e,this.set_renderDirty(!0)),e},skeletonOriginY:null,set_skeletonOriginY:function(e){return this.skeletonOriginY!=e&&(this.skeletonOriginY=e,this.set_renderDirty(!0)),e},skeletonScale:null,set_skeletonScale:function(e){return this.skeletonScale!=e&&(this.skeletonScale=e,this.set_renderDirty(!0)),e},forceTintBlack:null,set_forceTintBlack:function(e){return this.forceTintBlack!=e&&(this.forceTintBlack=e,this.set_renderDirty(!0)),e},hiddenSlots:null,set_hiddenSlots:function(e){return this.hiddenSlots!=e&&(this.hiddenSlots=e,this.set_renderDirty(!0)),e},visibleSlots:null,set_visibleSlots:function(e){return this.visibleSlots!=e&&(this.visibleSlots=e,this.set_renderDirty(!0)),e},disabledSlots:null,set_disabledSlots:function(e){return this.disabledSlots!=e&&(this.disabledSlots=e,this.set_renderDirty(!0)),e},animationTriggers:null,set_animationTriggers:function(e){return this.animationTriggers!=e&&(this.animationTriggers=e,this.set_renderDirty(!0)),e},hitWithSlotIndex:null,set_hitWithSlotIndex:function(e){return this.hitWithSlotIndex!=e&&(this.hitWithSlotIndex=e),e},hitWithFirstBoundingBox:null,set_hitWithFirstBoundingBox:function(e){return this.hitWithFirstBoundingBox!=e&&(this.hitWithFirstBoundingBox=e),e},set_visible:function(e){if(this.visible!=e){if(this.visible=e,this.visibilityDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.visibilityDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_visibilityDirty(!0)}}e&&!this.renderWhenInvisible&&this.set_renderDirty(!0)}return e},renderWhenInvisible:null,set_renderWhenInvisible:function(e){return this.renderWhenInvisible!=e&&(this.renderWhenInvisible=e,this.visibilityDirty&&this.spineComputeVisibility(),!this.computedVisible&&e)&&this.set_renderDirty(!0),e},hasParentSpine:null,color:null,set_color:function(e){return this.color!=e&&(this.color=e,this.set_renderDirty(!0)),e},autoRenderOnAnimate:null,spineData:null,set_spineData:function(e){if(this.spineData!=e){this.set_renderDirtyAgressive(!1);var n=this.spineData,t=(null!=n&&null!=n.asset&&n.asset.release(),null);if(0<=this._lifecycleState&&null!=n&&null==this.animation&&null!=this.state)for(var t=[],i=this.state.getTracks(),l=0,s=i.length;l<s;)null!=(h=i[r=l++])&&null!=h.animation&&t.push([h.animation.name,h.timeScale,h.loop,h.trackTime]);if(this.spineData=e,null!=this.spineData&&null!=this.spineData.asset&&this.spineData.asset.retain(),this.contentDirty=!0,ke.app.visualsContentDirty=!0,this.computeContent(),null!=t&&0<t.length)for(l=0,s=t.length;l<s;){var r,h,a=t[r=l++],o=a[0],c=a[1],u=a[2],a=a[3];null!=this.skeletonData.findAnimation(o)&&((h=this.state.setAnimationByName(r,o,u)).trackTime=a,h.timeScale=c)}0<=this._lifecycleState&&null!=this.skin&&null!=this.skeleton&&(null==(n=this.skeletonData.findSkin(null==this.skin?"default":this.skin))?ke.app.logger.warning("Skin not found: "+(null==this.skin?"default":this.skin)+" (skeleton: "+this.skeletonData.name+")",{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/Spine.hx",lineNumber:633,className:"ceramic.Spine",methodName:"set_spineData"}):(this.skeleton.setSkin(n),this.skeleton.setSlotsToSetupPose())),0<=this._lifecycleState&&null!=this.animation&&null!=this.skeletonData&&null!=this.skeletonData.findAnimation(this.animation)&&this.animate(this.animation,this.loop,0)}return e},skin:null,set_skin:function(e){var n;return this.skin!=e&&(this.skin=e,null!=this.skeleton&&(null==(n=this.skeletonData.findSkin(null==e?"default":e))?ke.app.logger.warning("Skin not found: "+(null==e?"default":e)+" (skeleton: "+this.skeletonData.name+")",{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/Spine.hx",lineNumber:660,className:"ceramic.Spine",methodName:"set_skin"}):(this.skeleton.setSkin(n),this.skeleton.setSlotsToSetupPose())),null!=this.animation)&&this.set_renderDirtyAgressive(!0),e},_settingNextAnimation:null,animation:null,set_animation:function(e){return this._settingNextAnimation||(null!=this.nextAnimations&&this.set_nextAnimations(null),this.offFinishCurrentAnimationChain()),this.animation!=e&&(this.animation=e,this.set_renderDirtyAgressive(!1),null!=this.spineData)&&this.animate(e,this.loop,0),e},nextAnimations:null,set_nextAnimations:function(e){return this.nextAnimations!=e&&(this.nextAnimations=e),e},loop:null,set_loop:function(e){return this.loop!=e&&(this.loop=e,null!=this.spineData&&null!=this.animation)&&this.animate(this.animation,e,0),e},skeleton:null,skeletonData:null,state:null,stateData:null,autoUpdate:null,pausedOrFrozen:null,autoFreeze:null,set_autoFreeze:function(e){if(this.autoFreeze!=e){var n;if(this.autoFreeze=e,this.frozen){if(this.autoFreeze){var t=!0;if(null!=this.state)for(var i=this.state.tracks,l=0,s=i.length;l<s;){var r=i[l++];if(null!=r&&null!=r.animation&&0<r.animation.duration&&(r.loop||r.trackTime<r.animation.duration)){t=!1;break}}else t=!1;n=t}else n=!1;n=!n}else n=!1;n&&this.set_frozen(!1)}return e},paused:null,set_paused:function(e){return this.paused!=e&&(this.paused=e,this.pausedOrFrozen=e||this.frozen),e},frozen:null,set_frozen:function(e){return this.frozen!=e&&(this.frozen=e,this.pausedOrFrozen=this.paused||e),e},resetAtChange:null,resetSkeleton:null,clearMeshes:function(){for(var e=this.slotMeshes.iterableKeys,n=[],t=[],i=0,l=e.length;i<l;){var s=e[i++],r=2<=(f=null!=(O=(g=this.slotMeshes)._keys.intMap.h[0|s])?O:0)?g.values[f-2]:gt.RET_NULL;if(null!=r){t.push(s),n.push(r),r.indices=null;var h=r.uvs=null;if(r.clip!=h&&(r.clip=h,r.clipDirty=!0,null!=r.children))for(var a=0,o=r.children.length;a<o;){var c=a++,u=r.children[c];if(u.clipDirty=!0,null!=u.children)for(var _=0,d=u.children.length;_<d;){var b=_++;u.children[b].set_clipDirty(!0)}}null!=r.transform&&(Ti.recycle(r.transform),r.set_transform(null)),Kb.recycle(r),0<=this._lifecycleState&&this.slotMeshes.set(s,null)}}for(i=0,l=(e=this.slotClips.iterableKeys).length;i<l;){var g,O,f,s=e[i++];null!=(h=2<=(f=null!=(O=(g=this.slotClips)._keys.intMap.h[0|s])?O:0)?g.values[f-2]:gt.RET_NULL)&&(h.vertices=null,h.contentDirty=!0,ke.app.visualsContentDirty=!0,h.destroy(),0<=this._lifecycleState)&&this.slotClips.set(s,null)}this._lifecycleState<0&&(this.slotMeshes=null,this.slotClips=null)},clear:function(){for(var e=this.slotMeshes.iterableKeys,n=[],t=[],i=0,l=e.length;i<l;){var s=e[i++],r=2<=(f=null!=(O=(g=this.slotMeshes)._keys.intMap.h[0|s])?O:0)?g.values[f-2]:gt.RET_NULL;if(null!=r){t.push(s),n.push(r),r.indices=null;var h=r.uvs=null;if(r.clip!=h&&(r.clip=h,r.clipDirty=!0,null!=r.children))for(var a=0,o=r.children.length;a<o;){var c=a++,u=r.children[c];if(u.clipDirty=!0,null!=u.children)for(var _=0,d=u.children.length;_<d;){var b=_++;u.children[b].set_clipDirty(!0)}}null!=r.transform&&(Ti.recycle(r.transform),r.set_transform(null)),Kb.recycle(r),0<=this._lifecycleState&&this.slotMeshes.set(s,null)}}for(i=0,l=(e=this.slotClips.iterableKeys).length;i<l;){var g,O,f,s=e[i++];null!=(h=2<=(f=null!=(O=(g=this.slotClips)._keys.intMap.h[0|s])?O:0)?g.values[f-2]:gt.RET_NULL)&&(h.vertices=null,h.contentDirty=!0,ke.app.visualsContentDirty=!0,h.destroy(),0<=this._lifecycleState)&&this.slotClips.set(s,null)}this._lifecycleState<0&&(this.slotMeshes=null,this.slotClips=null),q.prototype.clear.call(this)},computeContent:function(){var t=this;if(!(this._lifecycleState<0)){null!=this.state&&null!=this.listener&&this.state.removeListener(this.listener);for(var e=this.slotMeshes.iterableKeys,n=[],i=[],l=0,s=e.length;l<s;){var r=e[l++],h=2<=(p=null!=(f=(O=this.slotMeshes)._keys.intMap.h[0|r])?f:0)?O.values[p-2]:gt.RET_NULL;if(null!=h){i.push(r),n.push(h),h.indices=null;var a=h.uvs=null;if(h.clip!=a&&(h.clip=a,h.clipDirty=!0,null!=h.children))for(var o=0,c=h.children.length;o<c;){var u=o++,_=h.children[u];if(_.clipDirty=!0,null!=_.children)for(var d=0,b=_.children.length;d<b;){var g=d++;_.children[g].set_clipDirty(!0)}}null!=h.transform&&(Ti.recycle(h.transform),h.set_transform(null)),Kb.recycle(h),0<=this._lifecycleState&&this.slotMeshes.set(r,null)}}for(l=0,s=(e=this.slotClips.iterableKeys).length;l<s;){var O,f,p,r=e[l++];null!=(a=2<=(p=null!=(f=(O=this.slotClips)._keys.intMap.h[0|r])?f:0)?O.values[p-2]:gt.RET_NULL)&&(a.vertices=null,a.contentDirty=!0,ke.app.visualsContentDirty=!0,a.destroy(),0<=this._lifecycleState)&&this.slotClips.set(r,null)}if(this._lifecycleState<0&&(this.slotMeshes=null,this.slotClips=null),null==this.spineData)this.skeletonData=null,this.stateData=null,this.state=null,this.skeleton=null,this.listener=null,this.contentDirty=!1;else{this.skeletonData=this.spineData.skeletonData;for(var C=this.skeletonData.slots,l=0,s=C.length;l<s;){var v=(w=C[l++]).name,m=w.index,v=(Object.prototype.hasOwnProperty.call(jt._globalSlotIndexes.h,v)||(jt._globalSlotIndexes.h[v]=jt._nextGlobalSlotIndex++),jt._globalSlotIndexes.h[v]);this.globalSlotIndexFromSkeletonSlotIndex[m]=v}this.stateData=new Fs(this.skeletonData),this.state=new ks(this.stateData),this.skeleton=new Ms(this.skeletonData),this.listener=new Qt,this.listener.onStart=function(e){t.resetAtChange&&t.reset()},this.listener.onComplete=function(e){t.muteEvents||(t.deferEvents?ke.app._onceImmediate($bind(t,t.emitCompleteIfNotDestroyed)):t.emitComplete())},this.listener.onEnd=function(e){},this.listener.onEvent=function(e,n){t.muteEvents||(t.deferEvents?ke.app._onceImmediate(function(){0<=t._lifecycleState&&t.emitSpineEvent(e,n)}):t.emitSpineEvent(e,n))},this.state.addListener(this.listener);for(var w,y=this.skeletonData.slots,U=!1,l=0,s=y.length;l<s;)if(null!=(w=y[l++]).darkColor){U=!0;break}this.hasSlotsWithTintBlack=U,this.contentDirty=!1,this.resetSkeleton=!0,this.updateSkeleton(0),this.render(0,0,!0),this.set_renderDirty(!0)}}},emitCompleteIfNotDestroyed:function(){0<=this._lifecycleState&&this.emitComplete()},willEmitComplete:function(){if(null!=this.nextAnimations&&0<this.nextAnimations.length)this._settingNextAnimation=!0,this.set_animation(this.nextAnimations.shift()),this.emitApplyNextAnimation(this.animation),this._settingNextAnimation=!1;else{var e;if(this.emitFinishCurrentAnimationChain(),this.autoFreeze){var n=!0;if(null!=this.state)for(var t=this.state.tracks,i=0,l=t.length;i<l;){var s=t[i++];if(null!=s&&null!=s.animation&&0<s.animation.duration&&(s.loop||s.trackTime<s.animation.duration)){n=!1;break}}else n=!1;e=n}else e=!1;e&&this.set_frozen(!0)}},set_width:function(e){return this._width!=e&&(q.prototype.set_width.call(this,e),this.set_renderDirty(!0)),e},set_height:function(e){return this._height!=e&&(q.prototype.set_height.call(this,e),this.set_renderDirty(!0)),e},computeBounds:function(){q.prototype.computeBounds.call(this),this.set_skeletonOriginX(this.anchorX),this.set_skeletonOriginY(this.anchorY)},animate:function(e,n,t,i){null==i&&(i=-1),null==t&&(t=0),null==n&&(n=!1);var l,s,r=this;if(!(this._lifecycleState<0)){if(null==e?u=this.state.setEmptyAnimation(t,0):null!=(l=this.skeletonData.findAnimation(e))?(u=this.state.setAnimation(t,l,n),0<=i&&(u.trackTime=i)):(ke.app.logger.warning("Animation not found: "+e+" (skeleton: "+this.skeletonData.name+")",{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/Spine.hx",lineNumber:1064,className:"ceramic.Spine",methodName:"animate"}),u=this.state.setEmptyAnimation(t,0)),this.autoFreeze){if(this.autoFreeze){var h=!0;if(null!=this.state)for(var a=this.state.tracks,o=0,c=a.length;o<c;){var u=a[o++];if(null!=u&&null!=u.animation&&0<u.animation.duration&&(u.loop||u.trackTime<u.animation.duration)){h=!1;break}}else h=!1;s=h}else s=!1;s?(this.set_frozen(!0),ke.app._onceImmediate(function(){0<=r._lifecycleState&&!r.muteEvents&&r.emitComplete()})):this.set_frozen(!1)}else this.set_frozen(!1);this.autoRenderOnAnimate?(this.deferEvents=!0,this.forceRender(!1),this.deferEvents=!1):this.set_renderDirtyAgressive(!0)}},forceRender:function(e){if(null==e&&(e=!0),null!=this.state){this.set_renderDirtyAgressive(!1);for(var n=this.paused,t=this.frozen,i=this.muteEvents,l=(this.set_paused(!1),this.set_frozen(!1),this.muteEvents=e,this.state.tracks),s=0,r=l.length;s<r;){var h=l[s++];null!=h&&(h.delay=0)}this.updateSkeleton(0),this.render(0,0,!1),this.set_paused(n),this.set_frozen(t),this.muteEvents=i}},reset:function(){this._lifecycleState<0||(this.resetSkeleton=!0)},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,this._lifecycleState=-1,q.prototype.destroy.call(this),he.remove(li.get_shared().spines,this),this.set_spineData(null),null!=this.state&&null!=this.listener&&this.state.removeListener(this.listener),null!=this.updateSlotWithNameDispatchersAsList){for(var e=0,n=this.updateSlotWithNameDispatchersAsList.length;e<n;){var t=e++;this.updateSlotWithNameDispatchersAsList[t].destroy()}this.updateSlotWithNameDispatchers=null,this.updateSlotWithNameDispatchersAsList=null}if(null!=this.updateVisibleSlotWithNameDispatchersAsList){for(e=0,n=this.updateVisibleSlotWithNameDispatchersAsList.length;e<n;){t=e++;this.updateVisibleSlotWithNameDispatchersAsList[t].destroy()}this.updateVisibleSlotWithNameDispatchers=null,this.updateVisibleSlotWithNameDispatchersAsList=null}this.skeletonData=null,this.stateData=null,this.state=null,this.skeleton=null,this.listener=null}},update:function(e){this.hasParentSpine||null!=this.spineData&&(!this.renderWhenInvisible&&this.visibilityDirty&&this.spineComputeVisibility(),this.computedVisible||this.renderWhenInvisible)&&(this.updateSkeleton(e),this.render(e,0,!1))},canFreeze:function(){if(!this.autoFreeze)return!1;var e=!0;if(null!=this.state)for(var n=this.state.tracks,t=0,i=n.length;t<i;){var l=n[t++];if(null!=l&&null!=l.animation&&0<l.animation.duration&&(l.loop||l.trackTime<l.animation.duration)){e=!1;break}}else e=!1;return e},updateSkeleton:function(e){this.contentDirty&&this.computeContent(),this._lifecycleState<0||(this.emitUpdateSkeleton(),this.resetSkeleton&&(this.resetSkeleton=!1,null!=this.skeleton)&&this.skeleton.setToSetupPose(),null!=this.skeleton&&(this.skeleton.update(e),null!=this.state&&(this.state.update(e),this.state.apply(this.skeleton)),this._lifecycleState<0||(this.emitUpdateWorldTransform(),this.skeleton.updateWorldTransform())))},render:function(R,e,t){if(!(null==this.skeleton||this._lifecycleState<0)){this.boundChildSlotsDirty&&this.computeBoundChildSlots();var i,l,s,r,h,a,o,c,V=this.skeleton.drawOrder,L=V.length,H=!1,u=null,N=this.subDepthStep,_=null,W=0,d=null,b=!t,z=!1,Y=!1,g=0,O=0,G=-1,X=this.forceTintBlack||this.hasSlotsWithTintBlack,K=this.get_width()*this.skeletonOriginX,q=this.get_height()*this.skeletonOriginY;if(!(b&&(this.emitBeginRender(),this._lifecycleState<0))){t&&null==this.setupBoneTransforms&&(this.setupBoneTransforms=new gt);for(var $=(this.skeleton.scaleX<0?-1:1)*(this.skeleton.scaleY<0?-1:1),f=0,j=L;f<j;){var p,C,v=(C=V[f++]).bone,m=(C.data.name,this.globalSlotIndexFromSkeletonSlotIndex[C.data.index]);if(!(null!=this.disabledSlots&&0!=(null!=(p=this.disabledSlots.intMap.h[0|m])?p:0))){var w,y,g=2;if((p=(u=null)!=C.data.darkColor||X)&&(g+=4),this.slotInfo.customTransform=null,this.slotInfo.depth=e,this.slotInfo.globalSlotIndex=m,A=!!(null==this.hiddenSlots||0==(null!=(w=this.hiddenSlots.intMap.h[0|m])?w:0))&&(null==this.visibleSlots||0!=(null!=(w=this.visibleSlots.intMap.h[0|m])?w:0)),this.slotInfo.drawDefault=A,H=!0,null!=(this.slotInfo.slot=C).attachment){if(u=null!=this.boundChildSlots?2<=(y=null!=(y=(A=this.boundChildSlots)._keys.intMap.h[0|m])?y:0)?A.values[y-2]:gt.RET_NULL:null,A=C.attachment instanceof Zs?C.attachment:null,y=C.attachment instanceof $s?C.attachment:null,I=null==A&&null==y&&C.attachment instanceof Ks?C.attachment:null,null!=A||null!=y||null!=I){var U=this.skeleton.x+v.worldX,D=this.skeleton.y-v.worldY,T=this.slotInfo.transform,x=v.b*$*-1;if(T.a=v.a,T.b=v.c*$*-1,T.c=x,T.d=v.d,T.tx=U,T.ty=D,T.changedDirty=!0,!!t&&null==(2<=(D=null!=(U=(x=this.setupBoneTransforms)._keys.intMap.h[0|v.data.index])?U:0)?x.values[D-2]:gt.RET_NULL)&&(d=0<Ti.availableTransforms.length?Ti.availableTransforms.pop():new n,T=this.slotInfo.transform,d.a=T.a,d.b=T.b,d.c=T.c,d.d=T.d,d.tx=T.tx,d.ty=T.ty,d.changedDirty=!0,this.setupBoneTransforms.set(v.data.index,d)),b){if(this.emitUpdateSlot(this.slotInfo),this.slotInfo.drawDefault&&this.emitUpdateVisibleSlot(this.slotInfo),this._lifecycleState<0)return;var U=this.slotMeshes,x=U._keys.intMap.h[0|C.data.index],D=null!=x?x:0;if(S=2<=D?U.values[D-2]:gt.RET_NULL,null==u||u.parentVisible){var S,H=!1,T=null!=I?(-1==G&&(G=C.data.index),null):(null!=y?y:A).getRegion().page.rendererObject;if(null==S&&(null!=(x=(S=Kb.get()).indices)&&(0<x.length&&x.splice(0,x.length),Kb.availableIntArrays.push(x)),null!=(U=S.uvs)&&(0<U.length&&U.splice(0,U.length),Kb.availableFloatArrays.push(U)),S.indices=null,S.uvs=null,S.set_touchable(!1),S.set_transform(new n),this.add(S),this.slotMeshes.set(C.data.index,S)),S.texture!=T&&(null!=S.texture&&(S.texture.offDestroy($bind(S,S.textureDestroyed)),null!=S.texture.asset)&&S.texture.asset.release(),S.texture=T,null!=S.texture)&&(S.texture.onDestroy(S,$bind(S,S.textureDestroyed)),null!=S.texture.asset)&&S.texture.asset.retain(),0==(D=null!=I?O=I.getWorldVerticesLength():null!=y?((O=y.getWorldVerticesLength())>>1)*g:(O=4,g<<2)))S.set_visible(!1);else if(null!=I)S.set_visible(!1),S.set_depth(999),S.colorMapping=0,S.set_color(65280),S.set_alpha(.7),S.set_shader(null),S.customFloatAttributesSize=0,I.computeWorldVertices(C,0,O,S.vertices,0,2),xi._triangulate(S.vertices,S.indices),S.vertices.length>D&&S.vertices.splice(D,S.vertices.length-D);else if(this.slotInfo.drawDefault){if(S.set_visible(!0),p?(S.set_shader(jt._tintBlackShader),S.customFloatAttributesSize=jt._tintBlackShader.customFloatAttributesSize):(S.set_shader(null),S.customFloatAttributesSize=0),S.colorMapping=0,null!=y){if(y.computeWorldVertices(C,0,O,S.vertices,0,g),S.uvs=y.getUVs(),S.indices=y.getTriangles(),p)for(r=this.skeleton.color.a*C.color.a*y.getColor().a*this.alpha,r=null!=C.darkColor?(i=this.skeleton.color.r*C.darkColor.r*y.getColor().r*r,l=this.skeleton.color.g*C.darkColor.g*y.getColor().g*r,s=this.skeleton.color.b*C.darkColor.b*y.getColor().b*r,C.darkColor.a):(s=l=i=0,1),16777215!=this.color&&(i*=(this.color>>16&255)/255,l*=(this.color>>8&255)/255,s*=(255&this.color)/255),h=0,o=(c=S.vertices).length;h<o;)c[a=h+g-1]=r,c[a-=3]=i,c[++a]=l,c[++a]=s,h+=g;i=this.skeleton.color.r*C.color.r*y.getColor().r,l=this.skeleton.color.g*C.color.g*y.getColor().g,s=this.skeleton.color.b*C.color.b*y.getColor().b,r=this.skeleton.color.a*C.color.a*y.getColor().a*this.alpha,16777215!=this.color&&(i*=(this.color>>16&255)/255,l*=(this.color>>8&255)/255,s*=(255&this.color)/255),S.vertices.length>D&&S.vertices.splice(D,S.vertices.length-D)}else{if(A.computeWorldVertices(C.bone,S.vertices,0,g),S.uvs=A.getUVs(),S.indices=jt._quadTriangles,p)for(r=this.skeleton.color.a*C.color.a*A.getColor().a*this.alpha,r=null!=C.darkColor?(i=this.skeleton.color.r*C.darkColor.r*A.getColor().r*r,l=this.skeleton.color.g*C.darkColor.g*A.getColor().g*r,s=this.skeleton.color.b*C.darkColor.b*A.getColor().b*r,C.darkColor.a):(s=l=i=0,1),16777215!=this.color&&(i*=(this.color>>16&255)/255,l*=(this.color>>8&255)/255,s*=(255&this.color)/255),h=0,o=(c=S.vertices).length;h<o;)c[a=h+g-1]=r,a-=3,S.vertices[a]=i,++a,S.vertices[a]=l,++a,S.vertices[a]=s,h+=g;i=this.skeleton.color.r*C.color.r*A.getColor().r,l=this.skeleton.color.g*C.color.g*A.getColor().g,s=this.skeleton.color.b*C.color.b*A.getColor().b,r=this.skeleton.color.a*C.color.a*A.getColor().a*this.alpha,16777215!=this.color&&(i*=(this.color>>16&255)/255,l*=(this.color>>8&255)/255,s*=(255&this.color)/255)}var x=1==C.data.blendMode,U=0,T=Math.round(255*i),D=(U=U&65535|(255<T?255:T<0?0:T)<<16,Math.round(255*l)),A=(U=U&16711935|(255<D?255:D<0?0:D)<<8,Math.round(255*s)),T=(U=U&16776960|(255<A?255:A<0?0:A),Math.round(255*r)),D=(0|U)-16777216&16777215|(255<(T=null==T?255:T)?255:T<0?0:T)<<24;if(null==S.colors?S.colors=[D]:S.colors[0]=D,this.clipper.isClipping()){var A=this.clipShape;if(S.clip!=A&&(S.clip=A,S.clipDirty=!0,null!=S.children))for(var Q=0,Z=S.children.length;Q<Z;){var J=Q++,k=S.children[J];if(k.clipDirty=!0,null!=k.children)for(var ee=0,ne=k.children.length;ee<ne;){var te=ee++;k.children[te].set_clipDirty(!0)}}}else if(null!=S.clip&&(S.clip=null,S.clipDirty=!0,null!=S.children))for(var ie=0,le=S.children.length;ie<le;){var se=ie++,re=S.children[se];if(re.clipDirty=!0,null!=re.children)for(var he=0,ae=re.children.length;he<ae;){var oe=he++;re.children[oe].set_clipDirty(!0)}}S.set_blending(x?2:0),S.set_depth(this.slotInfo.depth),S.set_scaleY(-1)}else S.set_visible(!1);if(null!=u){for(W=0,_=v.getData();null!=_;)W+=_.getRotation(),_=_.getParent();var U=S.transform,T=(U.a=1,U.b=0,U.c=0,U.d=1,U.tx=0,U.ty=0,U.changedDirty=!0,this.setupBoneTransforms),D=T._keys.intMap.h[0|v.data.index],A=null!=D?D:0,D=(null!=(d=2<=A?T.values[A-2]:gt.RET_NULL)?((x=S.transform).tx+=-d.tx,x.ty+=-d.ty,x.changedDirty=!0):((U=S.transform).tx+=-this.slotInfo.transform.tx,U.ty+=-this.slotInfo.transform.ty,U.changedDirty=!0),S.transform),T=v.scaleX<0?-1:1,A=v.scaleY<0?-1:1,U=(D.a*=T,D.b*=A,D.c*=T,D.d*=A,D.tx*=T,D.ty*=A,D.changedDirty=!0,v.scaleY<0&&u.parentSlot.bone.scaleY<0&&((x=S.transform).a*=-1,x.b*=-1,x.c*=-1,x.d*=-1,x.tx*=-1,x.ty*=-1,x.changedDirty=!0),S.transform),T=90*Math.round(W/90)*jt._degRad,A=Math.cos(T),D=Math.sin(T),v=U.a*A-U.b*D,x=(U.b=U.a*D+U.b*A,U.a=v,U.c*A-U.d*D),T=(U.d=U.c*D+U.d*A,U.c=x,U.tx*A-U.ty*D),T=(U.ty=U.tx*D+U.ty*A,U.tx=T,Y=z=!(U.changedDirty=!0),u.flipXOnConcat&&(z=!0,(v=S.transform).a*=-1,v.b*=1,v.c*=-1,v.d*=1,v.tx*=-1,v.ty*=1,v.changedDirty=!0,(x=u.parentTransform).a*=-1,x.b*=1,x.c*=-1,x.d*=1,x.tx*=-1,x.ty*=1,x.changedDirty=!0),u.flipYOnConcat&&(Y=!0,(D=S.transform).a*=1,D.b*=-1,D.c*=1,D.d*=-1,D.tx*=1,D.ty*=-1,D.changedDirty=!0,(A=u.parentTransform).a*=1,A.b*=-1,A.c*=1,A.d*=-1,A.tx*=1,A.ty*=-1,A.changedDirty=!0),S.transform),U=u.parentTransform,v=T.a*U.a+T.b*U.c,x=(T.b=T.a*U.b+T.b*U.d,T.a=v,T.c*U.a+T.d*U.c),D=(T.d=T.c*U.b+T.d*U.d,T.c=x,T.tx*U.a+T.ty*U.c+U.tx),U=(T.ty=T.tx*U.b+T.ty*U.d+U.ty,T.tx=D,T.changedDirty=!0,z&&((A=S.transform).a*=-1,A.b*=1,A.c*=-1,A.d*=1,A.tx*=-1,A.ty*=1,A.changedDirty=!0,(v=u.parentTransform).a*=-1,v.b*=1,v.c*=-1,v.d*=1,v.tx*=-1,v.ty*=1,v.changedDirty=!0),Y&&((x=S.transform).a*=1,x.b*=-1,x.c*=1,x.d*=-1,x.tx*=1,x.ty*=-1,x.changedDirty=!0,(U=u.parentTransform).a*=1,U.b*=-1,U.c*=1,U.d*=-1,U.tx*=1,U.ty*=-1,U.changedDirty=!0),null!=this.slotInfo.customTransform&&(D=S.transform,T=this.slotInfo.customTransform,A=D.a*T.a+D.b*T.c,D.b=D.a*T.b+D.b*T.d,D.a=A,v=D.c*T.a+D.d*T.c,D.d=D.c*T.b+D.d*T.d,D.c=v,x=D.tx*T.a+D.ty*T.c+T.tx,D.ty=D.tx*T.b+D.ty*T.d+T.ty,D.tx=x,D.changedDirty=!0),this.slotInfo.transform),A=S.transform,v=U.a*A.a+U.b*A.c,T=(U.b=U.a*A.b+U.b*A.d,U.a=v,U.c*A.a+U.d*A.c),x=(U.d=U.c*A.b+U.d*A.d,U.c=T,U.tx*A.a+U.ty*A.c+A.tx);U.ty=U.tx*A.b+U.ty*A.d+A.ty,U.tx=x,U.changedDirty=!0,S.set_depth(u.parentDepth+N+this.slotInfo.depth-e),this.slotInfo.depth=S.depth,N+=this.subDepthStep}else null!=this.slotInfo.customTransform?(D=S.transform,v=this.slotInfo.customTransform,D.a=v.a,D.b=v.b,D.c=v.c,D.d=v.d,D.tx=v.tx,D.ty=v.ty,D.changedDirty=!0):((T=S.transform).a=1,T.b=0,T.c=0,T.d=1,T.tx=0,T.ty=0,T.changedDirty=!0);null!=I&&((A=S.transform).a*=1,A.b*=-1,A.c*=1,A.d*=-1,A.tx*=1,A.ty*=-1,A.changedDirty=!0),1!=this.skeletonScale&&(x=S.transform,U=this.skeletonScale,v=this.skeletonScale,x.a*=U,x.b*=v,x.c*=U,x.d*=v,x.tx*=U,x.ty*=v,x.changedDirty=!0);D=S.transform;D.tx+=K,D.ty+=q,D.changedDirty=!0}else null!=S&&S.set_visible(!1)}}else if(C.attachment instanceof qs){T=C.attachment,this.clipper.clipStart(C,T);var I=this.slotClips,A=I._keys.intMap.h[0|C.data.index],U=null!=A?A:0,v=(this.clipShape=2<=U?I.values[U-2]:gt.RET_NULL,null==this.clipShape&&(this.clipShape=new m1,this.clipShape.set_visible(!1),this.add(this.clipShape),this.slotClips.set(C.data.index,this.clipShape)),this.clipper.clippingPolygon),x=this.clipShape,D=v.slice(0);x.vertices=D,x.contentDirty=!0,ke.app.visualsContentDirty=!0,this.clipShape.set_scaleX(this.skeletonScale),this.clipShape.set_scaleY(-this.skeletonScale),this.clipShape.computeContent();continue}++e}if(b)if(H&&null!=(S=2<=(v=null!=(I=(A=this.slotMeshes)._keys.intMap.h[0|C.data.index])?I:0)?A.values[v-2]:gt.RET_NULL)&&S.set_visible(!1),null!=this.subSpines)for(var ce=0,ue=this.subSpines.length;ce<ue;){var _e=ce++;if(!(E=this.subSpines[_e]).renderWhenInvisible&&E.visibilityDirty&&E.spineComputeVisibility(),E.computedVisible||E.renderWhenInvisible){if(null!=E.boundParentSlots&&null!=(2<=(F=null!=(F=(P=E.boundParentSlots)._keys.intMap.h[0|m])?F:0)?P.values[F-2]:gt.RET_NULL))for(var P=E.boundParentSlots,F=P._keys.intMap.h[0|m],F=null!=F?F:0,de=2<=F?P.values[F-2]:gt.RET_NULL,be=0,ge=de.length;be<ge;){var B,M=de[be++];null==C.attachment?M.parentVisible=!1:(M.parentVisible=!0,M.parentDepth=this.slotInfo.depth,(B=M.parentTransform).a=this.slotInfo.transform.a,B.b=this.slotInfo.transform.b,B.c=this.slotInfo.transform.c,B.d=this.slotInfo.transform.d,B.tx=this.slotInfo.transform.tx,B.ty=this.slotInfo.transform.ty,B.changedDirty=!0,M.parentSlot=this.slotInfo.slot)}E.globalBoundParentSlotGlobalIndex==m&&(null==C.attachment?E.globalBoundParentSlotVisible=!1:(E.globalBoundParentSlotVisible=!0,E.globalBoundParentSlotDepth=this.slotInfo.depth,E.globalBoundParentSlot=this.slotInfo.slot,(P=E.transform).a=this.slotInfo.transform.a,P.b=this.slotInfo.transform.b,P.c=this.slotInfo.transform.c,P.d=this.slotInfo.transform.d,P.tx=this.slotInfo.transform.tx,P.ty=this.slotInfo.transform.ty,P.changedDirty=!0,E.set_depth(e),E.set_depthRange(jt._globalBindDepthRange)),e+=jt._globalBindDepthRange)}}this.clipper.clipEndWithSlot(C)}}if(this.clipper.clipEnd(),this.firstBoundingBoxSlotIndex=G,!(b&&(this.emitEndRender(),this._lifecycleState<0)||(this.set_renderDirty(!1),t)||null==this.subSpines))for(f=0,j=this.subSpines.length;f<j;){var E,_e=f++;!(E=this.subSpines[_e]).renderWhenInvisible&&E.visibilityDirty&&E.spineComputeVisibility(),(E.computedVisible||E.renderWhenInvisible)&&(E.updateSkeleton(R),E.render(R,e,!1))}}}},add:function(e){q.prototype.add.call(this,e),e instanceof jt&&(null==this.subSpines&&(this.subSpines=[]),(e=e).hasParentSpine=!0,this.subSpines.push(e))},remove:function(e){q.prototype.remove.call(this,e),e instanceof jt&&((e=e).hasParentSpine=!1,he.remove(this.subSpines,e))},globalSlotIndexFromSkeletonSlotIndex:null,updateSlotWithNameDispatchers:null,updateSlotWithNameDispatchersAsList:null,updateVisibleSlotWithNameDispatchers:null,updateVisibleSlotWithNameDispatchersAsList:null,updateSlotIndexMappings:function(){for(var e=this.skeletonData.slots,n=0,t=e.length;n<t;){var i=e[n++],l=i.name,i=i.index,l=(Object.prototype.hasOwnProperty.call(jt._globalSlotIndexes.h,l)||(jt._globalSlotIndexes.h[l]=jt._nextGlobalSlotIndex++),jt._globalSlotIndexes.h[l]);this.globalSlotIndexFromSkeletonSlotIndex[i]=l}},onUpdateSlotWithName:function(e,n,t){Object.prototype.hasOwnProperty.call(jt._globalSlotIndexes.h,n)||(jt._globalSlotIndexes.h[n]=jt._nextGlobalSlotIndex++),this.onUpdateSlotWithGlobalIndex(e,jt._globalSlotIndexes.h[n],t)},onUpdateSlotWithGlobalIndex:function(e,n,t){null==this.updateSlotWithNameDispatchers&&(this.updateSlotWithNameDispatchers=new gt,this.updateSlotWithNameDispatchersAsList=[]);var i=this.updateSlotWithNameDispatchers,l=i._keys.intMap.h[0|n],l=null!=l?l:0,i=2<=l?i.values[l-2]:gt.RET_NULL;null==i&&(i=new ei,this.updateSlotWithNameDispatchers.set(n,i),this.updateSlotWithNameDispatchersAsList.push(i)),i.onDispatch(e,t)},offUpdateSlotWithName:function(e,n){Object.prototype.hasOwnProperty.call(jt._globalSlotIndexes.h,e)||(jt._globalSlotIndexes.h[e]=jt._nextGlobalSlotIndex++),this.offUpdateSlotWithGlobalIndex(jt._globalSlotIndexes.h[e],n)},offUpdateSlotWithGlobalIndex:function(e,n){null!=this.updateSlotWithNameDispatchers&&null!=(e=this.updateSlotWithNameDispatchers.get(e))&&e.offDispatch(n)},onUpdateVisibleSlotWithName:function(e,n,t){Object.prototype.hasOwnProperty.call(jt._globalSlotIndexes.h,n)||(jt._globalSlotIndexes.h[n]=jt._nextGlobalSlotIndex++),this.onUpdateVisibleSlotWithGlobalIndex(e,jt._globalSlotIndexes.h[n],t)},onUpdateVisibleSlotWithGlobalIndex:function(e,n,t){null==this.updateVisibleSlotWithNameDispatchers&&(this.updateVisibleSlotWithNameDispatchers=new gt,this.updateVisibleSlotWithNameDispatchersAsList=[]);var i=this.updateVisibleSlotWithNameDispatchers.get(n);null==i&&(i=new ei,this.updateVisibleSlotWithNameDispatchers.set(n,i),this.updateVisibleSlotWithNameDispatchersAsList.push(i)),i.onDispatch(e,t)},offUpdateVisibleSlotWithName:function(e,n){Object.prototype.hasOwnProperty.call(jt._globalSlotIndexes.h,e)||(jt._globalSlotIndexes.h[e]=jt._nextGlobalSlotIndex++),this.offUpdateVisibleSlotWithGlobalIndex(jt._globalSlotIndexes.h[e],n)},offUpdateVisibleSlotWithGlobalIndex:function(e,n){null!=this.updateVisibleSlotWithNameDispatchers&&null!=(e=this.updateVisibleSlotWithNameDispatchers.get(e))&&e.offDispatch(n)},willEmitUpdateSlot:function(e){var n,t,i;null!=this.updateSlotWithNameDispatchers&&0<(t=this.globalSlotIndexFromSkeletonSlotIndex[e.slot.data.index])&&null!=(i=2<=(t=null!=(i=(n=this.updateSlotWithNameDispatchers)._keys.intMap.h[0|t])?i:0)?n.values[t-2]:gt.RET_NULL)&&i.emitDispatch(e)},willEmitUpdateVisibleSlot:function(e){var n,t,i;null!=this.updateVisibleSlotWithNameDispatchers&&0<(t=this.globalSlotIndexFromSkeletonSlotIndex[e.slot.data.index])&&null!=(i=2<=(t=null!=(i=(n=this.updateVisibleSlotWithNameDispatchers)._keys.intMap.h[0|t])?i:0)?n.values[t-2]:gt.RET_NULL)&&i.emitDispatch(e)},bindParentSlot:function(e,t){Object.prototype.hasOwnProperty.call(jt._globalSlotIndexes.h,e)||(jt._globalSlotIndexes.h[e]=jt._nextGlobalSlotIndex++);var i,l,e=jt._globalSlotIndexes.h[e];null!=t?((i=new Zt).fromParentSlot=e,null!=t.toLocalSlot&&(l=t.toLocalSlot,Object.prototype.hasOwnProperty.call(jt._globalSlotIndexes.h,l)||(jt._globalSlotIndexes.h[l]=jt._nextGlobalSlotIndex++),i.toLocalSlot=jt._globalSlotIndexes.h[l],this.boundChildSlotsDirty=!0),null!=t.flipXOnConcat&&(i.flipXOnConcat=t.flipXOnConcat),null!=t.flipYOnConcat&&(i.flipYOnConcat=t.flipYOnConcat),null==this.boundParentSlots&&(this.boundParentSlots=new gt),null==(l=this.boundParentSlots.get(e))&&this.boundParentSlots.set(e,l=[]),l.push(i)):(this.globalBoundParentSlotGlobalIndex=e,null==this.transform&&this.set_transform(new n))},unbindParentSlot:function(e){Object.prototype.hasOwnProperty.call(jt._globalSlotIndexes.h,e)||(jt._globalSlotIndexes.h[e]=jt._nextGlobalSlotIndex++);e=jt._globalSlotIndexes.h[e];null!=this.boundParentSlots.get(e)&&(this.boundChildSlotsDirty=!0,this.boundParentSlots.remove(e))},computeBoundChildSlots:function(){this.boundChildSlots=new gt;for(var e=this.boundParentSlots.values,n=0,t=e.length;n<t;){var i=e[n++];if(null!=i)for(var l=0,s=i.length;l<s;){var r=i[l++];0<r.toLocalSlot&&null==this.boundChildSlots.get(r.toLocalSlot)&&this.boundChildSlots.set(r.toLocalSlot,r)}}this.boundChildSlotsDirty=!1},spineComputeVisibility:function(){q.prototype.computeVisibility.call(this)},computeVisibility:function(){var e=this.computedVisible;q.prototype.computeVisibility.call(this),!this.computedVisible||e||this.renderWhenInvisible||this.set_renderDirtyAgressive(!0)},hitTest:function(e,n,t){var i,l,s,r,h;return this.hitWithFirstBoundingBox?(t.a,t.c,t.tx,t.b,t.d,t.ty,-1!=this.firstBoundingBoxSlotIndex&&null!=(r=2<=(s=null!=(l=(i=this.slotMeshes)._keys.intMap.h[0|this.firstBoundingBoxSlotIndex])?l:0)?i.values[s-2]:gt.RET_NULL)&&(r.complexHit=!0,h=r._hits(e,n,!1),r.complexHit=!1,h)):-1!=this.hitWithSlotIndex?null!=(r=2<=(s=null!=(l=(i=this.slotMeshes)._keys.intMap.h[0|this.hitWithSlotIndex])?l:0)?i.values[s-2]:gt.RET_NULL)&&(r.complexHit=!0,h=r._hits(e,n,!1),r.complexHit=!1,h):q.prototype.hitTest.call(this,e,n,t)},unbindEvents:function(){q.prototype.unbindEvents.call(this),this.offComplete(),this.offBeginRender(),this.offEndRender(),this.offUpdateSlot(),this.offUpdateVisibleSlot(),this.offUpdateSkeleton(),this.offUpdateWorldTransform(),this.offFinishCurrentAnimationChain(),this.offApplyNextAnimation(),this.offSpineEvent()},__class__:jt,__properties__:$extend(q.prototype.__properties__,{set_frozen:"set_frozen",set_paused:"set_paused",set_autoFreeze:"set_autoFreeze",set_loop:"set_loop",set_nextAnimations:"set_nextAnimations",set_animation:"set_animation",set_skin:"set_skin",set_spineData:"set_spineData",set_color:"set_color",set_renderWhenInvisible:"set_renderWhenInvisible",set_hitWithFirstBoundingBox:"set_hitWithFirstBoundingBox",set_hitWithSlotIndex:"set_hitWithSlotIndex",set_animationTriggers:"set_animationTriggers",set_disabledSlots:"set_disabledSlots",set_visibleSlots:"set_visibleSlots",set_hiddenSlots:"set_hiddenSlots",set_forceTintBlack:"set_forceTintBlack",set_skeletonScale:"set_skeletonScale",set_skeletonOriginY:"set_skeletonOriginY",set_skeletonOriginX:"set_skeletonOriginX",set_renderDirty:"set_renderDirty",set_renderDirtyAgressive:"set_renderDirtyAgressive"})}),(E["spine.AnimationStateListener"]=w1).__name__="spine.AnimationStateListener",w1.__isInterface__=!0,w1.prototype={start:null,interrupt:null,end:null,dispose:null,complete:null,event:null,__class__:w1},function(){}),Zt=((E["ceramic.SpineListener"]=Qt).__name__="ceramic.SpineListener",Qt.__interfaces__=[w1],Qt.prototype={onStart:function(e){},start:function(e){null!=this.onStart&&this.onStart(e)},onInterrupt:function(e){},interrupt:function(e){null!=this.onInterrupt&&this.onInterrupt(e)},onEnd:function(e){},end:function(e){null!=this.onEnd&&this.onEnd(e)},onDispose:function(e){},dispose:function(e){null!=this.onDispose&&this.onDispose(e)},onComplete:function(e){},complete:function(e){null!=this.onComplete&&this.onComplete(e)},onEvent:function(e,n){},event:function(e,n){null!=this.onEvent&&this.onEvent(e,n)},__class__:Qt},function(){this.flipYOnConcat=!1,this.flipXOnConcat=!1,this.parentSlot=null,this.parentTransform=new n,this.parentVisible=!1,this.parentDepth=0,this.toLocalSlot=-1,this.fromParentSlot=-1}),Jt=((E["ceramic._Spine.BindSlot"]=Zt).__name__="ceramic._Spine.BindSlot",Zt.prototype={fromParentSlot:null,toLocalSlot:null,parentDepth:null,parentVisible:null,parentTransform:null,parentSlot:null,flipXOnConcat:null,flipYOnConcat:null,toString:function(){var e={};return e.fromParentSlot=this.fromParentSlot,e.toLocalSlot=this.toLocalSlot,e.parentDepth=this.parentDepth,null!=this.parentTransform&&(e.parentTransform=this.parentTransform),this.parentVisible&&(e.parentVisible=this.parentVisible),this.flipXOnConcat&&(e.flipXOnConcat=this.flipXOnConcat),this.flipYOnConcat&&(e.flipYOnConcat=this.flipYOnConcat),""+ot.string(e)},__class__:Zt},function(){this.depth=0,this.drawDefault=!0,this.transform=new n,this.customTransform=null,this.globalSlotIndex=-1,this.slot=null}),ei=((E["ceramic.SlotInfo"]=Jt).__name__="ceramic.SlotInfo",Jt.prototype={slot:null,globalSlotIndex:null,customTransform:null,transform:null,drawDefault:null,depth:null,__class__:Jt},function(){j.call(this)}),ni=((E["ceramic._Spine.DispatchSlotInfo"]=ei).__name__="ceramic._Spine.DispatchSlotInfo",ei.__super__=j,ei.prototype=$extend(j.prototype,{__cbOnDispatch:null,__cbOnceDispatch:null,__cbOnOwnerUnbindDispatch:null,__cbOnceOwnerUnbindDispatch:null,emitDispatch:function(e){var n=0;if(null!=this.__cbOnDispatch&&(n+=this.__cbOnDispatch.length),null!=this.__cbOnceDispatch&&(n+=this.__cbOnceDispatch.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDispatch)for(var s=0,r=this.__cbOnDispatch.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnDispatch[h],++l):--n}if(null!=this.__cbOnceDispatch){for(var a=null,o=null,s=0,r=this.__cbOnceDispatch.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceDispatch[h],this.__cbOnceDispatch[h]=null,c=this.__cbOnceOwnerUnbindDispatch[h],(this.__cbOnceOwnerUnbindDispatch[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDispatch[h]),o.push(this.__cbOnceDispatch[h]))}this.__cbOnceOwnerUnbindDispatch=a,this.__cbOnceDispatch=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onDispatch:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event dispatch because owner is destroyed!");var l=function(e){null!=t&&(i.offDispatch(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDispatch&&(this.__cbOnOwnerUnbindDispatch=[]),this.__cbOnOwnerUnbindDispatch.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDispatch&&(this.__cbOnOwnerUnbindDispatch=[]),this.__cbOnOwnerUnbindDispatch.push(null);null==this.__cbOnDispatch&&(this.__cbOnDispatch=[]),this.__cbOnDispatch.push(t)},onceDispatch:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event dispatch because owner is destroyed!");var l=function(e){null!=t&&(i.offDispatch(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDispatch&&(this.__cbOnceOwnerUnbindDispatch=[]),this.__cbOnceOwnerUnbindDispatch.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDispatch&&(this.__cbOnceOwnerUnbindDispatch=[]),this.__cbOnceOwnerUnbindDispatch.push(null);null==this.__cbOnceDispatch&&(this.__cbOnceDispatch=[]),this.__cbOnceDispatch.push(t)},offDispatch:function(e){if(null!=e){var n;null!=this.__cbOnDispatch&&-1!=(n=this.__cbOnDispatch.indexOf(e))&&(this.__cbOnDispatch.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDispatch[n])&&s(),this.__cbOnOwnerUnbindDispatch.splice(n,1)),null!=this.__cbOnceDispatch&&-1!=(n=this.__cbOnceDispatch.indexOf(e))&&(this.__cbOnceDispatch.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDispatch[n])&&s(),this.__cbOnceOwnerUnbindDispatch.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDispatch){for(var t=0,i=this.__cbOnOwnerUnbindDispatch.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDispatch[l])&&s()}this.__cbOnOwnerUnbindDispatch=null}if(null!=this.__cbOnceOwnerUnbindDispatch){for(t=0,i=this.__cbOnceOwnerUnbindDispatch.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDispatch[l])&&s()}this.__cbOnceOwnerUnbindDispatch=null}this.__cbOnDispatch=null,this.__cbOnceDispatch=null}},listensDispatch:function(){return null!=this.__cbOnDispatch&&0<this.__cbOnDispatch.length||null!=this.__cbOnceDispatch&&0<this.__cbOnceDispatch.length},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offDispatch()},__class__:ei}),(E["ceramic.SpineAsset"]=B1).__name__="ceramic.SpineAsset",B1.__super__=Ga,B1.prototype=$extend(Ga.prototype,{__cbOnReplaceSpineData:null,__cbOnceReplaceSpineData:null,__cbOnOwnerUnbindReplaceSpineData:null,__cbOnceOwnerUnbindReplaceSpineData:null,emitReplaceSpineData:function(e,n){var t=0;if(null!=this.__cbOnReplaceSpineData&&(t+=this.__cbOnReplaceSpineData.length),null!=this.__cbOnceReplaceSpineData&&(t+=this.__cbOnceReplaceSpineData.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnReplaceSpineData)for(var r=0,h=this.__cbOnReplaceSpineData.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnReplaceSpineData[a],++s):--t}if(null!=this.__cbOnceReplaceSpineData){for(var o=null,c=null,r=0,h=this.__cbOnceReplaceSpineData.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceReplaceSpineData[a],this.__cbOnceReplaceSpineData[a]=null,u=this.__cbOnceOwnerUnbindReplaceSpineData[a],(this.__cbOnceOwnerUnbindReplaceSpineData[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindReplaceSpineData[a]),c.push(this.__cbOnceReplaceSpineData[a]))}this.__cbOnceOwnerUnbindReplaceSpineData=o,this.__cbOnceReplaceSpineData=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onReplaceSpineData:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event replaceSpineData because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceSpineData(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReplaceSpineData&&(this.__cbOnOwnerUnbindReplaceSpineData=[]),this.__cbOnOwnerUnbindReplaceSpineData.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReplaceSpineData&&(this.__cbOnOwnerUnbindReplaceSpineData=[]),this.__cbOnOwnerUnbindReplaceSpineData.push(null);null==this.__cbOnReplaceSpineData&&(this.__cbOnReplaceSpineData=[]),this.__cbOnReplaceSpineData.push(t)},onceReplaceSpineData:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event replaceSpineData because owner is destroyed!");var l=function(e){null!=t&&(i.offReplaceSpineData(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReplaceSpineData&&(this.__cbOnceOwnerUnbindReplaceSpineData=[]),this.__cbOnceOwnerUnbindReplaceSpineData.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReplaceSpineData&&(this.__cbOnceOwnerUnbindReplaceSpineData=[]),this.__cbOnceOwnerUnbindReplaceSpineData.push(null);null==this.__cbOnceReplaceSpineData&&(this.__cbOnceReplaceSpineData=[]),this.__cbOnceReplaceSpineData.push(t)},offReplaceSpineData:function(e){if(null!=e){var n;null!=this.__cbOnReplaceSpineData&&-1!=(n=this.__cbOnReplaceSpineData.indexOf(e))&&(this.__cbOnReplaceSpineData.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReplaceSpineData[n])&&s(),this.__cbOnOwnerUnbindReplaceSpineData.splice(n,1)),null!=this.__cbOnceReplaceSpineData&&-1!=(n=this.__cbOnceReplaceSpineData.indexOf(e))&&(this.__cbOnceReplaceSpineData.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReplaceSpineData[n])&&s(),this.__cbOnceOwnerUnbindReplaceSpineData.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceSpineData){for(var t=0,i=this.__cbOnOwnerUnbindReplaceSpineData.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReplaceSpineData[l])&&s()}this.__cbOnOwnerUnbindReplaceSpineData=null}if(null!=this.__cbOnceOwnerUnbindReplaceSpineData){for(t=0,i=this.__cbOnceOwnerUnbindReplaceSpineData.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReplaceSpineData[l])&&s()}this.__cbOnceOwnerUnbindReplaceSpineData=null}this.__cbOnReplaceSpineData=null,this.__cbOnceReplaceSpineData=null}},listensReplaceSpineData:function(){return null!=this.__cbOnReplaceSpineData&&0<this.__cbOnReplaceSpineData.length||null!=this.__cbOnceReplaceSpineData&&0<this.__cbOnceReplaceSpineData.length},json:null,atlas:null,spineDataAutoruns:null,get_spineData:function(){var e,n,t=this.unobservedSpineData;return null!=w.current&&(e=w.current,null!=(n=this.spineDataAutoruns)||(n=w.getAutorunArray(),null!=(this.spineDataAutoruns=n)))&&e.bindToAutorunArray(n),t},set_spineData:function(e){var n=this.unobservedSpineData;return n!=(this.unobservedSpineData=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSpineDataChange(e,n),null!=(n=this.spineDataAutoruns))&&(this.spineDataAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateSpineData:function(){var e=this.unobservedSpineData,e=(this.emitSpineDataChange(e,e),this.spineDataAutoruns);null!=e&&(this.spineDataAutoruns=null,w.invalidateAutorunArray(e))},unobservedSpineData:null,__cbOnSpineDataChange:null,__cbOnceSpineDataChange:null,__cbOnOwnerUnbindSpineDataChange:null,__cbOnceOwnerUnbindSpineDataChange:null,emitSpineDataChange:function(e,n){var t=0;if(null!=this.__cbOnSpineDataChange&&(t+=this.__cbOnSpineDataChange.length),null!=this.__cbOnceSpineDataChange&&(t+=this.__cbOnceSpineDataChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSpineDataChange)for(var r=0,h=this.__cbOnSpineDataChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSpineDataChange[a],++s):--t}if(null!=this.__cbOnceSpineDataChange){for(var o=null,c=null,r=0,h=this.__cbOnceSpineDataChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSpineDataChange[a],this.__cbOnceSpineDataChange[a]=null,u=this.__cbOnceOwnerUnbindSpineDataChange[a],(this.__cbOnceOwnerUnbindSpineDataChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSpineDataChange[a]),c.push(this.__cbOnceSpineDataChange[a]))}this.__cbOnceOwnerUnbindSpineDataChange=o,this.__cbOnceSpineDataChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSpineDataChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event spineDataChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSpineDataChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSpineDataChange&&(this.__cbOnOwnerUnbindSpineDataChange=[]),this.__cbOnOwnerUnbindSpineDataChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSpineDataChange&&(this.__cbOnOwnerUnbindSpineDataChange=[]),this.__cbOnOwnerUnbindSpineDataChange.push(null);null==this.__cbOnSpineDataChange&&(this.__cbOnSpineDataChange=[]),this.__cbOnSpineDataChange.push(t)},onceSpineDataChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event spineDataChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSpineDataChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSpineDataChange&&(this.__cbOnceOwnerUnbindSpineDataChange=[]),this.__cbOnceOwnerUnbindSpineDataChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSpineDataChange&&(this.__cbOnceOwnerUnbindSpineDataChange=[]),this.__cbOnceOwnerUnbindSpineDataChange.push(null);null==this.__cbOnceSpineDataChange&&(this.__cbOnceSpineDataChange=[]),this.__cbOnceSpineDataChange.push(t)},offSpineDataChange:function(e){if(null!=e){var n;null!=this.__cbOnSpineDataChange&&-1!=(n=this.__cbOnSpineDataChange.indexOf(e))&&(this.__cbOnSpineDataChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSpineDataChange[n])&&s(),this.__cbOnOwnerUnbindSpineDataChange.splice(n,1)),null!=this.__cbOnceSpineDataChange&&-1!=(n=this.__cbOnceSpineDataChange.indexOf(e))&&(this.__cbOnceSpineDataChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSpineDataChange[n])&&s(),this.__cbOnceOwnerUnbindSpineDataChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSpineDataChange){for(var t=0,i=this.__cbOnOwnerUnbindSpineDataChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSpineDataChange[l])&&s()}this.__cbOnOwnerUnbindSpineDataChange=null}if(null!=this.__cbOnceOwnerUnbindSpineDataChange){for(t=0,i=this.__cbOnceOwnerUnbindSpineDataChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSpineDataChange[l])&&s()}this.__cbOnceOwnerUnbindSpineDataChange=null}this.__cbOnSpineDataChange=null,this.__cbOnceSpineDataChange=null}},listensSpineDataChange:function(){return null!=this.__cbOnSpineDataChange&&0<this.__cbOnSpineDataChange.length||null!=this.__cbOnceSpineDataChange&&0<this.__cbOnceSpineDataChange.length},scale:null,pages:null,atlasAsset:null,load:function(){for(var g=this,e=(null!=this.owner&&(this.assets.inheritRuntimeAssetsFromAssets(this.owner),this.assets.loadMethod=this.owner.loadMethod,this.assets.scheduleMethod=this.owner.scheduleMethod,this.assets.delayBetweenXAssets=this.owner.delayBetweenXAssets),this.set_status(Cn.LOADING),ke.app.logger.info("Load spine "+this.path,{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/SpineAsset.hx",lineNumber:144,className:"ceramic.SpineAsset",methodName:"load"}),this.assets.runtimeAssets=this.runtimeAssets,this.path+"/"),n=null,t=[],i=0,l=tn.all;i<l.length;){var s,r=l[i];++i,z.startsWith(r,e)&&(s=r.toLowerCase(),null==n&&z.endsWith(s,".json")&&(n=r),z.endsWith(s,".atlas"))&&t.push(r)}if(null==n)this.set_status(Cn.BROKEN),ke.app.logger.error("Failed to retrieve json path for spine: "+this.path,{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/SpineAsset.hx",lineNumber:168,className:"ceramic.SpineAsset",methodName:"load"}),this.emitComplete(!1);else{var h=tn.decodePath(n).name,a=new oi(h+".json");if(a.set_handleTexturesDensityChange(!1),null==this.atlasAsset){for(var o=null,i=0;i<t.length;){var c=t[i];if(++i,tn.assetNameFromPath(c)==h){o=h+".atlas";break}}o=null==o&&0<t.length?tn.assetNameFromPath(t[0])+".atlas":h+".atlas",this.atlasAsset=new oi(o),this.atlasAsset.set_handleTexturesDensityChange(!1),this.assets.addAsset(this.atlasAsset),this.atlasAsset.computePath(["atlas"],!1,this.runtimeAssets)}var u=this.assets.addAsset(a),O=(a.computePath(["json"],!1,this.runtimeAssets),null!=u&&u.destroy(),null),O=function(e){var n,_,d,b=new ti(a.path,a.get_text()),t=g.atlasAsset.get_text();null!=t&&z.startsWith(z.trim(t),"alias:")?(g.assets.onceComplete(g,O),n=tn.decodePath(z.trim(t).substring("alias:".length)),ke.app.logger.info("Atlas "+h+".atlas is an alias for: "+n.name+".atlas",{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/SpineAsset.hx",lineNumber:219,className:"ceramic.SpineAsset",methodName:"load"}),g.atlasAsset=new oi(n.name+".atlas"),g.atlasAsset.set_handleTexturesDensityChange(!1),g.assets.addAsset(g.atlasAsset),g.atlasAsset.computePath(["atlas"],!1,g.runtimeAssets),g.assets.load(null,{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/SpineAsset.hx",lineNumber:225,className:"ceramic.SpineAsset",methodName:"load"})):null!=b&&null!=t?(_=g.pages,g.pages=new Zl,d=new tr(t,new si(g,Dt.directory(g.atlasAsset.path))),g.assets.onceComplete(g,function(e){if(e){for(var n=g.pages.keys();n.hasNext();){var t=n.next(),i=g.pages.h[t.__id__];t.rendererObject=i.get_texture(),t.width=0|i.get_texture().width,t.height=0|i.get_texture().height}var l=g.get_spineData();if(g.set_spineData(new ni(d,new br(JSON.parse(b.getContent())),g.scale)),g.get_spineData().asset=g,null!=_)for(i=_.iterator();i.hasNext();){for(var s=i.next(),r=s.get_texture(),h=0,a=[].concat(ke.app.visuals);h<a.length;){var o,c=a[h];++h,null!=c.asQuad?(o=c.asQuad)._texture==r&&null!=o._texture&&o._set_texture(null):null!=c.asMesh&&(o=c.asMesh).texture==r&&null!=o.texture&&(null!=o.texture&&(o.texture.offDestroy($bind(o,o.textureDestroyed)),null!=o.texture.asset)&&o.texture.asset.release(),(o.texture=null)!=o.texture)&&(o.texture.onDestroy(o,$bind(o,o.textureDestroyed)),null!=o.texture.asset)&&o.texture.asset.retain()}s.destroy()}if(null!=l){g.emitReplaceSpineData(g.get_spineData(),l);for(h=0,a=[].concat(ke.app.visuals);h<a.length;){var u,c=a[h];++h,c instanceof jt&&(u=c).spineData==l&&u.set_spineData(g.get_spineData())}}g.set_status(Cn.READY),g.emitComplete(!0),g.handleTexturesDensityChange&&g.checkTexturesDensity()}else g.set_status(Cn.BROKEN),ke.app.logger.error("Failed to load spine pages at path: "+g.path,{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/SpineAsset.hx",lineNumber:314,className:"ceramic.SpineAsset",methodName:"load"}),g.emitComplete(!1)}),g.assets.load(null,{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/SpineAsset.hx",lineNumber:321,className:"ceramic.SpineAsset",methodName:"load"})):(g.set_status(Cn.BROKEN),ke.app.logger.error("Failed to load spine data at path: "+g.path,{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/SpineAsset.hx",lineNumber:326,className:"ceramic.SpineAsset",methodName:"load"}),g.emitComplete(!1))};this.assets.onceComplete(this,O),this.assets.load(null,{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/SpineAsset.hx",lineNumber:333,className:"ceramic.SpineAsset",methodName:"load"})}},loadPage:function(n,e,t){var i=this,t=(ke.app.logger.info("Load atlas page "+n.name+" / "+e+" / "+t,{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/SpineAsset.hx",lineNumber:349,className:"ceramic.SpineAsset",methodName:"loadPage"}),e=Dt.join([null!=t?t:this.path,e]),tn.decodePath(e)),l=new Zn(t.name);l.density=1,l.set_handleTexturesDensityChange(!1),l.set_path(t.path),l.onDestroy(this,function(e){i.pages.h[n.__id__]==l&&i.pages.remove(n)}),this.assets.addAsset(l),this.pages.set(n,l)},unloadPage:function(e){var n=this.pages.h[e.__id__];null!=n?(this.pages.remove(e),n.destroy()):ke.app.logger.warning("Cannot unload spine page: "+ot.string(e),{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/SpineAsset.hx",lineNumber:384,className:"ceramic.SpineAsset",methodName:"unloadPage"})},texturesDensityDidChange:function(e,n){this.get_status()==Cn.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){var e,n;null!=this.owner&&this.owner.reloadOnTextureDensityChange&&null!=this.atlasAsset&&(e=this.atlasAsset.path,this.atlasAsset.computePath(["atlas"]),e!=(n=this.atlasAsset.path))&&(ke.app.logger.info("Reload spine ("+e+" -> "+n+")",{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/SpineAsset.hx",lineNumber:420,className:"ceramic.SpineAsset",methodName:"checkTexturesDensity"}),this.load())},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ke.app.logger.info("Reload spine (file has changed)",{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/SpineAsset.hx",lineNumber:445,className:"ceramic.SpineAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ga.prototype.destroy.call(this),null!=this.get_spineData()&&(this.get_spineData().destroy(),this.set_spineData(null)))},unbindEvents:function(){Ga.prototype.unbindEvents.call(this),this.offReplaceSpineData(),this.offSpineDataChange()},__class__:B1,__properties__:$extend(Ga.prototype.__properties__,{set_spineData:"set_spineData",get_spineData:"get_spineData"})}),function(e,n,t){null==t&&(t=1),j.call(this),this.atlas=e;e=new Rs(new Gs(e));e.setScale(t),this.skeletonData=e.readSkeletonData(n)}),ti=((E["ceramic.SpineData"]=ni).__name__="ceramic.SpineData",ni.__super__=j,ni.prototype=$extend(j.prototype,{skeletonData:null,atlas:null,asset:null,findSlotIndex:function(e){if(null!=e&&null!=this.skeletonData)for(var n=this.skeletonData.slots,t=0,i=n.length;t<i;){var l=t++;if(n[l].name==e)return l}return-1},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),this.atlas.dispose(),this.atlas=null)},__class__:ni}),(E["spine.support.files.FileHandle"]=D1).__name__="spine.support.files.FileHandle",D1.__isInterface__=!0,D1.prototype={path:null,getContent:null,__class__:D1},function(e,n){this.path=e,this.content=n}),ii=((E["ceramic.SpineFile"]=ti).__name__="ceramic.SpineFile",ti.__interfaces__=[D1],ti.prototype={path:null,content:null,getContent:function(){return this.content},__class__:ti},function(){}),li=((E["ceramic.SpinePlugin"]=ii).__name__="ceramic.SpinePlugin",ii.pluginInit=function(){ke.oncePreInit(function(){ke.app.logger.info("Init spine plugin",{fileName:"../../../../ceramic/plugins/spine/runtime/src/ceramic/SpinePlugin.hx",lineNumber:69,className:"ceramic.SpinePlugin",methodName:"pluginInit"}),tn.addAssetKind("spine",ii.addSpine,["spine"],!0,["ceramic.SpineData"]);var e=new D0;ke.app.converters.h["ceramic.SpineData"]=e,ke.app.onceDefaultAssetsLoad(null,function(e){var n=As,t=n.__name__.split("."),i=(i=t.pop()).charAt(0).toLowerCase()+he.substr(i,1,null),t=0<t.length?t.join("_")+"_"+i:i,i=new Yt(t,null,null);i.shaderClass=n,e.addAsset(i)})})},ii._addSpine=function(e,n,t,i){ii.addSpine(e,n,t,i)},ii.addSpine=function(e,n,t,i){z.startsWith(n,"spine:")&&(n=he.substr(n,6,null)),e.addAsset(new B1(n,t,i))},ii.ensureSpine=function(e,n,t,i,l){n="string"==typeof n?n:L.field(n,"_id");z.startsWith(n,"spine:")||(n="spine:"+n),e.ensure(n,t,i,function(e){l(e instanceof B1?e:null)})},ii.spine=function(e,n,t){e=ii.spineAsset(e,n,t);return null==e?null:e.get_spineData()},ii.spineAsset=function(e,n,t){var i="string"==typeof n?n:L.field(n,"_id");return z.startsWith(i,"spine:")&&(i=he.substr(i,6,null)),null!=t&&(i+=":"+t),!Object.prototype.hasOwnProperty.call(e.assetsByKindAndName.h,"spine")||null==(i=e.assetsByKindAndName.h.spine.h[i])?null!=e.parent?ii.spineAsset(e.parent,n,t):null:i},ii.toSkeletonName=function(e){return L.field(e,"_id")},function(){this._updatingSpines=[],this.spines=[],a1.call(this),this.set_lateUpdateOrder(4e3)}),si=((E["ceramic.SpineSystem"]=li).__name__="ceramic.SpineSystem",li.__properties__={set_shared:"set_shared",get_shared:"get_shared"},li.get_shared=function(){return li.lazyShared&&(li.lazyShared=!1,li.shared=new li),li.shared},li.set_shared=function(e){return li.shared=e},li.__super__=a1,li.prototype=$extend(a1.prototype,{spines:null,_updatingSpines:null,lateUpdate:function(e){for(var n=this.spines.length,t=0,i=n;t<i;){var l=t++;this._updatingSpines[l]=this.spines[l]}for(t=0,i=n;t<i;){var l=t++,s=this._updatingSpines[l];!s.pausedOrFrozen&&s.autoUpdate&&s.update(e)}for(t=0,i=n;t<i;){l=t++;this._updatingSpines[l]=null}},__class__:li}),(E["spine.support.graphics.TextureLoader"]=H1).__name__="spine.support.graphics.TextureLoader",H1.__isInterface__=!0,H1.prototype={loadPage:null,loadRegion:null,unloadPage:null,__class__:H1},function(e,n){this.asset=e,this.basePath=n}),ri=((E["ceramic.SpineTextureLoader"]=si).__name__="ceramic.SpineTextureLoader",si.__interfaces__=[H1],si.prototype={asset:null,basePath:null,loadPage:function(e,n){this.asset.loadPage(e,n,this.basePath)},loadRegion:function(e){},unloadPage:function(e){this.asset.unloadPage(e)},__class__:si},function(){this._udpatingSystems=[],this.lateUpdateOrdered=[],this.earlyUpdateOrdered=[],this.lateUpdateOrderDirty=!1,this.earlyUpdateOrderDirty=!1,j.call(this)}),hi=((E["ceramic.Systems"]=ri).__name__="ceramic.Systems",ri.sortSystemsByEarlyUpdateOrder=function(e,n){return e.earlyUpdateOrder>n.earlyUpdateOrder?1:e.earlyUpdateOrder<n.earlyUpdateOrder?-1:0},ri.sortSystemsByLateUpdateOrder=function(e,n){return e.lateUpdateOrder>n.lateUpdateOrder?1:e.lateUpdateOrder<n.lateUpdateOrder?-1:0},ri.__super__=j,ri.prototype=$extend(j.prototype,{earlyUpdateOrderDirty:null,lateUpdateOrderDirty:null,earlyUpdateOrdered:null,lateUpdateOrdered:null,_udpatingSystems:null,addSystem:function(e){this.earlyUpdateOrdered.push(e),this.earlyUpdateOrderDirty=!0,this.lateUpdateOrdered.push(e),this.lateUpdateOrderDirty=!0},removeSystem:function(e){he.remove(this.earlyUpdateOrdered,e),this.earlyUpdateOrderDirty=!0,he.remove(this.lateUpdateOrdered,e),this.lateUpdateOrderDirty=!0},earlyUpdate:function(e){this.earlyUpdateOrderDirty&&(ql.sort(this.earlyUpdateOrdered,ri.sortSystemsByEarlyUpdateOrder),this.earlyUpdateOrderDirty=!1);for(var n=this.earlyUpdateOrdered.length,t=0,i=n;t<i;){var l=t++;this._udpatingSystems[l]=this.earlyUpdateOrdered[l]}for(t=0,i=n;t<i;){var l=t++,s=this._udpatingSystems[l];s.emitBeginEarlyUpdate(e),s.earlyUpdate(e),s.emitEndEarlyUpdate(e),ke.app.flushImmediate()}for(t=0,i=n;t<i;){l=t++;this._udpatingSystems[l]=null}},lateUpdate:function(e){this.lateUpdateOrderDirty&&(ql.sort(this.lateUpdateOrdered,ri.sortSystemsByLateUpdateOrder),this.lateUpdateOrderDirty=!1);for(var n=this.lateUpdateOrdered.length,t=0,i=n;t<i;){var l=t++;this._udpatingSystems[l]=this.lateUpdateOrdered[l]}for(t=0,i=n;t<i;){var l=t++,s=this._udpatingSystems[l];s.emitBeginLateUpdate(e),s.lateUpdate(e),s.emitEndLateUpdate(e),ke.app.flushImmediate()}for(t=0,i=n;t<i;){l=t++;this._udpatingSystems[l]=null}},get:function(e){for(var n=0,t=this.earlyUpdateOrdered.length;n<t;){var i=n++,i=this.earlyUpdateOrdered[i];if(i.name==e)return i}return null},__class__:ri}),function(){this.glyphCode=null,this.maxLineDiff=-1,this.fitWidth=-1,this.align=ai.LEFT,this.preRenderedSize=-1,this.clipTextHeight=-1,this.clipTextWidth=-1,this.clipTextY=-1,this.clipTextX=-1,this.letterSpacing=0,this.lineHeight=1,this.pointSize=20,this.content="",this.color=16777215,this.numLines=1,this.glyphQuads=[],q.call(this),this.set_font(ke.app.defaultFont)}),ai=((E["ceramic.Text"]=hi).__name__="ceramic.Text",hi.__super__=q,hi.prototype=$extend(q.prototype,{__cbOnGlyphQuadsChange:null,__cbOnceGlyphQuadsChange:null,__cbOnOwnerUnbindGlyphQuadsChange:null,__cbOnceOwnerUnbindGlyphQuadsChange:null,emitGlyphQuadsChange:function(){var e=0;if(null!=this.__cbOnGlyphQuadsChange&&(e+=this.__cbOnGlyphQuadsChange.length),null!=this.__cbOnceGlyphQuadsChange&&(e+=this.__cbOnceGlyphQuadsChange.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnGlyphQuadsChange)for(var l=0,s=this.__cbOnGlyphQuadsChange.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnGlyphQuadsChange[r],++i):--e}if(null!=this.__cbOnceGlyphQuadsChange){for(var h=null,a=null,l=0,s=this.__cbOnceGlyphQuadsChange.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceGlyphQuadsChange[r],this.__cbOnceGlyphQuadsChange[r]=null,o=this.__cbOnceOwnerUnbindGlyphQuadsChange[r],(this.__cbOnceOwnerUnbindGlyphQuadsChange[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindGlyphQuadsChange[r]),a.push(this.__cbOnceGlyphQuadsChange[r]))}this.__cbOnceOwnerUnbindGlyphQuadsChange=h,this.__cbOnceGlyphQuadsChange=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onGlyphQuadsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event glyphQuadsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offGlyphQuadsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindGlyphQuadsChange&&(this.__cbOnOwnerUnbindGlyphQuadsChange=[]),this.__cbOnOwnerUnbindGlyphQuadsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindGlyphQuadsChange&&(this.__cbOnOwnerUnbindGlyphQuadsChange=[]),this.__cbOnOwnerUnbindGlyphQuadsChange.push(null);null==this.__cbOnGlyphQuadsChange&&(this.__cbOnGlyphQuadsChange=[]),this.__cbOnGlyphQuadsChange.push(t)},onceGlyphQuadsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event glyphQuadsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offGlyphQuadsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindGlyphQuadsChange&&(this.__cbOnceOwnerUnbindGlyphQuadsChange=[]),this.__cbOnceOwnerUnbindGlyphQuadsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindGlyphQuadsChange&&(this.__cbOnceOwnerUnbindGlyphQuadsChange=[]),this.__cbOnceOwnerUnbindGlyphQuadsChange.push(null);null==this.__cbOnceGlyphQuadsChange&&(this.__cbOnceGlyphQuadsChange=[]),this.__cbOnceGlyphQuadsChange.push(t)},offGlyphQuadsChange:function(e){if(null!=e){var n;null!=this.__cbOnGlyphQuadsChange&&-1!=(n=this.__cbOnGlyphQuadsChange.indexOf(e))&&(this.__cbOnGlyphQuadsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindGlyphQuadsChange[n])&&s(),this.__cbOnOwnerUnbindGlyphQuadsChange.splice(n,1)),null!=this.__cbOnceGlyphQuadsChange&&-1!=(n=this.__cbOnceGlyphQuadsChange.indexOf(e))&&(this.__cbOnceGlyphQuadsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindGlyphQuadsChange[n])&&s(),this.__cbOnceOwnerUnbindGlyphQuadsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGlyphQuadsChange){for(var t=0,i=this.__cbOnOwnerUnbindGlyphQuadsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindGlyphQuadsChange[l])&&s()}this.__cbOnOwnerUnbindGlyphQuadsChange=null}if(null!=this.__cbOnceOwnerUnbindGlyphQuadsChange){for(t=0,i=this.__cbOnceOwnerUnbindGlyphQuadsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindGlyphQuadsChange[l])&&s()}this.__cbOnceOwnerUnbindGlyphQuadsChange=null}this.__cbOnGlyphQuadsChange=null,this.__cbOnceGlyphQuadsChange=null}},listensGlyphQuadsChange:function(){return null!=this.__cbOnGlyphQuadsChange&&0<this.__cbOnGlyphQuadsChange.length||null!=this.__cbOnceGlyphQuadsChange&&0<this.__cbOnceGlyphQuadsChange.length},glyphQuads:null,numLines:null,get_numLines:function(){return this.contentDirty&&this.computeContent(),this.numLines},color:null,set_color:function(e){if(this.color!=e&&(this.color=e,null!=this.glyphQuads))for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].color=e}return e},set_roundTranslation:function(e){return this.roundTranslation!=e&&(this.contentDirty=!0,ke.app.visualsContentDirty=!0,this.roundTranslation=e),e},content:null,set_content:function(e){return this.content!=e&&(this.contentDirty=!0,ke.app.visualsContentDirty=!0,this.content=e),e},pointSize:null,set_pointSize:function(e){return this.pointSize!=e&&(this.contentDirty=!0,ke.app.visualsContentDirty=!0,this.pointSize=e),e},lineHeight:null,set_lineHeight:function(e){return this.lineHeight!=e&&(this.contentDirty=!0,ke.app.visualsContentDirty=!0,this.lineHeight=e),e},letterSpacing:null,set_letterSpacing:function(e){return this.letterSpacing!=e&&(this.contentDirty=!0,ke.app.visualsContentDirty=!0,this.letterSpacing=e),e},font:null,set_font:function(e){return null==e&&(e=ke.app.defaultFont),this.font!=e&&(null!=this.font&&(this.font.offDestroy($bind(this,this.fontDestroyed)),null!=this.font.asset)&&this.font.asset.release(),this.contentDirty=!0,ke.app.visualsContentDirty=!0,this.font=e,null!=this.font&&(this.font.onDestroy(this,$bind(this,this.fontDestroyed)),null!=this.font.asset))&&this.font.asset.retain(),e},clipTextX:null,set_clipTextX:function(e){return this.clipTextX!=e&&(this.clipTextX=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},clipTextY:null,set_clipTextY:function(e){return this.clipTextY!=e&&(this.clipTextY=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},clipTextWidth:null,set_clipTextWidth:function(e){return this.clipTextWidth!=e&&(this.clipTextWidth=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},clipTextHeight:null,set_clipTextHeight:function(e){return this.clipTextHeight!=e&&(this.clipTextHeight=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},clipText:function(e,n,t,i){this.set_clipTextX(e),this.set_clipTextY(n),this.set_clipTextWidth(t),this.set_clipTextHeight(i)},preRenderedSize:null,set_preRenderedSize:function(e){return this.preRenderedSize!=e&&(this.contentDirty=!0,ke.app.visualsContentDirty=!0,this.preRenderedSize<=0&&0<e&&ke.app.screen.onTexturesDensityChange(this,$bind(this,this.handleTexturesDensityChange)),0<this.preRenderedSize&&e<=0&&ke.app.screen.offTexturesDensityChange($bind(this,this.handleTexturesDensityChange)),this.preRenderedSize=e),e},handleTexturesDensityChange:function(e,n){this.contentDirty=!0,ke.app.visualsContentDirty=!0},align:null,set_align:function(e){return this.align!=e&&(this.contentDirty=!0,ke.app.visualsContentDirty=!0,this.align=e),e},fitWidth:null,set_fitWidth:function(e){return this.fitWidth!=e&&(this.fitWidth=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},maxLineDiff:null,set_maxLineDiff:function(e){return this.maxLineDiff!=e&&(this.maxLineDiff=e,-1!=this.fitWidth)&&(this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},glyphCode:null,set_depth:function(e){if(this.depth==e)return e;if(null!=this.glyphQuads)for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].set_depth(e)}return q.prototype.set_depth.call(this,e)},get_width:function(){return this.contentDirty&&this.computeContent(),q.prototype.get_width.call(this)},scaleWidth:function(e){if(this._width!=e&&(this.set_scaleX(e/this._width),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}},get_height:function(){return this.contentDirty&&this.computeContent(),q.prototype.get_height.call(this)},scaleHeight:function(e){if(this._height!=e&&(this.set_scaleY(e/this._height),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}},set_blending:function(e){if(this.blending!=e&&(this.blending=e,null!=this.glyphQuads))for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].set_blending(e)}return e},destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,this._lifecycleState=-1,q.prototype.destroy.call(this),null!=this.glyphQuads)){for(var e=0,n=this.glyphQuads.length;e<n;){var t=e++;this.glyphQuads[t].destroy()}this.glyphQuads=null}},computeContent:function(){var e=this;if(null==this.font)this.set_width(0),this.set_height(0),this.contentDirty=!1;else{if(this.numLines=this.computeGlyphQuads(this.fitWidth,this.maxLineDiff),this.contentDirty=!1,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,l=this.children[i];if(l.matrixDirty=!0,null!=l.children)for(var s=0,r=l.children.length;s<r;){var h=s++;l.children[h].set_matrixDirty(!0)}}var a,o=this.preRenderedSize*ke.app.screen.get_texturesDensity()|0;0<o&&null!=(a=this.font).fontData.distanceField&&"msdf"==a.fontData.distanceField.fieldType&&this.font.needsToPreRenderAtSize(o)&&this.font.preRenderAtSize(o,function(){e.contentDirty=!0,ke.app.visualsContentDirty=!0}),this.emitGlyphQuadsChange()}},computeGlyphQuads:function(e,E,R){null==R&&(R=-1);var n,t,i,l=0,V=0,L=0,s=this.pointSize/this.font.fontData.pointSize,r=null,h=-1,a=null,o=-1,c=0,u=null,_=[],d=[[]],b=0,H=!1,N=!1,W=!1,g=0,z=0,O=!1,f=0,Y=!1,G=(-1!=this.clipTextX&&-1!=this.clipTextY&&-1!=this.clipTextWidth&&-1!=this.clipTextHeight&&(Y=!0),this.preRenderedSize*ke.app.screen.get_texturesDensity()|0),X=0<G&&null!=(U=this.font).fontData.distanceField&&"msdf"==U.fontData.distanceField.fieldType&&!this.font.needsToPreRenderAtSize(G),p=this.content;if((""==p||0<p.length&&10==he.cca(p,p.length-1))&&(O=!0,p+=" "),null!=this.glyphCode){for(var K="",C=0,v=p.length;C<v;){var m=C++,q=he.cca(p,m),q=this.glyphCode(q,m);K+=String.fromCodePoint(q)}p=K}for(var w,y,U,$=p.length;c<$&&b<2*$;){if(a=r,o=h,r=p.charAt(c),h=he.cca(r,0),(N=" "==r)&&++g,(H="\n"==r)||N||c==$-1)if(!W&&0<=e&&1<L&&e-1<L&&0<g)for(W=!0,--g;0<c;){if(--c,r=p.charAt(c),h=he.cca(r,0),o=0<c?(a=p.charAt(c-1),he.cca(a,0)):(a=null,-1),u=this.font.fontData.chars.get(h),null!=a&&(l-=(null!=(w=this.font.fontData.kernings.get(o))&&w.intMap.h.hasOwnProperty(0|h)&&null!=(w=w.intMap.h[0|h])?w:0)*s),null!=u&&(l-=u.xAdvance*s+this.letterSpacing),!(0<d[d.length-1].length))break;if(--b,d[d.length-1].pop()," "==r){r="\n",u=this.font.fontData.chars.get(10),h=he.cca(r,0),--g,N=!(H=!0);break}}else W=!1;if(H)g=0,o=-1,z=++c,V+=this.lineHeight*this.font.fontData.lineHeight*s,_.push(l+((a=null)!=u?(u.xOffset+u.width-u.xAdvance)*s-this.letterSpacing:0)),d.push([]),L=l=0;else{if(null!=(u=this.font.fontData.chars.get(h))){if(null!=a&&(l+=(null!=(y=this.font.fontData.kernings.get(o))&&y.intMap.h.hasOwnProperty(0|h)&&null!=(y=y.intMap.h[0|h])?y:0)*s),y=l+u.xOffset*s,n=V+u.yOffset*s,t=u.width*s,i=u.height*s,f=0,Y&&(y>=this.clipTextX+this.clipTextWidth||y+t<this.clipTextX||n>=this.clipTextY+this.clipTextHeight||n+i<this.clipTextY?f=2:(this.clipTextX>y&&this.clipTextX<=y+t||this.clipTextY>n&&this.clipTextY<=n+i||this.clipTextX+this.clipTextWidth>y&&this.clipTextX+this.clipTextWidth<=y+t||this.clipTextY+this.clipTextHeight>n&&this.clipTextY+this.clipTextHeight<=n+i)&&(f=1)),null==(M=b<this.glyphQuads.length?this.glyphQuads[b]:null)){if(1!=(M=new ab).inheritAlpha&&(M.inheritAlpha=!0,M.visibilityDirty=!0,null!=M.children))for(C=0,v=M.children.length;C<v;){var j=C++,Q=M.children[j];if(Q.visibilityDirty=!0,null!=Q.children)for(var D=0,T=Q.children.length;D<T;){var Z=D++;Q.children[Z].set_visibilityDirty(!0)}}this.glyphQuads.push(M),this.add(M)}++b,M.char=r,M.code=h,M.index=c,M.set_visible(2!=f),M.flags&=-17,M.posInLine=c-z,M.line=d.length-1;var J,ee,x,S,A,k,I,P,F=X?this.font.preRenderedPages.h[G].h[u.page]:this.font.pages.get(u.page);M._texture!=F&&M._set_texture(F),M.set_roundTranslation(0<=this.roundTranslation?this.roundTranslation:null!=M._texture&&M._texture.filter==fi.NEAREST?1:0),M.set_shader(X||null==this.font.pageShaders?null:this.font.pageShaders.h[u.page]),M.color=this.color,M.set_depth(this.depth),M.set_blending(this.blending),M.glyphX=l,M.glyphY=V,M.glyphAdvance=u.xAdvance*s+this.letterSpacing,M.glyph=u,1==f?(F=Math.max(this.clipTextX,y),k=Math.max(this.clipTextY,n),I=Math.min(this.clipTextX+this.clipTextWidth,y+t)-F,P=Math.min(this.clipTextY+this.clipTextHeight,n+i)-k,S=X?(S=this.font.pages.get(u.page),J=u.x*M._texture.width/S.width,ee=u.y*M._texture.height/S.height,x=u.width*M._texture.width/S.width,u.height*M._texture.height/S.height):(J=u.x/M._texture.density,ee=u.y/M._texture.density,x=u.width/M._texture.density,u.height/M._texture.density),J+=A=(F-y)*x/t,x-=A+(y+t-F-I)*x/t,ee+=A=(k-n)*S/i,S-=A+(n+i-k-P)*S/i,M.frameX=J,M.frameY=ee,M.frameWidth!=x&&-1!=(M.frameWidth=x)&&M.set_width(x),M.frameHeight!=S&&-1!=(M.frameHeight=S)&&M.set_height(S),M.set_x(F),M.set_y(k),M.set_width(I),M.set_height(P)):(X?(A=this.font.pages.get(u.page),F=u.width*M._texture.width/A.width,k=u.height*M._texture.height/A.height,M.frameX=u.x*M._texture.width/A.width,M.frameY=u.y*M._texture.height/A.height,M.frameWidth!=F&&-1!=(M.frameWidth=F)&&M.set_width(F),M.frameHeight!=k&&-1!=(M.frameHeight=k)&&M.set_height(k)):(I=u.width/M._texture.density,P=u.height/M._texture.density,M.frameX=u.x/M._texture.density,M.frameY=u.y/M._texture.density,M.frameWidth!=I&&-1!=(M.frameWidth=I)&&M.set_width(I),M.frameHeight!=P&&-1!=(M.frameHeight=P)&&M.set_height(P)),M.set_x(y),M.set_y(n),M.set_width(t),M.set_height(i)),M.set_anchorX(0),M.set_anchorY(0),d[d.length-1].push(M),L=l+Math.max((u.xOffset+u.width)*s,u.xAdvance*s),l+=u.xAdvance*s+this.letterSpacing}++c}}for(0<l&&_.push(l),O&&0<b&&(U=this.glyphQuads[b-1],O=_[_.length-1],O-=U.glyphAdvance,_[_.length-1]=O,U.glyphAdvance=0,U.set_visible(!1));b<this.glyphQuads.length;)(M=this.glyphQuads.pop()).destroy();for(var B=0,C=0,v=_.length;C<v;)c=C++,B=Math.max(_[c],B);switch(this.set_width(Math.round(1e3*B)/1e3),this.set_height(Math.round(1e3*((_.length-1)*this.lineHeight*this.font.fontData.lineHeight*s+this.font.fontData.lineHeight*s))/1e3),this.align._hx_index){case 1:for(C=0,v=_.length;C<v;)for(var ne=B-_[c=C++],D=0,T=(te=d[c]).length;D<T;)(M=te[m=D++]).set_x(M.x+ne);break;case 2:for(C=0,v=_.length;C<v;)for(var te,M,ne=.5*(B-_[c=C++]),D=0,T=(te=d[c]).length;D<T;)(M=te[m=D++]).set_x(M.x+ne)}if((-1==R||R==_.length)&&0<e&&-1!=E&&e>this.pointSize){for(var ie=0,le=this.fitWidth*E,C=0,v=_.length;C<v;)for(c=C++,D=0,T=_.length;D<T;){var m=D++,se=_[c]-_[m];if(le<(ie=ie<(se=se<0?-se:se)?se:ie))break}le<ie&&(O=this.computeGlyphQuads(e-this.pointSize,E,_.length),_.length<O)&&this.computeGlyphQuads(e,-1,_.length)}return _.length},lineForYPosition:function(e){this.contentDirty&&this.computeContent();var n,t=this.lineHeight*this.font.fontData.lineHeight*this.pointSize/this.font.fontData.pointSize,i=0;return t<=0?0:(i=0<(n=this.glyphQuads).length?n[n.length-1].line:i)<(n=(n=Math.floor(e/t))<0?0:n)?i:n},posInLineForX:function(e,n){this.contentDirty&&this.computeContent();var t=this.glyphQuads,i=0;if(0!=t.length&&0!=n)for(var l=0,s=t.length;l<s;){var r=t[l++];if(r.line==e){if(r.glyphX>=n)return i;if(r.glyphX+r.glyphAdvance>=n){var h=r.glyphX+r.glyphAdvance-n;if(n-r.glyphX<=h)return i}++i}else if(r.line>e)break}return i},indexForPosInLine:function(e,n){this.contentDirty&&this.computeContent();var t=this.glyphQuads;if(0==t.length)return 0;for(var i=0,l=t.length;i<l;){var s=t[i++];if(s.line==e&&s.posInLine>=n)return s.index+n-s.posInLine;if(s.line>e)return s.index-s.posInLine-(s.line-e)}return this.content.length},xPositionAtIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=0,i=n.length;t<i;){var l=t++,s=n[l];if(s.index>=e)return 0==s.glyphX&&s.index>e?1<=l?(l=n[l-1]).glyphX+l.glyphAdvance:0:s.glyphX}var r=n[n.length-1];return r.glyphX+r.glyphAdvance},lineForIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=0,i=n.length;t<i;){var l=n[t++];if(l.index>=e){if(l.posInLine>e-l.index){for(var s=l.index-l.posInLine,r=l.line;e<s;)--s,--r;return r}return l.line}}return n[n.length-1].line},posInLineForIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0!=n.length)for(var t=!1,i=-1,l=0,s=n.length;l<s;){var r=l++,h=n[r];if(h.index>=e){var a=h.posInLine+e-h.index;if(a<0)for(var o=r-1;0<=o;){var c=n[o];if(t||(t=!0,i=this.lineForIndex(e)),c.line==i)return a=c.posInLine+e-c.index;if(c.line<i)return 0;--o}return 0<=a?a:0}}return 0},fontDestroyed:function(e){this.set_font(ke.app.defaultFont)},toString:function(){return null!=this.id?"Text("+this.id+" "+this.content+")":"Text("+this.content+")"},unbindEvents:function(){q.prototype.unbindEvents.call(this),this.offGlyphQuadsChange()},__class__:hi,__properties__:$extend(q.prototype.__properties__,{set_maxLineDiff:"set_maxLineDiff",set_fitWidth:"set_fitWidth",set_align:"set_align",set_preRenderedSize:"set_preRenderedSize",set_clipTextHeight:"set_clipTextHeight",set_clipTextWidth:"set_clipTextWidth",set_clipTextY:"set_clipTextY",set_clipTextX:"set_clipTextX",set_font:"set_font",set_letterSpacing:"set_letterSpacing",set_lineHeight:"set_lineHeight",set_pointSize:"set_pointSize",set_content:"set_content",set_color:"set_color",get_numLines:"get_numLines"})}),en["ceramic.TextAlign"]={__ename__:"ceramic.TextAlign",__constructs__:null,LEFT:{_hx_name:"LEFT",_hx_index:0,__enum__:"ceramic.TextAlign",toString:c},RIGHT:{_hx_name:"RIGHT",_hx_index:1,__enum__:"ceramic.TextAlign",toString:c},CENTER:{_hx_name:"CENTER",_hx_index:2,__enum__:"ceramic.TextAlign",toString:c}}),oi=(ai.__constructs__=[ai.LEFT,ai.RIGHT,ai.CENTER],function(e,n,t){this.unobservedText=null,this.textAutoruns=null,Ga.call(this,"text",e,n,t)}),ci=((E["ceramic.TextAsset"]=oi).__name__="ceramic.TextAsset",oi.__super__=Ga,oi.prototype=$extend(Ga.prototype,{textAutoruns:null,get_text:function(){var e,n,t=this.unobservedText;return null!=w.current&&(e=w.current,null!=(n=this.textAutoruns)||(n=w.getAutorunArray(),null!=(this.textAutoruns=n)))&&e.bindToAutorunArray(n),t},set_text:function(e){var n=this.unobservedText;return n!=(this.unobservedText=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextChange(e,n),null!=(n=this.textAutoruns))&&(this.textAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateText:function(){var e=this.unobservedText,e=(this.emitTextChange(e,e),this.textAutoruns);null!=e&&(this.textAutoruns=null,w.invalidateAutorunArray(e))},unobservedText:null,__cbOnTextChange:null,__cbOnceTextChange:null,__cbOnOwnerUnbindTextChange:null,__cbOnceOwnerUnbindTextChange:null,emitTextChange:function(e,n){var t=0;if(null!=this.__cbOnTextChange&&(t+=this.__cbOnTextChange.length),null!=this.__cbOnceTextChange&&(t+=this.__cbOnceTextChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTextChange)for(var r=0,h=this.__cbOnTextChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTextChange[a],++s):--t}if(null!=this.__cbOnceTextChange){for(var o=null,c=null,r=0,h=this.__cbOnceTextChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTextChange[a],this.__cbOnceTextChange[a]=null,u=this.__cbOnceOwnerUnbindTextChange[a],(this.__cbOnceOwnerUnbindTextChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextChange[a]),c.push(this.__cbOnceTextChange[a]))}this.__cbOnceOwnerUnbindTextChange=o,this.__cbOnceTextChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event textChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(null);null==this.__cbOnTextChange&&(this.__cbOnTextChange=[]),this.__cbOnTextChange.push(t)},onceTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event textChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(null);null==this.__cbOnceTextChange&&(this.__cbOnceTextChange=[]),this.__cbOnceTextChange.push(t)},offTextChange:function(e){if(null!=e){var n;null!=this.__cbOnTextChange&&-1!=(n=this.__cbOnTextChange.indexOf(e))&&(this.__cbOnTextChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTextChange[n])&&s(),this.__cbOnOwnerUnbindTextChange.splice(n,1)),null!=this.__cbOnceTextChange&&-1!=(n=this.__cbOnceTextChange.indexOf(e))&&(this.__cbOnceTextChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTextChange[n])&&s(),this.__cbOnceOwnerUnbindTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextChange){for(var t=0,i=this.__cbOnOwnerUnbindTextChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTextChange[l])&&s()}this.__cbOnOwnerUnbindTextChange=null}if(null!=this.__cbOnceOwnerUnbindTextChange){for(t=0,i=this.__cbOnceOwnerUnbindTextChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTextChange[l])&&s()}this.__cbOnceOwnerUnbindTextChange=null}this.__cbOnTextChange=null,this.__cbOnceTextChange=null}},listensTextChange:function(){return null!=this.__cbOnTextChange&&0<this.__cbOnTextChange.length||null!=this.__cbOnceTextChange&&0<this.__cbOnceTextChange.length},load:function(){var n=this;if(this.set_status(Cn.LOADING),null==this.path)ke.app.logger.warning("Cannot load text asset if path is undefined.",{fileName:"../../../../ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:62,className:"ceramic.TextAsset",methodName:"load"}),this.set_status(Cn.BROKEN),this.emitComplete(!1);else{var e={};if(null!=this.owner&&(e.immediate=this.owner.immediate,e.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=L.fields(this.options);t<i.length;){var l=i[t];++t,e[l]=L.field(this.options,l)}var s=this.path,r=tn.realAssetPath(s,this.runtimeAssets),h=tn.getReloadCount(r);0<h&&(r+="?hot="+h,s+="?hot="+h),ke.app.logger.info("Load text "+s,{fileName:"../../../../ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:88,className:"ceramic.TextAsset",methodName:"load"}),ke.app.backend.texts.load(r,e,function(e){null!=e?(n.set_text(e),n.set_status(Cn.READY),n.emitComplete(!0)):(n.set_status(Cn.BROKEN),ke.app.logger.error("Failed to load text at path: "+n.path,{fileName:"../../../../ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:98,className:"ceramic.TextAsset",methodName:"load"}),n.emitComplete(!1))})}},assetFilesDidChange:function(e,n){var t=-1,n=(Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]),-1);(n=Object.prototype.hasOwnProperty.call(e.h,this.path)?e.h[this.path]:n)!=t&&(ke.app.logger.info("Reload text (file has changed)",{fileName:"../../../../ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:125,className:"ceramic.TextAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,Ga.prototype.destroy.call(this),this.set_text(null))},unbindEvents:function(){Ga.prototype.unbindEvents.call(this),this.offTextChange()},__class__:oi,__properties__:$extend(Ga.prototype.__properties__,{set_text:"set_text",get_text:"get_text"})}),function(){this.delegate=null,this.selectionEnd=-1,this.selectionStart=-1,this.text="",this.multiline=!1,this.allowMovingCursor=!1,this.invertedSelection=!1,this.rmetaPressed=!1,this.lmetaPressed=!1,this.rctrlPressed=!1,this.lctrlPressed=!1,this.rshiftPressed=!1,this.lshiftPressed=!1,this.explicitPosLine=0,this.explicitPosInLine=0,this.inputActive=!1}),ui=((E["ceramic.TextInput"]=ci).__name__="ceramic.TextInput",ci.__interfaces__=[i],ci.prototype={__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUpdate)for(var s=0,r=this.__cbOnUpdate.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnUpdate[h],++l):--n}if(null!=this.__cbOnceUpdate){for(var a=null,o=null,s=0,r=this.__cbOnceUpdate.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceUpdate[h],this.__cbOnceUpdate[h]=null,c=this.__cbOnceOwnerUnbindUpdate[h],(this.__cbOnceOwnerUnbindUpdate[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUpdate[h]),o.push(this.__cbOnceUpdate[h]))}this.__cbOnceOwnerUnbindUpdate=a,this.__cbOnceUpdate=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnEnter:null,__cbOnceEnter:null,__cbOnOwnerUnbindEnter:null,__cbOnceOwnerUnbindEnter:null,emitEnter:function(){var e=0;if(null!=this.__cbOnEnter&&(e+=this.__cbOnEnter.length),null!=this.__cbOnceEnter&&(e+=this.__cbOnceEnter.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnEnter)for(var l=0,s=this.__cbOnEnter.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnEnter[r],++i):--e}if(null!=this.__cbOnceEnter){for(var h=null,a=null,l=0,s=this.__cbOnceEnter.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceEnter[r],this.__cbOnceEnter[r]=null,o=this.__cbOnceOwnerUnbindEnter[r],(this.__cbOnceOwnerUnbindEnter[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindEnter[r]),a.push(this.__cbOnceEnter[r]))}this.__cbOnceOwnerUnbindEnter=h,this.__cbOnceEnter=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onEnter:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event enter because owner is destroyed!");var l=function(e){null!=t&&(i.offEnter(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEnter&&(this.__cbOnOwnerUnbindEnter=[]),this.__cbOnOwnerUnbindEnter.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEnter&&(this.__cbOnOwnerUnbindEnter=[]),this.__cbOnOwnerUnbindEnter.push(null);null==this.__cbOnEnter&&(this.__cbOnEnter=[]),this.__cbOnEnter.push(t)},onceEnter:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event enter because owner is destroyed!");var l=function(e){null!=t&&(i.offEnter(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEnter&&(this.__cbOnceOwnerUnbindEnter=[]),this.__cbOnceOwnerUnbindEnter.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEnter&&(this.__cbOnceOwnerUnbindEnter=[]),this.__cbOnceOwnerUnbindEnter.push(null);null==this.__cbOnceEnter&&(this.__cbOnceEnter=[]),this.__cbOnceEnter.push(t)},offEnter:function(e){if(null!=e){var n;null!=this.__cbOnEnter&&-1!=(n=this.__cbOnEnter.indexOf(e))&&(this.__cbOnEnter.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEnter[n])&&s(),this.__cbOnOwnerUnbindEnter.splice(n,1)),null!=this.__cbOnceEnter&&-1!=(n=this.__cbOnceEnter.indexOf(e))&&(this.__cbOnceEnter.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEnter[n])&&s(),this.__cbOnceOwnerUnbindEnter.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnter){for(var t=0,i=this.__cbOnOwnerUnbindEnter.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEnter[l])&&s()}this.__cbOnOwnerUnbindEnter=null}if(null!=this.__cbOnceOwnerUnbindEnter){for(t=0,i=this.__cbOnceOwnerUnbindEnter.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEnter[l])&&s()}this.__cbOnceOwnerUnbindEnter=null}this.__cbOnEnter=null,this.__cbOnceEnter=null}},listensEnter:function(){return null!=this.__cbOnEnter&&0<this.__cbOnEnter.length||null!=this.__cbOnceEnter&&0<this.__cbOnceEnter.length},__cbOnEscape:null,__cbOnceEscape:null,__cbOnOwnerUnbindEscape:null,__cbOnceOwnerUnbindEscape:null,emitEscape:function(){var e=0;if(null!=this.__cbOnEscape&&(e+=this.__cbOnEscape.length),null!=this.__cbOnceEscape&&(e+=this.__cbOnceEscape.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnEscape)for(var l=0,s=this.__cbOnEscape.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnEscape[r],++i):--e}if(null!=this.__cbOnceEscape){for(var h=null,a=null,l=0,s=this.__cbOnceEscape.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceEscape[r],this.__cbOnceEscape[r]=null,o=this.__cbOnceOwnerUnbindEscape[r],(this.__cbOnceOwnerUnbindEscape[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindEscape[r]),a.push(this.__cbOnceEscape[r]))}this.__cbOnceOwnerUnbindEscape=h,this.__cbOnceEscape=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onEscape:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event escape because owner is destroyed!");var l=function(e){null!=t&&(i.offEscape(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEscape&&(this.__cbOnOwnerUnbindEscape=[]),this.__cbOnOwnerUnbindEscape.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEscape&&(this.__cbOnOwnerUnbindEscape=[]),this.__cbOnOwnerUnbindEscape.push(null);null==this.__cbOnEscape&&(this.__cbOnEscape=[]),this.__cbOnEscape.push(t)},onceEscape:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event escape because owner is destroyed!");var l=function(e){null!=t&&(i.offEscape(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEscape&&(this.__cbOnceOwnerUnbindEscape=[]),this.__cbOnceOwnerUnbindEscape.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEscape&&(this.__cbOnceOwnerUnbindEscape=[]),this.__cbOnceOwnerUnbindEscape.push(null);null==this.__cbOnceEscape&&(this.__cbOnceEscape=[]),this.__cbOnceEscape.push(t)},offEscape:function(e){if(null!=e){var n;null!=this.__cbOnEscape&&-1!=(n=this.__cbOnEscape.indexOf(e))&&(this.__cbOnEscape.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEscape[n])&&s(),this.__cbOnOwnerUnbindEscape.splice(n,1)),null!=this.__cbOnceEscape&&-1!=(n=this.__cbOnceEscape.indexOf(e))&&(this.__cbOnceEscape.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEscape[n])&&s(),this.__cbOnceOwnerUnbindEscape.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEscape){for(var t=0,i=this.__cbOnOwnerUnbindEscape.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEscape[l])&&s()}this.__cbOnOwnerUnbindEscape=null}if(null!=this.__cbOnceOwnerUnbindEscape){for(t=0,i=this.__cbOnceOwnerUnbindEscape.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEscape[l])&&s()}this.__cbOnceOwnerUnbindEscape=null}this.__cbOnEscape=null,this.__cbOnceEscape=null}},listensEscape:function(){return null!=this.__cbOnEscape&&0<this.__cbOnEscape.length||null!=this.__cbOnceEscape&&0<this.__cbOnceEscape.length},__cbOnSelection:null,__cbOnceSelection:null,__cbOnOwnerUnbindSelection:null,__cbOnceOwnerUnbindSelection:null,emitSelection:function(e,n){var t=0;if(null!=this.__cbOnSelection&&(t+=this.__cbOnSelection.length),null!=this.__cbOnceSelection&&(t+=this.__cbOnceSelection.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelection)for(var r=0,h=this.__cbOnSelection.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSelection[a],++s):--t}if(null!=this.__cbOnceSelection){for(var o=null,c=null,r=0,h=this.__cbOnceSelection.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSelection[a],this.__cbOnceSelection[a]=null,u=this.__cbOnceOwnerUnbindSelection[a],(this.__cbOnceOwnerUnbindSelection[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelection[a]),c.push(this.__cbOnceSelection[a]))}this.__cbOnceOwnerUnbindSelection=o,this.__cbOnceSelection=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSelection:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selection because owner is destroyed!");var l=function(e){null!=t&&(i.offSelection(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(null);null==this.__cbOnSelection&&(this.__cbOnSelection=[]),this.__cbOnSelection.push(t)},onceSelection:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selection because owner is destroyed!");var l=function(e){null!=t&&(i.offSelection(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(null);null==this.__cbOnceSelection&&(this.__cbOnceSelection=[]),this.__cbOnceSelection.push(t)},offSelection:function(e){if(null!=e){var n;null!=this.__cbOnSelection&&-1!=(n=this.__cbOnSelection.indexOf(e))&&(this.__cbOnSelection.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelection[n])&&s(),this.__cbOnOwnerUnbindSelection.splice(n,1)),null!=this.__cbOnceSelection&&-1!=(n=this.__cbOnceSelection.indexOf(e))&&(this.__cbOnceSelection.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelection[n])&&s(),this.__cbOnceOwnerUnbindSelection.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelection){for(var t=0,i=this.__cbOnOwnerUnbindSelection.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelection[l])&&s()}this.__cbOnOwnerUnbindSelection=null}if(null!=this.__cbOnceOwnerUnbindSelection){for(t=0,i=this.__cbOnceOwnerUnbindSelection.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelection[l])&&s()}this.__cbOnceOwnerUnbindSelection=null}this.__cbOnSelection=null,this.__cbOnceSelection=null}},listensSelection:function(){return null!=this.__cbOnSelection&&0<this.__cbOnSelection.length||null!=this.__cbOnceSelection&&0<this.__cbOnceSelection.length},__cbOnStop:null,__cbOnceStop:null,__cbOnOwnerUnbindStop:null,__cbOnceOwnerUnbindStop:null,emitStop:function(){var e=0;if(null!=this.__cbOnStop&&(e+=this.__cbOnStop.length),null!=this.__cbOnceStop&&(e+=this.__cbOnceStop.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnStop)for(var l=0,s=this.__cbOnStop.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnStop[r],++i):--e}if(null!=this.__cbOnceStop){for(var h=null,a=null,l=0,s=this.__cbOnceStop.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceStop[r],this.__cbOnceStop[r]=null,o=this.__cbOnceOwnerUnbindStop[r],(this.__cbOnceOwnerUnbindStop[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindStop[r]),a.push(this.__cbOnceStop[r]))}this.__cbOnceOwnerUnbindStop=h,this.__cbOnceStop=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onStop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event stop because owner is destroyed!");var l=function(e){null!=t&&(i.offStop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(null);null==this.__cbOnStop&&(this.__cbOnStop=[]),this.__cbOnStop.push(t)},onceStop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event stop because owner is destroyed!");var l=function(e){null!=t&&(i.offStop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(null);null==this.__cbOnceStop&&(this.__cbOnceStop=[]),this.__cbOnceStop.push(t)},offStop:function(e){if(null!=e){var n;null!=this.__cbOnStop&&-1!=(n=this.__cbOnStop.indexOf(e))&&(this.__cbOnStop.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStop[n])&&s(),this.__cbOnOwnerUnbindStop.splice(n,1)),null!=this.__cbOnceStop&&-1!=(n=this.__cbOnceStop.indexOf(e))&&(this.__cbOnceStop.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStop[n])&&s(),this.__cbOnceOwnerUnbindStop.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStop){for(var t=0,i=this.__cbOnOwnerUnbindStop.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStop[l])&&s()}this.__cbOnOwnerUnbindStop=null}if(null!=this.__cbOnceOwnerUnbindStop){for(t=0,i=this.__cbOnceOwnerUnbindStop.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStop[l])&&s()}this.__cbOnceOwnerUnbindStop=null}this.__cbOnStop=null,this.__cbOnceStop=null}},listensStop:function(){return null!=this.__cbOnStop&&0<this.__cbOnStop.length||null!=this.__cbOnceStop&&0<this.__cbOnceStop.length},inputActive:null,explicitPosInLine:null,explicitPosLine:null,lshiftPressed:null,rshiftPressed:null,lctrlPressed:null,rctrlPressed:null,lmetaPressed:null,rmetaPressed:null,invertedSelection:null,allowMovingCursor:null,multiline:null,text:null,selectionStart:null,selectionEnd:null,delegate:null,start:function(e,n,t,i,l,s,r,h,a,o){null==a&&(a=!1),null==h&&(h=-1),null==r&&(r=-1),null==s&&(s=!1),this.inputActive&&this.stop(),this.inputActive=!0,this.set_text(e),this.multiline=s,this.allowMovingCursor=a,this.delegate=o,this.explicitPosInLine=0,this.explicitPosLine=0,this.invertedSelection=!1,h<(r=r<0?e.length:r)&&(h=r),this.selectionStart=r,this.selectionEnd=h;var s=ke.app.screen.matrix,a=(n*s.a+t*s.c+s.tx)/Z.app.screenDensity,o=(n*s.b+t*s.d+s.ty)/Z.app.screenDensity,c=((n+i)*s.a+(t+l)*s.c+s.tx)/Z.app.screenDensity-a,n=((n+i)*s.b+(t+l)*s.d+s.ty)/Z.app.screenDensity-o;ke.app.backend.textInput.start(e,a,o,c,n),this.emitUpdate(e),this.emitSelection(r,h)},stop:function(){this.inputActive&&(this.inputActive=!1,this.selectionStart=-1,this.selectionEnd=-1,this.invertedSelection=!1,this.delegate=null,ke.app.backend.textInput.stop(),this.emitStop())},updateSelection:function(e,n,t){this.selectionStart==e&&this.selectionEnd==n||(this.selectionStart=e,this.selectionEnd=n,null!=t&&(this.invertedSelection=t),this.emitSelection(e,n))},appendText:function(e){var n;this.lctrlPressed||this.rctrlPressed||(n="",0<this.selectionStart&&(n+=this.text.substring(0,this.selectionStart)),n=(n+=e)+this.text.substring(this.selectionEnd),this.selectionStart+=e.length,this.selectionEnd=this.selectionStart,this.invertedSelection=!1,this.set_text(n),this.emitUpdate(this.text),this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart))},space:function(){this.appendText(" ")},backspace:function(){var e=this.selectionEnd>this.selectionStart,n="";1<this.selectionStart&&(n+=this.text.substring(0,e?this.selectionStart:this.selectionStart-1)),n+=this.text.substring(this.selectionEnd),0<this.selectionStart&&!e&&this.selectionStart--,this.selectionEnd=this.selectionStart,this.set_text(n),this.emitUpdate(this.text),this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)},moveLeft:function(){this.allowMovingCursor&&(this.lshiftPressed||this.rshiftPressed?this.invertedSelection?(0<this.selectionStart&&(this.selectionStart--,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):this.selectionEnd>this.selectionStart?(this.selectionEnd--,this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd)):(0<this.selectionStart&&(this.invertedSelection=!0,this.selectionStart--,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):(this.invertedSelection=!1,this.selectionEnd>this.selectionStart?(this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)):0<this.selectionStart&&(this.selectionStart--,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)))},moveRight:function(){var e;this.allowMovingCursor&&(this.lshiftPressed||this.rshiftPressed?(e=this.text.length,this.selectionStart==this.selectionEnd?(this.invertedSelection=!1,this.selectionEnd<e&&(this.selectionEnd++,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd)):this.invertedSelection?(this.selectionStart++,this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):(this.selectionEnd<e&&(this.selectionEnd++,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd))):(this.invertedSelection=!1,this.selectionEnd>this.selectionStart?(this.selectionStart=this.selectionEnd,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionStart<this.text.length&&(this.selectionStart++,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)))},moveUp:function(){var e,n,t,i;this.allowMovingCursor&&(this.lshiftPressed||this.rshiftPressed?(e=this.lineForPos(this.selectionStart),n=this.lineForPos(this.selectionEnd),!this.invertedSelection&&e<n?(i=this.explicitPosInLine,t=n,null!=this.delegate&&(i=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,t-1)),n=this.globalPosForLine(t-1,i),this.selectionEnd=0|Math.max(this.selectionStart,n),this.emitSelection(this.selectionStart,this.selectionEnd)):0<this.selectionStart&&(this.invertedSelection=!0,0<e?(i=this.explicitPosInLine,t=e,null!=this.delegate&&(i=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,t-1)),this.selectionStart=this.globalPosForLine(t-1,i)):this.selectionStart=0,this.emitSelection(this.selectionStart,this.selectionEnd))):(this.invertedSelection=!1,0<this.selectionStart&&0<(t=this.lineForPos(this.selectionStart))?(i=this.explicitPosInLine,null!=this.delegate&&(i=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,t-1)),this.selectionStart=this.globalPosForLine(t-1,i),this.selectionEnd=this.selectionStart):(this.selectionStart=0,this.selectionEnd=0),this.emitSelection(this.selectionStart,this.selectionEnd)))},moveDown:function(){var e,n,t,i,l,s,r;this.allowMovingCursor&&(e=this.text.length,this.lshiftPressed||this.rshiftPressed?(n=this.lineForPos(this.selectionStart),t=this.lineForPos(this.selectionEnd),this.invertedSelection?this.invertedSelection&&(n<t?(r=this.explicitPosInLine,l=n,null!=this.delegate&&(r=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,l+1)),i=this.globalPosForLine(l+1,r),this.selectionStart=0|Math.min(this.selectionEnd,i),this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionEnd<e-1?(this.invertedSelection=!1,l=n,s=this.numLines(),r=this.explicitPosInLine,l<s-1?(null!=this.delegate&&(r=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,l+1)),this.selectionEnd=this.globalPosForLine(l+1,r)):this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionEnd<e&&(this.invertedSelection=!1,this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd))):this.selectionEnd<e-1?(r=this.explicitPosInLine,(l=t)<(s=this.numLines())-1?(null!=this.delegate&&(r=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,l+1)),this.selectionEnd=this.globalPosForLine(l+1,r)):this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionEnd<e&&(this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd))):(this.invertedSelection=!1,this.selectionEnd<e-1&&(l=this.lineForPos(this.selectionEnd))<(s=this.numLines())-1?(r=this.explicitPosInLine,null!=this.delegate&&(r=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,l+1)),this.selectionStart=this.globalPosForLine(l+1,r)):this.selectionStart=e,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)))},enter:function(){this.emitEnter(),this.inputActive&&this.multiline&&this.appendText("\n")},kpEnter:function(){this.enter()},escape:function(){this.emitEscape(),this.stop()},lshiftDown:function(){this.lshiftPressed=!0},lshiftUp:function(){this.lshiftPressed=!1},rshiftDown:function(){this.rshiftPressed=!0},rshiftUp:function(){this.rshiftPressed=!1},lctrlDown:function(){this.lctrlPressed=!0},lctrlUp:function(){this.lctrlPressed=!1},rctrlDown:function(){this.rctrlPressed=!0},rctrlUp:function(){this.rctrlPressed=!1},lmetaDown:function(){this.lmetaPressed=!0},lmetaUp:function(){this.lmetaPressed=!1},rmetaDown:function(){this.rmetaPressed=!0},rmetaUp:function(){this.rmetaPressed=!1},posInCurrentLine:function(e){if(null!=this.delegate)return this.delegate.textInputPosInLineForIndex(e);for(var n=this.text,t=0;0<e;){if("\n"==n.charAt(e)&&0<t){--t;break}--e,++t}return t},lineForPos:function(e){if(null!=this.delegate)return this.delegate.textInputLineForIndex(e);for(var n=this.text,t=0,i=0;i<e;)"\n"==n.charAt(i)&&++t,++i;return t},numLines:function(){return null!=this.delegate?this.delegate.textInputNumberOfLines():this.text.split("\n").length},globalPosForLine:function(e,n){if(null!=this.delegate)return this.delegate.textInputIndexForPosInLine(e,n);for(var t=this.text,i=0,l=t.length,s=0;i<l;){var r=t.charAt(i);if(s==e){if(!(0<n))break;if("\n"==r)break;--n}else"\n"==r&&++s;++i}return i},set_text:function(e){var n,t,i;return this.text!=e&&(n=(this.text=e).length,t=this.selectionStart,(i=n<(i=this.selectionEnd)?n:i)<t&&(t=i),this.updateSelection(t,i)),e},unbindEvents:function(){this.offUpdate(),this.offEnter(),this.offEscape(),this.offSelection(),this.offStop()},__class__:ci,__properties__:{set_text:"set_text"}},(E["ceramic.TextView"]=O1).__name__="ceramic.TextView",O1.__super__=g0,O1.prototype=$extend(g0.prototype,{text:null,verticalAlign:null,set_verticalAlign:function(e){return this.verticalAlign!=e&&(this.verticalAlign=e,this.layoutDirty=!0),e},get_font:function(){return this.text.font},set_font:function(e){return this.text.font!=e&&(this.text.set_font(e),this.layoutDirty=!0),e},get_preRenderedSize:function(){return this.text.preRenderedSize},set_preRenderedSize:function(e){return this.text.preRenderedSize!=e&&(this.text.set_preRenderedSize(e),this.layoutDirty=!0),e},get_textColor:function(){return this.text.color},set_textColor:function(e){return this.text.color!=e&&this.text.set_color(e),e},get_textAlpha:function(){return this.text.alpha},set_textAlpha:function(e){return this.text.alpha!=e&&this.text.set_alpha(e),e},get_content:function(){return this.text.content},set_content:function(e){return this.text.content!=e&&(this.text.set_content(e),this.layoutDirty=!0),e},get_pointSize:function(){return this.text.pointSize},set_pointSize:function(e){return this.text.pointSize!=e&&(this.text.set_pointSize(e),this.layoutDirty=!0),e},minHeight:null,set_minHeight:function(e){return this.minHeight!=e&&(this.minHeight=e,this.layoutDirty=!0),e},get_lineHeight:function(){return this.text.lineHeight},set_lineHeight:function(e){return this.text.lineHeight!=e&&(this.text.set_lineHeight(e),this.layoutDirty=!0),e},get_letterSpacing:function(){return this.text.letterSpacing},set_letterSpacing:function(e){return this.text.letterSpacing!=e&&(this.text.set_letterSpacing(e),this.layoutDirty=!0),e},get_align:function(){return this.text.align},set_align:function(e){return this.text.align!=e&&(this.text.set_align(e),this.layoutDirty=!0),e},centerIfOneLine:null,set_centerIfOneLine:function(e){return this.centerIfOneLine!=e&&(this.centerIfOneLine=e,this.layoutDirty=!0),e},get_maxLineDiff:function(){return this.text.maxLineDiff},set_maxLineDiff:function(e){return this.text.maxLineDiff!=e&&(this.text.set_maxLineDiff(e),this.layoutDirty=!0),e},noFitWidth:null,set_noFitWidth:function(e){return this.noFitWidth!=e&&(this.noFitWidth=e,this.layoutDirty=!0),e},computeSize:function(e,n,t,i){g0.prototype.computeSize.call(this,e,n,t,i);var l=this.computedSize.computedWidth,s=this.computedSize.computedHeight,r=!1,h=!1,a=this.viewWidth,o=!(-60001.1<a&&a<-60000.9);o||(r=!0);var c;(h=-60001.1<(a=this.viewHeight)&&a<-60000.9?!0:h)||r?(!this.noFitWidth&&0<l?o?this.text.set_fitWidth(l-this.paddingLeft-this.paddingRight):this.text.set_fitWidth(l):this.text.set_fitWidth(-1),a=this.text.get_width(),c=this.text.get_height(),h&&(s=c),r&&(l=a)):!this.noFitWidth&&o&&0<l?this.text.set_fitWidth(l-this.paddingLeft-this.paddingRight):this.text.set_fitWidth(-1),1!=(1&t)&&e<l&&(l=e),2!=(2&t)&&l<e&&(l=e),4!=(4&t)&&n<s&&(s=n);8!=(8&t)&&s<n&&(s=n),r&&(l+=this.paddingLeft+this.paddingRight),h&&(s+=this.paddingTop+this.paddingBottom),s<this.minHeight&&(s=this.minHeight),l=Math.round(l),s=Math.round(s),i?this.persistComputedSize(e,n,t,l,s).computedFitWidth=this.text.fitWidth:this.assignComputedSize(l,s)},layout:function(){var e=this.paddingLeft,n=this.get_width(),t=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingTop,n=this.get_height(),i=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingRight,n=this.get_width(),l=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,e=this.paddingBottom,n=this.get_height(),s=0==e?0:e<-39999.9&&-60000.1<e?.01*(e+5e4)*n:-60002.1<e&&e<-60001.9?n:e,r=(null!=this.computedSize&&this.computedSize.computedFitWidth!=kn.NO_SIZE?this.text.set_fitWidth(this.computedSize.computedFitWidth):this.text.set_fitWidth(-1),this.text.align);switch(this.verticalAlign._hx_index){case 0:case 1:case 4:switch(r._hx_index){case 0:(h=this.text).set_anchorX(0),h.set_anchorY(.5);var h=this.text,a=.5*this.get_height()+i-s;h.set_x(t),h.set_y(a);break;case 1:(h=this.text).set_anchorX(1),h.set_anchorY(.5);var h=this.text,o=this.get_width()-l,a=.5*this.get_height()+i-s;h.set_x(o),h.set_y(a);break;case 2:(h=this.text).set_anchorX(.5),h.set_anchorY(.5);var h=this.text,o=.5*this.get_width()+t-l,a=.5*this.get_height()+i-s;h.set_x(o),h.set_y(a)}break;case 2:switch(r._hx_index){case 0:(h=this.text).set_anchorX(0),h.set_anchorY(0),(h=this.text).set_x(t),h.set_y(i);break;case 1:(h=this.text).set_anchorX(1),h.set_anchorY(0),(h=this.text).set_x(this.get_width()-l),h.set_y(i);break;case 2:(h=this.text).set_anchorX(.5),h.set_anchorY(0),(h=this.text).set_x(.5*this.get_width()+t-l),h.set_y(i)}break;case 3:switch(r._hx_index){case 0:h=((h=this.text).set_anchorX(0),h.set_anchorY(1),this.text),a=this.get_height()-s;h.set_x(t),h.set_y(a);break;case 1:h=((h=this.text).set_anchorX(1),h.set_anchorY(1),this.text),o=this.get_width()-l,a=this.get_height()-s;h.set_x(o),h.set_y(a);break;case 2:h=((h=this.text).set_anchorX(.5),h.set_anchorY(1),this.text),o=.5*this.get_width()+t-l,a=this.get_height()-s;h.set_x(o),h.set_y(a)}}this.centerIfOneLine&&1==this.text.get_numLines()&&(this.text.set_anchorX(.5),this.text.set_x(.5*this.get_width()+t-l))},__class__:O1,__properties__:$extend(g0.prototype.__properties__,{set_noFitWidth:"set_noFitWidth",set_maxLineDiff:"set_maxLineDiff",get_maxLineDiff:"get_maxLineDiff",set_centerIfOneLine:"set_centerIfOneLine",set_align:"set_align",get_align:"get_align",set_letterSpacing:"set_letterSpacing",get_letterSpacing:"get_letterSpacing",set_lineHeight:"set_lineHeight",get_lineHeight:"get_lineHeight",set_minHeight:"set_minHeight",set_pointSize:"set_pointSize",get_pointSize:"get_pointSize",set_content:"set_content",get_content:"get_content",set_textAlpha:"set_textAlpha",get_textAlpha:"get_textAlpha",set_textColor:"set_textColor",get_textColor:"get_textColor",set_preRenderedSize:"set_preRenderedSize",get_preRenderedSize:"get_preRenderedSize",set_font:"set_font",get_font:"get_font",set_verticalAlign:"set_verticalAlign"})}),(E["ceramic.TextureAtlas"]=P1).__name__="ceramic.TextureAtlas",P1.__super__=j,P1.prototype=$extend(j.prototype,{pages:null,regions:null,asset:null,region:function(e){for(var n=0,t=this.regions.length;n<t;){var i=n++,i=this.regions[i];if(i.name==e)return i}return null},computeFrames:function(){for(var e=0,n=this.regions.length;e<n;){var t=e++;this.regions[t].computeFrame()}},destroy:function(){if(!(this._lifecycleState<=-2)){for(this._lifecycleState=-2;0<this.pages.length;){var e=this.pages.pop().get_texture();null!=e&&e.destroy()}null!=this.asset&&this.asset.destroy(),this._lifecycleState=-1,j.prototype.destroy.call(this)}},__class__:P1}),(E["ceramic.TextureAtlasPacker"]=Q1).__name__="ceramic.TextureAtlasPacker",Q1.__super__=j,Q1.prototype=$extend(j.prototype,{__cbOnFinishPack:null,__cbOnceFinishPack:null,__cbOnOwnerUnbindFinishPack:null,__cbOnceOwnerUnbindFinishPack:null,emitFinishPack:function(){var e=0;if(null!=this.__cbOnFinishPack&&(e+=this.__cbOnFinishPack.length),null!=this.__cbOnceFinishPack&&(e+=this.__cbOnceFinishPack.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishPack)for(var l=0,s=this.__cbOnFinishPack.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnFinishPack[r],++i):--e}if(null!=this.__cbOnceFinishPack){for(var h=null,a=null,l=0,s=this.__cbOnceFinishPack.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceFinishPack[r],this.__cbOnceFinishPack[r]=null,o=this.__cbOnceOwnerUnbindFinishPack[r],(this.__cbOnceOwnerUnbindFinishPack[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindFinishPack[r]),a.push(this.__cbOnceFinishPack[r]))}this.__cbOnceOwnerUnbindFinishPack=h,this.__cbOnceFinishPack=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onFinishPack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event finishPack because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishPack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFinishPack&&(this.__cbOnOwnerUnbindFinishPack=[]),this.__cbOnOwnerUnbindFinishPack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFinishPack&&(this.__cbOnOwnerUnbindFinishPack=[]),this.__cbOnOwnerUnbindFinishPack.push(null);null==this.__cbOnFinishPack&&(this.__cbOnFinishPack=[]),this.__cbOnFinishPack.push(t)},onceFinishPack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event finishPack because owner is destroyed!");var l=function(e){null!=t&&(i.offFinishPack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFinishPack&&(this.__cbOnceOwnerUnbindFinishPack=[]),this.__cbOnceOwnerUnbindFinishPack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFinishPack&&(this.__cbOnceOwnerUnbindFinishPack=[]),this.__cbOnceOwnerUnbindFinishPack.push(null);null==this.__cbOnceFinishPack&&(this.__cbOnceFinishPack=[]),this.__cbOnceFinishPack.push(t)},offFinishPack:function(e){if(null!=e){var n;null!=this.__cbOnFinishPack&&-1!=(n=this.__cbOnFinishPack.indexOf(e))&&(this.__cbOnFinishPack.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFinishPack[n])&&s(),this.__cbOnOwnerUnbindFinishPack.splice(n,1)),null!=this.__cbOnceFinishPack&&-1!=(n=this.__cbOnceFinishPack.indexOf(e))&&(this.__cbOnceFinishPack.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFinishPack[n])&&s(),this.__cbOnceOwnerUnbindFinishPack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishPack){for(var t=0,i=this.__cbOnOwnerUnbindFinishPack.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFinishPack[l])&&s()}this.__cbOnOwnerUnbindFinishPack=null}if(null!=this.__cbOnceOwnerUnbindFinishPack){for(t=0,i=this.__cbOnceOwnerUnbindFinishPack.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFinishPack[l])&&s()}this.__cbOnceOwnerUnbindFinishPack=null}this.__cbOnFinishPack=null,this.__cbOnceFinishPack=null}},listensFinishPack:function(){return null!=this.__cbOnFinishPack&&0<this.__cbOnFinishPack.length||null!=this.__cbOnceFinishPack&&0<this.__cbOnceFinishPack.length},atlas:null,spacing:null,filter:null,pendingRegions:null,pages:null,hasPendingRegions:function(){return null!=this.pendingRegions&&0<this.pendingRegions.length},region:function(e){if(null!=this.pendingRegions)for(var n=0,t=this.pendingRegions.length;n<t;){var i=n++;if((a=this.pendingRegions[i]).name==e)return a}if(null!=this.pages)for(n=0,t=this.pages.length;n<t;)for(var l=n++,s=this.pages[l],r=0,h=s.regions.length;r<h;){var a,i=r++;if((a=s.regions[i]).name==e)return a}return null},removeRegionsWithMatcher:function(e,n){if(null==e&&(e=!0),null!=this.pendingRegions){for(var t=null,i=0,l=this.pendingRegions.length;i<l;){var s=i++;n((r=this.pendingRegions[s]).name)&&(t=null==t?[]:t).push(r)}if(null!=t)for(i=0,l=t.length;i<l;){var r=t[s=i++];he.remove(this.pendingRegions,r)}}if(null!=this.pages){for(var h=null,i=0,l=this.pages.length;i<l;){for(var a=i++,t=null,o=this.pages[a],c=0,u=o.regions.length;c<u;){s=c++;n((r=o.regions[s]).name)&&(t=null==t?[]:t).push(r)}if(null!=t){(h=null==h?[]:h).push(o);for(var _=0,d=t.length;_<d;){var b=t[_++];he.remove(o.regions,b),o.shouldResetTexture=!0}null!=this.pendingRegions&&(this.pendingRegions=[]);for(var g=0,O=o.regions.length;g<O;){var f=g++,f=o.regions[f];f.rect=null,f.rendered=!1,this.pendingRegions.unshift(f)}}}if(null!=h)for(i=0,l=h.length;i<l;){a=i++;he.remove(this.pages,h[a])}}if(e&&null!=this.atlas){for(var p=null,i=0,l=this.atlas.regions.length;i<l;){var s=i++,C=this.atlas.regions[s];n(C.name)&&(p=null==p?[]:p).push(C)}if(null!=p)for(i=0,l=p.length;i<l;){s=i++;he.remove(this.atlas.regions,p[s])}}},removeRegionsWithPrefix:function(e,n){this.removeRegionsWithMatcher(e=null==e?!0:e,function(e){return z.startsWith(e,n)})},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,null!=this.atlas){if(null!=this.atlas.pages)for(var e=0,n=this.atlas.pages.length;e<n;){var t=e++,t=this.atlas.pages[t],i=t.get_texture();null!=i&&(t.set_texture(null),i.destroy())}this.atlas.destroy(),this.atlas=null}this.pendingRegions=null,this.pages=null,this._lifecycleState=-1,j.prototype.destroy.call(this)}},_addRegionFromPixels:function(e,n,t,i,l,s,r,h){-1==s&&(s=Math.round(n.length/l)),this.pendingRegions.push(new ui(e,t,i,l,s,r,h,n,null,null,null))},_addVariantRegion:function(e,n,t,i,l,s){var r=this.region(n);if(null==r)throw ct.thrown('Cannot add variant region: source region "'+n+'" not found!');this.pendingRegions.push(new ui(e,t,i,r.packedWidth,r.packedHeight,l,s,null,r,null,null))},pack:function(e){var n=this,t=Q1.MIN_TEXTURE_SIZE;0==this.pages.length&&this.pages.push(new _i(this.spacing,"page"+this.pages.length,t,t,[],new va(t+this.spacing,t+this.spacing,!1),!0));for(var t=(O=this.pages[this.pages.length-1]).width,i=[];0<this.pendingRegions.length;)if(null==(m=this.pendingRegions.shift()).pixels)i.push(m);else{if(m.packedWidth>Q1.MAX_TEXTURE_SIZE||m.packedHeight>Q1.MAX_TEXTURE_SIZE)throw ct.thrown("Cannot insert region "+m.name+" with used size: "+m.packedWidth+" x "+m.packedHeight);var l;if(null==(l=O.binPacker.insert(m.packedWidth+O.spacing,m.packedHeight+O.spacing,3)))if(t<Q1.MAX_TEXTURE_SIZE){t*=2,O.width=t,O.height=t,O.binPacker=new va(t+O.spacing,t+O.spacing,!1);for(var s=0,r=O.regions.length;s<r;){var h=s++;O.regions[h].rect=null,O.regions[h].rendered=!1}this.pendingRegions=[m].concat(O.regions.concat(this.pendingRegions)),O.regions=[],O.shouldResetTexture=!0}else this.pages.push(new _i(this.spacing,"page"+this.pages.length,t=Q1.MIN_TEXTURE_SIZE,t,[],new va(t+this.spacing,t+this.spacing,!1),!0)),this.pendingRegions.unshift(m);else m.rect=l,O.regions.push(m)}for(s=0,r=i.length;s<r;){for(var a=(m=i[w=s++]).sourceRegion;null!=a&&null!=a.sourceRegion;)a=a.sourceRegion;if(null==a)throw ct.thrown("Invalid variant region: "+m.name+" (source region not found).");for(var o=null,c=0,u=this.pages.length;c<u;){for(var _=c++,d=0,b=(O=this.pages[_]).regions.length;d<b;){var g=d++;if(O.regions[g].name==a.name){o=O;break}}if(null!=o)break}if(null==o)throw ct.thrown("Invalid variant region: "+m.name+" (source region not found in any page).");o.regions.push(m)}null==this.atlas&&(this.atlas=new P1,this.atlas.onDestroy(this,function(e){n.destroy()}));for(s=0,r=this.pages.length;s<r;){var O,_=s++;if(0<(O=this.pages[_]).regions.length){for(var f=null,p=(null==(f=this.atlas.pages.length>_?this.atlas.pages[_]:f)&&(f=new di(O.name,O.width,O.height,this.filter),this.atlas.pages.push(f)),null),C=(O.shouldResetTexture||null==f.get_texture()?(p=Nb.create(O.width,O.height,0),f.set_width(O.width),f.set_height(O.height)):p=f.get_texture().fetchPixels(),[]),v=[],c=0,u=O.regions.length;c<u;){var m,w=c++;if(!(m=O.regions[w]).rendered)if(null!=m.pixels)Nb.copy(m.pixels,m.packedWidth,p,O.width,0,0,m.packedWidth,m.packedHeight,0|m.rect.x,0|m.rect.y),m.rendered=!0,C.push(m);else{if(null==m.sourceRegion)throw ct.thrown("Cannot render region "+m.name+" because it doesn't have pixels");m.rendered=!0,v.push(m)}}if(0<C.length){null!=f.get_texture()?f.get_texture().backendItem.width==O.width&&f.get_texture().backendItem.height==O.height?f.get_texture().submitPixels(p):(f.get_texture().destroy(),f.set_texture(At.fromPixels(O.width,O.height,p,1))):f.set_texture(At.fromPixels(O.width,O.height,p,1)),f.get_texture().set_filter(this.filter);for(d=0,b=C.length;d<b;){var y=C[d++],U=this.atlas.region(y.name);(U=null==U?new Oi(y.name,this.atlas,_):U).texture=f.get_texture(),U.originalWidth=y.originalWidth,U.originalHeight=y.originalHeight,U.packedWidth=y.packedWidth,U.packedHeight=y.packedHeight,U.offsetX=y.offsetX,U.offsetY=y.offsetY,U.x=Math.round(y.rect.x+O.spacing),U.y=Math.round(y.rect.y+O.spacing),U.width=y.packedWidth,U.height=y.packedHeight,U.computeFrame()}}if(0<v.length)for(var D=0,T=v.length;D<T;){for(var x=v[D++],a=x.sourceRegion;null!=a&&null!=a.sourceRegion;)a=a.sourceRegion;var S=this.atlas.region(a.name);if(null==S)throw ct.thrown("Invalid variant region: "+x.name+" (source atlas region not found).");var A=this.atlas.region(x.name);(A=null==A?new Oi(x.name,this.atlas,_):A).texture=S.texture,A.originalWidth=x.originalWidth,A.originalHeight=x.originalHeight,A.packedWidth=a.packedWidth,A.packedHeight=a.packedHeight,A.offsetX=x.offsetX,A.offsetY=x.offsetY,A.x=Math.round(a.rect.x+O.spacing),A.y=Math.round(a.rect.y+O.spacing),A.width=x.packedWidth,A.height=x.packedHeight,A.computeFrame()}}}this.emitFinishPack(),e(this.atlas)},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offFinishPack()},__class__:Q1}),function(e,n,t,i,l,s,r,h,a,o,c){this.rendered=!1,this.rect=null,this.sourceRegion=null,this.pixels=null,this.offsetY=0,this.offsetX=0,this.originalHeight=0,this.originalWidth=0,this.name=e,null!=n&&(this.originalWidth=n),null!=t&&(this.originalHeight=t),this.packedWidth=i,this.packedHeight=l,null!=s&&(this.offsetX=s),null!=r&&(this.offsetY=r),null!=h&&(this.pixels=h),null!=a&&(this.sourceRegion=a),null!=o&&(this.rect=o),null!=c&&(this.rendered=c)}),_i=((E["ceramic._TextureAtlasPacker.TextureAtlasPackerRegion"]=ui).__name__="ceramic._TextureAtlasPacker.TextureAtlasPackerRegion",ui.prototype={name:null,originalWidth:null,originalHeight:null,packedWidth:null,packedHeight:null,offsetX:null,offsetY:null,pixels:null,sourceRegion:null,rect:null,rendered:null,__class__:ui},function(e,n,t,i,l,s,r){this.spacing=e,this.name=n,this.width=t,this.height=i,this.regions=l,this.binPacker=s,this.shouldResetTexture=r}),di=((E["ceramic._TextureAtlasPacker.TextureAtlasPackerPage"]=_i).__name__="ceramic._TextureAtlasPacker.TextureAtlasPackerPage",_i.prototype={spacing:null,name:null,width:null,height:null,regions:null,binPacker:null,shouldResetTexture:null,__class__:_i},function(e,n,t,i,l){null==i&&(i=fi.LINEAR),null==t&&(t=0),null==n&&(n=0),this.unobservedTexture=null,this.textureAutoruns=null,this.unobservedFilter=fi.LINEAR,this.filterAutoruns=null,this.unobservedHeight=0,this.heightAutoruns=null,this.unobservedWidth=0,this.widthAutoruns=null,this.nameAutoruns=null,this.observedDirty=!1,this.set_name(e),this.set_width(n),this.set_height(t),this.set_filter(i),this.set_texture(l)}),bi=((E["ceramic.TextureAtlasPage"]=di).__name__="ceramic.TextureAtlasPage",di.__interfaces__=[u],di.prototype={__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,nameAutoruns:null,get_name:function(){var e,n,t=this.unobservedName;return null!=w.current&&(e=w.current,null!=(n=this.nameAutoruns)||(n=w.getAutorunArray(),null!=(this.nameAutoruns=n)))&&e.bindToAutorunArray(n),t},set_name:function(e){var n=this.unobservedName;return n!=(this.unobservedName=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitNameChange(e,n),null!=(n=this.nameAutoruns))&&(this.nameAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateName:function(){var e=this.unobservedName,e=(this.emitNameChange(e,e),this.nameAutoruns);null!=e&&(this.nameAutoruns=null,w.invalidateAutorunArray(e))},unobservedName:null,__cbOnNameChange:null,__cbOnceNameChange:null,__cbOnOwnerUnbindNameChange:null,__cbOnceOwnerUnbindNameChange:null,emitNameChange:function(e,n){var t=0;if(null!=this.__cbOnNameChange&&(t+=this.__cbOnNameChange.length),null!=this.__cbOnceNameChange&&(t+=this.__cbOnceNameChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnNameChange)for(var r=0,h=this.__cbOnNameChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnNameChange[a],++s):--t}if(null!=this.__cbOnceNameChange){for(var o=null,c=null,r=0,h=this.__cbOnceNameChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceNameChange[a],this.__cbOnceNameChange[a]=null,u=this.__cbOnceOwnerUnbindNameChange[a],(this.__cbOnceOwnerUnbindNameChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindNameChange[a]),c.push(this.__cbOnceNameChange[a]))}this.__cbOnceOwnerUnbindNameChange=o,this.__cbOnceNameChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onNameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event nameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push(null);null==this.__cbOnNameChange&&(this.__cbOnNameChange=[]),this.__cbOnNameChange.push(t)},onceNameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event nameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push(null);null==this.__cbOnceNameChange&&(this.__cbOnceNameChange=[]),this.__cbOnceNameChange.push(t)},offNameChange:function(e){if(null!=e){var n;null!=this.__cbOnNameChange&&-1!=(n=this.__cbOnNameChange.indexOf(e))&&(this.__cbOnNameChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindNameChange[n])&&s(),this.__cbOnOwnerUnbindNameChange.splice(n,1)),null!=this.__cbOnceNameChange&&-1!=(n=this.__cbOnceNameChange.indexOf(e))&&(this.__cbOnceNameChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindNameChange[n])&&s(),this.__cbOnceOwnerUnbindNameChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindNameChange){for(var t=0,i=this.__cbOnOwnerUnbindNameChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindNameChange[l])&&s()}this.__cbOnOwnerUnbindNameChange=null}if(null!=this.__cbOnceOwnerUnbindNameChange){for(t=0,i=this.__cbOnceOwnerUnbindNameChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindNameChange[l])&&s()}this.__cbOnceOwnerUnbindNameChange=null}this.__cbOnNameChange=null,this.__cbOnceNameChange=null}},listensNameChange:function(){return null!=this.__cbOnNameChange&&0<this.__cbOnNameChange.length||null!=this.__cbOnceNameChange&&0<this.__cbOnceNameChange.length},widthAutoruns:null,get_width:function(){var e,n,t=this.unobservedWidth;return null!=w.current&&(e=w.current,null!=(n=this.widthAutoruns)||(n=w.getAutorunArray(),null!=(this.widthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_width:function(e){var n=this.unobservedWidth;return n!=(this.unobservedWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWidthChange(e,n),null!=(n=this.widthAutoruns))&&(this.widthAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateWidth:function(){var e=this.unobservedWidth,e=(this.emitWidthChange(e,e),this.widthAutoruns);null!=e&&(this.widthAutoruns=null,w.invalidateAutorunArray(e))},unobservedWidth:null,__cbOnWidthChange:null,__cbOnceWidthChange:null,__cbOnOwnerUnbindWidthChange:null,__cbOnceOwnerUnbindWidthChange:null,emitWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWidthChange&&(t+=this.__cbOnWidthChange.length),null!=this.__cbOnceWidthChange&&(t+=this.__cbOnceWidthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWidthChange)for(var r=0,h=this.__cbOnWidthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWidthChange[a],++s):--t}if(null!=this.__cbOnceWidthChange){for(var o=null,c=null,r=0,h=this.__cbOnceWidthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWidthChange[a],this.__cbOnceWidthChange[a]=null,u=this.__cbOnceOwnerUnbindWidthChange[a],(this.__cbOnceOwnerUnbindWidthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWidthChange[a]),c.push(this.__cbOnceWidthChange[a]))}this.__cbOnceOwnerUnbindWidthChange=o,this.__cbOnceWidthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(null);null==this.__cbOnWidthChange&&(this.__cbOnWidthChange=[]),this.__cbOnWidthChange.push(t)},onceWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(null);null==this.__cbOnceWidthChange&&(this.__cbOnceWidthChange=[]),this.__cbOnceWidthChange.push(t)},offWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWidthChange&&-1!=(n=this.__cbOnWidthChange.indexOf(e))&&(this.__cbOnWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWidthChange[n])&&s(),this.__cbOnOwnerUnbindWidthChange.splice(n,1)),null!=this.__cbOnceWidthChange&&-1!=(n=this.__cbOnceWidthChange.indexOf(e))&&(this.__cbOnceWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWidthChange[n])&&s(),this.__cbOnceOwnerUnbindWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWidthChange[l])&&s()}this.__cbOnOwnerUnbindWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWidthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWidthChange[l])&&s()}this.__cbOnceOwnerUnbindWidthChange=null}this.__cbOnWidthChange=null,this.__cbOnceWidthChange=null}},listensWidthChange:function(){return null!=this.__cbOnWidthChange&&0<this.__cbOnWidthChange.length||null!=this.__cbOnceWidthChange&&0<this.__cbOnceWidthChange.length},heightAutoruns:null,get_height:function(){var e,n,t=this.unobservedHeight;return null!=w.current&&(e=w.current,null!=(n=this.heightAutoruns)||(n=w.getAutorunArray(),null!=(this.heightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_height:function(e){var n=this.unobservedHeight;return n!=(this.unobservedHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHeightChange(e,n),null!=(n=this.heightAutoruns))&&(this.heightAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateHeight:function(){var e=this.unobservedHeight,e=(this.emitHeightChange(e,e),this.heightAutoruns);null!=e&&(this.heightAutoruns=null,w.invalidateAutorunArray(e))},unobservedHeight:null,__cbOnHeightChange:null,__cbOnceHeightChange:null,__cbOnOwnerUnbindHeightChange:null,__cbOnceOwnerUnbindHeightChange:null,emitHeightChange:function(e,n){var t=0;if(null!=this.__cbOnHeightChange&&(t+=this.__cbOnHeightChange.length),null!=this.__cbOnceHeightChange&&(t+=this.__cbOnceHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHeightChange)for(var r=0,h=this.__cbOnHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHeightChange[a],++s):--t}if(null!=this.__cbOnceHeightChange){for(var o=null,c=null,r=0,h=this.__cbOnceHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHeightChange[a],this.__cbOnceHeightChange[a]=null,u=this.__cbOnceOwnerUnbindHeightChange[a],(this.__cbOnceOwnerUnbindHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHeightChange[a]),c.push(this.__cbOnceHeightChange[a]))}this.__cbOnceOwnerUnbindHeightChange=o,this.__cbOnceHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(null);null==this.__cbOnHeightChange&&(this.__cbOnHeightChange=[]),this.__cbOnHeightChange.push(t)},onceHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(null);null==this.__cbOnceHeightChange&&(this.__cbOnceHeightChange=[]),this.__cbOnceHeightChange.push(t)},offHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnHeightChange&&-1!=(n=this.__cbOnHeightChange.indexOf(e))&&(this.__cbOnHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHeightChange[n])&&s(),this.__cbOnOwnerUnbindHeightChange.splice(n,1)),null!=this.__cbOnceHeightChange&&-1!=(n=this.__cbOnceHeightChange.indexOf(e))&&(this.__cbOnceHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHeightChange[n])&&s(),this.__cbOnceOwnerUnbindHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHeightChange[l])&&s()}this.__cbOnOwnerUnbindHeightChange=null}if(null!=this.__cbOnceOwnerUnbindHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHeightChange[l])&&s()}this.__cbOnceOwnerUnbindHeightChange=null}this.__cbOnHeightChange=null,this.__cbOnceHeightChange=null}},listensHeightChange:function(){return null!=this.__cbOnHeightChange&&0<this.__cbOnHeightChange.length||null!=this.__cbOnceHeightChange&&0<this.__cbOnceHeightChange.length},filterAutoruns:null,get_filter:function(){var e,n,t=this.unobservedFilter;return null!=w.current&&(e=w.current,null!=(n=this.filterAutoruns)||(n=w.getAutorunArray(),null!=(this.filterAutoruns=n)))&&e.bindToAutorunArray(n),t},set_filter:function(e){var n=this.unobservedFilter;return this.set_unobservedFilter(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFilterChange(e,n),null!=(n=this.filterAutoruns))&&(this.filterAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFilter:function(){var e=this.unobservedFilter,e=(this.emitFilterChange(e,e),this.filterAutoruns);null!=e&&(this.filterAutoruns=null,w.invalidateAutorunArray(e))},unobservedFilter:null,__cbOnFilterChange:null,__cbOnceFilterChange:null,__cbOnOwnerUnbindFilterChange:null,__cbOnceOwnerUnbindFilterChange:null,emitFilterChange:function(e,n){var t=0;if(null!=this.__cbOnFilterChange&&(t+=this.__cbOnFilterChange.length),null!=this.__cbOnceFilterChange&&(t+=this.__cbOnceFilterChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFilterChange)for(var r=0,h=this.__cbOnFilterChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFilterChange[a],++s):--t}if(null!=this.__cbOnceFilterChange){for(var o=null,c=null,r=0,h=this.__cbOnceFilterChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFilterChange[a],this.__cbOnceFilterChange[a]=null,u=this.__cbOnceOwnerUnbindFilterChange[a],(this.__cbOnceOwnerUnbindFilterChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFilterChange[a]),c.push(this.__cbOnceFilterChange[a]))}this.__cbOnceOwnerUnbindFilterChange=o,this.__cbOnceFilterChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFilterChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event filterChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFilterChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFilterChange&&(this.__cbOnOwnerUnbindFilterChange=[]),this.__cbOnOwnerUnbindFilterChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFilterChange&&(this.__cbOnOwnerUnbindFilterChange=[]),this.__cbOnOwnerUnbindFilterChange.push(null);null==this.__cbOnFilterChange&&(this.__cbOnFilterChange=[]),this.__cbOnFilterChange.push(t)},onceFilterChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event filterChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFilterChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFilterChange&&(this.__cbOnceOwnerUnbindFilterChange=[]),this.__cbOnceOwnerUnbindFilterChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFilterChange&&(this.__cbOnceOwnerUnbindFilterChange=[]),this.__cbOnceOwnerUnbindFilterChange.push(null);null==this.__cbOnceFilterChange&&(this.__cbOnceFilterChange=[]),this.__cbOnceFilterChange.push(t)},offFilterChange:function(e){if(null!=e){var n;null!=this.__cbOnFilterChange&&-1!=(n=this.__cbOnFilterChange.indexOf(e))&&(this.__cbOnFilterChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFilterChange[n])&&s(),this.__cbOnOwnerUnbindFilterChange.splice(n,1)),null!=this.__cbOnceFilterChange&&-1!=(n=this.__cbOnceFilterChange.indexOf(e))&&(this.__cbOnceFilterChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFilterChange[n])&&s(),this.__cbOnceOwnerUnbindFilterChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFilterChange){for(var t=0,i=this.__cbOnOwnerUnbindFilterChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFilterChange[l])&&s()}this.__cbOnOwnerUnbindFilterChange=null}if(null!=this.__cbOnceOwnerUnbindFilterChange){for(t=0,i=this.__cbOnceOwnerUnbindFilterChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFilterChange[l])&&s()}this.__cbOnceOwnerUnbindFilterChange=null}this.__cbOnFilterChange=null,this.__cbOnceFilterChange=null}},listensFilterChange:function(){return null!=this.__cbOnFilterChange&&0<this.__cbOnFilterChange.length||null!=this.__cbOnceFilterChange&&0<this.__cbOnceFilterChange.length},set_unobservedFilter:function(e){return this.unobservedFilter!=e&&(this.unobservedFilter=e,null!=this.get_texture())&&this.get_texture().set_filter(e),e},textureAutoruns:null,get_texture:function(){var e,n,t=this.unobservedTexture;return null!=w.current&&(e=w.current,null!=(n=this.textureAutoruns)||(n=w.getAutorunArray(),null!=(this.textureAutoruns=n)))&&e.bindToAutorunArray(n),t},set_texture:function(e){var n=this.unobservedTexture;return this.set_unobservedTexture(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextureChange(e,n),null!=(n=this.textureAutoruns))&&(this.textureAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTexture:function(){var e=this.unobservedTexture,e=(this.emitTextureChange(e,e),this.textureAutoruns);null!=e&&(this.textureAutoruns=null,w.invalidateAutorunArray(e))},unobservedTexture:null,__cbOnTextureChange:null,__cbOnceTextureChange:null,__cbOnOwnerUnbindTextureChange:null,__cbOnceOwnerUnbindTextureChange:null,emitTextureChange:function(e,n){var t=0;if(null!=this.__cbOnTextureChange&&(t+=this.__cbOnTextureChange.length),null!=this.__cbOnceTextureChange&&(t+=this.__cbOnceTextureChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTextureChange)for(var r=0,h=this.__cbOnTextureChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTextureChange[a],++s):--t}if(null!=this.__cbOnceTextureChange){for(var o=null,c=null,r=0,h=this.__cbOnceTextureChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTextureChange[a],this.__cbOnceTextureChange[a]=null,u=this.__cbOnceOwnerUnbindTextureChange[a],(this.__cbOnceOwnerUnbindTextureChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextureChange[a]),c.push(this.__cbOnceTextureChange[a]))}this.__cbOnceOwnerUnbindTextureChange=o,this.__cbOnceTextureChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event textureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(null);null==this.__cbOnTextureChange&&(this.__cbOnTextureChange=[]),this.__cbOnTextureChange.push(t)},onceTextureChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event textureChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextureChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(null);null==this.__cbOnceTextureChange&&(this.__cbOnceTextureChange=[]),this.__cbOnceTextureChange.push(t)},offTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnTextureChange&&-1!=(n=this.__cbOnTextureChange.indexOf(e))&&(this.__cbOnTextureChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTextureChange[n])&&s(),this.__cbOnOwnerUnbindTextureChange.splice(n,1)),null!=this.__cbOnceTextureChange&&-1!=(n=this.__cbOnceTextureChange.indexOf(e))&&(this.__cbOnceTextureChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTextureChange[n])&&s(),this.__cbOnceOwnerUnbindTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindTextureChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTextureChange[l])&&s()}this.__cbOnOwnerUnbindTextureChange=null}if(null!=this.__cbOnceOwnerUnbindTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindTextureChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTextureChange[l])&&s()}this.__cbOnceOwnerUnbindTextureChange=null}this.__cbOnTextureChange=null,this.__cbOnceTextureChange=null}},listensTextureChange:function(){return null!=this.__cbOnTextureChange&&0<this.__cbOnTextureChange.length||null!=this.__cbOnceTextureChange&&0<this.__cbOnceTextureChange.length},set_unobservedTexture:function(e){return this.unobservedTexture!=e&&null!=(this.unobservedTexture=e)&&(this.get_width()<=0&&this.set_width(e.backendItem.width),this.get_height()<=0)&&this.set_height(e.backendItem.height),e},unbindEvents:function(){this.offObservedDirty(),this.offNameChange(),this.offWidthChange(),this.offHeightChange(),this.offFilterChange(),this.offTextureChange()},__class__:di,__properties__:{set_unobservedTexture:"set_unobservedTexture",set_texture:"set_texture",get_texture:"get_texture",set_unobservedFilter:"set_unobservedFilter",set_filter:"set_filter",get_filter:"get_filter",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_name:"set_name",get_name:"get_name"}},function(){}),gi=((E["ceramic.TextureAtlasParser"]=bi).__name__="ceramic.TextureAtlasParser",bi.parse=function(e){if(z.startsWith(z.trim(e),"<"))try{e=bi.convertXmlTextureAtlas(e)}catch(e){zl.lastError=e;var n=ct.caught(e).unwrap();throw ct.thrown("TextureAtlas: invalid xml atlas data specified for parser: "+ot.string(n))}for(var t=new gi(e),i=[null,null,null,null],l=null,s=new P1;;){var r=t.readLine();if(null==r)break;if(0==(r=t.trim(r)).length)l=null;else if(null==l){for(var l=new di(r),h=t.nextLineKey();null!=h;){switch(h){case"filter":t.readTuple(i),l.set_filter(null!=i[0]&&"nearest"==i[0].toLowerCase()?fi.NEAREST:fi.LINEAR);break;case"size":t.readTuple(i),l.set_width(ot.parseInt(i[0])),l.set_height(ot.parseInt(i[1]));break;default:t.readLine()}h=t.nextLineKey()}s.pages.push(l)}else{for(var a=r.toLowerCase(),o=(z.endsWith(a,".png")||z.endsWith(a,".gif")||z.endsWith(a,".jpg")?r=he.substr(r,0,r.length-4):z.endsWith(a,".jpeg")&&(r=he.substr(r,0,r.length-5)),new Oi(r,s,s.pages.length-1)),c=0,u=0,_=0,d=0,b=0,g=0,O=t.nextLineKey();null!=O;){switch(O){case"bounds":t.readTuple(i),c=ot.parseInt(i[0]),u=ot.parseInt(i[1]),_=ot.parseInt(i[2]),d=ot.parseInt(i[3]);break;case"offset":t.readTuple(i),o.offsetX=ot.parseInt(i[0]),o.offsetY=ot.parseInt(i[1]);break;case"offsets":t.readTuple(i),o.offsetX=ot.parseInt(i[0]),o.offsetY=ot.parseInt(i[1]),b=ot.parseInt(i[2]),g=ot.parseInt(i[3]);break;case"orig":t.readTuple(i),b=ot.parseInt(i[0]),g=ot.parseInt(i[1]);break;case"rotate":var f=t.readValue();o.rotateFrame="true"==f||"90"==f;break;case"size":t.readTuple(i),_=ot.parseInt(i[0]),d=ot.parseInt(i[1]);break;case"xy":t.readTuple(i),c=ot.parseInt(i[0]),u=ot.parseInt(i[1]);break;default:t.readLine()}O=t.nextLineKey()}o.x=c,o.y=u,o.width=0|Math.abs(_),o.height=0|Math.abs(d),o.originalWidth=0!=b?b:o.width,o.originalHeight=0!=g?g:o.height,o.rotateFrame?(o.packedWidth=o.height,o.packedHeight=o.width):(o.packedWidth=o.width,o.packedHeight=o.height)}}return s},bi.convertXmlTextureAtlas=function(e){for(var n="",e=D.parse(e).firstElement(),t=(n=n+ot.string(e.get("imagePath"))+"\n",e.elements());t.hasNext();){var i=t.next();if(i.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":nn.toString(i.nodeType)));"SubTexture"==i.nodeName&&(n=n+ot.string(i.get("name"))+"\n",i.exists("frameX")&&i.exists("frameY")&&i.exists("frameWidth")&&i.exists("frameHeight")&&(n=(n=(n=(n=(n+="offsets:")+ot.string(-parseFloat(i.get("frameX")))+",")+ot.string(-parseFloat(i.get("frameY")))+",")+ot.string(parseFloat(i.get("frameWidth")))+",")+ot.string(parseFloat(i.get("frameHeight")))+"\n"),n=(n=(n=(n=(n+="bounds:")+ot.string(parseFloat(i.get("x")))+",")+ot.string(parseFloat(i.get("y")))+",")+ot.string(parseFloat(i.get("width")))+",")+ot.string(parseFloat(i.get("height")))+"\n",i.exists("rotate"))&&(n=(n+="rotate:")+ot.string(i.get("rotate"))+"\n")}return n},function(e){this.lines=z.replace(z.replace(z.trim(e),"\r\n","\n"),"\r","\n").split("\n"),this.index=0}),Oi=((E["ceramic._TextureAtlasParser.TextureAtlasReader"]=gi).__name__="ceramic._TextureAtlasParser.TextureAtlasReader",gi.prototype={lines:null,index:null,trim:function(e){return z.trim(e)},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},nextLineKey:function(){var e,n;return!(this.index>=this.lines.length)&&-1!=(n=(e=this.lines[this.index]).indexOf(":"))?z.trim(e.substring(0,n)):null},readValue:function(){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw ct.thrown("Invalid line: "+e);return this.trim(e.substring(n+1))},readTuple:function(e){var n=this.readLine(),t=n.indexOf(":");if(-1==t)throw ct.thrown("Invalid line: "+n);for(var i=0,l=t+1;i<3;){var s=n.indexOf(",",l);if(-1==s)break;e[i]=this.trim(he.substr(n,l,s-l)),l=s+1,++i}return e[i]=this.trim(n.substring(l)),i+1},__class__:gi},(E["ceramic.TextureTile"]=W1).__name__="ceramic.TextureTile",W1.prototype={texture:null,frameX:null,frameY:null,frameWidth:null,frameHeight:null,rotateFrame:null,edgeInset:null,frame:function(e,n,t,i){this.frameX=e,this.frameY=n,this.frameWidth=t,this.frameHeight=i},toString:function(){return""+ot.string({texture:this.texture,frameX:this.frameX,frameY:this.frameY,frameWidth:this.frameWidth,frameHeight:this.frameHeight})},__class__:W1},function(e,n,t){this.originalHeight=0,this.originalWidth=0,this.offsetY=0,this.offsetX=0,this.height=0,this.width=0,this.y=0,this.x=0,this.packedHeight=0,this.packedWidth=0,this.page=0,this.atlas=null,this.name=null,this.name=e,this.atlas=n,this.page=t;e=n.pages[t];W1.call(this,null!=e?e.get_texture():null,0,0,0,0,!1,0),n.regions.push(this)}),fi=((E["ceramic.TextureAtlasRegion"]=Oi).__name__="ceramic.TextureAtlasRegion",Oi.__super__=W1,Oi.prototype=$extend(W1.prototype,{name:null,atlas:null,page:null,packedWidth:null,packedHeight:null,x:null,y:null,width:null,height:null,offsetX:null,offsetY:null,originalWidth:null,originalHeight:null,computeFrame:function(){var e,n=this.atlas.pages[this.page];null!=n?(this.texture=n.get_texture(),null!=this.texture?(e=n.get_width(),n=n.get_height(),e=this.texture.width/e,n=this.texture.height/n,this.frameX=this.x*e,this.frameY=this.y*n,this.frameWidth=this.width*e,this.frameHeight=this.height*n):ke.app.logger.warning("Failed to compute region frame because there is no texture at page "+this.page,{fileName:"../../../../ceramic/runtime/src/ceramic/TextureAtlasRegion.hx",lineNumber:215,className:"ceramic.TextureAtlasRegion",methodName:"computeFrame"})):ke.app.logger.warning("Failed to compute region frame because there is no page "+this.page,{fileName:"../../../../ceramic/runtime/src/ceramic/TextureAtlasRegion.hx",lineNumber:219,className:"ceramic.TextureAtlasRegion",methodName:"computeFrame"})},toString:function(){return""+ot.string({name:this.name,page:this.page,texture:this.texture,packedWidth:this.packedWidth,packedHeight:this.packedHeight,originalWidth:this.originalWidth,originalHeight:this.originalHeight,width:this.width,height:this.height,offsetX:this.offsetX,offsetY:this.offsetY,frameX:this.frameX,frameY:this.frameY,frameWidth:this.frameWidth,frameHeight:this.frameHeight})},__class__:Oi}),en["ceramic.TextureFilter"]={__ename__:"ceramic.TextureFilter",__constructs__:null,LINEAR:{_hx_name:"LINEAR",_hx_index:0,__enum__:"ceramic.TextureFilter",toString:c},NEAREST:{_hx_name:"NEAREST",_hx_index:1,__enum__:"ceramic.TextureFilter",toString:c}}),pi=(fi.__constructs__=[fi.LINEAR,fi.NEAREST],(E["ceramic.TextureTilePacker"]=Z1).__name__="ceramic.TextureTilePacker",Z1.__super__=j,Z1.prototype=$extend(j.prototype,{texture:null,padWidth:null,padHeight:null,margin:null,nextPacker:null,areas:null,numCols:null,numRows:null,maxPixelTextureWidth:null,maxPixelTextureHeight:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,j.prototype.destroy.call(this),null!=this.nextPacker&&(this.nextPacker.destroy(),this.nextPacker=null),this.texture.destroy(),this.texture=null,this.areas=null)},getTileAtPosition:function(e,n){return this.areas[n*this.numCols+e]},setTileAtPosition:function(e,n,t){this.areas[n*this.numCols+e]=t},allocTile:function(e,n){this.texture.width,this.texture.height;var t=this.padWidth+2*this.margin,i=this.padHeight+2*this.margin,l=t*this.numCols-2*this.margin,s=i*this.numRows-2*this.margin;if(l<e||s<n)return ke.app.logger.warning("Cannot alloc tile of "+e+" x "+n+" because this is bigger than "+l+" x "+s,{fileName:"../../../../ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:247,className:"ceramic.TextureTilePacker",methodName:"allocTile"}),null;for(var r=this.padWidth,h=1;r<e;)++h,r+=this.padWidth+2*this.margin;for(var a=this.padHeight,o=1;a<n;)++o,a+=this.padHeight+2*this.margin;for(var c=0,u=this.numRows-o+1;c<u;)for(var _=c++,d=0,b=this.numCols-h+1;d<b;){for(var g=d++,O=!0,f=_,p=_+o;f<p;){for(var C=f++,v=g,m=g+h;v<m;){var w=v++;if(null!=this.areas[C*this.numCols+w]){O=!1;break}}if(!O)break}if(O){for(var y=new pi(this.texture,g*t,_*i,e,n),U=(y.col=g,y.row=_,y.usedCols=h,_),D=_+(y.usedRows=o);U<D;)for(var T=U++,x=g,S=g+h;x<S;){var A=x++;this.areas[T*this.numCols+A]=y}return y}}return null==this.nextPacker&&(this.nextPacker=new Z1(this.texture.autoRender,this.maxPixelTextureWidth,this.maxPixelTextureHeight,this.padWidth,this.padHeight,this.margin)),this.nextPacker.allocTile(e,n)},releaseTile:function(e){var n=this;if(ke.app.logger.info("release tile "+ot.string(e),{fileName:"../../../../ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:338,className:"ceramic.TextureTilePacker",methodName:"releaseTile"}),!(e instanceof pi))throw ct.thrown("Cannot release tile: "+ot.string(e)+".");for(var a=e,o=this;null!=o&&o.texture!=a.texture;)o=o.nextPacker;null==o?ke.app.logger.warning("Failed to release tile: "+ot.string(a)+" (it doesn't belong to this packer)",{fileName:"../../../../ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:353,className:"ceramic.TextureTilePacker",methodName:"releaseTile"}):ke.app.onceUpdate(this,function(e){ke.app.onceUpdate(n,function(e){for(var n=!1,t=a.row,i=a.row+a.usedRows;t<i;)for(var l=t++,s=a.col,r=a.col+a.usedCols;s<r;){var h=s++;o.areas[l*o.numCols+h]==a&&(n=!0,o.areas[l*o.numCols+h]=null)}a.texture=null,n||ke.app.logger.warning("Failed to release tile: "+ot.string(a)+" (did not find it)",{fileName:"../../../../ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:374,className:"ceramic.TextureTilePacker",methodName:"releaseTile"})})})},stamp:function(e,t,i){var l=new r,s=(l.set_anchorX(0),l.set_anchorY(0),e.frameHeight+2*this.margin),s=(l.set_width(e.frameWidth+2*this.margin),l.set_height(s),e.frameY-this.margin);if(l.set_x(e.frameX-this.margin),l.set_y(s),l.set_blending(4),0!=l.inheritAlpha&&(l.inheritAlpha=!1,l.visibilityDirty=!0,null!=l.children))for(var h=0,a=l.children.length;h<a;){var o=h++,c=l.children[o];if(c.visibilityDirty=!0,null!=c.children)for(var u=0,_=c.children.length;u<_;){var d=u++;c.children[d].set_visibilityDirty(!0)}}l.set_alpha(0),l.color=16777215;var b=t.transform,g=t.parent,s=(null!=g&&g.remove(t),l.add(t),t.set_transform(new n),t.transform);s.tx+=this.margin,s.ty+=this.margin,s.changedDirty=!0,e.texture.stamp(l,function(){l.remove(t),null!=g&&g.add(t),l.destroy(),l=null,t.set_transform(b),t=null,i(),i=null})},managesTexture:function(e){return this.texture==e||null!=this.nextPacker&&this.nextPacker.managesTexture(e)},__class__:Z1}),function(e,n,t,i,l){this.usedRows=1,this.usedCols=1,this.row=-1,this.col=-1,W1.call(this,e,n,t,i,l)}),Ci=((E["ceramic._TextureTilePacker.PackedTextureTile"]=pi).__name__="ceramic._TextureTilePacker.PackedTextureTile",pi.__super__=W1,pi.prototype=$extend(W1.prototype,{col:null,row:null,usedCols:null,usedRows:null,__class__:pi}),function(){this.initializerName=null,this.completeHandlerIndexes=null,this.completeHandlers=null,this.endPosition=-1,this.startPosition=-1,this.labelIndexes=null,this.labels=null,this.paused=!1,this.tracks=[],this.position=0,this.fps=30,this.autoUpdate=!0,this.loop=!0,this.autoFitSize=!0,this.size=0,j.call(this),ke.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ke.app.onPreUpdate(this,$bind(this,this.update))}),vi=((E["ceramic.Timeline"]=Ci).__name__="ceramic.Timeline",Ci.__interfaces__=[b0],Ci.__super__=j,Ci.prototype=$extend(j.prototype,{__cbOnStartLabel:null,__cbOnceStartLabel:null,__cbOnOwnerUnbindStartLabel:null,__cbOnceOwnerUnbindStartLabel:null,emitStartLabel:function(e,n){var t=0;if(null!=this.__cbOnStartLabel&&(t+=this.__cbOnStartLabel.length),null!=this.__cbOnceStartLabel&&(t+=this.__cbOnceStartLabel.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnStartLabel)for(var r=0,h=this.__cbOnStartLabel.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnStartLabel[a],++s):--t}if(null!=this.__cbOnceStartLabel){for(var o=null,c=null,r=0,h=this.__cbOnceStartLabel.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceStartLabel[a],this.__cbOnceStartLabel[a]=null,u=this.__cbOnceOwnerUnbindStartLabel[a],(this.__cbOnceOwnerUnbindStartLabel[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindStartLabel[a]),c.push(this.__cbOnceStartLabel[a]))}this.__cbOnceOwnerUnbindStartLabel=o,this.__cbOnceStartLabel=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onStartLabel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event startLabel because owner is destroyed!");var l=function(e){null!=t&&(i.offStartLabel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindStartLabel&&(this.__cbOnOwnerUnbindStartLabel=[]),this.__cbOnOwnerUnbindStartLabel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindStartLabel&&(this.__cbOnOwnerUnbindStartLabel=[]),this.__cbOnOwnerUnbindStartLabel.push(null);null==this.__cbOnStartLabel&&(this.__cbOnStartLabel=[]),this.__cbOnStartLabel.push(t)},onceStartLabel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event startLabel because owner is destroyed!");var l=function(e){null!=t&&(i.offStartLabel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindStartLabel&&(this.__cbOnceOwnerUnbindStartLabel=[]),this.__cbOnceOwnerUnbindStartLabel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindStartLabel&&(this.__cbOnceOwnerUnbindStartLabel=[]),this.__cbOnceOwnerUnbindStartLabel.push(null);null==this.__cbOnceStartLabel&&(this.__cbOnceStartLabel=[]),this.__cbOnceStartLabel.push(t)},offStartLabel:function(e){if(null!=e){var n;null!=this.__cbOnStartLabel&&-1!=(n=this.__cbOnStartLabel.indexOf(e))&&(this.__cbOnStartLabel.splice(n,1),null!=(s=this.__cbOnOwnerUnbindStartLabel[n])&&s(),this.__cbOnOwnerUnbindStartLabel.splice(n,1)),null!=this.__cbOnceStartLabel&&-1!=(n=this.__cbOnceStartLabel.indexOf(e))&&(this.__cbOnceStartLabel.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindStartLabel[n])&&s(),this.__cbOnceOwnerUnbindStartLabel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStartLabel){for(var t=0,i=this.__cbOnOwnerUnbindStartLabel.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindStartLabel[l])&&s()}this.__cbOnOwnerUnbindStartLabel=null}if(null!=this.__cbOnceOwnerUnbindStartLabel){for(t=0,i=this.__cbOnceOwnerUnbindStartLabel.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindStartLabel[l])&&s()}this.__cbOnceOwnerUnbindStartLabel=null}this.__cbOnStartLabel=null,this.__cbOnceStartLabel=null}},listensStartLabel:function(){return null!=this.__cbOnStartLabel&&0<this.__cbOnStartLabel.length||null!=this.__cbOnceStartLabel&&0<this.__cbOnceStartLabel.length},__cbOnEndLabel:null,__cbOnceEndLabel:null,__cbOnOwnerUnbindEndLabel:null,__cbOnceOwnerUnbindEndLabel:null,emitEndLabel:function(e,n){var t=0;if(null!=this.__cbOnEndLabel&&(t+=this.__cbOnEndLabel.length),null!=this.__cbOnceEndLabel&&(t+=this.__cbOnceEndLabel.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnEndLabel)for(var r=0,h=this.__cbOnEndLabel.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnEndLabel[a],++s):--t}if(null!=this.__cbOnceEndLabel){for(var o=null,c=null,r=0,h=this.__cbOnceEndLabel.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceEndLabel[a],this.__cbOnceEndLabel[a]=null,u=this.__cbOnceOwnerUnbindEndLabel[a],(this.__cbOnceOwnerUnbindEndLabel[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindEndLabel[a]),c.push(this.__cbOnceEndLabel[a]))}this.__cbOnceOwnerUnbindEndLabel=o,this.__cbOnceEndLabel=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l),l=null}this.didEmitEndLabel(e,n)},onEndLabel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event endLabel because owner is destroyed!");var l=function(e){null!=t&&(i.offEndLabel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEndLabel&&(this.__cbOnOwnerUnbindEndLabel=[]),this.__cbOnOwnerUnbindEndLabel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEndLabel&&(this.__cbOnOwnerUnbindEndLabel=[]),this.__cbOnOwnerUnbindEndLabel.push(null);null==this.__cbOnEndLabel&&(this.__cbOnEndLabel=[]),this.__cbOnEndLabel.push(t)},onceEndLabel:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event endLabel because owner is destroyed!");var l=function(e){null!=t&&(i.offEndLabel(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEndLabel&&(this.__cbOnceOwnerUnbindEndLabel=[]),this.__cbOnceOwnerUnbindEndLabel.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEndLabel&&(this.__cbOnceOwnerUnbindEndLabel=[]),this.__cbOnceOwnerUnbindEndLabel.push(null);null==this.__cbOnceEndLabel&&(this.__cbOnceEndLabel=[]),this.__cbOnceEndLabel.push(t)},offEndLabel:function(e){if(null!=e){var n;null!=this.__cbOnEndLabel&&-1!=(n=this.__cbOnEndLabel.indexOf(e))&&(this.__cbOnEndLabel.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEndLabel[n])&&s(),this.__cbOnOwnerUnbindEndLabel.splice(n,1)),null!=this.__cbOnceEndLabel&&-1!=(n=this.__cbOnceEndLabel.indexOf(e))&&(this.__cbOnceEndLabel.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEndLabel[n])&&s(),this.__cbOnceOwnerUnbindEndLabel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndLabel){for(var t=0,i=this.__cbOnOwnerUnbindEndLabel.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEndLabel[l])&&s()}this.__cbOnOwnerUnbindEndLabel=null}if(null!=this.__cbOnceOwnerUnbindEndLabel){for(t=0,i=this.__cbOnceOwnerUnbindEndLabel.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEndLabel[l])&&s()}this.__cbOnceOwnerUnbindEndLabel=null}this.__cbOnEndLabel=null,this.__cbOnceEndLabel=null}},listensEndLabel:function(){return null!=this.__cbOnEndLabel&&0<this.__cbOnEndLabel.length||null!=this.__cbOnceEndLabel&&0<this.__cbOnceEndLabel.length},size:null,autoFitSize:null,loop:null,autoUpdate:null,set_autoUpdate:function(e){return this.autoUpdate!=e&&(this.autoUpdate=e,ke.app.offPreUpdate($bind(this,this.update)),!this.paused)&&this.autoUpdate&&ke.app.onPreUpdate(this,$bind(this,this.update)),e},fps:null,position:null,tracks:null,paused:null,set_paused:function(e){return this.paused!=e&&(this.paused=e,ke.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate)&&ke.app.onPreUpdate(this,$bind(this,this.update)),e},labels:null,labelIndexes:null,startPosition:null,set_startPosition:function(e){return this.startPosition!=e&&(this.startPosition=e,this.apply()),e},endPosition:null,set_endPosition:function(e){return this.endPosition!=e&&(this.endPosition=e,this.apply()),e},completeHandlers:null,completeHandlerIndexes:null,bindAsComponent:function(){},bindOrUnbindUpdateIfNeeded:function(){ke.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ke.app.onPreUpdate(this,$bind(this,this.update))},update:function(e){var n,t,i=this.position+e*this.fps,e=this.position;if(i!=this.position&&(0<=this.startPosition&&i<this.startPosition&&(i=this.startPosition),this.endPosition>=this.startPosition&&0<=this.startPosition&&i>this.endPosition&&(i=this.loop?this.startPosition+(i-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),0<this.size?i>this.size&&(this.loop?i%=this.size:i=this.size):0==this.size&&(i=0),(i=i<0?0:i)!=this.position)){this.position=i;for(var l=0,s=this.tracks.length;l<s;){var r=l++,h=this.tracks[r];if(!h.locked){var i=this.position,r=!1,a=!1;if(null==a&&(a=!1),((r=null==r?!1:r)||i!=h.position)&&(0<h.size?i>h.size&&(h.loop?i%=h.size:i=h.size):0==h.size&&(i=0),(i=i<0?0:i)!=h.position)){h.position=i;var o=null;if(-1!=(u=h.keyframeBeforeIndex))if((o=h.keyframes[u]).index<=h.position)for(var c=h.keyframes[u+1];null!=c&&c.index<=h.position;)o=c,++u,c=h.keyframes[u+1];else o=null;if(null==o)for(var u=-1,_=h.keyframes.length;u+1<_;){var d=h.keyframes[u+1];if(d.index>h.position)break;o=d,++u}h.keyframeBeforeIndex=u,h.before=o;var b=null,g=h.keyframeAfterIndex;if(-1!=g&&null!=(b=h.keyframes[g]))if(b.index>h.position){if(0<g)for(var O=h.keyframes[g-1];null!=O&&O.index>h.position;)b=O,O=0<--g?h.keyframes[g-1]:null}else b=null;if(null==b){for(r=h.keyframes.length,g=r;0<=g-1;){var f=h.keyframes[g-1];if(f.index<=h.position)break;b=f,--g}r<=g&&(g=-1)}h.keyframeAfterIndex=g,h.after=b,h.apply(a)}}}}this.position!=e&&(n=Math.floor(this.position))!=Math.floor(e)&&null!=(e=this.labelAtIndex(n))&&(-1!=(t=this.indexOfLabelBeforeIndex(n))&&this.emitEndLabel(t,this.labelAtIndex(t)),this.emitStartLabel(n,e))},seek:function(e){var n,t=e,i=this.position;if(t!=this.position&&(0<=this.startPosition&&t<this.startPosition&&(t=this.startPosition),this.endPosition>=this.startPosition&&0<=this.startPosition&&t>this.endPosition&&(t=this.loop?this.startPosition+(t-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),0<this.size?t>this.size&&(this.loop?t%=this.size:t=this.size):0==this.size&&(t=0),(t=t<0?0:t)!=this.position)){this.position=t;for(var l=0,s=this.tracks.length;l<s;){var r=l++,h=this.tracks[r];if(!h.locked){var e=this.position,r=!1,a=!1;if(null==a&&(a=!1),((r=null==r?!1:r)||e!=h.position)&&(0<h.size?e>h.size&&(h.loop?e%=h.size:e=h.size):0==h.size&&(e=0),(e=e<0?0:e)!=h.position)){h.position=e;var o=null;if(-1!=(u=h.keyframeBeforeIndex))if((o=h.keyframes[u]).index<=h.position)for(var c=h.keyframes[u+1];null!=c&&c.index<=h.position;)o=c,++u,c=h.keyframes[u+1];else o=null;if(null==o)for(var u=-1,_=h.keyframes.length;u+1<_;){var d=h.keyframes[u+1];if(d.index>h.position)break;o=d,++u}h.keyframeBeforeIndex=u,h.before=o;var b=null,g=h.keyframeAfterIndex;if(-1!=g&&null!=(b=h.keyframes[g]))if(b.index>h.position){if(0<g)for(var O=h.keyframes[g-1];null!=O&&O.index>h.position;)b=O,O=0<--g?h.keyframes[g-1]:null}else b=null;if(null==b){for(r=h.keyframes.length,g=r;0<=g-1;){var f=h.keyframes[g-1];if(f.index<=h.position)break;b=f,--g}r<=g&&(g=-1)}h.keyframeAfterIndex=g,h.after=b,h.apply(a)}}}}this.position!=i&&(t=Math.floor(this.position))!=Math.floor(i)&&null!=(i=this.labelAtIndex(t))&&(-1!=(n=this.indexOfLabelBeforeIndex(t))&&this.emitEndLabel(n,this.labelAtIndex(n)),this.emitStartLabel(t,i))},animate:function(e,n){if(null!=this.completeHandlers&&0<this.completeHandlers.length){var t=this.completeHandlers;if(0!=t.length)if(0<t.length)t.splice(0,t.length);else for(var i=t;i.length<0;)i.push(null);if(0!=(t=this.completeHandlerIndexes).length)if(0<t.length)t.splice(0,t.length);else for(i=t;i.length<0;)i.push(null)}t=this.indexOfLabel(e);-1!=t?(this.seek(t),null==this.completeHandlers&&(this.completeHandlers=[],this.completeHandlerIndexes=[]),this.completeHandlers.push(n),this.completeHandlerIndexes.push(t)):ke.app.logger.warning("Failed to animate whith label: "+e+" (not found)",{fileName:"../../../../ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:287,className:"ceramic.Timeline",methodName:"animate"})},seekLabel:function(e){var n=this.indexOfLabel(e);return-1!=n?this.seek(n):ke.app.logger.warning("Failed to seek label: "+e+" (not found)",{fileName:"../../../../ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:306,className:"ceramic.Timeline",methodName:"seekLabel"}),n},resetStartAndEndPositions:function(){this.set_startPosition(-1),this.set_endPosition(-1)},loopLabel:function(e){var n;return null==this.labels?(ke.app.logger.warning("Cannot loop label "+e+" (there is no label at all)",{fileName:"../../../../ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:339,className:"ceramic.Timeline",methodName:"loopLabel"}),-1):-1==(n=this.labels.indexOf(e))?(ke.app.logger.warning("Cannot loop label "+e+" (no such label)",{fileName:"../../../../ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:345,className:"ceramic.Timeline",methodName:"loopLabel"}),-1):(e=this.labelIndexes[n],this.set_startPosition(e),this.set_endPosition(n<this.labelIndexes.length-1?this.labelIndexes[n+1]:this.size),this.seek(e),e)},apply:function(e){var n,t,i=this.position,l=!0,s=e=null==e?!1:e,r=(null==e&&(s=!1),null==l&&(l=!1),this.position);if((l||i!=this.position)&&(0<=this.startPosition&&i<this.startPosition&&(i=this.startPosition),this.endPosition>=this.startPosition&&0<=this.startPosition&&i>this.endPosition&&(i=this.loop?this.startPosition+(i-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),0<this.size?i>this.size&&(this.loop?i%=this.size:i=this.size):0==this.size&&(i=0),(i=i<0?0:i)!=this.position)){this.position=i;for(var h=0,a=this.tracks.length;h<a;){var o=h++,c=this.tracks[o];if(!c.locked){i=this.position,o=l,e=s;if(null==e&&(e=!1),((o=null==o?!1:o)||i!=c.position)&&(0<c.size?i>c.size&&(c.loop?i%=c.size:i=c.size):0==c.size&&(i=0),(i=i<0?0:i)!=c.position)){c.position=i;var u=null;if(-1!=(d=c.keyframeBeforeIndex))if((u=c.keyframes[d]).index<=c.position)for(var _=c.keyframes[d+1];null!=_&&_.index<=c.position;)u=_,++d,_=c.keyframes[d+1];else u=null;if(null==u)for(var d=-1,b=c.keyframes.length;d+1<b;){var g=c.keyframes[d+1];if(g.index>c.position)break;u=g,++d}c.keyframeBeforeIndex=d,c.before=u;var O=null,f=c.keyframeAfterIndex;if(-1!=f&&null!=(O=c.keyframes[f]))if(O.index>c.position){if(0<f)for(var p=c.keyframes[f-1];null!=p&&p.index>c.position;)O=p,p=0<--f?c.keyframes[f-1]:null}else O=null;if(null==O){for(o=c.keyframes.length,f=o;0<=f-1;){var C=c.keyframes[f-1];if(C.index<=c.position)break;O=C,--f}o<=f&&(f=-1)}c.keyframeAfterIndex=f,c.after=O,c.apply(e)}}}}this.position!=r&&(n=Math.floor(this.position))!=Math.floor(r)&&null!=(r=this.labelAtIndex(n))&&(-1!=(t=this.indexOfLabelBeforeIndex(n))&&this.emitEndLabel(t,this.labelAtIndex(t)),this.emitStartLabel(n,r))},inlineSeek:function(e,n,t){null==t&&(t=!1),null==n&&(n=!1);var i,l,s=this.position;if((n||e!=this.position)&&(0<=this.startPosition&&e<this.startPosition&&(e=this.startPosition),this.endPosition>=this.startPosition&&0<=this.startPosition&&e>this.endPosition&&(e=this.loop?this.startPosition+(e-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),0<this.size?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),(e=e<0?0:e)!=this.position)){this.position=e;for(var r=0,h=this.tracks.length;r<h;){var a=r++,o=this.tracks[a];if(!o.locked){var e=this.position,a=n,c=t;if(null==c&&(c=!1),((a=null==a?!1:a)||e!=o.position)&&(0<o.size?e>o.size&&(o.loop?e%=o.size:e=o.size):0==o.size&&(e=0),(e=e<0?0:e)!=o.position)){o.position=e;var u=null;if(-1!=(d=o.keyframeBeforeIndex))if((u=o.keyframes[d]).index<=o.position)for(var _=o.keyframes[d+1];null!=_&&_.index<=o.position;)u=_,++d,_=o.keyframes[d+1];else u=null;if(null==u)for(var d=-1,b=o.keyframes.length;d+1<b;){var g=o.keyframes[d+1];if(g.index>o.position)break;u=g,++d}o.keyframeBeforeIndex=d,o.before=u;var O=null,f=o.keyframeAfterIndex;if(-1!=f&&null!=(O=o.keyframes[f]))if(O.index>o.position){if(0<f)for(var p=o.keyframes[f-1];null!=p&&p.index>o.position;)O=p,p=0<--f?o.keyframes[f-1]:null}else O=null;if(null==O){for(a=o.keyframes.length,f=a;0<=f-1;){var C=o.keyframes[f-1];if(C.index<=o.position)break;O=C,--f}a<=f&&(f=-1)}o.keyframeAfterIndex=f,o.after=O,o.apply(c)}}}}this.position!=s&&(i=Math.floor(this.position))!=Math.floor(s)&&null!=(s=this.labelAtIndex(i))&&(-1!=(l=this.indexOfLabelBeforeIndex(i))&&this.emitEndLabel(l,this.labelAtIndex(l)),this.emitStartLabel(i,s))},clearCompleteHandlers:function(){if(null!=this.completeHandlers&&0<this.completeHandlers.length){var e=this.completeHandlers;if(0!=e.length)if(0<e.length)e.splice(0,e.length);else for(var n=e;n.length<0;)n.push(null);if(0!=(e=this.completeHandlerIndexes).length)if(0<e.length)e.splice(0,e.length);else for(n=e;n.length<0;)n.push(null)}},didEmitEndLabel:function(e,n){if(null!=this.completeHandlers&&0<this.completeHandlers.length){for(var t=null,i=null,l=0,s=0,r=this.completeHandlerIndexes.length;s<r;){var h=s++;this.completeHandlerIndexes[h]==e&&(null==i&&(i=(t=C.pool(this.completeHandlers.length)).get()),c=this.completeHandlers[h],i.vector[l]=c,this.completeHandlers[h]=null,++l)}if(null!=this.completeHandlers&&0<this.completeHandlers.length){var a=this.completeHandlers;if(0!=a.length)if(0<a.length)a.splice(0,a.length);else for(var o=a;o.length<0;)o.push(null);if(0!=(a=this.completeHandlerIndexes).length)if(0<a.length)a.splice(0,a.length);else for(o=a;o.length<0;)o.push(null)}for(s=0,r=l;s<r;){var c,h=s++;(c=i.vector[h])()}null!=i&&t.release(i)}},add:function(e){null!=e.timeline&&e.timeline.remove(e),e.timeline!=this&&(this.tracks.push(e),e.timeline=this),this.autoFitSize&&this.fitSize()},get:function(e){for(var n=0,t=this.tracks.length;n<t;){var i=n++,i=this.tracks[i];if(i.id==e)return i}return null},remove:function(e){e.timeline==this&&(he.remove(this.tracks,e),e.timeline=null),this.autoFitSize&&this.fitSize()},fitSize:function(){for(var e=0,n=0,t=this.tracks.length;n<t;){var i=n++,i=this.tracks[i];i.size>e&&(e=i.size)}this.size=e},indexOfLabelBeforeIndex:function(e){if(null==this.labelIndexes)return-1;for(var n=-1,t=0,i=this.labelIndexes.length;t<i;){var l=t++,l=this.labelIndexes[l];if(l==e)return n;if(e<l)break;n=l}return n},labelAtIndex:function(e){if(null!=this.labelIndexes)for(var n=0,t=this.labelIndexes.length;n<t;){var i=n++,l=this.labelIndexes[i];if(l==e)return this.labels[i];if(e<l)break}return null},indexOfLabel:function(e){if(null!=this.labelIndexes)for(var n=0,t=this.labels.length;n<t;){var i=n++;if(e==this.labels[i])return this.labelIndexes[i]}return-1},setLabel:function(e,n){this.removeLabel(n),null==this.labelIndexes&&(this.labelIndexes=[],this.labels=[]),this.labelIndexes.push(e),this.labels.push(n),this.sortLabels()},removeLabelAtIndex:function(e){var n=!1;return null!=this.labelIndexes&&-1!=(e=this.labelIndexes.indexOf(e))&&(this.labels.splice(e,1),this.labelIndexes.splice(e,1),n=!0),n},removeLabel:function(e){var n=!1;return null!=this.labels&&-1!=(e=this.labels.indexOf(e))&&(this.labels.splice(e,1),this.labelIndexes.splice(e,1),n=!0),n},sortLabels:function(){this.labelIndexes.sort($bind(this,this.compareLabelIndexes)),this.labels.sort($bind(this,this.compareLabelNames))},compareLabelIndexes:function(e,n){return n<e?1:e<n?-1:0},compareLabelNames:function(e,n){e=this.labels.indexOf(e),e=this.labelIndexes[e],n=this.labels.indexOf(n),n=this.labelIndexes[n];return n<e?1:e<n?-1:0},entity:null,setEntity:function(e){this.entity=e instanceof j?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offStartLabel(),this.offEndLabel()},__class__:Ci,__properties__:$extend(j.prototype.__properties__,{set_endPosition:"set_endPosition",set_startPosition:"set_startPosition",set_paused:"set_paused",set_autoUpdate:"set_autoUpdate"})}),(E["ceramic.TimelineKeyframe"]=ac).__name__="ceramic.TimelineKeyframe",ac.prototype={index:null,easing:null,__class__:ac},(E["ceramic.TimelineBoolKeyframe"]=bc).__name__="ceramic.TimelineBoolKeyframe",bc.__super__=ac,bc.prototype=$extend(ac.prototype,{value:null,__class__:bc}),(E["ceramic.TimelineTrack"]=cc).__name__="ceramic.TimelineTrack",cc.__super__=j,cc.prototype=$extend(j.prototype,{size:null,autoFitSize:null,loop:null,locked:null,timeline:null,position:null,keyframes:null,before:null,after:null,keyframeBeforeIndex:null,keyframeAfterIndex:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.timeline&&0<=this.timeline._lifecycleState&&this.timeline.remove(this),this._lifecycleState=-1,j.prototype.destroy.call(this))},seek:function(e){if(e!=this.position&&(0<this.size?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),(e=e<0?0:e)!=this.position)){this.position=e;var n=null;if(-1!=(s=this.keyframeBeforeIndex))if((n=this.keyframes[s]).index<=this.position)for(var t=this.keyframes[s+1];null!=t&&t.index<=this.position;)n=t,t=this.keyframes[++s+1];else n=null;if(null==n){s=-1;for(var i=this.keyframes.length;s+1<i;){if((l=this.keyframes[s+1]).index>this.position)break;n=l,++s}}this.keyframeBeforeIndex=s,this.before=n;var l,n=null,s=this.keyframeAfterIndex;if(-1!=s&&null!=(n=this.keyframes[s]))if(n.index>this.position){if(0<s)for(var r=this.keyframes[s-1];null!=r&&r.index>this.position;)n=r,r=0<--s?this.keyframes[s-1]:null}else n=null;if(null==n){for(s=i=this.keyframes.length;0<=s-1;){if((l=this.keyframes[s-1]).index<=this.position)break;n=l,--s}i<=s&&(s=-1)}this.keyframeAfterIndex=s,this.after=n,this.apply(!1)}},inlineSeek:function(e,n,t){if(null==t&&(t=!1),((n=null==n?!1:n)||e!=this.position)&&(0<this.size?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),(e=e<0?0:e)!=this.position)){this.position=e;var i=null;if(-1!=(h=this.keyframeBeforeIndex))if((i=this.keyframes[h]).index<=this.position)for(var l=this.keyframes[h+1];null!=l&&l.index<=this.position;)i=l,l=this.keyframes[++h+1];else i=null;if(null==i){h=-1;for(var s=this.keyframes.length;h+1<s;){if((r=this.keyframes[h+1]).index>this.position)break;i=r,++h}}this.keyframeBeforeIndex=h,this.before=i;var r,i=null,h=this.keyframeAfterIndex;if(-1!=h&&null!=(i=this.keyframes[h]))if(i.index>this.position){if(0<h)for(var a=this.keyframes[h-1];null!=a&&a.index>this.position;)i=a,a=0<--h?this.keyframes[h-1]:null}else i=null;if(null==i){for(h=s=this.keyframes.length;0<=h-1;){if((r=this.keyframes[h-1]).index<=this.position)break;i=r,--h}s<=h&&(h=-1)}this.keyframeAfterIndex=h,this.after=i,this.apply(t)}},add:function(e){for(var n=this.keyframes,t=n.length,i=0,l=!1;i<t;){var s=n[i];if(s.index==e.index){ke.app.logger.warning("Replacing existing keyframe at index "+e.index,{fileName:"../../../../ceramic/runtime/src/ceramic/TimelineTrack.hx",lineNumber:204,className:"ceramic.TimelineTrack",methodName:"add"}),n[i]=e,l=!0;break}if(s.index>e.index){n.splice(i,0,e),l=!0;break}++i}l||n.push(e),this.autoFitSize&&this.fitSize(),null!=this.timeline&&this.timeline.autoFitSize&&this.timeline.fitSize(),this.keyframeBeforeIndex=-1;var r=null;if((this.keyframeAfterIndex=-1)!=(a=this.keyframeBeforeIndex))if((r=this.keyframes[a]).index<=this.position)for(var h=this.keyframes[a+1];null!=h&&h.index<=this.position;)r=h,h=this.keyframes[++a+1];else r=null;if(null==r){a=-1;for(t=this.keyframes.length;a+1<t;){if((e=this.keyframes[a+1]).index>this.position)break;r=e,++a}}this.keyframeBeforeIndex=a,this.before=r;var r=null,a=this.keyframeAfterIndex;if(-1!=a&&null!=(r=this.keyframes[a]))if(r.index>this.position){if(0<a)for(var o=this.keyframes[a-1];null!=o&&o.index>this.position;)r=o,o=0<--a?this.keyframes[a-1]:null}else r=null;if(null==r){for(a=t=this.keyframes.length;0<=a-1;){if((e=this.keyframes[a-1]).index<=this.position)break;r=e,--a}t<=a&&(a=-1)}this.keyframeAfterIndex=a,this.after=r,this.apply(!0)},remove:function(e){if(-1!=(l=this.keyframes.indexOf(e))){this.keyframes.splice(l,1),this.autoFitSize&&this.fitSize(),null!=this.timeline&&this.timeline.autoFitSize&&this.timeline.fitSize(),this.keyframeBeforeIndex=-1;var n=null;if((this.keyframeAfterIndex=-1)!=(l=this.keyframeBeforeIndex))if((n=this.keyframes[l]).index<=this.position)for(var t=this.keyframes[l+1];null!=t&&t.index<=this.position;)n=t,t=this.keyframes[++l+1];else n=null;if(null==n){l=-1;for(var i=this.keyframes.length;l+1<i;){if((e=this.keyframes[l+1]).index>this.position)break;n=e,++l}}this.keyframeBeforeIndex=l,this.before=n;var n=null,l=this.keyframeAfterIndex;if(-1!=l&&null!=(n=this.keyframes[l]))if(n.index>this.position){if(0<l)for(var s=this.keyframes[l-1];null!=s&&s.index>this.position;)n=s,s=0<--l?this.keyframes[l-1]:null}else n=null;if(null==n){for(l=i=this.keyframes.length;0<=l-1;){if((e=this.keyframes[l-1]).index<=this.position)break;n=e,--l}i<=l&&(l=-1)}this.keyframeAfterIndex=l,this.after=n,this.apply(!0)}else ke.app.logger.warning("Failed to remove keyframe: keyframe not found in list",{fileName:"../../../../ceramic/runtime/src/ceramic/TimelineTrack.hx",lineNumber:270,className:"ceramic.TimelineTrack",methodName:"remove"})},fitSize:function(){0<this.keyframes.length?this.size=this.keyframes[this.keyframes.length-1].index:this.size=0},apply:function(e){},findKeyframeAtIndex:function(e){var n=this.findKeyframeBefore(e);return null!=n&&n.index==e?n:null},findKeyframeBefore:function(e){for(var n=null,t=-1,i=this.keyframes.length;t+1<i;){var l=this.keyframes[t+1];if(l.index>e)break;n=l,++t}return n},findKeyframeAfter:function(e){for(var n=null,t=-1,i=this.keyframes.length;t+1<i;){var l=this.keyframes[t+1];if(l.index>e)break;n=l,++t}return n},computeKeyframeBefore:function(){var e=null;if(-1!=(t=this.keyframeBeforeIndex))if((e=this.keyframes[t]).index<=this.position)for(var n=this.keyframes[t+1];null!=n&&n.index<=this.position;)e=n,n=this.keyframes[++t+1];else e=null;if(null==e)for(var t=-1,i=this.keyframes.length;t+1<i;){var l=this.keyframes[t+1];if(l.index>this.position)break;e=l,++t}this.keyframeBeforeIndex=t,this.before=e},computeKeyframeAfter:function(){var e=null,n=this.keyframeAfterIndex;if(-1!=n&&null!=(e=this.keyframes[n]))if(e.index>this.position){if(0<n)for(var t=this.keyframes[n-1];null!=t&&t.index>this.position;)e=t,t=0<--n?this.keyframes[n-1]:null}else e=null;if(null==e){for(var i=this.keyframes.length,n=i;0<=n-1;){var l=this.keyframes[n-1];if(l.index<=this.position)break;e=l,--n}i<=n&&(n=-1)}this.keyframeAfterIndex=n,this.after=e},__class__:cc}),(E["ceramic.TimelineBoolTrack"]=dc).__name__="ceramic.TimelineBoolTrack",dc.__super__=cc,dc.prototype=$extend(cc.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,s=0,r=this.__cbOnceChange.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n,t=this.value;null!=this.before&&null!=this.after?(1<(n=(this.position-this.before.index)/(this.after.index-this.before.index))?n=1:n<0&&(n=0),this.value=(1<=n?this.after:this.before).value):null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value),!e&&t==this.value||this.emitChange(this)},unbindEvents:function(){cc.prototype.unbindEvents.call(this),this.offChange()},__class__:dc}),(E["ceramic.TimelineColorKeyframe"]=ec).__name__="ceramic.TimelineColorKeyframe",ec.__super__=ac,ec.prototype=$extend(ac.prototype,{value:null,__class__:ec}),(E["ceramic.TimelineColorTrack"]=fc).__name__="ceramic.TimelineColorTrack",fc.__super__=cc,fc.prototype=$extend(cc.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,s=0,r=this.__cbOnceChange.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n,t,i,l,s=this.value;null!=this.before&&null!=this.after?(1<(i=(this.position-this.before.index)/(this.after.index-this.before.index))?i=1:i<0&&(i=0),n=this.before.value,l=(((t=this.after.value)>>16&255)-(n>>16&255))*(i=null==(i=H.ease(this.after.easing,i))?.5:i)+(n>>16&255)|0,this.value=((0&65535|(255<l?255:l<0?0:l)<<16)&16711935|(255<(l=((t>>8&255)-(n>>8&255))*i+(n>>8&255)|0)?255:l<0?0:l)<<8)&16776960|(255<(l=((255&t)-(255&n))*i+(255&n)|0)?255:l<0?0:l)):null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value),!e&&s==this.value||this.emitChange(this)},unbindEvents:function(){cc.prototype.unbindEvents.call(this),this.offChange()},__class__:fc}),(E["ceramic.TimelineDegreesTrack"]=gc).__name__="ceramic.TimelineDegreesTrack",gc.__super__=cc,gc.prototype=$extend(cc.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,s=0,r=this.__cbOnceChange.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n,t,i,l,s=this.value,r=this.value;null!=this.before&&null!=this.after?(1<(n=(this.position-this.before.index)/(this.after.index-this.before.index))?n=1:n<0&&(n=0),t=_0.clampDegrees(this.before.value),180<(l=(i=_0.clampDegrees(this.after.value))-t)?i-=360:l<-180&&(i+=360),r=t+(i-t)*H.ease(this.after.easing,n),r=_0.clampDegrees(r)):null!=this.after?r=_0.clampDegrees(this.after.value):null!=this.before&&(r=_0.clampDegrees(this.before.value)),!e&&s==r||(this.value=r,this.emitChange(this))},unbindEvents:function(){cc.prototype.unbindEvents.call(this),this.offChange()},__class__:gc}),(E["ceramic.TimelineFloatArrayKeyframe"]=hc).__name__="ceramic.TimelineFloatArrayKeyframe",hc.__super__=ac,hc.prototype=$extend(ac.prototype,{value:null,__class__:hc}),(E["ceramic.TimelineFloatArrayTrack"]=ic).__name__="ceramic.TimelineFloatArrayTrack",ic.__super__=cc,ic.prototype=$extend(cc.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,s=0,r=this.__cbOnceChange.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n=!1;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);if(1<t?t=1:t<0&&(t=0),1<=t){var i=this.value,l=(O=this.after.value).length;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(var s=i;s.length<l;)s.push(null);for(var r=i.length,h=0,a=l;h<a;){var o=0,c=((f=h++)<r?o=i[f]:n=!0,O[f]);(i[f]=c)!=o&&(n=!0)}}else if(t<=0){i=this.value,l=(O=this.before.value).length;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(s=i;s.length<l;)s.push(null);for(r=i.length,h=0,a=l;h<a;){o=0,c=((f=h++)<r?o=i[f]:n=!0,O[f]);(i[f]=c)!=o&&(n=!0)}}else{var i=this.value,u=this.before.value,_=this.after.value,d=H.ease(this.after.easing,t),t=_.length,b=u.length,l=b<t?b:t;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(s=i;s.length<l;)s.push(null);for(r=i.length,h=0,a=l;h<a;){var o=0,g=((f=h++)<r?o=i[f]:n=!0,u[f]),c=g+(_[f]-g)*d;(i[f]=c)!=o&&(n=!0)}}}else if(null!=this.after){i=this.value,l=(O=this.after.value).length;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(s=i;s.length<l;)s.push(null);for(r=i.length,h=0,a=l;h<a;){o=0,c=((f=h++)<r?o=i[f]:n=!0,O[f]);(i[f]=c)!=o&&(n=!0)}}else if(null!=this.before){var O,i=this.value,l=(O=this.before.value).length;if(i.length>l&&i.length!=l)if(i.length>l)i.splice(l,i.length-l);else for(s=i;s.length<l;)s.push(null);for(r=i.length,h=0,a=l;h<a;){var f,o=0,c=((f=h++)<r?o=i[f]:n=!0,O[f]);(i[f]=c)!=o&&(n=!0)}}(e||n)&&this.emitChange(this)},unbindEvents:function(){cc.prototype.unbindEvents.call(this),this.offChange()},__class__:ic}),(E["ceramic.TimelineFloatKeyframe"]=jc).__name__="ceramic.TimelineFloatKeyframe",jc.__super__=ac,jc.prototype=$extend(ac.prototype,{value:null,__class__:jc}),(E["ceramic.TimelineFloatTrack"]=kc).__name__="ceramic.TimelineFloatTrack",kc.__super__=cc,kc.prototype=$extend(cc.prototype,{__cbOnChange:null,__cbOnceChange:null,__cbOnOwnerUnbindChange:null,__cbOnceOwnerUnbindChange:null,emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnChange[h],++l):--n}if(null!=this.__cbOnceChange){for(var a=null,o=null,s=0,r=this.__cbOnceChange.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceChange[h],this.__cbOnceChange[h]=null,c=this.__cbOnceOwnerUnbindChange[h],(this.__cbOnceOwnerUnbindChange[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChange[h]),o.push(this.__cbOnceChange[h]))}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(t)},onceChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event change because owner is destroyed!");var l=function(e){null!=t&&(i.offChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(t)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChange[n])&&s(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChange[n])&&s(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChange[l])&&s()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChange[l])&&s()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&0<this.__cbOnChange.length||null!=this.__cbOnceChange&&0<this.__cbOnceChange.length},value:null,apply:function(e){null==e&&(e=!1);var n,t=this.value;null!=this.before&&null!=this.after?(1<(n=(this.position-this.before.index)/(this.after.index-this.before.index))?n=1:n<0&&(n=0),this.value=this.before.value+(this.after.value-this.before.value)*H.ease(this.after.easing,n)):null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value),!e&&t==this.value||this.emitChange(this)},unbindEvents:function(){cc.prototype.unbindEvents.call(this),this.offChange()},__class__:kc}),function(){j.call(this),this.onCreateTrack(this,$bind(this,this.handleCreateTrack)),this.onBindTrack(this,$bind(this,this.handleBindTrack)),this.onCreateKeyframe(this,$bind(this,this.handleCreateKeyframe))}),mi=((E["ceramic.Timelines"]=vi).__name__="ceramic.Timelines",vi.__super__=j,vi.prototype=$extend(j.prototype,{__cbOnCreateTrack:null,__cbOnceCreateTrack:null,__cbOnOwnerUnbindCreateTrack:null,__cbOnceOwnerUnbindCreateTrack:null,emitCreateTrack:function(e,n,t){var i=0;if(null!=this.__cbOnCreateTrack&&(i+=this.__cbOnCreateTrack.length),null!=this.__cbOnceCreateTrack&&(i+=this.__cbOnceCreateTrack.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnCreateTrack)for(var h=0,a=this.__cbOnCreateTrack.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnCreateTrack[o],++r):--i}if(null!=this.__cbOnceCreateTrack){for(var c=null,u=null,h=0,a=this.__cbOnceCreateTrack.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceCreateTrack[o],this.__cbOnceCreateTrack[o]=null,_=this.__cbOnceOwnerUnbindCreateTrack[o],(this.__cbOnceOwnerUnbindCreateTrack[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindCreateTrack[o]),u.push(this.__cbOnceCreateTrack[o]))}this.__cbOnceOwnerUnbindCreateTrack=c,this.__cbOnceCreateTrack=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onCreateTrack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event createTrack because owner is destroyed!");var l=function(e){null!=t&&(i.offCreateTrack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCreateTrack&&(this.__cbOnOwnerUnbindCreateTrack=[]),this.__cbOnOwnerUnbindCreateTrack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCreateTrack&&(this.__cbOnOwnerUnbindCreateTrack=[]),this.__cbOnOwnerUnbindCreateTrack.push(null);null==this.__cbOnCreateTrack&&(this.__cbOnCreateTrack=[]),this.__cbOnCreateTrack.push(t)},onceCreateTrack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event createTrack because owner is destroyed!");var l=function(e){null!=t&&(i.offCreateTrack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCreateTrack&&(this.__cbOnceOwnerUnbindCreateTrack=[]),this.__cbOnceOwnerUnbindCreateTrack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCreateTrack&&(this.__cbOnceOwnerUnbindCreateTrack=[]),this.__cbOnceOwnerUnbindCreateTrack.push(null);null==this.__cbOnceCreateTrack&&(this.__cbOnceCreateTrack=[]),this.__cbOnceCreateTrack.push(t)},offCreateTrack:function(e){if(null!=e){var n;null!=this.__cbOnCreateTrack&&-1!=(n=this.__cbOnCreateTrack.indexOf(e))&&(this.__cbOnCreateTrack.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCreateTrack[n])&&s(),this.__cbOnOwnerUnbindCreateTrack.splice(n,1)),null!=this.__cbOnceCreateTrack&&-1!=(n=this.__cbOnceCreateTrack.indexOf(e))&&(this.__cbOnceCreateTrack.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCreateTrack[n])&&s(),this.__cbOnceOwnerUnbindCreateTrack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCreateTrack){for(var t=0,i=this.__cbOnOwnerUnbindCreateTrack.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCreateTrack[l])&&s()}this.__cbOnOwnerUnbindCreateTrack=null}if(null!=this.__cbOnceOwnerUnbindCreateTrack){for(t=0,i=this.__cbOnceOwnerUnbindCreateTrack.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCreateTrack[l])&&s()}this.__cbOnceOwnerUnbindCreateTrack=null}this.__cbOnCreateTrack=null,this.__cbOnceCreateTrack=null}},listensCreateTrack:function(){return null!=this.__cbOnCreateTrack&&0<this.__cbOnCreateTrack.length||null!=this.__cbOnceCreateTrack&&0<this.__cbOnceCreateTrack.length},__cbOnBindTrack:null,__cbOnceBindTrack:null,__cbOnOwnerUnbindBindTrack:null,__cbOnceOwnerUnbindBindTrack:null,emitBindTrack:function(e,n,t,i,l){var s=0;if(null!=this.__cbOnBindTrack&&(s+=this.__cbOnBindTrack.length),null!=this.__cbOnceBindTrack&&(s+=this.__cbOnceBindTrack.length),0<s){var r=C.pool(s),h=r.get(),a=0;if(null!=this.__cbOnBindTrack)for(var o=0,c=this.__cbOnBindTrack.length;o<c;){var u=o++;!0?(h.vector[a]=this.__cbOnBindTrack[u],++a):--s}if(null!=this.__cbOnceBindTrack){for(var _=null,d=null,o=0,c=this.__cbOnceBindTrack.length;o<c;){var b,u=o++;!0?(h.vector[a]=this.__cbOnceBindTrack[u],this.__cbOnceBindTrack[u]=null,b=this.__cbOnceOwnerUnbindBindTrack[u],(this.__cbOnceOwnerUnbindBindTrack[u]=null)!=b&&b(),++a):(--s,null==_&&(_=[],d=[],0),_.push(this.__cbOnceOwnerUnbindBindTrack[u]),d.push(this.__cbOnceBindTrack[u]))}this.__cbOnceOwnerUnbindBindTrack=_,this.__cbOnceBindTrack=d}for(o=0,c=s;o<c;){a=o++;(0,h.vector[a])(e,n,t,i,l)}r.release(h)}},onBindTrack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event bindTrack because owner is destroyed!");var l=function(e){null!=t&&(i.offBindTrack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBindTrack&&(this.__cbOnOwnerUnbindBindTrack=[]),this.__cbOnOwnerUnbindBindTrack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBindTrack&&(this.__cbOnOwnerUnbindBindTrack=[]),this.__cbOnOwnerUnbindBindTrack.push(null);null==this.__cbOnBindTrack&&(this.__cbOnBindTrack=[]),this.__cbOnBindTrack.push(t)},onceBindTrack:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event bindTrack because owner is destroyed!");var l=function(e){null!=t&&(i.offBindTrack(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBindTrack&&(this.__cbOnceOwnerUnbindBindTrack=[]),this.__cbOnceOwnerUnbindBindTrack.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBindTrack&&(this.__cbOnceOwnerUnbindBindTrack=[]),this.__cbOnceOwnerUnbindBindTrack.push(null);null==this.__cbOnceBindTrack&&(this.__cbOnceBindTrack=[]),this.__cbOnceBindTrack.push(t)},offBindTrack:function(e){if(null!=e){var n;null!=this.__cbOnBindTrack&&-1!=(n=this.__cbOnBindTrack.indexOf(e))&&(this.__cbOnBindTrack.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBindTrack[n])&&s(),this.__cbOnOwnerUnbindBindTrack.splice(n,1)),null!=this.__cbOnceBindTrack&&-1!=(n=this.__cbOnceBindTrack.indexOf(e))&&(this.__cbOnceBindTrack.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBindTrack[n])&&s(),this.__cbOnceOwnerUnbindBindTrack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBindTrack){for(var t=0,i=this.__cbOnOwnerUnbindBindTrack.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBindTrack[l])&&s()}this.__cbOnOwnerUnbindBindTrack=null}if(null!=this.__cbOnceOwnerUnbindBindTrack){for(t=0,i=this.__cbOnceOwnerUnbindBindTrack.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBindTrack[l])&&s()}this.__cbOnceOwnerUnbindBindTrack=null}this.__cbOnBindTrack=null,this.__cbOnceBindTrack=null}},listensBindTrack:function(){return null!=this.__cbOnBindTrack&&0<this.__cbOnBindTrack.length||null!=this.__cbOnceBindTrack&&0<this.__cbOnceBindTrack.length},__cbOnCreateKeyframe:null,__cbOnceCreateKeyframe:null,__cbOnOwnerUnbindCreateKeyframe:null,__cbOnceOwnerUnbindCreateKeyframe:null,emitCreateKeyframe:function(e,n,t,i,l,s,r){var h=0;if(null!=this.__cbOnCreateKeyframe&&(h+=this.__cbOnCreateKeyframe.length),null!=this.__cbOnceCreateKeyframe&&(h+=this.__cbOnceCreateKeyframe.length),0<h){var a=C.pool(h),o=a.get(),c=0;if(null!=this.__cbOnCreateKeyframe)for(var u=0,_=this.__cbOnCreateKeyframe.length;u<_;){var d=u++;!0?(o.vector[c]=this.__cbOnCreateKeyframe[d],++c):--h}if(null!=this.__cbOnceCreateKeyframe){for(var b=null,g=null,u=0,_=this.__cbOnceCreateKeyframe.length;u<_;){var O,d=u++;!0?(o.vector[c]=this.__cbOnceCreateKeyframe[d],this.__cbOnceCreateKeyframe[d]=null,O=this.__cbOnceOwnerUnbindCreateKeyframe[d],(this.__cbOnceOwnerUnbindCreateKeyframe[d]=null)!=O&&O(),++c):(--h,null==b&&(b=[],g=[],0),b.push(this.__cbOnceOwnerUnbindCreateKeyframe[d]),g.push(this.__cbOnceCreateKeyframe[d]))}this.__cbOnceOwnerUnbindCreateKeyframe=b,this.__cbOnceCreateKeyframe=g}for(u=0,_=h;u<_;){c=u++;(0,o.vector[c])(e,n,t,i,l,s,r)}a.release(o)}},onCreateKeyframe:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event createKeyframe because owner is destroyed!");var l=function(e){null!=t&&(i.offCreateKeyframe(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCreateKeyframe&&(this.__cbOnOwnerUnbindCreateKeyframe=[]),this.__cbOnOwnerUnbindCreateKeyframe.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCreateKeyframe&&(this.__cbOnOwnerUnbindCreateKeyframe=[]),this.__cbOnOwnerUnbindCreateKeyframe.push(null);null==this.__cbOnCreateKeyframe&&(this.__cbOnCreateKeyframe=[]),this.__cbOnCreateKeyframe.push(t)},onceCreateKeyframe:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event createKeyframe because owner is destroyed!");var l=function(e){null!=t&&(i.offCreateKeyframe(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCreateKeyframe&&(this.__cbOnceOwnerUnbindCreateKeyframe=[]),this.__cbOnceOwnerUnbindCreateKeyframe.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCreateKeyframe&&(this.__cbOnceOwnerUnbindCreateKeyframe=[]),this.__cbOnceOwnerUnbindCreateKeyframe.push(null);null==this.__cbOnceCreateKeyframe&&(this.__cbOnceCreateKeyframe=[]),this.__cbOnceCreateKeyframe.push(t)},offCreateKeyframe:function(e){if(null!=e){var n;null!=this.__cbOnCreateKeyframe&&-1!=(n=this.__cbOnCreateKeyframe.indexOf(e))&&(this.__cbOnCreateKeyframe.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCreateKeyframe[n])&&s(),this.__cbOnOwnerUnbindCreateKeyframe.splice(n,1)),null!=this.__cbOnceCreateKeyframe&&-1!=(n=this.__cbOnceCreateKeyframe.indexOf(e))&&(this.__cbOnceCreateKeyframe.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCreateKeyframe[n])&&s(),this.__cbOnceOwnerUnbindCreateKeyframe.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCreateKeyframe){for(var t=0,i=this.__cbOnOwnerUnbindCreateKeyframe.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCreateKeyframe[l])&&s()}this.__cbOnOwnerUnbindCreateKeyframe=null}if(null!=this.__cbOnceOwnerUnbindCreateKeyframe){for(t=0,i=this.__cbOnceOwnerUnbindCreateKeyframe.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCreateKeyframe[l])&&s()}this.__cbOnceOwnerUnbindCreateKeyframe=null}this.__cbOnCreateKeyframe=null,this.__cbOnceCreateKeyframe=null}},listensCreateKeyframe:function(){return null!=this.__cbOnCreateKeyframe&&0<this.__cbOnCreateKeyframe.length||null!=this.__cbOnceCreateKeyframe&&0<this.__cbOnceCreateKeyframe.length},handleCreateTrack:function(e,n,t){null==t.value&&(null!=n&&1==n.degrees?t.value=new gc:"Float"==e?t.value=new kc:"ceramic.Color"==e?t.value=new fc:"Bool"==e?t.value=new dc:"Array<Float>"==e&&(t.value=new ic))},handleBindTrack:function(e,n,t,o,c){var u;t instanceof kc?t.onChange(o,function(e){L.setProperty(o,c,e.value)}):t instanceof gc?t.onChange(o,function(e){L.setProperty(o,c,e.value)}):t instanceof fc?t.onChange(o,function(e){L.setProperty(o,c,e.value)}):t instanceof dc?t.onChange(o,function(e){L.setProperty(o,c,e.value)}):t instanceof ic&&(u=null!=n&&1==n.copyArray,t.onChange(o,function(e){var n=null,t=((u||null==(n=L.getProperty(o,c)))&&(n=[]),e.value),i=t.length;if(n.length!=i&&n.length!=i)if(n.length>i)n.splice(i,n.length-i);else for(var l=n;l.length<i;)l.push(null);for(var s=0,r=i;s<r;){var h=s++,a=t[h];n[h]=a}L.setProperty(o,c,n)}))},handleCreateKeyframe:function(e,n,t,i,l,s,r){var h;null==r.value&&("Float"==e?null!=s&&s instanceof jc?((h=s).value=t,h.index=i,h.easing=l,r.value=h):r.value=new jc(t,i,l):"ceramic.Color"==e?null!=s&&s instanceof ec?((h=s).value=t,h.index=i,h.easing=l,r.value=h):r.value=new ec(t,i,l):"Bool"==e?null!=s&&s instanceof bc?((h=s).value=t,h.index=i,h.easing=l,r.value=h):r.value=new bc(t,i,l):"Array<Float>"==e&&(null!=s&&s instanceof hc?((h=s).value=[].concat(t),h.index=i,h.easing=l,r.value=h):r.value=new hc(t,i,l)))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offCreateTrack(),this.offBindTrack(),this.offCreateKeyframe()},__class__:vi}),function(){}),wi=((E["ceramic.Timer"]=mi).__name__="ceramic.Timer",mi.__properties__={get_timestamp:"get_timestamp"},mi.get_timestamp=function(){return mi.startTimestamp+mi.now},mi.update=function(e,n){mi.now+=e,mi.timestamp=mi.startTimestamp+mi.now+n,mi.next<=mi.now&&ke.app.beginUpdateCallbacks.push(mi.flush)},mi.flush=function(){mi.next=999999999;for(var e=mi.callbacks,n=(mi.callbacks=[],0),t=e.length;n<t;){var i=e[n++];if(!i.cleared)if(null==i.owner||0<=i.owner._lifecycleState)if(i.time<=mi.now)if(0<=i.interval){for(;i.time<=mi.now&&!i.cleared&&(i.callback(),0!=i.interval);)i.time+=i.interval;i.cleared||(mi.callbacks.push(i),mi.next=Math.min(i.time,mi.next))}else i.callback();else mi.callbacks.push(i),mi.next=Math.min(i.time,mi.next);else i.cleared=!0}},mi.delay=function(e,n,t){return mi.schedule(e,n,t,-1)},mi.interval=function(e,n,t){return mi.schedule(e,n,t,n)},mi.schedule=function(e,n,t,i){var n=mi.now+n,l=(mi.next=Math.min(n,mi.next),new wi);return l.owner=e,l.callback=t,l.time=n,l.interval=i,mi.callbacks.push(l),$bind(l,l.clear)},function(){this.cleared=!1,this.interval=-1,this.time=0,this.callback=null,this.owner=null}),yi=((E["ceramic.TimerCallback"]=wi).__name__="ceramic.TimerCallback",wi.prototype={owner:null,callback:null,time:null,interval:null,cleared:null,clear:function(){this.cleared=!0},__class__:wi},function(e,n,t,i,l){this.index=e,this.x=n,this.y=t,this.deltaX=i,this.deltaY=l}),Ui=((E["ceramic.Touch"]=yi).__name__="ceramic.Touch",yi.prototype={index:null,x:null,y:null,deltaX:null,deltaY:null,toString:function(){return""+ot.string({index:this.index,x:this.x,y:this.y,deltaX:this.deltaX,deltaY:this.deltaY})},__class__:yi},function(e,n,t,i,l){this.touchIndex=e,this.buttonId=n,this.x=t,this.y=i,this.hits=l}),e=((E["ceramic.TouchInfo"]=Ui).__name__="ceramic.TouchInfo",Ui.prototype={touchIndex:null,buttonId:null,x:null,y:null,hits:null,toString:function(){return""+ot.string({touchIndex:this.touchIndex,buttonId:this.buttonId,x:this.x,y:this.y,hits:this.hits})},__class__:Ui},function(e){this.intMap=e,this.i=0,this.len=this.intMap.values.length}),Di=((E["ceramic.TouchesIterator"]=e).__name__="ceramic.TouchesIterator",e.prototype={intMap:null,i:null,len:null,hasNext:function(){for(;this.i<this.len&&null==this.intMap.values[this.i];)this.i++;return this.i<this.len},next:function(){var e=this.i++;return this.intMap.values[e]},__class__:e},function(){this.backgroundQueue=new Ra}),Ti=((E["ceramic.TrackerBackend"]=Di).__name__="ceramic.TrackerBackend",Di.prototype={backgroundQueue:null,onceImmediate:function(e){ke.app._onceImmediate(e)},readString:function(e){return ke.app.backend.io.readString(e)},saveString:function(e,n){return ke.app.backend.io.saveString(e,n)},appendString:function(e,n){return ke.app.backend.io.appendString(e,n)},warning:function(e,n){ke.app.logger.warning(e,n)},error:function(e,n){ke.app.logger.error(e,n)},success:function(e,n){ke.app.logger.success(e,n)},runInBackground:function(e){this.backgroundQueue.schedule(e)},runInMain:function(e){Ft.runInMain(e)},interval:function(e,n,t){return mi.schedule(e,n,t,n)},delay:function(e,n,t){return mi.schedule(e,n,t,-1)},storageDirectory:function(){return null},pathJoin:function(e){return Dt.join(e)},__class__:Di},function(){}),xi=((E["ceramic.TransformPool"]=Ti).__name__="ceramic.TransformPool",Ti.get=function(){return 0<Ti.availableTransforms.length?Ti.availableTransforms.pop():new n},Ti.recycle=function(e){e.offChange(),e.a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e._aPrev=1,e._bPrev=0,e._cPrev=0,e._dPrev=1,e._txPrev=0,e._tyPrev=0,e.changed=!1,e.changedDirty=!1,Ti.availableTransforms.push(e)},Ti.clear=function(){0<Ti.availableTransforms.length&&(Ti.availableTransforms=[])},(E["ceramic.Triangle"]=uc).__name__="ceramic.Triangle",uc.__super__=Aa,uc.prototype=$extend(Aa.prototype,{set_width:function(e){return Aa.prototype.set_width.call(this,e),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),e},set_height:function(e){return Aa.prototype.set_height.call(this,e),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),e},updateVertices:function(){this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height()},__class__:uc}),function(){}),Si=((E["ceramic.Triangulate"]=xi).__name__="ceramic.Triangulate",xi._triangulateWithRange=function(e,n,t,i){null==xi.tmpVertices&&(xi.tmpVertices=[]),null==xi.tmpIndices&&(xi.tmpIndices=[]);var l=xi.tmpVertices;if(0!=l.length)if(0<l.length)l.splice(0,l.length);else for(var s=l;s.length<0;)s.push(null);if(0!=(l=xi.tmpIndices).length)if(0<l.length)l.splice(0,l.length);else for(s=l;s.length<0;)s.push(null);for(var r=n,h=n+t;r<h;){var a=r++;xi.tmpVertices.push(e[2*a]),xi.tmpVertices.push(e[2*a+1])}xi._triangulate(xi.tmpVertices,xi.tmpIndices);for(r=0,h=xi.tmpIndices.length;r<h;){a=r++;i.push(n+xi.tmpIndices[a])}if(0!=(l=xi.tmpVertices).length)if(0<l.length)l.splice(0,l.length);else for(s=l;s.length<0;)s.push(null);if(0!=(l=xi.tmpIndices).length)if(0<l.length)l.splice(0,l.length);else for(s=l;s.length<0;)s.push(null)},xi._triangulate=function(e,n){if(0<n.length&&0!=n.length)if(0<n.length)n.splice(0,n.length);else for(var t=n;t.length<0;)t.push(null);null==xi.triangulator&&(xi.triangulator=new Si),xi.triangulator.computeTriangles(e,0,-1,n)},function(){this.triangles=null,this.vertexCount=0,this.vertices=null,this.indices=[],this.vertexTypes=[]}),H=((E["ceramic._Triangulate.EarClippingTriangulator"]=Si).__name__="ceramic._Triangulate.EarClippingTriangulator",Si.computeSpannedAreaSign=function(e,n,t,i,l,s){e*=s-i;return 0|(0<(e=e+t*(n-s)+l*(i-n))?1:e<0?-1:0)},Si.prototype={indices:null,vertexTypes:null,vertices:null,vertexCount:null,triangles:null,computeTriangles:function(e,n,t,i){null==n&&(n=0),-1==(t=null==t?-1:t)&&(t=e.length),this.vertices=e,this.vertexCount=t/2|0;for(var l=n/2|0,s=0,r=this.vertexCount;s<r;){var h=s++;this.indices[h]=0}if(this.indices.length!=this.vertexCount){var a=this.indices,o=this.vertexCount;if(a.length!=o)if(a.length>o)a.splice(o,a.length-o);else for(var c=a;c.length<o;)c.push(null)}if(_0.isClockwise(e,n,t))for(s=0,r=this.vertexCount;s<r;){h=s++;this.indices[h]=l+h}else for(s=0,r=this.vertexCount;s<r;){h=s++;this.indices[h]=l+(this.vertexCount-1-h)}for(s=0,r=this.vertexCount;s<r;){h=s++;this.vertexTypes[h]=this.classifyVertex(h)}if(this.vertexTypes.length!=this.vertexCount){a=this.vertexTypes,o=this.vertexCount;if(a.length!=o)if(a.length>o)a.splice(o,a.length-o);else for(c=a;c.length<o;)c.push(null)}e=i;if((this.triangles=null!=e?e:[],0<this.triangles.length)&&0!=(a=this.triangles).length)if(0<a.length)a.splice(0,a.length);else for(c=a;c.length<0;)c.push(null);return this.triangulate(),this.triangles},triangulate:function(){for(;3<this.vertexCount;){var e=this.findEarTip(),n=(this.cutEarTip(e),this.getPreviousIndex(e)),e=e==this.vertexCount?0:e;this.vertexTypes[n]=this.classifyVertex(n),this.vertexTypes[e]=this.classifyVertex(e)}3==this.vertexCount&&(this.triangles.push(this.indices[0]),this.triangles.push(this.indices[1]),this.triangles.push(this.indices[2]))},classifyVertex:function(e){var n=2*this.indices[this.getPreviousIndex(e)],t=2*this.indices[e],e=2*this.indices[this.getNextIndex(e)];return Si.computeSpannedAreaSign(this.vertices[n],this.vertices[1+n],this.vertices[t],this.vertices[1+t],this.vertices[e],this.vertices[1+e])},findEarTip:function(){for(var e=0,n=this.vertexCount;e<n;){var t=e++;if(this.isEarTip(t))return t}for(e=0,n=this.vertexCount;e<n;){t=e++;if(-1!=this.vertexTypes[t])return t}return 0},isEarTip:function(e){if(-1==this.vertexTypes[e])return!1;for(var n=this.getPreviousIndex(e),t=this.getNextIndex(e),i=2*this.indices[n],e=2*this.indices[e],l=2*this.indices[t],s=this.vertices[i],r=this.vertices[1+i],h=this.vertices[e],a=this.vertices[1+e],o=this.vertices[l],c=this.vertices[1+l],u=this.getNextIndex(t);u!=n;){if(1!=this.vertexTypes[u]){var _=2*this.indices[u],d=this.vertices[_],_=this.vertices[1+_];if(0<=Si.computeSpannedAreaSign(o,c,s,r,d,_)&&0<=Si.computeSpannedAreaSign(s,r,h,a,d,_)&&0<=Si.computeSpannedAreaSign(h,a,o,c,d,_))return!1}u=this.getNextIndex(u)}return!0},cutEarTip:function(e){this.triangles.push(this.indices[this.getPreviousIndex(e)]),this.triangles.push(this.indices[e]),this.triangles.push(this.indices[this.getNextIndex(e)]),this.indices.splice(e,1),this.vertexTypes.splice(e,1),this.vertexCount--},getPreviousIndex:function(e){return 0==e?this.vertexCount-1:e-1},getNextIndex:function(e){return(e+1)%this.vertexCount},__class__:Si},function(e,n,t,i,l){this.didTickThisFrame=!1,this.didCallImmediateStart=!1,this.customEasing=null,j.call(this),this.owner=e,this.easing=n,this.duration=t,this.fromValue=i,this.toValue=l,this.value=i,this.time=0,this.init()}),_=((E["ceramic.Tween"]=H).__name__="ceramic.Tween",H.start=function(e,n,t,i,l,s){n=new H(e,null==n?Nn.QUAD_EASE_IN_OUT:n,t,i,l);return null!=s&&n.onUpdate(e,s),n},H.eagerStart=function(e,n,t,i,l,s){n=new H(e,null==n?Nn.QUAD_EASE_IN_OUT:n,t,i,l);return n.eager=!0,null!=s&&n.onUpdate(e,s),n},H.tick=function(e){for(var n=H._tweens.length,t=0,i=n;t<i;){var l=t++,s=H._tweens[l];H._iteratedTweens[l]=s}for(t=0,i=n;t<i;){var r,l=t++,s=H._iteratedTweens[l];H._iteratedTweens[l]=null,s.didTickThisFrame||0<=s._lifecycleState&&(s.didTickThisFrame=!0,null!=s.owner&&s.owner._lifecycleState<0?s.destroy():(s.remaining-=e,s.remaining<=0?(s.emitUpdate(s.toValue,s.duration),s.emitComplete(),s.destroy()):(r=s.duration-s.remaining,_.k=r/s.duration,_.k,_.customEasing=s.customEasing,null!=s.computedEasing&&s.computedEasing(),_.customEasing=null,s.emitUpdate(s.fromValue+(s.toValue-s.fromValue)*_.k,r))))}},H.endFrame=function(){for(var e=0,n=H._tweens.length;e<n;){var t=e++;H._tweens[t].didTickThisFrame=!1}},H.computeEasing=function(e){switch(e._hx_index){case 0:H._computedEasingFunction=_.none;break;case 1:H._computedEasingFunction=_.linear;break;case 2:H._computedEasingFunction=_.backEaseIn;break;case 3:H._computedEasingFunction=_.backEaseInOut;break;case 4:H._computedEasingFunction=_.backEaseOut;break;case 5:H._computedEasingFunction=_.quadEaseIn;break;case 6:H._computedEasingFunction=_.quadEaseInOut;break;case 7:H._computedEasingFunction=_.quadEaseOut;break;case 8:H._computedEasingFunction=_.cubicEaseIn;break;case 9:H._computedEasingFunction=_.cubicEaseInOut;break;case 10:H._computedEasingFunction=_.cubicEaseOut;break;case 11:H._computedEasingFunction=_.quartEaseIn;break;case 12:H._computedEasingFunction=_.quartEaseInOut;break;case 13:H._computedEasingFunction=_.quartEaseOut;break;case 14:H._computedEasingFunction=_.quintEaseIn;break;case 15:H._computedEasingFunction=_.quintEaseInOut;break;case 16:H._computedEasingFunction=_.quintEaseOut;break;case 17:H._computedEasingFunction=_.bounceEaseIn;break;case 18:H._computedEasingFunction=_.bounceEaseInOut;break;case 19:H._computedEasingFunction=_.bounceEaseOut;break;case 20:H._computedEasingFunction=_.elasticEaseIn;break;case 21:H._computedEasingFunction=_.elasticEaseInOut;break;case 22:H._computedEasingFunction=_.elasticEaseOut;break;case 23:H._computedEasingFunction=_.expoEaseIn;break;case 24:H._computedEasingFunction=_.expoEaseInOut;break;case 25:H._computedEasingFunction=_.expoEaseOut;break;case 26:H._computedEasingFunction=_.sineEaseIn;break;case 27:H._computedEasingFunction=_.sineEaseInOut;break;case 28:H._computedEasingFunction=_.sineEaseOut;break;case 29:var n=e.x1,t=e.y1,i=e.x2,l=e.y2;H._computedEasingFunction=_.custom,H._computedCustomEasing=$bind(U=Sa.get(n,t,i,l),U.ease);break;case 30:n=e.easing;H._computedEasingFunction=_.custom,H._computedCustomEasing=n}},H.ease=function(e,n){switch(_.k=n,e._hx_index){case 0:_.none();break;case 1:_.linear();break;case 2:_.backEaseIn();break;case 3:_.backEaseInOut();break;case 4:_.backEaseOut();break;case 5:_.quadEaseIn();break;case 6:_.quadEaseInOut();break;case 7:_.quadEaseOut();break;case 8:_.cubicEaseIn();break;case 9:_.cubicEaseInOut();break;case 10:_.cubicEaseOut();break;case 11:_.quartEaseIn();break;case 12:_.quartEaseInOut();break;case 13:_.quartEaseOut();break;case 14:_.quintEaseIn();break;case 15:_.quintEaseInOut();break;case 16:_.quintEaseOut();break;case 17:_.bounceEaseIn();break;case 18:_.bounceEaseInOut();break;case 19:_.bounceEaseOut();break;case 20:_.elasticEaseIn();break;case 21:_.elasticEaseInOut();break;case 22:_.elasticEaseOut();break;case 23:_.expoEaseIn();break;case 24:_.expoEaseInOut();break;case 25:_.expoEaseOut();break;case 26:_.sineEaseIn();break;case 27:_.sineEaseInOut();break;case 28:_.sineEaseOut();break;case 29:var t=e.x1,i=e.y1,l=e.x2,s=e.y2;_.customEasing=$bind(U=Sa.get(t,i,l,s),U.ease),_.custom(),_.customEasing=null;break;case 30:t=e.easing;_.customEasing=t,_.custom(),_.customEasing=null}return _.k},H.easingFunction=function(e){switch(e._hx_index){case 0:H._computedEasingFunction=_.none;break;case 1:H._computedEasingFunction=_.linear;break;case 2:H._computedEasingFunction=_.backEaseIn;break;case 3:H._computedEasingFunction=_.backEaseInOut;break;case 4:H._computedEasingFunction=_.backEaseOut;break;case 5:H._computedEasingFunction=_.quadEaseIn;break;case 6:H._computedEasingFunction=_.quadEaseInOut;break;case 7:H._computedEasingFunction=_.quadEaseOut;break;case 8:H._computedEasingFunction=_.cubicEaseIn;break;case 9:H._computedEasingFunction=_.cubicEaseInOut;break;case 10:H._computedEasingFunction=_.cubicEaseOut;break;case 11:H._computedEasingFunction=_.quartEaseIn;break;case 12:H._computedEasingFunction=_.quartEaseInOut;break;case 13:H._computedEasingFunction=_.quartEaseOut;break;case 14:H._computedEasingFunction=_.quintEaseIn;break;case 15:H._computedEasingFunction=_.quintEaseInOut;break;case 16:H._computedEasingFunction=_.quintEaseOut;break;case 17:H._computedEasingFunction=_.bounceEaseIn;break;case 18:H._computedEasingFunction=_.bounceEaseInOut;break;case 19:H._computedEasingFunction=_.bounceEaseOut;break;case 20:H._computedEasingFunction=_.elasticEaseIn;break;case 21:H._computedEasingFunction=_.elasticEaseInOut;break;case 22:H._computedEasingFunction=_.elasticEaseOut;break;case 23:H._computedEasingFunction=_.expoEaseIn;break;case 24:H._computedEasingFunction=_.expoEaseInOut;break;case 25:H._computedEasingFunction=_.expoEaseOut;break;case 26:H._computedEasingFunction=_.sineEaseIn;break;case 27:H._computedEasingFunction=_.sineEaseInOut;break;case 28:H._computedEasingFunction=_.sineEaseOut;break;case 29:var n=e.x1,t=e.y1,i=e.x2,l=e.y2;H._computedEasingFunction=_.custom,H._computedCustomEasing=$bind(U=Sa.get(n,t,i,l),U.ease);break;case 30:n=e.easing;H._computedEasingFunction=_.custom,H._computedCustomEasing=n}var s=H._computedEasingFunction,r=H._computedCustomEasing;return function(e){return _.k=e,_.customEasing=r,s(),_.customEasing=null,_.k}},H.__super__=j,H.prototype=$extend(j.prototype,{__cbOnUpdate:null,__cbOnceUpdate:null,__cbOnOwnerUnbindUpdate:null,__cbOnceOwnerUnbindUpdate:null,emitUpdate:function(e,n){this.willEmitUpdate(e,n);var t=0;if(null!=this.__cbOnUpdate&&(t+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(t+=this.__cbOnceUpdate.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnUpdate)for(var r=0,h=this.__cbOnUpdate.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnUpdate[a],++s):--t}if(null!=this.__cbOnceUpdate){for(var o=null,c=null,r=0,h=this.__cbOnceUpdate.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null,u=this.__cbOnceOwnerUnbindUpdate[a],(this.__cbOnceOwnerUnbindUpdate[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindUpdate[a]),c.push(this.__cbOnceUpdate[a]))}this.__cbOnceOwnerUnbindUpdate=o,this.__cbOnceUpdate=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(t)},onceUpdate:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event update because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdate(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(t)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdate[n])&&s(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdate[n])&&s(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdate[l])&&s()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdate[l])&&s()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&0<this.__cbOnUpdate.length||null!=this.__cbOnceUpdate&&0<this.__cbOnceUpdate.length},__cbOnComplete:null,__cbOnceComplete:null,__cbOnOwnerUnbindComplete:null,__cbOnceOwnerUnbindComplete:null,emitComplete:function(){var e=0;if(null!=this.__cbOnComplete&&(e+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(e+=this.__cbOnceComplete.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnComplete)for(var l=0,s=this.__cbOnComplete.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnComplete[r],++i):--e}if(null!=this.__cbOnceComplete){for(var h=null,a=null,l=0,s=this.__cbOnceComplete.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceComplete[r],this.__cbOnceComplete[r]=null,o=this.__cbOnceOwnerUnbindComplete[r],(this.__cbOnceOwnerUnbindComplete[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindComplete[r]),a.push(this.__cbOnceComplete[r]))}this.__cbOnceOwnerUnbindComplete=h,this.__cbOnceComplete=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(t)},onceComplete:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event complete because owner is destroyed!");var l=function(e){null!=t&&(i.offComplete(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(t)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(s=this.__cbOnOwnerUnbindComplete[n])&&s(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindComplete[n])&&s(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindComplete[l])&&s()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindComplete[l])&&s()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&0<this.__cbOnComplete.length||null!=this.__cbOnceComplete&&0<this.__cbOnceComplete.length},owner:null,easing:null,duration:null,remaining:null,fromValue:null,toValue:null,eager:null,computedEasing:null,customEasing:null,didCallImmediateStart:null,didTickThisFrame:null,value:null,time:null,init:function(){if(this.duration<=0)ke.app._onceImmediate($bind(this,this.immediateComplete));else{var e=this.easing;switch(e._hx_index){case 0:H._computedEasingFunction=_.none;break;case 1:H._computedEasingFunction=_.linear;break;case 2:H._computedEasingFunction=_.backEaseIn;break;case 3:H._computedEasingFunction=_.backEaseInOut;break;case 4:H._computedEasingFunction=_.backEaseOut;break;case 5:H._computedEasingFunction=_.quadEaseIn;break;case 6:H._computedEasingFunction=_.quadEaseInOut;break;case 7:H._computedEasingFunction=_.quadEaseOut;break;case 8:H._computedEasingFunction=_.cubicEaseIn;break;case 9:H._computedEasingFunction=_.cubicEaseInOut;break;case 10:H._computedEasingFunction=_.cubicEaseOut;break;case 11:H._computedEasingFunction=_.quartEaseIn;break;case 12:H._computedEasingFunction=_.quartEaseInOut;break;case 13:H._computedEasingFunction=_.quartEaseOut;break;case 14:H._computedEasingFunction=_.quintEaseIn;break;case 15:H._computedEasingFunction=_.quintEaseInOut;break;case 16:H._computedEasingFunction=_.quintEaseOut;break;case 17:H._computedEasingFunction=_.bounceEaseIn;break;case 18:H._computedEasingFunction=_.bounceEaseInOut;break;case 19:H._computedEasingFunction=_.bounceEaseOut;break;case 20:H._computedEasingFunction=_.elasticEaseIn;break;case 21:H._computedEasingFunction=_.elasticEaseInOut;break;case 22:H._computedEasingFunction=_.elasticEaseOut;break;case 23:H._computedEasingFunction=_.expoEaseIn;break;case 24:H._computedEasingFunction=_.expoEaseInOut;break;case 25:H._computedEasingFunction=_.expoEaseOut;break;case 26:H._computedEasingFunction=_.sineEaseIn;break;case 27:H._computedEasingFunction=_.sineEaseInOut;break;case 28:H._computedEasingFunction=_.sineEaseOut;break;case 29:var n=e.x1,t=e.y1,i=e.x2,l=e.y2;H._computedEasingFunction=_.custom,H._computedCustomEasing=$bind(U=Sa.get(n,t,i,l),U.ease);break;case 30:n=e.easing;H._computedEasingFunction=_.custom,H._computedCustomEasing=n}this.computedEasing=H._computedEasingFunction,this.customEasing=H._computedCustomEasing,H._computedEasingFunction=null,H._computedCustomEasing=null,H._tweens.push(this),this.remaining=this.duration,ke.app._onceImmediate($bind(this,this.immediateStart))}},updateFromTick:function(e){0<=this._lifecycleState&&(this.didTickThisFrame=!0,null!=this.owner&&this.owner._lifecycleState<0?this.destroy():(this.remaining-=e,this.remaining<=0?(this.emitUpdate(this.toValue,this.duration),this.emitComplete(),this.destroy()):(e=this.duration-this.remaining,_.k=e/this.duration,_.k,_.customEasing=this.customEasing,null!=this.computedEasing&&this.computedEasing(),_.customEasing=null,this.emitUpdate(this.fromValue+(this.toValue-this.fromValue)*_.k,e))))},willEmitUpdate:function(e,n){this.value=e,this.time=n},immediateComplete:function(){this.emitUpdate(this.toValue,0),this.emitComplete(),this.destroy()},immediateStart:function(){var e;this.didCallImmediateStart||(this.didCallImmediateStart=!0,this.didTickThisFrame)||(this.eager?(e=ke.app.delta,0<=this._lifecycleState&&(this.didTickThisFrame=!0,null!=this.owner&&this.owner._lifecycleState<0?this.destroy():(this.remaining-=e,this.remaining<=0?(this.emitUpdate(this.toValue,this.duration),this.emitComplete(),this.destroy()):(e=this.duration-this.remaining,_.k=e/this.duration,_.k,_.customEasing=this.customEasing,null!=this.computedEasing&&this.computedEasing(),_.customEasing=null,this.emitUpdate(this.fromValue+(this.toValue-this.fromValue)*_.k,e))))):this.emitUpdate(this.fromValue,0))},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.easing=null,this.owner=null,this.computedEasing=null,this.customEasing=null,he.remove(H._tweens,this),this._lifecycleState=-1,j.prototype.destroy.call(this))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offUpdate(),this.offComplete()},__class__:H}),function(){}),Ai=((E["ceramic._Tween.TweenEasingFunction"]=_).__name__="ceramic._Tween.TweenEasingFunction",_.custom=function(){null!=_.customEasing&&(_.k=_.customEasing(_.k))},_.none=function(){_.k=1<=_.k?1:0},_.linear=function(){},_.backEaseIn=function(){_.k=_.k*_.k*(2.70158*_.k-1.70158)},_.backEaseInOut=function(){var e=1.70158,n=_;(n.k*=2)<1?_.k=_.k*_.k*((1+(e*=1.525))*_.k-e)*.5:(n=_).k=.5*((n.k-=2)*_.k*((1+(e*=1.525))*_.k+e)+2)},_.backEaseOut=function(){_.k=(_.k=_.k-1)*_.k*(2.70158*_.k+1.70158)+1},_.quadEaseIn=function(){_.k*=_.k},_.quadEaseInOut=function(){(_.k*=2)<1?_.k=.5*_.k*_.k:_.k=-.5*((_.k-1)*(_.k-3)-1)},_.quadEaseOut=function(){_.k=-_.k*(_.k-2)},_.cubicEaseIn=function(){_.k=_.k*_.k*_.k},_.cubicEaseInOut=function(){var e;e=(_.k/=.5)<1?.5*_.k*_.k*_.k:.5*((_.k-=2)*_.k*_.k+2),_.k=e},_.cubicEaseOut=function(){_.k=(_.k-1)*(_.k-1)*(_.k-1)+1},_.quartEaseIn=function(){_.k=_.k*_.k*_.k*_.k},_.quartEaseInOut=function(){var e=_;(e.k*=2)<1?_.k=.5*_.k*_.k*_.k*_.k:(e=_).k=-.5*((e.k-=2)*_.k*_.k*_.k-2)},_.quartEaseOut=function(){_.k=-((_.k-1)*(_.k-1)*(_.k-1)*(_.k-1)-1)},_.quintEaseIn=function(){_.k=_.k*_.k*_.k*_.k*_.k},_.quintEaseInOut=function(){var e=_;(e.k*=2)<1?_.k=.5*_.k*_.k*_.k*_.k*_.k:(e=_).k=.5*((e.k-=2)*_.k*_.k*_.k*_.k+2)},_.quintEaseOut=function(){_.k=(_.k-1)*(_.k-1)*(_.k-1)*(_.k-1)*(_.k-1)+1},_.bounceEaseIn=function(){var e=1-_.k,e=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375;_.k=1-e},_.bounceEaseInOut=function(){var e,n;_.k<.5?(e=1-2*_.k,n=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,_.k=.5*(1-n)):(e=2*_.k-1,n=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,_.k=.5*n+.5)},_.bounceEaseOut=function(){var e=_.k,e=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375;_.k=e},_._bounceEaseIn=function(e,n,t,i){e=i-e,i=(e/=i)<.36363636363636365?t*(7.5625*e*e):e<.7272727272727273?t*(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?t*(7.5625*(e-=.8181818181818182)*e+.9375):t*(7.5625*(e-=.9545454545454546)*e+.984375);return t-i+n},_._bounceEaseOut=function(e,n,t,i){i=(e/=i)<.36363636363636365?t*(7.5625*e*e)+n:e<.7272727272727273?t*(7.5625*(e-=.5454545454545454)*e+.75)+n:e<.9090909090909091?t*(7.5625*(e-=.8181818181818182)*e+.9375)+n:t*(7.5625*(e-=.9545454545454546)*e+.984375)+n;return i},_.elasticEaseIn=function(){var e,n;0!=_.k&&1!=_.k&&(n=(e=.1)<1?(e=1,.1):.4/(2*Math.PI)*Math.asin(1/e),_.k=-(e*Math.exp(6.931471805599453*--_.k)*Math.sin((_.k-n)*(2*Math.PI)/.4)))},_.elasticEaseInOut=function(){var e,n,t;0!=_.k&&(2==((t=_).k*=2)?_.k=1:(n=(e=.44999999999999996)/4,_.k<1?(t=_).k=Math.exp(6.931471805599453*--t.k)*Math.sin((_.k-n)*(2*Math.PI)/e)*-.5:(t=_).k=Math.exp(-6.931471805599453*--t.k)*Math.sin((_.k-n)*(2*Math.PI)/e)*.5+1))},_.elasticEaseOut=function(){var e,n;0!=_.k&&1!=_.k&&(n=(e=.1)<1?(e=1,.1):.4/(2*Math.PI)*Math.asin(1/e),_.k=e*Math.exp(-6.931471805599453*_.k)*Math.sin((_.k-n)*(2*Math.PI)/.4)+1)},_.expoEaseIn=function(){_.k=0==_.k?0:Math.exp(6.931471805599453*(_.k-1))},_.expoEaseInOut=function(){0!=_.k&&1!=_.k&&((_.k/=.5)<1?_.k=.5*Math.exp(6.931471805599453*(_.k-1)):_.k=.5*(2-Math.exp(-6.931471805599453*--_.k)))},_.expoEaseOut=function(){_.k=1==_.k?1:1-Math.exp(-6.931471805599453*_.k)},_.sineEaseIn=function(){_.k=1-Math.cos(_.k*(Math.PI/2))},_.sineEaseInOut=function(){_.k=-(Math.cos(Math.PI*_.k)-1)/2},_.sineEaseOut=function(){_.k=Math.sin(_.k*(Math.PI/2))},function(){}),ki=((E["ceramic.Utils"]=Ai).__name__="ceramic.Utils",Ai.realPath=function(e){return e=Dt.isAbsolute(e)||z.startsWith(e,"http://")||z.startsWith(e,"https://")?e:Dt.join([ke.app.settings.assetsPath,e])},Ai.getRtti=function(e){return xt.getRtti(e)},Ai.uniqueId=function(){switch(Ai._nextUniqueIntCursor){case 0:Ai._nextUniqueInt0=(Ai._nextUniqueInt0+1)%2147483647;break;case 1:Ai._nextUniqueInt1=(Ai._nextUniqueInt1+1)%2147483647;break;case 2:Ai._nextUniqueInt2=(Ai._nextUniqueInt2+1)%2147483647;break;case 3:Ai._nextUniqueInt3=(Ai._nextUniqueInt3+1)%2147483647}Ai._nextUniqueIntCursor=(Ai._nextUniqueIntCursor+1)%4;var e,n=Ai._nextUniqueInt0,t=(n=null==n?2147483646*Math.random()|0:n)%62|0,i=n/62|0;e=0<i?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(l=0<(i=n/62|0)?(s=Ai.base62Id(i))+(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(s=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(s)))+(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(l=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(l));var l,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;l=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(s=0<(i=n/62|0)?(r=Ai.base62Id(i))+(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(r)))+(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(s));var s,t=(n=null==(n=Ai._nextUniqueInt1)?2147483646*Math.random()|0:n)%62|0;s=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(r=0<(i=n/62|0)?(h=Ai.base62Id(i))+(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(h)))+(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(r));var r,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;r=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(h=0<(i=n/62|0)?(a=Ai.base62Id(i))+(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(a)))+(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(h));var h,t=(n=null==(n=Ai._nextUniqueInt2)?2147483646*Math.random()|0:n)%62|0;h=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(a=0<(i=n/62|0)?(o=Ai.base62Id(i))+(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(o)))+(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(a));var a,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;a=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(o=0<(i=n/62|0)?(d=Ai.base62Id(i))+(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(d)))+(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(o));var o,c,u,_,d,t=(n=null==(n=Ai._nextUniqueInt3)?2147483646*Math.random()|0:n)%62|0;return d=e+"-"+l+"-"+s+"-"+r+"-"+h+"-"+a+"-"+(o=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(d=0<(i=n/62|0)?(u=Ai.base62Id(i))+(9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(u)))+(u=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(d)))},Ai.randomId=function(e){null==e&&(e=32);for(var n=[];n.length<e;)for(var t,i,l=null,s=(l=null==l?2147483646*Math.random()|0:l)%62|0,l=l/62|0,r=0,h=(t=0<l?(i=(l=null==(l=l)?2147483646*Math.random()|0:l)%62|0,(0<(l=l/62|0)?Ai.base62Id(l)+(9<i?(90<(l=i-10+65)&&(l+=6),String.fromCodePoint(l)):ot.string(i).charAt(0)):(l=9<i?(90<(l=i-10+65)&&(l+=6),String.fromCodePoint(l)):ot.string(i).charAt(0),ot.string(l)))+(9<s?(90<(i=s-10+65)&&(i+=6),String.fromCodePoint(i)):ot.string(s).charAt(0))):(i=9<s?(90<(l=s-10+65)&&(l+=6),String.fromCodePoint(l)):ot.string(s).charAt(0),ot.string(i))).length;r<h;){var a=r++;n.push(t.charAt(a))}return zn.shuffle(n),he.substr(n.join(""),0,e)},Ai.persistentId=function(e,n){null==n&&(n=32),null==e&&(e=0),null==Ai._persistentIds&&(Ai._persistentIds=new $l);var t=Ai._persistentIds.h[e];if(null==t){if(null!=(t=ke.app.backend.io.readString("persistentId_"+e)))return Ai._persistentIds.h[e]=t;t=Ai.randomId(n),ke.app.backend.io.saveString("persistentId_"+e,t)||ke.app.logger.warning("Failed to save persistent id ("+t+") at slot "+e,{fileName:"../../../../ceramic/runtime/src/ceramic/Utils.hx",lineNumber:167,className:"ceramic.Utils",methodName:"persistentId"}),Ai._persistentIds.h[e]=t}return t},Ai.resetPersistentId=function(e){null==e&&(e=0),null!=Ai._persistentIds&&Ai._persistentIds.remove(e),ke.app.backend.io.saveString("persistentId_"+e,null)},Ai.base62Id=function(e){var n,t,i=(e=null==e?2147483646*Math.random()|0:e)%62|0,e=e/62|0;return 0<e?(n=Ai.base62Id(e))+(9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0)):(n=9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0),ot.string(n))},Ai.println=function(e){var n=null;null!=(n=X.electronRunner)?n.consoleLog("[error] "+e):console.log(""+e)},Ai.printStackTrace=function(e){null==e&&(e=!1);var n="",t=null,i=null;try{throw new Error}catch(e){i=e}for(var l=(""+ot.string(i.stack)).split("\n"),s=l.length-1,r=-1!=navigator.platform.indexOf("Win"),t=X.electronRunner;2<=s;){var h=l[s],h=z.ltrim(h);null!=t&&(h=z.replace(h,"http://localhost:"+ot.string(t.serverPort)+"/file:"+(r?"/":""),""),h=z.replace(h,"http://localhost:"+ot.string(t.serverPort)+"/",ot.string(t.appFiles)+"/"));e||(null!=t?t.consoleLog("[error] "+ot.string(h)):console.log(""+ot.string(h))),n=(n+=ot.string(h))+String.fromCodePoint(10),--s}return n},Ai.stackItemToString=function(e){var n=window.sourceMapSupport,t="";switch(e._hx_index){case 0:t="a C function";break;case 1:var i=e.m,l=!1;Ai.RE_MODULE_AT.match(i)&&(s=Ai.RE_MODULE_AT.matched(1),r=Ai.RE_MODULE_AT.matched(2),h=Ai.RE_MODULE_AT.matched(3),t=s,null!=r&&(t+=":"+r),l=!0),l||(t="module "+i);break;case 2:var l=e.s,s=e.file,r=e.line,h=e.column;if(null!=n&&!z.endsWith(s,".hx"))try{var a={source:s,line:r,column:h},o=n.mapSourcePosition(a);null!=o&&(s=o.source,r=o.line,h=o.column)}catch(e){zl.lastError=e}null!=l&&(t=Ai.stackItemToString(l)+" ("),t=(t+=s)+" line "+r,null!=l&&(t+=")");break;case 3:t=(t+=e.classname)+"."+e.method;break;case 4:t=t+"local function #"+e.v}return t},Ai.radToDeg=function(e){return 57.29577951308232*e},Ai.degToRad=function(e){return.017453292519943295*e},Ai.round=function(e,n){if(0<(n=null==n?0:n)){for(var t=1;0<n--;)t*=10;return Math.round(e*t)/t}return Math.round(e)},Ai.hashCode=function(e){var n=0;if(0!=e.length)for(var t=0,i=e.length;t<i;){var l=t++,n=(n<<5)-n+he.cca(e,l);n&=n}return n},Ai.uniformFrequencyList=function(e,n,t){for(var i=[],l=[],s=0,r=e.length;s<r;)l[u=s++]=0;for(s=0,r=n.length;s<r;)l[u=s++]+=n[u];for(s=0,r=t;s<r;){s++;for(var h=0,a=0,o=0,c=e.length;o<c;){var u,_=l[u=o++];a<_&&(h=u,a=_)}i.push(e[h]),--l[h];for(var d=0,b=n.length;d<b;){var g=d++;l[g]+=n[g]}}return i},Ai.upperCaseToCamelCase=function(e,n){for(var t="",i=e.length,l=0,s=n=null==n?!0:n;l<i;){var r=e.charAt(l);"_"==r?s=!0:s?(s=!1,t+=ot.string(r.toUpperCase())):t+=ot.string(r.toLowerCase()),++l}return t},Ai.camelCaseToUpperCase=function(e,n){null==n&&(n=!0);for(var t="",i=e.length,l=0,s=!1;l<i;){var r,h=e.charAt(l),s="."!=h&&Ai.RE_ASCII_CHAR.match(h)?(r=h.toUpperCase(),h=h==r,s&&h&&(t+="_",s=!1),t+=null==r?"null":""+r,!h):(t+="_",!1);++l}for(var a=t;z.endsWith(a,"_");)a=he.substr(a,0,a.length-1);return a},Ai.functionEquals=function(e,n){return e==n},Ai.decodeUriParams=function(e){for(var n=new te,t=e.split("&"),i=0;i<t.length;){var l,s=t[i],r=(++i,s.indexOf("="));-1!=r&&(l=s.substring(0,r),l=decodeURIComponent(l.split("+").join(" ")),s=s.substring(r+1),r=decodeURIComponent(s.split("+").join(" ")),n.h[l]=r)}return n},Ai.sinRatio=function(e){return 1<=e&&(e%=1),.5*(Math.sin(e*Math.PI*2)+1)},Ai.cosRatio=function(e){return 1<=e&&(e%=1),.5*(Math.cos(e*Math.PI*2)+1)},Ai.valueFromInterpolatedKey=function(e,n,t){var i=e.length-1,l=0;if(t<e[0])l=n[0];else if(t>=e[i])l=n[i];else{for(var s=0,r=1;t>e[r];)++s,++r;i=(t-e[s])/(e[r]-e[s]),l=n[s]+(n[r]-n[s])*i}return l},Ai.yFromInterpolatedX=function(e,n){var t=e.length-2,i=0;if(n<e[0])i=e[1];else if(n>=e[t])i=e[1+t];else{for(var l=0,s=2;n>e[s];)l+=2,s+=2;var t=(n-e[l])/(e[s]-e[l]),r=l+1;i=e[r]+(e[s+1]-e[r])*t}return i},Ai.command=function(e,n,t,i){null==n&&(n=[]),i(-1,null,null)},Ai.replaceIdentifier=function(e,n,t){e=z.replace(e,"\n"," \n "),e=" "+(e=z.replace(e,"\r"," \r "))+" ";var i="(\\s|[^a-zA-Z0-9_])",n=new RegExp(i+n.replace(f.escapeRe,"\\$&")+i,"g".split("u").join("")),i="$1"+z.replace(t,"$","$$")+"$2";return e=(e=e.replace(n,i)).substring(1,e.length-1),e=z.replace(e," \r ","\r"),e=z.replace(e," \n ","\n")},Ai.imageTypeFromBytes=function(e){return 255==e.b[0]&&216==e.b[1]&&255==e.b[2]?"jpeg":137==e.b[0]&&80==e.b[1]&&78==e.b[2]&&71==e.b[3]&&13==e.b[4]&&10==e.b[5]&&26==e.b[6]&&10==e.b[7]?"png":null},Ai.lerp=function(e,n,t){return e+(n-e)*t},Ai.isIos=function(){var e;return-1==Ai.isIos_result&&(Ai.isIos_result=0,e=null!=qe.navigator?qe.navigator.userAgent:"",!!window.MSStream||-1==e.indexOf("iPhone")&&-1==e.indexOf("iPad")&&-1==e.indexOf("iPod")||(Ai.isIos_result=1)),0!=Ai.isIos_result},Ai.isAndroid=function(){return-1==Ai.isAndroid_result&&(Ai.isAndroid_result=0,-1!=(null!=qe.navigator?qe.navigator.userAgent:"").toLowerCase().indexOf("android"))&&(Ai.isAndroid_result=1),0!=Ai.isAndroid_result},Ai.sign=function(e){return 0<=e?1:-1},function(){this.times=[],this.positions=[]}),Ii=((E["ceramic.Velocity"]=ki).__name__="ceramic.Velocity",ki.prototype={positions:null,times:null,reset:function(){for(var e=this.times.length;0<e;)this.times.shift(),this.positions.shift(),--e},add:function(e,n){n=mi.now-(n=null==n?0:n);this.positions.push(e),this.times.push(n),this.prune(n-.15)},get:function(){var e,n=mi.now,n=(this.prune(n-.15),this.times.length);return n<2||(e=this.positions[n-1]-this.positions[0],(n=this.times[n-1]-this.times[0])<=0)?0:e/Math.max(.15,n)},prune:function(e){for(var n=this.times.length;0<n&&this.times[0]<=e;)this.times.shift(),this.positions.shift(),--n},toString:function(){return""+this.get()},__class__:ki},function(){a1.call(this),this.set_lateUpdateOrder(7e3)}),Pi=((E["ceramic.ViewSystem"]=Ii).__name__="ceramic.ViewSystem",Ii.__properties__={set_shared:"set_shared",get_shared:"get_shared"},Ii.get_shared=function(){return Ii.lazyShared&&(Ii.lazyShared=!1,Ii.shared=new Ii),Ii.shared},Ii.set_shared=function(e){return Ii.shared=e},Ii.__super__=a1,Ii.prototype=$extend(a1.prototype,{bind:function(){},lateUpdate:function(e){g0._updateViewsLayout(e)},__class__:Ii}),(E["ceramic.VisualTransition"]=Ec).__name__="ceramic.VisualTransition",Ec.__interfaces__=[b0],Ec.transition=function(e,n,t,i){var l=e.component("transition");return null==l&&(l=new Ec,e.component("transition",l)),l._run(n,t,!1,i)},Ec.eagerTransition=function(e,n,t,i){var l=e.component("transition");return null==l&&(l=new Ec,e.component("transition",l)),l._run(n,t,!0,i)},Ec.__super__=j,Ec.prototype=$extend(j.prototype,{entity:null,easing:null,duration:null,anyPropertyChanged:null,xChanged:null,xTween:null,xTarget:null,xStart:null,xEnd:null,yChanged:null,yTween:null,yTarget:null,yStart:null,yEnd:null,depthChanged:null,depthTween:null,depthTarget:null,depthStart:null,depthEnd:null,scaleXChanged:null,scaleXTween:null,scaleXTarget:null,scaleXStart:null,scaleXEnd:null,scaleYChanged:null,scaleYTween:null,scaleYTarget:null,scaleYStart:null,scaleYEnd:null,skewXChanged:null,skewXTween:null,skewXTarget:null,skewXStart:null,skewXEnd:null,skewYChanged:null,skewYTween:null,skewYTarget:null,skewYStart:null,skewYEnd:null,anchorXChanged:null,anchorXTween:null,anchorXTarget:null,anchorXStart:null,anchorXEnd:null,anchorYChanged:null,anchorYTween:null,anchorYTarget:null,anchorYStart:null,anchorYEnd:null,rotationChanged:null,rotationTween:null,rotationTarget:null,rotationStart:null,rotationEnd:null,widthChanged:null,widthTween:null,widthTarget:null,widthStart:null,widthEnd:null,heightChanged:null,heightTween:null,heightTarget:null,heightStart:null,heightEnd:null,colorChanged:null,colorTween:null,colorTarget:null,colorStart:null,colorEnd:null,alphaChanged:null,alphaTween:null,alphaTarget:null,alphaStart:null,alphaEnd:null,translateXChanged:null,translateXTween:null,translateXTarget:null,translateXStart:null,translateXEnd:null,translateYChanged:null,translateYTween:null,translateYTarget:null,translateYStart:null,translateYEnd:null,transformChanged:null,transformAssigned:null,transformAssignedInstance:null,transformTween:null,transformTarget:null,transformStart:null,transformEnd:null,transformEndToNull:null,transformInTransition:null,offsetXChanged:null,offsetXTween:null,offsetXTarget:null,offsetXStart:null,offsetXEnd:null,offsetYChanged:null,offsetYTween:null,offsetYTarget:null,offsetYStart:null,offsetYEnd:null,viewWidthChanged:null,viewWidthTween:null,viewWidthTarget:null,viewWidthStart:null,viewWidthEnd:null,viewHeightChanged:null,viewHeightTween:null,viewHeightTarget:null,viewHeightStart:null,viewHeightEnd:null,isView:null,bindAsComponent:function(){this.isView=this.entity instanceof g0},run:function(e,n,t){return this._run(e,n,!1,t)},eagerRun:function(e,n,t){return this._run(e,n,!0,t)},_run:function(e,t,i,l){var s,r,d=this,b=(null==e&&(e=this.easing),-1==t&&(t=this.duration),this.anyPropertyChanged=!1,this.xChanged=!1,this.yChanged=!1,this.depthChanged=!1,this.scaleXChanged=!1,this.scaleYChanged=!1,this.translateXChanged=!1,this.translateYChanged=!1,this.skewXChanged=!1,this.skewYChanged=!1,this.anchorXChanged=!1,this.anchorYChanged=!1,this.rotationChanged=!1,this.widthChanged=!1,this.heightChanged=!1,this.colorChanged=!1,this.alphaChanged=!1,this.transformAssigned=!1,this.transformAssignedInstance=null,this.transformChanged=!1,this.offsetXChanged=!1,this.offsetYChanged=!1,this.viewWidthChanged=!1,this.viewHeightChanged=!1,this.isView?this.entity:null),h=this.entity.x,a=this.entity.y,o=this.entity.depth,c=this.entity.scaleX,u=this.entity.scaleY,_=this.entity,g=null!=_.transform?_.transform.tx:0,O=null!=(_=this.entity).transform?_.transform.ty:0,f=this.entity.skewX,p=this.entity.skewY,C=this.entity.anchorX,v=this.entity.anchorY,w=this.entity.rotation,y=this.entity.get_width(),U=this.entity.get_height(),D=-1,T=!1,x=(null!=this.entity.asQuad?(D=this.entity.asQuad.color,T=!0):null!=this.entity.asMesh&&(D=this.entity.asMesh.get_color(),T=!0),this.entity.alpha),S=null!=this.entity.transform?(s=this.entity.transform,(_=Ec._currentTransform).a=s.a,_.b=s.b,_.c=s.c,_.d=s.d,_.tx=s.tx,_.ty=s.ty,_.changedDirty=!0,(_=Ec._currentTransform)._aPrev=_.a,_._bPrev=_.b,_._cPrev=_.c,_._dPrev=_.d,_._txPrev=_.tx,_._tyPrev=_.ty,_.changed=!1,Ec._currentTransform.changedDirty=!1,Ec._currentTransform):null,A=this.isView?b.offsetX:0,k=this.isView?b.offsetY:0,I=this.isView?b.viewWidth:0,P=this.isView?b.viewHeight:0,F=(this.xTarget=h,this.yTarget=a,this.depthTarget=o,this.scaleXTarget=c,this.scaleYTarget=u,this.translateXTarget=g,this.translateYTarget=O,this.skewXTarget=f,this.skewYTarget=p,this.anchorXTarget=C,this.anchorYTarget=v,this.rotationTarget=w,this.widthTarget=y,this.heightTarget=U,this.colorTarget=D,this.alphaTarget=x,r=null!=S?((_=Ec._targetTransform).a=S.a,_.b=S.b,_.c=S.c,_.d=S.d,_.tx=S.tx,_.ty=S.ty,_.changedDirty=!0,(_=Ec._targetTransform)._aPrev=_.a,_._bPrev=_.b,_._cPrev=_.c,_._dPrev=_.d,_._txPrev=_.tx,_._tyPrev=_.ty,_.changed=!1,Ec._targetTransform.changedDirty=!1,Ec._targetTransform):null,this.transformTarget=r,this.offsetXTarget=A,this.offsetYTarget=k,this.viewWidthTarget=I,this.viewHeightTarget=P,l(this),this.transformChanged||null==this.transformTarget||(this.transformTarget.changedDirty&&(_=this.transformTarget).changedDirty&&(_.changed=_.tx!=_._txPrev||_.ty!=_._tyPrev||_.a!=_._aPrev||_.b!=_._bPrev||_.c!=_._cPrev||_.d!=_._dPrev,_.changedDirty=!1),this.transformTarget.changed&&(this.transformChanged=!0,this.anyPropertyChanged=!0)),null);return this.anyPropertyChanged?(r=function(e,t){var i,l,s,r,h,a,o,c,u,_;d.xTween==F&&d.entity.set_x(d.xStart+(d.xEnd-d.xStart)*e),d.yTween==F&&d.entity.set_y(d.yStart+(d.yEnd-d.yStart)*e),d.depthTween==F&&d.entity.set_depth(d.depthStart+(d.depthEnd-d.depthStart)*e),d.scaleXTween==F&&d.entity.set_scaleX(d.scaleXStart+(d.scaleXEnd-d.scaleXStart)*e),d.scaleYTween==F&&d.entity.set_scaleY(d.scaleYStart+(d.scaleYEnd-d.scaleYStart)*e),d.translateXTween==F&&(i=d.entity,0==(r=d.translateXStart+(d.translateXEnd-d.translateXStart)*e)?null!=i.transform&&0!=i.transform.tx&&(i.transform.tx=0,i.transform.changedDirty=!0):(null==i.transform&&i.set_transform(new n),i.transform.tx!=r&&(i.transform.tx=r,i.transform.changedDirty=!0))),d.translateYTween==F&&(i=d.entity,0==(r=d.translateYStart+(d.translateYEnd-d.translateYStart)*e)?null!=i.transform&&0!=i.transform.ty&&(i.transform.ty=0,i.transform.changedDirty=!0):(null==i.transform&&i.set_transform(new n),i.transform.ty!=r&&(i.transform.ty=r,i.transform.changedDirty=!0))),d.skewXTween==F&&d.entity.set_skewX(d.skewXStart+(d.skewXEnd-d.skewXStart)*e),d.skewYTween==F&&d.entity.set_skewY(d.skewYStart+(d.skewYEnd-d.skewYStart)*e),d.anchorXTween==F&&d.entity.set_anchorX(d.anchorXStart+(d.anchorXEnd-d.anchorXStart)*e),d.anchorYTween==F&&d.entity.set_anchorY(d.anchorYStart+(d.anchorYEnd-d.anchorYStart)*e),d.rotationTween==F&&d.entity.set_rotation(d.rotationStart+(d.rotationEnd-d.rotationStart)*e),d.widthTween==F&&d.entity.set_width(d.widthStart+(d.widthEnd-d.widthStart)*e),d.heightTween==F&&d.entity.set_height(d.heightStart+(d.heightEnd-d.heightStart)*e),d.colorTween==F&&(null!=d.entity.asQuad?(l=d.colorStart,h=(((u=d.colorEnd)>>16&255)-(l>>16&255))*(o=null==(o=e)?.5:o)+(l>>16&255)|0,d.entity.asQuad.color=((0&65535|(255<h?255:h<0?0:h)<<16)&16711935|(255<(_=((u>>8&255)-(l>>8&255))*o+(l>>8&255)|0)?255:_<0?0:_)<<8)&16776960|(255<(s=((255&u)-(255&l))*o+(255&l)|0)?255:s<0?0:s)):null!=d.entity.asMesh?(l=d.colorStart,h=(((u=d.colorEnd)>>16&255)-(l>>16&255))*(o=null==(o=e)?.5:o)+(l>>16&255)|0,d.entity.asMesh.set_color(((0&65535|(255<h?255:h<0?0:h)<<16)&16711935|(255<(_=((u>>8&255)-(l>>8&255))*o+(l>>8&255)|0)?255:_<0?0:_)<<8)&16776960|(255<(s=((255&u)-(255&l))*o+(255&l)|0)?255:s<0?0:s))):(l=d.colorStart,h=(((u=d.colorEnd)>>16&255)-(l>>16&255))*(o=null==(o=e)?.5:o)+(l>>16&255)|0,L.setProperty(d.entity,"color",((0&65535|(255<h?255:h<0?0:h)<<16)&16711935|(255<(_=((u>>8&255)-(l>>8&255))*o+(l>>8&255)|0)?255:_<0?0:_)<<8)&16776960|(255<(s=((255&u)-(255&l))*o+(255&l)|0)?255:s<0?0:s)))),d.alphaTween==F&&d.entity.set_alpha(d.alphaStart+(d.alphaEnd-d.alphaStart)*e),d.transformTween==F&&(1==e&&d.transformAssigned?d.entity.set_transform(d.transformAssignedInstance):(d.transformAssigned&&0==e&&d.entity.set_transform(null),null==d.entity.transform&&(null==d.transformInTransition&&(r=0<Ti.availableTransforms.length?Ti.availableTransforms.pop():new n,d.transformInTransition=r),d.entity.set_transform(d.transformInTransition)),h=null!=d.transformStart?d.transformStart:Ec._identityTransform,_=null!=d.transformEnd?d.transformEnd:Ec._identityTransform,i=d.entity.transform,0==e?(i.a=h.a,i.b=h.b,i.c=h.c,i.d=h.d,i.tx=h.tx,i.ty=h.ty):1==e?(i.a=_.a,i.b=_.b,i.c=_.c,i.d=_.d,i.tx=_.tx,i.ty=_.ty):((u=null==(u=n._decomposed1)?new m:u).pivotX=0,u.pivotY=0,u.skewX=-Math.atan2(-h.c,h.d),u.skewY=Math.atan2(h.b,h.a),Math.abs(u.skewX+u.skewY)<1e-5&&(u.rotation=u.skewY,h.a<0&&0<=h.d&&(u.rotation+=u.rotation<=0?Math.PI:-Math.PI),u.skewX=0,u.skewY=0),u.scaleX=Math.sqrt(h.a*h.a+h.b*h.b),u.scaleY=Math.sqrt(h.c*h.c+h.d*h.d),u.x=h.tx,u.y=h.ty,(u=null==(u=n._decomposed2)?new m:u).pivotX=0,u.pivotY=0,u.skewX=-Math.atan2(-_.c,_.d),u.skewY=Math.atan2(_.b,_.a),Math.abs(u.skewX+u.skewY)<1e-5&&(u.rotation=u.skewY,_.a<0&&0<=_.d&&(u.rotation+=u.rotation<=0?Math.PI:-Math.PI),u.skewX=0,u.skewY=0),u.scaleX=Math.sqrt(_.a*_.a+_.b*_.b),u.scaleY=Math.sqrt(_.c*_.c+_.d*_.d),u.x=_.tx,u.y=_.ty,n._decomposed1.pivotX+=(n._decomposed2.pivotX-n._decomposed1.pivotX)*e,n._decomposed1.pivotY+=(n._decomposed2.pivotY-n._decomposed1.pivotY)*e,n._decomposed1.rotation+=(n._decomposed2.rotation-n._decomposed1.rotation)*e,n._decomposed1.scaleX+=(n._decomposed2.scaleX-n._decomposed1.scaleX)*e,n._decomposed1.scaleY+=(n._decomposed2.scaleY-n._decomposed1.scaleY)*e,n._decomposed1.skewX+=(n._decomposed2.skewX-n._decomposed1.skewX)*e,n._decomposed1.skewY+=(n._decomposed2.skewY-n._decomposed1.skewY)*e,n._decomposed1.x+=(n._decomposed2.x-n._decomposed1.x)*e,n._decomposed1.y+=(n._decomposed2.y-n._decomposed1.y)*e,l=(o=n._decomposed1).x,s=o.y,r=o.scaleX,h=o.scaleY,u=o.rotation,_=o.skewX,c=o.skewY,a=o.pivotX,null==(o=o.pivotY)&&(o=0),null==a&&(a=0),null==c&&(c=0),null==_&&(_=0),null==u&&(u=0),null==h&&(h=1),null==r&&(r=1),null==s&&(s=0),null==l&&(l=0),i.a=1,i.b=0,i.c=0,i.d=1,i.tx=0,i.ty=0,i.changedDirty=!0,i.tx+=-a,i.ty+=-o,i.changedDirty=!0,0!=_&&(i.c=_*Math.PI/180),0!=c&&(i.b=c*Math.PI/180),0!=u&&(_=u*Math.PI/180,c=Math.cos(_),u=Math.sin(_),_=i.a*c-i.b*u,i.b=i.a*u+i.b*c,i.a=_,_=i.c*c-i.d*u,i.d=i.c*u+i.d*c,i.c=_,_=i.tx*c-i.ty*u,i.ty=i.tx*u+i.ty*c,i.tx=_,i.changedDirty=!0),i.tx+=a,i.ty+=o,i.changedDirty=!0,1==r&&1==h||(i.a*=r,i.b*=h,i.c*=r,i.d*=h,i.tx*=r,i.ty*=h,i.changedDirty=!0),i.tx+=l-a*r,i.ty+=s-o*h),i.changedDirty=!0)),d.offsetXTween==F&&b.set_offsetX(d.offsetXStart+(d.offsetXEnd-d.offsetXStart)*e),d.offsetYTween==F&&b.set_offsetY(d.offsetYStart+(d.offsetYEnd-d.offsetYStart)*e),d.viewWidthTween==F&&b.set_viewWidth(d.viewWidthStart+(d.viewWidthEnd-d.viewWidthStart)*e),d.viewHeightTween==F&&b.set_viewHeight(d.viewHeightStart+(d.viewHeightEnd-d.viewHeightStart)*e)},F=i?this.entity.eagerTween(e,t,0,1,r):this.entity.tween(e,t,0,1,r),r=null,F.onDestroy(this,function(e){d.xTween==e&&(d.xTween=null),d.yTween==e&&(d.yTween=null),d.depthTween==e&&(d.depthTween=null),d.scaleXTween==e&&(d.scaleXTween=null),d.scaleYTween==e&&(d.scaleYTween=null),d.translateXTween==e&&(d.translateXTween=null),d.translateYTween==e&&(d.translateYTween=null),d.skewXTween==e&&(d.skewXTween=null),d.skewYTween==e&&(d.skewYTween=null),d.anchorXTween==e&&(d.anchorXTween=null),d.anchorYTween==e&&(d.anchorYTween=null),d.rotationTween==e&&(d.rotationTween=null),d.widthTween==e&&(d.widthTween=null),d.heightTween==e&&(d.heightTween=null),d.colorTween==e&&(d.colorTween=null),d.alphaTween==e&&(d.alphaTween=null),d.transformTween==e&&(d.transformTween=null),d.offsetXTween==e&&(d.offsetXTween=null),d.offsetYTween==e&&(d.offsetYTween=null),d.viewWidthTween==e&&(d.viewWidthTween=null),d.viewHeightTween==e&&(d.viewHeightTween=null)}),this.xChanged&&(this.xTween=F,this.xStart=h,this.xEnd=this.xTarget),this.yChanged&&(this.yTween=F,this.yStart=a,this.yEnd=this.yTarget),this.depthChanged&&(this.depthTween=F,this.depthStart=o,this.depthEnd=this.depthTarget),this.scaleXChanged&&(this.scaleXTween=F,this.scaleXStart=c,this.scaleXEnd=this.scaleXTarget),this.scaleYChanged&&(this.scaleYTween=F,this.scaleYStart=u,this.scaleYEnd=this.scaleYTarget),this.translateXChanged&&(this.translateXTween=F,this.translateXStart=g,this.translateXEnd=this.translateXTarget),this.translateYChanged&&(this.translateYTween=F,this.translateYStart=O,this.translateYEnd=this.translateYTarget),this.skewXChanged&&(this.skewXTween=F,this.skewXStart=f,this.skewXEnd=this.skewXTarget),this.skewYChanged&&(this.skewYTween=F,this.skewYStart=p,this.skewYEnd=this.skewYTarget),this.anchorXChanged&&(this.anchorXTween=F,this.anchorXStart=C,this.anchorXEnd=this.anchorXTarget),this.anchorYChanged&&(this.anchorYTween=F,this.anchorYStart=v,this.anchorYEnd=this.anchorYTarget),this.rotationChanged&&(this.rotationTween=F,this.rotationStart=_0.clampDegrees(w),this.rotationEnd=_0.clampDegrees(this.rotationTarget),180<(l=this.rotationEnd-this.rotationStart)?this.rotationEnd-=360:l<-180&&(this.rotationEnd+=360)),this.widthChanged&&(this.widthTween=F,this.widthStart=y,this.widthEnd=this.widthTarget),this.heightChanged&&(this.heightTween=F,this.heightStart=U,this.heightEnd=this.heightTarget),this.colorChanged&&(this.colorTween=F,T||(T=!0,D=L.getProperty(this.entity,"color")),this.colorStart=D,this.colorEnd=this.colorTarget),this.alphaChanged&&(this.alphaTween=F,this.alphaStart=x,this.alphaEnd=this.alphaTarget),this.transformChanged&&(this.transformTween=F,null!=S?(null==this.transformStart&&(this.transformStart=0<Ti.availableTransforms.length?Ti.availableTransforms.pop():new n),(_=this.transformStart).a=S.a,_.b=S.b,_.c=S.c,_.d=S.d,_.tx=S.tx,_.ty=S.ty,_.changedDirty=!0):null!=this.transformStart&&((_=this.transformStart).a=1,_.b=0,_.c=0,_.d=1,_.tx=0,_.ty=0,_.changedDirty=!0),null!=this.transformTarget?(null==this.transformEnd&&(this.transformEnd=0<Ti.availableTransforms.length?Ti.availableTransforms.pop():new n),_=this.transformEnd,s=this.transformTarget,_.a=s.a,_.b=s.b,_.c=s.c,_.d=s.d,_.tx=s.tx,_.ty=s.ty,_.changedDirty=!0,this.transformEndToNull=!1):null!=this.transformEnd&&((_=this.transformEnd).a=1,_.b=0,_.c=0,_.d=1,_.tx=0,_.ty=0,_.changedDirty=!0,this.transformEndToNull=!0)),this.offsetXChanged&&(this.offsetXTween=F,this.offsetXStart=A,this.offsetXEnd=this.offsetXTarget),this.offsetYChanged&&(this.offsetYTween=F,this.offsetYStart=k,this.offsetYEnd=this.offsetYTarget),this.viewWidthChanged&&(this.viewWidthTween=F,this.viewWidthStart=I,this.viewWidthEnd=this.viewWidthTarget),this.viewHeightChanged&&(this.viewHeightTween=F,this.viewHeightStart=P,this.viewHeightEnd=this.viewHeightTarget)):F=i?this.entity.eagerTween(e,t,0,1,null):this.entity.tween(e,t,0,1,null),F},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.transformInTransition&&(Ti.recycle(this.transformInTransition),this.transformInTransition=null),null!=this.transformStart&&(Ti.recycle(this.transformStart),this.transformStart=null),null!=this.transformEnd&&(Ti.recycle(this.transformEnd),this.transformEnd=null),this._lifecycleState=-1,j.prototype.destroy.call(this))},setEntity:function(e){this.entity=e instanceof q?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:Ec}),{}),Fi=(Pi.__properties__={set_viewHeight:"set_viewHeight",get_viewHeight:"get_viewHeight",set_viewWidth:"set_viewWidth",get_viewWidth:"get_viewWidth",set_offsetY:"set_offsetY",get_offsetY:"get_offsetY",set_offsetX:"set_offsetX",get_offsetX:"get_offsetX",set_transform:"set_transform",get_transform:"get_transform",set_alpha:"set_alpha",get_alpha:"get_alpha",set_color:"set_color",get_color:"get_color",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_rotation:"set_rotation",get_rotation:"get_rotation",set_anchorY:"set_anchorY",get_anchorY:"get_anchorY",set_anchorX:"set_anchorX",get_anchorX:"get_anchorX",set_skewY:"set_skewY",get_skewY:"get_skewY",set_skewX:"set_skewX",get_skewX:"get_skewX",set_translateY:"set_translateY",get_translateY:"get_translateY",set_translateX:"set_translateX",get_translateX:"get_translateX",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_depth:"set_depth",get_depth:"get_depth",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"},Pi.get_x=function(e){return e.xTarget},Pi.set_x=function(e,n){return null!=e.xTween&&n==e.xEnd||(e.anyPropertyChanged=!0,e.xChanged=!0),e.xTarget=n},Pi.get_y=function(e){return e.yTarget},Pi.set_y=function(e,n){return null!=e.yTween&&n==e.yEnd||(e.anyPropertyChanged=!0,e.yChanged=!0),e.yTarget=n},Pi.pos=function(e,n,t){null!=e.xTween&&n==e.xEnd||(e.anyPropertyChanged=!0,e.xChanged=!0),e.xTarget=n,null!=e.yTween&&t==e.yEnd||(e.anyPropertyChanged=!0,e.yChanged=!0),e.yTarget=t},Pi.get_depth=function(e){return e.depthTarget},Pi.set_depth=function(e,n){return null!=e.depthTween&&n==e.depthEnd||(e.anyPropertyChanged=!0,e.depthChanged=!0),e.depthTarget=n},Pi.get_scaleX=function(e){return e.scaleXTarget},Pi.set_scaleX=function(e,n){return null!=e.scaleXTween&&n==e.scaleXEnd||(e.anyPropertyChanged=!0,e.scaleXChanged=!0),e.scaleXTarget=n},Pi.get_scaleY=function(e){return e.scaleYTarget},Pi.set_scaleY=function(e,n){return null!=e.scaleYTween&&n==e.scaleYEnd||(e.anyPropertyChanged=!0,e.scaleYChanged=!0),e.scaleYTarget=n},Pi.scale=function(e,n,t){null==t&&(t=-1),null!=e.scaleXTween&&n==e.scaleXEnd||(e.anyPropertyChanged=!0,e.scaleXChanged=!0),e.scaleXTarget=n;t=-1!=t?t:n;null!=e.scaleYTween&&t==e.scaleYEnd||(e.anyPropertyChanged=!0,e.scaleYChanged=!0),e.scaleYTarget=t},Pi.get_translateX=function(e){return e.translateXTarget},Pi.set_translateX=function(e,n){return null!=e.translateXTween&&n==e.translateXEnd||(e.anyPropertyChanged=!0,e.translateXChanged=!0),e.translateXTarget=n},Pi.get_translateY=function(e){return e.translateYTarget},Pi.set_translateY=function(e,n){return null!=e.translateYTween&&n==e.translateYEnd||(e.anyPropertyChanged=!0,e.translateYChanged=!0),e.translateYTarget=n},Pi.translate=function(e,n,t){null==t&&(t=-1),null!=e.translateXTween&&n==e.translateXEnd||(e.anyPropertyChanged=!0,e.translateXChanged=!0),e.translateXTarget=n;t=-1!=t?t:n;null!=e.translateYTween&&t==e.translateYEnd||(e.anyPropertyChanged=!0,e.translateYChanged=!0),e.translateYTarget=t},Pi.get_skewX=function(e){return e.skewXTarget},Pi.set_skewX=function(e,n){return null!=e.skewXTween&&n==e.skewXEnd||(e.anyPropertyChanged=!0,e.skewXChanged=!0),e.skewXTarget=n},Pi.get_skewY=function(e){return e.skewYTarget},Pi.set_skewY=function(e,n){return null!=e.skewYTween&&n==e.skewYEnd||(e.anyPropertyChanged=!0,e.skewYChanged=!0),e.skewYTarget=n},Pi.skew=function(e,n,t){null!=e.skewXTween&&n==e.skewXEnd||(e.anyPropertyChanged=!0,e.skewXChanged=!0),e.skewXTarget=n,null!=e.skewYTween&&t==e.skewYEnd||(e.anyPropertyChanged=!0,e.skewYChanged=!0),e.skewYTarget=t},Pi.get_anchorX=function(e){return e.anchorXTarget},Pi.set_anchorX=function(e,n){return null!=e.anchorXTween&&n==e.anchorXEnd||(e.anyPropertyChanged=!0,e.anchorXChanged=!0),e.anchorXTarget=n},Pi.get_anchorY=function(e){return e.anchorYTarget},Pi.set_anchorY=function(e,n){return null!=e.anchorYTween&&n==e.anchorYEnd||(e.anyPropertyChanged=!0,e.anchorYChanged=!0),e.anchorYTarget=n},Pi.anchor=function(e,n,t){null!=e.anchorXTween&&n==e.anchorXEnd||(e.anyPropertyChanged=!0,e.anchorXChanged=!0),e.anchorXTarget=n,null!=e.anchorYTween&&t==e.anchorYEnd||(e.anyPropertyChanged=!0,e.anchorYChanged=!0),e.anchorYTarget=t},Pi.get_rotation=function(e){return e.rotationTarget},Pi.set_rotation=function(e,n){return null!=e.rotationTween&&n==e.rotationEnd||(e.anyPropertyChanged=!0,e.rotationChanged=!0),e.rotationTarget=n},Pi.get_width=function(e){return e.widthTarget},Pi.set_width=function(e,n){return null!=e.widthTween&&n==e.widthEnd||(e.anyPropertyChanged=!0,e.widthChanged=!0),e.widthTarget=n},Pi.get_height=function(e){return e.heightTarget},Pi.set_height=function(e,n){return null!=e.heightTween&&n==e.heightEnd||(e.anyPropertyChanged=!0,e.heightChanged=!0),e.heightTarget=n},Pi.size=function(e,n,t){null!=e.widthTween&&n==e.widthEnd||(e.anyPropertyChanged=!0,e.widthChanged=!0),e.widthTarget=n,null!=e.heightTween&&t==e.heightEnd||(e.anyPropertyChanged=!0,e.heightChanged=!0),e.heightTarget=t},Pi.get_color=function(e){return e.colorTarget},Pi.set_color=function(e,n){return null!=e.colorTween&&n==e.colorEnd||(e.anyPropertyChanged=!0,e.colorChanged=!0),e.colorTarget=n},Pi.get_alpha=function(e){return e.alphaTarget},Pi.set_alpha=function(e,n){return null!=e.alphaTween&&n==e.alphaEnd||(e.anyPropertyChanged=!0,e.alphaChanged=!0),e.alphaTarget=n},Pi.get_transform=function(e){return e.transformTarget},Pi.set_transform=function(e,n){return e.anyPropertyChanged=!0,e.transformChanged=!0,e.transformAssigned=!0,e.transformAssignedInstance=n,e.transformTarget=n},Pi.get_offsetX=function(e){return e.offsetXTarget},Pi.set_offsetX=function(e,n){return null!=e.offsetXTween&&n==e.offsetXEnd||(e.anyPropertyChanged=!0,e.offsetXChanged=!0),e.offsetXTarget=n},Pi.get_offsetY=function(e){return e.offsetYTarget},Pi.set_offsetY=function(e,n){return null!=e.offsetYTween&&n==e.offsetYEnd||(e.anyPropertyChanged=!0,e.offsetYChanged=!0),e.offsetYTarget=n},Pi.offset=function(e,n,t){null!=e.offsetXTween&&n==e.offsetXEnd||(e.anyPropertyChanged=!0,e.offsetXChanged=!0),e.offsetXTarget=n,null!=e.offsetYTween&&t==e.offsetYEnd||(e.anyPropertyChanged=!0,e.offsetYChanged=!0),e.offsetYTarget=t},Pi.get_viewWidth=function(e){return e.viewWidthTarget},Pi.set_viewWidth=function(e,n){return null!=e.viewWidthTween&&n==e.viewWidthEnd||(e.anyPropertyChanged=!0,e.viewWidthChanged=!0),e.viewWidthTarget=n},Pi.get_viewHeight=function(e){return e.viewHeightTarget},Pi.set_viewHeight=function(e,n){return null!=e.viewHeightTween&&n==e.viewHeightEnd||(e.anyPropertyChanged=!0,e.viewHeightChanged=!0),e.viewHeightTarget=n},Pi.viewSize=function(e,n,t){null!=e.viewWidthTween&&n==e.viewWidthEnd||(e.anyPropertyChanged=!0,e.viewWidthChanged=!0),e.viewWidthTarget=n,null!=e.viewHeightTween&&t==e.viewHeightEnd||(e.anyPropertyChanged=!0,e.viewHeightChanged=!0),e.viewHeightTarget=t},function(e){this.completionCallback=e,this.pending=0,this.complete=!1}),Bi=((E["ceramic.WaitCallbacks"]=Fi).__name__="ceramic.WaitCallbacks",Fi.prototype={completionCallback:null,pending:null,complete:null,callback:function(){var e=this;if(this.complete)throw ct.thrown("Cannot register new callbacks after completion");this.pending++;var n=!1;return function(){n||(n=!0,e.pending--,0!=e.pending)||e.complete||(e.complete=!0,e.completionCallback())}},__class__:Fi},function(e){null==e&&(e=1),this.chokidarWatchers=null,this.chokidarUpdatedFilesByWatchedDirectory=null,this.startingToWatchDirectories=null,this.watchedDirectories=null,j.call(this),Bi.didTryRequireChokidar||(Bi.didTryRequireChokidar=!0,Bi.fs=xt.nodeRequire("fs"),null!=Bi.fs&&(Bi.chokidar=xt.nodeRequire("chokidar"))),this.updateInterval=e,mi.schedule(this,e,$bind(this,this.tick),e)}),Z=((E["ceramic.WatchDirectory"]=Bi).__name__="ceramic.WatchDirectory",Bi.__super__=j,Bi.prototype=$extend(j.prototype,{__cbOnDirectoryChange:null,__cbOnceDirectoryChange:null,__cbOnOwnerUnbindDirectoryChange:null,__cbOnceOwnerUnbindDirectoryChange:null,emitDirectoryChange:function(e,n,t){var i=0;if(null!=this.__cbOnDirectoryChange&&(i+=this.__cbOnDirectoryChange.length),null!=this.__cbOnceDirectoryChange&&(i+=this.__cbOnceDirectoryChange.length),0<i){var l=C.pool(i),s=l.get(),r=0;if(null!=this.__cbOnDirectoryChange)for(var h=0,a=this.__cbOnDirectoryChange.length;h<a;){var o=h++;!0?(s.vector[r]=this.__cbOnDirectoryChange[o],++r):--i}if(null!=this.__cbOnceDirectoryChange){for(var c=null,u=null,h=0,a=this.__cbOnceDirectoryChange.length;h<a;){var _,o=h++;!0?(s.vector[r]=this.__cbOnceDirectoryChange[o],this.__cbOnceDirectoryChange[o]=null,_=this.__cbOnceOwnerUnbindDirectoryChange[o],(this.__cbOnceOwnerUnbindDirectoryChange[o]=null)!=_&&_(),++r):(--i,null==c&&(c=[],u=[],0),c.push(this.__cbOnceOwnerUnbindDirectoryChange[o]),u.push(this.__cbOnceDirectoryChange[o]))}this.__cbOnceOwnerUnbindDirectoryChange=c,this.__cbOnceDirectoryChange=u}for(h=0,a=i;h<a;){r=h++;(0,s.vector[r])(e,n,t)}l.release(s)}},onDirectoryChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event directoryChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDirectoryChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDirectoryChange&&(this.__cbOnOwnerUnbindDirectoryChange=[]),this.__cbOnOwnerUnbindDirectoryChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDirectoryChange&&(this.__cbOnOwnerUnbindDirectoryChange=[]),this.__cbOnOwnerUnbindDirectoryChange.push(null);null==this.__cbOnDirectoryChange&&(this.__cbOnDirectoryChange=[]),this.__cbOnDirectoryChange.push(t)},onceDirectoryChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event directoryChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDirectoryChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDirectoryChange&&(this.__cbOnceOwnerUnbindDirectoryChange=[]),this.__cbOnceOwnerUnbindDirectoryChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDirectoryChange&&(this.__cbOnceOwnerUnbindDirectoryChange=[]),this.__cbOnceOwnerUnbindDirectoryChange.push(null);null==this.__cbOnceDirectoryChange&&(this.__cbOnceDirectoryChange=[]),this.__cbOnceDirectoryChange.push(t)},offDirectoryChange:function(e){if(null!=e){var n;null!=this.__cbOnDirectoryChange&&-1!=(n=this.__cbOnDirectoryChange.indexOf(e))&&(this.__cbOnDirectoryChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDirectoryChange[n])&&s(),this.__cbOnOwnerUnbindDirectoryChange.splice(n,1)),null!=this.__cbOnceDirectoryChange&&-1!=(n=this.__cbOnceDirectoryChange.indexOf(e))&&(this.__cbOnceDirectoryChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDirectoryChange[n])&&s(),this.__cbOnceOwnerUnbindDirectoryChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDirectoryChange){for(var t=0,i=this.__cbOnOwnerUnbindDirectoryChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDirectoryChange[l])&&s()}this.__cbOnOwnerUnbindDirectoryChange=null}if(null!=this.__cbOnceOwnerUnbindDirectoryChange){for(t=0,i=this.__cbOnceOwnerUnbindDirectoryChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDirectoryChange[l])&&s()}this.__cbOnceOwnerUnbindDirectoryChange=null}this.__cbOnDirectoryChange=null,this.__cbOnceDirectoryChange=null}},listensDirectoryChange:function(){return null!=this.__cbOnDirectoryChange&&0<this.__cbOnDirectoryChange.length||null!=this.__cbOnceDirectoryChange&&0<this.__cbOnceDirectoryChange.length},updateInterval:null,watchedDirectories:null,startingToWatchDirectories:null,chokidarUpdatedFilesByWatchedDirectory:null,chokidarWatchers:null,watchDirectory:function(t){var i=this;null==this.watchedDirectories&&(this.watchedDirectories=new te),null==this.startingToWatchDirectories&&(this.startingToWatchDirectories=new te),this.startingToWatchDirectories.h[t]=!0,Ft.runInBackground(function(){var n=i.computeFilesModificationTime(t);Ft.runInMain(function(){var e;Object.prototype.hasOwnProperty.call(i.startingToWatchDirectories.h,t)&&(e=i.startingToWatchDirectories,Object.prototype.hasOwnProperty.call(e.h,t)&&delete e.h[t],i.watchedDirectories.h[t]=n,null!=Bi.chokidar)&&(null==i.chokidarUpdatedFilesByWatchedDirectory&&(i.chokidarUpdatedFilesByWatchedDirectory=new te),i.chokidarUpdatedFilesByWatchedDirectory.h[t]=[],i.watchWithChokidar(t))})})},watchWithChokidar:function(t){var i=this,e=Bi.chokidar.watch(".",{ignoreInitial:!0,disableGlobbing:!0,cwd:t});null==this.chokidarWatchers&&(this.chokidarWatchers=new te),Object.prototype.hasOwnProperty.call(this.chokidarWatchers.h,t)&&this.chokidarWatchers.h[t].close(),(this.chokidarWatchers.h[t]=e).on("add",function(e){var n=Bi.fs.statSync(Dt.join([t,e]));n.isDirectory()||i.chokidarUpdatedFilesByWatchedDirectory.h[t].push({status:0,lastModified:n.mtime.getTime()/1e3,name:e})}),e.on("change",function(e){var n=Bi.fs.statSync(Dt.join([t,e]));n.isDirectory()||i.chokidarUpdatedFilesByWatchedDirectory.h[t].push({status:1,lastModified:n.mtime.getTime()/1e3,name:e})}),e.on("unlink",function(e){i.chokidarUpdatedFilesByWatchedDirectory.h[t].push({status:2,lastModified:-1,name:e})})},stopWatchingDirectory:function(e){var n;return null!=this.chokidarWatchers&&Object.prototype.hasOwnProperty.call(this.chokidarWatchers.h,e)&&(this.chokidarWatchers.h[e].close(),n=this.chokidarWatchers,Object.prototype.hasOwnProperty.call(n.h,e))&&delete n.h[e],null==this.watchedDirectories&&Object.prototype.hasOwnProperty.call(this.watchedDirectories.h,e)?(n=this.watchedDirectories,Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],null!=this.startingToWatchDirectories&&Object.prototype.hasOwnProperty.call(this.startingToWatchDirectories.h,e)&&(n=this.startingToWatchDirectories,Object.prototype.hasOwnProperty.call(n.h,e))&&delete n.h[e],!0):!(null==this.startingToWatchDirectories||!Object.prototype.hasOwnProperty.call(this.startingToWatchDirectories.h,e)||(n=this.startingToWatchDirectories,Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],0))},tick:function(){if(null!=this.watchedDirectories){for(var e=[],n=this.watchedDirectories.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s=t[l++];e.push(s)}for(var r=0;r<e.length;){s=e[r];++r,this.checkWatchedDirectory(s)}}},checkWatchedDirectory:function(c){var u=this;if(null!=Bi.chokidar){if(Object.prototype.hasOwnProperty.call(this.chokidarUpdatedFilesByWatchedDirectory.h,c)){var e=this.chokidarUpdatedFilesByWatchedDirectory.h[c];if(0<e.length){for(var _=this.watchedDirectories.h[c],n=new te,t=_.h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var h=i[d=l[r++]];n.h[d]=h}for(var a=0;a<e.length;){var o=e[a];switch(++a,o.status){case 0:case 1:n.h[o.name]=o.lastModified;break;case 2:var d=o.name;Object.prototype.hasOwnProperty.call(n.h,d)&&delete n.h[d]}}Object.prototype.hasOwnProperty.call(this.watchedDirectories.h,c)&&(this.watchedDirectories.h[c]=n,this.emitDirectoryChange(c,n,_)),e.splice(0,e.length)}}}else{_=this.watchedDirectories.h[c];Ft.runInBackground(function(){for(var e=u.computeFilesModificationTime(c),n=!1,t=e.h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var h=o=l[r++],a=i[o];if(!Object.prototype.hasOwnProperty.call(_.h,h)){n=!0;break}if(a!=_.h[h]){n=!0;break}}if(!n)for(i=t=_.h,s=(l=Object.keys(t)).length,r=0;r<s;){var o,h=o=l[r++],a=i[o];if(!Object.prototype.hasOwnProperty.call(e.h,h)){n=!0;break}}n&&Ft.runInMain(function(){Object.prototype.hasOwnProperty.call(u.watchedDirectories.h,c)&&(u.watchedDirectories.h[c]=e,u.emitDirectoryChange(c,e,_))})})}},computeFilesModificationTime:function(e){for(var n=new te,t=0,i=Xn.getFlatDirectory(e);t<i.length;){var l=i[t],s=(++t,Xn.getLastModified(Dt.join([e,l])));n.h[l]=s}return n},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offDirectoryChange()},__class__:Bi}),(E["ceramic.macros.DefinesMacro"]=Ic).__name__="ceramic.macros.DefinesMacro",Ic._stringToBool=function(e){return null!=e&&("true"==(e=e.toLowerCase())||"1"==e)},(E["ceramic.macros.EnumAbstractMacro"]=Jc).__name__="ceramic.macros.EnumAbstractMacro",(E["ceramic.macros.PluginsMacro"]=Kc).__name__="ceramic.macros.PluginsMacro",(E["clay.BackgroundQueue"]=Lc).__name__="clay.BackgroundQueue",Lc.prototype={checkInterval:null,runsInBackground:null,stop:null,pending:null,schedule:function(e){ke.app._onceImmediate(e)},destroy:function(){this.stop=!0},__class__:Lc},function(e,n){this.windowInBackground=!1,this.ready=!1,this.freeze=!1,this.nextTick=0,this.immediateShutdown=!1,this.timestamp=-1,this.hasShutdown=!1,this.shuttingDown=!1,Z.app=this,zi.init(),this.extractAppId(),this.config=this.defaultConfig(),e(this.config),this.events=n,this.io=new hl(this),Li.flush(),this.assets=new il(this),Li.flush(),this.audio=new ll(this),Li.flush(),this.input=new Hi(this),Li.flush(),this.runtime=new al(this),Li.flush(),Z._graphics=new el,Li.flush(),this.backgroundQueue=new Lc,this.init()}),Mi=((E["clay.Clay"]=Z).__name__="clay.Clay",Z.prototype={config:null,events:null,io:null,assets:null,audio:null,input:null,runtime:null,get_graphics:function(){return Z._graphics},set_graphics:function(e){return Z._graphics=e},shuttingDown:null,hasShutdown:null,timestamp:null,appId:null,screenWidth:null,screenHeight:null,screenDensity:null,backgroundQueue:null,immediateShutdown:null,nextTick:null,freeze:null,set_freeze:function(e){return(this.freeze=e)?(this.events.freeze(),this.audio.suspend()):(this.events.unfreeze(),this.audio.resume()),e},ready:null,init:function(){Ni.debug("Clay / init",{fileName:"clay/Clay.hx",lineNumber:178,className:"clay.Clay",methodName:"init"}),this.io.init(),Li.flush(),this.audio.init(),Li.flush(),this.input.init(),Li.flush(),this.runtime.init(),Li.flush(),Ni.debug("Clay / ready",{fileName:"clay/Clay.hx",lineNumber:192,className:"clay.Clay",methodName:"init"}),this.runtime.ready(),Li.flush(),this.audio.ready(),Li.flush(),this.timestamp=window.performance.now()/1e3-al.timestampStart,this.ready=!0,this.nextTick=this.timestamp,this.updateScreen(),this.events.ready(),!this.runtime.run()||this.hasShutdown||this.shuttingDown||this.shutdown()},shutdown:function(){if(this.shuttingDown)Ni.debug("Clay / shutdown() called again, already shutting down - ignoring",{fileName:"clay/Clay.hx",lineNumber:217,className:"clay.Clay",methodName:"shutdown"});else{if(this.hasShutdown)throw ct.thrown("Clay / calling shutdown() more than once is disallowed");this.shuttingDown=!0,this.io.shutdown(),this.audio.shutdown(),this.input.shutdown(),this.runtime.shutdown(this.immediateShutdown),Ni.debug("Clay / shutdown",{fileName:"clay/Clay.hx",lineNumber:233,className:"clay.Clay",methodName:"shutdown"}),this.hasShutdown=!0}},emitQuit:function(){this.shutdown()},shouldUpdate:function(e){if(0<this.config.updateRate){if(e<this.nextTick)return!1;for(;this.nextTick<=e;)this.nextTick+=this.config.updateRate}else this.nextTick=e;return!0},emitTick:function(e){var n;this.freeze||(zi.tick(),Li.flush(),this.updateScreen(),!this.shuttingDown&&this.ready&&(n=e-this.timestamp,this.timestamp=e,this.audio.tick(n),this.events.tick(n)))},emitRender:function(){this.freeze||!this.shuttingDown&&this.ready&&this.events.render()},emitWindowEvent:function(e,n,t,i,l){this.events.windowEvent(e,n,t,i,l)},emitAppEvent:function(e){this.events.appEvent(e)},windowInBackground:null,extractAppId:function(){var e='"spine-raptor"';z.startsWith(e,'"')?this.appId=JSON.parse(e):this.appId=e},defaultConfig:function(){var e=al.defaultConfig();return new Vi(this.defaultWindowConfig(),this.defaultRenderConfig(),e,null)},defaultWindowConfig:function(){return new Ri(!1,!1,!0,!1,536805376,536805376,960,640,"clay app",!1,.06666666666666667)},defaultRenderConfig:function(){return new Mi(0,0,0,8,8,8,8,new Xi(0,0,0,1),null,new Ei(1,null,null,null,null,null,null,null,null))},defaultRuntimeConfig:function(){return new rl(null,null,null,null,null,null,null)},copyWindowConfig:function(e){return new Ri(e.fullscreen,e.trueFullscreen,e.resizable,e.borderless,e.x,e.y,e.width,e.height,""+e.title,e.noInput,e.backgroundSleep)},copyRenderConfig:function(e){return new Mi(e.depth,e.stencil,e.antialiasing,e.redBits,e.greenBits,e.blueBits,e.alphaBits,new Xi(e.defaultClear.r,e.defaultClear.g,e.defaultClear.b,e.defaultClear.a),null,new Ei(e.webgl.version,null,null,null,null,null,null,null,null))},updateScreen:function(){this.screenDensity=Z.app.runtime.windowDevicePixelRatio();var e=Z.app.runtime,e=(this.screenWidth=Math.round(Math.round(e.windowW*e.windowDevicePixelRatio())/this.screenDensity),Z.app.runtime);this.screenHeight=Math.round(Math.round(e.windowH*e.windowDevicePixelRatio())/this.screenDensity)},__class__:Z,__properties__:{set_freeze:"set_freeze",set_graphics:"set_graphics",get_graphics:"get_graphics"}},function(e,n,t,i,l,s,r,h,a,o){this.webgl=null,this.vsync=!0,this.defaultClear=new Xi(0,0,0,1),this.alphaBits=8,this.blueBits=8,this.greenBits=8,this.redBits=8,this.antialiasing=0,this.stencil=0,this.depth=0,null!=e&&(this.depth=e),null!=n&&(this.stencil=n),null!=t&&(this.antialiasing=t),null!=i&&(this.redBits=i),null!=l&&(this.greenBits=l),null!=s&&(this.blueBits=s),null!=r&&(this.alphaBits=r),null!=h&&(this.defaultClear=h),null!=a&&(this.vsync=a),null!=o&&(this.webgl=o)}),Ei=((E["clay.RenderConfig"]=Mi).__name__="clay.RenderConfig",Mi.prototype={depth:null,stencil:null,antialiasing:null,redBits:null,greenBits:null,blueBits:null,alphaBits:null,defaultClear:null,vsync:null,webgl:null,__class__:Mi},function(e,n,t,i,l,s,r,h,a){this.failIfMajorPerformanceCaveat=!1,this.preferLowPowerToHighPerformance=!1,this.preserveDrawingBuffer=!1,this.premultipliedAlpha=!1,this.antialias=!0,this.stencil=!1,this.depth=!0,this.alpha=!1,this.version=1,null!=e&&(this.version=e),null!=n&&(this.alpha=n),null!=t&&(this.depth=t),null!=i&&(this.stencil=i),null!=l&&(this.antialias=l),null!=s&&(this.premultipliedAlpha=s),null!=r&&(this.preserveDrawingBuffer=r),null!=h&&(this.preferLowPowerToHighPerformance=h),null!=a&&(this.failIfMajorPerformanceCaveat=a)}),Ri=((E["clay.RenderConfigWebGL"]=Ei).__name__="clay.RenderConfigWebGL",Ei.prototype={version:null,alpha:null,depth:null,stencil:null,antialias:null,premultipliedAlpha:null,preserveDrawingBuffer:null,preferLowPowerToHighPerformance:null,failIfMajorPerformanceCaveat:null,__class__:Ei},function(e,n,t,i,l,s,r,h,a,o,c){this.backgroundSleep=.06666666666666667,this.noInput=!1,this.title=null,this.height=640,this.width=960,this.y=0,this.x=0,this.borderless=!1,this.resizable=!0,this.trueFullscreen=!1,this.fullscreen=!1,null!=e&&(this.fullscreen=e),null!=n&&(this.trueFullscreen=n),null!=t&&(this.resizable=t),null!=i&&(this.borderless=i),null!=l&&(this.x=l),null!=s&&(this.y=s),null!=r&&(this.width=r),null!=h&&(this.height=h),null!=a&&(this.title=a),null!=o&&(this.noInput=o),null!=c&&(this.backgroundSleep=c)}),Vi=((E["clay.WindowConfig"]=Ri).__name__="clay.WindowConfig",Ri.prototype={fullscreen:null,trueFullscreen:null,resizable:null,borderless:null,x:null,y:null,width:null,height:null,title:null,noInput:null,backgroundSleep:null,__class__:Ri},function(e,n,t,i){this.updateRate=0,this.runtime=null,this.render=null,(this.window=null)!=e&&(this.window=e),null!=n&&(this.render=n),null!=t&&(this.runtime=t),null!=i&&(this.updateRate=i)}),Li=((E["clay.Config"]=Vi).__name__="clay.Config",Vi.prototype={window:null,render:null,runtime:null,updateRate:null,__class__:Vi},(E["clay.Extensions"]=Rc).__name__="clay.Extensions",Rc.unsafeGet=function(e,n){return e[n]},Rc.unsafeSet=function(e,n,t){e[n]=t},(E["clay.Image"]=Sc).__name__="clay.Image",Sc.prototype={width:null,height:null,widthActual:null,heightActual:null,bitsPerPixel:null,sourceBitsPerPixel:null,pixels:null,premultiplyAlpha:function(){4==this.bitsPerPixel?Wi.premultiplyAlpha(this.pixels):Ni.warning("Can only premultiply alpha on images with 4 bits per pixels (RGBA)",{fileName:"clay/Image.hx",lineNumber:29,className:"clay.Image",methodName:"premultiplyAlpha"})},reversePremultiplyAlpha:function(){4==this.bitsPerPixel?Wi.reversePremultiplyAlpha(this.pixels):Ni.warning("Can only reverse premultiply alpha on images with 4 bits per pixels (RGBA)",{fileName:"clay/Image.hx",lineNumber:40,className:"clay.Image",methodName:"reversePremultiplyAlpha"})},__class__:Sc},function(){}),Hi=((E["clay.Immediate"]=Li).__name__="clay.Immediate",Li.push=function(e){if(null==e)throw ct.thrown("Immediate callback should not be null!");Li.immediateCallbacksLen<Li.immediateCallbacksCapacity?(Li.immediateCallbacks[Li.immediateCallbacksLen]=e,Li.immediateCallbacksLen++):(Li.immediateCallbacks[Li.immediateCallbacksLen++]=e,Li.immediateCallbacksCapacity++)},Li.flush=function(){for(var e=!1;0<Li.immediateCallbacksLen;){for(var e=!0,n=C.pool(Li.immediateCallbacksLen),t=n.get(),i=Li.immediateCallbacksLen,l=Li.immediateCallbacksLen=0,s=i;l<s;){var r=l++;t.vector[r]=Li.immediateCallbacks[r],Li.immediateCallbacks[r]=null}for(var h=0,a=i;h<a;){var o=h++;(0,t.vector[o])()}n.release(t)}return e},function(e){this.app=e,this.modState=new Yi,this.modState.none=!0}),d=((E["clay.Input"]=Hi).__name__="clay.Input",Hi.prototype={app:null,modState:null,init:function(){},shutdown:function(){},emitKeyDown:function(e,n,t,i,l,s){this.app.events.keyDown(e,n,t,i,l,s)},emitKeyUp:function(e,n,t,i,l,s){this.app.events.keyUp(e,n,t,i,l,s)},emitText:function(e,n,t,i,l,s){this.app.events.text(e,n,t,i,l,s)},emitMouseMove:function(e,n,t,i,l,s){this.app.events.mouseMove(e,n,t,i,l,s)},emitMouseDown:function(e,n,t,i,l){this.app.events.mouseDown(e,n,t,i,l)},emitMouseUp:function(e,n,t,i,l){this.app.events.mouseUp(e,n,t,i,l)},emitMouseWheel:function(e,n,t,i){this.app.events.mouseWheel(e,n,t,i)},emitTouchDown:function(e,n,t,i,l,s){this.app.events.touchDown(e,n,t,i,l,s)},emitTouchUp:function(e,n,t,i,l,s){this.app.events.touchUp(e,n,t,i,l,s)},emitTouchMove:function(e,n,t,i,l,s){this.app.events.touchMove(e,n,t,i,l,s)},emitGamepadAxis:function(e,n,t,i){this.app.events.gamepadAxis(e,n,t,i)},emitGamepadDown:function(e,n,t,i){this.app.events.gamepadDown(e,n,t,i)},emitGamepadUp:function(e,n,t,i){this.app.events.gamepadUp(e,n,t,i)},emitGamepadGyro:function(e,n,t,i,l){this.app.events.gamepadGyro(e,n,t,i,l)},emitGamepadDevice:function(e,n,t,i){this.app.events.gamepadDevice(e,n,t,i)},__class__:Hi},{}),Ni=(d.$name=function(e){if(0!=(e&b.MASK))return b.$name(e&~b.MASK);switch(e){case 8:return b.$name(42);case 9:return b.$name(43);case 13:return b.$name(40);case 27:return b.$name(41);case 32:return b.$name(44);case 97:return b.$name(4);case 98:return b.$name(5);case 99:return b.$name(6);case 100:return b.$name(7);case 101:return b.$name(8);case 102:return b.$name(9);case 103:return b.$name(10);case 104:return b.$name(11);case 105:return b.$name(12);case 106:return b.$name(13);case 107:return b.$name(14);case 108:return b.$name(15);case 109:return b.$name(16);case 110:return b.$name(17);case 111:return b.$name(18);case 112:return b.$name(19);case 113:return b.$name(20);case 114:return b.$name(21);case 115:return b.$name(22);case 116:return b.$name(23);case 117:return b.$name(24);case 118:return b.$name(25);case 119:return b.$name(26);case 120:return b.$name(27);case 121:return b.$name(28);case 122:return b.$name(29);case 127:return b.$name(76);default:return String.fromCodePoint(e)}},d.toScanCode=function(e){if(0!=(e&b.MASK))return e&~b.MASK;switch(e){case 8:return 42;case 9:return 43;case 13:return 40;case 27:return 41;case 32:return 44;case 47:return 56;case 48:return 39;case 49:return 30;case 50:return 31;case 51:return 32;case 52:return 33;case 53:return 34;case 54:return 35;case 55:return 36;case 56:return 37;case 57:return 38;case 59:return 51;case 61:return 46;case 91:return 47;case 92:return 49;case 93:return 48;case 96:return 53;case 97:return 4;case 98:return 5;case 99:return 6;case 100:return 7;case 101:return 8;case 102:return 9;case 103:return 10;case 104:return 11;case 105:return 12;case 106:return 13;case 107:return 14;case 108:return 15;case 109:return 16;case 110:return 17;case 111:return 18;case 112:return 19;case 113:return 20;case 114:return 21;case 115:return 22;case 116:return 23;case 117:return 24;case 118:return 25;case 119:return 26;case 120:return 27;case 121:return 28;case 122:return 29}return 0},d.toString=function(e){return"KeyCode("+e+" "+d.$name(e)+")"},function(){}),Wi=((E["clay.Log"]=Ni).__name__="clay.Log",Ni.debug=function(e,n){},Ni.info=function(e,n){Wl.trace("[info] "+e,n)},Ni.warning=function(e,n){Wl.trace("[warning] "+e,n)},Ni.error=function(e,n){Wl.trace("[error] "+e,n)},Ni.success=function(e,n){Wl.trace("[success] "+e,n)},(E["clay.Macros"]=Xc).__name__="clay.Macros",function(){}),zi=((E["clay.PremultiplyAlpha"]=Wi).__name__="clay.PremultiplyAlpha",Wi.premultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],s=e[t+2],r=e[t+3]/255;e[t]=i*r|0,e[t+1]=l*r|0,e[t+2]=s*r|0,t+=4}},Wi.reversePremultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],l=e[t+1],s=e[t+2],r=e[t+3]/255;0<r&&(e[t]=i/r|0,e[t+1]=l/r|0,e[t+2]=s/r|0),t+=4}},function(){}),b=((E["clay.Runner"]=zi).__name__="clay.Runner",zi.currentIsMainThread=function(){return!0},zi.init=function(){},zi.tick=function(){},zi.isEmulatingBackgroundWithMain=function(){return!0},zi.runInMain=function(e){Li.push(e)},zi.runInBackground=function(e){Li.push(e)},{}),Yi=(b.$name=function(e){var n=null;return null!=(n=0<=e&&e<b.scanCodeNames.length?b.scanCodeNames[e]:n)?n:""},b.toString=function(e){return"ScanCode("+e+" "+b.$name(e)+")"},function(){this.meta=!1,this.alt=!1,this.shift=!1,this.ctrl=!1,this.mode=!1,this.caps=!1,this.num=!1,this.rmeta=!1,this.lmeta=!1,this.ralt=!1,this.lalt=!1,this.rctrl=!1,this.lctrl=!1,this.rshift=!1,this.lshift=!1,this.none=!1}),Gi=((E["clay.ModState"]=Yi).__name__="clay.ModState",Yi.prototype={none:null,lshift:null,rshift:null,lctrl:null,rctrl:null,lalt:null,ralt:null,lmeta:null,rmeta:null,num:null,caps:null,mode:null,ctrl:null,shift:null,alt:null,meta:null,toString:function(){var e='{ "ModState":true ';return this.none?e+', "none":true }':(this.lshift&&(e+=', "lshift":true'),this.rshift&&(e+=', "rshift":true'),this.lctrl&&(e+=', "lctrl":true'),this.rctrl&&(e+=', "rctrl":true'),this.lalt&&(e+=', "lalt":true'),this.ralt&&(e+=', "ralt":true'),this.lmeta&&(e+=', "lmeta":true'),this.rmeta&&(e+=', "rmeta":true'),this.num&&(e+=', "num":true'),this.caps&&(e+=', "caps":true'),this.mode&&(e+=', "mode":true'),this.ctrl&&(e+=', "ctrl":true'),this.shift&&(e+=', "shift":true'),this.alt&&(e+=', "alt":true'),this.meta&&(e+=', "meta":true'),e+"}")},__class__:Yi},(E["clay.Utils"]=e2).__name__="clay.Utils",e2.uniqueId=function(){switch(e2._nextUniqueIntCursor){case 0:e2._nextUniqueInt0=(e2._nextUniqueInt0+1)%2147483647;break;case 1:e2._nextUniqueInt1=(e2._nextUniqueInt1+1)%2147483647;break;case 2:e2._nextUniqueInt2=(e2._nextUniqueInt2+1)%2147483647;break;case 3:e2._nextUniqueInt3=(e2._nextUniqueInt3+1)%2147483647}e2._nextUniqueIntCursor=(e2._nextUniqueIntCursor+1)%4;var e,n=e2._nextUniqueInt0,t=(n=null==n?2147483646*Math.random()|0:n)%62|0,i=n/62|0;e=0<i?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(l=0<(i=n/62|0)?(s=e2.base62Id(i))+(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(s=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(s)))+(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(l=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(l));var l,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;l=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(s=0<(i=n/62|0)?(r=e2.base62Id(i))+(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(r)))+(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(s));var s,t=(n=null==(n=e2._nextUniqueInt1)?2147483646*Math.random()|0:n)%62|0;s=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(r=0<(i=n/62|0)?(h=e2.base62Id(i))+(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(h)))+(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(r));var r,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;r=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(h=0<(i=n/62|0)?(a=e2.base62Id(i))+(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(a)))+(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(h));var h,t=(n=null==(n=e2._nextUniqueInt2)?2147483646*Math.random()|0:n)%62|0;h=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(a=0<(i=n/62|0)?(o=e2.base62Id(i))+(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(o)))+(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(a));var a,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;a=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(o=0<(i=n/62|0)?(d=e2.base62Id(i))+(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(d)))+(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(o));var o,c,u,_,d,t=(n=null==(n=e2._nextUniqueInt3)?2147483646*Math.random()|0:n)%62|0;return d=e+"-"+l+"-"+s+"-"+r+"-"+h+"-"+a+"-"+(o=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(d=0<(i=n/62|0)?(u=e2.base62Id(i))+(9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(u)))+(u=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(d)))},e2.base62Id=function(e){var n,t,i=(e=null==e?2147483646*Math.random()|0:e)%62|0,e=e/62|0;return 0<e?(n=e2.base62Id(e))+(9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0)):(n=9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0),ot.string(n))},(E["clay.audio.AudioDataOptions"]=f2).__name__="clay.audio.AudioDataOptions",f2.prototype={id:null,rate:null,length:null,duration:null,channels:null,bitsPerSample:null,format:null,isStream:null,__class__:f2},(E["clay.audio.AudioData"]=g2).__name__="clay.audio.AudioData",g2.prototype={app:null,id:null,rate:null,length:null,duration:null,channels:null,bitsPerSample:null,format:null,isStream:null,destroyed:null,destroy:function(){this.destroyed||(Ni.debug("Audio / destroy AudioData `"+this.id+"`",{fileName:"clay/audio/AudioData.hx",lineNumber:95,className:"clay.audio.AudioData",methodName:"destroy"}),this.destroyed=!0,this.id=null)},seek:function(e){return!1},portion:function(e,n,t,i){return i},toString:function(){var e,n='{ "AudioData":true, "id":'+this.id+', "rate":'+this.rate+', "length":'+this.length+', "channels":'+this.channels+', "format":"';if(null==this.format)e="null";else{var t=this.format;if(null==t)e=""+t;else switch(t){case 0:e="UNKNOWN";break;case 1:e="CUSTOM";break;case 2:e="OGG";break;case 3:e="WAV";break;case 4:e="PCM";break;case 5:e="MP3";break;case 6:e="FLAC";break;default:e=""+t}}return n+e+'", "isStream":'+ot.string(this.isStream)+" }"},__class__:g2},(E["clay.audio.AudioInstance"]=j2).__name__="clay.audio.AudioInstance",j2.prototype={source:null,handle:null,destroyed:null,hasEnded:function(){if(this.destroyed)throw ct.thrown("Audio / Instance hasEnded queried after being destroyed");return 2==this.source.app.audio.stateOf(this.handle)},destroy:function(){if(this.destroyed)throw ct.thrown("Audio / Instance being destroyed more than once");this.source.app.audio.handleInstanceDestroyed(this.handle),this.source.instanceKilled(this),this.destroyed=!0,this.source=null,this.handle=-1},dataGet:function(e,n,t,i){if(this.destroyed)throw ct.thrown("Audio / Instance dataGet queried after being destroyed");return this.source.data.portion(e,n,t,i)},dataSeek:function(e){if(this.destroyed)throw ct.thrown("Audio / Instance dataSeek queried after being destroyed");return this.source.data.seek(e)},__class__:j2},function(e,n){this.destroyed=!1,this.streamBufferCount=2,this.streamBufferLength=176400,this.app=e,this.data=n,this.sourceId=e2.uniqueId(),Ni.debug("AudioSource / `"+this.sourceId+"` / "+this.data.id,{fileName:"clay/audio/AudioSource.hx",lineNumber:34,className:"clay.audio.AudioSource",methodName:"new"}),this.instances=[],n.duration<=0&&(n.duration=this.bytesToSeconds(n.length))}),Xi=((E["clay.audio.AudioSource"]=Gi).__name__="clay.audio.AudioSource",Gi.prototype={app:null,data:null,streamBufferLength:null,streamBufferCount:null,destroyed:null,sourceId:null,instances:null,instance:function(e){e=new j2(this,e);return-1==this.instances.indexOf(e)&&this.instances.push(e),e},bytesToSeconds:function(e){var n=16==this.data.bitsPerSample?2:1;return e/(this.data.rate*this.data.channels*n)},secondsToBytes:function(e){var n=16==this.data.bitsPerSample?2:1;return e*(this.data.rate*this.data.channels*n)|0},getDuration:function(){return this.data.duration},destroy:function(){if(this.destroyed)Ni.debug("AudioSource / destroying already destroyed source!",{fileName:"clay/audio/AudioSource.hx",lineNumber:85,className:"clay.audio.AudioSource",methodName:"destroy"});else{this.destroyed=!0;var e=this.instances.length,n=0;for(Ni.debug("AudioSource / destroy / "+this.sourceId+" / "+this.data.id+", stream="+ot.string(this.data.isStream)+", instances="+e,{fileName:"clay/audio/AudioSource.hx",lineNumber:94,className:"clay.audio.AudioSource",methodName:"destroy"});n<e;)this.instances.pop().destroy(),++n;this.app.audio.handleSourceDestroyed(this),this.data.destroy(),this.data=null,this.instances=null,this.app=null}},instanceKilled:function(e){he.remove(this.instances,e)},__class__:Gi},(E["clay.base.BaseAssets"]=m2).__name__="clay.base.BaseAssets",m2.prototype={app:null,isSynchronous:function(){return!1},fullPath:function(e){return Dt.isAbsolute(e)?e:Dt.join([this.app.io.appPath(),e])},loadImage:function(e,n,t,i){return null==t&&(t=!1),null==n&&(n=4),null!=i&&Li.push(function(){i(null)}),null},__class__:m2},(E["clay.base.BaseAudio"]=n2).__name__="clay.base.BaseAudio",n2.prototype={app:null,isSynchronous:function(){return!1},init:function(){},ready:function(){},tick:function(e){},shutdown:function(){},loadData:function(e,n,t,i,l){return null==i&&(i=!1),null!=l&&Li.push(function(){l(null)}),null},emitAudioEvent:function(e,n){this.app.events.audioEvent(e,n)},__class__:n2},(E["clay.base.BaseIO"]=o2).__name__="clay.base.BaseIO",o2.prototype={app:null,init:function(){},shutdown:function(){},isSynchronous:function(){return!1},appPath:function(){return null},appPathPrefs:function(){return null},loadData:function(e,n,t,i){return null==t&&(t=!1),null==n&&(n=!1),null!=i&&Li.push(function(){i(null)}),null},__class__:o2},(E["clay.base.BaseRuntime"]=p2).__name__="clay.base.BaseRuntime",p2.prototype={app:null,name:null,init:function(){},shutdown:function(e){},ready:function(){},run:function(){return!0},windowDevicePixelRatio:function(){return 1},windowWidth:function(){return 0},windowHeight:function(){return 0},__class__:p2},function(e,n,t,i){this.a=1,this.b=0,this.g=0,this.r=0,null!=e&&(this.r=e),null!=n&&(this.g=n),null!=t&&(this.b=t),null!=i&&(this.a=i)}),Ki=((E["clay.graphics.Color"]=Xi).__name__="clay.graphics.Color",Xi.prototype={r:null,g:null,b:null,a:null,__class__:Xi},function(){this.wrapT=33071,this.wrapS=33071,this.filterMag=9729,this.filterMin=9729,this.pixels=null,this.heightActual=-1,this.widthActual=-1,this.height=-1,this.width=-1,this.dataType=5121,this.type=3553,this.format=6408,this.compressed=!1,fa.call(this),this.index=Ki._nextIndex++,this.textureId=null}),qi=((E["clay.graphics.Texture"]=Ki).__name__="clay.graphics.Texture",Ki.fromImage=function(e,n){null==n&&(n=!1);var t=new Ki;if(t.premultiplyAlpha=n,4!=e.bitsPerPixel)throw ct.thrown("Image must have 4 bits per pixels (RGBA format)");return t.width=e.width,t.height=e.height,t.widthActual=e.widthActual,t.heightActual=e.heightActual,t.pixels=e.pixels,t},Ki.__super__=fa,Ki.prototype=$extend(fa.prototype,{index:null,textureId:null,premultiplyAlpha:null,compressed:null,format:null,type:null,dataType:null,width:null,height:null,widthActual:null,heightActual:null,pixels:null,filterMin:null,set_filterMin:function(e){return null!=this.textureId&&(this.bind(),Z._graphics,ne.gl.texParameteri(3553,10241,e)),this.filterMin=e},filterMag:null,set_filterMag:function(e){return null!=this.textureId&&(this.bind(),Z._graphics,ne.gl.texParameteri(3553,10240,e)),this.filterMag=e},wrapS:null,set_wrapS:function(e){return null!=this.textureId&&(this.bind(),Z._graphics,ne.gl.texParameteri(3553,10242,e)),this.wrapS=e},wrapT:null,set_wrapT:function(e){return null!=this.textureId&&(this.bind(),Z._graphics,ne.gl.texParameteri(3553,10243,e)),this.wrapT=e},init:function(){Z._graphics,this.textureId=ne.gl.createTexture(),0<this.width&&this.widthActual<=0&&(this.widthActual=this.width),0<this.height&&this.heightActual<=0&&(this.heightActual=this.height),this.bind(),Z._graphics,ne.gl.texParameteri(3553,10241,this.filterMin),Z._graphics,ne.gl.texParameteri(3553,10240,this.filterMag),Z._graphics,ne.gl.texParameteri(3553,10243,this.wrapT),Z._graphics;if(ne.gl.texParameteri(3553,10242,this.wrapS),null!=this.pixels){if(this.width<=0||this.height<=0)throw ct.thrown("Provided texture pixels with invalid size (width="+this.width+" height="+this.height+")");this.submit(this.pixels)}},destroy:function(){if(null!=this.textureId){for(var e=Z._graphics,n=this.textureId,t=(ne.gl.deleteTexture(n),0),i=e._boundTexture2D.length;t<i;){var l=t++;e._boundTexture2D[l]==n&&(e._boundTexture2D[l]=null)}this.textureId=null}},bind:function(e){var n;if(-1!=(e=null==e?0:e)&&(n=Z._graphics)._activeTextureSlot!=e){for(n._activeTextureSlot=e;n._boundTexture2D.length<=n._activeTextureSlot;)n._boundTexture2D.push(null);ne.gl.activeTexture(33984+e)}3553==this.type&&(n=Z._graphics,e=this.textureId,n._boundTexture2D[n._activeTextureSlot]!=e)&&(n._boundTexture2D[n._activeTextureSlot]=e,ne.gl.bindTexture(3553,e))},submit:function(e){Z._graphics;var n,t,i,l=ne.gl.getParameter(3379),l=l=l<=0?4096:l;if(null==(e=null==e?this.pixels:e))throw ct.thrown("Cannot submit texture pixels: pixels is null");if(this.widthActual>l)throw ct.thrown("Texture actual width bigger than maximum hardware size (width="+this.widthActual+" max="+l+")");if(this.heightActual>l)throw ct.thrown("Texture actual height bigger than maximum hardware size (height="+this.heightActual+" max="+l+")");this.bind(),3553==this.type&&(this.compressed?(Z._graphics,n=this.format,t=this.widthActual,i=this.heightActual,ne.gl.pixelStorei(37441,this.premultiplyAlpha?1:0),ne.gl.compressedTexImage2D(3553,0,n,t,i,0,e)):(Z._graphics,n=this.format,t=this.widthActual,i=this.heightActual,l=this.dataType,ne.gl.pixelStorei(37441,this.premultiplyAlpha?1:0),ne.gl.texImage2D(3553,0,n,t,i,0,n,l,e)))},fetch:function(e,n,t,i,l){return null==t&&(t=0),null==n&&(n=0),(i=null==i?-1:i)<=0&&(i=this.width),(l=null==l?-1:l)<=0&&(l=this.height),this.bind(),3553==this.type&&Z._graphics.fetchTexture2dPixels(e,n,t,i,l),e},__class__:Ki,__properties__:{set_wrapT:"set_wrapT",set_wrapS:"set_wrapS",set_filterMag:"set_filterMag",set_filterMin:"set_filterMin"}}),function(){this.antialiasing=0,this.stencil=!1,this.depth=!1,Ki.call(this)}),$i=((E["clay.graphics.RenderTexture"]=qi).__name__="clay.graphics.RenderTexture",qi.__super__=Ki,qi.prototype=$extend(Ki.prototype,{renderTarget:null,depth:null,stencil:null,antialiasing:null,init:function(){Ki.prototype.init.call(this);Z._graphics;var e=ne.gl.getParameter(3379),e=e=e<=0?4096:e;if(this.widthActual>e)throw ct.thrown("RenderTexture actual width bigger than maximum hardware size (width="+this.widthActual+" max="+e+")");if(this.heightActual>e)throw ct.thrown("RenderTexture actual height bigger than maximum hardware size (height="+this.heightActual+" max="+e+")");this.bind(),this.renderTarget=Z._graphics.createRenderTarget(this.textureId,this.width,this.height,this.depth,this.stencil,this.antialiasing,0,this.format,this.dataType)},destroy:function(){Ki.prototype.destroy.call(this),null!=this.renderTarget&&(Z._graphics.deleteRenderTarget(this.renderTarget),this.renderTarget=null)},__class__:qi}),(E["clay.graphics.TextureAndSlot"]=x2).__name__="clay.graphics.TextureAndSlot",x2.prototype={texture:null,slot:null,__class__:x2},function(e){this.dirtyTextures=[],this.dirtyMatrix4s=[],this.dirtyMatrix3s=[],this.dirtyMatrix2s=[],this.dirtyVector4s=[],this.dirtyVector3s=[],this.dirtyVector2s=[],this.dirtyFloatArrays=[],this.dirtyFloats=[],this.dirtyIntArrays=[],this.dirtyInts=[],this.textures=new te,this.matrix4s=new te,this.matrix3s=new te,this.matrix2s=new te,this.vector4s=new te,this.vector3s=new te,this.vector2s=new te,this.floatArrays=new te,this.floats=new te,this.intArrays=new te,this.ints=new te,this.gpuShader=e}),ji=((E["clay.graphics.Uniforms"]=$i).__name__="clay.graphics.Uniforms",$i.prototype={ints:null,intArrays:null,floats:null,floatArrays:null,vector2s:null,vector3s:null,vector4s:null,matrix2s:null,matrix3s:null,matrix4s:null,textures:null,dirtyInts:null,dirtyIntArrays:null,dirtyFloats:null,dirtyFloatArrays:null,dirtyVector2s:null,dirtyVector3s:null,dirtyVector4s:null,dirtyMatrix2s:null,dirtyMatrix3s:null,dirtyMatrix4s:null,dirtyTextures:null,gpuShader:null,setInt:function(e,n){Z._graphics;var t=this.gpuShader;ne.gl.getUniformLocation(t.program,e);this.ints.h[e]=n,this.dirtyInts.push(e)},setIntArray:function(e,n){Z._graphics;var t=this.gpuShader;ne.gl.getUniformLocation(t.program,e);this.intArrays.h[e]=n,this.dirtyIntArrays.push(e)},setFloat:function(e,n){Z._graphics;var t=this.gpuShader;ne.gl.getUniformLocation(t.program,e);this.floats.h[e]=n,this.dirtyFloats.push(e)},setFloatArray:function(e,n){Z._graphics;var t=this.gpuShader;ne.gl.getUniformLocation(t.program,e);this.floatArrays.h[e]=n,this.dirtyFloatArrays.push(e)},setVector2:function(e,n,t){Z._graphics;var i=this.gpuShader,i=(ne.gl.getUniformLocation(i.program,e),this.vector2s.h[e]);null!=i?(i.x=n,i.y=t):(i=this.vector2s,n=new ji(n,t),i.h[e]=n),this.dirtyVector2s.push(e)},setVector3:function(e,n,t,i){Z._graphics;var l=this.gpuShader,l=(ne.gl.getUniformLocation(l.program,e),this.vector3s.h[e]);null!=l?(l.x=n,l.y=t,l.z=i):(l=this.vector3s,n=new Qi(n,t,i),l.h[e]=n),this.dirtyVector3s.push(e)},setVector4:function(e,n,t,i,l){Z._graphics;var s=this.gpuShader,s=(ne.gl.getUniformLocation(s.program,e),this.vector4s.h[e]);null!=s?(s.x=n,s.y=t,s.z=i,s.w=l):(s=this.vector4s,n=new Zi(n,t,i,l),s.h[e]=n),this.dirtyVector4s.push(e)},setMatrix2:function(e,n){Z._graphics;var t=this.gpuShader,t=(ne.gl.getUniformLocation(t.program,e),this.matrix2s.h[e]);null==t&&(t=new Float32Array(4),this.matrix2s.h[e]=t),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],this.dirtyMatrix2s.push(e)},setMatrix3:function(e,n){Z._graphics;var t=this.gpuShader,t=(ne.gl.getUniformLocation(t.program,e),this.matrix3s.h[e]);null==t&&(t=new Float32Array(9),this.matrix3s.h[e]=t),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this.dirtyMatrix3s.push(e)},setMatrix4:function(e,n){Z._graphics;var t=this.gpuShader,t=(ne.gl.getUniformLocation(t.program,e),this.matrix4s.h[e]);null==t&&(t=new Float32Array(16),this.matrix4s.h[e]=t),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this.dirtyMatrix4s.push(e)},setTexture:function(e,n,t){Z._graphics;var i=this.gpuShader,i=(ne.gl.getUniformLocation(i.program,e),this.textures.h[e]);null!=i?(i.texture=t,i.slot=n):(i=this.textures,t=new x2(t,n),i.h[e]=t),-1==this.dirtyTextures.indexOf(e)&&this.dirtyTextures.push(e)},apply:function(){var e=Z._graphics,n=this.gpuShader;for(e._boundProgram!=n.program&&(e._boundProgram=n.program,ne.gl.useProgram(n.program));0<this.dirtyInts.length;){var t=this.dirtyInts.pop(),e=Z._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=Z._graphics,s=this.ints.h[t],r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniform1i(i,s)}for(;0<this.dirtyIntArrays.length;){t=this.dirtyIntArrays.pop(),e=Z._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=Z._graphics,s=this.intArrays.h[t],r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniform1iv(i,s)}for(;0<this.dirtyFloats.length;){t=this.dirtyFloats.pop(),e=Z._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=Z._graphics,s=this.floats.h[t],r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniform1f(i,s)}for(;0<this.dirtyFloatArrays.length;){t=this.dirtyFloatArrays.pop(),e=Z._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=Z._graphics,s=this.floatArrays.h[t],r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniform1fv(i,s)}for(;0<this.dirtyVector2s.length;){var t=this.dirtyVector2s.pop(),e=Z._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),s=this.vector2s.h[t],l=Z._graphics,h=s.x,a=s.y,r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniform2f(i,h,a)}for(;0<this.dirtyVector3s.length;){var t=this.dirtyVector3s.pop(),e=Z._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),s=this.vector3s.h[t],l=Z._graphics,h=s.x,a=s.y,o=s.z,r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniform3f(i,h,a,o)}for(;0<this.dirtyVector4s.length;){var t=this.dirtyVector4s.pop(),e=Z._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),s=this.vector4s.h[t],l=Z._graphics,h=s.x,a=s.y,o=s.z,c=s.w,r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniform4f(i,h,a,o,c)}for(;0<this.dirtyMatrix2s.length;){t=this.dirtyMatrix2s.pop(),e=Z._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=Z._graphics,s=this.matrix2s.h[t],r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniformMatrix2fv(i,!1,s)}for(;0<this.dirtyMatrix3s.length;){t=this.dirtyMatrix3s.pop(),e=Z._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=Z._graphics,s=this.matrix3s.h[t],r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniformMatrix3fv(i,!1,s)}for(;0<this.dirtyMatrix4s.length;){t=this.dirtyMatrix4s.pop(),e=Z._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t),l=Z._graphics,s=this.matrix4s.h[t],r=this.gpuShader;l._boundProgram!=r.program&&(l._boundProgram=r.program,ne.gl.useProgram(r.program)),ne.gl.uniformMatrix4fv(i,!1,s)}for(var u=0,_=this.dirtyTextures.length;u<_;){var d=u++,t=this.dirtyTextures[d],e=Z._graphics,n=this.gpuShader,i=ne.gl.getUniformLocation(n.program,t);3553==(s=this.textures.h[t]).texture.type&&Z._graphics.setTexture2dUniform(this.gpuShader,i,s.slot,s.texture.textureId)}},clone:function(){return new $i(this.gpuShader)},__class__:$i},function(e,n){this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n)}),Qi=((E["clay.graphics.Vector2"]=ji).__name__="clay.graphics.Vector2",ji.prototype={x:null,y:null,__class__:ji},function(e,n,t){this.z=0,this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n),null!=t&&(this.z=t)}),Zi=((E["clay.graphics.Vector3"]=Qi).__name__="clay.graphics.Vector3",Qi.prototype={x:null,y:null,z:null,__class__:Qi},function(e,n,t,i){this.w=0,this.z=0,this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n),null!=t&&(this.z=t),null!=i&&(this.w=i)}),Ji=((E["clay.graphics.Vector4"]=Zi).__name__="clay.graphics.Vector4",Zi.prototype={x:null,y:null,z:null,w:null,__class__:Zi},(E["clay.spec.GraphicsBatcher"]=C2).__name__="clay.spec.GraphicsBatcher",C2.__isInterface__=!0,C2.prototype={initBuffers:null,beginRender:null,endRender:null,setVertexLayout:null,setCustomAttributes:null,putVertex:null,putVertexWithTextureSlot:null,putUVs:null,putColor:null,putIndex:null,putFloatAttribute:null,endFloatAttributes:null,getNumVertices:null,shouldFlush:null,remainingVertices:null,remainingIndices:null,hasAnythingToFlush:null,flush:null,clear:null,setViewport:null,setPrimitiveType:null,enableBlending:null,disableBlending:null,setBlendFuncSeparate:null,setActiveTexture:null,bindTexture:null,bindNoTexture:null,shouldFlipRenderTargetY:null,setRenderTarget:null,blitRenderTargetBuffers:null,useShader:null,setProjectionMatrix:null,setModelViewMatrix:null,beginStencilWrite:null,endStencilWrite:null,enableStencilTest:null,disableStencilTest:null,enableScissor:null,disableScissor:null,__class__:C2},function(){this._primitiveType=4,this._colorIndex=0,this._numColors=0,this._uvIndex=0,this._numUVs=0,this._currentShader=null,this._floatAttributesSize=0,this._posIndex=0,this._numPos=0,this._numIndices=0,this._vertexSize=0,this._maxVerts=0,this._customAttributes=null,this._customGLBuffers=[],this._posSize=0,this._batchMultiTexture=!1,this._colorListArray=[],this._uvListArray=[],this._indiceListArray=[],this._posListArray=[]}),el=((E["clay.opengl.GLGraphicsBatcher"]=Ji).__name__="clay.opengl.GLGraphicsBatcher",Ji.__interfaces__=[C2],Ji.prototype={_buffersIndex:null,_posListArray:null,_indiceListArray:null,_uvListArray:null,_colorListArray:null,_posList:null,_indiceList:null,_uvList:null,_colorList:null,_batchMultiTexture:null,_posSize:null,_customGLBuffers:null,_customAttributes:null,_maxVerts:null,_vertexSize:null,_numIndices:null,_numPos:null,_posIndex:null,_floatAttributesSize:null,_currentShader:null,_numUVs:null,_uvIndex:null,_numColors:null,_colorIndex:null,_primitiveType:null,initBuffers:function(){this._buffersIndex=-1,this.prepareNextBuffers()},prepareNextBuffers:function(){this._buffersIndex++,64<this._buffersIndex&&(this._buffersIndex=0),this._posListArray.length<=this._buffersIndex&&(this._posListArray[this._buffersIndex]=new Float32Array(65536),this._uvListArray[this._buffersIndex]=new Float32Array(43691),this._colorListArray[this._buffersIndex]=new Float32Array(65536),this._indiceListArray[this._buffersIndex]=new Uint16Array(32768)),this._posList=this._posListArray[this._buffersIndex],this._uvList=this._uvListArray[this._buffersIndex],this._colorList=this._colorListArray[this._buffersIndex],this._indiceList=this._indiceListArray[this._buffersIndex]},beginRender:function(){ne.gl.enableVertexAttribArray(0),ne.gl.enableVertexAttribArray(1),ne.gl.enableVertexAttribArray(2)},endRender:function(){},setVertexLayout:function(e,n){this._floatAttributesSize=n,this._batchMultiTexture=e,this._vertexSize=3+this._floatAttributesSize+(this._batchMultiTexture?1:0),this._posSize=this._vertexSize,this._vertexSize<4&&(this._vertexSize=4),this._maxVerts=0|Math.floor(65536/this._vertexSize),0==this._numPos&&(this._numIndices=0,this._numPos=0,this._numUVs=0,this._numColors=0,this._posIndex=0,this._uvIndex=0,this._colorIndex=0)},setCustomAttributes:function(e){this._customAttributes=e},resetIndexes:function(){this._numIndices=0,this._numPos=0,this._numUVs=0,this._numColors=0,this._posIndex=0,this._uvIndex=0,this._colorIndex=0},putVertex:function(e,n,t){this._posList[this._posIndex]=e,this._posList[this._posIndex+1]=n,this._posList[this._posIndex+2]=t,this._posIndex+=3,this._numPos++},putVertexWithTextureSlot:function(e,n,t,i){this._posList[this._posIndex]=e,this._posList[this._posIndex+1]=n,this._posList[this._posIndex+2]=t,this._posList[this._posIndex+3]=i,this._posIndex+=4,this._numPos++},putUVs:function(e,n){this._uvList[this._uvIndex]=e,this._uvList[this._uvIndex+1]=n,this._uvIndex+=2,this._numUVs++},putColor:function(e,n,t,i){this._colorList[this._colorIndex]=e,this._colorList[this._colorIndex+1]=n,this._colorList[this._colorIndex+2]=t,this._colorList[this._colorIndex+3]=i,this._colorIndex+=4,this._numColors++},putIndex:function(e){this._indiceList[this._numIndices]=e,this._numIndices++},putFloatAttribute:function(e,n){this._posList[this._posIndex+e]=n},endFloatAttributes:function(){this._posIndex+=this._floatAttributesSize},getNumVertices:function(){return this._numPos},shouldFlush:function(e,n){return!(this._numPos+e<=this._maxVerts)||16384<this._numIndices+n},remainingVertices:function(){return this._maxVerts-this._numPos},remainingIndices:function(){return 16384-this._numIndices},hasAnythingToFlush:function(){return 0<this._numPos},flush:function(){var e=this._batchMultiTexture,n=new Float32Array(this._posList.buffer,0,4*this._posIndex/4|0),t=new Float32Array(this._uvList.buffer,0,4*this._uvIndex/4|0),i=new Float32Array(this._colorList.buffer,0,4*this._colorIndex/4|0),l=new Uint16Array(this._indiceList.buffer,0,2*this._numIndices/2|0),s=ne.gl.createBuffer(),r=ne.gl.createBuffer(),h=ne.gl.createBuffer(),a=ne.gl.createBuffer(),o=(ne.gl.enableVertexAttribArray(0),ne.gl.enableVertexAttribArray(1),ne.gl.enableVertexAttribArray(2),ne.gl.bindBuffer(34962,s),ne.gl.vertexAttribPointer(0,3,5126,!1,4*this._posSize,0),ne.gl.bufferData(34962,n,35040),ne.gl.bindBuffer(34962,h),ne.gl.vertexAttribPointer(1,2,5126,!1,0,0),ne.gl.bufferData(34962,t,35040),ne.gl.bindBuffer(34962,r),ne.gl.vertexAttribPointer(2,4,5126,!1,0,0),ne.gl.bufferData(34962,i,35040),3),c=3,t=0;if(e&&(O=ne.gl.createBuffer(),this._customGLBuffers[t++]=O,ne.gl.enableVertexAttribArray(c),ne.gl.bindBuffer(34962,O),ne.gl.vertexAttribPointer(c,1,5126,!1,4*this._posSize,4*o),ne.gl.bufferData(34962,n,35040),++c,++o),null!=this._customAttributes)for(var u=this._customAttributes,_=t,i=_+u.length,d=(t+=u.length,_),b=i;d<b;){var g=u[(f=d++)-_],O=ne.gl.createBuffer();this._customGLBuffers[f]=O,ne.gl.enableVertexAttribArray(c),ne.gl.bindBuffer(34962,O),ne.gl.vertexAttribPointer(c,g.size,5126,!1,4*this._posSize,4*o),ne.gl.bufferData(34962,n,35040),++c,o+=g.size}if(ne.gl.bindBuffer(34963,a),ne.gl.bufferData(34963,l,35040),ne.gl.drawElements(this._primitiveType,this._numIndices,5123,0),ne.gl.deleteBuffer(s),ne.gl.deleteBuffer(r),ne.gl.deleteBuffer(h),0<t)for(c=3,d=0,b=t;d<b;){var f=d++,O=this._customGLBuffers[f];ne.gl.deleteBuffer(O),ne.gl.disableVertexAttribArray(c),++c}ne.gl.bindBuffer(34963,null),ne.gl.deleteBuffer(a),n=null,this._numIndices=0,this._numPos=0,this._numUVs=0,this._numColors=0,this._posIndex=0,this._uvIndex=0,this._colorIndex=0,this.prepareNextBuffers()},clear:function(e,n,t,i,l){Z._graphics.clear(e,n,t,i,l)},setViewport:function(e,n,t,i){Z._graphics;ne.gl.viewport(e,n,t,i)},setPrimitiveType:function(e){this._primitiveType=1==e?1:4},enableBlending:function(){Z._graphics;ne.gl.enable(3042)},disableBlending:function(){Z._graphics;ne.gl.disable(3042)},setBlendFuncSeparate:function(e,n,t,i){Z._graphics;ne.gl.blendFuncSeparate(e,n,t,i)},setActiveTexture:function(e){var n=Z._graphics;if(n._activeTextureSlot!=e){for(n._activeTextureSlot=e;n._boundTexture2D.length<=n._activeTextureSlot;)n._boundTexture2D.push(null);ne.gl.activeTexture(33984+e)}},bindTexture:function(e){var n=Z._graphics;n._boundTexture2D[n._activeTextureSlot]!=e&&(n._boundTexture2D[n._activeTextureSlot]=e,ne.gl.bindTexture(3553,e))},bindNoTexture:function(){var e=Z._graphics,n=Ji.defaultTextureId;e._boundTexture2D[e._activeTextureSlot]!=n&&(e._boundTexture2D[e._activeTextureSlot]=n,ne.gl.bindTexture(3553,n))},shouldFlipRenderTargetY:function(){return!0},setRenderTarget:function(e){var n=Z._graphics;null!=e?(n.bindFramebuffer((e=e).framebuffer),n.bindRenderbuffer(e.renderbuffer)):(n.bindFramebuffer(null),n.bindRenderbuffer(null))},blitRenderTargetBuffers:function(e,n,t){Z._graphics.blitRenderTargetBuffers(e,n,t)},useShader:function(e){this._currentShader=e;var n=Z._graphics;n._boundProgram!=e.program&&(n._boundProgram=e.program,ne.gl.useProgram(e.program))},setProjectionMatrix:function(e){Z._graphics.projectionMatrix=e},setModelViewMatrix:function(e){Z._graphics.modelViewMatrix=e},beginStencilWrite:function(){ne.gl.stencilMask(255),ne.gl.clearStencil(255),ne.gl.clear(1024),ne.gl.enable(2960),ne.gl.stencilOp(7680,7680,7681),ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!1,!1,!1,!1)},endStencilWrite:function(){},enableStencilTest:function(){ne.gl.stencilFunc(514,1,255),ne.gl.stencilMask(0),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.enable(2960)},disableStencilTest:function(){ne.gl.stencilFunc(519,1,255),ne.gl.stencilMask(255),ne.gl.colorMask(!0,!0,!0,!0),ne.gl.disable(2960)},enableScissor:function(e,n,t,i){ne.gl.enable(3089),ne.gl.scissor(Math.round(e),Math.round(n),Math.round(t),Math.round(i))},disableScissor:function(){ne.gl.disable(3089)},__class__:Ji},(E["clay.spec.GraphicsDriver"]=E2).__name__="clay.spec.GraphicsDriver",E2.__isInterface__=!0,E2.prototype={get_noTexture:null,get_noFramebuffer:null,get_noRenderbuffer:null,get_noShader:null,get_noProgram:null,get_noLocation:null,get_noBuffer:null,setup:null,getMaxTextureSize:null,getMaxTextureUnits:null,testShaderCompilationLimit:null,loadExtensions:null,readPixels:null,clear:null,setViewport:null,enableBlending:null,disableBlending:null,setBlendFuncSeparate:null,createTextureId:null,deleteTexture:null,setActiveTexture:null,bindTexture2d:null,maxTextureSize:null,needsPreprocessedPremultipliedAlpha:null,submitTexture2dPixels:null,submitCompressedTexture2dPixels:null,fetchTexture2dPixels:null,setTexture2dMinFilter:null,setTexture2dMagFilter:null,setTexture2dWrapS:null,setTexture2dWrapT:null,createShader:null,deleteShader:null,useShader:null,synchronizeShaderMatrices:null,getUniformLocation:null,setIntUniform:null,setIntArrayUniform:null,setFloatUniform:null,setFloatArrayUniform:null,setVector2Uniform:null,setVector3Uniform:null,setVector4Uniform:null,setMatrix2Uniform:null,setMatrix3Uniform:null,setMatrix4Uniform:null,setTexture2dUniform:null,createRenderTarget:null,deleteRenderTarget:null,setRenderTarget:null,configureRenderTargetBuffersStorage:null,blitRenderTargetBuffers:null,createFramebuffer:null,bindFramebuffer:null,createRenderbuffer:null,bindRenderbuffer:null,ensureNoError:null,__class__:E2,__properties__:{get_noBuffer:"get_noBuffer",get_noLocation:"get_noLocation",get_noProgram:"get_noProgram",get_noShader:"get_noShader",get_noRenderbuffer:"get_noRenderbuffer",get_noFramebuffer:"get_noFramebuffer",get_noTexture:"get_noTexture"}},function(){this.modelViewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this._didFetchDefaultBuffers=!1,this._activeTextureSlot=-1,this._boundTexture2D=[],this._boundProgram=null,this._boundFramebuffer=null,this._boundRenderbuffer=null,this._defaultFramebuffer=null,this._defaultRenderbuffer=null,this._clearBufferForBlitValues=new Float32Array([0,0,0,1])}),nl=((E["clay.opengl.GLGraphicsDriver"]=el).__name__="clay.opengl.GLGraphicsDriver",el.__interfaces__=[E2],el.prototype={get_noTexture:function(){return null},get_noFramebuffer:function(){return null},get_noRenderbuffer:function(){return null},get_noShader:function(){return null},get_noProgram:function(){return null},get_noLocation:function(){return null},get_noBuffer:function(){return null},_boundTexture2D:null,_boundProgram:null,_activeTextureSlot:null,_boundFramebuffer:null,_boundRenderbuffer:null,_didFetchDefaultBuffers:null,_defaultFramebuffer:null,_defaultRenderbuffer:null,_clearBufferForBlitValues:null,setup:function(){this._defaultFramebuffer=ne.gl.getParameter(36006),this._defaultRenderbuffer=ne.gl.getParameter(36007),this._didFetchDefaultBuffers=!0},getMaxTextureSize:function(){var e=ne.gl.getParameter(3379);return e=e<=0?4096:e},getMaxTextureUnits:function(){var e=ne.gl.getParameter(34930);return 0|Math.min(32,e)},testShaderCompilationLimit:function(e){null==e&&(e=32);for(var n=z.trim("\n#ifdef GL_ES\nprecision mediump float;\n#else\n#define mediump\n#endif\nvarying float test;\nvoid main() {\n    {{CONDITIONS}}\n    gl_FragColor = vec4(0.0);\n}\n"),t=ne.gl.createShader(35632),i=0;0<e;){var l=this._generateIfStatements(e),l=z.replace(n,"{{CONDITIONS}}",l);if(ne.gl.shaderSource(t,l),ne.gl.compileShader(t),0!=ne.gl.getShaderParameter(t,35713)){i=e;break}e=e/2|0}return ne.gl.deleteShader(t),i},_generateIfStatements:function(e){for(var n="",t=0,i=e;t<i;){var l=t++;0<l&&(n+="\nelse "),l<e-1&&(n=(n+="if (test == ")+(null==l?"null":""+l)+".0) {}")}return n},loadExtensions:function(){ne.gl.getExtension("OES_standard_derivatives")},readPixels:function(e,n,t,i,l){ne.gl.readPixels(e,n,t,i,6408,5121,l)},clear:function(e,n,t,i,l){null==l&&(l=!0),ne.gl.clearColor(e,n,t,i),l&&0<Z.app.config.render.depth?(ne.gl.clear(16640),ne.gl.clearDepth(1)):ne.gl.clear(16384)},setViewport:function(e,n,t,i){ne.gl.viewport(e,n,t,i)},enableBlending:function(){ne.gl.enable(3042)},disableBlending:function(){ne.gl.disable(3042)},setBlendFuncSeparate:function(e,n,t,i){ne.gl.blendFuncSeparate(e,n,t,i)},createTextureId:function(){return ne.gl.createTexture()},deleteTexture:function(e){ne.gl.deleteTexture(e);for(var n=0,t=this._boundTexture2D.length;n<t;){var i=n++;this._boundTexture2D[i]==e&&(this._boundTexture2D[i]=null)}},setActiveTexture:function(e){if(this._activeTextureSlot!=e){for(this._activeTextureSlot=e;this._boundTexture2D.length<=this._activeTextureSlot;)this._boundTexture2D.push(null);ne.gl.activeTexture(33984+e)}},bindTexture2d:function(e){this._boundTexture2D[this._activeTextureSlot]!=e&&(this._boundTexture2D[this._activeTextureSlot]=e,ne.gl.bindTexture(3553,e))},maxTextureSize:function(){var e=ne.gl.getParameter(3379);return e=e<=0?4096:e},needsPreprocessedPremultipliedAlpha:function(){return!1},submitTexture2dPixels:function(e,n,t,i,l,s,r){ne.gl.pixelStorei(37441,r?1:0),ne.gl.texImage2D(3553,e,n,t,i,0,n,l,s)},submitCompressedTexture2dPixels:function(e,n,t,i,l,s){ne.gl.pixelStorei(37441,s?1:0),ne.gl.compressedTexImage2D(3553,e,n,t,i,0,l)},fetchTexture2dPixels:function(e,n,t,i,l){if(null==e)throw ct.thrown("Texture fetch requires a valid buffer to store the pixels.");var s=this._boundTexture2D[this._activeTextureSlot],r=i*l*4;if(e.length<r)throw ct.thrown("Texture fetch requires at least "+r+" (w * h * 4) bytes for the pixels, you have "+e.length+"!");r=ne.gl.createFramebuffer();if(ne.gl.bindFramebuffer(36160,r),ne.gl.framebufferTexture2D(36160,36064,3553,s,0),36053!=ne.gl.checkFramebufferStatus(36160))throw ct.thrown("Incomplete framebuffer");ne.gl.readPixels(n,t,i,l,6408,5121,e),ne.gl.bindFramebuffer(36160,null),ne.gl.deleteFramebuffer(r)},setTexture2dMinFilter:function(e){ne.gl.texParameteri(3553,10241,e)},setTexture2dMagFilter:function(e){ne.gl.texParameteri(3553,10240,e)},setTexture2dWrapS:function(e){ne.gl.texParameteri(3553,10242,e)},setTexture2dWrapT:function(e){ne.gl.texParameteri(3553,10243,e)},createFramebuffer:function(){return ne.gl.createFramebuffer()},bindFramebuffer:function(e){this._boundFramebuffer!=e&&(null==(this._boundFramebuffer=e)&&(e=this._defaultFramebuffer),ne.gl.bindFramebuffer(36160,e))},createRenderbuffer:function(){return ne.gl.createRenderbuffer()},bindRenderbuffer:function(e){this._boundRenderbuffer!=e&&(null==(this._boundRenderbuffer=e)&&(e=this._defaultRenderbuffer),ne.gl.bindRenderbuffer(36161,e))},createRenderTarget:function(e,n,t,i,l,s,r,h,a){var o=new nl;return ne.gl.texImage2D(3553,r,h,n,t,0,h,a,null),o.framebuffer=ne.gl.createFramebuffer(),o.renderbuffer=ne.gl.createRenderbuffer(),1<s?(o.msResolveFramebuffer=ne.gl.createFramebuffer(),o.msResolveColorRenderbuffer=ne.gl.createRenderbuffer(),o.msDepthStencilRenderbuffer=i||l?ne.gl.createRenderbuffer():null):(o.msResolveFramebuffer=null,o.msResolveColorRenderbuffer=null,o.msDepthStencilRenderbuffer=null),this.configureRenderTargetBuffersStorage(o,e,n,t,i,l,s),o},deleteRenderTarget:function(e){null!=e.framebuffer&&(this._boundFramebuffer==e.framebuffer&&(this._boundFramebuffer=null),ne.gl.deleteFramebuffer(e.framebuffer),e.framebuffer=null),null!=e.renderbuffer&&(this._boundRenderbuffer==e.renderbuffer&&(this._boundRenderbuffer=null),ne.gl.deleteRenderbuffer(e.renderbuffer),e.renderbuffer=null),null!=e.msDepthStencilRenderbuffer&&(this._boundRenderbuffer==e.msDepthStencilRenderbuffer&&(this._boundRenderbuffer=null),ne.gl.deleteRenderbuffer(e.msDepthStencilRenderbuffer),e.msDepthStencilRenderbuffer=null),null!=e.msResolveColorRenderbuffer&&(this._boundRenderbuffer==e.msResolveColorRenderbuffer&&(this._boundRenderbuffer=null),ne.gl.deleteRenderbuffer(e.msResolveColorRenderbuffer),e.msResolveColorRenderbuffer=null),null!=e.msResolveFramebuffer&&(this._boundFramebuffer==e.msResolveFramebuffer&&(this._boundFramebuffer=null),ne.gl.deleteFramebuffer(e.msResolveFramebuffer),e.msResolveFramebuffer=null)},setRenderTarget:function(e){null!=e?(this.bindFramebuffer((e=e).framebuffer),this.bindRenderbuffer(e.renderbuffer)):(this.bindFramebuffer(null),this.bindRenderbuffer(null))},configureRenderTargetBuffersStorage:function(e,n,t,i,l,s,r){1<r?(this.bindRenderbuffer(e.renderbuffer),ne.gl.renderbufferStorageMultisample(36161,r,32856,t,i),(l||s)&&(this.bindRenderbuffer(e.msDepthStencilRenderbuffer),s?ne.gl.renderbufferStorageMultisample(36161,r,35056,t,i):ne.gl.renderbufferStorageMultisample(36161,r,33189,t,i)),this.bindFramebuffer(e.framebuffer),ne.gl.framebufferRenderbuffer(36160,36064,36161,e.renderbuffer),(l||s)&&(s?ne.gl.framebufferRenderbuffer(36160,33306,36161,e.msDepthStencilRenderbuffer):ne.gl.framebufferRenderbuffer(36160,36096,36161,e.msDepthStencilRenderbuffer)),this.bindRenderbuffer(e.msResolveColorRenderbuffer),ne.gl.renderbufferStorage(36161,32856,t,i),this.bindFramebuffer(e.msResolveFramebuffer),ne.gl.framebufferTexture2D(36160,36064,3553,n,0)):(this.bindRenderbuffer(e.renderbuffer),s?ne.gl.renderbufferStorage(36161,34041,t,i):l?ne.gl.renderbufferStorage(36161,33189,t,i):ne.gl.renderbufferStorage(36161,6408,t,i),this.bindFramebuffer(e.framebuffer),ne.gl.framebufferTexture2D(36160,36064,3553,n,0),(l||s)&&(s?ne.gl.framebufferRenderbuffer(36160,33306,36161,e.renderbuffer):ne.gl.framebufferRenderbuffer(36160,36096,36161,e.renderbuffer)));var h=ne.gl.checkFramebufferStatus(36160);switch(h){case 36053:break;case 36054:throw ct.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT");case 36055:throw ct.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");case 36057:throw ct.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS");case 36059:throw ct.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DRAW_BUFFER");case 36060:throw ct.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_READ_BUFFER");case 36061:throw ct.thrown("Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED");case 36182:throw ct.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MULTISAMPLE");default:throw ct.thrown("Incomplete framebuffer: "+h)}this.bindFramebuffer(null),this.bindRenderbuffer(null)},blitRenderTargetBuffers:function(e,n,t){ne.gl.bindFramebuffer(36008,e.framebuffer),ne.gl.bindFramebuffer(36009,e.msResolveFramebuffer),ne.gl.clearBufferfv(6144,0,this._clearBufferForBlitValues,0),ne.gl.blitFramebuffer(0,0,n,t,0,0,n,t,16384,9728),ne.gl.bindFramebuffer(36008,null),ne.gl.bindFramebuffer(36009,null)},createShader:function(e,n,t,i){if(null==e)throw ct.thrown("Cannot create shader: vertSource is null!");if(null==n)throw ct.thrown("Cannot create shader: fragSource is null!");e=this.patchGlslVersion(e),n=this.patchGlslVersion(n);var l=new tl;return l.vertShader=this.compileGLShader(35633,e),null!=l.vertShader&&(l.fragShader=this.compileGLShader(35632,n),null!=l.fragShader)&&this.linkShader(l,t)?(null!=i&&this.configureShaderTextureSlots(l,i),l):(this.deleteShader(l),null)},patchGlslVersion:function(e){return e},deleteShader:function(e){this._boundProgram==e.program&&(this._boundProgram=null),null!=e.vertShader&&(ne.gl.deleteShader(e.vertShader),e.vertShader=null),null!=e.fragShader&&(ne.gl.deleteShader(e.fragShader),e.fragShader=null),null!=e.program&&(ne.gl.deleteProgram(e.program),e.program=null)},useShader:function(e){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program))},synchronizeShaderMatrices:function(e){var n=ne.gl.getUniformLocation(e.program,"projectionMatrix"),t=this.projectionMatrix,i=(this._boundProgram!=(i=e).program&&(this._boundProgram=i.program,ne.gl.useProgram(i.program)),ne.gl.uniformMatrix4fv(n,!1,t),e),n=ne.gl.getUniformLocation(i.program,"modelViewMatrix"),t=this.modelViewMatrix;this._boundProgram!=(i=e).program&&(this._boundProgram=i.program,ne.gl.useProgram(i.program)),ne.gl.uniformMatrix4fv(n,!1,t)},getUniformLocation:function(e,n){return ne.gl.getUniformLocation(e.program,n)},setIntUniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1i(n,t)},setIntArrayUniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1iv(n,t)},setFloatUniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1f(n,t)},setFloatArrayUniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1fv(n,t)},setVector2Uniform:function(e,n,t,i){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform2f(n,t,i)},setVector3Uniform:function(e,n,t,i,l){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform3f(n,t,i,l)},setVector4Uniform:function(e,n,t,i,l,s){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform4f(n,t,i,l,s)},setMatrix2Uniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniformMatrix2fv(n,!1,t)},setMatrix3Uniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniformMatrix3fv(n,!1,t)},setMatrix4Uniform:function(e,n,t){this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniformMatrix4fv(n,!1,t)},setTexture2dUniform:function(e,n,t,i){if(this._boundProgram!=e.program&&(this._boundProgram=e.program,ne.gl.useProgram(e.program)),ne.gl.uniform1i(n,t),this._activeTextureSlot!=t){for(this._activeTextureSlot=t;this._boundTexture2D.length<=this._activeTextureSlot;)this._boundTexture2D.push(null);ne.gl.activeTexture(33984+t)}this._boundTexture2D[this._activeTextureSlot]!=i&&(this._boundTexture2D[this._activeTextureSlot]=i,ne.gl.bindTexture(3553,i))},projectionMatrix:null,modelViewMatrix:null,linkShader:function(e,n){var t=ne.gl.createProgram();if(ne.gl.attachShader(t,e.vertShader),ne.gl.attachShader(t,e.fragShader),null!=n)for(var i=0,l=n.length;i<l;){var s=i++;ne.gl.bindAttribLocation(t,s,n[s])}if(ne.gl.linkProgram(t),0!=ne.gl.getProgramParameter(t,35714))return e.program=t,!0;Ni.error("\tFailed to link shader program:",{fileName:"../../../../ceramic/git/clay/src-opengl/clay/opengl/GLGraphicsDriver.hx",lineNumber:1198,className:"clay.opengl.GLGraphicsDriver",methodName:"linkShader"});for(var i=[],l=0,r=a=ne.gl.getProgramInfoLog(t).split("\n");l<r.length;){var h=r[l];++l,""!=z.trim(h)&&i.push(h)}for(var a=i,o=new Array(a.length),i=0,l=a.length;i<l;)o[s=i++]="\t\t"+z.trim(a[s]);return Ni.error((a=o).join("\n"),{fileName:"../../../../ceramic/git/clay/src-opengl/clay/opengl/GLGraphicsDriver.hx",lineNumber:1199,className:"clay.opengl.GLGraphicsDriver",methodName:"linkShader"}),ne.gl.deleteProgram(t),!1},configureShaderTextureSlots:function(e,n){for(var t=e,i=(this._boundProgram!=t.program&&(this._boundProgram=t.program,ne.gl.useProgram(t.program)),0),l=n.length;i<l;){var s=i++,r=n[s],h=ne.gl.getUniformLocation(e.program,r);null!=h&&(ne.gl.uniform1i(h,s),e.textures[s]=r)}},compileGLShader:function(e,n){var t,i=ne.gl.createShader(e),n=(ne.gl.shaderSource(i,n),ne.gl.compileShader(i),ne.gl.getShaderInfoLog(i)),l="";if(null!=n&&0<n.length){l+="\n\t// start -- ("+(35632==e?"frag":"vert")+") compile log --\n";for(var s=[],r=0,h=c=n.split("\n");r<h.length;){var a=h[r];++r,""!=z.trim(a)&&s.push(a)}c=s;for(var o=new Array(c.length),s=0,r=c.length;s<r;)o[u=s++]="\t\t"+z.trim(c[u]);l=l+(c=o).join("\n")+"\n\t// end --\n"}if(0==ne.gl.getShaderParameter(i,35713)){if(Ni.error("GL / Failed to compile shader:",{fileName:"../../../../ceramic/git/clay/src-opengl/clay/opengl/GLGraphicsDriver.hx",lineNumber:1261,className:"clay.opengl.GLGraphicsDriver",methodName:"compileGLShader"}),0==l.length){for(var c,s=[],r=0,h=c=ne.gl.getShaderInfoLog(i).split("\n");r<h.length;){a=h[r];++r,""!=z.trim(a)&&s.push(a)}c=s;for(var u,o=new Array(c.length),s=0,r=c.length;s<r;)o[u=s++]="\t\t"+z.trim(c[u]);t=(c=o).join("\n")}else t=l;Ni.error(t,{fileName:"../../../../ceramic/git/clay/src-opengl/clay/opengl/GLGraphicsDriver.hx",lineNumber:1262,className:"clay.opengl.GLGraphicsDriver",methodName:"compileGLShader"}),ne.gl.deleteShader(i),i=null}return i},ensureNoError:function(){var e=ne.gl.getError();if(0!=e)throw ct.thrown("Failed with GL error: "+e)},__class__:el,__properties__:{get_noBuffer:"get_noBuffer",get_noLocation:"get_noLocation",get_noProgram:"get_noProgram",get_noShader:"get_noShader",get_noRenderbuffer:"get_noRenderbuffer",get_noFramebuffer:"get_noFramebuffer",get_noTexture:"get_noTexture"}},function(){}),tl=((E["clay.opengl.GLGraphicsDriver_RenderTarget"]=nl).__name__="clay.opengl.GLGraphicsDriver_RenderTarget",nl.prototype={framebuffer:null,renderbuffer:null,msResolveFramebuffer:null,msResolveColorRenderbuffer:null,msDepthStencilRenderbuffer:null,__class__:nl},function(){this.textures=[]}),ne=((E["clay.opengl.GLGraphicsDriver_GpuShader"]=tl).__name__="clay.opengl.GLGraphicsDriver_GpuShader",tl.prototype={vertShader:null,fragShader:null,program:null,textures:null,__class__:tl},function(){}),il=((E["clay.opengl.web.GL"]=ne).__name__="clay.opengl.web.GL",ne.__properties__={get_version:"get_version"},ne.versionString=function(){return"/ "+ne.gl.getParameter(7938)+" / "+ne.gl.getParameter(35724)+" / "+ne.gl.getParameter(7937)+" / "+ne.gl.getParameter(7936)+" /"},ne.activeTexture=function(e){ne.gl.activeTexture(e)},ne.attachShader=function(e,n){ne.gl.attachShader(e,n)},ne.bindAttribLocation=function(e,n,t){ne.gl.bindAttribLocation(e,n,t)},ne.bindBuffer=function(e,n){ne.gl.bindBuffer(e,n)},ne.bindFramebuffer=function(e,n){ne.gl.bindFramebuffer(e,n)},ne.bindRenderbuffer=function(e,n){ne.gl.bindRenderbuffer(e,n)},ne.bindTexture=function(e,n){ne.gl.bindTexture(e,n)},ne.blendColor=function(e,n,t,i){ne.gl.blendColor(e,n,t,i)},ne.blendEquation=function(e){ne.gl.blendEquation(e)},ne.blendEquationSeparate=function(e,n){ne.gl.blendEquationSeparate(e,n)},ne.blendFunc=function(e,n){ne.gl.blendFunc(e,n)},ne.blendFuncSeparate=function(e,n,t,i){ne.gl.blendFuncSeparate(e,n,t,i)},ne.bufferData=function(e,n,t){ne.gl.bufferData(e,n,t)},ne.bufferSubData=function(e,n,t){ne.gl.bufferSubData(e,n,t)},ne.checkFramebufferStatus=function(e){return ne.gl.checkFramebufferStatus(e)},ne.clear=function(e){ne.gl.clear(e)},ne.clearColor=function(e,n,t,i){ne.gl.clearColor(e,n,t,i)},ne.clearDepth=function(e){ne.gl.clearDepth(e)},ne.clearStencil=function(e){ne.gl.clearStencil(e)},ne.colorMask=function(e,n,t,i){ne.gl.colorMask(e,n,t,i)},ne.compileShader=function(e){ne.gl.compileShader(e)},ne.compressedTexImage2D=function(e,n,t,i,l,s,r){ne.gl.compressedTexImage2D(e,n,t,i,l,s,r)},ne.compressedTexSubImage2D=function(e,n,t,i,l,s,r,h){ne.gl.compressedTexSubImage2D(e,n,t,i,l,s,r,h)},ne.copyTexImage2D=function(e,n,t,i,l,s,r,h){ne.gl.copyTexImage2D(e,n,t,i,l,s,r,h)},ne.copyTexSubImage2D=function(e,n,t,i,l,s,r,h){ne.gl.copyTexSubImage2D(e,n,t,i,l,s,r,h)},ne.createBuffer=function(){return ne.gl.createBuffer()},ne.createFramebuffer=function(){return ne.gl.createFramebuffer()},ne.createProgram=function(){return ne.gl.createProgram()},ne.createRenderbuffer=function(){return ne.gl.createRenderbuffer()},ne.createShader=function(e){return ne.gl.createShader(e)},ne.createTexture=function(){return ne.gl.createTexture()},ne.cullFace=function(e){ne.gl.cullFace(e)},ne.deleteBuffer=function(e){ne.gl.deleteBuffer(e)},ne.deleteFramebuffer=function(e){ne.gl.deleteFramebuffer(e)},ne.deleteProgram=function(e){ne.gl.deleteProgram(e)},ne.deleteRenderbuffer=function(e){ne.gl.deleteRenderbuffer(e)},ne.deleteShader=function(e){ne.gl.deleteShader(e)},ne.deleteTexture=function(e){ne.gl.deleteTexture(e)},ne.depthFunc=function(e){ne.gl.depthFunc(e)},ne.depthMask=function(e){ne.gl.depthMask(e)},ne.depthRange=function(e,n){ne.gl.depthRange(e,n)},ne.detachShader=function(e,n){ne.gl.detachShader(e,n)},ne.disable=function(e){ne.gl.disable(e)},ne.disableVertexAttribArray=function(e){ne.gl.disableVertexAttribArray(e)},ne.drawArrays=function(e,n,t){ne.gl.drawArrays(e,n,t)},ne.drawElements=function(e,n,t,i){ne.gl.drawElements(e,n,t,i)},ne.enable=function(e){ne.gl.enable(e)},ne.enableVertexAttribArray=function(e){ne.gl.enableVertexAttribArray(e)},ne.finish=function(){ne.gl.finish()},ne.flush=function(){ne.gl.flush()},ne.framebufferRenderbuffer=function(e,n,t,i){ne.gl.framebufferRenderbuffer(e,n,t,i)},ne.framebufferTexture2D=function(e,n,t,i,l){ne.gl.framebufferTexture2D(e,n,t,i,l)},ne.frontFace=function(e){ne.gl.frontFace(e)},ne.generateMipmap=function(e){ne.gl.generateMipmap(e)},ne.getActiveAttrib=function(e,n){return ne.gl.getActiveAttrib(e,n)},ne.getActiveUniform=function(e,n){return ne.gl.getActiveUniform(e,n)},ne.getAttachedShaders=function(e){return ne.gl.getAttachedShaders(e)},ne.getAttribLocation=function(e,n){return ne.gl.getAttribLocation(e,n)},ne.getBufferParameter=function(e,n){return ne.gl.getBufferParameter(e,n)},ne.getContextAttributes=function(){return ne.gl.getContextAttributes()},ne.getError=function(){return ne.gl.getError()},ne.getExtension=function(e){return ne.gl.getExtension(e)},ne.getFramebufferAttachmentParameter=function(e,n,t){return ne.gl.getFramebufferAttachmentParameter(e,n,t)},ne.getParameter=function(e){return ne.gl.getParameter(e)},ne.getProgramInfoLog=function(e){return ne.gl.getProgramInfoLog(e)},ne.getProgramParameter=function(e,n){return ne.gl.getProgramParameter(e,n)},ne.getRenderbufferParameter=function(e,n){return ne.gl.getRenderbufferParameter(e,n)},ne.getShaderInfoLog=function(e){return ne.gl.getShaderInfoLog(e)},ne.getShaderParameter=function(e,n){return ne.gl.getShaderParameter(e,n)},ne.getShaderPrecisionFormat=function(e,n){return ne.gl.getShaderPrecisionFormat(e,n)},ne.getShaderSource=function(e){return ne.gl.getShaderSource(e)},ne.getSupportedExtensions=function(){return ne.gl.getSupportedExtensions()},ne.getTexParameter=function(e,n){return ne.gl.getTexParameter(e,n)},ne.getUniform=function(e,n){return ne.gl.getUniform(e,n)},ne.getUniformLocation=function(e,n){return ne.gl.getUniformLocation(e,n)},ne.getVertexAttrib=function(e,n){return ne.gl.getVertexAttrib(e,n)},ne.getVertexAttribOffset=function(e,n){return ne.gl.getVertexAttribOffset(e,n)},ne.hint=function(e,n){ne.gl.hint(e,n)},ne.isBuffer=function(e){return ne.gl.isBuffer(e)},ne.isEnabled=function(e){return ne.gl.isEnabled(e)},ne.isFramebuffer=function(e){return ne.gl.isFramebuffer(e)},ne.isProgram=function(e){return ne.gl.isProgram(e)},ne.isRenderbuffer=function(e){return ne.gl.isRenderbuffer(e)},ne.isShader=function(e){return ne.gl.isShader(e)},ne.isTexture=function(e){return ne.gl.isTexture(e)},ne.lineWidth=function(e){ne.gl.lineWidth(e)},ne.linkProgram=function(e){ne.gl.linkProgram(e)},ne.pixelStorei=function(e,n){ne.gl.pixelStorei(e,n)},ne.polygonOffset=function(e,n){ne.gl.polygonOffset(e,n)},ne.readPixels=function(e,n,t,i,l,s,r){ne.gl.readPixels(e,n,t,i,l,s,r)},ne.renderbufferStorage=function(e,n,t,i){ne.gl.renderbufferStorage(e,n,t,i)},ne.renderbufferStorageMultisample=function(e,n,t,i,l){ne.gl.renderbufferStorageMultisample(e,n,t,i,l)},ne.clearBufferfv=function(e,n,t,i){ne.gl.clearBufferfv(e,n,t,i=null==i?0:i)},ne.blitFramebuffer=function(e,n,t,i,l,s,r,h,a,o){ne.gl.blitFramebuffer(e,n,t,i,l,s,r,h,a,o)},ne.sampleCoverage=function(e,n){ne.gl.sampleCoverage(e,n)},ne.scissor=function(e,n,t,i){ne.gl.scissor(e,n,t,i)},ne.shaderSource=function(e,n){ne.gl.shaderSource(e,n)},ne.stencilFunc=function(e,n,t){ne.gl.stencilFunc(e,n,t)},ne.stencilFuncSeparate=function(e,n,t,i){ne.gl.stencilFuncSeparate(e,n,t,i)},ne.stencilMask=function(e){ne.gl.stencilMask(e)},ne.stencilMaskSeparate=function(e,n){ne.gl.stencilMaskSeparate(e,n)},ne.stencilOp=function(e,n,t){ne.gl.stencilOp(e,n,t)},ne.stencilOpSeparate=function(e,n,t,i){ne.gl.stencilOpSeparate(e,n,t,i)},ne.texImage2D=function(e,n,t,i,l,s,r,h,a){ne.gl.texImage2D(e,n,t,i,l,s,r,h,a)},ne.texParameterf=function(e,n,t){ne.gl.texParameterf(e,n,t)},ne.texParameteri=function(e,n,t){ne.gl.texParameteri(e,n,t)},ne.texSubImage2D=function(e,n,t,i,l,s,r,h,a){ne.gl.texSubImage2D(e,n,t,i,l,s,r,h,a)},ne.uniform1f=function(e,n){ne.gl.uniform1f(e,n)},ne.uniform1fv=function(e,n){ne.gl.uniform1fv(e,n)},ne.uniform1i=function(e,n){ne.gl.uniform1i(e,n)},ne.uniform1iv=function(e,n){ne.gl.uniform1iv(e,n)},ne.uniform2f=function(e,n,t){ne.gl.uniform2f(e,n,t)},ne.uniform2fv=function(e,n){ne.gl.uniform2fv(e,n)},ne.uniform2i=function(e,n,t){ne.gl.uniform2i(e,n,t)},ne.uniform2iv=function(e,n){ne.gl.uniform2iv(e,n)},ne.uniform3f=function(e,n,t,i){ne.gl.uniform3f(e,n,t,i)},ne.uniform3fv=function(e,n){ne.gl.uniform3fv(e,n)},ne.uniform3i=function(e,n,t,i){ne.gl.uniform3i(e,n,t,i)},ne.uniform3iv=function(e,n){ne.gl.uniform3iv(e,n)},ne.uniform4f=function(e,n,t,i,l){ne.gl.uniform4f(e,n,t,i,l)},ne.uniform4fv=function(e,n){ne.gl.uniform4fv(e,n)},ne.uniform4i=function(e,n,t,i,l){ne.gl.uniform4i(e,n,t,i,l)},ne.uniform4iv=function(e,n){ne.gl.uniform4iv(e,n)},ne.uniformMatrix2fv=function(e,n,t){ne.gl.uniformMatrix2fv(e,n,t)},ne.uniformMatrix3fv=function(e,n,t){ne.gl.uniformMatrix3fv(e,n,t)},ne.uniformMatrix4fv=function(e,n,t){ne.gl.uniformMatrix4fv(e,n,t)},ne.useProgram=function(e){ne.gl.useProgram(e)},ne.validateProgram=function(e){ne.gl.validateProgram(e)},ne.vertexAttrib1f=function(e,n){ne.gl.vertexAttrib1f(e,n)},ne.vertexAttrib1fv=function(e,n){ne.gl.vertexAttrib1fv(e,n)},ne.vertexAttrib2f=function(e,n,t){ne.gl.vertexAttrib2f(e,n,t)},ne.vertexAttrib2fv=function(e,n){ne.gl.vertexAttrib2fv(e,n)},ne.vertexAttrib3f=function(e,n,t,i){ne.gl.vertexAttrib3f(e,n,t,i)},ne.vertexAttrib3fv=function(e,n){ne.gl.vertexAttrib3fv(e,n)},ne.vertexAttrib4f=function(e,n,t,i,l){ne.gl.vertexAttrib4f(e,n,t,i,l)},ne.vertexAttrib4fv=function(e,n){ne.gl.vertexAttrib4fv(e,n)},ne.vertexAttribPointer=function(e,n,t,i,l,s){ne.gl.vertexAttribPointer(e,n,t,i,l,s)},ne.viewport=function(e,n,t,i){ne.gl.viewport(e,n,t,i)},ne.get_version=function(){return 7938},function(e){m2.call(this,e)}),ll=((E["clay.web.WebAssets"]=il).__name__="clay.web.WebAssets",il.__super__=m2,il.prototype=$extend(m2.prototype,{isSynchronous:function(){return!1},loadImage:function(e,n,t,i){null==t&&(t=!1),null==n&&(n=4);var l=this;if(null==e)throw ct.thrown("Image path is null!");var s=Dt.extension(e);return this.app.io.loadData(e,!0,null,function(e){null==e?null!=i&&Li.push(function(){i(null)}):l.imageFromBytesUsingImageElement(e,s,4,null,function(e){null!=i&&Li.push(function(){i(e)})})}),null},decodeImageFromElement:function(e,n){var t=(n=null==n?!0:n)?this.nearestPowerOfTwo(e.width):e.width,n=n?this.nearestPowerOfTwo(e.height):e.height,i=this.paddedBytesFromElement(e.width,e.height,t,n,e),e=new Sc(e.width,e.height,t,n,4,4,i);return e},imageFromBytes:function(e,n,t,i,l){return this.imageFromBytesUsingImageElement(e,n,t=null==t?4:t,i=null==i?!0:i,l)},imageFromBytesUsingImageElement:function(e,n,t,i,l){null==i&&(i=!0),null==t&&(t=4);var s=this;if(null==e)throw ct.thrown("Image bytes are null!");for(var r="",h=0,a=e.length;h<a;){var o=255&e[h++];r+=String.fromCodePoint(o)}var t="data:image/"+n+";base64,"+window.btoa(r),c=new Image;return c.onload=function(e){var n=s.decodeImageFromElement(c,i);null!=l&&Li.push(function(){l(n)})},c.onerror=function(e){Ni.error("failed to load image from bytes, on error: "+e,{fileName:"clay/web/WebAssets.hx",lineNumber:216,className:"clay.web.WebAssets",methodName:"imageFromBytesUsingImageElement"})},c.src=t,null},pixelsToPngData:function(n,e,t,i){var l=window.document.createElement("canvas"),s=(l.width=n,l.height=e,l.getContext("2d",null)),t=(s.clearRect(0,0,l.width,l.height),new Uint8ClampedArray(t.buffer)),r=s.createImageData(n,e);r.data.set(t);try{s.putImageData(r,0,0),l.toBlob(function(e){e.arrayBuffer().then(function(e){e=new Uint8Array(e,0,e.byteLength);i(e),r=s=l=null})},"image/png")}catch(e){zl.lastError=e;n=ct.caught(e).unwrap();throw ct.thrown(n)}},paddedBytesFromPixels:function(e,n,t,i,l){var s=window.document.createElement("canvas"),t=(s.width=t,s.height=i,s.getContext("2d",null)),i=(t.clearRect(0,0,s.width,s.height),null),l=new Uint8ClampedArray(l.buffer),e=t.createImageData(e,n);e.data.set(l);try{t.putImageData(e,0,0),i=t.getImageData(0,0,s.width,s.height)}catch(e){zl.lastError=e;n=ct.caught(e).unwrap();throw ct.thrown(n)}return e=t=s=null,new Uint8Array(i.data)},paddedBytesFromElement:function(e,n,t,i,l){var s=window.document.createElement("canvas"),t=(s.width=t,s.height=i,s.getContext("2d",null)),i=(t.clearRect(0,0,s.width,s.height),t.drawImage(l,0,0,e,n),null);try{i=t.getImageData(0,0,s.width,s.height)}catch(e){zl.lastError=e;l=ct.caught(e).unwrap();throw Ni.info("- textures served from file:/// throw security errors\n- textures served over http:// work for cross origin byte requests",{fileName:"clay/web/WebAssets.hx",lineNumber:333,className:"clay.web.WebAssets",methodName:"paddedBytesFromElement"}),ct.thrown(l)}return t=s=null,new Uint8Array(i.data)},nearestPowerOfTwo:function(e){return il.POT?(--e,e=(e=(e=(e=(e|=e>>1)|e>>2)|e>>4)|e>>8)|e>>16,++e):e},__class__:il}),function(e){this.active=!1,this.workletMessageCallbacks=[],this.pendingBusWorkletCallbacks=[],this.ignoreEndedSoundsTick1=[],this.ignoreEndedSoundsTick0=[],this.handleSeq=0,this.suspended=!1,n2.call(this,e),this.instances=new $l,this.busses=new $l,this.workletModules=new te}),sl=((E["clay.web.WebAudio"]=ll).__name__="clay.web.WebAudio",ll.__super__=n2,ll.prototype=$extend(n2.prototype,{suspended:null,handleSeq:null,instances:null,buffers:null,busses:null,workletModules:null,ignoreEndedSoundsTick0:null,ignoreEndedSoundsTick1:null,pendingBusWorkletCallbacks:null,workletMessageCallbacks:null,context:null,active:null,init:function(){this.initWebAudio(),this.createDefaultBus()},tick:function(e){for(var n=this.instances,t=n,i=n.keys();i.hasNext();){var l=i.next(),l={value:t.get(l),key:l},s=l.key,r=l.value;if(r.loop&&1==r.state){var h=1==r.state?r.timeResume+(this.app.timestamp-r.timeResumeAppTime)*r.pitch:0,a=r.source.getDuration();if(0<a&&a<=h)for(this.app.events.audioEvent(0,s);a<=h;)h-=a,r.timeResumeAppTime+=a/r.pitch}}for(;0<this.ignoreEndedSoundsTick1.length;)0<(r=this.ignoreEndedSoundsTick1.shift()).ignoreNextEnded&&r.ignoreNextEnded--;for(;0<this.ignoreEndedSoundsTick0.length;){r=this.ignoreEndedSoundsTick0.shift();this.ignoreEndedSoundsTick1.push(r)}},initWebAudio:function(e){null==e&&(e=44100);try{this.context=new AudioContext({sampleRate:44100})}catch(e){zl.lastError=e;try{this.context=new window.webkitAudioContext}catch(e){return void Ni.debug("Audio / webaudio / no AudioContext could be created! No audio loading or playback will be available.",{fileName:"clay/web/WebAudio.hx",lineNumber:138,className:"clay.web.WebAudio",methodName:"initWebAudio"})}}if(null==this.context)throw ct.thrown("Audio / webaudio / no AudioContext could be created, is the Web Audio API supported?");e="channelCount: "+this.context.destination.channelCount+', channelCountMode: "'+this.context.destination.channelCountMode+'", channelInterpretation: "'+this.context.destination.channelInterpretation+'", maxChannelCount: '+this.context.destination.maxChannelCount+", numberOfInputs: "+this.context.destination.numberOfInputs+", numberOfOutputs: "+this.context.destination.numberOfOutputs;Ni.debug("Audio / webaudio: "+ot.string(this.context)+" / sampleRate: "+this.context.sampleRate+" / destination: "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:154,className:"clay.web.WebAudio",methodName:"initWebAudio"}),this.active=!0},shutdown:function(){for(var e=this.busses.iterator();e.hasNext();){var n=e.next();null!=n.workletNode&&n.workletNode.disconnect(),null!=n.silentSource&&(n.silentSource.stop(),n.silentSource.disconnect()),n.gainNode.disconnect()}this.busses.h={},this.context.close()},createDefaultBus:function(){this.createBus(0,null,1)},createBus:function(e,n,t){if(null==t&&(t=1),null==n&&(n=""),this.busses.h.hasOwnProperty(e))Ni.warning("Audio / Bus "+e+" already exists",{fileName:"clay/web/WebAudio.hx",lineNumber:185,className:"clay.web.WebAudio",methodName:"createBus"});else{for(var i=this.context.createGain(),n=(i.gain.value=t,i.connect(this.context.destination),0<n.length?n:"bus-"+e),l=[],s=0;s<128;){s++;l.push(0)}i={ready:!1,index:e,gainNode:i,workletNode:null,silentSource:null,volume:t,active:!0,name:n,parameterValues:l};this.busses.h[e]=i,Ni.debug("Audio / Created bus "+e+": "+i.name,{fileName:"clay/web/WebAudio.hx",lineNumber:206,className:"clay.web.WebAudio",methodName:"createBus"})}},destroyBus:function(e){if(0==e)Ni.warning("Audio / Cannot destroy default bus",{fileName:"clay/web/WebAudio.hx",lineNumber:211,className:"clay.web.WebAudio",methodName:"destroyBus"});else{var n=this.busses.h[e];if(null!=n){for(var t=this.instances,i=t,l=t.keys();l.hasNext();){var s=l.next(),s={value:i.get(s),key:s};s.value.bus==e&&this.stop(s.key)}null!=n.workletNode&&n.workletNode.disconnect(),null!=n.silentSource&&(n.silentSource.stop(),n.silentSource.disconnect()),n.gainNode.disconnect(),this.busses.remove(e),Ni.debug("Audio / Destroyed bus "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:238,className:"clay.web.WebAudio",methodName:"destroyBus"})}}},setBusVolume:function(e,n){var t=this.busses.h[e];null!=t&&(t.volume=n,t.gainNode.gain.value=n,Ni.debug("Audio / Set bus "+e+" volume to "+n,{fileName:"clay/web/WebAudio.hx",lineNumber:247,className:"clay.web.WebAudio",methodName:"setBusVolume"}))},getBusVolume:function(e){e=this.busses.h[e];return null!=e?e.volume:0},setBusActive:function(e,n){var t=this.busses.h[e];null!=t&&(t.active=n,t.gainNode.gain.value=n?t.volume:0,Ni.debug("Audio / Set bus "+e+" active: "+(null==n?"null":""+n),{fileName:"clay/web/WebAudio.hx",lineNumber:261,className:"clay.web.WebAudio",methodName:"setBusActive"}))},loadWorkletModule:function(n,e,t){var i=this;Object.prototype.hasOwnProperty.call(this.workletModules.h,n)?(Ni.debug("Audio / Worklet module "+n+" already loaded",{fileName:"clay/web/WebAudio.hx",lineNumber:268,className:"clay.web.WebAudio",methodName:"loadWorkletModule"}),null!=t&&t(!0)):L.field(this.context,"audioWorklet").addModule(e).then(function(e){i.workletModules.h[n]=!0,Ni.debug("Audio / Loaded worklet module: "+n,{fileName:"clay/web/WebAudio.hx",lineNumber:275,className:"clay.web.WebAudio",methodName:"loadWorkletModule"}),null!=t&&t(!0)}).catch(function(e){Ni.error("Audio / Failed to load worklet module "+n+": "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:279,className:"clay.web.WebAudio",methodName:"loadWorkletModule"}),null!=t&&t(!1)})},attachWorkletToBus:function(l,e,n,s){var r=this,h=this.busses.h[l];if(null==h)return Ni.error("Audio / Bus "+l+" does not exist",{fileName:"clay/web/WebAudio.hx",lineNumber:287,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"}),!1;if(!Object.prototype.hasOwnProperty.call(this.workletModules.h,e))return Ni.error("Audio / Worklet module "+e+" not loaded",{fileName:"clay/web/WebAudio.hx",lineNumber:292,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"}),!1;null!=h.workletNode&&(h.workletNode.disconnect(),null!=h.silentSource)&&(h.silentSource.stop(),h.silentSource.disconnect(),h.silentSource=null);try{var a=new AudioWorkletNode(this.context,e,n);if(null!=h.parameterValues)for(var t=0;t<128;){var i=t++,o=a.parameters.get("param"+i);null!=o&&(o.value=h.parameterValues[i])}var c=this.context.createConstantSource(),u=(c.offset.value=0,this.context.createGain()),_=(u.gain.value=1,u.channelCount=2,u.channelCountMode="explicit",u.channelInterpretation="speakers",this.context.createChannelMerger(2));return c.connect(_,0,0),c.connect(_,0,1),h.gainNode.disconnect(),h.gainNode.connect(u),_.connect(u),u.connect(a),a.connect(this.context.destination),c.start(),h.workletNode=a,h.silentSource=c,a.port.onmessage=function(e){var n=null!=e?e.data:null,n=null!=n?n.type:null;if(null!=n)switch(n){case"addBusFilterWorklet":for(var t=r.workletMessageCallbacks.length-1;0<=t;){var i=r.workletMessageCallbacks[t];"addBusFilterWorklet"==i.type&&i.bus==e.data.bus&&i.filterId==e.data.filterId&&(r.workletMessageCallbacks.splice(t,1),i.callback()),--t}break;case"ready":h.ready=!0,r.flushBusWorkletReadyCallbacks(l),null!=s&&(s(),s=null,a.port.postMessage({type:"ready"}));break;case"trace":Wl.trace(e.data,{fileName:"clay/web/WebAudio.hx",lineNumber:357,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"})}},Ni.debug("Audio / Attached worklet "+e+" to bus "+l+" with stereo silent source",{fileName:"clay/web/WebAudio.hx",lineNumber:382,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"}),!0}catch(t){zl.lastError=t;n=ct.caught(t).unwrap();return Ni.error("Audio / Failed to create worklet node: "+ot.string(n),{fileName:"clay/web/WebAudio.hx",lineNumber:386,className:"clay.web.WebAudio",methodName:"attachWorkletToBus"}),h.gainNode.connect(this.context.destination),!1}},detachWorkletFromBus:function(e){var n=this.busses.h[e];null!=n&&null!=n.workletNode&&n.ready&&(n.workletNode.disconnect(),null!=n.silentSource&&(n.silentSource.stop(),n.silentSource.disconnect(),n.silentSource=null),n.gainNode.disconnect(),n.gainNode.connect(this.context.destination),n.workletNode=null,Ni.debug("Audio / Detached worklet from bus "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:411,className:"clay.web.WebAudio",methodName:"detachWorkletFromBus"}))},sendMessageToWorklet:function(e,n){e=this.busses.h[e];null!=e&&null!=e.workletNode&&e.ready&&e.workletNode.port.postMessage(n)},flushBusWorkletReadyCallbacks:function(e){var n=this.pendingBusWorkletCallbacks[e];if(null!=n){this.pendingBusWorkletCallbacks[e]=null;for(var t=0,i=n.length;t<i;)(0,n[t++])()}},scheduleWhenBusWorkletReady:function(e,n){var t=this.busses.h[e];null!=t&&null!=t.workletNode&&t.ready?n():(null==(t=this.pendingBusWorkletCallbacks[e])&&(this.pendingBusWorkletCallbacks[e]=t=[]),t.push(n))},setWorkletParameterWhenReady:function(e,n,t){var i=this,l=this.busses.h[e];null!=l&&null!=l.workletNode&&l.ready?this.setWorkletParameter(e,n,t):this.scheduleWhenBusWorkletReady(e,function(){i.setWorkletParameter(e,n,t)})},setWorkletParameter:function(e,n,t){var i,l=this.busses.h[e];null!=l&&null!=l.workletNode&&l.ready&&(null!=(i=l.workletNode.parameters.get(n))?(i.value=t,z.startsWith(n,"param")&&null!=(i=ot.parseInt(he.substr(n,5,null)))&&0<=i&&i<128&&(l.parameterValues[i]=t)):Ni.warning('Audio / Unknown worklet parameter named "'+n+'" for bus '+e,{fileName:"clay/web/WebAudio.hx",lineNumber:480,className:"clay.web.WebAudio",methodName:"setWorkletParameter"}))},setWorkletParameterByIndexWhenReady:function(e,n,t){var i=this,l=this.busses.h[e];null!=l&&null!=l.workletNode&&l.ready?this.setWorkletParameterByIndex(e,n,t):this.scheduleWhenBusWorkletReady(e,function(){i.setWorkletParameterByIndex(e,n,t)})},setWorkletParameterByIndex:function(e,n,t){n<0||128<=n?Ni.warning("Audio / Parameter index "+n+" out of range (0-127)",{fileName:"clay/web/WebAudio.hx",lineNumber:498,className:"clay.web.WebAudio",methodName:"setWorkletParameterByIndex"}):this.setWorkletParameter(e,"param"+n,t)},getWorkletParameterByIndex:function(e,n){return n<0||128<=n||null==(e=this.busses.h[e])||null==e.parameterValues?0:e.parameterValues[n]},soundOf:function(e){return this.instances.h[e]},getBusGainNode:function(e){var n=this.busses.h[e];return null==n&&(Ni.debug("Audio / Bus "+e+" does not exist, creating it automatically",{fileName:"clay/web/WebAudio.hx",lineNumber:524,className:"clay.web.WebAudio",methodName:"getBusGainNode"}),this.createBus(e),n=this.busses.h[e]),n.gainNode},playBuffer:function(e){var n=this.context.createBufferSource();return n.buffer=e.buffer,n},playBufferAgain:function(e,n,t){var i=this,l=(n.bufferNode=this.playBuffer(n.source.data),n.bufferNode.playbackRate.value=n.pitch,n.bufferNode.connect(n.panNode),n.bufferNode.loop=n.loop,n.panNode.connect(n.gainNode),this.getBusGainNode(n.bus));n.gainNode.connect(l),n.bufferNode.start(0,t),n.bufferNode.onended=function(){i.soundEnded(n)}},playInstance:function(e,n,t,i,l,s,r,h){null==h&&(h=0);var a=this,o=this.context.createGain(),c=this.context.createPanner(),u=null,s=(o.gain.value=s,c.panningModel="equalpower",c.setPosition(Math.cos(-1.5707),0,Math.sin(1.5707)),null!=l&&((u=l).loop=r),null!=i.mediaNode&&(u=i.mediaNode,i.mediaElem.loop=r),u.connect(c),c.connect(o),this.getBusGainNode(h)),_=(o.connect(s),{handle:e,source:n,instance:t,bus:h,bufferNode:l,mediaNode:i.mediaNode,mediaElem:i.mediaElem,gainNode:o,panNode:c,state:1,loop:r,pan:0,pitch:1,ignoreNextEnded:0,timeResumeAppTime:window.performance.now()/1e3-al.timestampStart,timeResume:0,timePause:null});this.instances.h[e]=_,null!=l&&(l.start(0),l.onended=function(){a.soundEnded(_)}),null!=i.mediaNode&&(i.mediaElem.play(),i.mediaElem.onended=function(){a.soundEnded(_)})},play:function(e,n,t,i){null==i&&(i=0);var l=e.data,s=this.handleSeq,r=e.instance(s);return e.data.isStream?(l.mediaElem.play(),l.mediaElem.volume=1,this.playInstance(s,e,r,l,null,n,!1,i)):this.playInstance(s,e,r,l,this.playBuffer(l),n,!1,i),this.handleSeq++,t&&this.pause(s),s},loop:function(e,n,t,i){null==i&&(i=0);var l=e.data,s=this.handleSeq,r=e.instance(s);return e.data.isStream?(l.mediaElem.play(),l.mediaElem.volume=1,this.playInstance(s,e,r,l,null,n,!0,i)):this.playInstance(s,e,r,l,this.playBuffer(l),n,!0,i),this.handleSeq++,t&&this.pause(s),s},stopBuffer:function(e){e.bufferNode.stop(),e.bufferNode.disconnect(),e.gainNode.disconnect(),e.panNode.disconnect(),e.bufferNode=null},pause:function(e){var n=this.instances.h[e];null!=n&&1==n.state&&(Ni.debug("Audio / pause handle="+e+", "+n.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:692,className:"clay.web.WebAudio",methodName:"pause"}),e=this.positionOf(e),n.timePause=e,n.state=0,null!=n.bufferNode?this.stopBuffer(n):null!=n.mediaNode&&n.mediaElem.pause())},unPause:function(e){var n=this.instances.h[e];null!=n&&0==n.state&&(Ni.debug("Audio / unpause handle="+e+", "+n.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:713,className:"clay.web.WebAudio",methodName:"unPause"}),n.timeResume=null!=n.timePause?n.timePause:0,n.timeResumeAppTime=window.performance.now()/1e3-al.timestampStart,null==n.mediaNode?this.playBufferAgain(e,n,n.timePause):n.mediaElem.play(),n.state=1)},soundEnded:function(e){0<e.ignoreNextEnded?e.ignoreNextEnded--:0!=e.state&&(1!=e.state||this.positionOf(e.handle)+.1>=e.source.getDuration())&&this.destroySound(e)},destroySound:function(e){null!=e.source&&this.instances.h.hasOwnProperty(e.handle)&&this.positionOf(e.handle)+.1>=e.source.getDuration()&&this.app.events.audioEvent(0,e.handle),null!=e.bufferNode&&(e.bufferNode.stop(),e.bufferNode.disconnect(),e.gainNode.disconnect(),e.panNode.disconnect(),e.bufferNode=null),null!=e.mediaNode&&(e.mediaElem.pause(),e.mediaElem.currentTime=0,e.mediaNode.disconnect(),e.mediaElem=null,e.mediaNode=null),null!=e.gainNode&&(e.gainNode.disconnect(),e.gainNode=null),null!=e.panNode&&(e.panNode.disconnect(),e.panNode=null),this.instances.h.hasOwnProperty(e.handle)&&(this.instances.remove(e.handle),this.app.events.audioEvent(1,e.handle))},stop:function(e){var n=this.instances.h[e];null!=n&&(2!=n.state&&Ni.debug("Audio / stop handle="+e+(null!=n.source&&null!=n.source.data?", "+n.source.data.id:""),{fileName:"clay/web/WebAudio.hx",lineNumber:781,className:"clay.web.WebAudio",methodName:"stop"}),this.destroySound(n),n.state=2)},volume:function(e,n){var t=this.instances.h[e];null!=t&&(Ni.debug("Audio / volume="+n+" handle="+e+", "+t.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:792,className:"clay.web.WebAudio",methodName:"volume"}),t.gainNode.gain.value=n)},pan:function(e,n){var t=this.instances.h[e];null!=t&&(Ni.debug("Audio / pan="+n+" handle="+e+", "+t.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:802,className:"clay.web.WebAudio",methodName:"pan"}),t.pan=n,t.panNode.setPosition(Math.cos(1.5707*(n-1)),0,Math.sin(1.5707*(n+1))))},pitch:function(e,n){var t=this.instances.h[e];null!=t&&(Ni.debug("Audio / pitch="+n+" handle="+e+", "+t.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:816,className:"clay.web.WebAudio",methodName:"pitch"}),null==t.mediaNode&&(e=this.positionOf(e),t.pitch=n,1==t.state)&&(t.timeResumeAppTime=t.timeResume+(window.performance.now()/1e3-al.timestampStart)-e/t.pitch),null!=t.bufferNode?t.bufferNode.playbackRate.value=n:t.mediaNode)},position:function(e,n){var t=this.instances.h[e];null!=t&&(Ni.debug("Audio / position="+n+" handle="+e+", "+t.source.data.id,{fileName:"clay/web/WebAudio.hx",lineNumber:839,className:"clay.web.WebAudio",methodName:"position"}),0==t.state?t.timePause=n:(t.timeResume=n,t.timeResumeAppTime=window.performance.now()/1e3-al.timestampStart,null!=t.bufferNode?(t.ignoreNextEnded++,this.ignoreEndedSoundsTick0.push(t),this.stopBuffer(t),this.playBufferAgain(e,t,n)):t.mediaElem.currentTime=n))},volumeOf:function(e){e=this.instances.h[e];return null==e?0:e.gainNode.gain.value},panOf:function(e){e=this.instances.h[e];return null==e?0:e.pan},pitchOf:function(e){e=this.instances.h[e];return null==e?1:e.pitch},positionOf:function(e){var n,t=this.instances.h[e];if(null==t)return 0;if(null!=t.mediaElem)return t.mediaElem.currentTime;switch(t.state){case 0:case 1:switch(t.state){case 0:n=t.timePause;break;case 1:n=t.timeResume+(window.performance.now()/1e3-al.timestampStart-t.timeResumeAppTime)*t.pitch;break;default:n=0}var i=t.source.getDuration();return 0<i&&(t.loop?n%=i:i<n&&(n=i)),n;case-1:case 2:return 0}},stateOf:function(e){e=this.instances.h[e];return null==e?-1:e.state},loopOf:function(e){e=this.instances.h[e];return null!=e&&e.loop},instanceOf:function(e){e=this.instances.h[e];return null==e?null:e.instance},suspend:function(){!this.active||this.suspended||(this.suspended=!0,this.active=!1,this.context.suspend())},resume:function(){this.active||this.suspended&&(this.suspended=!1,this.active=!0,this.context.resume())},getSoundBus:function(e){e=this.instances.h[e];return null!=e?e.bus:-1},moveSoundToBus:function(e,n){var t,i=this.instances.h[e];return null!=i&&null!=(t=this.busses.h[n])&&(i.gainNode.disconnect(),i.gainNode.connect(t.gainNode),i.bus=n,Ni.debug("Audio / Moved sound "+e+" to bus "+n,{fileName:"clay/web/WebAudio.hx",lineNumber:975,className:"clay.web.WebAudio",methodName:"moveSoundToBus"}),!0)},listBusses:function(){for(var e=[],n=this.busses.keys();n.hasNext();){var t=n.next();e.push(t)}return e},getBusName:function(e){e=this.busses.h[e];return null!=e?e.name:""},createBusFilter:function(e,n,t,i){var l=this;this.busses.h.hasOwnProperty(n)||(Ni.debug("Audio / Bus "+n+" does not exist for filter, creating it automatically",{fileName:"clay/web/WebAudio.hx",lineNumber:996,className:"clay.web.WebAudio",methodName:"createBusFilter"}),this.createBus(n)),this.loadWorkletModule("bus-worklet",e,function(e){e?l.attachWorkletToBus(n,"bus-worklet",{},function(){Ni.debug("Audio / Worklet attached to bus #"+n+" is now ready!",{fileName:"clay/web/WebAudio.hx",lineNumber:1003,className:"clay.web.WebAudio",methodName:"createBusFilter"}),t(n,n)})||Ni.error("Audio / Failed to attach worklet to bus #"+n,{fileName:"clay/web/WebAudio.hx",lineNumber:1008,className:"clay.web.WebAudio",methodName:"createBusFilter"}):Ni.error("Audio / Failed to load create bus filter #"+n,{fileName:"clay/web/WebAudio.hx",lineNumber:1012,className:"clay.web.WebAudio",methodName:"createBusFilter"})})},addBusFilterWorklet:function(e,n,t,i){this.busses.h.hasOwnProperty(e)||(Ni.debug("Audio / Bus "+e+" does not exist for filter worklet, creating it automatically",{fileName:"clay/web/WebAudio.hx",lineNumber:1022,className:"clay.web.WebAudio",methodName:"addBusFilterWorklet"}),this.createBus(e));var l=this.busses.h[e];null==l?Ni.error("Audio / Cannot add bus filter worklet: bus #"+e+" creation failed",{fileName:"clay/web/WebAudio.hx",lineNumber:1028,className:"clay.web.WebAudio",methodName:"addBusFilterWorklet"}):null==l.workletNode?Ni.error("Audio / Cannot add bus filter worklet: bus #"+e+" has no worklet node",{fileName:"clay/web/WebAudio.hx",lineNumber:1032,className:"clay.web.WebAudio",methodName:"addBusFilterWorklet"}):(t={type:"addBusFilterWorklet",bus:e,filterId:n,workletClass:t.__name__},null!=i&&this.workletMessageCallbacks.push({type:"addBusFilterWorklet",bus:e,filterId:n,callback:i}),l.workletNode.port.postMessage(t))},destroyBusFilterWorklet:function(e,n){var t=this.busses.h[e];null==t?Ni.warning("Audio / Cannot destroy bus filter worklet: bus #"+e+" does not exist",{fileName:"clay/web/WebAudio.hx",lineNumber:1058,className:"clay.web.WebAudio",methodName:"destroyBusFilterWorklet"}):null==t.workletNode?Ni.warning("Audio / Cannot destroy bus filter worklet: bus #"+e+" has no worklet node",{fileName:"clay/web/WebAudio.hx",lineNumber:1062,className:"clay.web.WebAudio",methodName:"destroyBusFilterWorklet"}):t.workletNode.port.postMessage({type:"destroyBusFilterWorklet",bus:e,filterId:n})},ensureBusExists:function(e){return!!this.busses.h.hasOwnProperty(e)||(Ni.debug("Audio / Auto-creating bus "+e,{fileName:"clay/web/WebAudio.hx",lineNumber:1077,className:"clay.web.WebAudio",methodName:"ensureBusExists"}),this.createBus(e),this.busses.h.hasOwnProperty(e))},loadData:function(e,n,t,i,l){if(null==i&&(i=!1),null==e)throw ct.thrown("path is null!");return this.active?n?this.loadDataFromStream(e,t,l):this.loadDataFromSound(e,t,l):(Ni.error("Audio / WebAudio context unavailable",{fileName:"clay/web/WebAudio.hx",lineNumber:1091,className:"clay.web.WebAudio",methodName:"loadData"}),null!=l&&Li.push(function(){l(null)})),null},dataFromBytes:function(t,e,i,l){var s=this;if(this.active){if(null==t)throw ct.thrown("id is null!");if(null==e)throw ct.thrown("bytes is null!");this.context.decodeAudioData(e.buffer,function(e){var n=new sl(s.app,e,null,null,new f2(t,0|e.sampleRate,e.length,e.duration,e.numberOfChannels,null,i,!1));null!=l&&Li.push(function(){l(n)})},function(){Ni.error("Audio / failed to decode audio for `"+t+"`",{fileName:"clay/web/WebAudio.hx",lineNumber:1141,className:"clay.web.WebAudio",methodName:"dataFromBytes"}),null!=l&&Li.push(function(){l(null)})})}else null!=l&&Li.push(function(){l(null)})},dataFromPCM:function(e,n,t,i,l,s,r,h){if(null==s&&(s=!0),this.active){if(null==e)throw ct.thrown("id is null!");if(null==n)throw ct.thrown("pcmData is null!");if(t<=0)throw ct.thrown("sampleFrames must be positive!");if(l<=0)throw ct.thrown("sampleRate must be positive!");if(i<=0)throw ct.thrown("channels must be positive!");try{var a=this.context.createBuffer(i,t,l);if(s)for(var o=0,c=i;o<c;)for(var u=o++,_=a.getChannelData(u),d=0,b=t;d<b;)(f=(O=d++)*i+u)<n.length?_[O]=n[f]:_[O]=0;else for(var g=n.length/i|0,o=0,c=i;o<c;)for(var O,f,u=o++,_=a.getChannelData(u),p=u*g,d=0,b=t;d<b;)(f=p+(O=d++))<n.length?_[O]=n[f]:_[O]=0;var C=new sl(this.app,a,null,null,new f2(e,0|a.sampleRate,a.length,a.duration,a.numberOfChannels,null,r,!1));return Ni.debug("Audio / Created AudioData from PCM: "+e+" ("+i+" channels, "+t+" frames, "+l+"Hz, "+(s?"interleaved":"planar")+")",{fileName:"clay/web/WebAudio.hx",lineNumber:1231,className:"clay.web.WebAudio",methodName:"dataFromPCM"}),null!=h&&Li.push(function(){h(C)}),C}catch(o){zl.lastError=o;r=ct.caught(o).unwrap();Ni.error("Audio / Failed to create audio buffer from PCM data for `"+e+"`: "+ot.string(r),{fileName:"clay/web/WebAudio.hx",lineNumber:1242,className:"clay.web.WebAudio",methodName:"dataFromPCM"}),null!=h&&Li.push(function(){h(null)})}}else null!=h&&Li.push(function(){h(null)});return null},handleSourceDestroyed:function(e){},handleInstanceDestroyed:function(e){this.stop(e)},loadDataFromSound:function(n,t,i){var l=this;this.app.io.loadData(n,!0,null,function(e){null!=e?l.dataFromBytes(n,e,t,i):null!=i&&Li.push(function(){i(null)})})},loadDataFromStream:function(r,h,a){var o=this,c=new Audio(r);c.autoplay=!1,c.controls=!1,c.preload="auto",c.onerror=function(e){var n;switch(c.error.code){case 1:n="MEDIA_ERR_ABORTED";break;case 2:n="MEDIA_ERR_NETWORK";break;case 3:n="MEDIA_ERR_DECODE";break;case 4:n="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:n="MEDIA_ERR_ENCRYPTED";break;default:n="unknown error"}Ni.error("Audio / failed to load `"+r+"` as stream : `"+n+"`",{fileName:"clay/web/WebAudio.hx",lineNumber:1295,className:"clay.web.WebAudio",methodName:"loadDataFromStream"}),null!=a&&Li.push(function(){a(null)})},c.onloadedmetadata=function(e){var n=o.context.createMediaElementSource(c),t=0|o.context.sampleRate,i=n.channelCount,l=c.duration*(t*i*2)|0,s=new sl(o.app,null,n,c,new f2(r,t,l,c.duration,i,null,h,!0));null!=a&&Li.push(function(){a(s)})}},__class__:ll}),function(e,n,t,i,l){this.buffer=n,this.mediaNode=t,this.mediaElem=i,g2.call(this,e,l)}),rl=((E["clay.web._WebAudio.WebAudioData"]=sl).__name__="clay.web._WebAudio.WebAudioData",sl.__super__=g2,sl.prototype=$extend(g2.prototype,{buffer:null,mediaNode:null,mediaElem:null,destroy:function(){this.buffer=null,this.mediaNode=null,this.mediaElem=null,g2.prototype.destroy.call(this)},__class__:sl}),function(e,n,t,i,l,s,r){this.mouseUseBrowserWindowEvents=!0,this.preventDefaultKeys=[1073741904,1073741903,1073741906,1073741905,8,9,127,32],this.preventDefaultTouches=!0,this.preventDefaultMouseWheel=!0,this.preventDefaultContextMenu=!0,this.windowParent=window.document.body,this.windowId="app",null!=e&&(this.windowId=e),null!=n&&(this.windowParent=n),null!=t&&(this.preventDefaultContextMenu=t),null!=i&&(this.preventDefaultMouseWheel=i),null!=l&&(this.preventDefaultTouches=l),null!=s&&(this.preventDefaultKeys=s),null!=r&&(this.mouseUseBrowserWindowEvents=r)}),hl=((E["clay.web.WebConfig"]=rl).__name__="clay.web.WebConfig",rl.prototype={windowId:null,windowParent:null,preventDefaultContextMenu:null,preventDefaultMouseWheel:null,preventDefaultTouches:null,preventDefaultKeys:null,mouseUseBrowserWindowEvents:null,__class__:rl},function(e){o2.call(this,e)}),al=((E["clay.web.WebIO"]=hl).__name__="clay.web.WebIO",hl.__super__=o2,hl.prototype=$extend(o2.prototype,{isSynchronous:function(){return!1},loadData:function(t,e,n,i){if(null==n&&(n=!1),null==e&&(e=!1),null==t)throw ct.thrown("Path is null!");var l=new XMLHttpRequest;return l.open("GET",t,!0),e?l.overrideMimeType("text/plain; charset=x-user-defined"):l.overrideMimeType("text/plain; charset=UTF-8"),l.responseType="arraybuffer",l.onload=function(e){var n;200==l.status?(n=new Uint8Array(l.response),null!=i&&Li.push(function(){i(n)})):(Ni.error("Request status for path "+t+" was "+l.status+" / "+l.statusText,{fileName:"clay/web/WebIO.hx",lineNumber:136,className:"clay.web.WebIO",methodName:"loadData"}),null!=i&&Li.push(function(){i(e)}))},l.send(),null},__class__:hl}),function(e){this.nextFrameCallbacks=[],this.didEmitTickOnce=!1,this.keyDownStates=new gt,this.pendingKeyUps=[],this.touches=new gt,this.windowDpr=1,this.windowY=0,this.windowX=0,this.skipKeyboardEvents=!1,this.skipMouseEvents=!1,this.webglVersion=1,this.gamepadsSupported=!1,p2.call(this,e)}),ol=((E["clay.web.WebRuntime"]=al).__name__="clay.web.WebRuntime",al.timestamp=function(){return window.performance.now()/1e3-al.timestampStart},al.defaultConfig=function(){return new rl("app",window.document.body,!0,!0,!0,[1073741904,1073741903,1073741906,1073741905,8,9,127,32],!0)},al.__super__=p2,al.prototype=$extend(p2.prototype,{gamepadsSupported:null,window:null,webglVersion:null,skipMouseEvents:null,skipKeyboardEvents:null,windowX:null,windowY:null,windowW:null,windowH:null,windowDpr:null,touches:null,gamepadButtonCache:null,gamepadAxisCache:null,pendingKeyUps:null,keyDownStates:null,didEmitTickOnce:null,nextFrameCallbacks:null,init:function(){al.timestampStart=window.performance.now()/1e3,this.name="web",this.initGamepads()},ready:function(){this.createWindow(),Ni.debug("Web / ready",{fileName:"clay/web/WebRuntime.hx",lineNumber:87,className:"clay.web.WebRuntime",methodName:"ready"})},run:function(){return Ni.debug("Web / run",{fileName:"clay/web/WebRuntime.hx",lineNumber:93,className:"clay.web.WebRuntime",methodName:"run"}),this.loop(0),!1},loop:function(e){if(null==e&&(e=.016),this.app.hasShutdown)return!1;if(this.app.shuttingDown||window.requestAnimationFrame($bind(this,this.loop)),0<this.nextFrameCallbacks.length){for(var n=[];0<this.nextFrameCallbacks.length;)n.push(this.nextFrameCallbacks.shift());for(var t=0,i=n.length;t<i;)n[t++]()}this.app.ready&&(this.gamepadsSupported&&this.pollGamepads(),this.updateWindowBounds());e=window.performance.now()/1e3-al.timestampStart;return this.app.shouldUpdate(e)&&(this.didEmitTickOnce=!0,this.app.emitTick(e)),this.clearPendingKeyUps(),this.app.emitRender(),!0},createWindow:function(){var e=this.app.config.window;this.window=window.document.createElement("canvas"),this.windowDpr=this.windowDevicePixelRatio(),this.window.width=Math.floor(e.width*this.windowDpr),this.window.height=Math.floor(e.height*this.windowDpr),this.windowW=e.width,this.windowH=e.height,this.window.style.width=e.width+"px",this.window.style.height=e.height+"px",this.window.style.background="#000000",Ni.debug("Web / Created window at "+this.windowX+","+this.windowY+" - "+this.window.width+"x"+this.window.height+" pixels ("+e.width+"x"+e.height+"@"+this.windowDpr+"x)",{fileName:"clay/web/WebRuntime.hx",lineNumber:167,className:"clay.web.WebRuntime",methodName:"createWindow"}),this.window.id=this.app.config.runtime.windowId,this.app.config.runtime.windowParent.appendChild(this.window),null!=e.title&&(window.document.title=e.title),this.createRenderContext(this.window)?(this.postRenderContext(this.window),this.setupEvents()):this.createRenderContextFailed()},createRenderContext:function(e){var n=this.app.config.render,t=this.applyGLAttributes(n),i=null;return 1!=n.webgl.version&&null!=(i=null==(i=e.getContext("webgl"+n.webgl.version,t))?e.getContext("experimental-webgl"+n.webgl.version,t):i)&&(this.webglVersion=n.webgl.version),null==i&&(i=ys.getContextWebGL(e,t),this.webglVersion=1),ne.gl=i,Ni.debug("GL / context: "+ot.string(null!=i),{fileName:"clay/web/WebRuntime.hx",lineNumber:213,className:"clay.web.WebRuntime",methodName:"createRenderContext"}),null!=i},createRenderContextFailed:function(){var e=window.document.createElement("div"),n=window.document.createElement("div");throw e.style.marginLeft="auto",e.style.marginRight="auto",e.style.color="#d3d3d3",e.style.marginTop="5em",e.style.fontSize="1.4em",e.style.fontFamily="Helvetica, sans-serif",e.innerHTML='WebGL is required to run this!<br/><br/>visit <a style="color:#06b4fb; text-decoration:none;" href="http://get.webgl.org/">get.webgl.com</a> for info<br/>and contact the developer of this app',n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.display="block",n.style.minWidth="100%",n.style.minHeight="100%",n.style.textAlign="center",n.style.position="absolute",n.style.background="rgba(1,1,1,0.90)",n.appendChild(e),window.document.body.appendChild(n),ct.thrown("Web / Failed to create render context")},applyGLAttributes:function(e){var n={alpha:e.webgl.alpha,antialias:e.webgl.antialias,depth:e.webgl.depth,stencil:e.webgl.stencil,failIfMajorPerformanceCaveat:e.webgl.failIfMajorPerformanceCaveat,premultipliedAlpha:e.webgl.premultipliedAlpha,preserveDrawingBuffer:e.webgl.preserveDrawingBuffer};return 0<e.antialiasing?n.antialias=!0:n.antialias=!1,0<e.depth&&(n.depth=!0),0<e.stencil&&(n.stencil=!0),n},postRenderContext:function(e){var n=this.app.config.render.defaultClear;ne.gl.clearDepth(1),ne.gl.clearStencil(0),ne.gl.clearColor(n.r,n.g,n.b,n.a),ne.gl.clear(17664),Z._graphics.setup()},setupEvents:function(){window.document.addEventListener("fullscreenchange",$bind(this,this.handleFullscreenChange)),window.document.addEventListener("fullscreenerror",$bind(this,this.handleFullscreenError)),this.window.addEventListener("mouseenter",$bind(this,this.handleMouseEnter)),this.window.addEventListener("mouseleave",$bind(this,this.handleMouseLeave)),window.document.addEventListener("visibilitychange",$bind(this,this.handleVisibilityChange)),window.document.addEventListener("keydown",$bind(this,this.handleKeyDown)),window.document.addEventListener("keyup",$bind(this,this.handleKeyUp)),window.document.addEventListener("keypress",$bind(this,this.handleKeyPress)),this.window.addEventListener("contextmenu",$bind(this,this.handleContextMenu));var e=this.app.config.runtime.mouseUseBrowserWindowEvents?window:this.window;e.addEventListener("mousedown",$bind(this,this.handleMouseDown)),e.addEventListener("mouseup",$bind(this,this.handleMouseUp)),e.addEventListener("mousemove",$bind(this,this.handleMouseMove)),this.window.addEventListener("wheel",$bind(this,this.handleWheel)),this.window.addEventListener("touchstart",$bind(this,this.handleTouchStart)),this.window.addEventListener("touchend",$bind(this,this.handleTouchEnd)),this.window.addEventListener("touchmove",$bind(this,this.handleTouchMove)),window.addEventListener("gamepadconnected",$bind(this,this.handleGamepadConnected)),window.addEventListener("gamepaddisconnected",$bind(this,this.handleGamepadDisconnected))},handleVisibilityChange:function(e){window.document.hidden?(this.app.emitWindowEvent(2,window.performance.now()/1e3-al.timestampStart,1,0,0),this.app.emitWindowEvent(7,window.performance.now()/1e3-al.timestampStart,1,0,0),this.app.emitWindowEvent(13,window.performance.now()/1e3-al.timestampStart,1,0,0)):(this.app.emitWindowEvent(1,window.performance.now()/1e3-al.timestampStart,1,0,0),this.app.emitWindowEvent(9,window.performance.now()/1e3-al.timestampStart,1,0,0),this.app.emitWindowEvent(12,window.performance.now()/1e3-al.timestampStart,1,0,0))},bindCustomElementTouchEvents:function(e){e.addEventListener("touchstart",$bind(this,this.handleTouchStart)),e.addEventListener("touchend",$bind(this,this.handleTouchEnd)),e.addEventListener("touchmove",$bind(this,this.handleTouchMove))},handleContextMenu:function(e){this.app.config.runtime.preventDefaultContextMenu&&e.preventDefault()},handleFullscreenChange:function(e){var n=window.document.fullscreenElement;null!=n?(Ni.debug("Web / Entering fullscreen (id="+n.id+")",{fileName:"clay/web/WebRuntime.hx",lineNumber:393,className:"clay.web.WebRuntime",methodName:"handleFullscreenChange"}),this.app.config.window.fullscreen=!0,this.app.emitWindowEvent(15,window.performance.now()/1e3-al.timestampStart,1,0,0)):(Ni.debug("Web / Leaving fullscreen",{fileName:"clay/web/WebRuntime.hx",lineNumber:398,className:"clay.web.WebRuntime",methodName:"handleFullscreenChange"}),this.app.config.window.fullscreen=!1,this.app.emitWindowEvent(16,window.performance.now()/1e3-al.timestampStart,1,0,0))},handleFullscreenError:function(e){Ni.warning("Web / Failed to change fullscreen setting: "+ot.string(e),{fileName:"clay/web/WebRuntime.hx",lineNumber:407,className:"clay.web.WebRuntime",methodName:"handleFullscreenError"})},handleMouseEnter:function(e){this.app.emitWindowEvent(10,window.performance.now()/1e3-al.timestampStart,1,0,0)},handleMouseLeave:function(e){this.app.emitWindowEvent(11,window.performance.now()/1e3-al.timestampStart,1,0,0)},handleMouseDown:function(e){var n,t,i,l,s,r=this;this.skipMouseEvents||(e.preventDefault(),n=this.app.input,i=Math.floor(this.windowDpr*(e.pageX-this.windowX)),l=Math.floor(this.windowDpr*(e.pageY-this.windowY)),s=e.button,t=window.performance.now()/1e3-al.timestampStart,n.app.events.mouseDown(i,l,s,t,1),2==e.button&&(i=Math.floor(this.windowDpr*(e.pageX-this.windowX)),l=Math.floor(this.windowDpr*(e.pageY-this.windowY)),s=e.button,this.nextFrameCallbacks.push(function(){r.nextFrameCallbacks.push(function(){var e=r.app.input,n=window.performance.now()/1e3-al.timestampStart;e.app.events.mouseUp(i,l,s,n,1)})})))},handleMouseUp:function(e){var n,t,i,l;this.skipMouseEvents||(e.preventDefault(),n=this.app.input,t=Math.floor(this.windowDpr*(e.pageX-this.windowX)),i=Math.floor(this.windowDpr*(e.pageY-this.windowY)),e=e.button,l=window.performance.now()/1e3-al.timestampStart,n.app.events.mouseUp(t,i,e,l,1))},handleMouseMove:function(e){var n,t,i,l,s;this.skipMouseEvents||(e.preventDefault(),n=null==e.movementX?0:e.movementX,t=null==e.movementY?0:e.movementY,n=Math.floor(n*this.windowDpr),t=Math.floor(t*this.windowDpr),i=this.app.input,l=Math.floor(this.windowDpr*(e.pageX-this.windowX)),e=Math.floor(this.windowDpr*(e.pageY-this.windowY)),s=window.performance.now()/1e3-al.timestampStart,i.app.events.mouseMove(l,e,n,t,s,1))},handleWheel:function(e){var n,t,i;this.app.config.runtime.preventDefaultMouseWheel&&e.preventDefault(),this.skipMouseEvents||(n=this.app.input,t=Math.round(.1*e.deltaX),e=Math.round(.1*e.deltaY),i=window.performance.now()/1e3-al.timestampStart,n.app.events.mouseWheel(t,e,i,1))},handleTouchStart:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var l=i[t],s=(++t,l.clientX-n.left),r=l.clientY-n.top,h=(s/=n.width,r/=n.height,this.touches.get(l.identifier)),h=(null==h?this.touches.set(l.identifier,h={x:s,y:r}):(h.x=s,h.y=r),this.app.input),l=l.identifier,a=window.performance.now()/1e3-al.timestampStart;h.app.events.touchDown(s,r,0,0,l,a)}},handleTouchEnd:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var l=i[t],s=(++t,l.clientX-n.left),r=l.clientY-n.top,h=(s/=n.width,r/=n.height,this.touches.get(l.identifier)),a=(null==h&&this.touches.set(l.identifier,h={x:s,y:r}),this.app.input),o=s-h.x,c=r-h.y,l=l.identifier,u=window.performance.now()/1e3-al.timestampStart;a.app.events.touchUp(s,r,o,c,l,u),h.x=s,h.y=r}},handleTouchMove:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var l=i[t],s=(++t,l.clientX-n.left),r=l.clientY-n.top,h=(s/=n.width,r/=n.height,this.touches.get(l.identifier)),a=(null==h&&this.touches.set(l.identifier,h={x:s,y:r}),this.app.input),o=s-h.x,c=r-h.y,l=l.identifier,u=window.performance.now()/1e3-al.timestampStart;a.app.events.touchMove(s,r,o,c,l,u),h.x=s,h.y=r}},clearPendingKeyUps:function(){for(;0<this.pendingKeyUps.length;){var e,n,t,i,l,s,r=this.pendingKeyUps.shift();1==this.keyDownStates.get(r.keyCode)&&(this.keyDownStates.set(r.keyCode,!1),e=this.app.input,n=r.keyCode,t=r.scanCode,i=r.repeat,l=r.modState,s=window.performance.now()/1e3-al.timestampStart,e.app.events.keyUp(n,t,i,l,s,r.windowId))}},handleKeyDown:function(e){if(!this.skipKeyboardEvents){var n=this.convertKeyCode(e.keyCode),t=this.convertScanCode(e.code,n),i=this.modStateFromEvent(e);if(!i.none)switch(n){case 1073742048:case 1073742049:case 1073742050:case 1073742051:case 1073742052:case 1073742053:case 1073742054:case 1073742055:break;default:(i.lctrl||i.rctrl||i.lalt||i.ralt||i.lmeta||i.rmeta)&&this.pendingKeyUps.push({keyCode:n,scanCode:t,repeat:e.repeat,modState:i,windowId:1})}-1!=this.app.config.runtime.preventDefaultKeys.indexOf(n)&&e.preventDefault(),this.keyDownStates.set(n,!0);var l=this.app.input,s=e.repeat,r=window.performance.now()/1e3-al.timestampStart;l.app.events.keyDown(n,t,s,i,r,1)}},handleKeyUp:function(e){var n,t,i,l,s;this.skipKeyboardEvents||(n=this.convertKeyCode(e.keyCode),t=this.convertScanCode(e.code,n),i=this.modStateFromEvent(e),-1!=this.app.config.runtime.preventDefaultKeys.indexOf(n)&&e.preventDefault(),1==this.keyDownStates.get(n)&&(this.keyDownStates.set(n,!1),l=this.app.input,e=e.repeat,s=window.performance.now()/1e3-al.timestampStart,l.app.events.keyUp(n,t,e,i,s,1)))},handleKeyPress:function(e){var n,t,i;this.skipKeyboardEvents||0!=e.which&&8!=e.keyCode&&13!=e.keyCode&&(e=e.charCode,e=String.fromCodePoint(e),n=this.app.input,t=e.length,i=window.performance.now()/1e3-al.timestampStart,n.app.events.text(e,0,t,2,i,1))},handleGamepadConnected:function(e){Ni.debug("Gamepad connected at index "+e.gamepad.index+": "+e.gamepad.id+". "+e.gamepad.buttons.length+" buttons, "+e.gamepad.axes.length+" axes",{fileName:"clay/web/WebRuntime.hx",lineNumber:753,className:"clay.web.WebRuntime",methodName:"handleGamepadConnected"});var n=e.gamepad;if(null==this.gamepadButtonCache[n.index]){this.gamepadButtonCache[n.index]=[];for(var t=0,i=n.buttons.length;t<i;){t++;this.gamepadButtonCache[n.index].push(0)}this.gamepadAxisCache[n.index]=[];for(t=0,i=n.axes.length;t<i;){t++;this.gamepadAxisCache[n.index].push(0)}}var l=this.app.input,n=e.gamepad.index,e=e.gamepad.id,s=window.performance.now()/1e3-al.timestampStart;l.app.events.gamepadDevice(n,e,1,s)},handleGamepadDisconnected:function(e){Ni.debug("Gamepad disconnected at index "+e.gamepad.index+": "+e.gamepad.id,{fileName:"clay/web/WebRuntime.hx",lineNumber:768,className:"clay.web.WebRuntime",methodName:"handleGamepadDisconnected"});var n=e.gamepad,t=(this.gamepadButtonCache[n.index]=null,this.gamepadAxisCache[n.index]=null,this.app.input),n=e.gamepad.index,e=e.gamepad.id,i=window.performance.now()/1e3-al.timestampStart;t.app.events.gamepadDevice(n,e,2,i)},convertKeyCode:function(e){return 65<=e&&e<=90?e+32:ol.domKeyToKeyCode(e)},convertScanCode:function(e,n){if(null==e)return d.toScanCode(n);switch(e){case"AltLeft":return 226;case"AltRight":return 230;case"ArrowDown":return 81;case"ArrowLeft":return 80;case"ArrowRight":return 79;case"ArrowUp":return 82;case"AudioVolumeDown":case"VolumeDown":return 129;case"AudioVolumeMute":return 262;case"AudioVolumeUp":case"VolumeUp":return 128;case"Backquote":return 53;case"Backslash":return 49;case"Backspace":return 42;case"BracketLeft":return 47;case"BracketRight":return 48;case"BrowserBack":return 270;case"BrowserFavorites":return 274;case"BrowserForward":return 271;case"BrowserHome":return 269;case"BrowserRefresh":return 273;case"BrowserSearch":return 268;case"BrowserStop":return 272;case"Cancel":return 155;case"CapsLock":return 57;case"Comma":return 54;case"ContextMenu":return 118;case"ControlLeft":return 224;case"ControlRight":return 228;case"Delete":return 76;case"Digit0":return 39;case"Digit1":return 30;case"Digit2":return 31;case"Digit3":return 32;case"Digit4":return 33;case"Digit5":return 34;case"Digit6":return 35;case"Digit7":return 36;case"Digit8":return 37;case"Digit9":return 38;case"End":return 77;case"Enter":return 40;case"Equal":return 46;case"Escape":return 41;case"F1":return 58;case"F10":return 67;case"F11":return 68;case"F12":return 69;case"F2":return 59;case"F3":return 60;case"F4":return 61;case"F5":return 62;case"F6":return 63;case"F7":return 64;case"F8":return 65;case"F9":return 66;case"Help":case"Insert":return 73;case"Home":return 74;case"IntlBackslash":return 100;case"KanaMode":case"Lang1":return 144;case"KeyA":return 4;case"KeyB":return 5;case"KeyC":return 6;case"KeyD":return 7;case"KeyE":return 8;case"KeyF":return 9;case"KeyG":return 10;case"KeyH":return 11;case"KeyI":return 12;case"KeyJ":return 13;case"KeyK":return 14;case"KeyL":return 15;case"KeyM":return 16;case"KeyN":return 17;case"KeyO":return 18;case"KeyP":return 19;case"KeyQ":return 20;case"KeyR":return 21;case"KeyS":return 22;case"KeyT":return 23;case"KeyU":return 24;case"KeyV":return 25;case"KeyW":return 26;case"KeyX":return 27;case"KeyY":return 28;case"KeyZ":return 29;case"Lang2":return 145;case"Lang3":return 146;case"Lang4":return 147;case"Lang5":return 148;case"Lang6":return 149;case"Lang7":return 150;case"Lang8":return 151;case"Lang9":return 152;case"LaunchApp1":return 283;case"LaunchApp2":return 284;case"LaunchMail":return 265;case"MediaPlayPause":return 261;case"MediaSelect":return 263;case"MediaStop":return 260;case"MediaTrackNext":return 258;case"MediaTrackPrevious":return 259;case"MetaLeft":case"OSLeft":return 227;case"MetaRight":case"OSRight":return 231;case"Minus":return 45;case"NumLock":return 83;case"Numpad0":return 98;case"Numpad1":return 89;case"Numpad2":return 90;case"Numpad3":return 91;case"Numpad4":return 92;case"Numpad5":return 93;case"Numpad6":return 94;case"Numpad7":return 95;case"Numpad8":return 96;case"Numpad9":return 97;case"NumpadAdd":return 87;case"NumpadComma":return 133;case"NumpadDecimal":return 220;case"NumpadDivide":return 84;case"NumpadEnter":return 88;case"NumpadEqual":return 103;case"NumpadMultiply":return 85;case"NumpadSubtract":return 86;case"PageDown":return 78;case"PageUp":return 75;case"Pause":return 72;case"Period":return 55;case"Power":return 102;case"PrintScreen":return 70;case"Quote":return 52;case"ScrollLock":return 71;case"Semicolon":return 51;case"ShiftLeft":return 225;case"ShiftRight":return 229;case"Slash":return 56;case"Space":return 44;case"Tab":return 43;default:return d.toScanCode(n)}},modStateFromEvent:function(e){var n=!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey);return this.app.input.modState.none=n,this.app.input.modState.lshift=e.shiftKey,this.app.input.modState.rshift=e.shiftKey,this.app.input.modState.lctrl=e.ctrlKey,this.app.input.modState.rctrl=e.ctrlKey,this.app.input.modState.lalt=e.altKey,this.app.input.modState.ralt=e.altKey,this.app.input.modState.lmeta=e.metaKey,this.app.input.modState.rmeta=e.metaKey,this.app.input.modState.num=!1,this.app.input.modState.caps=!1,this.app.input.modState.mode=!1,this.app.input.modState.ctrl=e.ctrlKey,this.app.input.modState.shift=e.shiftKey,this.app.input.modState.alt=e.altKey,this.app.input.modState.meta=e.metaKey,this.app.input.modState},getWindowX:function(e){return Math.round(e.left+window.pageXOffset-window.document.body.clientTop)},getWindowY:function(e){return Math.round(e.top+window.pageYOffset-window.document.body.clientLeft)},translateMouseX:function(e){return Math.floor(this.windowDpr*(e.pageX-this.windowX))},translateMouseY:function(e){return Math.floor(this.windowDpr*(e.pageY-this.windowY))},updateWindowBounds:function(){var e=this.windowDpr,n=(this.windowDpr=this.windowDevicePixelRatio(),this.window.getBoundingClientRect()),t=Math.round(n.left+window.pageXOffset-window.document.body.clientTop),i=Math.round(n.top+window.pageYOffset-window.document.body.clientLeft),l=Math.round(n.width),n=Math.round(n.height);t==this.windowX&&i==this.windowY||(this.windowX=t,this.windowY=i,this.app.emitWindowEvent(4,window.performance.now()/1e3-al.timestampStart,1,this.windowX,this.windowY)),l==this.windowW&&n==this.windowH&&e==this.windowDpr||(this.windowW=l,this.windowH=n,this.window.width=Math.floor(this.windowW*this.windowDpr),this.window.height=Math.floor(this.windowH*this.windowDpr),this.app.emitWindowEvent(6,window.performance.now()/1e3-al.timestampStart,1,this.window.width,this.window.height))},initGamepads:function(){var e=this.getGamepadList();if(null!=e){this.gamepadsSupported=!0,this.gamepadButtonCache=[],this.gamepadAxisCache=[];for(var n=0;n<e.length;){var t=e[n];if(++n,null!=t&&null==this.gamepadButtonCache[t.index]){this.gamepadButtonCache[t.index]=[];for(var i=0,l=t.buttons.length;i<l;){i++;this.gamepadButtonCache[t.index].push(0)}this.gamepadAxisCache[t.index]=[];for(var s=0,r=t.axes.length;s<r;){s++;this.gamepadAxisCache[t.index].push(0)}}}}else Ni.warning("Gamepads are not supported in this browser :(",{fileName:"clay/web/WebRuntime.hx",lineNumber:1036,className:"clay.web.WebRuntime",methodName:"initGamepads"})},getGamepadList:function(){return null!=qe.navigator.getGamepads?qe.navigator.getGamepads():null!=qe.navigator.webkitGetGamepads?qe.navigator.webkitGetGamepads():null},initGamepadCacheIfNeeded:function(e){if(null==this.gamepadButtonCache[e.index]){this.gamepadButtonCache[e.index]=[];for(var n=0,t=e.buttons.length;n<t;){n++;this.gamepadButtonCache[e.index].push(0)}this.gamepadAxisCache[e.index]=[];for(n=0,t=e.axes.length;n<t;){n++;this.gamepadAxisCache[e.index].push(0)}}},deleteGamepadCache:function(e){this.gamepadButtonCache[e.index]=null,this.gamepadAxisCache[e.index]=null},pollGamepads:function(){var e=this.getGamepadList();if(null!=e)for(var n=e.length,t=0;t<n;){var i=e[t];if(null==i);else{if(null==this.gamepadButtonCache[i.index]){this.gamepadButtonCache[i.index]=[];for(var l=0,s=i.buttons.length;l<s;){l++;this.gamepadButtonCache[i.index].push(0)}this.gamepadAxisCache[i.index]=[];for(var r=0,h=i.axes.length;r<h;){r++;this.gamepadAxisCache[i.index].push(0)}}for(var a=this.gamepadAxisCache[i.index],o=0,c=i.axes.length;o<c;){var u,_,d,b=o++,g=i.axes[b];g!=a[b]&&(a[b]=g,u=this.app.input,_=i.index,d=window.performance.now()/1e3-al.timestampStart,u.app.events.gamepadAxis(_,b,g,d))}for(var O=this.gamepadButtonCache[i.index],f=0,p=i.buttons.length;f<p;){var C,v,m,w,y=f++,U=i.buttons[y];U.value!=O[y]&&(O[y]=U.value,U.pressed?(C=this.app.input,v=i.index,m=U.value,w=window.performance.now()/1e3-al.timestampStart,C.app.events.gamepadDown(v,y,m,w)):(C=this.app.input,v=i.index,m=U.value,w=window.performance.now()/1e3-al.timestampStart,C.app.events.gamepadUp(v,y,m,w)))}}++t}},windowDevicePixelRatio:function(){return null==window.devicePixelRatio?1:window.devicePixelRatio},windowWidth:function(){return Math.round(this.windowW*this.windowDevicePixelRatio())},windowHeight:function(){return Math.round(this.windowH*this.windowDevicePixelRatio())},setWindowFullscreen:function(e){return e?this.window.requestFullscreen():window.document.exitFullscreen(),!0},setWindowTitle:function(e){this.app.config.window.title=e,window.document.title=e},clamp:function(e){return Math.max(0,Math.min(e,1))},startGamepadRumble:function(e,n,t,i){var e=this.getGamepadList()[e];null!=e&&null!=(e=e.vibrationActuator)&&e.playEffect("dual-rumble",{duration:1e3*i,weakMagnitude:Math.max(0,Math.min(n,1)),strongMagnitude:Math.max(0,Math.min(t,1))})},stopGamepadRumble:function(e){var e=this.getGamepadList()[e];null!=e&&null!=(e=e.vibrationActuator)&&e.playEffect("dual-rumble",{duration:1,weakMagnitude:0,strongMagnitude:0})},getGamepadName:function(e){var n=this.getGamepadList();if(null!=n)for(var t=0;t<n.length;){var i=n[t];if(++t,null!=i&&i.index==e)return i.id}return null},__class__:al}),function(){}),cl=((E["clay.web._WebRuntime.DOMKeys"]=ol).__name__="clay.web._WebRuntime.DOMKeys",ol.domKeyToKeyCode=function(e){switch(e){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 44:return 1073741894;case 45:return 1073741897;case 46:return 127;case 91:return 1073742051;case 93:return 1073742055;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 109:return 1073741910;case 110:return 1073742044;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 127:return 1073741931;case 128:return 1073741932;case 129:return 1073741933;case 130:return 1073741934;case 131:return 1073741935;case 132:return 1073741936;case 133:return 1073741937;case 134:return 1073741938;case 135:return 1073741939;case 144:return 1073741907;case 160:return 94;case 161:return 33;case 162:return 34;case 163:return 35;case 164:return 36;case 165:return 37;case 166:return 38;case 167:return 95;case 168:return 40;case 169:return 41;case 170:return 42;case 171:return 43;case 172:return 92;case 173:return 45;case 174:return 91;case 175:return 93;case 176:return 96;case 181:return 1073742086;case 182:return 1073741953;case 183:return 1073741952;case 188:return 44;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39;case 224:return 1073742051}return e},(E["elements.TabFocusable"]=Q2).__name__="elements.TabFocusable",Q2.__isInterface__=!0,Q2.prototype={allowsTabFocus:null,tabFocus:null,escapeTabFocus:null,__class__:Q2},(E["elements.FieldView"]=R2).__name__="elements.FieldView",R2.__interfaces__=[Q2,u],R2.__super__=r0,R2.prototype=$extend(r0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,willListenFocusedChange:function(){this.get_unobservedFocused()},get_unobservedFocused:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunFocused?(n=this,t=new w(null),this.computedOnceFocused=!0,(this.computeAutorunFocused=t).onRun=function(){var e=n.computeFocused();w.unobserve(),n.set_focused(e),w.reobserve()},t.onDestroy(this,function(e){n.computeAutorunFocused==t&&(n.computeAutorunFocused=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunFocused.invalidated&&this.computeAutorunFocused.run():this.computedOnceFocused||(w.unobserve(),this.computedOnceFocused=!0,this.unobservedFocused=this.computeFocused(),w.reobserve()),this.unobservedFocused},focusedAutoruns:null,get_focused:function(){var e,n,t=this.get_unobservedFocused();return null!=w.current&&(e=w.current,null!=(n=this.focusedAutoruns)||(n=w.getAutorunArray(),null!=(this.focusedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focused:function(e){var n=this.get_unobservedFocused();return n!=(this.unobservedFocused=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedChange(e,n),null!=(n=this.focusedAutoruns))&&(this.focusedAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFocused:function(){var e=this.get_unobservedFocused(),e=(this.emitFocusedChange(e,e),this.focusedAutoruns);null!=e&&(this.focusedAutoruns=null,w.invalidateAutorunArray(e))},unobservedFocused:null,__cbOnFocusedChange:null,__cbOnceFocusedChange:null,__cbOnOwnerUnbindFocusedChange:null,__cbOnceOwnerUnbindFocusedChange:null,emitFocusedChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedChange&&(t+=this.__cbOnFocusedChange.length),null!=this.__cbOnceFocusedChange&&(t+=this.__cbOnceFocusedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedChange)for(var r=0,h=this.__cbOnFocusedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFocusedChange[a],++s):--t}if(null!=this.__cbOnceFocusedChange){for(var o=null,c=null,r=0,h=this.__cbOnceFocusedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFocusedChange[a],this.__cbOnceFocusedChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedChange[a],(this.__cbOnceOwnerUnbindFocusedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedChange[a]),c.push(this.__cbOnceFocusedChange[a]))}this.__cbOnceOwnerUnbindFocusedChange=o,this.__cbOnceFocusedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFocusedChange:function(n,t){var i=this;if(null==this.__cbOnFocusedChange&&null==this.__cbOnceFocusedChange&&this.willListenFocusedChange(),null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focusedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedChange&&(this.__cbOnOwnerUnbindFocusedChange=[]),this.__cbOnOwnerUnbindFocusedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedChange&&(this.__cbOnOwnerUnbindFocusedChange=[]),this.__cbOnOwnerUnbindFocusedChange.push(null);null==this.__cbOnFocusedChange&&(this.__cbOnFocusedChange=[]),this.__cbOnFocusedChange.push(t)},onceFocusedChange:function(n,t){var i=this;if(null==this.__cbOnFocusedChange&&null==this.__cbOnceFocusedChange&&this.willListenFocusedChange(),null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focusedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedChange&&(this.__cbOnceOwnerUnbindFocusedChange=[]),this.__cbOnceOwnerUnbindFocusedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedChange&&(this.__cbOnceOwnerUnbindFocusedChange=[]),this.__cbOnceOwnerUnbindFocusedChange.push(null);null==this.__cbOnceFocusedChange&&(this.__cbOnceFocusedChange=[]),this.__cbOnceFocusedChange.push(t)},offFocusedChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedChange&&-1!=(n=this.__cbOnFocusedChange.indexOf(e))&&(this.__cbOnFocusedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedChange[n])&&s(),this.__cbOnOwnerUnbindFocusedChange.splice(n,1)),null!=this.__cbOnceFocusedChange&&-1!=(n=this.__cbOnceFocusedChange.indexOf(e))&&(this.__cbOnceFocusedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedChange[l])&&s()}this.__cbOnOwnerUnbindFocusedChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedChange=null}this.__cbOnFocusedChange=null,this.__cbOnceFocusedChange=null}},listensFocusedChange:function(){return null!=this.__cbOnFocusedChange&&0<this.__cbOnFocusedChange.length||null!=this.__cbOnceFocusedChange&&0<this.__cbOnceFocusedChange.length},computeFocused:function(){return Ol.get_shared().updateFocusedField(),Ol.get_shared().get_focusedField()==this},computeAutorunFocused:null,computedOnceFocused:null,windowItem:null,focusedThisFrame:null,handleFocusedChange:function(e,n){e?this.focusedThisFrame=!0:ke.app.onceFinishDraw(this,$bind(this,this.updateFocusedThisFrame))},updateFocusedThisFrame:function(){this.focusedThisFrame=this.get_focused()},focus:function(){ke.app.screen.set_focusedVisual(this),this.makeVisibleInForm()},makeVisibleInForm:function(){var e,n,t=this.getScrollingLayout();null!=t&&((t=t.scroller).content.visualToScreen(0,0,R2._point),n=R2._point.y,this.visualToScreen(0,0,R2._point),e=R2._point.y,this.visualToScreen(0,this.get_height(),R2._point),e=e-n,n=R2._point.y-n,n+=8,t.isContentPositionInBounds(0,e-=8),t.isContentPositionInBounds(0,n),t.ensureContentPositionIsInBounds(0,e),t.ensureContentPositionIsInBounds(0,n))},getScrollingLayout:function(){for(var e=this.parent;null!=e;){if(e instanceof Dl)return e;e=e.parent}return null},didLostFocus:function(){},bindPointerEvents:function(){this.onPointerDown(this,function(e){})},allowsTabFocus:function(){return!L.getProperty(this,"disabled")},tabFocus:function(){this.focus()},escapeTabFocus:function(){this.get_focused()&&ke.app.screen.set_focusedVisual(null)},hitsSelfOrDerived:function(e,n){return this._hits(e,n,!1)},usesScanCode:function(e){return!!this.focusedThisFrame&&(41==e||40==e)},usesKeyCode:function(e){return!!this.focusedThisFrame&&(27==e||13==e)},unbindEvents:function(){r0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offFocusedChange()},__class__:R2,__properties__:$extend(r0.prototype.__properties__,{get_unobservedFocused:"get_unobservedFocused",set_focused:"set_focused",get_focused:"get_focused"})}),(E["elements.SelectListView"]=S2).__name__="elements.SelectListView",S2.__interfaces__=[u,j0],S2.__super__=g0,S2.prototype=$extend(g0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},__cbOnValueClick:null,__cbOnceValueClick:null,__cbOnOwnerUnbindValueClick:null,__cbOnceOwnerUnbindValueClick:null,emitValueClick:function(e){var n=0;if(null!=this.__cbOnValueClick&&(n+=this.__cbOnValueClick.length),null!=this.__cbOnceValueClick&&(n+=this.__cbOnceValueClick.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnValueClick)for(var s=0,r=this.__cbOnValueClick.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnValueClick[h],++l):--n}if(null!=this.__cbOnceValueClick){for(var a=null,o=null,s=0,r=this.__cbOnceValueClick.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceValueClick[h],this.__cbOnceValueClick[h]=null,c=this.__cbOnceOwnerUnbindValueClick[h],(this.__cbOnceOwnerUnbindValueClick[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindValueClick[h]),o.push(this.__cbOnceValueClick[h]))}this.__cbOnceOwnerUnbindValueClick=a,this.__cbOnceValueClick=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onValueClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event valueClick because owner is destroyed!");var l=function(e){null!=t&&(i.offValueClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueClick&&(this.__cbOnOwnerUnbindValueClick=[]),this.__cbOnOwnerUnbindValueClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueClick&&(this.__cbOnOwnerUnbindValueClick=[]),this.__cbOnOwnerUnbindValueClick.push(null);null==this.__cbOnValueClick&&(this.__cbOnValueClick=[]),this.__cbOnValueClick.push(t)},onceValueClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event valueClick because owner is destroyed!");var l=function(e){null!=t&&(i.offValueClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueClick&&(this.__cbOnceOwnerUnbindValueClick=[]),this.__cbOnceOwnerUnbindValueClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueClick&&(this.__cbOnceOwnerUnbindValueClick=[]),this.__cbOnceOwnerUnbindValueClick.push(null);null==this.__cbOnceValueClick&&(this.__cbOnceValueClick=[]),this.__cbOnceValueClick.push(t)},offValueClick:function(e){if(null!=e){var n;null!=this.__cbOnValueClick&&-1!=(n=this.__cbOnValueClick.indexOf(e))&&(this.__cbOnValueClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindValueClick[n])&&s(),this.__cbOnOwnerUnbindValueClick.splice(n,1)),null!=this.__cbOnceValueClick&&-1!=(n=this.__cbOnceValueClick.indexOf(e))&&(this.__cbOnceValueClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindValueClick[n])&&s(),this.__cbOnceOwnerUnbindValueClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueClick){for(var t=0,i=this.__cbOnOwnerUnbindValueClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindValueClick[l])&&s()}this.__cbOnOwnerUnbindValueClick=null}if(null!=this.__cbOnceOwnerUnbindValueClick){for(t=0,i=this.__cbOnceOwnerUnbindValueClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindValueClick[l])&&s()}this.__cbOnceOwnerUnbindValueClick=null}this.__cbOnValueClick=null,this.__cbOnceValueClick=null}},listensValueClick:function(){return null!=this.__cbOnValueClick&&0<this.__cbOnValueClick.length||null!=this.__cbOnceValueClick&&0<this.__cbOnceValueClick.length},autoScrollToValue:null,valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=w.current&&(e=w.current,null!=(n=this.valueAutoruns)||(n=w.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,w.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnValueChange)for(var r=0,h=this.__cbOnValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnValueChange[a],++s):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindValueChange[n])&&s(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindValueChange[n])&&s(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindValueChange[l])&&s()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindValueChange[l])&&s()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},listAutoruns:null,get_list:function(){var e,n,t=this.unobservedList;return null!=w.current&&(e=w.current,null!=(n=this.listAutoruns)||(n=w.getAutorunArray(),null!=(this.listAutoruns=n)))&&e.bindToAutorunArray(n),t},set_list:function(e){var n=this.unobservedList;return this.unobservedList=e,Tr.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitListChange(e,n),null!=(n=this.listAutoruns)&&(this.listAutoruns=null,w.invalidateAutorunArray(n))),e},invalidateList:function(){var e=this.unobservedList,e=(this.emitListChange(e,e),this.listAutoruns);null!=e&&(this.listAutoruns=null,w.invalidateAutorunArray(e))},unobservedList:null,__cbOnListChange:null,__cbOnceListChange:null,__cbOnOwnerUnbindListChange:null,__cbOnceOwnerUnbindListChange:null,emitListChange:function(e,n){var t=0;if(null!=this.__cbOnListChange&&(t+=this.__cbOnListChange.length),null!=this.__cbOnceListChange&&(t+=this.__cbOnceListChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnListChange)for(var r=0,h=this.__cbOnListChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnListChange[a],++s):--t}if(null!=this.__cbOnceListChange){for(var o=null,c=null,r=0,h=this.__cbOnceListChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceListChange[a],this.__cbOnceListChange[a]=null,u=this.__cbOnceOwnerUnbindListChange[a],(this.__cbOnceOwnerUnbindListChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindListChange[a]),c.push(this.__cbOnceListChange[a]))}this.__cbOnceOwnerUnbindListChange=o,this.__cbOnceListChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onListChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event listChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindListChange&&(this.__cbOnOwnerUnbindListChange=[]),this.__cbOnOwnerUnbindListChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindListChange&&(this.__cbOnOwnerUnbindListChange=[]),this.__cbOnOwnerUnbindListChange.push(null);null==this.__cbOnListChange&&(this.__cbOnListChange=[]),this.__cbOnListChange.push(t)},onceListChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event listChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindListChange&&(this.__cbOnceOwnerUnbindListChange=[]),this.__cbOnceOwnerUnbindListChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindListChange&&(this.__cbOnceOwnerUnbindListChange=[]),this.__cbOnceOwnerUnbindListChange.push(null);null==this.__cbOnceListChange&&(this.__cbOnceListChange=[]),this.__cbOnceListChange.push(t)},offListChange:function(e){if(null!=e){var n;null!=this.__cbOnListChange&&-1!=(n=this.__cbOnListChange.indexOf(e))&&(this.__cbOnListChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindListChange[n])&&s(),this.__cbOnOwnerUnbindListChange.splice(n,1)),null!=this.__cbOnceListChange&&-1!=(n=this.__cbOnceListChange.indexOf(e))&&(this.__cbOnceListChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindListChange[n])&&s(),this.__cbOnceOwnerUnbindListChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindListChange){for(var t=0,i=this.__cbOnOwnerUnbindListChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindListChange[l])&&s()}this.__cbOnOwnerUnbindListChange=null}if(null!=this.__cbOnceOwnerUnbindListChange){for(t=0,i=this.__cbOnceOwnerUnbindListChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindListChange[l])&&s()}this.__cbOnceOwnerUnbindListChange=null}this.__cbOnListChange=null,this.__cbOnceListChange=null}},listensListChange:function(){return null!=this.__cbOnListChange&&0<this.__cbOnListChange.length||null!=this.__cbOnceListChange&&0<this.__cbOnceListChange.length},nullValueTextAutoruns:null,get_nullValueText:function(){var e,n,t=this.unobservedNullValueText;return null!=w.current&&(e=w.current,null!=(n=this.nullValueTextAutoruns)||(n=w.getAutorunArray(),null!=(this.nullValueTextAutoruns=n)))&&e.bindToAutorunArray(n),t},set_nullValueText:function(e){var n=this.unobservedNullValueText;return n!=(this.unobservedNullValueText=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitNullValueTextChange(e,n),null!=(n=this.nullValueTextAutoruns))&&(this.nullValueTextAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateNullValueText:function(){var e=this.unobservedNullValueText,e=(this.emitNullValueTextChange(e,e),this.nullValueTextAutoruns);null!=e&&(this.nullValueTextAutoruns=null,w.invalidateAutorunArray(e))},unobservedNullValueText:null,__cbOnNullValueTextChange:null,__cbOnceNullValueTextChange:null,__cbOnOwnerUnbindNullValueTextChange:null,__cbOnceOwnerUnbindNullValueTextChange:null,emitNullValueTextChange:function(e,n){var t=0;if(null!=this.__cbOnNullValueTextChange&&(t+=this.__cbOnNullValueTextChange.length),null!=this.__cbOnceNullValueTextChange&&(t+=this.__cbOnceNullValueTextChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnNullValueTextChange)for(var r=0,h=this.__cbOnNullValueTextChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnNullValueTextChange[a],++s):--t}if(null!=this.__cbOnceNullValueTextChange){for(var o=null,c=null,r=0,h=this.__cbOnceNullValueTextChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceNullValueTextChange[a],this.__cbOnceNullValueTextChange[a]=null,u=this.__cbOnceOwnerUnbindNullValueTextChange[a],(this.__cbOnceOwnerUnbindNullValueTextChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindNullValueTextChange[a]),c.push(this.__cbOnceNullValueTextChange[a]))}this.__cbOnceOwnerUnbindNullValueTextChange=o,this.__cbOnceNullValueTextChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onNullValueTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event nullValueTextChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNullValueTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindNullValueTextChange&&(this.__cbOnOwnerUnbindNullValueTextChange=[]),this.__cbOnOwnerUnbindNullValueTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindNullValueTextChange&&(this.__cbOnOwnerUnbindNullValueTextChange=[]),this.__cbOnOwnerUnbindNullValueTextChange.push(null);null==this.__cbOnNullValueTextChange&&(this.__cbOnNullValueTextChange=[]),this.__cbOnNullValueTextChange.push(t)},onceNullValueTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event nullValueTextChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNullValueTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindNullValueTextChange&&(this.__cbOnceOwnerUnbindNullValueTextChange=[]),this.__cbOnceOwnerUnbindNullValueTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindNullValueTextChange&&(this.__cbOnceOwnerUnbindNullValueTextChange=[]),this.__cbOnceOwnerUnbindNullValueTextChange.push(null);null==this.__cbOnceNullValueTextChange&&(this.__cbOnceNullValueTextChange=[]),this.__cbOnceNullValueTextChange.push(t)},offNullValueTextChange:function(e){if(null!=e){var n;null!=this.__cbOnNullValueTextChange&&-1!=(n=this.__cbOnNullValueTextChange.indexOf(e))&&(this.__cbOnNullValueTextChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindNullValueTextChange[n])&&s(),this.__cbOnOwnerUnbindNullValueTextChange.splice(n,1)),null!=this.__cbOnceNullValueTextChange&&-1!=(n=this.__cbOnceNullValueTextChange.indexOf(e))&&(this.__cbOnceNullValueTextChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindNullValueTextChange[n])&&s(),this.__cbOnceOwnerUnbindNullValueTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindNullValueTextChange){for(var t=0,i=this.__cbOnOwnerUnbindNullValueTextChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindNullValueTextChange[l])&&s()}this.__cbOnOwnerUnbindNullValueTextChange=null}if(null!=this.__cbOnceOwnerUnbindNullValueTextChange){for(t=0,i=this.__cbOnceOwnerUnbindNullValueTextChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindNullValueTextChange[l])&&s()}this.__cbOnceOwnerUnbindNullValueTextChange=null}this.__cbOnNullValueTextChange=null,this.__cbOnceNullValueTextChange=null}},listensNullValueTextChange:function(){return null!=this.__cbOnNullValueTextChange&&0<this.__cbOnNullValueTextChange.length||null!=this.__cbOnceNullValueTextChange&&0<this.__cbOnceNullValueTextChange.length},collectionView:null,updateScrollFromValueIfNeeded:function(){var e=this.get_value();w.unobserve(),this.autoScrollToValue&&null!=e&&this.scrollToValue(3),w.reobserve()},scrollToValue:function(e){null==this.get_value()||null==this.get_list()?this.collectionView.scrollToItem(0,e):this.collectionView.scrollToItem(this.get_list().indexOf(this.get_value())+(null!=this.get_nullValueText()?1:0),e)},layout:function(){var e=this.collectionView,n=this.get_width(),t=this.get_height();e.set_width(n),e.set_height(t)},collectionViewSize:function(e){return this.get_list().length+(null!=this.get_nullValueText()?1:0)},collectionViewItemFrameAtIndex:function(e,n,t){t.width=e.get_width(),t.height=S2.ITEM_HEIGHT},collectionViewReleaseItemAtIndex:function(e,n,t){return!0},collectionViewItemAtIndex:function(e,n,t){var i=null;return null!=t?(i=t).set_itemIndex(n):((i=new ul).set_inputStyle(!0),i.set_itemIndex(n),i.set_collectionView(e),this.bindCellView(i)),i},bindCellView:function(t){var i=this,e=(t.autorun(function(){var e=t.get_itemIndex(),e=(null!=i.get_nullValueText()&&--e,0<=e?i.get_list()[e]:null),n=e==i.get_value();t.set_title(null!=e?e:i.get_nullValueText()),t.set_displaysEmptyValue(null==e),t.set_selected(n)}),t.autorun(function(){var e=i.get_theme();w.unobserve(),t.set_theme(e)}),new c0);t.component("click",e),e.onClick(t,function(){var e=t.get_itemIndex(),e=(null!=i.get_nullValueText()&&--e,0<=e?i.get_list()[e]:null);i.set_value(e),i.emitValueClick(e),i.invalidateValue()})},updateStyle:function(){var e=this.get_theme(),n=(e=null==e?W.get_context().get_theme():e).get_darkBackgroundColor(),t=.1,i=(0-(n>>16&255))*(t=null==t?.5:t)+(n>>16&255)|0,l=(0-(n>>8&255))*t+(n>>8&255)|0,t=(0-(255&n))*t+(255&n)|0,n=0,n=(this.color=((n&65535|(255<i?255:i<0?0:i)<<16)&16711935|(255<l?255:l<0?0:l)<<8)&16776960|(255<t?255:t<0?0:t),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),e.get_lightBorderColor()),i=(this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),Un.INSIDE);this.borderPosition!=i&&(this.borderPosition=i,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),2!=this.borderDepth&&(this.borderDepth=2,null!=this.border)&&this.border.set_depth(2)},unbindEvents:function(){g0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offValueChange(),this.offListChange(),this.offNullValueTextChange(),this.offValueClick()},__class__:S2,__properties__:$extend(g0.prototype.__properties__,{set_nullValueText:"set_nullValueText",get_nullValueText:"get_nullValueText",set_list:"set_list",get_list:"get_list",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.BaseTextFieldView"]=T2).__name__="elements.BaseTextFieldView",T2.transformTextForCompletion=function(e){return z.replace(e," ","_")},T2.__super__=R2,T2.prototype=$extend(R2.prototype,{setTextValue:function(e,n){this.set_textValue(n),this.setValue(e,n)},setValue:function(e,n){},setEmptyValue:function(e){},submit:function(e){},textValueAutoruns:null,get_textValue:function(){var e,n,t=this.unobservedTextValue;return null!=w.current&&(e=w.current,null!=(n=this.textValueAutoruns)||(n=w.getAutorunArray(),null!=(this.textValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_textValue:function(e){var n=this.unobservedTextValue;return n!=(this.unobservedTextValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextValueChange(e,n),null!=(n=this.textValueAutoruns))&&(this.textValueAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTextValue:function(){var e=this.unobservedTextValue,e=(this.emitTextValueChange(e,e),this.textValueAutoruns);null!=e&&(this.textValueAutoruns=null,w.invalidateAutorunArray(e))},unobservedTextValue:null,__cbOnTextValueChange:null,__cbOnceTextValueChange:null,__cbOnOwnerUnbindTextValueChange:null,__cbOnceOwnerUnbindTextValueChange:null,emitTextValueChange:function(e,n){var t=0;if(null!=this.__cbOnTextValueChange&&(t+=this.__cbOnTextValueChange.length),null!=this.__cbOnceTextValueChange&&(t+=this.__cbOnceTextValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTextValueChange)for(var r=0,h=this.__cbOnTextValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTextValueChange[a],++s):--t}if(null!=this.__cbOnceTextValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceTextValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTextValueChange[a],this.__cbOnceTextValueChange[a]=null,u=this.__cbOnceOwnerUnbindTextValueChange[a],(this.__cbOnceOwnerUnbindTextValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextValueChange[a]),c.push(this.__cbOnceTextValueChange[a]))}this.__cbOnceOwnerUnbindTextValueChange=o,this.__cbOnceTextValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTextValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event textValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextValueChange&&(this.__cbOnOwnerUnbindTextValueChange=[]),this.__cbOnOwnerUnbindTextValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextValueChange&&(this.__cbOnOwnerUnbindTextValueChange=[]),this.__cbOnOwnerUnbindTextValueChange.push(null);null==this.__cbOnTextValueChange&&(this.__cbOnTextValueChange=[]),this.__cbOnTextValueChange.push(t)},onceTextValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event textValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextValueChange&&(this.__cbOnceOwnerUnbindTextValueChange=[]),this.__cbOnceOwnerUnbindTextValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextValueChange&&(this.__cbOnceOwnerUnbindTextValueChange=[]),this.__cbOnceOwnerUnbindTextValueChange.push(null);null==this.__cbOnceTextValueChange&&(this.__cbOnceTextValueChange=[]),this.__cbOnceTextValueChange.push(t)},offTextValueChange:function(e){if(null!=e){var n;null!=this.__cbOnTextValueChange&&-1!=(n=this.__cbOnTextValueChange.indexOf(e))&&(this.__cbOnTextValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTextValueChange[n])&&s(),this.__cbOnOwnerUnbindTextValueChange.splice(n,1)),null!=this.__cbOnceTextValueChange&&-1!=(n=this.__cbOnceTextValueChange.indexOf(e))&&(this.__cbOnceTextValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTextValueChange[n])&&s(),this.__cbOnceOwnerUnbindTextValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextValueChange){for(var t=0,i=this.__cbOnOwnerUnbindTextValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTextValueChange[l])&&s()}this.__cbOnOwnerUnbindTextValueChange=null}if(null!=this.__cbOnceOwnerUnbindTextValueChange){for(t=0,i=this.__cbOnceOwnerUnbindTextValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTextValueChange[l])&&s()}this.__cbOnceOwnerUnbindTextValueChange=null}this.__cbOnTextValueChange=null,this.__cbOnceTextValueChange=null}},listensTextValueChange:function(){return null!=this.__cbOnTextValueChange&&0<this.__cbOnTextValueChange.length||null!=this.__cbOnceTextValueChange&&0<this.__cbOnceTextValueChange.length},autocompleteCandidates:null,set_autocompleteCandidates:function(e){if(this.autocompleteCandidates!=e)if(null!=(this.autocompleteCandidates=e)){for(var n=[],t=0,i=e.length;t<i;){var l=e[t++];n.push({search:z.replace(l," ","_"),original:l})}this.processedAutocompleteCandidates=n}else this.processedAutocompleteCandidates=null;return e},autocompleteDelay:null,autocompleteMaxResults:null,autocompleteOnFocus:null,clipSuggestions:null,editingThisFrame:null,suggestionsVisibleThisFrame:null,didLostFocus:function(){R2.prototype.didLostFocus.call(this)},handleAutocompleteOnFocus:function(e,n){e&&!n&&this.autocompleteOnFocus&&null!=this.autocompleteCandidates&&0<this.autocompleteCandidates.length&&this.updateAutocompleteSuggestions(!0)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,R2.prototype.destroy.call(this),this.clearSuggestions())},keyBindings:null,set_keyBindings:function(e){return this.keyBindings==e?this.keyBindings:(null!=this.keyBindings&&this.keyBindings.destroy(),this.keyBindings=e,null!=this.keyBindings?(this.component("keyBindings",this.keyBindings,!0),this.keyBindings):(this.removeComponent("keyBindings"),null))},textView:null,editText:null,cancelAutoComplete:null,processedAutocompleteCandidates:null,suggestionsView:null,suggestionsContainer:null,suggestions:null,handleEditTextSubmit:function(){this.get_focused()&&this.submit(this)},updateFromEditText:function(e){var t=this,i=(null!=this.cancelAutoComplete&&(this.cancelAutoComplete(),this.cancelAutoComplete=null),this.textView.text.component("selectText")),l=this.get_textValue(),s=i.get_selectionStart(),n=i.get_selectionEnd(),r=(this.setTextValue(this,e),this.get_textValue()),h=l.substring(0,s-1),a=r.substring(0,s-1);s==n&&e.length==l.length+1&&r.length>e.length&&h==a&&ke.app._oncePostFlushImmediate(function(){var e,n;t._lifecycleState<0||(e=i.get_selectionStart(),n=r.length-l.length,l.substring(e,l.length)==r.substring(e+n,r.length)&&(i.set_selectionStart(s+n),i.set_selectionEnd(i.get_selectionStart())))},!0),l!=e&&null!=this.autocompleteCandidates&&0<this.autocompleteCandidates.length&&(this.cancelAutoComplete=mi.schedule(this,this.autocompleteDelay,function(){t.updateAutocompleteSuggestions()},-1))},updateFromTextValue:function(){var e=this.get_textValue();w.unobserve(),null!=this.editText&&this.editText.updateText(e),this.textView.set_content(e),w.reobserve()},updateAutocompleteSuggestions:function(e){null==e&&(e=!1);var n=this.textView.text.content;if(0<z.trim(n).length){var n=z.replace(n," ","_"),t=Rl.filter(this.processedAutocompleteCandidates,n,{maxResults:this.autocompleteMaxResults,key:"search"}),i=!(this.suggestions=[]);if(0<t.length){for(var l=0,s=t.length;l<s;){var r=l++;this.suggestions.push(t[r].original)}e&&this.suggestions.length<T2.FORCED_SUGGESTION_FULL_LIST_UNDER_COUNT&&(i=!0)}else e&&(i=!0);if(i){var i=this.suggestions;if(0!=i.length)if(0<i.length)i.splice(0,i.length);else for(var h=i;h.length<0;)h.push(null);for(var a=Object.create(null),l=0,s=this.processedAutocompleteCandidates.length;l<s;){var r=l++,o=this.processedAutocompleteCandidates[r].original,c=(this.suggestions.push(o),this.suggestionDeepScore(o,n));a[o]=c}this.suggestions.sort(function(e,n){e=a[e],n=a[n];return n<e?-1:e<n?1:0})}}else if(e){this.suggestions=[];for(l=0,s=this.processedAutocompleteCandidates.length;l<s;){r=l++;this.suggestions.push(this.processedAutocompleteCandidates[r].original)}}else this.suggestions=null;null==this.suggestions||0==this.suggestions.length?this.clearSuggestions():(null==this.suggestionsContainer&&(this.suggestionsContainer=new g0,this.suggestionsContainer.onLayout(this,$bind(this,this.layoutSuggestionsContainer)),(i=this.suggestionsContainer).flags|=16,(i=this.suggestionsContainer).set_viewWidth(0),i.set_viewHeight(0),this.suggestionsContainer.set_active(!0),this.suggestionsContainer.set_depth(100),W.get_context().view.add(this.suggestionsContainer)),null==this.suggestionsView&&(this.suggestionsView=new S2,this.suggestionsView.autoScrollToValue=!0,this.suggestionsView.onValueChange(this,$bind(this,this.suggestionsValueChange)),this.suggestionsView.onValueClick(this,$bind(this,this.suggestionsValueClick)),ke.app.input.onKeyDown(this.suggestionsView,$bind(this,this.suggestionsKeyDown)),this.suggestionsContainer.add(this.suggestionsView)),N0.equal(this.suggestionsView.get_list(),this.suggestions)||this.suggestionsView.set_list(this.suggestions))},suggestionsKeyDown:function(e){var n,t=this;null!=this.suggestionsView&&null!=this.suggestions&&0!=this.suggestions.length&&(41==e.scanCode?(this.clearSuggestions(),this.focus()):this.get_focused()&&81==e.scanCode?null!=(n=this.suggestionsView.get_list())&&(null==this.suggestionsView.get_value()?0<n.length&&this.suggestionsView.set_value(n[0]):n.indexOf(this.suggestionsView.get_value())<n.length-1&&this.suggestionsView.set_value(n[n.indexOf(this.suggestionsView.get_value())+1])):this.get_focused()&&82==e.scanCode?null!=(n=this.suggestionsView.get_list())&&null!=this.suggestionsView.get_value()&&0<n.indexOf(this.suggestionsView.get_value())&&this.suggestionsView.set_value(n[n.indexOf(this.suggestionsView.get_value())-1]):this.get_focused()&&40==e.scanCode&&(null==this.suggestionsView.get_value()&&this.suggestionsView.set_value(this.suggestions[0]),ke.app._oncePostFlushImmediate(function(){t.clearSuggestions(),ke.app._oncePostFlushImmediate(function(){t.focus()},!0)},!0)))},suggestionsValueChange:function(e,n){null!=this.editText&&(this.editText.updateText(e),this.editText.selectText.set_selectionStart(e.length),this.editText.selectText.set_selectionEnd(e.length)),this.textView.set_content(e),this.setTextValue(this,e),this.focus()},suggestionsValueClick:function(e){this.clearSuggestions(),this.focus()},suggestionDeepScore:function(e,n){for(var t=0,i=(t+=Rl.score(e,n),n.lastIndexOf("_"));-1!=i;)n=n.substring(0,i),t+=Rl.score(e,n),i=n.lastIndexOf("_");return t},layoutSuggestionsContainer:function(){var e,n,t;null!=this.suggestionsView&&(e=this.suggestionsView,n=this.get_width(),t=this.suggestionsHeight(),e.set_width(n),e.set_height(t))},suggestionsHeight:function(){return Math.min(T2.ITEM_HEIGHT*(null!=this.suggestions?this.suggestions.length:0),T2.MAX_LIST_HEIGHT)},updateSuggestionsPosition:function(){if(null!=this.suggestionsContainer&&1!=(1&this.suggestionsContainer.flags)){var e=this.getScrollingLayout(),n=(this.visualToScreen(0,this.get_height(),T2._point),T2._point.x),t=T2._point.y;W.get_context().view.screenToVisual(n,t,T2._point),n=T2._point.x,t=T2._point.y;if(W.get_context().view.get_height()-t<=this.suggestionsHeight()?(this.visualToScreen(0,0-this.suggestionsHeight(),T2._point),n=T2._point.x,t=T2._point.y,W.get_context().view.screenToVisual(n,t,T2._point),n=T2._point.x,t=T2._point.y):0,this.clipSuggestions)if(null!=e)if(e.screenToVisual(0,0,T2._point),W.get_context().view.screenToVisual(T2._point.x,T2._point.y,T2._point),t+T2._point.y<0){var i=this.suggestionsContainer;if(i.clip!=e&&(i.clip=e,i.clipDirty=!0,null!=i.children))for(var l=0,s=i.children.length;l<s;){var r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(var h=0,a=u.children.length;h<a;){var o=h++;u.children[o].set_clipDirty(!0)}}}else{var i=this.suggestionsContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.suggestionsContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.suggestionsContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){var u,r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}n==this.suggestionsContainer.x&&t==this.suggestionsContainer.y||(this.suggestionsContainer.layoutDirty=!0),(i=this.suggestionsContainer).set_x(n),i.set_y(t)}},updateThisFrameFlags:function(){this.editingThisFrame=null!=this.editText&&this.editText.get_editing(),this.suggestionsVisibleThisFrame=null!=this.suggestionsView&&this.suggestionsView.computedVisible},updateSuggestionsVisibility:function(){if(null!=this.suggestionsView&&Ol.get_shared().get_focusedField()!=this){for(var e=ke.app.screen.get_focusedVisual(),n=!1;null!=e;){if(e==this.suggestionsView){n=!0;break}e=e.parent}n||this.clearSuggestions()}},clearSuggestions:function(){null!=this.suggestionsView&&(this.suggestionsView.destroy(),this.suggestionsView=null),null!=this.suggestionsContainer&&(this.suggestionsContainer.destroy(),this.suggestionsContainer=null)},bindKeyBindings:function(){var n=this;this.set_keyBindings(new mt),this.keyBindings.bind([vt.CMD_OR_CTRL,vt.KEY(97)],function(){var e;n.get_focused()&&((e=n.textView.text.component("selectText")).set_selectionStart(0),e.set_selectionEnd(n.textView.text.content.length))}),this.keyBindings.bind([vt.CMD_OR_CTRL,vt.KEY(32)],function(){n.get_focused()&&null!=n.autocompleteCandidates&&0<n.autocompleteCandidates.length&&n.updateAutocompleteSuggestions(!0)})},hitsSelfOrDerived:function(e,n){return!!this._hits(e,n,!1)||!(null==this.suggestionsView||!this.suggestionsView.computedVisible)&&this.suggestionsView._hits(e,n,!1)},usesScanCode:function(e){return!!R2.prototype.usesScanCode.call(this,e)||!!(this.editingThisFrame||null!=this.editText&&this.editText.get_editing())||!!((this.suggestionsVisibleThisFrame||null!=this.suggestionsView&&this.suggestionsView.computedVisible)&&(41==e||this.get_focused()&&81==e||this.get_focused()&&82==e||this.get_focused()&&40==e))},usesKeyCode:function(e){return!!R2.prototype.usesKeyCode.call(this,e)||!!(this.editingThisFrame||null!=this.editText&&this.editText.get_editing())||!!((this.suggestionsVisibleThisFrame||null!=this.suggestionsView&&this.suggestionsView.computedVisible)&&(27==e||this.get_focused()&&1073741905==e||this.get_focused()&&1073741906==e||this.get_focused()&&13==e))},unbindEvents:function(){R2.prototype.unbindEvents.call(this),this.offTextValueChange()},__class__:T2,__properties__:$extend(R2.prototype.__properties__,{set_keyBindings:"set_keyBindings",set_autocompleteCandidates:"set_autocompleteCandidates",set_textValue:"set_textValue",get_textValue:"get_textValue"})}),(E["elements.BiBorderedTriangle"]=U2).__name__="elements.BiBorderedTriangle",U2.__super__=Aa,U2.prototype=$extend(Aa.prototype,{set_width:function(e){return Aa.prototype.set_width.call(this,e),this.contentDirty=!0,ke.app.visualsContentDirty=!0,e},set_height:function(e){return Aa.prototype.set_height.call(this,e),this.contentDirty=!0,ke.app.visualsContentDirty=!0,e},innerColor:null,set_innerColor:function(e){var n;return this.innerColor!=e&&(n=this.colors[0]>>24&255,this.colors[0]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,n=this.colors[1]>>24&255,this.colors[1]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24,n=this.colors[2]>>24&255,this.colors[2]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24),e},innerAlpha:null,set_innerAlpha:function(e){var n,t,i,l,s,r,h,a;return this.innerAlpha!=e&&(n=Math.round(255*e),a=((r=0)|(r=(r=(r=r&65535|(255<(i=(t=this.colors[0])>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216,this.colors[0]=a=a&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[1],this.colors[1]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[2],this.colors[2]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24),e},borderSize:null,set_borderSize:function(e){return this.borderSize!=e&&(this.borderSize=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},borderColor:null,set_borderColor:function(e){if(this.borderColor!=e){this.borderColor=e;{var n=this.colors[3],n=n>>24&255,t=(null==n&&(n=255),(0|e)-16777216);this.colors[3]=t&16777215|(255<n?255:n<0?0:n)<<24;n=this.colors[4]>>24&255}this.colors[4]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[5]>>24&255;this.colors[5]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[6]>>24&255;this.colors[6]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[7]>>24&255;this.colors[7]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[8]>>24&255;this.colors[8]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[9]>>24&255;this.colors[9]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[10]>>24&255;this.colors[10]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[11]>>24&255;this.colors[11]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[12]>>24&255;this.colors[12]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[13]>>24&255;this.colors[13]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24;n=this.colors[14]>>24&255;this.colors[14]=(0|e)-16777216&16777215|(255<(n=null==n?255:n)?255:n<0?0:n)<<24}return e},borderAlpha:null,set_borderAlpha:function(e){var n,t,i,l,s,r,h,a;return this.borderAlpha!=e&&(this.borderAlpha=e,n=Math.round(255*e),a=((r=0)|(r=(r=(r=r&65535|(255<(i=(t=this.colors[3])>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216,this.colors[3]=a=a&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[4],this.colors[4]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[5],this.colors[5]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[6],this.colors[6]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[7],this.colors[7]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[8],this.colors[8]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[9],this.colors[9]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[10],this.colors[10]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[11],this.colors[11]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[12],this.colors[12]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[13],this.colors[13]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24,t=this.colors[14],this.colors[14]=a=(a=(0|(r=(r=(r=(r=0)&65535|(255<(i=t>>16&255)?255:i<0?0:i)<<16)&16711935|(255<(l=t>>8&255)?255:l<0?0:l)<<8)&16776960|(255<(s=255&t)?255:s<0?0:s)))-16777216)&16777215|(255<(h=null==(h=n)?255:h)?255:h<0?0:h)<<24),e},computeContent:function(){Aa.prototype.computeContent.call(this),this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.borderSize,this.vertices[7]=this.get_height(),this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.borderSize,this.vertices[10]=this.get_width()+this.borderSize,this.vertices[11]=this.get_height()},updateVertices:function(){this.vertices[0]=0,this.vertices[1]=this.get_height(),this.vertices[2]=.5*this.get_width(),this.vertices[3]=0,this.vertices[4]=this.get_width(),this.vertices[5]=this.get_height(),this.vertices[6]=-this.borderSize,this.vertices[7]=this.get_height(),this.vertices[8]=.5*this.get_width(),this.vertices[9]=-this.borderSize,this.vertices[10]=this.get_width()+this.borderSize,this.vertices[11]=this.get_height()},__class__:U2,__properties__:$extend(Aa.prototype.__properties__,{set_borderAlpha:"set_borderAlpha",set_borderColor:"set_borderColor",set_borderSize:"set_borderSize",set_innerAlpha:"set_innerAlpha",set_innerColor:"set_innerColor"})}),(E["elements.BooleanFieldView"]=V2).__name__="elements.BooleanFieldView",V2.__super__=R2,V2.prototype=$extend(R2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},switchContainer:null,switchSquare:null,setValue:function(e,n){},valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=w.current&&(e=w.current,null!=(n=this.valueAutoruns)||(n=w.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,w.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnValueChange)for(var r=0,h=this.__cbOnValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnValueChange[a],++s):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindValueChange[n])&&s(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindValueChange[n])&&s(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindValueChange[l])&&s()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindValueChange[l])&&s()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=w.current&&(e=w.current,null!=(n=this.inputStyleAutoruns)||(n=w.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,w.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInputStyleChange)for(var r=0,h=this.__cbOnInputStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInputStyleChange[a],++s):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceInputStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=w.current&&(e=w.current,null!=(n=this.disabledAutoruns)||(n=w.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return this.set_unobservedDisabled(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,w.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledChange)for(var r=0,h=this.__cbOnDisabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledChange[a],++s):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledChange[n])&&s(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledChange[l])&&s()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},set_unobservedDisabled:function(e){return this.unobservedDisabled!=e&&(this.unobservedDisabled=e,this.set_touchable(!e),e)&&this.get_unobservedFocused()&&ke.app.screen.set_focusedVisual(null),e},layoutSwitchContainer:function(){var e,n,t;this._lifecycleState<0||(this.get_value()?(n=this.switchSquare,e=this.switchContainer.get_width()-this.switchSquare.get_width()-this.switchContainer.paddingRight,t=this.switchContainer.paddingTop,n.set_x(e)):(n=this.switchSquare,t=this.switchContainer.paddingTop,n.set_x(this.switchContainer.paddingLeft)),n.set_y(t))},handleKeyDown:function(e){Ol.get_shared().get_focusedField()==this&&(44==e.scanCode?this.toggleValue():40==e.scanCode?this.get_value()||(this.set_value(!0),this.setValue(this,!0)):42!=e.scanCode&&76!=e.scanCode||this.get_value()&&(this.set_value(!1),this.setValue(this,!1)))},toggleValue:function(){this.set_value(!this.get_value()),this.setValue(this,this.get_value())},updateStyle:function(){var e,n,t=this.get_theme();null==t&&(t=W.get_context().get_theme()),this.get_inputStyle()==Cl.OVERLAY||this.get_inputStyle()==Cl.MINIMAL?(e=this.switchContainer).flags|=16:((e=this.switchContainer).flags&=-17,this.switchContainer.color=t.get_darkBackgroundColor()),this.get_value()?((e=this.switchSquare).flags&=-17,n=this.get_disabled()?t.get_darkTextColor():t.get_mediumTextColor(),this.switchSquare.color=n):(e=this.switchSquare,n=this.get_inputStyle()==Cl.OVERLAY,e.flags=n?16|e.flags:-17&e.flags,this.switchSquare.color=t.get_darkBackgroundColor()),n=this.get_inputStyle()==Cl.MINIMAL?(0!=(e=this.switchContainer).borderSize&&(e.borderSize=0,e.updateBorder()),(e=this.switchContainer).flags|=16,1!=(e=this.switchSquare).borderSize&&(e.borderSize=1,e.updateBorder()),e=this.switchSquare,n=Un.OUTSIDE,e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),e=this.switchSquare,t.get_darkBorderColor()):(1!=(e=this.switchContainer).borderSize&&(e.borderSize=1,e.updateBorder()),(e=this.switchContainer).flags&=-17,0!=(e=this.switchSquare).borderSize&&(e.borderSize=0,e.updateBorder()),this.get_focused()?(e=this.switchContainer,t.get_focusedFieldBorderColor()):this.get_disabled()?(e=this.switchContainer,t.get_mediumBorderColor()):(e=this.switchContainer,t.get_lightBorderColor())),e.borderColor!=n&&(e.borderColor=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder()},unbindEvents:function(){R2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offValueChange(),this.offInputStyleChange(),this.offDisabledChange()},__class__:V2,__properties__:$extend(R2.prototype.__properties__,{set_unobservedDisabled:"set_unobservedDisabled",set_disabled:"set_disabled",get_disabled:"get_disabled",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.Button"]=W2).__name__="elements.Button",W2.__interfaces__=[Q2,u],W2.__super__=O1,W2.prototype=$extend(O1.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},click:null,set_click:function(e){return this.click==e?this.click:(null!=this.click&&this.click.destroy(),this.click=e,null!=this.click?(this.component("click",this.click,!0),this.click):(this.removeComponent("click"),null))},__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(){var e=0;if(null!=this.__cbOnClick&&(e+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(e+=this.__cbOnceClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnClick)for(var l=0,s=this.__cbOnClick.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnClick[r],++i):--e}if(null!=this.__cbOnceClick){for(var h=null,a=null,l=0,s=this.__cbOnceClick.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceClick[r],this.__cbOnceClick[r]=null,o=this.__cbOnceOwnerUnbindClick[r],(this.__cbOnceOwnerUnbindClick[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindClick[r]),a.push(this.__cbOnceClick[r]))}this.__cbOnceOwnerUnbindClick=h,this.__cbOnceClick=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClick[n])&&s(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClick[n])&&s(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClick[l])&&s()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClick[l])&&s()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},windowItem:null,get_pressed:function(){return this.click.get_pressed()},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=w.current&&(e=w.current,null!=(n=this.inputStyleAutoruns)||(n=w.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,w.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInputStyleChange)for(var r=0,h=this.__cbOnInputStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInputStyleChange[a],++s):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceInputStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},enabledAutoruns:null,get_enabled:function(){var e,n,t=this.unobservedEnabled;return null!=w.current&&(e=w.current,null!=(n=this.enabledAutoruns)||(n=w.getAutorunArray(),null!=(this.enabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_enabled:function(e){var n=this.unobservedEnabled;return this.set_unobservedEnabled(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitEnabledChange(e,n),null!=(n=this.enabledAutoruns))&&(this.enabledAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateEnabled:function(){var e=this.unobservedEnabled,e=(this.emitEnabledChange(e,e),this.enabledAutoruns);null!=e&&(this.enabledAutoruns=null,w.invalidateAutorunArray(e))},unobservedEnabled:null,__cbOnEnabledChange:null,__cbOnceEnabledChange:null,__cbOnOwnerUnbindEnabledChange:null,__cbOnceOwnerUnbindEnabledChange:null,emitEnabledChange:function(e,n){var t=0;if(null!=this.__cbOnEnabledChange&&(t+=this.__cbOnEnabledChange.length),null!=this.__cbOnceEnabledChange&&(t+=this.__cbOnceEnabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnEnabledChange)for(var r=0,h=this.__cbOnEnabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnEnabledChange[a],++s):--t}if(null!=this.__cbOnceEnabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceEnabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceEnabledChange[a],this.__cbOnceEnabledChange[a]=null,u=this.__cbOnceOwnerUnbindEnabledChange[a],(this.__cbOnceOwnerUnbindEnabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindEnabledChange[a]),c.push(this.__cbOnceEnabledChange[a]))}this.__cbOnceOwnerUnbindEnabledChange=o,this.__cbOnceEnabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onEnabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event enabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEnabledChange&&(this.__cbOnOwnerUnbindEnabledChange=[]),this.__cbOnOwnerUnbindEnabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEnabledChange&&(this.__cbOnOwnerUnbindEnabledChange=[]),this.__cbOnOwnerUnbindEnabledChange.push(null);null==this.__cbOnEnabledChange&&(this.__cbOnEnabledChange=[]),this.__cbOnEnabledChange.push(t)},onceEnabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event enabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEnabledChange&&(this.__cbOnceOwnerUnbindEnabledChange=[]),this.__cbOnceOwnerUnbindEnabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEnabledChange&&(this.__cbOnceOwnerUnbindEnabledChange=[]),this.__cbOnceOwnerUnbindEnabledChange.push(null);null==this.__cbOnceEnabledChange&&(this.__cbOnceEnabledChange=[]),this.__cbOnceEnabledChange.push(t)},offEnabledChange:function(e){if(null!=e){var n;null!=this.__cbOnEnabledChange&&-1!=(n=this.__cbOnEnabledChange.indexOf(e))&&(this.__cbOnEnabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEnabledChange[n])&&s(),this.__cbOnOwnerUnbindEnabledChange.splice(n,1)),null!=this.__cbOnceEnabledChange&&-1!=(n=this.__cbOnceEnabledChange.indexOf(e))&&(this.__cbOnceEnabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEnabledChange[n])&&s(),this.__cbOnceOwnerUnbindEnabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnabledChange){for(var t=0,i=this.__cbOnOwnerUnbindEnabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEnabledChange[l])&&s()}this.__cbOnOwnerUnbindEnabledChange=null}if(null!=this.__cbOnceOwnerUnbindEnabledChange){for(t=0,i=this.__cbOnceOwnerUnbindEnabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEnabledChange[l])&&s()}this.__cbOnceOwnerUnbindEnabledChange=null}this.__cbOnEnabledChange=null,this.__cbOnceEnabledChange=null}},listensEnabledChange:function(){return null!=this.__cbOnEnabledChange&&0<this.__cbOnEnabledChange.length||null!=this.__cbOnceEnabledChange&&0<this.__cbOnceEnabledChange.length},set_unobservedEnabled:function(e){return this.unobservedEnabled!=e&&(this.unobservedEnabled=e,this.set_touchable(e),!e)&&this.get_unobservedFocused()&&ke.app.screen.set_focusedVisual(null),this.get_disabled()},get_disabled:function(){return!this.get_enabled()},set_disabled:function(e){return this.set_enabled(!e)},willListenFocusedChange:function(){this.get_unobservedFocused()},get_unobservedFocused:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunFocused?(n=this,t=new w(null),this.computedOnceFocused=!0,(this.computeAutorunFocused=t).onRun=function(){var e=n.computeFocused();w.unobserve(),n.set_focused(e),w.reobserve()},t.onDestroy(this,function(e){n.computeAutorunFocused==t&&(n.computeAutorunFocused=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunFocused.invalidated&&this.computeAutorunFocused.run():this.computedOnceFocused||(w.unobserve(),this.computedOnceFocused=!0,this.unobservedFocused=this.computeFocused(),w.reobserve()),this.unobservedFocused},focusedAutoruns:null,get_focused:function(){var e,n,t=this.get_unobservedFocused();return null!=w.current&&(e=w.current,null!=(n=this.focusedAutoruns)||(n=w.getAutorunArray(),null!=(this.focusedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focused:function(e){var n=this.get_unobservedFocused();return n!=(this.unobservedFocused=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedChange(e,n),null!=(n=this.focusedAutoruns))&&(this.focusedAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFocused:function(){var e=this.get_unobservedFocused(),e=(this.emitFocusedChange(e,e),this.focusedAutoruns);null!=e&&(this.focusedAutoruns=null,w.invalidateAutorunArray(e))},unobservedFocused:null,__cbOnFocusedChange:null,__cbOnceFocusedChange:null,__cbOnOwnerUnbindFocusedChange:null,__cbOnceOwnerUnbindFocusedChange:null,emitFocusedChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedChange&&(t+=this.__cbOnFocusedChange.length),null!=this.__cbOnceFocusedChange&&(t+=this.__cbOnceFocusedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedChange)for(var r=0,h=this.__cbOnFocusedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFocusedChange[a],++s):--t}if(null!=this.__cbOnceFocusedChange){for(var o=null,c=null,r=0,h=this.__cbOnceFocusedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFocusedChange[a],this.__cbOnceFocusedChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedChange[a],(this.__cbOnceOwnerUnbindFocusedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedChange[a]),c.push(this.__cbOnceFocusedChange[a]))}this.__cbOnceOwnerUnbindFocusedChange=o,this.__cbOnceFocusedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFocusedChange:function(n,t){var i=this;if(null==this.__cbOnFocusedChange&&null==this.__cbOnceFocusedChange&&this.willListenFocusedChange(),null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focusedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedChange&&(this.__cbOnOwnerUnbindFocusedChange=[]),this.__cbOnOwnerUnbindFocusedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedChange&&(this.__cbOnOwnerUnbindFocusedChange=[]),this.__cbOnOwnerUnbindFocusedChange.push(null);null==this.__cbOnFocusedChange&&(this.__cbOnFocusedChange=[]),this.__cbOnFocusedChange.push(t)},onceFocusedChange:function(n,t){var i=this;if(null==this.__cbOnFocusedChange&&null==this.__cbOnceFocusedChange&&this.willListenFocusedChange(),null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focusedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedChange&&(this.__cbOnceOwnerUnbindFocusedChange=[]),this.__cbOnceOwnerUnbindFocusedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedChange&&(this.__cbOnceOwnerUnbindFocusedChange=[]),this.__cbOnceOwnerUnbindFocusedChange.push(null);null==this.__cbOnceFocusedChange&&(this.__cbOnceFocusedChange=[]),this.__cbOnceFocusedChange.push(t)},offFocusedChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedChange&&-1!=(n=this.__cbOnFocusedChange.indexOf(e))&&(this.__cbOnFocusedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedChange[n])&&s(),this.__cbOnOwnerUnbindFocusedChange.splice(n,1)),null!=this.__cbOnceFocusedChange&&-1!=(n=this.__cbOnceFocusedChange.indexOf(e))&&(this.__cbOnceFocusedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedChange[l])&&s()}this.__cbOnOwnerUnbindFocusedChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedChange=null}this.__cbOnFocusedChange=null,this.__cbOnceFocusedChange=null}},listensFocusedChange:function(){return null!=this.__cbOnFocusedChange&&0<this.__cbOnFocusedChange.length||null!=this.__cbOnceFocusedChange&&0<this.__cbOnceFocusedChange.length},computeFocused:function(){var e=ke.app.screen.get_focusedVisual(),e=(w.unobserve(),e==this||null!=e&&e.hasIndirectParent(this));return w.reobserve(),e},computeAutorunFocused:null,computedOnceFocused:null,hoverAutoruns:null,get_hover:function(){var e,n,t=this.unobservedHover;return null!=w.current&&(e=w.current,null!=(n=this.hoverAutoruns)||(n=w.getAutorunArray(),null!=(this.hoverAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hover:function(e){var n=this.unobservedHover;return n!=(this.unobservedHover=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverChange(e,n),null!=(n=this.hoverAutoruns))&&(this.hoverAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateHover:function(){var e=this.unobservedHover,e=(this.emitHoverChange(e,e),this.hoverAutoruns);null!=e&&(this.hoverAutoruns=null,w.invalidateAutorunArray(e))},unobservedHover:null,__cbOnHoverChange:null,__cbOnceHoverChange:null,__cbOnOwnerUnbindHoverChange:null,__cbOnceOwnerUnbindHoverChange:null,emitHoverChange:function(e,n){var t=0;if(null!=this.__cbOnHoverChange&&(t+=this.__cbOnHoverChange.length),null!=this.__cbOnceHoverChange&&(t+=this.__cbOnceHoverChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHoverChange)for(var r=0,h=this.__cbOnHoverChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHoverChange[a],++s):--t}if(null!=this.__cbOnceHoverChange){for(var o=null,c=null,r=0,h=this.__cbOnceHoverChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHoverChange[a],this.__cbOnceHoverChange[a]=null,u=this.__cbOnceOwnerUnbindHoverChange[a],(this.__cbOnceOwnerUnbindHoverChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverChange[a]),c.push(this.__cbOnceHoverChange[a]))}this.__cbOnceOwnerUnbindHoverChange=o,this.__cbOnceHoverChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(null);null==this.__cbOnHoverChange&&(this.__cbOnHoverChange=[]),this.__cbOnHoverChange.push(t)},onceHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(null);null==this.__cbOnceHoverChange&&(this.__cbOnceHoverChange=[]),this.__cbOnceHoverChange.push(t)},offHoverChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverChange&&-1!=(n=this.__cbOnHoverChange.indexOf(e))&&(this.__cbOnHoverChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHoverChange[n])&&s(),this.__cbOnOwnerUnbindHoverChange.splice(n,1)),null!=this.__cbOnceHoverChange&&-1!=(n=this.__cbOnceHoverChange.indexOf(e))&&(this.__cbOnceHoverChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHoverChange[n])&&s(),this.__cbOnceOwnerUnbindHoverChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHoverChange[l])&&s()}this.__cbOnOwnerUnbindHoverChange=null}if(null!=this.__cbOnceOwnerUnbindHoverChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHoverChange[l])&&s()}this.__cbOnceOwnerUnbindHoverChange=null}this.__cbOnHoverChange=null,this.__cbOnceHoverChange=null}},listensHoverChange:function(){return null!=this.__cbOnHoverChange&&0<this.__cbOnHoverChange.length||null!=this.__cbOnceHoverChange&&0<this.__cbOnceHoverChange.length},enterPressedAutoruns:null,get_enterPressed:function(){var e,n,t=this.unobservedEnterPressed;return null!=w.current&&(e=w.current,null!=(n=this.enterPressedAutoruns)||(n=w.getAutorunArray(),null!=(this.enterPressedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_enterPressed:function(e){var n=this.unobservedEnterPressed;return n!=(this.unobservedEnterPressed=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitEnterPressedChange(e,n),null!=(n=this.enterPressedAutoruns))&&(this.enterPressedAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateEnterPressed:function(){var e=this.unobservedEnterPressed,e=(this.emitEnterPressedChange(e,e),this.enterPressedAutoruns);null!=e&&(this.enterPressedAutoruns=null,w.invalidateAutorunArray(e))},unobservedEnterPressed:null,__cbOnEnterPressedChange:null,__cbOnceEnterPressedChange:null,__cbOnOwnerUnbindEnterPressedChange:null,__cbOnceOwnerUnbindEnterPressedChange:null,emitEnterPressedChange:function(e,n){var t=0;if(null!=this.__cbOnEnterPressedChange&&(t+=this.__cbOnEnterPressedChange.length),null!=this.__cbOnceEnterPressedChange&&(t+=this.__cbOnceEnterPressedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnEnterPressedChange)for(var r=0,h=this.__cbOnEnterPressedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnEnterPressedChange[a],++s):--t}if(null!=this.__cbOnceEnterPressedChange){for(var o=null,c=null,r=0,h=this.__cbOnceEnterPressedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceEnterPressedChange[a],this.__cbOnceEnterPressedChange[a]=null,u=this.__cbOnceOwnerUnbindEnterPressedChange[a],(this.__cbOnceOwnerUnbindEnterPressedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindEnterPressedChange[a]),c.push(this.__cbOnceEnterPressedChange[a]))}this.__cbOnceOwnerUnbindEnterPressedChange=o,this.__cbOnceEnterPressedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onEnterPressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event enterPressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnterPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEnterPressedChange&&(this.__cbOnOwnerUnbindEnterPressedChange=[]),this.__cbOnOwnerUnbindEnterPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEnterPressedChange&&(this.__cbOnOwnerUnbindEnterPressedChange=[]),this.__cbOnOwnerUnbindEnterPressedChange.push(null);null==this.__cbOnEnterPressedChange&&(this.__cbOnEnterPressedChange=[]),this.__cbOnEnterPressedChange.push(t)},onceEnterPressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event enterPressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnterPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEnterPressedChange&&(this.__cbOnceOwnerUnbindEnterPressedChange=[]),this.__cbOnceOwnerUnbindEnterPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEnterPressedChange&&(this.__cbOnceOwnerUnbindEnterPressedChange=[]),this.__cbOnceOwnerUnbindEnterPressedChange.push(null);null==this.__cbOnceEnterPressedChange&&(this.__cbOnceEnterPressedChange=[]),this.__cbOnceEnterPressedChange.push(t)},offEnterPressedChange:function(e){if(null!=e){var n;null!=this.__cbOnEnterPressedChange&&-1!=(n=this.__cbOnEnterPressedChange.indexOf(e))&&(this.__cbOnEnterPressedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEnterPressedChange[n])&&s(),this.__cbOnOwnerUnbindEnterPressedChange.splice(n,1)),null!=this.__cbOnceEnterPressedChange&&-1!=(n=this.__cbOnceEnterPressedChange.indexOf(e))&&(this.__cbOnceEnterPressedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEnterPressedChange[n])&&s(),this.__cbOnceOwnerUnbindEnterPressedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnterPressedChange){for(var t=0,i=this.__cbOnOwnerUnbindEnterPressedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEnterPressedChange[l])&&s()}this.__cbOnOwnerUnbindEnterPressedChange=null}if(null!=this.__cbOnceOwnerUnbindEnterPressedChange){for(t=0,i=this.__cbOnceOwnerUnbindEnterPressedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEnterPressedChange[l])&&s()}this.__cbOnceOwnerUnbindEnterPressedChange=null}this.__cbOnEnterPressedChange=null,this.__cbOnceEnterPressedChange=null}},listensEnterPressedChange:function(){return null!=this.__cbOnEnterPressedChange&&0<this.__cbOnEnterPressedChange.length||null!=this.__cbOnceEnterPressedChange&&0<this.__cbOnceEnterPressedChange.length},handleKeyDown:function(e){40==e.scanCode&&this.get_focused()&&!this.get_enterPressed()&&(this.set_enterPressed(!0),this.emitClick())},handleKeyUp:function(e){40==e.scanCode&&this.set_enterPressed(!1)},updateStyle:function(){var e,n,t=this.get_theme(),i=(null==t&&(t=W.get_context().get_theme()),this.get_enabled()),l=this.get_focused(),s=this.click.get_pressed()||this.get_enterPressed();this.transform.ty=s&&i?1:0,this.transform.changedDirty=!0,this.set_font(t.get_mediumFont()),this.set_textColor(t.get_lightTextColor()),this.get_inputStyle()==Cl.OVERLAY?(this.set_minHeight(25),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),e=Un.INSIDE,this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder()):(this.set_minHeight(27),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),e=Un.INSIDE,this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.flags&=-17,1!=this.borderAlpha&&(this.borderAlpha=1,null!=this.border)&&this.border.set_alpha(1)),this.get_inputStyle()==Cl.OVERLAY?i?(this.text.set_alpha(1),s?(this.flags&=-17,this.color=16777215,this.set_alpha(.05),n=t.get_lightTextColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),.33!=this.borderAlpha&&(this.borderAlpha=.33,null!=this.border)&&this.border.set_alpha(.33)):l?(this.flags|=16,n=t.get_buttonFocusedBorderColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),1!=this.borderAlpha&&(this.borderAlpha=1,null!=this.border)&&this.border.set_alpha(1)):this.get_hover()?(this.flags&=-17,this.color=16777215,this.set_alpha(.025),n=t.get_lightTextColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),.25!=this.borderAlpha&&(this.borderAlpha=.25,null!=this.border)&&this.border.set_alpha(.25)):(n=t.get_lightTextColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),.2!=this.borderAlpha&&(this.borderAlpha=.2,null!=this.border)&&this.border.set_alpha(.2),this.flags|=16)):(.1!=this.borderAlpha&&(this.borderAlpha=.1,null!=this.border)&&this.border.set_alpha(.1),this.text.set_alpha(.5),this.flags|=16):i?(this.set_alpha(1),this.text.set_alpha(1),s?this.color=t.get_buttonPressedBackgroundColor():this.get_hover()?this.color=t.get_buttonOverBackgroundColor():this.color=t.get_buttonBackgroundColor(),n=s?t.get_buttonPressedBackgroundColor():l?t.get_buttonFocusedBorderColor():(this.get_hover(),t.get_lightBorderColor()),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),1!=this.borderAlpha&&(this.borderAlpha=1,null!=this.border)&&this.border.set_alpha(1)):(this.set_alpha(.6),this.text.set_alpha(.5),this.color=t.get_buttonBackgroundColor(),n=t.get_lightBorderColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),.5!=this.borderAlpha&&(this.borderAlpha=.5,null!=this.border)&&this.border.set_alpha(.5))},focus:function(){ke.app.screen.set_focusedVisual(this)},allowsTabFocus:function(){return this.get_enabled()},tabFocus:function(){this.focus()},escapeTabFocus:function(){ke.app.screen.set_focusedVisual(null)},unbindEvents:function(){O1.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offInputStyleChange(),this.offEnabledChange(),this.offFocusedChange(),this.offHoverChange(),this.offEnterPressedChange(),this.offClick()},__class__:W2,__properties__:$extend(O1.prototype.__properties__,{set_enterPressed:"set_enterPressed",get_enterPressed:"get_enterPressed",set_hover:"set_hover",get_hover:"get_hover",get_unobservedFocused:"get_unobservedFocused",set_focused:"set_focused",get_focused:"get_focused",set_disabled:"set_disabled",get_disabled:"get_disabled",set_unobservedEnabled:"set_unobservedEnabled",set_enabled:"set_enabled",get_enabled:"get_enabled",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",get_pressed:"get_pressed",set_click:"set_click",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.unobservedInputStyle=!1,this.inputStyleAutoruns=null,this.unobservedScrolling=!1,this.scrollingAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this;i0.call(this),this.filter=new Kn,this.filter.set_density(Z.app.screenDensity),this.add(this.filter),this.set_viewWidth(-60002),this.set_viewHeight(-60002),this.flags&=-17;(e=this.contentView).flags|=16;var e=this.contentView,t=Un.OUTSIDE,t=(e.borderPosition!=t&&(e.borderPosition=t,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),Un.INSIDE),i=(this.borderPosition!=t&&(this.borderPosition=t,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.scroller.allowPointerOutside=!1,new Ul);this.scroller.set_scrollbar(i),i.autorun(function(){var e=n.get_theme();w.unobserve(),i.set_theme(e)}),this.filter.set_textureFilter(fi.NEAREST),this.filter.content.add(this.scroller),this.scroller.dragEnabled=!1,this.contentView.onLayout(this,$bind(this,this.updateBorderDepth)),this.autorun($bind(this,this.updateStyle)),ke.app.onUpdate(this,$bind(this,this.handleUpdate))}),ul=((E["elements.CellCollectionView"]=cl).__name__="elements.CellCollectionView",cl.__interfaces__=[u],cl.__super__=i0,cl.prototype=$extend(i0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},scrollingAutoruns:null,get_scrolling:function(){var e,n,t=this.unobservedScrolling;return null!=w.current&&(e=w.current,null!=(n=this.scrollingAutoruns)||(n=w.getAutorunArray(),null!=(this.scrollingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scrolling:function(e){var n=this.unobservedScrolling;return n!=(this.unobservedScrolling=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScrollingChange(e,n),null!=(n=this.scrollingAutoruns))&&(this.scrollingAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateScrolling:function(){var e=this.unobservedScrolling,e=(this.emitScrollingChange(e,e),this.scrollingAutoruns);null!=e&&(this.scrollingAutoruns=null,w.invalidateAutorunArray(e))},unobservedScrolling:null,__cbOnScrollingChange:null,__cbOnceScrollingChange:null,__cbOnOwnerUnbindScrollingChange:null,__cbOnceOwnerUnbindScrollingChange:null,emitScrollingChange:function(e,n){var t=0;if(null!=this.__cbOnScrollingChange&&(t+=this.__cbOnScrollingChange.length),null!=this.__cbOnceScrollingChange&&(t+=this.__cbOnceScrollingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnScrollingChange)for(var r=0,h=this.__cbOnScrollingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnScrollingChange[a],++s):--t}if(null!=this.__cbOnceScrollingChange){for(var o=null,c=null,r=0,h=this.__cbOnceScrollingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceScrollingChange[a],this.__cbOnceScrollingChange[a]=null,u=this.__cbOnceOwnerUnbindScrollingChange[a],(this.__cbOnceOwnerUnbindScrollingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScrollingChange[a]),c.push(this.__cbOnceScrollingChange[a]))}this.__cbOnceOwnerUnbindScrollingChange=o,this.__cbOnceScrollingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onScrollingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scrollingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollingChange&&(this.__cbOnOwnerUnbindScrollingChange=[]),this.__cbOnOwnerUnbindScrollingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollingChange&&(this.__cbOnOwnerUnbindScrollingChange=[]),this.__cbOnOwnerUnbindScrollingChange.push(null);null==this.__cbOnScrollingChange&&(this.__cbOnScrollingChange=[]),this.__cbOnScrollingChange.push(t)},onceScrollingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scrollingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollingChange&&(this.__cbOnceOwnerUnbindScrollingChange=[]),this.__cbOnceOwnerUnbindScrollingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollingChange&&(this.__cbOnceOwnerUnbindScrollingChange=[]),this.__cbOnceOwnerUnbindScrollingChange.push(null);null==this.__cbOnceScrollingChange&&(this.__cbOnceScrollingChange=[]),this.__cbOnceScrollingChange.push(t)},offScrollingChange:function(e){if(null!=e){var n;null!=this.__cbOnScrollingChange&&-1!=(n=this.__cbOnScrollingChange.indexOf(e))&&(this.__cbOnScrollingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScrollingChange[n])&&s(),this.__cbOnOwnerUnbindScrollingChange.splice(n,1)),null!=this.__cbOnceScrollingChange&&-1!=(n=this.__cbOnceScrollingChange.indexOf(e))&&(this.__cbOnceScrollingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScrollingChange[n])&&s(),this.__cbOnceOwnerUnbindScrollingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollingChange){for(var t=0,i=this.__cbOnOwnerUnbindScrollingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScrollingChange[l])&&s()}this.__cbOnOwnerUnbindScrollingChange=null}if(null!=this.__cbOnceOwnerUnbindScrollingChange){for(t=0,i=this.__cbOnceOwnerUnbindScrollingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScrollingChange[l])&&s()}this.__cbOnceOwnerUnbindScrollingChange=null}this.__cbOnScrollingChange=null,this.__cbOnceScrollingChange=null}},listensScrollingChange:function(){return null!=this.__cbOnScrollingChange&&0<this.__cbOnScrollingChange.length||null!=this.__cbOnceScrollingChange&&0<this.__cbOnceScrollingChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=w.current&&(e=w.current,null!=(n=this.inputStyleAutoruns)||(n=w.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,w.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInputStyleChange)for(var r=0,h=this.__cbOnInputStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInputStyleChange[a],++s):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceInputStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},filter:null,handleUpdate:function(e){this.filter.set_density(Z.app.screenDensity),this.set_scrolling(this.scroller.get_status()!=Nt.IDLE)},layout:function(){(e=this.filter).set_x(0),e.set_y(0);var e=this.filter,n=this.get_width(),t=this.get_height();if(e.set_width(n),e.set_height(t),null!=this.firstParentWithClass(Ht)){if(this.filter.set_enabled(!1),this.clip!=this&&((this.clip=this).clipDirty=!0,null!=this.children))for(var i=0,l=this.children.length;i<l;){var s=i++;if((o=this.children[s]).clipDirty=!0,null!=o.children)for(var r=0,h=o.children.length;r<h;){var a=r++;o.children[a].set_clipDirty(!0)}}}else{this.filter.set_enabled(!0);if(null!=this.clip&&(this.clip=null,this.clipDirty=!0,null!=this.children))for(i=0,l=this.children.length;i<l;){var o,s=i++;if((o=this.children[s]).clipDirty=!0,null!=o.children)for(r=0,h=o.children.length;r<h;){a=r++;o.children[a].set_clipDirty(!0)}}}i0.prototype.layout.call(this)},updateBorderDepth:function(){var e=this.contentView.children.length+10;this.borderDepth!=e&&(this.borderDepth=e,null!=this.border)&&this.border.set_depth(e)},updateStyle:function(){var e=this.get_theme(),n=(null==e&&(e=W.get_context().get_theme()),i=this.get_inputStyle()?(this.flags|=16,1!=(n=this.contentView).borderTopSize&&(n.borderTopSize=1,n.updateBorder()),1!=this.borderBottomSize&&(this.borderBottomSize=1,this.updateBorder()),1!=this.borderTopSize&&(this.borderTopSize=1,this.updateBorder()),e.get_lightBorderColor()):(this.flags&=-17,this.color=e.get_darkBackgroundColor(),0!=this.borderSize&&(this.borderSize=0,this.updateBorder()),1!=(n=this.contentView).borderTopSize&&(n.borderTopSize=1,n.updateBorder()),0!=this.borderBottomSize&&(this.borderBottomSize=0,this.updateBorder()),0!=this.borderTopSize&&(this.borderTopSize=0,this.updateBorder()),e.get_mediumBorderColor()),this.borderBottomColor!=i&&(this.borderBottomColor=i,0<this.borderSize||0<this.borderBottomSize)&&this.updateBorder(),this.contentView),t=e.get_mediumBorderColor(),n=(n.borderTopColor!=t&&(n.borderTopColor=t,0<n.borderSize||0<n.borderTopSize)&&n.updateBorder(),this.contentView),i=e.get_mediumBorderColor();n.borderBottomColor!=i&&(n.borderBottomColor=i,0<n.borderSize||0<n.borderBottomSize)&&n.updateBorder()},unbindEvents:function(){i0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offScrollingChange(),this.offInputStyleChange()},__class__:cl,__properties__:$extend(i0.prototype.__properties__,{set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_scrolling:"set_scrolling",get_scrolling:"get_scrolling",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.unobservedAppliedHoverItemIndex=-1,this.appliedHoverItemIndexAutoruns=null,this.unobservedHover=!1,this.hoverAutoruns=null,this.unobservedClonedForDragging=!1,this.clonedForDraggingAutoruns=null,this.dragOnItemIndex=-1,this.draggingCell=null,this.draggingCellDragY=0,this.dragStartScrollY=0,this.dragAutoScroll=0,this.dragTargetTy=0,this.iconsView=null,this.clearScrollDelay=null,this.unobservedDragging=!1,this.draggingAutoruns=null,this.unobservedHandleDuplicate=null,this.handleDuplicateAutoruns=null,this.unobservedHandleLock=null,this.handleLockAutoruns=null,this.unobservedHandleTrash=null,this.handleTrashAutoruns=null,this.unobservedKindIcon=null,this.kindIconAutoruns=null,this.unobservedLocked=!1,this.lockedAutoruns=null,this.unobservedDisplaysEmptyValue=!1,this.displaysEmptyValueAutoruns=null,this.unobservedInputStyle=!1,this.inputStyleAutoruns=null,this.unobservedCollectionView=null,this.collectionViewAutoruns=null,this.unobservedItemIndex=-1,this.itemIndexAutoruns=null,this.unobservedSubTitle=null,this.subTitleAutoruns=null,this.unobservedTitle=null,this.titleAutoruns=null,this.unobservedSelected=!1,this.selectedAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this,e=(Cb.call(this),this.columnLayout=new s0,this.columnLayout.set_align(wt.CENTER),this.columnLayout.set_itemSpacing(1),this.columnLayout),t=(e.set_viewWidth(-60002),e.set_viewHeight(-60001),this.add(this.columnLayout),1!=this.borderBottomSize&&(this.borderBottomSize=1,this.updateBorder()),Un.INSIDE);this.borderPosition!=t&&(this.borderPosition=t,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),2!=this.borderDepth&&(this.borderDepth=2,null!=this.border)&&this.border.set_depth(2),this.flags&=-17,this.titleTextView=new O1,this.titleTextView.set_align(ai.LEFT),this.titleTextView.set_pointSize(12),this.titleTextView.set_preRenderedSize(20),this.titleTextView.set_noFitWidth(!0),(e=this.titleTextView).set_viewWidth(-60002),e.set_viewHeight(-60001),this.titleTextView.onLayout(this,$bind(this,this.layoutTitle)),this.columnLayout.add(this.titleTextView),this.subTitleTextView=new O1,this.subTitleTextView.set_align(ai.LEFT),this.subTitleTextView.set_pointSize(11),this.subTitleTextView.set_preRenderedSize(20),this.subTitleTextView.set_noFitWidth(!0),this.subTitleTextView.set_paddingLeft(1),(e=this.subTitleTextView).set_viewWidth(-60002),e.set_viewHeight(-60001),this.subTitleTextView.text.component("italicText",new vl),this.subTitleTextView.onLayout(this,$bind(this,this.layoutSubTitle)),this.columnLayout.add(this.subTitleTextView),this.autorun($bind(this,this.updateTitle)),this.autorun($bind(this,this.updateSubTitle)),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateIcons)),this.onPointerOver(this,function(e){n.set_hover(!0)}),this.onPointerOut(this,function(e){n.set_hover(!1)})}),_l=((E["elements.CellView"]=ul).__name__="elements.CellView",ul.__interfaces__=[u],ul.__super__=Cb,ul.prototype=$extend(Cb.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},selectedAutoruns:null,get_selected:function(){var e,n,t=this.unobservedSelected;return null!=w.current&&(e=w.current,null!=(n=this.selectedAutoruns)||(n=w.getAutorunArray(),null!=(this.selectedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selected:function(e){var n=this.unobservedSelected;return n!=(this.unobservedSelected=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectedChange(e,n),null!=(n=this.selectedAutoruns))&&(this.selectedAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateSelected:function(){var e=this.unobservedSelected,e=(this.emitSelectedChange(e,e),this.selectedAutoruns);null!=e&&(this.selectedAutoruns=null,w.invalidateAutorunArray(e))},unobservedSelected:null,__cbOnSelectedChange:null,__cbOnceSelectedChange:null,__cbOnOwnerUnbindSelectedChange:null,__cbOnceOwnerUnbindSelectedChange:null,emitSelectedChange:function(e,n){var t=0;if(null!=this.__cbOnSelectedChange&&(t+=this.__cbOnSelectedChange.length),null!=this.__cbOnceSelectedChange&&(t+=this.__cbOnceSelectedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelectedChange)for(var r=0,h=this.__cbOnSelectedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSelectedChange[a],++s):--t}if(null!=this.__cbOnceSelectedChange){for(var o=null,c=null,r=0,h=this.__cbOnceSelectedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSelectedChange[a],this.__cbOnceSelectedChange[a]=null,u=this.__cbOnceOwnerUnbindSelectedChange[a],(this.__cbOnceOwnerUnbindSelectedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectedChange[a]),c.push(this.__cbOnceSelectedChange[a]))}this.__cbOnceOwnerUnbindSelectedChange=o,this.__cbOnceSelectedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSelectedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selectedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectedChange&&(this.__cbOnOwnerUnbindSelectedChange=[]),this.__cbOnOwnerUnbindSelectedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectedChange&&(this.__cbOnOwnerUnbindSelectedChange=[]),this.__cbOnOwnerUnbindSelectedChange.push(null);null==this.__cbOnSelectedChange&&(this.__cbOnSelectedChange=[]),this.__cbOnSelectedChange.push(t)},onceSelectedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selectedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectedChange&&(this.__cbOnceOwnerUnbindSelectedChange=[]),this.__cbOnceOwnerUnbindSelectedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectedChange&&(this.__cbOnceOwnerUnbindSelectedChange=[]),this.__cbOnceOwnerUnbindSelectedChange.push(null);null==this.__cbOnceSelectedChange&&(this.__cbOnceSelectedChange=[]),this.__cbOnceSelectedChange.push(t)},offSelectedChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectedChange&&-1!=(n=this.__cbOnSelectedChange.indexOf(e))&&(this.__cbOnSelectedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelectedChange[n])&&s(),this.__cbOnOwnerUnbindSelectedChange.splice(n,1)),null!=this.__cbOnceSelectedChange&&-1!=(n=this.__cbOnceSelectedChange.indexOf(e))&&(this.__cbOnceSelectedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelectedChange[n])&&s(),this.__cbOnceOwnerUnbindSelectedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectedChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelectedChange[l])&&s()}this.__cbOnOwnerUnbindSelectedChange=null}if(null!=this.__cbOnceOwnerUnbindSelectedChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelectedChange[l])&&s()}this.__cbOnceOwnerUnbindSelectedChange=null}this.__cbOnSelectedChange=null,this.__cbOnceSelectedChange=null}},listensSelectedChange:function(){return null!=this.__cbOnSelectedChange&&0<this.__cbOnSelectedChange.length||null!=this.__cbOnceSelectedChange&&0<this.__cbOnceSelectedChange.length},titleAutoruns:null,get_title:function(){var e,n,t=this.unobservedTitle;return null!=w.current&&(e=w.current,null!=(n=this.titleAutoruns)||(n=w.getAutorunArray(),null!=(this.titleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_title:function(e){var n=this.unobservedTitle;return n!=(this.unobservedTitle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleChange(e,n),null!=(n=this.titleAutoruns))&&(this.titleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTitle:function(){var e=this.unobservedTitle,e=(this.emitTitleChange(e,e),this.titleAutoruns);null!=e&&(this.titleAutoruns=null,w.invalidateAutorunArray(e))},unobservedTitle:null,__cbOnTitleChange:null,__cbOnceTitleChange:null,__cbOnOwnerUnbindTitleChange:null,__cbOnceOwnerUnbindTitleChange:null,emitTitleChange:function(e,n){var t=0;if(null!=this.__cbOnTitleChange&&(t+=this.__cbOnTitleChange.length),null!=this.__cbOnceTitleChange&&(t+=this.__cbOnceTitleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTitleChange)for(var r=0,h=this.__cbOnTitleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTitleChange[a],++s):--t}if(null!=this.__cbOnceTitleChange){for(var o=null,c=null,r=0,h=this.__cbOnceTitleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTitleChange[a],this.__cbOnceTitleChange[a]=null,u=this.__cbOnceOwnerUnbindTitleChange[a],(this.__cbOnceOwnerUnbindTitleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTitleChange[a]),c.push(this.__cbOnceTitleChange[a]))}this.__cbOnceOwnerUnbindTitleChange=o,this.__cbOnceTitleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(null);null==this.__cbOnTitleChange&&(this.__cbOnTitleChange=[]),this.__cbOnTitleChange.push(t)},onceTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(null);null==this.__cbOnceTitleChange&&(this.__cbOnceTitleChange=[]),this.__cbOnceTitleChange.push(t)},offTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleChange&&-1!=(n=this.__cbOnTitleChange.indexOf(e))&&(this.__cbOnTitleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTitleChange[n])&&s(),this.__cbOnOwnerUnbindTitleChange.splice(n,1)),null!=this.__cbOnceTitleChange&&-1!=(n=this.__cbOnceTitleChange.indexOf(e))&&(this.__cbOnceTitleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTitleChange[n])&&s(),this.__cbOnceOwnerUnbindTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTitleChange[l])&&s()}this.__cbOnOwnerUnbindTitleChange=null}if(null!=this.__cbOnceOwnerUnbindTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTitleChange[l])&&s()}this.__cbOnceOwnerUnbindTitleChange=null}this.__cbOnTitleChange=null,this.__cbOnceTitleChange=null}},listensTitleChange:function(){return null!=this.__cbOnTitleChange&&0<this.__cbOnTitleChange.length||null!=this.__cbOnceTitleChange&&0<this.__cbOnceTitleChange.length},subTitleAutoruns:null,get_subTitle:function(){var e,n,t=this.unobservedSubTitle;return null!=w.current&&(e=w.current,null!=(n=this.subTitleAutoruns)||(n=w.getAutorunArray(),null!=(this.subTitleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_subTitle:function(e){var n=this.unobservedSubTitle;return n!=(this.unobservedSubTitle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSubTitleChange(e,n),null!=(n=this.subTitleAutoruns))&&(this.subTitleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateSubTitle:function(){var e=this.unobservedSubTitle,e=(this.emitSubTitleChange(e,e),this.subTitleAutoruns);null!=e&&(this.subTitleAutoruns=null,w.invalidateAutorunArray(e))},unobservedSubTitle:null,__cbOnSubTitleChange:null,__cbOnceSubTitleChange:null,__cbOnOwnerUnbindSubTitleChange:null,__cbOnceOwnerUnbindSubTitleChange:null,emitSubTitleChange:function(e,n){var t=0;if(null!=this.__cbOnSubTitleChange&&(t+=this.__cbOnSubTitleChange.length),null!=this.__cbOnceSubTitleChange&&(t+=this.__cbOnceSubTitleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSubTitleChange)for(var r=0,h=this.__cbOnSubTitleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSubTitleChange[a],++s):--t}if(null!=this.__cbOnceSubTitleChange){for(var o=null,c=null,r=0,h=this.__cbOnceSubTitleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSubTitleChange[a],this.__cbOnceSubTitleChange[a]=null,u=this.__cbOnceOwnerUnbindSubTitleChange[a],(this.__cbOnceOwnerUnbindSubTitleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSubTitleChange[a]),c.push(this.__cbOnceSubTitleChange[a]))}this.__cbOnceOwnerUnbindSubTitleChange=o,this.__cbOnceSubTitleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSubTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event subTitleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSubTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSubTitleChange&&(this.__cbOnOwnerUnbindSubTitleChange=[]),this.__cbOnOwnerUnbindSubTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSubTitleChange&&(this.__cbOnOwnerUnbindSubTitleChange=[]),this.__cbOnOwnerUnbindSubTitleChange.push(null);null==this.__cbOnSubTitleChange&&(this.__cbOnSubTitleChange=[]),this.__cbOnSubTitleChange.push(t)},onceSubTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event subTitleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSubTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSubTitleChange&&(this.__cbOnceOwnerUnbindSubTitleChange=[]),this.__cbOnceOwnerUnbindSubTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSubTitleChange&&(this.__cbOnceOwnerUnbindSubTitleChange=[]),this.__cbOnceOwnerUnbindSubTitleChange.push(null);null==this.__cbOnceSubTitleChange&&(this.__cbOnceSubTitleChange=[]),this.__cbOnceSubTitleChange.push(t)},offSubTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnSubTitleChange&&-1!=(n=this.__cbOnSubTitleChange.indexOf(e))&&(this.__cbOnSubTitleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSubTitleChange[n])&&s(),this.__cbOnOwnerUnbindSubTitleChange.splice(n,1)),null!=this.__cbOnceSubTitleChange&&-1!=(n=this.__cbOnceSubTitleChange.indexOf(e))&&(this.__cbOnceSubTitleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSubTitleChange[n])&&s(),this.__cbOnceOwnerUnbindSubTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSubTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindSubTitleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSubTitleChange[l])&&s()}this.__cbOnOwnerUnbindSubTitleChange=null}if(null!=this.__cbOnceOwnerUnbindSubTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindSubTitleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSubTitleChange[l])&&s()}this.__cbOnceOwnerUnbindSubTitleChange=null}this.__cbOnSubTitleChange=null,this.__cbOnceSubTitleChange=null}},listensSubTitleChange:function(){return null!=this.__cbOnSubTitleChange&&0<this.__cbOnSubTitleChange.length||null!=this.__cbOnceSubTitleChange&&0<this.__cbOnceSubTitleChange.length},itemIndexAutoruns:null,get_itemIndex:function(){var e,n,t=this.unobservedItemIndex;return null!=w.current&&(e=w.current,null!=(n=this.itemIndexAutoruns)||(n=w.getAutorunArray(),null!=(this.itemIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_itemIndex:function(e){var n=this.unobservedItemIndex;return this.set_unobservedItemIndex(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitItemIndexChange(e,n),null!=(n=this.itemIndexAutoruns))&&(this.itemIndexAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateItemIndex:function(){var e=this.unobservedItemIndex,e=(this.emitItemIndexChange(e,e),this.itemIndexAutoruns);null!=e&&(this.itemIndexAutoruns=null,w.invalidateAutorunArray(e))},unobservedItemIndex:null,__cbOnItemIndexChange:null,__cbOnceItemIndexChange:null,__cbOnOwnerUnbindItemIndexChange:null,__cbOnceOwnerUnbindItemIndexChange:null,emitItemIndexChange:function(e,n){var t=0;if(null!=this.__cbOnItemIndexChange&&(t+=this.__cbOnItemIndexChange.length),null!=this.__cbOnceItemIndexChange&&(t+=this.__cbOnceItemIndexChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnItemIndexChange)for(var r=0,h=this.__cbOnItemIndexChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnItemIndexChange[a],++s):--t}if(null!=this.__cbOnceItemIndexChange){for(var o=null,c=null,r=0,h=this.__cbOnceItemIndexChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceItemIndexChange[a],this.__cbOnceItemIndexChange[a]=null,u=this.__cbOnceOwnerUnbindItemIndexChange[a],(this.__cbOnceOwnerUnbindItemIndexChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindItemIndexChange[a]),c.push(this.__cbOnceItemIndexChange[a]))}this.__cbOnceOwnerUnbindItemIndexChange=o,this.__cbOnceItemIndexChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onItemIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event itemIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offItemIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindItemIndexChange&&(this.__cbOnOwnerUnbindItemIndexChange=[]),this.__cbOnOwnerUnbindItemIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindItemIndexChange&&(this.__cbOnOwnerUnbindItemIndexChange=[]),this.__cbOnOwnerUnbindItemIndexChange.push(null);null==this.__cbOnItemIndexChange&&(this.__cbOnItemIndexChange=[]),this.__cbOnItemIndexChange.push(t)},onceItemIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event itemIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offItemIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindItemIndexChange&&(this.__cbOnceOwnerUnbindItemIndexChange=[]),this.__cbOnceOwnerUnbindItemIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindItemIndexChange&&(this.__cbOnceOwnerUnbindItemIndexChange=[]),this.__cbOnceOwnerUnbindItemIndexChange.push(null);null==this.__cbOnceItemIndexChange&&(this.__cbOnceItemIndexChange=[]),this.__cbOnceItemIndexChange.push(t)},offItemIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnItemIndexChange&&-1!=(n=this.__cbOnItemIndexChange.indexOf(e))&&(this.__cbOnItemIndexChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindItemIndexChange[n])&&s(),this.__cbOnOwnerUnbindItemIndexChange.splice(n,1)),null!=this.__cbOnceItemIndexChange&&-1!=(n=this.__cbOnceItemIndexChange.indexOf(e))&&(this.__cbOnceItemIndexChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindItemIndexChange[n])&&s(),this.__cbOnceOwnerUnbindItemIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindItemIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindItemIndexChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindItemIndexChange[l])&&s()}this.__cbOnOwnerUnbindItemIndexChange=null}if(null!=this.__cbOnceOwnerUnbindItemIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindItemIndexChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindItemIndexChange[l])&&s()}this.__cbOnceOwnerUnbindItemIndexChange=null}this.__cbOnItemIndexChange=null,this.__cbOnceItemIndexChange=null}},listensItemIndexChange:function(){return null!=this.__cbOnItemIndexChange&&0<this.__cbOnItemIndexChange.length||null!=this.__cbOnceItemIndexChange&&0<this.__cbOnceItemIndexChange.length},set_unobservedItemIndex:function(e){return this.unobservedItemIndex!=e&&(this.unobservedItemIndex=e,this.set_hover(!1)),e},collectionViewAutoruns:null,get_collectionView:function(){var e,n,t=this.unobservedCollectionView;return null!=w.current&&(e=w.current,null!=(n=this.collectionViewAutoruns)||(n=w.getAutorunArray(),null!=(this.collectionViewAutoruns=n)))&&e.bindToAutorunArray(n),t},set_collectionView:function(e){var n=this.unobservedCollectionView;return n!=(this.unobservedCollectionView=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitCollectionViewChange(e,n),null!=(n=this.collectionViewAutoruns))&&(this.collectionViewAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateCollectionView:function(){var e=this.unobservedCollectionView,e=(this.emitCollectionViewChange(e,e),this.collectionViewAutoruns);null!=e&&(this.collectionViewAutoruns=null,w.invalidateAutorunArray(e))},unobservedCollectionView:null,__cbOnCollectionViewChange:null,__cbOnceCollectionViewChange:null,__cbOnOwnerUnbindCollectionViewChange:null,__cbOnceOwnerUnbindCollectionViewChange:null,emitCollectionViewChange:function(e,n){var t=0;if(null!=this.__cbOnCollectionViewChange&&(t+=this.__cbOnCollectionViewChange.length),null!=this.__cbOnceCollectionViewChange&&(t+=this.__cbOnceCollectionViewChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnCollectionViewChange)for(var r=0,h=this.__cbOnCollectionViewChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnCollectionViewChange[a],++s):--t}if(null!=this.__cbOnceCollectionViewChange){for(var o=null,c=null,r=0,h=this.__cbOnceCollectionViewChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceCollectionViewChange[a],this.__cbOnceCollectionViewChange[a]=null,u=this.__cbOnceOwnerUnbindCollectionViewChange[a],(this.__cbOnceOwnerUnbindCollectionViewChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCollectionViewChange[a]),c.push(this.__cbOnceCollectionViewChange[a]))}this.__cbOnceOwnerUnbindCollectionViewChange=o,this.__cbOnceCollectionViewChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onCollectionViewChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event collectionViewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCollectionViewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCollectionViewChange&&(this.__cbOnOwnerUnbindCollectionViewChange=[]),this.__cbOnOwnerUnbindCollectionViewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCollectionViewChange&&(this.__cbOnOwnerUnbindCollectionViewChange=[]),this.__cbOnOwnerUnbindCollectionViewChange.push(null);null==this.__cbOnCollectionViewChange&&(this.__cbOnCollectionViewChange=[]),this.__cbOnCollectionViewChange.push(t)},onceCollectionViewChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event collectionViewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCollectionViewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCollectionViewChange&&(this.__cbOnceOwnerUnbindCollectionViewChange=[]),this.__cbOnceOwnerUnbindCollectionViewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCollectionViewChange&&(this.__cbOnceOwnerUnbindCollectionViewChange=[]),this.__cbOnceOwnerUnbindCollectionViewChange.push(null);null==this.__cbOnceCollectionViewChange&&(this.__cbOnceCollectionViewChange=[]),this.__cbOnceCollectionViewChange.push(t)},offCollectionViewChange:function(e){if(null!=e){var n;null!=this.__cbOnCollectionViewChange&&-1!=(n=this.__cbOnCollectionViewChange.indexOf(e))&&(this.__cbOnCollectionViewChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCollectionViewChange[n])&&s(),this.__cbOnOwnerUnbindCollectionViewChange.splice(n,1)),null!=this.__cbOnceCollectionViewChange&&-1!=(n=this.__cbOnceCollectionViewChange.indexOf(e))&&(this.__cbOnceCollectionViewChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCollectionViewChange[n])&&s(),this.__cbOnceOwnerUnbindCollectionViewChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCollectionViewChange){for(var t=0,i=this.__cbOnOwnerUnbindCollectionViewChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCollectionViewChange[l])&&s()}this.__cbOnOwnerUnbindCollectionViewChange=null}if(null!=this.__cbOnceOwnerUnbindCollectionViewChange){for(t=0,i=this.__cbOnceOwnerUnbindCollectionViewChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCollectionViewChange[l])&&s()}this.__cbOnceOwnerUnbindCollectionViewChange=null}this.__cbOnCollectionViewChange=null,this.__cbOnceCollectionViewChange=null}},listensCollectionViewChange:function(){return null!=this.__cbOnCollectionViewChange&&0<this.__cbOnCollectionViewChange.length||null!=this.__cbOnceCollectionViewChange&&0<this.__cbOnceCollectionViewChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=w.current&&(e=w.current,null!=(n=this.inputStyleAutoruns)||(n=w.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,w.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInputStyleChange)for(var r=0,h=this.__cbOnInputStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInputStyleChange[a],++s):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceInputStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},displaysEmptyValueAutoruns:null,get_displaysEmptyValue:function(){var e,n,t=this.unobservedDisplaysEmptyValue;return null!=w.current&&(e=w.current,null!=(n=this.displaysEmptyValueAutoruns)||(n=w.getAutorunArray(),null!=(this.displaysEmptyValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_displaysEmptyValue:function(e){var n=this.unobservedDisplaysEmptyValue;return n!=(this.unobservedDisplaysEmptyValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisplaysEmptyValueChange(e,n),null!=(n=this.displaysEmptyValueAutoruns))&&(this.displaysEmptyValueAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDisplaysEmptyValue:function(){var e=this.unobservedDisplaysEmptyValue,e=(this.emitDisplaysEmptyValueChange(e,e),this.displaysEmptyValueAutoruns);null!=e&&(this.displaysEmptyValueAutoruns=null,w.invalidateAutorunArray(e))},unobservedDisplaysEmptyValue:null,__cbOnDisplaysEmptyValueChange:null,__cbOnceDisplaysEmptyValueChange:null,__cbOnOwnerUnbindDisplaysEmptyValueChange:null,__cbOnceOwnerUnbindDisplaysEmptyValueChange:null,emitDisplaysEmptyValueChange:function(e,n){var t=0;if(null!=this.__cbOnDisplaysEmptyValueChange&&(t+=this.__cbOnDisplaysEmptyValueChange.length),null!=this.__cbOnceDisplaysEmptyValueChange&&(t+=this.__cbOnceDisplaysEmptyValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisplaysEmptyValueChange)for(var r=0,h=this.__cbOnDisplaysEmptyValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisplaysEmptyValueChange[a],++s):--t}if(null!=this.__cbOnceDisplaysEmptyValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisplaysEmptyValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisplaysEmptyValueChange[a],this.__cbOnceDisplaysEmptyValueChange[a]=null,u=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[a],(this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[a]),c.push(this.__cbOnceDisplaysEmptyValueChange[a]))}this.__cbOnceOwnerUnbindDisplaysEmptyValueChange=o,this.__cbOnceDisplaysEmptyValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisplaysEmptyValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event displaysEmptyValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisplaysEmptyValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisplaysEmptyValueChange&&(this.__cbOnOwnerUnbindDisplaysEmptyValueChange=[]),this.__cbOnOwnerUnbindDisplaysEmptyValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisplaysEmptyValueChange&&(this.__cbOnOwnerUnbindDisplaysEmptyValueChange=[]),this.__cbOnOwnerUnbindDisplaysEmptyValueChange.push(null);null==this.__cbOnDisplaysEmptyValueChange&&(this.__cbOnDisplaysEmptyValueChange=[]),this.__cbOnDisplaysEmptyValueChange.push(t)},onceDisplaysEmptyValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event displaysEmptyValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisplaysEmptyValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisplaysEmptyValueChange&&(this.__cbOnceOwnerUnbindDisplaysEmptyValueChange=[]),this.__cbOnceOwnerUnbindDisplaysEmptyValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisplaysEmptyValueChange&&(this.__cbOnceOwnerUnbindDisplaysEmptyValueChange=[]),this.__cbOnceOwnerUnbindDisplaysEmptyValueChange.push(null);null==this.__cbOnceDisplaysEmptyValueChange&&(this.__cbOnceDisplaysEmptyValueChange=[]),this.__cbOnceDisplaysEmptyValueChange.push(t)},offDisplaysEmptyValueChange:function(e){if(null!=e){var n;null!=this.__cbOnDisplaysEmptyValueChange&&-1!=(n=this.__cbOnDisplaysEmptyValueChange.indexOf(e))&&(this.__cbOnDisplaysEmptyValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisplaysEmptyValueChange[n])&&s(),this.__cbOnOwnerUnbindDisplaysEmptyValueChange.splice(n,1)),null!=this.__cbOnceDisplaysEmptyValueChange&&-1!=(n=this.__cbOnceDisplaysEmptyValueChange.indexOf(e))&&(this.__cbOnceDisplaysEmptyValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[n])&&s(),this.__cbOnceOwnerUnbindDisplaysEmptyValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisplaysEmptyValueChange){for(var t=0,i=this.__cbOnOwnerUnbindDisplaysEmptyValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisplaysEmptyValueChange[l])&&s()}this.__cbOnOwnerUnbindDisplaysEmptyValueChange=null}if(null!=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange){for(t=0,i=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisplaysEmptyValueChange[l])&&s()}this.__cbOnceOwnerUnbindDisplaysEmptyValueChange=null}this.__cbOnDisplaysEmptyValueChange=null,this.__cbOnceDisplaysEmptyValueChange=null}},listensDisplaysEmptyValueChange:function(){return null!=this.__cbOnDisplaysEmptyValueChange&&0<this.__cbOnDisplaysEmptyValueChange.length||null!=this.__cbOnceDisplaysEmptyValueChange&&0<this.__cbOnceDisplaysEmptyValueChange.length},lockedAutoruns:null,get_locked:function(){var e,n,t=this.unobservedLocked;return null!=w.current&&(e=w.current,null!=(n=this.lockedAutoruns)||(n=w.getAutorunArray(),null!=(this.lockedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_locked:function(e){var n=this.unobservedLocked;return n!=(this.unobservedLocked=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitLockedChange(e,n),null!=(n=this.lockedAutoruns))&&(this.lockedAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateLocked:function(){var e=this.unobservedLocked,e=(this.emitLockedChange(e,e),this.lockedAutoruns);null!=e&&(this.lockedAutoruns=null,w.invalidateAutorunArray(e))},unobservedLocked:null,__cbOnLockedChange:null,__cbOnceLockedChange:null,__cbOnOwnerUnbindLockedChange:null,__cbOnceOwnerUnbindLockedChange:null,emitLockedChange:function(e,n){var t=0;if(null!=this.__cbOnLockedChange&&(t+=this.__cbOnLockedChange.length),null!=this.__cbOnceLockedChange&&(t+=this.__cbOnceLockedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLockedChange)for(var r=0,h=this.__cbOnLockedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLockedChange[a],++s):--t}if(null!=this.__cbOnceLockedChange){for(var o=null,c=null,r=0,h=this.__cbOnceLockedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLockedChange[a],this.__cbOnceLockedChange[a]=null,u=this.__cbOnceOwnerUnbindLockedChange[a],(this.__cbOnceOwnerUnbindLockedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLockedChange[a]),c.push(this.__cbOnceLockedChange[a]))}this.__cbOnceOwnerUnbindLockedChange=o,this.__cbOnceLockedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLockedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lockedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLockedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLockedChange&&(this.__cbOnOwnerUnbindLockedChange=[]),this.__cbOnOwnerUnbindLockedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLockedChange&&(this.__cbOnOwnerUnbindLockedChange=[]),this.__cbOnOwnerUnbindLockedChange.push(null);null==this.__cbOnLockedChange&&(this.__cbOnLockedChange=[]),this.__cbOnLockedChange.push(t)},onceLockedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lockedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLockedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLockedChange&&(this.__cbOnceOwnerUnbindLockedChange=[]),this.__cbOnceOwnerUnbindLockedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLockedChange&&(this.__cbOnceOwnerUnbindLockedChange=[]),this.__cbOnceOwnerUnbindLockedChange.push(null);null==this.__cbOnceLockedChange&&(this.__cbOnceLockedChange=[]),this.__cbOnceLockedChange.push(t)},offLockedChange:function(e){if(null!=e){var n;null!=this.__cbOnLockedChange&&-1!=(n=this.__cbOnLockedChange.indexOf(e))&&(this.__cbOnLockedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLockedChange[n])&&s(),this.__cbOnOwnerUnbindLockedChange.splice(n,1)),null!=this.__cbOnceLockedChange&&-1!=(n=this.__cbOnceLockedChange.indexOf(e))&&(this.__cbOnceLockedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLockedChange[n])&&s(),this.__cbOnceOwnerUnbindLockedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLockedChange){for(var t=0,i=this.__cbOnOwnerUnbindLockedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLockedChange[l])&&s()}this.__cbOnOwnerUnbindLockedChange=null}if(null!=this.__cbOnceOwnerUnbindLockedChange){for(t=0,i=this.__cbOnceOwnerUnbindLockedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLockedChange[l])&&s()}this.__cbOnceOwnerUnbindLockedChange=null}this.__cbOnLockedChange=null,this.__cbOnceLockedChange=null}},listensLockedChange:function(){return null!=this.__cbOnLockedChange&&0<this.__cbOnLockedChange.length||null!=this.__cbOnceLockedChange&&0<this.__cbOnceLockedChange.length},kindIconAutoruns:null,get_kindIcon:function(){var e,n,t=this.unobservedKindIcon;return null!=w.current&&(e=w.current,null!=(n=this.kindIconAutoruns)||(n=w.getAutorunArray(),null!=(this.kindIconAutoruns=n)))&&e.bindToAutorunArray(n),t},set_kindIcon:function(e){var n=this.unobservedKindIcon;return n!=(this.unobservedKindIcon=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitKindIconChange(e,n),null!=(n=this.kindIconAutoruns))&&(this.kindIconAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateKindIcon:function(){var e=this.unobservedKindIcon,e=(this.emitKindIconChange(e,e),this.kindIconAutoruns);null!=e&&(this.kindIconAutoruns=null,w.invalidateAutorunArray(e))},unobservedKindIcon:null,__cbOnKindIconChange:null,__cbOnceKindIconChange:null,__cbOnOwnerUnbindKindIconChange:null,__cbOnceOwnerUnbindKindIconChange:null,emitKindIconChange:function(e,n){var t=0;if(null!=this.__cbOnKindIconChange&&(t+=this.__cbOnKindIconChange.length),null!=this.__cbOnceKindIconChange&&(t+=this.__cbOnceKindIconChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnKindIconChange)for(var r=0,h=this.__cbOnKindIconChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnKindIconChange[a],++s):--t}if(null!=this.__cbOnceKindIconChange){for(var o=null,c=null,r=0,h=this.__cbOnceKindIconChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceKindIconChange[a],this.__cbOnceKindIconChange[a]=null,u=this.__cbOnceOwnerUnbindKindIconChange[a],(this.__cbOnceOwnerUnbindKindIconChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindKindIconChange[a]),c.push(this.__cbOnceKindIconChange[a]))}this.__cbOnceOwnerUnbindKindIconChange=o,this.__cbOnceKindIconChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onKindIconChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event kindIconChange because owner is destroyed!");var l=function(e){null!=t&&(i.offKindIconChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindKindIconChange&&(this.__cbOnOwnerUnbindKindIconChange=[]),this.__cbOnOwnerUnbindKindIconChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindKindIconChange&&(this.__cbOnOwnerUnbindKindIconChange=[]),this.__cbOnOwnerUnbindKindIconChange.push(null);null==this.__cbOnKindIconChange&&(this.__cbOnKindIconChange=[]),this.__cbOnKindIconChange.push(t)},onceKindIconChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event kindIconChange because owner is destroyed!");var l=function(e){null!=t&&(i.offKindIconChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindKindIconChange&&(this.__cbOnceOwnerUnbindKindIconChange=[]),this.__cbOnceOwnerUnbindKindIconChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindKindIconChange&&(this.__cbOnceOwnerUnbindKindIconChange=[]),this.__cbOnceOwnerUnbindKindIconChange.push(null);null==this.__cbOnceKindIconChange&&(this.__cbOnceKindIconChange=[]),this.__cbOnceKindIconChange.push(t)},offKindIconChange:function(e){if(null!=e){var n;null!=this.__cbOnKindIconChange&&-1!=(n=this.__cbOnKindIconChange.indexOf(e))&&(this.__cbOnKindIconChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindKindIconChange[n])&&s(),this.__cbOnOwnerUnbindKindIconChange.splice(n,1)),null!=this.__cbOnceKindIconChange&&-1!=(n=this.__cbOnceKindIconChange.indexOf(e))&&(this.__cbOnceKindIconChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindKindIconChange[n])&&s(),this.__cbOnceOwnerUnbindKindIconChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKindIconChange){for(var t=0,i=this.__cbOnOwnerUnbindKindIconChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindKindIconChange[l])&&s()}this.__cbOnOwnerUnbindKindIconChange=null}if(null!=this.__cbOnceOwnerUnbindKindIconChange){for(t=0,i=this.__cbOnceOwnerUnbindKindIconChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindKindIconChange[l])&&s()}this.__cbOnceOwnerUnbindKindIconChange=null}this.__cbOnKindIconChange=null,this.__cbOnceKindIconChange=null}},listensKindIconChange:function(){return null!=this.__cbOnKindIconChange&&0<this.__cbOnKindIconChange.length||null!=this.__cbOnceKindIconChange&&0<this.__cbOnceKindIconChange.length},handleTrashAutoruns:null,get_handleTrash:function(){var e,n,t=this.unobservedHandleTrash;return null!=w.current&&(e=w.current,null!=(n=this.handleTrashAutoruns)||(n=w.getAutorunArray(),null!=(this.handleTrashAutoruns=n)))&&e.bindToAutorunArray(n),t},set_handleTrash:function(e){var n=this.unobservedHandleTrash;return this.unobservedHandleTrash=e,Tr.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHandleTrashChange(e,n),null!=(n=this.handleTrashAutoruns)&&(this.handleTrashAutoruns=null,w.invalidateAutorunArray(n))),e},invalidateHandleTrash:function(){var e=this.unobservedHandleTrash,e=(this.emitHandleTrashChange(e,e),this.handleTrashAutoruns);null!=e&&(this.handleTrashAutoruns=null,w.invalidateAutorunArray(e))},unobservedHandleTrash:null,__cbOnHandleTrashChange:null,__cbOnceHandleTrashChange:null,__cbOnOwnerUnbindHandleTrashChange:null,__cbOnceOwnerUnbindHandleTrashChange:null,emitHandleTrashChange:function(e,n){var t=0;if(null!=this.__cbOnHandleTrashChange&&(t+=this.__cbOnHandleTrashChange.length),null!=this.__cbOnceHandleTrashChange&&(t+=this.__cbOnceHandleTrashChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHandleTrashChange)for(var r=0,h=this.__cbOnHandleTrashChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHandleTrashChange[a],++s):--t}if(null!=this.__cbOnceHandleTrashChange){for(var o=null,c=null,r=0,h=this.__cbOnceHandleTrashChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHandleTrashChange[a],this.__cbOnceHandleTrashChange[a]=null,u=this.__cbOnceOwnerUnbindHandleTrashChange[a],(this.__cbOnceOwnerUnbindHandleTrashChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHandleTrashChange[a]),c.push(this.__cbOnceHandleTrashChange[a]))}this.__cbOnceOwnerUnbindHandleTrashChange=o,this.__cbOnceHandleTrashChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHandleTrashChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event handleTrashChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleTrashChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHandleTrashChange&&(this.__cbOnOwnerUnbindHandleTrashChange=[]),this.__cbOnOwnerUnbindHandleTrashChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHandleTrashChange&&(this.__cbOnOwnerUnbindHandleTrashChange=[]),this.__cbOnOwnerUnbindHandleTrashChange.push(null);null==this.__cbOnHandleTrashChange&&(this.__cbOnHandleTrashChange=[]),this.__cbOnHandleTrashChange.push(t)},onceHandleTrashChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event handleTrashChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleTrashChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHandleTrashChange&&(this.__cbOnceOwnerUnbindHandleTrashChange=[]),this.__cbOnceOwnerUnbindHandleTrashChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHandleTrashChange&&(this.__cbOnceOwnerUnbindHandleTrashChange=[]),this.__cbOnceOwnerUnbindHandleTrashChange.push(null);null==this.__cbOnceHandleTrashChange&&(this.__cbOnceHandleTrashChange=[]),this.__cbOnceHandleTrashChange.push(t)},offHandleTrashChange:function(e){if(null!=e){var n;null!=this.__cbOnHandleTrashChange&&-1!=(n=this.__cbOnHandleTrashChange.indexOf(e))&&(this.__cbOnHandleTrashChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHandleTrashChange[n])&&s(),this.__cbOnOwnerUnbindHandleTrashChange.splice(n,1)),null!=this.__cbOnceHandleTrashChange&&-1!=(n=this.__cbOnceHandleTrashChange.indexOf(e))&&(this.__cbOnceHandleTrashChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHandleTrashChange[n])&&s(),this.__cbOnceOwnerUnbindHandleTrashChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHandleTrashChange){for(var t=0,i=this.__cbOnOwnerUnbindHandleTrashChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHandleTrashChange[l])&&s()}this.__cbOnOwnerUnbindHandleTrashChange=null}if(null!=this.__cbOnceOwnerUnbindHandleTrashChange){for(t=0,i=this.__cbOnceOwnerUnbindHandleTrashChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHandleTrashChange[l])&&s()}this.__cbOnceOwnerUnbindHandleTrashChange=null}this.__cbOnHandleTrashChange=null,this.__cbOnceHandleTrashChange=null}},listensHandleTrashChange:function(){return null!=this.__cbOnHandleTrashChange&&0<this.__cbOnHandleTrashChange.length||null!=this.__cbOnceHandleTrashChange&&0<this.__cbOnceHandleTrashChange.length},handleLockAutoruns:null,get_handleLock:function(){var e,n,t=this.unobservedHandleLock;return null!=w.current&&(e=w.current,null!=(n=this.handleLockAutoruns)||(n=w.getAutorunArray(),null!=(this.handleLockAutoruns=n)))&&e.bindToAutorunArray(n),t},set_handleLock:function(e){var n=this.unobservedHandleLock;return this.unobservedHandleLock=e,Tr.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHandleLockChange(e,n),null!=(n=this.handleLockAutoruns)&&(this.handleLockAutoruns=null,w.invalidateAutorunArray(n))),e},invalidateHandleLock:function(){var e=this.unobservedHandleLock,e=(this.emitHandleLockChange(e,e),this.handleLockAutoruns);null!=e&&(this.handleLockAutoruns=null,w.invalidateAutorunArray(e))},unobservedHandleLock:null,__cbOnHandleLockChange:null,__cbOnceHandleLockChange:null,__cbOnOwnerUnbindHandleLockChange:null,__cbOnceOwnerUnbindHandleLockChange:null,emitHandleLockChange:function(e,n){var t=0;if(null!=this.__cbOnHandleLockChange&&(t+=this.__cbOnHandleLockChange.length),null!=this.__cbOnceHandleLockChange&&(t+=this.__cbOnceHandleLockChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHandleLockChange)for(var r=0,h=this.__cbOnHandleLockChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHandleLockChange[a],++s):--t}if(null!=this.__cbOnceHandleLockChange){for(var o=null,c=null,r=0,h=this.__cbOnceHandleLockChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHandleLockChange[a],this.__cbOnceHandleLockChange[a]=null,u=this.__cbOnceOwnerUnbindHandleLockChange[a],(this.__cbOnceOwnerUnbindHandleLockChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHandleLockChange[a]),c.push(this.__cbOnceHandleLockChange[a]))}this.__cbOnceOwnerUnbindHandleLockChange=o,this.__cbOnceHandleLockChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHandleLockChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event handleLockChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleLockChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHandleLockChange&&(this.__cbOnOwnerUnbindHandleLockChange=[]),this.__cbOnOwnerUnbindHandleLockChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHandleLockChange&&(this.__cbOnOwnerUnbindHandleLockChange=[]),this.__cbOnOwnerUnbindHandleLockChange.push(null);null==this.__cbOnHandleLockChange&&(this.__cbOnHandleLockChange=[]),this.__cbOnHandleLockChange.push(t)},onceHandleLockChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event handleLockChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleLockChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHandleLockChange&&(this.__cbOnceOwnerUnbindHandleLockChange=[]),this.__cbOnceOwnerUnbindHandleLockChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHandleLockChange&&(this.__cbOnceOwnerUnbindHandleLockChange=[]),this.__cbOnceOwnerUnbindHandleLockChange.push(null);null==this.__cbOnceHandleLockChange&&(this.__cbOnceHandleLockChange=[]),this.__cbOnceHandleLockChange.push(t)},offHandleLockChange:function(e){if(null!=e){var n;null!=this.__cbOnHandleLockChange&&-1!=(n=this.__cbOnHandleLockChange.indexOf(e))&&(this.__cbOnHandleLockChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHandleLockChange[n])&&s(),this.__cbOnOwnerUnbindHandleLockChange.splice(n,1)),null!=this.__cbOnceHandleLockChange&&-1!=(n=this.__cbOnceHandleLockChange.indexOf(e))&&(this.__cbOnceHandleLockChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHandleLockChange[n])&&s(),this.__cbOnceOwnerUnbindHandleLockChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHandleLockChange){for(var t=0,i=this.__cbOnOwnerUnbindHandleLockChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHandleLockChange[l])&&s()}this.__cbOnOwnerUnbindHandleLockChange=null}if(null!=this.__cbOnceOwnerUnbindHandleLockChange){for(t=0,i=this.__cbOnceOwnerUnbindHandleLockChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHandleLockChange[l])&&s()}this.__cbOnceOwnerUnbindHandleLockChange=null}this.__cbOnHandleLockChange=null,this.__cbOnceHandleLockChange=null}},listensHandleLockChange:function(){return null!=this.__cbOnHandleLockChange&&0<this.__cbOnHandleLockChange.length||null!=this.__cbOnceHandleLockChange&&0<this.__cbOnceHandleLockChange.length},handleDuplicateAutoruns:null,get_handleDuplicate:function(){var e,n,t=this.unobservedHandleDuplicate;return null!=w.current&&(e=w.current,null!=(n=this.handleDuplicateAutoruns)||(n=w.getAutorunArray(),null!=(this.handleDuplicateAutoruns=n)))&&e.bindToAutorunArray(n),t},set_handleDuplicate:function(e){var n=this.unobservedHandleDuplicate;return this.unobservedHandleDuplicate=e,Tr.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHandleDuplicateChange(e,n),null!=(n=this.handleDuplicateAutoruns)&&(this.handleDuplicateAutoruns=null,w.invalidateAutorunArray(n))),e},invalidateHandleDuplicate:function(){var e=this.unobservedHandleDuplicate,e=(this.emitHandleDuplicateChange(e,e),this.handleDuplicateAutoruns);null!=e&&(this.handleDuplicateAutoruns=null,w.invalidateAutorunArray(e))},unobservedHandleDuplicate:null,__cbOnHandleDuplicateChange:null,__cbOnceHandleDuplicateChange:null,__cbOnOwnerUnbindHandleDuplicateChange:null,__cbOnceOwnerUnbindHandleDuplicateChange:null,emitHandleDuplicateChange:function(e,n){var t=0;if(null!=this.__cbOnHandleDuplicateChange&&(t+=this.__cbOnHandleDuplicateChange.length),null!=this.__cbOnceHandleDuplicateChange&&(t+=this.__cbOnceHandleDuplicateChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHandleDuplicateChange)for(var r=0,h=this.__cbOnHandleDuplicateChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHandleDuplicateChange[a],++s):--t}if(null!=this.__cbOnceHandleDuplicateChange){for(var o=null,c=null,r=0,h=this.__cbOnceHandleDuplicateChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHandleDuplicateChange[a],this.__cbOnceHandleDuplicateChange[a]=null,u=this.__cbOnceOwnerUnbindHandleDuplicateChange[a],(this.__cbOnceOwnerUnbindHandleDuplicateChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHandleDuplicateChange[a]),c.push(this.__cbOnceHandleDuplicateChange[a]))}this.__cbOnceOwnerUnbindHandleDuplicateChange=o,this.__cbOnceHandleDuplicateChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHandleDuplicateChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event handleDuplicateChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleDuplicateChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHandleDuplicateChange&&(this.__cbOnOwnerUnbindHandleDuplicateChange=[]),this.__cbOnOwnerUnbindHandleDuplicateChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHandleDuplicateChange&&(this.__cbOnOwnerUnbindHandleDuplicateChange=[]),this.__cbOnOwnerUnbindHandleDuplicateChange.push(null);null==this.__cbOnHandleDuplicateChange&&(this.__cbOnHandleDuplicateChange=[]),this.__cbOnHandleDuplicateChange.push(t)},onceHandleDuplicateChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event handleDuplicateChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHandleDuplicateChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHandleDuplicateChange&&(this.__cbOnceOwnerUnbindHandleDuplicateChange=[]),this.__cbOnceOwnerUnbindHandleDuplicateChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHandleDuplicateChange&&(this.__cbOnceOwnerUnbindHandleDuplicateChange=[]),this.__cbOnceOwnerUnbindHandleDuplicateChange.push(null);null==this.__cbOnceHandleDuplicateChange&&(this.__cbOnceHandleDuplicateChange=[]),this.__cbOnceHandleDuplicateChange.push(t)},offHandleDuplicateChange:function(e){if(null!=e){var n;null!=this.__cbOnHandleDuplicateChange&&-1!=(n=this.__cbOnHandleDuplicateChange.indexOf(e))&&(this.__cbOnHandleDuplicateChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHandleDuplicateChange[n])&&s(),this.__cbOnOwnerUnbindHandleDuplicateChange.splice(n,1)),null!=this.__cbOnceHandleDuplicateChange&&-1!=(n=this.__cbOnceHandleDuplicateChange.indexOf(e))&&(this.__cbOnceHandleDuplicateChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHandleDuplicateChange[n])&&s(),this.__cbOnceOwnerUnbindHandleDuplicateChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHandleDuplicateChange){for(var t=0,i=this.__cbOnOwnerUnbindHandleDuplicateChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHandleDuplicateChange[l])&&s()}this.__cbOnOwnerUnbindHandleDuplicateChange=null}if(null!=this.__cbOnceOwnerUnbindHandleDuplicateChange){for(t=0,i=this.__cbOnceOwnerUnbindHandleDuplicateChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHandleDuplicateChange[l])&&s()}this.__cbOnceOwnerUnbindHandleDuplicateChange=null}this.__cbOnHandleDuplicateChange=null,this.__cbOnceHandleDuplicateChange=null}},listensHandleDuplicateChange:function(){return null!=this.__cbOnHandleDuplicateChange&&0<this.__cbOnHandleDuplicateChange.length||null!=this.__cbOnceHandleDuplicateChange&&0<this.__cbOnceHandleDuplicateChange.length},draggingAutoruns:null,get_dragging:function(){var e,n,t=this.unobservedDragging;return null!=w.current&&(e=w.current,null!=(n=this.draggingAutoruns)||(n=w.getAutorunArray(),null!=(this.draggingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_dragging:function(e){var n=this.unobservedDragging;return n!=(this.unobservedDragging=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDraggingChange(e,n),null!=(n=this.draggingAutoruns))&&(this.draggingAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDragging:function(){var e=this.unobservedDragging,e=(this.emitDraggingChange(e,e),this.draggingAutoruns);null!=e&&(this.draggingAutoruns=null,w.invalidateAutorunArray(e))},unobservedDragging:null,__cbOnDraggingChange:null,__cbOnceDraggingChange:null,__cbOnOwnerUnbindDraggingChange:null,__cbOnceOwnerUnbindDraggingChange:null,emitDraggingChange:function(e,n){var t=0;if(null!=this.__cbOnDraggingChange&&(t+=this.__cbOnDraggingChange.length),null!=this.__cbOnceDraggingChange&&(t+=this.__cbOnceDraggingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDraggingChange)for(var r=0,h=this.__cbOnDraggingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDraggingChange[a],++s):--t}if(null!=this.__cbOnceDraggingChange){for(var o=null,c=null,r=0,h=this.__cbOnceDraggingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDraggingChange[a],this.__cbOnceDraggingChange[a]=null,u=this.__cbOnceOwnerUnbindDraggingChange[a],(this.__cbOnceOwnerUnbindDraggingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDraggingChange[a]),c.push(this.__cbOnceDraggingChange[a]))}this.__cbOnceOwnerUnbindDraggingChange=o,this.__cbOnceDraggingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event draggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDraggingChange&&(this.__cbOnOwnerUnbindDraggingChange=[]),this.__cbOnOwnerUnbindDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDraggingChange&&(this.__cbOnOwnerUnbindDraggingChange=[]),this.__cbOnOwnerUnbindDraggingChange.push(null);null==this.__cbOnDraggingChange&&(this.__cbOnDraggingChange=[]),this.__cbOnDraggingChange.push(t)},onceDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event draggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDraggingChange&&(this.__cbOnceOwnerUnbindDraggingChange=[]),this.__cbOnceOwnerUnbindDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDraggingChange&&(this.__cbOnceOwnerUnbindDraggingChange=[]),this.__cbOnceOwnerUnbindDraggingChange.push(null);null==this.__cbOnceDraggingChange&&(this.__cbOnceDraggingChange=[]),this.__cbOnceDraggingChange.push(t)},offDraggingChange:function(e){if(null!=e){var n;null!=this.__cbOnDraggingChange&&-1!=(n=this.__cbOnDraggingChange.indexOf(e))&&(this.__cbOnDraggingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDraggingChange[n])&&s(),this.__cbOnOwnerUnbindDraggingChange.splice(n,1)),null!=this.__cbOnceDraggingChange&&-1!=(n=this.__cbOnceDraggingChange.indexOf(e))&&(this.__cbOnceDraggingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDraggingChange[n])&&s(),this.__cbOnceOwnerUnbindDraggingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDraggingChange){for(var t=0,i=this.__cbOnOwnerUnbindDraggingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDraggingChange[l])&&s()}this.__cbOnOwnerUnbindDraggingChange=null}if(null!=this.__cbOnceOwnerUnbindDraggingChange){for(t=0,i=this.__cbOnceOwnerUnbindDraggingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDraggingChange[l])&&s()}this.__cbOnceOwnerUnbindDraggingChange=null}this.__cbOnDraggingChange=null,this.__cbOnceDraggingChange=null}},listensDraggingChange:function(){return null!=this.__cbOnDraggingChange&&0<this.__cbOnDraggingChange.length||null!=this.__cbOnceDraggingChange&&0<this.__cbOnceDraggingChange.length},titleTextView:null,subTitleTextView:null,clearScrollDelay:null,columnLayout:null,iconsView:null,dragTargetTy:null,dragDrop:null,dragAutoScroll:null,dragStartScrollY:null,draggingCellDragY:null,draggingCell:null,dragOnItemIndex:null,clonedForDraggingAutoruns:null,get_clonedForDragging:function(){var e,n,t=this.unobservedClonedForDragging;return null!=w.current&&(e=w.current,null!=(n=this.clonedForDraggingAutoruns)||(n=w.getAutorunArray(),null!=(this.clonedForDraggingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_clonedForDragging:function(e){var n=this.unobservedClonedForDragging;return n!=(this.unobservedClonedForDragging=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitClonedForDraggingChange(e,n),null!=(n=this.clonedForDraggingAutoruns))&&(this.clonedForDraggingAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateClonedForDragging:function(){var e=this.unobservedClonedForDragging,e=(this.emitClonedForDraggingChange(e,e),this.clonedForDraggingAutoruns);null!=e&&(this.clonedForDraggingAutoruns=null,w.invalidateAutorunArray(e))},unobservedClonedForDragging:null,__cbOnClonedForDraggingChange:null,__cbOnceClonedForDraggingChange:null,__cbOnOwnerUnbindClonedForDraggingChange:null,__cbOnceOwnerUnbindClonedForDraggingChange:null,emitClonedForDraggingChange:function(e,n){var t=0;if(null!=this.__cbOnClonedForDraggingChange&&(t+=this.__cbOnClonedForDraggingChange.length),null!=this.__cbOnceClonedForDraggingChange&&(t+=this.__cbOnceClonedForDraggingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnClonedForDraggingChange)for(var r=0,h=this.__cbOnClonedForDraggingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnClonedForDraggingChange[a],++s):--t}if(null!=this.__cbOnceClonedForDraggingChange){for(var o=null,c=null,r=0,h=this.__cbOnceClonedForDraggingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceClonedForDraggingChange[a],this.__cbOnceClonedForDraggingChange[a]=null,u=this.__cbOnceOwnerUnbindClonedForDraggingChange[a],(this.__cbOnceOwnerUnbindClonedForDraggingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindClonedForDraggingChange[a]),c.push(this.__cbOnceClonedForDraggingChange[a]))}this.__cbOnceOwnerUnbindClonedForDraggingChange=o,this.__cbOnceClonedForDraggingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onClonedForDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event clonedForDraggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offClonedForDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClonedForDraggingChange&&(this.__cbOnOwnerUnbindClonedForDraggingChange=[]),this.__cbOnOwnerUnbindClonedForDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClonedForDraggingChange&&(this.__cbOnOwnerUnbindClonedForDraggingChange=[]),this.__cbOnOwnerUnbindClonedForDraggingChange.push(null);null==this.__cbOnClonedForDraggingChange&&(this.__cbOnClonedForDraggingChange=[]),this.__cbOnClonedForDraggingChange.push(t)},onceClonedForDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event clonedForDraggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offClonedForDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClonedForDraggingChange&&(this.__cbOnceOwnerUnbindClonedForDraggingChange=[]),this.__cbOnceOwnerUnbindClonedForDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClonedForDraggingChange&&(this.__cbOnceOwnerUnbindClonedForDraggingChange=[]),this.__cbOnceOwnerUnbindClonedForDraggingChange.push(null);null==this.__cbOnceClonedForDraggingChange&&(this.__cbOnceClonedForDraggingChange=[]),this.__cbOnceClonedForDraggingChange.push(t)},offClonedForDraggingChange:function(e){if(null!=e){var n;null!=this.__cbOnClonedForDraggingChange&&-1!=(n=this.__cbOnClonedForDraggingChange.indexOf(e))&&(this.__cbOnClonedForDraggingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClonedForDraggingChange[n])&&s(),this.__cbOnOwnerUnbindClonedForDraggingChange.splice(n,1)),null!=this.__cbOnceClonedForDraggingChange&&-1!=(n=this.__cbOnceClonedForDraggingChange.indexOf(e))&&(this.__cbOnceClonedForDraggingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClonedForDraggingChange[n])&&s(),this.__cbOnceOwnerUnbindClonedForDraggingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClonedForDraggingChange){for(var t=0,i=this.__cbOnOwnerUnbindClonedForDraggingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClonedForDraggingChange[l])&&s()}this.__cbOnOwnerUnbindClonedForDraggingChange=null}if(null!=this.__cbOnceOwnerUnbindClonedForDraggingChange){for(t=0,i=this.__cbOnceOwnerUnbindClonedForDraggingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClonedForDraggingChange[l])&&s()}this.__cbOnceOwnerUnbindClonedForDraggingChange=null}this.__cbOnClonedForDraggingChange=null,this.__cbOnceClonedForDraggingChange=null}},listensClonedForDraggingChange:function(){return null!=this.__cbOnClonedForDraggingChange&&0<this.__cbOnClonedForDraggingChange.length||null!=this.__cbOnceClonedForDraggingChange&&0<this.__cbOnceClonedForDraggingChange.length},hoverAutoruns:null,get_hover:function(){var e,n,t=this.unobservedHover;return null!=w.current&&(e=w.current,null!=(n=this.hoverAutoruns)||(n=w.getAutorunArray(),null!=(this.hoverAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hover:function(e){var n=this.unobservedHover;return n!=(this.unobservedHover=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverChange(e,n),null!=(n=this.hoverAutoruns))&&(this.hoverAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateHover:function(){var e=this.unobservedHover,e=(this.emitHoverChange(e,e),this.hoverAutoruns);null!=e&&(this.hoverAutoruns=null,w.invalidateAutorunArray(e))},unobservedHover:null,__cbOnHoverChange:null,__cbOnceHoverChange:null,__cbOnOwnerUnbindHoverChange:null,__cbOnceOwnerUnbindHoverChange:null,emitHoverChange:function(e,n){var t=0;if(null!=this.__cbOnHoverChange&&(t+=this.__cbOnHoverChange.length),null!=this.__cbOnceHoverChange&&(t+=this.__cbOnceHoverChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHoverChange)for(var r=0,h=this.__cbOnHoverChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHoverChange[a],++s):--t}if(null!=this.__cbOnceHoverChange){for(var o=null,c=null,r=0,h=this.__cbOnceHoverChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHoverChange[a],this.__cbOnceHoverChange[a]=null,u=this.__cbOnceOwnerUnbindHoverChange[a],(this.__cbOnceOwnerUnbindHoverChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverChange[a]),c.push(this.__cbOnceHoverChange[a]))}this.__cbOnceOwnerUnbindHoverChange=o,this.__cbOnceHoverChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(null);null==this.__cbOnHoverChange&&(this.__cbOnHoverChange=[]),this.__cbOnHoverChange.push(t)},onceHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(null);null==this.__cbOnceHoverChange&&(this.__cbOnceHoverChange=[]),this.__cbOnceHoverChange.push(t)},offHoverChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverChange&&-1!=(n=this.__cbOnHoverChange.indexOf(e))&&(this.__cbOnHoverChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHoverChange[n])&&s(),this.__cbOnOwnerUnbindHoverChange.splice(n,1)),null!=this.__cbOnceHoverChange&&-1!=(n=this.__cbOnceHoverChange.indexOf(e))&&(this.__cbOnceHoverChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHoverChange[n])&&s(),this.__cbOnceOwnerUnbindHoverChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHoverChange[l])&&s()}this.__cbOnOwnerUnbindHoverChange=null}if(null!=this.__cbOnceOwnerUnbindHoverChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHoverChange[l])&&s()}this.__cbOnceOwnerUnbindHoverChange=null}this.__cbOnHoverChange=null,this.__cbOnceHoverChange=null}},listensHoverChange:function(){return null!=this.__cbOnHoverChange&&0<this.__cbOnHoverChange.length||null!=this.__cbOnceHoverChange&&0<this.__cbOnceHoverChange.length},appliedHoverItemIndexAutoruns:null,get_appliedHoverItemIndex:function(){var e,n,t=this.unobservedAppliedHoverItemIndex;return null!=w.current&&(e=w.current,null!=(n=this.appliedHoverItemIndexAutoruns)||(n=w.getAutorunArray(),null!=(this.appliedHoverItemIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_appliedHoverItemIndex:function(e){var n=this.unobservedAppliedHoverItemIndex;return n!=(this.unobservedAppliedHoverItemIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitAppliedHoverItemIndexChange(e,n),null!=(n=this.appliedHoverItemIndexAutoruns))&&(this.appliedHoverItemIndexAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateAppliedHoverItemIndex:function(){var e=this.unobservedAppliedHoverItemIndex,e=(this.emitAppliedHoverItemIndexChange(e,e),this.appliedHoverItemIndexAutoruns);null!=e&&(this.appliedHoverItemIndexAutoruns=null,w.invalidateAutorunArray(e))},unobservedAppliedHoverItemIndex:null,__cbOnAppliedHoverItemIndexChange:null,__cbOnceAppliedHoverItemIndexChange:null,__cbOnOwnerUnbindAppliedHoverItemIndexChange:null,__cbOnceOwnerUnbindAppliedHoverItemIndexChange:null,emitAppliedHoverItemIndexChange:function(e,n){var t=0;if(null!=this.__cbOnAppliedHoverItemIndexChange&&(t+=this.__cbOnAppliedHoverItemIndexChange.length),null!=this.__cbOnceAppliedHoverItemIndexChange&&(t+=this.__cbOnceAppliedHoverItemIndexChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnAppliedHoverItemIndexChange)for(var r=0,h=this.__cbOnAppliedHoverItemIndexChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnAppliedHoverItemIndexChange[a],++s):--t}if(null!=this.__cbOnceAppliedHoverItemIndexChange){for(var o=null,c=null,r=0,h=this.__cbOnceAppliedHoverItemIndexChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceAppliedHoverItemIndexChange[a],this.__cbOnceAppliedHoverItemIndexChange[a]=null,u=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[a],(this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[a]),c.push(this.__cbOnceAppliedHoverItemIndexChange[a]))}this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange=o,this.__cbOnceAppliedHoverItemIndexChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onAppliedHoverItemIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event appliedHoverItemIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAppliedHoverItemIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindAppliedHoverItemIndexChange&&(this.__cbOnOwnerUnbindAppliedHoverItemIndexChange=[]),this.__cbOnOwnerUnbindAppliedHoverItemIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindAppliedHoverItemIndexChange&&(this.__cbOnOwnerUnbindAppliedHoverItemIndexChange=[]),this.__cbOnOwnerUnbindAppliedHoverItemIndexChange.push(null);null==this.__cbOnAppliedHoverItemIndexChange&&(this.__cbOnAppliedHoverItemIndexChange=[]),this.__cbOnAppliedHoverItemIndexChange.push(t)},onceAppliedHoverItemIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event appliedHoverItemIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offAppliedHoverItemIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange&&(this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange=[]),this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange&&(this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange=[]),this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange.push(null);null==this.__cbOnceAppliedHoverItemIndexChange&&(this.__cbOnceAppliedHoverItemIndexChange=[]),this.__cbOnceAppliedHoverItemIndexChange.push(t)},offAppliedHoverItemIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnAppliedHoverItemIndexChange&&-1!=(n=this.__cbOnAppliedHoverItemIndexChange.indexOf(e))&&(this.__cbOnAppliedHoverItemIndexChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindAppliedHoverItemIndexChange[n])&&s(),this.__cbOnOwnerUnbindAppliedHoverItemIndexChange.splice(n,1)),null!=this.__cbOnceAppliedHoverItemIndexChange&&-1!=(n=this.__cbOnceAppliedHoverItemIndexChange.indexOf(e))&&(this.__cbOnceAppliedHoverItemIndexChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[n])&&s(),this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAppliedHoverItemIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindAppliedHoverItemIndexChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindAppliedHoverItemIndexChange[l])&&s()}this.__cbOnOwnerUnbindAppliedHoverItemIndexChange=null}if(null!=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange[l])&&s()}this.__cbOnceOwnerUnbindAppliedHoverItemIndexChange=null}this.__cbOnAppliedHoverItemIndexChange=null,this.__cbOnceAppliedHoverItemIndexChange=null}},listensAppliedHoverItemIndexChange:function(){return null!=this.__cbOnAppliedHoverItemIndexChange&&0<this.__cbOnAppliedHoverItemIndexChange.length||null!=this.__cbOnceAppliedHoverItemIndexChange&&0<this.__cbOnceAppliedHoverItemIndexChange.length},updateTitle:function(){var e=this.get_title();null!=e?(this.titleTextView.set_content(e),this.titleTextView.set_active(!0)):(this.titleTextView.set_content(""),this.titleTextView.set_active(!1))},updateSubTitle:function(){var e=this.get_subTitle();null!=e?(this.subTitleTextView.set_content(e),this.subTitleTextView.set_active(!0)):(this.subTitleTextView.set_content(""),this.subTitleTextView.set_active(!1))},layoutTitle:function(){this.titleTextView.text.clipText(0,0,this.get_width()-this.titleTextView.text.x-this.titleTextView.x,999999999)},layoutSubTitle:function(){this.subTitleTextView.text.clipText(0,0,this.get_width()-this.subTitleTextView.text.x-this.subTitleTextView.x,999999999)},updateIcons:function(){var n,t,i,l,s=this,e=null!=this.get_handleTrash(),r=null!=this.get_handleLock(),h=null!=this.get_handleDuplicate(),a=null!=this.get_kindIcon(),o=e||r||a;w.unobserve(),null!=this.iconsView&&this.iconsView.destroy(),o?(this.iconsView=new Xb,this.iconsView.set_paddingRight(8),(o=this.iconsView).set_viewWidth(-60002),o.set_viewHeight(-60002),this.iconsView.set_align(wt.RIGHT),this.add(this.iconsView),a?(this.titleTextView.set_paddingLeft(22),this.subTitleTextView.set_paddingLeft(22),(n=new _l).set_icon(this.get_kindIcon()),n.set_viewWidth(25),n.set_viewHeight(-60002),n.set_pointSize(20),n.set_paddingLeft(2),n.autorun(function(){var e=s.get_theme();null==e&&(e=W.get_context().get_theme()),w.unobserve(),n.set_textColor(e.get_iconColor())}),this.columnLayout.add(n),this.iconsView.add(n),(o=new g0).flags|=16,o.set_viewWidth(-60002),o.set_viewHeight(-60002),this.iconsView.add(o)):(this.titleTextView.set_paddingLeft(0),this.subTitleTextView.set_paddingLeft(0)),h&&((t=new dl).set_icon(59458),kl.tooltip(t,"Duplicate"),t.set_viewWidth(21),t.set_viewHeight(-60002),t.set_pointSize(14),t.onClick(this,this.get_handleDuplicate()),t.autorun(function(){var e=s.get_theme();null==e&&(e=W.get_context().get_theme()),w.unobserve(),t.set_theme(e)}),this.iconsView.add(t)),r&&((i=new dl).autorun(function(){i.set_icon(s.get_locked()?59415:59414),kl.tooltip(i,s.get_locked()?"Unlock":"Lock")}),i.set_viewWidth(21),i.set_viewHeight(-60002),i.set_pointSize(14),i.onClick(this,this.get_handleLock()),i.autorun(function(){var e=s.get_theme();null==e&&(e=W.get_context().get_theme()),w.unobserve(),i.set_theme(e)}),this.iconsView.add(i)),e&&((l=new dl).set_icon(59460),l.set_viewWidth(21),l.set_viewHeight(-60002),l.set_pointSize(14),kl.tooltip(l,"Delete"),l.onClick(this,this.get_handleTrash()),l.autorun(function(){var e=s.get_theme();null==e&&(e=W.get_context().get_theme()),w.unobserve(),l.set_theme(e)}),this.iconsView.add(l))):(this.titleTextView.set_paddingLeft(0),this.subTitleTextView.set_paddingLeft(0)),w.reobserve()},updateStyle:function(){var e,n,t,i,l,s,r,h,a=this.get_theme(),o=(null==a&&(a=W.get_context().get_theme()),this.get_inputStyle()?this.columnLayout.padding(6,6):this.columnLayout.padding(8,8),this.get_selected());o?(this.flags&=-17,this.set_alpha(1),this.get_inputStyle()?(this.color=a.get_lightBackgroundColor(),0!=this.borderLeftSize&&(this.borderLeftSize=0,this.updateBorder()),0!=this.borderRightSize&&(this.borderRightSize=0,this.updateBorder())):(n=a.get_mediumBackgroundColor(),l=(((t=a.get_selectionBorderColor())>>16&255)-(n>>16&255))*(i=null==(i=.1)?.5:i)+(n>>16&255)|0,this.color=((0&65535|(255<l?255:l<0?0:l)<<16)&16711935|(255<(s=((t>>8&255)-(n>>8&255))*i+(n>>8&255)|0)?255:s<0?0:s)<<8)&16776960|(255<(r=((255&t)-(255&n))*i+(255&n)|0)?255:r<0?0:r),h=a.get_selectionBorderColor(),this.borderLeftColor!=h&&(this.borderLeftColor=h,0<this.borderSize||0<this.borderLeftSize)&&this.updateBorder(),h=a.get_selectionBorderColor(),this.borderRightColor!=h&&(this.borderRightColor=h,0<this.borderSize||0<this.borderRightSize)&&this.updateBorder(),h=a.get_selectionBorderColor(),this.borderTopColor!=h&&(this.borderTopColor=h,0<this.borderSize||0<this.borderTopSize)&&this.updateBorder(),h=a.get_selectionBorderColor(),this.borderBottomColor!=h&&(this.borderBottomColor=h,0<this.borderSize||0<this.borderBottomSize)&&this.updateBorder(),1!=this.borderLeftSize&&(this.borderLeftSize=1,this.updateBorder()),1!=this.borderRightSize&&(this.borderRightSize=1,this.updateBorder()),1!=this.borderTopSize&&(this.borderTopSize=1,this.updateBorder()))):this.get_locked()&&!this.get_inputStyle()?(this.set_alpha(1),this.flags&=-17,0!=this.borderLeftSize&&(this.borderLeftSize=0,this.updateBorder()),0!=this.borderRightSize&&(this.borderRightSize=0,this.updateBorder()),0!=this.borderTopSize&&(this.borderTopSize=0,this.updateBorder()),this.color=a.get_darkBackgroundColor()):(this.set_alpha(1),this.flags&=-17,0!=this.borderLeftSize&&(this.borderLeftSize=0,this.updateBorder()),0!=this.borderRightSize&&(this.borderRightSize=0,this.updateBorder()),0!=this.borderTopSize&&(this.borderTopSize=0,this.updateBorder()),null!=this.get_collectionView()&&this.get_collectionView().get_scrolling()?-1!=this.get_appliedHoverItemIndex()&&this.get_appliedHoverItemIndex()==this.get_itemIndex()?this.color=a.get_lightBackgroundColor():this.get_inputStyle()?this.color=a.get_darkBackgroundColor():this.color=a.get_mediumBackgroundColor():this.get_hover()?(this.set_appliedHoverItemIndex(this.get_itemIndex()),this.color=a.get_lightBackgroundColor()):(this.set_appliedHoverItemIndex(-1),this.get_inputStyle()?this.color=a.get_darkBackgroundColor():this.color=a.get_mediumBackgroundColor())),this.get_locked()?(e=this.titleTextView,n=a.get_lightTextColor(),l=(((t=this.color)>>16&255)-(n>>16&255))*(i=null==(i=.4)?.5:i)+(n>>16&255)|0,e.set_textColor(((0&65535|(255<l?255:l<0?0:l)<<16)&16711935|(255<(s=((t>>8&255)-(n>>8&255))*i+(n>>8&255)|0)?255:s<0?0:s)<<8)&16776960|(255<(r=((255&t)-(255&n))*i+(255&n)|0)?255:r<0?0:r)),e=this.subTitleTextView,n=a.get_darkTextColor(),l=(((t=this.color)>>16&255)-(n>>16&255))*(i=null==(i=.4)?.5:i)+(n>>16&255)|0,e.set_textColor(((0&65535|(255<l?255:l<0?0:l)<<16)&16711935|(255<(s=((t>>8&255)-(n>>8&255))*i+(n>>8&255)|0)?255:s<0?0:s)<<8)&16776960|(255<(r=((255&t)-(255&n))*i+(255&n)|0)?255:r<0?0:r))):(this.titleTextView.set_textColor(a.get_lightTextColor()),this.subTitleTextView.set_textColor(a.get_darkTextColor())),this.titleTextView.set_font(a.get_mediumFont()),this.subTitleTextView.set_font(a.get_mediumFont()),o||(h=a.get_mediumBorderColor(),this.borderBottomColor!=h&&(this.borderBottomColor=h,0<this.borderSize||0<this.borderBottomSize)&&this.updateBorder()),this.get_inputStyle()&&this.get_displaysEmptyValue()?(this.titleTextView.text.set_skewX(8),this.titleTextView.text.set_alpha(.8)):(this.titleTextView.text.set_skewX(0),this.titleTextView.text.set_alpha(1))},bindDragDrop:function(e,t){var i,l=this;null==ul._notVisibleTransform&&(ul._notVisibleTransform=new n,(i=ul._notVisibleTransform).tx+=-99999999,i.ty+=-99999999,i.changedDirty=!0),this.dragDrop=new gl(null,e,$bind(this,this.createDraggingVisual),$bind(this,this.releaseDraggingVisual)),this.component("dragDrop",this.dragDrop),this.dragDrop.onDraggingChange(this,function(e,n){n&&!e&&t(l.dragOnItemIndex),l.handleDragChange(e,n)}),this.dragDrop.autorun($bind(this,this.updateFromDrag))},unbindDragDrop:function(){null!=this.dragDrop&&(this.dragDrop.destroy(),this.dragDrop=null,this.set_dragging(!1))},cloneForDragDrop:function(){var e=new ul;return e.set_theme(this.get_theme()),e.set_selected(this.get_selected()),e.set_title(this.get_title()),e.set_subTitle(this.get_subTitle()),e.set_itemIndex(this.get_itemIndex()),e.set_inputStyle(this.get_inputStyle()),e.set_displaysEmptyValue(this.get_displaysEmptyValue()),e.set_kindIcon(this.get_kindIcon()),e.set_locked(this.get_locked()),e.set_handleTrash(this.get_handleTrash()),e.set_handleLock(this.get_handleLock()),e.set_handleDuplicate(this.get_handleDuplicate()),e.set_clonedForDragging(!0),e},createDraggingVisual:function(){var e=this.cloneForDragDrop(),n=(e.set_touchable(!1),e.set_depth(9999),this.get_width()),t=this.get_height(),n=(e.set_viewWidth(n),e.set_viewHeight(t),e.computeSize(this.get_width(),this.get_height(),0,!0),null!=e.computedSize&&(t=e.computedSize.computedHeight,e.set_width(e.computedSize.computedWidth),e.set_height(t)),this.y);return e.set_x(this.x),e.set_y(n),this.parent.add(e),e},releaseDraggingVisual:function(e){e.destroy()},firstEnabledParentScroller:function(){for(var e=this.firstParentWithClass(Ht);null!=e&&!e.scrollEnabled;)e=e.firstParentWithClass(Ht);return e},handleDragChange:function(e,n){if(e!=n)if(this.set_dragging(e),e){this.dragAutoScroll=0,this.draggingCellDragY=0,this.set_transform(ul._notVisibleTransform);n=this.firstEnabledParentScroller();null!=n&&(this.dragStartScrollY=-n.scrollTransform.ty),ke.app.onUpdate(this.dragDrop,$bind(this,this.scrollFromDragIfNeeded))}else{this.dragAutoScroll=0,this.set_transform(null);for(var t=0,i=this.parent.children;t<i.length;){var l=i[t];++t,l!=this&&l instanceof ul&&Ec.transition(l,null,0,function(e){Pi.set_transform(e,null)})}ke.app.offUpdate($bind(this,this.scrollFromDragIfNeeded))}},updateFromDrag:function(){var e,n,t,i,l,s=this.dragDrop.get_dragging();this.draggingCellDragY=this.dragDrop.get_dragY(),w.unobserve(),s&&(s=0,null!=(e=this.firstEnabledParentScroller())&&(s=-e.scrollTransform.ty-this.dragStartScrollY),this.draggingCell=this.dragDrop.draggingVisual,t=this.draggingCell,n=this.y+this.draggingCellDragY+s,t.set_x(this.x),t.set_y(n),this.updateOtherCellsFromDrag(),e=this.firstEnabledParentScroller(),t=this.firstParentWithClass(Ht),null!=e)&&((null!=t?t:e)!=e?(e.visualToScreen(0,0,ul._point),n=ul._point.y,e.visualToScreen(0,e.get_height(),ul._point),t=ul._point.y,this.draggingCell.visualToScreen(0,0,ul._point),i=ul._point.y,this.draggingCell.visualToScreen(0,this.draggingCell.get_height(),ul._point),l=ul._point.y,this.dragAutoScroll=t<l?l-t:i<n?i-n:0):this.y+this.get_height()+this.draggingCellDragY+s>e.get_height()+-e.scrollTransform.ty?this.dragAutoScroll=this.y+this.get_height()+this.draggingCellDragY+s-(e.get_height()+-e.scrollTransform.ty):this.y+this.draggingCellDragY+s<-e.scrollTransform.ty?this.dragAutoScroll=this.y+this.draggingCellDragY+s- -e.scrollTransform.ty:this.dragAutoScroll=0),w.reobserve()},updateOtherCellsFromDrag:function(){var e=this.get_height();this.dragOnItemIndex=this.get_itemIndex();for(var t=0,i=this.parent.children;t<i.length;){var l,s,r=i[t];++t,r!=this&&r instanceof ul&&(null==(r=r).transform&&r.set_transform(new n),s=[l=r.dragTargetTy],this.get_itemIndex()>r.get_itemIndex()?this.draggingCell.y<r.y+.5*r.get_height()?(this.dragOnItemIndex>r.get_itemIndex()&&(this.dragOnItemIndex=r.get_itemIndex()),s[0]=e):s[0]=0:this.get_itemIndex()<r.get_itemIndex()&&this.draggingCell.y>r.y-.5*r.get_height()?(this.dragOnItemIndex<r.get_itemIndex()&&(this.dragOnItemIndex=r.get_itemIndex()),s[0]=-e):s[0]=0,s[0]!=l)&&(r.dragTargetTy=s[0],Ec.transition(r,null,.1,function(n){return function(e){Pi.get_transform(e).ty=n[0],Pi.get_transform(e).changedDirty=!0}}(s)))}},scrollFromDragIfNeeded:function(e){var n,t;0!=this.dragAutoScroll&&null!=(t=this.firstEnabledParentScroller())&&(n=-t.scrollTransform.ty,e=-t.scrollTransform.ty+this.dragAutoScroll*e*10,t.scrollTransform.ty!=-e&&(t.scrollTransform.ty=-e,t.scrollTransform.changedDirty=!0),t.scrollToBounds(),-t.scrollTransform.ty!=n)&&(null!=this.draggingCell&&(e=-t.scrollTransform.ty-this.dragStartScrollY,n=this.draggingCell,t=this.y+this.draggingCellDragY+e,n.set_x(this.x),n.set_y(t)),this.updateOtherCellsFromDrag())},unbindEvents:function(){Cb.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offSelectedChange(),this.offTitleChange(),this.offSubTitleChange(),this.offItemIndexChange(),this.offCollectionViewChange(),this.offInputStyleChange(),this.offDisplaysEmptyValueChange(),this.offLockedChange(),this.offKindIconChange(),this.offHandleTrashChange(),this.offHandleLockChange(),this.offHandleDuplicateChange(),this.offDraggingChange(),this.offClonedForDraggingChange(),this.offHoverChange(),this.offAppliedHoverItemIndexChange()},__class__:ul,__properties__:$extend(Cb.prototype.__properties__,{set_appliedHoverItemIndex:"set_appliedHoverItemIndex",get_appliedHoverItemIndex:"get_appliedHoverItemIndex",set_hover:"set_hover",get_hover:"get_hover",set_clonedForDragging:"set_clonedForDragging",get_clonedForDragging:"get_clonedForDragging",set_dragging:"set_dragging",get_dragging:"get_dragging",set_handleDuplicate:"set_handleDuplicate",get_handleDuplicate:"get_handleDuplicate",set_handleLock:"set_handleLock",get_handleLock:"get_handleLock",set_handleTrash:"set_handleTrash",get_handleTrash:"get_handleTrash",set_kindIcon:"set_kindIcon",get_kindIcon:"get_kindIcon",set_locked:"set_locked",get_locked:"get_locked",set_displaysEmptyValue:"set_displaysEmptyValue",get_displaysEmptyValue:"get_displaysEmptyValue",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_collectionView:"set_collectionView",get_collectionView:"get_collectionView",set_unobservedItemIndex:"set_unobservedItemIndex",set_itemIndex:"set_itemIndex",get_itemIndex:"get_itemIndex",set_subTitle:"set_subTitle",get_subTitle:"get_subTitle",set_title:"set_title",get_title:"get_title",set_selected:"set_selected",get_selected:"get_selected",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.unobservedIcon=59393,this.iconAutoruns=null,this.observedDirty=!1;var n=this;O1.call(this),this.set_anchorX(.5),this.set_anchorY(.5),this.set_align(ai.CENTER),this.set_verticalAlign(wt.CENTER),this.set_pointSize(16),W.get_context().get_assets().ensureFont("font:entypo",null,null,function(e){n.set_font(e.get_font()),n.set_preRenderedSize(20),n.autorun($bind(n,n.updateContent))})}),dl=((E["elements.EntypoIconView"]=_l).__name__="elements.EntypoIconView",_l.__interfaces__=[u],_l.__super__=O1,_l.prototype=$extend(O1.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,iconAutoruns:null,get_icon:function(){var e,n,t=this.unobservedIcon;return null!=w.current&&(e=w.current,null!=(n=this.iconAutoruns)||(n=w.getAutorunArray(),null!=(this.iconAutoruns=n)))&&e.bindToAutorunArray(n),t},set_icon:function(e){var n=this.unobservedIcon;return n!=(this.unobservedIcon=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitIconChange(e,n),null!=(n=this.iconAutoruns))&&(this.iconAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateIcon:function(){var e=this.unobservedIcon,e=(this.emitIconChange(e,e),this.iconAutoruns);null!=e&&(this.iconAutoruns=null,w.invalidateAutorunArray(e))},unobservedIcon:null,__cbOnIconChange:null,__cbOnceIconChange:null,__cbOnOwnerUnbindIconChange:null,__cbOnceOwnerUnbindIconChange:null,emitIconChange:function(e,n){var t=0;if(null!=this.__cbOnIconChange&&(t+=this.__cbOnIconChange.length),null!=this.__cbOnceIconChange&&(t+=this.__cbOnceIconChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnIconChange)for(var r=0,h=this.__cbOnIconChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnIconChange[a],++s):--t}if(null!=this.__cbOnceIconChange){for(var o=null,c=null,r=0,h=this.__cbOnceIconChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceIconChange[a],this.__cbOnceIconChange[a]=null,u=this.__cbOnceOwnerUnbindIconChange[a],(this.__cbOnceOwnerUnbindIconChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindIconChange[a]),c.push(this.__cbOnceIconChange[a]))}this.__cbOnceOwnerUnbindIconChange=o,this.__cbOnceIconChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onIconChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event iconChange because owner is destroyed!");var l=function(e){null!=t&&(i.offIconChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindIconChange&&(this.__cbOnOwnerUnbindIconChange=[]),this.__cbOnOwnerUnbindIconChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindIconChange&&(this.__cbOnOwnerUnbindIconChange=[]),this.__cbOnOwnerUnbindIconChange.push(null);null==this.__cbOnIconChange&&(this.__cbOnIconChange=[]),this.__cbOnIconChange.push(t)},onceIconChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event iconChange because owner is destroyed!");var l=function(e){null!=t&&(i.offIconChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindIconChange&&(this.__cbOnceOwnerUnbindIconChange=[]),this.__cbOnceOwnerUnbindIconChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindIconChange&&(this.__cbOnceOwnerUnbindIconChange=[]),this.__cbOnceOwnerUnbindIconChange.push(null);null==this.__cbOnceIconChange&&(this.__cbOnceIconChange=[]),this.__cbOnceIconChange.push(t)},offIconChange:function(e){if(null!=e){var n;null!=this.__cbOnIconChange&&-1!=(n=this.__cbOnIconChange.indexOf(e))&&(this.__cbOnIconChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindIconChange[n])&&s(),this.__cbOnOwnerUnbindIconChange.splice(n,1)),null!=this.__cbOnceIconChange&&-1!=(n=this.__cbOnceIconChange.indexOf(e))&&(this.__cbOnceIconChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindIconChange[n])&&s(),this.__cbOnceOwnerUnbindIconChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindIconChange){for(var t=0,i=this.__cbOnOwnerUnbindIconChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindIconChange[l])&&s()}this.__cbOnOwnerUnbindIconChange=null}if(null!=this.__cbOnceOwnerUnbindIconChange){for(t=0,i=this.__cbOnceOwnerUnbindIconChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindIconChange[l])&&s()}this.__cbOnceOwnerUnbindIconChange=null}this.__cbOnIconChange=null,this.__cbOnceIconChange=null}},listensIconChange:function(){return null!=this.__cbOnIconChange&&0<this.__cbOnIconChange.length||null!=this.__cbOnceIconChange&&0<this.__cbOnceIconChange.length},updateContent:function(){var e=this.get_icon();this.set_content(String.fromCodePoint(e))},unbindEvents:function(){O1.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offIconChange()},__class__:_l,__properties__:$extend(O1.prototype.__properties__,{set_icon:"set_icon",get_icon:"get_icon"})}),function(){this.unobservedHoverStyle=!0,this.hoverStyleAutoruns=null,this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedHover=!1,this.hoverAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null;var t=this,e=(_l.call(this),this.set_transform(new n),new c0),e=(this.component("click",e),e.onClick(this,function(){t.emitClick()}),new Jb(function(e){t.emitLongPress()},e));this.component("longPress",e),this.onPointerDown(this,function(e){t.transform.ty=1,t.transform.changedDirty=!0}),this.onPointerUp(this,function(e){t.transform.ty=0,t.transform.changedDirty=!0}),this.onPointerOver(this,function(e){t.set_hover(!0)}),this.onPointerOut(this,function(e){t.set_hover(!1)}),this.autorun(function(){t.set_touchable(!t.get_disabled())}),this.autorun($bind(this,this.updateStyle))}),bl=((E["elements.ClickableIconView"]=dl).__name__="elements.ClickableIconView",dl.__super__=_l,dl.prototype=$extend(_l.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},hoverAutoruns:null,get_hover:function(){var e,n,t=this.unobservedHover;return null!=w.current&&(e=w.current,null!=(n=this.hoverAutoruns)||(n=w.getAutorunArray(),null!=(this.hoverAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hover:function(e){var n=this.unobservedHover;return n!=(this.unobservedHover=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverChange(e,n),null!=(n=this.hoverAutoruns))&&(this.hoverAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateHover:function(){var e=this.unobservedHover,e=(this.emitHoverChange(e,e),this.hoverAutoruns);null!=e&&(this.hoverAutoruns=null,w.invalidateAutorunArray(e))},unobservedHover:null,__cbOnHoverChange:null,__cbOnceHoverChange:null,__cbOnOwnerUnbindHoverChange:null,__cbOnceOwnerUnbindHoverChange:null,emitHoverChange:function(e,n){var t=0;if(null!=this.__cbOnHoverChange&&(t+=this.__cbOnHoverChange.length),null!=this.__cbOnceHoverChange&&(t+=this.__cbOnceHoverChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHoverChange)for(var r=0,h=this.__cbOnHoverChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHoverChange[a],++s):--t}if(null!=this.__cbOnceHoverChange){for(var o=null,c=null,r=0,h=this.__cbOnceHoverChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHoverChange[a],this.__cbOnceHoverChange[a]=null,u=this.__cbOnceOwnerUnbindHoverChange[a],(this.__cbOnceOwnerUnbindHoverChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverChange[a]),c.push(this.__cbOnceHoverChange[a]))}this.__cbOnceOwnerUnbindHoverChange=o,this.__cbOnceHoverChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(null);null==this.__cbOnHoverChange&&(this.__cbOnHoverChange=[]),this.__cbOnHoverChange.push(t)},onceHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(null);null==this.__cbOnceHoverChange&&(this.__cbOnceHoverChange=[]),this.__cbOnceHoverChange.push(t)},offHoverChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverChange&&-1!=(n=this.__cbOnHoverChange.indexOf(e))&&(this.__cbOnHoverChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHoverChange[n])&&s(),this.__cbOnOwnerUnbindHoverChange.splice(n,1)),null!=this.__cbOnceHoverChange&&-1!=(n=this.__cbOnceHoverChange.indexOf(e))&&(this.__cbOnceHoverChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHoverChange[n])&&s(),this.__cbOnceOwnerUnbindHoverChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHoverChange[l])&&s()}this.__cbOnOwnerUnbindHoverChange=null}if(null!=this.__cbOnceOwnerUnbindHoverChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHoverChange[l])&&s()}this.__cbOnceOwnerUnbindHoverChange=null}this.__cbOnHoverChange=null,this.__cbOnceHoverChange=null}},listensHoverChange:function(){return null!=this.__cbOnHoverChange&&0<this.__cbOnHoverChange.length||null!=this.__cbOnceHoverChange&&0<this.__cbOnceHoverChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=w.current&&(e=w.current,null!=(n=this.disabledAutoruns)||(n=w.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return n!=(this.unobservedDisabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,w.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledChange)for(var r=0,h=this.__cbOnDisabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledChange[a],++s):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledChange[n])&&s(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledChange[l])&&s()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},hoverStyleAutoruns:null,get_hoverStyle:function(){var e,n,t=this.unobservedHoverStyle;return null!=w.current&&(e=w.current,null!=(n=this.hoverStyleAutoruns)||(n=w.getAutorunArray(),null!=(this.hoverStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hoverStyle:function(e){var n=this.unobservedHoverStyle;return n!=(this.unobservedHoverStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverStyleChange(e,n),null!=(n=this.hoverStyleAutoruns))&&(this.hoverStyleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateHoverStyle:function(){var e=this.unobservedHoverStyle,e=(this.emitHoverStyleChange(e,e),this.hoverStyleAutoruns);null!=e&&(this.hoverStyleAutoruns=null,w.invalidateAutorunArray(e))},unobservedHoverStyle:null,__cbOnHoverStyleChange:null,__cbOnceHoverStyleChange:null,__cbOnOwnerUnbindHoverStyleChange:null,__cbOnceOwnerUnbindHoverStyleChange:null,emitHoverStyleChange:function(e,n){var t=0;if(null!=this.__cbOnHoverStyleChange&&(t+=this.__cbOnHoverStyleChange.length),null!=this.__cbOnceHoverStyleChange&&(t+=this.__cbOnceHoverStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHoverStyleChange)for(var r=0,h=this.__cbOnHoverStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHoverStyleChange[a],++s):--t}if(null!=this.__cbOnceHoverStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceHoverStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHoverStyleChange[a],this.__cbOnceHoverStyleChange[a]=null,u=this.__cbOnceOwnerUnbindHoverStyleChange[a],(this.__cbOnceOwnerUnbindHoverStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverStyleChange[a]),c.push(this.__cbOnceHoverStyleChange[a]))}this.__cbOnceOwnerUnbindHoverStyleChange=o,this.__cbOnceHoverStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHoverStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event hoverStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverStyleChange&&(this.__cbOnOwnerUnbindHoverStyleChange=[]),this.__cbOnOwnerUnbindHoverStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverStyleChange&&(this.__cbOnOwnerUnbindHoverStyleChange=[]),this.__cbOnOwnerUnbindHoverStyleChange.push(null);null==this.__cbOnHoverStyleChange&&(this.__cbOnHoverStyleChange=[]),this.__cbOnHoverStyleChange.push(t)},onceHoverStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event hoverStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverStyleChange&&(this.__cbOnceOwnerUnbindHoverStyleChange=[]),this.__cbOnceOwnerUnbindHoverStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverStyleChange&&(this.__cbOnceOwnerUnbindHoverStyleChange=[]),this.__cbOnceOwnerUnbindHoverStyleChange.push(null);null==this.__cbOnceHoverStyleChange&&(this.__cbOnceHoverStyleChange=[]),this.__cbOnceHoverStyleChange.push(t)},offHoverStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverStyleChange&&-1!=(n=this.__cbOnHoverStyleChange.indexOf(e))&&(this.__cbOnHoverStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHoverStyleChange[n])&&s(),this.__cbOnOwnerUnbindHoverStyleChange.splice(n,1)),null!=this.__cbOnceHoverStyleChange&&-1!=(n=this.__cbOnceHoverStyleChange.indexOf(e))&&(this.__cbOnceHoverStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHoverStyleChange[n])&&s(),this.__cbOnceOwnerUnbindHoverStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHoverStyleChange[l])&&s()}this.__cbOnOwnerUnbindHoverStyleChange=null}if(null!=this.__cbOnceOwnerUnbindHoverStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHoverStyleChange[l])&&s()}this.__cbOnceOwnerUnbindHoverStyleChange=null}this.__cbOnHoverStyleChange=null,this.__cbOnceHoverStyleChange=null}},listensHoverStyleChange:function(){return null!=this.__cbOnHoverStyleChange&&0<this.__cbOnHoverStyleChange.length||null!=this.__cbOnceHoverStyleChange&&0<this.__cbOnceHoverStyleChange.length},__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(){var e=0;if(null!=this.__cbOnClick&&(e+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(e+=this.__cbOnceClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnClick)for(var l=0,s=this.__cbOnClick.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnClick[r],++i):--e}if(null!=this.__cbOnceClick){for(var h=null,a=null,l=0,s=this.__cbOnceClick.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceClick[r],this.__cbOnceClick[r]=null,o=this.__cbOnceOwnerUnbindClick[r],(this.__cbOnceOwnerUnbindClick[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindClick[r]),a.push(this.__cbOnceClick[r]))}this.__cbOnceOwnerUnbindClick=h,this.__cbOnceClick=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClick[n])&&s(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClick[n])&&s(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClick[l])&&s()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClick[l])&&s()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},__cbOnLongPress:null,__cbOnceLongPress:null,__cbOnOwnerUnbindLongPress:null,__cbOnceOwnerUnbindLongPress:null,emitLongPress:function(){var e=0;if(null!=this.__cbOnLongPress&&(e+=this.__cbOnLongPress.length),null!=this.__cbOnceLongPress&&(e+=this.__cbOnceLongPress.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnLongPress)for(var l=0,s=this.__cbOnLongPress.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnLongPress[r],++i):--e}if(null!=this.__cbOnceLongPress){for(var h=null,a=null,l=0,s=this.__cbOnceLongPress.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceLongPress[r],this.__cbOnceLongPress[r]=null,o=this.__cbOnceOwnerUnbindLongPress[r],(this.__cbOnceOwnerUnbindLongPress[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindLongPress[r]),a.push(this.__cbOnceLongPress[r]))}this.__cbOnceOwnerUnbindLongPress=h,this.__cbOnceLongPress=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(null);null==this.__cbOnLongPress&&(this.__cbOnLongPress=[]),this.__cbOnLongPress.push(t)},onceLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(null);null==this.__cbOnceLongPress&&(this.__cbOnceLongPress=[]),this.__cbOnceLongPress.push(t)},offLongPress:function(e){if(null!=e){var n;null!=this.__cbOnLongPress&&-1!=(n=this.__cbOnLongPress.indexOf(e))&&(this.__cbOnLongPress.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLongPress[n])&&s(),this.__cbOnOwnerUnbindLongPress.splice(n,1)),null!=this.__cbOnceLongPress&&-1!=(n=this.__cbOnceLongPress.indexOf(e))&&(this.__cbOnceLongPress.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLongPress[n])&&s(),this.__cbOnceOwnerUnbindLongPress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLongPress){for(var t=0,i=this.__cbOnOwnerUnbindLongPress.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLongPress[l])&&s()}this.__cbOnOwnerUnbindLongPress=null}if(null!=this.__cbOnceOwnerUnbindLongPress){for(t=0,i=this.__cbOnceOwnerUnbindLongPress.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLongPress[l])&&s()}this.__cbOnceOwnerUnbindLongPress=null}this.__cbOnLongPress=null,this.__cbOnceLongPress=null}},listensLongPress:function(){return null!=this.__cbOnLongPress&&0<this.__cbOnLongPress.length||null!=this.__cbOnceLongPress&&0<this.__cbOnceLongPress.length},updateStyle:function(){var e,n,t,i,l,s,r=this.get_theme();null==r&&(r=W.get_context().get_theme()),e=this.get_hover()||!this.get_hoverStyle()?r.get_iconColor():(s=r.get_mediumBackgroundColor(),16776960&(16711935&(65535&0|(255<(i=(((n=r.get_iconColor())>>16&255)-(s>>16&255))*(t=null==(t=.7)?.5:t)+(s>>16&255)|0)?255:i<0?0:i)<<16)|(255<(l=((n>>8&255)-(s>>8&255))*t+(s>>8&255)|0)?255:l<0?0:l)<<8)|(255<(s=((255&n)-(255&s))*t+(255&s)|0)?255:s<0?0:s)),this.get_disabled()&&(e=((0&65535|(255<(i=(((n=r.get_darkBackgroundColor())>>16&255)-(e>>16&255))*(t=null==(t=.5)?.5:t)+(e>>16&255)|0)?255:i<0?0:i)<<16)&16711935|(255<(l=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0)?255:l<0?0:l)<<8)&16776960|(255<(s=((255&n)-(255&e))*t+(255&e)|0)?255:s<0?0:s)),this.set_textColor(e)},unbindEvents:function(){_l.prototype.unbindEvents.call(this),this.offClick(),this.offLongPress(),this.offThemeChange(),this.offHoverChange(),this.offDisabledChange(),this.offHoverStyleChange()},__class__:dl,__properties__:$extend(_l.prototype.__properties__,{set_hoverStyle:"set_hoverStyle",get_hoverStyle:"get_hoverStyle",set_disabled:"set_disabled",get_disabled:"get_disabled",set_hover:"set_hover",get_hover:"get_hover",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.ColorFieldView"]=bd).__name__="elements.ColorFieldView",bd.__super__=R2,bd.prototype=$extend(R2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},setValue:function(e,n){this.set_value(n)},valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=w.current&&(e=w.current,null!=(n=this.valueAutoruns)||(n=w.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,w.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnValueChange)for(var r=0,h=this.__cbOnValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnValueChange[a],++s):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindValueChange[n])&&s(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindValueChange[n])&&s(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindValueChange[l])&&s()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindValueChange[l])&&s()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=w.current&&(e=w.current,null!=(n=this.disabledAutoruns)||(n=w.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return this.set_unobservedDisabled(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,w.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledChange)for(var r=0,h=this.__cbOnDisabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledChange[a],++s):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledChange[n])&&s(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledChange[l])&&s()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},set_unobservedDisabled:function(e){return this.unobservedDisabled!=e&&(this.unobservedDisabled=e,this.set_touchable(!e),null!=this.editText&&this.editText.set_disabled(e),e)&&this.get_unobservedFocused()&&ke.app.screen.set_focusedVisual(null),e},pickerVisibleAutoruns:null,get_pickerVisible:function(){var e,n,t=this.unobservedPickerVisible;return null!=w.current&&(e=w.current,null!=(n=this.pickerVisibleAutoruns)||(n=w.getAutorunArray(),null!=(this.pickerVisibleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_pickerVisible:function(e){var n=this.unobservedPickerVisible;return n!=(this.unobservedPickerVisible=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPickerVisibleChange(e,n),null!=(n=this.pickerVisibleAutoruns))&&(this.pickerVisibleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidatePickerVisible:function(){var e=this.unobservedPickerVisible,e=(this.emitPickerVisibleChange(e,e),this.pickerVisibleAutoruns);null!=e&&(this.pickerVisibleAutoruns=null,w.invalidateAutorunArray(e))},unobservedPickerVisible:null,__cbOnPickerVisibleChange:null,__cbOncePickerVisibleChange:null,__cbOnOwnerUnbindPickerVisibleChange:null,__cbOnceOwnerUnbindPickerVisibleChange:null,emitPickerVisibleChange:function(e,n){var t=0;if(null!=this.__cbOnPickerVisibleChange&&(t+=this.__cbOnPickerVisibleChange.length),null!=this.__cbOncePickerVisibleChange&&(t+=this.__cbOncePickerVisibleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPickerVisibleChange)for(var r=0,h=this.__cbOnPickerVisibleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPickerVisibleChange[a],++s):--t}if(null!=this.__cbOncePickerVisibleChange){for(var o=null,c=null,r=0,h=this.__cbOncePickerVisibleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePickerVisibleChange[a],this.__cbOncePickerVisibleChange[a]=null,u=this.__cbOnceOwnerUnbindPickerVisibleChange[a],(this.__cbOnceOwnerUnbindPickerVisibleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPickerVisibleChange[a]),c.push(this.__cbOncePickerVisibleChange[a]))}this.__cbOnceOwnerUnbindPickerVisibleChange=o,this.__cbOncePickerVisibleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPickerVisibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pickerVisibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPickerVisibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPickerVisibleChange&&(this.__cbOnOwnerUnbindPickerVisibleChange=[]),this.__cbOnOwnerUnbindPickerVisibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPickerVisibleChange&&(this.__cbOnOwnerUnbindPickerVisibleChange=[]),this.__cbOnOwnerUnbindPickerVisibleChange.push(null);null==this.__cbOnPickerVisibleChange&&(this.__cbOnPickerVisibleChange=[]),this.__cbOnPickerVisibleChange.push(t)},oncePickerVisibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pickerVisibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPickerVisibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPickerVisibleChange&&(this.__cbOnceOwnerUnbindPickerVisibleChange=[]),this.__cbOnceOwnerUnbindPickerVisibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPickerVisibleChange&&(this.__cbOnceOwnerUnbindPickerVisibleChange=[]),this.__cbOnceOwnerUnbindPickerVisibleChange.push(null);null==this.__cbOncePickerVisibleChange&&(this.__cbOncePickerVisibleChange=[]),this.__cbOncePickerVisibleChange.push(t)},offPickerVisibleChange:function(e){if(null!=e){var n;null!=this.__cbOnPickerVisibleChange&&-1!=(n=this.__cbOnPickerVisibleChange.indexOf(e))&&(this.__cbOnPickerVisibleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPickerVisibleChange[n])&&s(),this.__cbOnOwnerUnbindPickerVisibleChange.splice(n,1)),null!=this.__cbOncePickerVisibleChange&&-1!=(n=this.__cbOncePickerVisibleChange.indexOf(e))&&(this.__cbOncePickerVisibleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPickerVisibleChange[n])&&s(),this.__cbOnceOwnerUnbindPickerVisibleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPickerVisibleChange){for(var t=0,i=this.__cbOnOwnerUnbindPickerVisibleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPickerVisibleChange[l])&&s()}this.__cbOnOwnerUnbindPickerVisibleChange=null}if(null!=this.__cbOnceOwnerUnbindPickerVisibleChange){for(t=0,i=this.__cbOnceOwnerUnbindPickerVisibleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPickerVisibleChange[l])&&s()}this.__cbOnceOwnerUnbindPickerVisibleChange=null}this.__cbOnPickerVisibleChange=null,this.__cbOncePickerVisibleChange=null}},listensPickerVisibleChange:function(){return null!=this.__cbOnPickerVisibleChange&&0<this.__cbOnPickerVisibleChange.length||null!=this.__cbOncePickerVisibleChange&&0<this.__cbOncePickerVisibleChange.length},keyBindings:null,set_keyBindings:function(e){return this.keyBindings==e?this.keyBindings:(null!=this.keyBindings&&this.keyBindings.destroy(),this.keyBindings=e,null!=this.keyBindings?(this.component("keyBindings",this.keyBindings,!0),this.keyBindings):(this.removeComponent("keyBindings"),null))},container:null,textView:null,textPrefixView:null,editText:null,colorPreview:null,pickerContainer:null,pickerView:null,bubbleTriangle:null,bubbleTopBorderLeft:null,bubbleTopBorderRight:null,updatingFromPicker:null,editingThisFrame:null,focus:function(){R2.prototype.focus.call(this),this.get_focused()||this.editText.focus()},didLostFocus:function(){R2.prototype.didLostFocus.call(this),""==this.textView.text.content?(this.setValue(this,16777215),this.updateFromValue()):bd.RE_HEX_COLOR.match(this.textView.text.content)||this.updateFromValue()},layout:function(){R2.prototype.layout.call(this)},layoutContainer:function(){},updatePickerVisibility:function(){if(null!=this.pickerView&&this.get_pickerVisible()&&Ol.get_shared().get_focusedField()!=this){for(var e=ke.app.screen.get_focusedVisual(),n=!1;null!=e;){if(e==this.pickerView){n=!0;break}e=e.parent}n||this.set_pickerVisible(!1)}},updatePickerPosition:function(){if(1!=(1&this.pickerContainer.flags)){var e=this.getScrollingLayout(),n=(this.colorPreview.visualToScreen(.5*this.colorPreview.get_width(),.5*this.colorPreview.get_height(),bd._point),bd._point.x),t=bd._point.y;if(W.get_context().view.screenToVisual(n,t,bd._point),n=bd._point.x,t=bd._point.y,null!=this.pickerView)if(null!=e)if(e.screenToVisual(0,0,bd._point),W.get_context().view.screenToVisual(bd._point.x,bd._point.y,bd._point),t+bd._point.y<0){var i=this.pickerContainer;if(i.clip!=e&&(i.clip=e,i.clipDirty=!0,null!=i.children))for(var l=0,s=i.children.length;l<s;){var r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(var h=0,a=u.children.length;h<a;){var o=h++;u.children[o].set_clipDirty(!0)}}}else{var i=this.pickerContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.pickerContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.pickerContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){var u,r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}n==this.pickerContainer.x&&t==this.pickerContainer.y||(this.pickerContainer.layoutDirty=!0),(i=this.pickerContainer).set_x(n),i.set_y(t)}},updateEditingThisFrame:function(){this.editingThisFrame=null!=this.editText&&this.editText.get_editing()},layoutPickerContainer:function(){var e,n,t;null!=this.pickerView&&(null==(e=!0)&&(e=!1),(t=this.pickerView).computedSize=t.persistedComputedSizeForContext(0,0,15),null==t.computedSize&&t.computeSize(0,0,15,!0),e&&null!=t.computedSize&&(e=t.computedSize.computedHeight,t.set_width(t.computedSize.computedWidth),t.set_height(e)),this.pickerView.visualToScreen(this.pickerView.get_width(),this.pickerView.get_height(),bd._point),W.get_context().view.screenToVisual(bd._point.x,bd._point.y,bd._point),this.pickerView.set_x(Math.max(Math.min(W.get_context().view.get_width()-this.pickerView.get_width()-9-this.pickerContainer.x,-.5*this.pickerView.get_width()),9-this.pickerContainer.x)),e=W.get_context().view.get_height()-this.pickerContainer.y-.5*this.colorPreview.get_height()-9-12,(t=this.bubbleTriangle).set_width(14),t.set_height(7),this.pickerView.get_height()<=e?(this.pickerView.set_y(.5*this.colorPreview.get_height()+12),t=this.bubbleTriangle,n=this.pickerView.y,t.set_x(0),t.set_y(n),this.bubbleTriangle.set_rotation(0),0!=(t=this.pickerView).borderTopSize&&(t.borderTopSize=0,t.updateBorder()),1!=(t=this.pickerView).borderBottomSize&&(t.borderBottomSize=1,t.updateBorder()),(t=this.bubbleTopBorderLeft).set_x(-1),t.set_y(-1),(t=this.bubbleTopBorderLeft).set_width(.5-this.pickerView.x-.5*this.bubbleTriangle.get_width()),t.set_height(1),(t=this.bubbleTopBorderRight).set_x(-this.pickerView.x+.5*this.bubbleTriangle.get_width()),t.set_y(-1)):(this.pickerView.set_y(-this.pickerView.get_height()-.5*this.colorPreview.get_height()-12),t=this.bubbleTriangle,n=this.pickerView.y+this.pickerView.get_height(),t.set_x(0),t.set_y(n),this.bubbleTriangle.set_rotation(180),1!=(t=this.pickerView).borderTopSize&&(t.borderTopSize=1,t.updateBorder()),0!=(t=this.pickerView).borderBottomSize&&(t.borderBottomSize=0,t.updateBorder()),t=this.bubbleTopBorderLeft,n=this.pickerView.get_height(),t.set_x(-1),t.set_y(n),(t=this.bubbleTopBorderLeft).set_width(.5-this.pickerView.x-.5*this.bubbleTriangle.get_width()),t.set_height(1),t=this.bubbleTopBorderRight,e=-this.pickerView.x+.5*this.bubbleTriangle.get_width(),n=this.pickerView.get_height(),t.set_x(e),t.set_y(n)),(t=this.bubbleTopBorderRight).set_width(1+this.pickerView.get_width()-.5*this.bubbleTriangle.get_width()+this.pickerView.x),t.set_height(1))},bindKeyBindings:function(){var n=this;this.set_keyBindings(new mt),this.keyBindings.bind([vt.CMD_OR_CTRL,vt.KEY(97)],function(){var e;n.get_focused()&&((e=n.textView.text.component("selectText")).set_selectionStart(0),e.set_selectionEnd(n.textView.text.content.length))})},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,R2.prototype.destroy.call(this),null!=this.pickerContainer&&(this.pickerContainer.destroy(),this.pickerContainer=null))},updateFromEditText:function(e){""!=e&&(z.startsWith(e,"#")&&(e=he.substr(e,1,null)),e=(e=8==(e=z.startsWith(e,"0x")?he.substr(e,2,null):e).length?he.substr(e,0,6):e).toUpperCase(),bd.RE_HEX_COLOR.match(e)&&this.setValue(this,M.fromString("0x"+e)),!bd.RE_HEX_COLOR_ANY_LENGTH.match(e)||6<e.length)&&this.updateFromValue()},handleStopEditText:function(){},updateFromValue:function(){var e=this.get_value(),n=(w.unobserve(),!1),n=((n=null==n?!0:n)?"0x":"")+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2);this.editText.updateText(n),this.textView.set_content(n),this.colorPreview.color=e,this.colorPreview.layoutDirty=!0,w.reobserve()},updateStyle:function(){var e,n,t=this.get_theme();null==t&&(t=W.get_context().get_theme()),null!=this.editText&&(this.editText.set_selectionColor(t.get_focusedFieldSelectionColor()),this.editText.set_textCursorColor(t.get_lightTextColor())),this.container.color=t.get_darkBackgroundColor(),this.textView.set_textColor(t.get_fieldTextColor()),this.textView.set_font(t.get_mediumFont()),this.textPrefixView.set_textColor(t.get_darkTextColor()),this.textPrefixView.set_font(t.get_mediumFont()),this.get_focused()||this.get_pickerVisible()?(1!=(e=this.container).borderSize&&(e.borderSize=1,e.updateBorder()),e=this.container,n=t.get_focusedFieldBorderColor(),e.borderColor!=n&&(e.borderColor=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),this.textView.set_textAlpha(1)):this.get_disabled()?(0!=(e=this.container).borderSize&&(e.borderSize=0,e.updateBorder()),this.textView.set_textAlpha(.5)):(1!=(e=this.container).borderSize&&(e.borderSize=1,e.updateBorder()),e=this.container,n=t.get_lightBorderColor(),e.borderColor!=n&&(e.borderColor=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),this.textView.set_textAlpha(1))},togglePickerVisible:function(){this.set_pickerVisible(!this.get_pickerVisible())},updatePickerContainer:function(){var _=this,e=this.get_pickerVisible(),n=this.get_value();w.unobserve(),e?(null==this.pickerView&&(this.pickerView=new bl(this),this.pickerView.autorun(function(){var e=_.get_theme();w.unobserve(),_.pickerView.set_theme(e)}),this.pickerView.set_depth(10),this.pickerView.onColorValueChange(this.pickerView,function(e,n){_.updatingFromPicker++,_.setValue(_,e),ke.app.onceUpdate(_,function(e){_.updatingFromPicker--})}),this.pickerContainer.add(this.pickerView),this.bubbleTopBorderLeft=new r,this.pickerView.add(this.bubbleTopBorderLeft),this.bubbleTopBorderRight=new r,this.pickerView.add(this.bubbleTopBorderRight),this.bubbleTriangle=new U2,(e=this.bubbleTriangle).set_anchorX(.5),e.set_anchorY(1),1.5!=(e=this.bubbleTriangle).borderSize&&(e.borderSize=1.5,e.contentDirty=!0,ke.app.visualsContentDirty=!0),this.bubbleTriangle.autorun(function(){var e,n,t,i,l=_.get_theme(),s=(l=null==l?W.get_context().get_theme():l).get_overlayBorderColor(),r=l.get_overlayBorderAlpha(),h=_.bubbleTriangle,a=l.get_overlayBackgroundColor(),h=(h.innerColor!=a&&(c=(o=h.colors[0])>>24&255,h.colors[0]=u=(u=(0|a)-16777216)&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24,c=(o=h.colors[1])>>24&255,h.colors[1]=u=(u=(0|a)-16777216)&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24,c=(o=h.colors[2])>>24&255,h.colors[2]=u=(u=(0|a)-16777216)&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24),_.bubbleTriangle),a=l.get_overlayBackgroundAlpha();if(h.innerAlpha!=a&&(c=e=Math.round(255*a),u=(0|(((0&65535|(255<(n=(o=h.colors[0])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[0]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[1])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[1]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[2])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[2]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24),(h=_.bubbleTriangle).borderColor!=s){h.borderColor=s;{var o=h.colors[3],c=o>>24&255,u=(null==c&&(c=255),(0|s)-16777216);h.colors[3]=u=u&16777215|(255<c?255:c<0?0:c)<<24;var c=(o=h.colors[4])>>24&255,u=(0|s)-16777216}h.colors[4]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[5])>>24&255,u=(0|s)-16777216;h.colors[5]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[6])>>24&255,u=(0|s)-16777216;h.colors[6]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[7])>>24&255,u=(0|s)-16777216;h.colors[7]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[8])>>24&255,u=(0|s)-16777216;h.colors[8]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[9])>>24&255,u=(0|s)-16777216;h.colors[9]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[10])>>24&255,u=(0|s)-16777216;h.colors[10]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[11])>>24&255,u=(0|s)-16777216;h.colors[11]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[12])>>24&255,u=(0|s)-16777216;h.colors[12]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[13])>>24&255,u=(0|s)-16777216;h.colors[13]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24;var c=(o=h.colors[14])>>24&255,u=(0|s)-16777216;h.colors[14]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24}(h=_.bubbleTriangle).borderAlpha!=r&&(h.borderAlpha=r,c=e=Math.round(255*r),u=(0|(((0&65535|(255<(n=(o=h.colors[3])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[3]=u=u&16777215|(255<(c=null==c?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[4])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[4]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[5])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[5]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[6])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[6]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[7])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[7]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[8])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[8]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[9])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[9]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[10])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[10]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[11])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[11]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[12])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[12]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[13])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[13]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24,u=(0|(((0&65535|(255<(n=(o=h.colors[14])>>16&255)?255:n<0?0:n)<<16)&16711935|(255<(t=o>>8&255)?255:t<0?0:t)<<8)&16776960|(255<(i=255&o)?255:i<0?0:i)))-16777216,h.colors[14]=u=u&16777215|(255<(c=null==(c=e)?255:c)?255:c<0?0:c)<<24),_.bubbleTopBorderLeft.color=s,_.bubbleTopBorderLeft.set_alpha(r),_.bubbleTopBorderRight.color=s,_.bubbleTopBorderRight.set_alpha(r)}),this.pickerContainer.add(this.bubbleTriangle),this.pickerContainer.set_active(!0),this.updatePickerPosition()),0==this.updatingFromPicker&&this.pickerView.setColorFromRGB(n>>16&255,n>>8&255,255&n)):null!=this.pickerView&&(this.pickerView.destroy(),this.pickerView=null,this.bubbleTriangle.destroy(),this.bubbleTriangle=null,this.pickerContainer.set_active(!1)),w.reobserve()},hitsSelfOrDerived:function(e,n){return!!this._hits(e,n,!1)||!(!this.get_pickerVisible()||null==this.pickerView)&&this.pickerView._hits(e,n,!1)},usesScanCode:function(e){return!!R2.prototype.usesScanCode.call(this,e)||!!(this.editingThisFrame||null!=this.editText&&this.editText.get_editing())||!(!this.get_pickerVisible()||null==this.pickerView||41!=e&&40!=e)},usesKeyCode:function(e){return!!R2.prototype.usesKeyCode.call(this,e)||!!(this.editingThisFrame||null!=this.editText&&this.editText.get_editing())||!(!this.get_pickerVisible()||null==this.pickerView||27!=e&&13!=e)},unbindEvents:function(){R2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offValueChange(),this.offDisabledChange(),this.offPickerVisibleChange()},__class__:bd,__properties__:$extend(R2.prototype.__properties__,{set_keyBindings:"set_keyBindings",set_pickerVisible:"set_pickerVisible",get_pickerVisible:"get_pickerVisible",set_unobservedDisabled:"set_unobservedDisabled",set_disabled:"set_disabled",get_disabled:"get_disabled",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.ColorPickerHSBGradientView"]=cd).__name__="elements.ColorPickerHSBGradientView",cd.__super__=g0,cd.prototype=$extend(g0.prototype,{__cbOnUpdateColorFromPointer:null,__cbOnceUpdateColorFromPointer:null,__cbOnOwnerUnbindUpdateColorFromPointer:null,__cbOnceOwnerUnbindUpdateColorFromPointer:null,emitUpdateColorFromPointer:function(){var e=0;if(null!=this.__cbOnUpdateColorFromPointer&&(e+=this.__cbOnUpdateColorFromPointer.length),null!=this.__cbOnceUpdateColorFromPointer&&(e+=this.__cbOnceUpdateColorFromPointer.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnUpdateColorFromPointer)for(var l=0,s=this.__cbOnUpdateColorFromPointer.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnUpdateColorFromPointer[r],++i):--e}if(null!=this.__cbOnceUpdateColorFromPointer){for(var h=null,a=null,l=0,s=this.__cbOnceUpdateColorFromPointer.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceUpdateColorFromPointer[r],this.__cbOnceUpdateColorFromPointer[r]=null,o=this.__cbOnceOwnerUnbindUpdateColorFromPointer[r],(this.__cbOnceOwnerUnbindUpdateColorFromPointer[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindUpdateColorFromPointer[r]),a.push(this.__cbOnceUpdateColorFromPointer[r]))}this.__cbOnceOwnerUnbindUpdateColorFromPointer=h,this.__cbOnceUpdateColorFromPointer=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onUpdateColorFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateColorFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateColorFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateColorFromPointer&&(this.__cbOnOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnOwnerUnbindUpdateColorFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateColorFromPointer&&(this.__cbOnOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnOwnerUnbindUpdateColorFromPointer.push(null);null==this.__cbOnUpdateColorFromPointer&&(this.__cbOnUpdateColorFromPointer=[]),this.__cbOnUpdateColorFromPointer.push(t)},onceUpdateColorFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateColorFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateColorFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateColorFromPointer&&(this.__cbOnceOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnceOwnerUnbindUpdateColorFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateColorFromPointer&&(this.__cbOnceOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnceOwnerUnbindUpdateColorFromPointer.push(null);null==this.__cbOnceUpdateColorFromPointer&&(this.__cbOnceUpdateColorFromPointer=[]),this.__cbOnceUpdateColorFromPointer.push(t)},offUpdateColorFromPointer:function(e){if(null!=e){var n;null!=this.__cbOnUpdateColorFromPointer&&-1!=(n=this.__cbOnUpdateColorFromPointer.indexOf(e))&&(this.__cbOnUpdateColorFromPointer.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdateColorFromPointer[n])&&s(),this.__cbOnOwnerUnbindUpdateColorFromPointer.splice(n,1)),null!=this.__cbOnceUpdateColorFromPointer&&-1!=(n=this.__cbOnceUpdateColorFromPointer.indexOf(e))&&(this.__cbOnceUpdateColorFromPointer.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdateColorFromPointer[n])&&s(),this.__cbOnceOwnerUnbindUpdateColorFromPointer.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateColorFromPointer){for(var t=0,i=this.__cbOnOwnerUnbindUpdateColorFromPointer.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdateColorFromPointer[l])&&s()}this.__cbOnOwnerUnbindUpdateColorFromPointer=null}if(null!=this.__cbOnceOwnerUnbindUpdateColorFromPointer){for(t=0,i=this.__cbOnceOwnerUnbindUpdateColorFromPointer.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdateColorFromPointer[l])&&s()}this.__cbOnceOwnerUnbindUpdateColorFromPointer=null}this.__cbOnUpdateColorFromPointer=null,this.__cbOnceUpdateColorFromPointer=null}},listensUpdateColorFromPointer:function(){return null!=this.__cbOnUpdateColorFromPointer&&0<this.__cbOnUpdateColorFromPointer.length||null!=this.__cbOnceUpdateColorFromPointer&&0<this.__cbOnceUpdateColorFromPointer.length},colorValue:null,set_colorValue:function(e){return this.colorValue!=e&&(this.colorValue=e,this.updateTintColor(),this.updatePointerFromColor()),e},movingSpectrum:null,blackGradient:null,tintGradient:null,colorPointer:null,targetPointerColor:null,pointerColorTween:null,movingPointer:null,savedPointerX:null,savedPointerY:null,filter:null,hue:null,updateTintColor:function(e){null!=e&&(this.hue=e);var n=0,t=1-Math.abs(0),i=.5-t/2,e=this.hue,l=t,t=(e%=360)/60,s=l*(1-Math.abs(t%2-1))+i;switch(l+=i,0|t){case 0:n=n&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16;var r=Math.round(255*s),r=(n=n&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*i)),n=n&16776960|(255<r?255:r<0?0:r);break;case 1:r=(n=n&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*l)),r=(n=n&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*i));n=n&16776960|(255<r?255:r<0?0:r);break;case 2:r=(n=n&65535|(255<(r=Math.round(255*i))?255:r<0?0:r)<<16,Math.round(255*l)),r=(n=n&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));n=n&16776960|(255<r?255:r<0?0:r);break;case 3:r=(n=n&65535|(255<(r=Math.round(255*i))?255:r<0?0:r)<<16,Math.round(255*s)),r=(n=n&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*l));n=n&16776960|(255<r?255:r<0?0:r);break;case 4:r=(n=n&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,Math.round(255*i)),r=(n=n&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*l));n=n&16776960|(255<r?255:r<0?0:r);break;case 5:r=(n=n&65535|(255<(r=Math.round(255*l))?255:r<0?0:r)<<16,Math.round(255*i)),r=(n=n&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*s));n=n&16776960|(255<r?255:r<0?0:r)}e=n,r=(0|e)-16777216,this.tintGradient.colors[1]=r=r&16777215|-16777216,r=(0|e)-16777216;this.tintGradient.colors[2]=r=r&16777215|-16777216},savePointerPosition:function(){this.savedPointerX=this.colorPointer.x,this.savedPointerY=this.colorPointer.y},restorePointerPosition:function(){this.colorPointer.set_x(this.savedPointerX),this.colorPointer.set_y(this.savedPointerY)},getBrightnessFromPointer:function(){var e=1-this.colorPointer.y/this.get_height();return e=1<(e=e<0?0:e)?1:e},getSaturationFromPointer:function(){var e=this.colorPointer.x/this.get_width();return e=1<(e=e<0?0:e)?1:e},updatePointerFromColor:function(){var r,h=this,e=this.colorValue,n=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),e=this.colorValue,t=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=this.colorPointer,t=this.get_width()*t,n=this.get_height()*(1-n),t=(i.set_x(t),i.set_y(n),16777215),e=this.colorValue,n=cd._tuple;null==n&&(n=[0,0,0]),M._hsluvTuple[0]=(e>>16&255)/255,M._hsluvTuple[1]=(e>>8&255)/255,M._hsluvTuple[2]=(255&e)/255,g.rgbToHsluv(M._hsluvTuple,n),n[1]*=.01,n[2]*=.01,.5<cd._tuple[2]&&(t=0),this.movingPointer||this.movingSpectrum?this.targetPointerColor!=t&&(this.targetPointerColor=t,null!=this.pointerColorTween&&(this.pointerColorTween.destroy(),this.pointerColorTween=null),r=this.colorPointer.borderColor,this.pointerColorTween=this.tween(null,.4,0,1,function(e,n){var t=h.colorPointer,i=h.targetPointerColor,l=((i>>16&255)-(r>>16&255))*(e=null==e?.5:e)+(r>>16&255)|0,s=((i>>8&255)-(r>>8&255))*e+(r>>8&255)|0,i=((255&i)-(255&r))*e+(255&r)|0,e=0;e=16776960&(e=16711935&(e=65535&e|(255<l?255:l<0?0:l)<<16)|(255<s?255:s<0?0:s)<<8)|(255<i?255:i<0?0:i);t.borderColor!=e&&(t.borderColor=e,t.autoComputeColors)&&t.computeColors()})):(this.targetPointerColor=t,i=this.colorPointer,e=this.targetPointerColor,i.borderColor!=e&&(i.borderColor=e,i.autoComputeColors)&&i.computeColors())},layout:function(){var e=this.filter,n=this.get_width(),t=this.get_height(),e=(e.set_width(n),e.set_height(t),this.blackGradient),n=this.get_width(),t=this.get_height(),e=(e.set_scaleX(n),e.set_scaleY(t),this.tintGradient),n=this.get_width(),t=this.get_height();e.set_scaleX(n),e.set_scaleY(t),this.updatePointerFromColor()},handlePointerDown:function(e){ke.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.updateColorFromTouchInfo(e),this.movingPointer=!0},handlePointerMove:function(e){this.updateColorFromTouchInfo(e)},handlePointerUp:function(e){ke.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.updateColorFromTouchInfo(e),this.movingPointer=!1},updateColorFromTouchInfo:function(e){this.screenToVisual(e.x,e.y,cd._point);var e=1-cd._point.y/this.get_height(),n=(1<(e=e<0?0:e)&&(e=1),cd._point.x/this.get_width()),n=(this.set_colorValue(M.fromHSB(this.hue,n=1<(n=n<0?0:n)?1:n,e)),this.updatePointerFromColor(),this.emitUpdateColorFromPointer(),this.colorPointer),e=Math.max(0,Math.min(this.get_width(),cd._point.x)),t=Math.max(0,Math.min(this.get_height(),cd._point.y));n.set_x(e),n.set_y(t)},unbindEvents:function(){g0.prototype.unbindEvents.call(this),this.offUpdateColorFromPointer()},__class__:cd,__properties__:$extend(g0.prototype.__properties__,{set_colorValue:"set_colorValue"})}),(E["elements.ColorPickerHSBSpectrumView"]=dd).__name__="elements.ColorPickerHSBSpectrumView",dd.__interfaces__=[u],dd.__super__=g0,dd.prototype=$extend(g0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnUpdateHueFromPointer:null,__cbOnceUpdateHueFromPointer:null,__cbOnOwnerUnbindUpdateHueFromPointer:null,__cbOnceOwnerUnbindUpdateHueFromPointer:null,emitUpdateHueFromPointer:function(){var e=0;if(null!=this.__cbOnUpdateHueFromPointer&&(e+=this.__cbOnUpdateHueFromPointer.length),null!=this.__cbOnceUpdateHueFromPointer&&(e+=this.__cbOnceUpdateHueFromPointer.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnUpdateHueFromPointer)for(var l=0,s=this.__cbOnUpdateHueFromPointer.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnUpdateHueFromPointer[r],++i):--e}if(null!=this.__cbOnceUpdateHueFromPointer){for(var h=null,a=null,l=0,s=this.__cbOnceUpdateHueFromPointer.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceUpdateHueFromPointer[r],this.__cbOnceUpdateHueFromPointer[r]=null,o=this.__cbOnceOwnerUnbindUpdateHueFromPointer[r],(this.__cbOnceOwnerUnbindUpdateHueFromPointer[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindUpdateHueFromPointer[r]),a.push(this.__cbOnceUpdateHueFromPointer[r]))}this.__cbOnceOwnerUnbindUpdateHueFromPointer=h,this.__cbOnceUpdateHueFromPointer=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onUpdateHueFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateHueFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateHueFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateHueFromPointer&&(this.__cbOnOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnOwnerUnbindUpdateHueFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateHueFromPointer&&(this.__cbOnOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnOwnerUnbindUpdateHueFromPointer.push(null);null==this.__cbOnUpdateHueFromPointer&&(this.__cbOnUpdateHueFromPointer=[]),this.__cbOnUpdateHueFromPointer.push(t)},onceUpdateHueFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateHueFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateHueFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateHueFromPointer&&(this.__cbOnceOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnceOwnerUnbindUpdateHueFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateHueFromPointer&&(this.__cbOnceOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnceOwnerUnbindUpdateHueFromPointer.push(null);null==this.__cbOnceUpdateHueFromPointer&&(this.__cbOnceUpdateHueFromPointer=[]),this.__cbOnceUpdateHueFromPointer.push(t)},offUpdateHueFromPointer:function(e){if(null!=e){var n;null!=this.__cbOnUpdateHueFromPointer&&-1!=(n=this.__cbOnUpdateHueFromPointer.indexOf(e))&&(this.__cbOnUpdateHueFromPointer.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdateHueFromPointer[n])&&s(),this.__cbOnOwnerUnbindUpdateHueFromPointer.splice(n,1)),null!=this.__cbOnceUpdateHueFromPointer&&-1!=(n=this.__cbOnceUpdateHueFromPointer.indexOf(e))&&(this.__cbOnceUpdateHueFromPointer.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdateHueFromPointer[n])&&s(),this.__cbOnceOwnerUnbindUpdateHueFromPointer.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateHueFromPointer){for(var t=0,i=this.__cbOnOwnerUnbindUpdateHueFromPointer.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdateHueFromPointer[l])&&s()}this.__cbOnOwnerUnbindUpdateHueFromPointer=null}if(null!=this.__cbOnceOwnerUnbindUpdateHueFromPointer){for(t=0,i=this.__cbOnceOwnerUnbindUpdateHueFromPointer.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdateHueFromPointer[l])&&s()}this.__cbOnceOwnerUnbindUpdateHueFromPointer=null}this.__cbOnUpdateHueFromPointer=null,this.__cbOnceUpdateHueFromPointer=null}},listensUpdateHueFromPointer:function(){return null!=this.__cbOnUpdateHueFromPointer&&0<this.__cbOnUpdateHueFromPointer.length||null!=this.__cbOnceUpdateHueFromPointer&&0<this.__cbOnceUpdateHueFromPointer.length},movingPointerAutoruns:null,get_movingPointer:function(){var e,n,t=this.unobservedMovingPointer;return null!=w.current&&(e=w.current,null!=(n=this.movingPointerAutoruns)||(n=w.getAutorunArray(),null!=(this.movingPointerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_movingPointer:function(e){var n=this.unobservedMovingPointer;return n!=(this.unobservedMovingPointer=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMovingPointerChange(e,n),null!=(n=this.movingPointerAutoruns))&&(this.movingPointerAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateMovingPointer:function(){var e=this.unobservedMovingPointer,e=(this.emitMovingPointerChange(e,e),this.movingPointerAutoruns);null!=e&&(this.movingPointerAutoruns=null,w.invalidateAutorunArray(e))},unobservedMovingPointer:null,__cbOnMovingPointerChange:null,__cbOnceMovingPointerChange:null,__cbOnOwnerUnbindMovingPointerChange:null,__cbOnceOwnerUnbindMovingPointerChange:null,emitMovingPointerChange:function(e,n){var t=0;if(null!=this.__cbOnMovingPointerChange&&(t+=this.__cbOnMovingPointerChange.length),null!=this.__cbOnceMovingPointerChange&&(t+=this.__cbOnceMovingPointerChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMovingPointerChange)for(var r=0,h=this.__cbOnMovingPointerChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMovingPointerChange[a],++s):--t}if(null!=this.__cbOnceMovingPointerChange){for(var o=null,c=null,r=0,h=this.__cbOnceMovingPointerChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMovingPointerChange[a],this.__cbOnceMovingPointerChange[a]=null,u=this.__cbOnceOwnerUnbindMovingPointerChange[a],(this.__cbOnceOwnerUnbindMovingPointerChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMovingPointerChange[a]),c.push(this.__cbOnceMovingPointerChange[a]))}this.__cbOnceOwnerUnbindMovingPointerChange=o,this.__cbOnceMovingPointerChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMovingPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event movingPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMovingPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMovingPointerChange&&(this.__cbOnOwnerUnbindMovingPointerChange=[]),this.__cbOnOwnerUnbindMovingPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMovingPointerChange&&(this.__cbOnOwnerUnbindMovingPointerChange=[]),this.__cbOnOwnerUnbindMovingPointerChange.push(null);null==this.__cbOnMovingPointerChange&&(this.__cbOnMovingPointerChange=[]),this.__cbOnMovingPointerChange.push(t)},onceMovingPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event movingPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMovingPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMovingPointerChange&&(this.__cbOnceOwnerUnbindMovingPointerChange=[]),this.__cbOnceOwnerUnbindMovingPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMovingPointerChange&&(this.__cbOnceOwnerUnbindMovingPointerChange=[]),this.__cbOnceOwnerUnbindMovingPointerChange.push(null);null==this.__cbOnceMovingPointerChange&&(this.__cbOnceMovingPointerChange=[]),this.__cbOnceMovingPointerChange.push(t)},offMovingPointerChange:function(e){if(null!=e){var n;null!=this.__cbOnMovingPointerChange&&-1!=(n=this.__cbOnMovingPointerChange.indexOf(e))&&(this.__cbOnMovingPointerChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMovingPointerChange[n])&&s(),this.__cbOnOwnerUnbindMovingPointerChange.splice(n,1)),null!=this.__cbOnceMovingPointerChange&&-1!=(n=this.__cbOnceMovingPointerChange.indexOf(e))&&(this.__cbOnceMovingPointerChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMovingPointerChange[n])&&s(),this.__cbOnceOwnerUnbindMovingPointerChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMovingPointerChange){for(var t=0,i=this.__cbOnOwnerUnbindMovingPointerChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMovingPointerChange[l])&&s()}this.__cbOnOwnerUnbindMovingPointerChange=null}if(null!=this.__cbOnceOwnerUnbindMovingPointerChange){for(t=0,i=this.__cbOnceOwnerUnbindMovingPointerChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMovingPointerChange[l])&&s()}this.__cbOnceOwnerUnbindMovingPointerChange=null}this.__cbOnMovingPointerChange=null,this.__cbOnceMovingPointerChange=null}},listensMovingPointerChange:function(){return null!=this.__cbOnMovingPointerChange&&0<this.__cbOnMovingPointerChange.length||null!=this.__cbOnceMovingPointerChange&&0<this.__cbOnceMovingPointerChange.length},spectrum:null,huePointer:null,hue:null,set_hue:function(e){return this.hue!=e&&(this.hue=e,this.updatePointerFromHue()),e},initSpectrum:function(){this.spectrum=new Aa,this.spectrum.colorMapping=2,this.spectrum.set_depth(1),this.add(this.spectrum),this.spectrum.vertices=[0,0,1,0];for(var e=this.spectrum.vertices,n=this.spectrum.indices,t=this.spectrum.colors,i=this.colorWithHue(0),l=(t.push(i),t.push(i),0),s=dd.PRECISION;l<s;){var r=l++,i=(e.push(0),e.push(1+r),e.push(1),e.push(1+r),this.colorWithHue(360-360*(1+r)/dd.PRECISION));t.push(i),t.push(i),n.push(2*r),n.push(2*r+1),n.push(2*r+2),n.push(2*r+1),n.push(2*r+2),n.push(2*r+3)}},updatePointerFromHue:function(){var e=this.huePointer,n=.5*this.get_width(),t=this.get_height()*(1-this.hue/360);e.set_x(n),e.set_y(t)},layout:function(){var e=this.spectrum,n=this.get_width(),t=this.get_height()/dd.PRECISION;e.set_scaleX(n),e.set_scaleY(t),(e=this.huePointer).set_width(this.get_width()),e.set_height(0),this.updatePointerFromHue()},colorWithHue:function(e){e=(0|M.fromHSB(e,1,1))-16777216;return e&16777215|-16777216},handlePointerDown:function(e){ke.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.updateHueFromTouchInfo(e)},handlePointerMove:function(e){this.set_movingPointer(!0),this.updateHueFromTouchInfo(e)},handlePointerUp:function(e){ke.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.set_movingPointer(!1),this.updateHueFromTouchInfo(e)},updateHueFromTouchInfo:function(e){this.screenToVisual(e.x,e.y,dd._point),this.set_hue(Math.round(360*(1-Math.max(0,Math.min(dd._point.y/this.get_height(),1))))),this.updatePointerFromHue(),this.emitUpdateHueFromPointer()},unbindEvents:function(){g0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offMovingPointerChange(),this.offUpdateHueFromPointer()},__class__:dd,__properties__:$extend(g0.prototype.__properties__,{set_hue:"set_hue",set_movingPointer:"set_movingPointer",get_movingPointer:"get_movingPointer"})}),(E["elements.ColorPickerHSLuvGradientView"]=ed).__name__="elements.ColorPickerHSLuvGradientView",ed.__super__=g0,ed.prototype=$extend(g0.prototype,{__cbOnUpdateColorFromPointer:null,__cbOnceUpdateColorFromPointer:null,__cbOnOwnerUnbindUpdateColorFromPointer:null,__cbOnceOwnerUnbindUpdateColorFromPointer:null,emitUpdateColorFromPointer:function(){var e=0;if(null!=this.__cbOnUpdateColorFromPointer&&(e+=this.__cbOnUpdateColorFromPointer.length),null!=this.__cbOnceUpdateColorFromPointer&&(e+=this.__cbOnceUpdateColorFromPointer.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnUpdateColorFromPointer)for(var l=0,s=this.__cbOnUpdateColorFromPointer.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnUpdateColorFromPointer[r],++i):--e}if(null!=this.__cbOnceUpdateColorFromPointer){for(var h=null,a=null,l=0,s=this.__cbOnceUpdateColorFromPointer.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceUpdateColorFromPointer[r],this.__cbOnceUpdateColorFromPointer[r]=null,o=this.__cbOnceOwnerUnbindUpdateColorFromPointer[r],(this.__cbOnceOwnerUnbindUpdateColorFromPointer[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindUpdateColorFromPointer[r]),a.push(this.__cbOnceUpdateColorFromPointer[r]))}this.__cbOnceOwnerUnbindUpdateColorFromPointer=h,this.__cbOnceUpdateColorFromPointer=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onUpdateColorFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateColorFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateColorFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateColorFromPointer&&(this.__cbOnOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnOwnerUnbindUpdateColorFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateColorFromPointer&&(this.__cbOnOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnOwnerUnbindUpdateColorFromPointer.push(null);null==this.__cbOnUpdateColorFromPointer&&(this.__cbOnUpdateColorFromPointer=[]),this.__cbOnUpdateColorFromPointer.push(t)},onceUpdateColorFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateColorFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateColorFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateColorFromPointer&&(this.__cbOnceOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnceOwnerUnbindUpdateColorFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateColorFromPointer&&(this.__cbOnceOwnerUnbindUpdateColorFromPointer=[]),this.__cbOnceOwnerUnbindUpdateColorFromPointer.push(null);null==this.__cbOnceUpdateColorFromPointer&&(this.__cbOnceUpdateColorFromPointer=[]),this.__cbOnceUpdateColorFromPointer.push(t)},offUpdateColorFromPointer:function(e){if(null!=e){var n;null!=this.__cbOnUpdateColorFromPointer&&-1!=(n=this.__cbOnUpdateColorFromPointer.indexOf(e))&&(this.__cbOnUpdateColorFromPointer.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdateColorFromPointer[n])&&s(),this.__cbOnOwnerUnbindUpdateColorFromPointer.splice(n,1)),null!=this.__cbOnceUpdateColorFromPointer&&-1!=(n=this.__cbOnceUpdateColorFromPointer.indexOf(e))&&(this.__cbOnceUpdateColorFromPointer.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdateColorFromPointer[n])&&s(),this.__cbOnceOwnerUnbindUpdateColorFromPointer.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateColorFromPointer){for(var t=0,i=this.__cbOnOwnerUnbindUpdateColorFromPointer.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdateColorFromPointer[l])&&s()}this.__cbOnOwnerUnbindUpdateColorFromPointer=null}if(null!=this.__cbOnceOwnerUnbindUpdateColorFromPointer){for(t=0,i=this.__cbOnceOwnerUnbindUpdateColorFromPointer.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdateColorFromPointer[l])&&s()}this.__cbOnceOwnerUnbindUpdateColorFromPointer=null}this.__cbOnUpdateColorFromPointer=null,this.__cbOnceUpdateColorFromPointer=null}},listensUpdateColorFromPointer:function(){return null!=this.__cbOnUpdateColorFromPointer&&0<this.__cbOnUpdateColorFromPointer.length||null!=this.__cbOnceUpdateColorFromPointer&&0<this.__cbOnceUpdateColorFromPointer.length},colorValue:null,set_colorValue:function(e){return this.colorValue!=e&&(this.colorValue=e,this.updateGradientColors(),this.updatePointerFromColor()),e},movingSpectrum:null,gradient:null,colorPointer:null,targetPointerColor:null,pointerColorTween:null,movingPointer:null,savedPointerX:null,savedPointerY:null,filter:null,lightness:null,updateGradientColors:function(e){null!=e&&(this.lightness=e);for(var n=this.gradient.colors,t=0,i=0,l=ed.PRECISION_X;i<l;)for(var s=i++,r=(n[t]=this.colorWithHueAndSaturation(360*s/ed.PRECISION_X,1),n[++t]=this.colorWithHueAndSaturation(360*(1+s)/ed.PRECISION_X,1),++t,0),h=ed.PRECISION_Y;r<h;){var a=r++;n[t]=this.colorWithHueAndSaturation(360*s/ed.PRECISION_X,1-(1+a)/ed.PRECISION_Y),n[++t]=this.colorWithHueAndSaturation(360*(1+s)/ed.PRECISION_X,1-(1+a)/ed.PRECISION_Y),++t}},savePointerPosition:function(){this.savedPointerX=this.colorPointer.x,this.savedPointerY=this.colorPointer.y},restorePointerPosition:function(){this.colorPointer.set_x(this.savedPointerX),this.colorPointer.set_y(this.savedPointerY)},getSaturationFromPointer:function(){var e=1-this.colorPointer.y/this.get_height();return e=1<(e=e<0?0:e)?1:e},getHueFromPointer:function(){var e=this.colorPointer.x/this.get_width();return 1<(e=e<0?0:e)&&(e=1),e*=360},colorWithHueAndSaturation:function(e,n){var t=this.lightness,i=0;if(M._hsluvTuple[0]=e,M._hsluvTuple[1]=100*n,M._hsluvTuple[2]=100*t,.001<t){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult);var l=M._hsluvResult[0];l<0&&(l=0);i=i&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=M._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,(l=M._hsluvResult[2])<0&&(l=0),Math.round(255*l)),i=i&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*t-1))*n,r=t-l/2,n=e,h=l,t=(n%=360)/60,a=h*(1-Math.abs(t%2-1))+r;switch(h+=r,0|t){case 0:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 1:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 2:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s);break;case 3:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 4:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 5:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s)}}return s=(s=(0|i)-16777216)&16777215|-16777216},updatePointerFromColor:function(){var r,h=this,e=this.colorValue,n=ed._tuple,e=(null==n&&(n=[0,0,0]),M._hsluvTuple[0]=(e>>16&255)/255,M._hsluvTuple[1]=(e>>8&255)/255,M._hsluvTuple[2]=(255&e)/255,g.rgbToHsluv(M._hsluvTuple,n),n[1]*=.01,n[2]*=.01,ed._tuple[0]/360),n=ed._tuple[1],t=this.colorPointer,e=this.get_width()*e,n=this.get_height()*(1-n),e=(t.set_x(e),t.set_y(n),16777215);.5<this.lightness&&(e=0),this.targetPointerColor=e,this.movingSpectrum?this.targetPointerColor!=e&&(this.targetPointerColor=e,null!=this.pointerColorTween&&(this.pointerColorTween.destroy(),this.pointerColorTween=null),r=this.colorPointer.borderColor,this.pointerColorTween=this.tween(null,.4,0,1,function(e,n){var t=h.colorPointer,i=h.targetPointerColor,l=((i>>16&255)-(r>>16&255))*(e=null==e?.5:e)+(r>>16&255)|0,s=((i>>8&255)-(r>>8&255))*e+(r>>8&255)|0,i=((255&i)-(255&r))*e+(255&r)|0,e=0;e=16776960&(e=16711935&(e=65535&e|(255<l?255:l<0?0:l)<<16)|(255<s?255:s<0?0:s)<<8)|(255<i?255:i<0?0:i);t.borderColor!=e&&(t.borderColor=e,t.autoComputeColors)&&t.computeColors()})):(this.targetPointerColor=e,t=this.colorPointer,n=this.targetPointerColor,t.borderColor!=n&&(t.borderColor=n,t.autoComputeColors)&&t.computeColors())},layout:function(){var e=this.filter,n=this.get_width(),t=this.get_height(),e=(e.set_width(n),e.set_height(t),this.gradient),n=this.get_width()/ed.PRECISION_X,t=this.get_height()/ed.PRECISION_Y;e.set_scaleX(n),e.set_scaleY(t),this.updatePointerFromColor()},handlePointerDown:function(e){ke.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.updateColorFromTouchInfo(e),this.movingPointer=!0},handlePointerMove:function(e){this.updateColorFromTouchInfo(e)},handlePointerUp:function(e){ke.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.updateColorFromTouchInfo(e),this.movingPointer=!1},updateColorFromTouchInfo:function(e){this.screenToVisual(e.x,e.y,ed._point);var e=1-ed._point.y/this.get_height(),n=(1<(e=e<0?0:e)&&(e=1),ed._point.x/this.get_width()),t=(1<(n=n<0?0:n)&&(n=1),this.lightness),i=0;if(M._hsluvTuple[0]=n*=360,M._hsluvTuple[1]=100*e,M._hsluvTuple[2]=100*t,.001<t){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult);var l=M._hsluvResult[0];l<0&&(l=0);i=i&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=M._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,(l=M._hsluvResult[2])<0&&(l=0),Math.round(255*l)),i=i&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*t-1))*e,r=t-l/2,e=n,h=l,t=(e%=360)/60,a=h*(1-Math.abs(t%2-1))+r;switch(h+=r,0|t){case 0:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 1:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 2:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s);break;case 3:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 4:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 5:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s)}}this.set_colorValue(i);n=this.colorPointer,l=Math.max(0,Math.min(this.get_width(),ed._point.x)),e=Math.max(0,Math.min(this.get_height(),ed._point.y));n.set_x(l),n.set_y(e),this.emitUpdateColorFromPointer()},unbindEvents:function(){g0.prototype.unbindEvents.call(this),this.offUpdateColorFromPointer()},__class__:ed,__properties__:$extend(g0.prototype.__properties__,{set_colorValue:"set_colorValue"})}),(E["elements.ColorPickerHSLuvSpectrumView"]=fd).__name__="elements.ColorPickerHSLuvSpectrumView",fd.__interfaces__=[u],fd.__super__=g0,fd.prototype=$extend(g0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnUpdateHueFromPointer:null,__cbOnceUpdateHueFromPointer:null,__cbOnOwnerUnbindUpdateHueFromPointer:null,__cbOnceOwnerUnbindUpdateHueFromPointer:null,emitUpdateHueFromPointer:function(){var e=0;if(null!=this.__cbOnUpdateHueFromPointer&&(e+=this.__cbOnUpdateHueFromPointer.length),null!=this.__cbOnceUpdateHueFromPointer&&(e+=this.__cbOnceUpdateHueFromPointer.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnUpdateHueFromPointer)for(var l=0,s=this.__cbOnUpdateHueFromPointer.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnUpdateHueFromPointer[r],++i):--e}if(null!=this.__cbOnceUpdateHueFromPointer){for(var h=null,a=null,l=0,s=this.__cbOnceUpdateHueFromPointer.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceUpdateHueFromPointer[r],this.__cbOnceUpdateHueFromPointer[r]=null,o=this.__cbOnceOwnerUnbindUpdateHueFromPointer[r],(this.__cbOnceOwnerUnbindUpdateHueFromPointer[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindUpdateHueFromPointer[r]),a.push(this.__cbOnceUpdateHueFromPointer[r]))}this.__cbOnceOwnerUnbindUpdateHueFromPointer=h,this.__cbOnceUpdateHueFromPointer=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onUpdateHueFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateHueFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateHueFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUpdateHueFromPointer&&(this.__cbOnOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnOwnerUnbindUpdateHueFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUpdateHueFromPointer&&(this.__cbOnOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnOwnerUnbindUpdateHueFromPointer.push(null);null==this.__cbOnUpdateHueFromPointer&&(this.__cbOnUpdateHueFromPointer=[]),this.__cbOnUpdateHueFromPointer.push(t)},onceUpdateHueFromPointer:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event updateHueFromPointer because owner is destroyed!");var l=function(e){null!=t&&(i.offUpdateHueFromPointer(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUpdateHueFromPointer&&(this.__cbOnceOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnceOwnerUnbindUpdateHueFromPointer.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUpdateHueFromPointer&&(this.__cbOnceOwnerUnbindUpdateHueFromPointer=[]),this.__cbOnceOwnerUnbindUpdateHueFromPointer.push(null);null==this.__cbOnceUpdateHueFromPointer&&(this.__cbOnceUpdateHueFromPointer=[]),this.__cbOnceUpdateHueFromPointer.push(t)},offUpdateHueFromPointer:function(e){if(null!=e){var n;null!=this.__cbOnUpdateHueFromPointer&&-1!=(n=this.__cbOnUpdateHueFromPointer.indexOf(e))&&(this.__cbOnUpdateHueFromPointer.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUpdateHueFromPointer[n])&&s(),this.__cbOnOwnerUnbindUpdateHueFromPointer.splice(n,1)),null!=this.__cbOnceUpdateHueFromPointer&&-1!=(n=this.__cbOnceUpdateHueFromPointer.indexOf(e))&&(this.__cbOnceUpdateHueFromPointer.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUpdateHueFromPointer[n])&&s(),this.__cbOnceOwnerUnbindUpdateHueFromPointer.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdateHueFromPointer){for(var t=0,i=this.__cbOnOwnerUnbindUpdateHueFromPointer.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUpdateHueFromPointer[l])&&s()}this.__cbOnOwnerUnbindUpdateHueFromPointer=null}if(null!=this.__cbOnceOwnerUnbindUpdateHueFromPointer){for(t=0,i=this.__cbOnceOwnerUnbindUpdateHueFromPointer.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUpdateHueFromPointer[l])&&s()}this.__cbOnceOwnerUnbindUpdateHueFromPointer=null}this.__cbOnUpdateHueFromPointer=null,this.__cbOnceUpdateHueFromPointer=null}},listensUpdateHueFromPointer:function(){return null!=this.__cbOnUpdateHueFromPointer&&0<this.__cbOnUpdateHueFromPointer.length||null!=this.__cbOnceUpdateHueFromPointer&&0<this.__cbOnceUpdateHueFromPointer.length},movingPointerAutoruns:null,get_movingPointer:function(){var e,n,t=this.unobservedMovingPointer;return null!=w.current&&(e=w.current,null!=(n=this.movingPointerAutoruns)||(n=w.getAutorunArray(),null!=(this.movingPointerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_movingPointer:function(e){var n=this.unobservedMovingPointer;return n!=(this.unobservedMovingPointer=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMovingPointerChange(e,n),null!=(n=this.movingPointerAutoruns))&&(this.movingPointerAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateMovingPointer:function(){var e=this.unobservedMovingPointer,e=(this.emitMovingPointerChange(e,e),this.movingPointerAutoruns);null!=e&&(this.movingPointerAutoruns=null,w.invalidateAutorunArray(e))},unobservedMovingPointer:null,__cbOnMovingPointerChange:null,__cbOnceMovingPointerChange:null,__cbOnOwnerUnbindMovingPointerChange:null,__cbOnceOwnerUnbindMovingPointerChange:null,emitMovingPointerChange:function(e,n){var t=0;if(null!=this.__cbOnMovingPointerChange&&(t+=this.__cbOnMovingPointerChange.length),null!=this.__cbOnceMovingPointerChange&&(t+=this.__cbOnceMovingPointerChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMovingPointerChange)for(var r=0,h=this.__cbOnMovingPointerChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMovingPointerChange[a],++s):--t}if(null!=this.__cbOnceMovingPointerChange){for(var o=null,c=null,r=0,h=this.__cbOnceMovingPointerChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMovingPointerChange[a],this.__cbOnceMovingPointerChange[a]=null,u=this.__cbOnceOwnerUnbindMovingPointerChange[a],(this.__cbOnceOwnerUnbindMovingPointerChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMovingPointerChange[a]),c.push(this.__cbOnceMovingPointerChange[a]))}this.__cbOnceOwnerUnbindMovingPointerChange=o,this.__cbOnceMovingPointerChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMovingPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event movingPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMovingPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMovingPointerChange&&(this.__cbOnOwnerUnbindMovingPointerChange=[]),this.__cbOnOwnerUnbindMovingPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMovingPointerChange&&(this.__cbOnOwnerUnbindMovingPointerChange=[]),this.__cbOnOwnerUnbindMovingPointerChange.push(null);null==this.__cbOnMovingPointerChange&&(this.__cbOnMovingPointerChange=[]),this.__cbOnMovingPointerChange.push(t)},onceMovingPointerChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event movingPointerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMovingPointerChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMovingPointerChange&&(this.__cbOnceOwnerUnbindMovingPointerChange=[]),this.__cbOnceOwnerUnbindMovingPointerChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMovingPointerChange&&(this.__cbOnceOwnerUnbindMovingPointerChange=[]),this.__cbOnceOwnerUnbindMovingPointerChange.push(null);null==this.__cbOnceMovingPointerChange&&(this.__cbOnceMovingPointerChange=[]),this.__cbOnceMovingPointerChange.push(t)},offMovingPointerChange:function(e){if(null!=e){var n;null!=this.__cbOnMovingPointerChange&&-1!=(n=this.__cbOnMovingPointerChange.indexOf(e))&&(this.__cbOnMovingPointerChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMovingPointerChange[n])&&s(),this.__cbOnOwnerUnbindMovingPointerChange.splice(n,1)),null!=this.__cbOnceMovingPointerChange&&-1!=(n=this.__cbOnceMovingPointerChange.indexOf(e))&&(this.__cbOnceMovingPointerChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMovingPointerChange[n])&&s(),this.__cbOnceOwnerUnbindMovingPointerChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMovingPointerChange){for(var t=0,i=this.__cbOnOwnerUnbindMovingPointerChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMovingPointerChange[l])&&s()}this.__cbOnOwnerUnbindMovingPointerChange=null}if(null!=this.__cbOnceOwnerUnbindMovingPointerChange){for(t=0,i=this.__cbOnceOwnerUnbindMovingPointerChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMovingPointerChange[l])&&s()}this.__cbOnceOwnerUnbindMovingPointerChange=null}this.__cbOnMovingPointerChange=null,this.__cbOnceMovingPointerChange=null}},listensMovingPointerChange:function(){return null!=this.__cbOnMovingPointerChange&&0<this.__cbOnMovingPointerChange.length||null!=this.__cbOnceMovingPointerChange&&0<this.__cbOnceMovingPointerChange.length},spectrum:null,lightnessPointer:null,lightness:null,set_lightness:function(e){return this.lightness!=e&&(this.lightness=e,this.updatePointerFromLightness()),e},hue:null,set_hue:function(e){return this.hue!=e&&(this.hue=e,this.set_spectrumColorsDirty(!0)),e},saturation:null,set_saturation:function(e){return this.saturation!=e&&(this.saturation=e,this.set_spectrumColorsDirty(!0)),e},spectrumColorsDirty:null,set_spectrumColorsDirty:function(e){return e?this.spectrumColorsDirty||(this.spectrumColorsDirty=!0,ke.app._onceImmediate($bind(this,this.updateSpectrumColors))):this.spectrumColorsDirty=!1,e},initSpectrum:function(){this.spectrum=new Aa,this.spectrum.colorMapping=2,this.spectrum.set_depth(1),this.add(this.spectrum),this.spectrum.vertices=[0,0,1,0];for(var e=this.spectrum.vertices,n=this.spectrum.indices,t=0,i=fd.PRECISION;t<i;){var l=t++;e.push(0),e.push(1+l),e.push(1),e.push(1+l),n.push(2*l),n.push(2*l+1),n.push(2*l+2),n.push(2*l+1),n.push(2*l+2),n.push(2*l+3)}this.updateSpectrumColors()},updateSpectrumColors:function(){this.set_spectrumColorsDirty(!1);for(var e=this.spectrum.colors,n=this.colorWithLightness(1),t=0,i=(e[t]=n,e[++t]=n,++t,0),l=fd.PRECISION;i<l;){var s=i++,n=this.colorWithLightness(1-(1+s)/fd.PRECISION);e[t]=n,e[++t]=n,++t}},updatePointerFromLightness:function(){var e=this.lightnessPointer,n=.5*this.get_width(),t=this.get_height()*(1-this.lightness);e.set_x(n),e.set_y(t)},layout:function(){var e=this.spectrum,n=this.get_width(),t=this.get_height()/fd.PRECISION;e.set_scaleX(n),e.set_scaleY(t),(e=this.lightnessPointer).set_width(this.get_width()),e.set_height(0),this.updatePointerFromLightness()},colorWithLightness:function(e){var n=this.hue,t=this.saturation,i=0;if(M._hsluvTuple[0]=n,M._hsluvTuple[1]=100*t,M._hsluvTuple[2]=100*e,.001<e){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult);var l=M._hsluvResult[0];l<0&&(l=0);i=i&65535|(255<(s=Math.round(255*l))?255:s<0?0:s)<<16,(l=M._hsluvResult[1])<0&&(l=0);var s=Math.round(255*l),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,(l=M._hsluvResult[2])<0&&(l=0),Math.round(255*l)),i=i&16776960|(255<s?255:s<0?0:s)}else{var l=(1-Math.abs(2*e-1))*t,r=e-l/2,t=n,h=l,e=(t%=360)/60,a=h*(1-Math.abs(e%2-1))+r;switch(h+=r,0|e){case 0:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 1:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*r));i=i&16776960|(255<s?255:s<0?0:s);break;case 2:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*h)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s);break;case 3:s=(i=i&65535|(255<(s=Math.round(255*r))?255:s<0?0:s)<<16,Math.round(255*a)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 4:s=(i=i&65535|(255<(s=Math.round(255*a))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*h));i=i&16776960|(255<s?255:s<0?0:s);break;case 5:s=(i=i&65535|(255<(s=Math.round(255*h))?255:s<0?0:s)<<16,Math.round(255*r)),s=(i=i&16711935|(255<s?255:s<0?0:s)<<8,Math.round(255*a));i=i&16776960|(255<s?255:s<0?0:s)}}return s=(s=(0|i)-16777216)&16777215|-16777216},handlePointerDown:function(e){ke.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.updateHueFromTouchInfo(e)},handlePointerMove:function(e){this.set_movingPointer(!0),this.updateHueFromTouchInfo(e)},handlePointerUp:function(e){ke.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.set_movingPointer(!1),this.updateHueFromTouchInfo(e)},updateHueFromTouchInfo:function(e){this.screenToVisual(e.x,e.y,fd._point),this.set_lightness(1-Math.max(0,Math.min(fd._point.y/this.get_height(),1))),this.updatePointerFromLightness(),this.emitUpdateHueFromPointer()},unbindEvents:function(){g0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offMovingPointerChange(),this.offUpdateHueFromPointer()},__class__:fd,__properties__:$extend(g0.prototype.__properties__,{set_spectrumColorsDirty:"set_spectrumColorsDirty",set_saturation:"set_saturation",set_hue:"set_hue",set_lightness:"set_lightness",set_movingPointer:"set_movingPointer",get_movingPointer:"get_movingPointer"})}),(E["elements.ColorPickerPaletteColorView"]=gd).__name__="elements.ColorPickerPaletteColorView",gd.__interfaces__=[u],gd.__super__=g0,gd.prototype=$extend(g0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,click:null,set_click:function(e){return this.click==e?this.click:(null!=this.click&&this.click.destroy(),this.click=e,null!=this.click?(this.component("click",this.click,!0),this.click):(this.removeComponent("click"),null))},longPress:null,set_longPress:function(e){return this.longPress==e?this.longPress:(null!=this.longPress&&this.longPress.destroy(),this.longPress=e,null!=this.longPress?(this.component("longPress",this.longPress,!0),this.longPress):(this.removeComponent("longPress"),null))},dragDrop:null,set_dragDrop:function(e){return this.dragDrop==e?this.dragDrop:(null!=this.dragDrop&&this.dragDrop.destroy(),this.dragDrop=e,null!=this.dragDrop?(this.component("dragDrop",this.dragDrop,!0),this.dragDrop):(this.removeComponent("dragDrop"),null))},__cbOnClick:null,__cbOnceClick:null,__cbOnOwnerUnbindClick:null,__cbOnceOwnerUnbindClick:null,emitClick:function(e){var n=0;if(null!=this.__cbOnClick&&(n+=this.__cbOnClick.length),null!=this.__cbOnceClick&&(n+=this.__cbOnceClick.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnClick)for(var s=0,r=this.__cbOnClick.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnClick[h],++l):--n}if(null!=this.__cbOnceClick){for(var a=null,o=null,s=0,r=this.__cbOnceClick.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceClick[h],this.__cbOnceClick[h]=null,c=this.__cbOnceOwnerUnbindClick[h],(this.__cbOnceOwnerUnbindClick[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindClick[h]),o.push(this.__cbOnceClick[h]))}this.__cbOnceOwnerUnbindClick=a,this.__cbOnceClick=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClick&&(this.__cbOnOwnerUnbindClick=[]),this.__cbOnOwnerUnbindClick.push(null);null==this.__cbOnClick&&(this.__cbOnClick=[]),this.__cbOnClick.push(t)},onceClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event click because owner is destroyed!");var l=function(e){null!=t&&(i.offClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClick&&(this.__cbOnceOwnerUnbindClick=[]),this.__cbOnceOwnerUnbindClick.push(null);null==this.__cbOnceClick&&(this.__cbOnceClick=[]),this.__cbOnceClick.push(t)},offClick:function(e){if(null!=e){var n;null!=this.__cbOnClick&&-1!=(n=this.__cbOnClick.indexOf(e))&&(this.__cbOnClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClick[n])&&s(),this.__cbOnOwnerUnbindClick.splice(n,1)),null!=this.__cbOnceClick&&-1!=(n=this.__cbOnceClick.indexOf(e))&&(this.__cbOnceClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClick[n])&&s(),this.__cbOnceOwnerUnbindClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClick){for(var t=0,i=this.__cbOnOwnerUnbindClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClick[l])&&s()}this.__cbOnOwnerUnbindClick=null}if(null!=this.__cbOnceOwnerUnbindClick){for(t=0,i=this.__cbOnceOwnerUnbindClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClick[l])&&s()}this.__cbOnceOwnerUnbindClick=null}this.__cbOnClick=null,this.__cbOnceClick=null}},listensClick:function(){return null!=this.__cbOnClick&&0<this.__cbOnClick.length||null!=this.__cbOnceClick&&0<this.__cbOnceClick.length},__cbOnDrop:null,__cbOnceDrop:null,__cbOnOwnerUnbindDrop:null,__cbOnceOwnerUnbindDrop:null,emitDrop:function(e){var n=0;if(null!=this.__cbOnDrop&&(n+=this.__cbOnDrop.length),null!=this.__cbOnceDrop&&(n+=this.__cbOnceDrop.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDrop)for(var s=0,r=this.__cbOnDrop.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnDrop[h],++l):--n}if(null!=this.__cbOnceDrop){for(var a=null,o=null,s=0,r=this.__cbOnceDrop.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceDrop[h],this.__cbOnceDrop[h]=null,c=this.__cbOnceOwnerUnbindDrop[h],(this.__cbOnceOwnerUnbindDrop[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDrop[h]),o.push(this.__cbOnceDrop[h]))}this.__cbOnceOwnerUnbindDrop=a,this.__cbOnceDrop=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onDrop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event drop because owner is destroyed!");var l=function(e){null!=t&&(i.offDrop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDrop&&(this.__cbOnOwnerUnbindDrop=[]),this.__cbOnOwnerUnbindDrop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDrop&&(this.__cbOnOwnerUnbindDrop=[]),this.__cbOnOwnerUnbindDrop.push(null);null==this.__cbOnDrop&&(this.__cbOnDrop=[]),this.__cbOnDrop.push(t)},onceDrop:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event drop because owner is destroyed!");var l=function(e){null!=t&&(i.offDrop(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDrop&&(this.__cbOnceOwnerUnbindDrop=[]),this.__cbOnceOwnerUnbindDrop.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDrop&&(this.__cbOnceOwnerUnbindDrop=[]),this.__cbOnceOwnerUnbindDrop.push(null);null==this.__cbOnceDrop&&(this.__cbOnceDrop=[]),this.__cbOnceDrop.push(t)},offDrop:function(e){if(null!=e){var n;null!=this.__cbOnDrop&&-1!=(n=this.__cbOnDrop.indexOf(e))&&(this.__cbOnDrop.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDrop[n])&&s(),this.__cbOnOwnerUnbindDrop.splice(n,1)),null!=this.__cbOnceDrop&&-1!=(n=this.__cbOnceDrop.indexOf(e))&&(this.__cbOnceDrop.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDrop[n])&&s(),this.__cbOnceOwnerUnbindDrop.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDrop){for(var t=0,i=this.__cbOnOwnerUnbindDrop.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDrop[l])&&s()}this.__cbOnOwnerUnbindDrop=null}if(null!=this.__cbOnceOwnerUnbindDrop){for(t=0,i=this.__cbOnceOwnerUnbindDrop.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDrop[l])&&s()}this.__cbOnceOwnerUnbindDrop=null}this.__cbOnDrop=null,this.__cbOnceDrop=null}},listensDrop:function(){return null!=this.__cbOnDrop&&0<this.__cbOnDrop.length||null!=this.__cbOnceDrop&&0<this.__cbOnceDrop.length},__cbOnLongPress:null,__cbOnceLongPress:null,__cbOnOwnerUnbindLongPress:null,__cbOnceOwnerUnbindLongPress:null,emitLongPress:function(e,n){var t=0;if(null!=this.__cbOnLongPress&&(t+=this.__cbOnLongPress.length),null!=this.__cbOnceLongPress&&(t+=this.__cbOnceLongPress.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLongPress)for(var r=0,h=this.__cbOnLongPress.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLongPress[a],++s):--t}if(null!=this.__cbOnceLongPress){for(var o=null,c=null,r=0,h=this.__cbOnceLongPress.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLongPress[a],this.__cbOnceLongPress[a]=null,u=this.__cbOnceOwnerUnbindLongPress[a],(this.__cbOnceOwnerUnbindLongPress[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLongPress[a]),c.push(this.__cbOnceLongPress[a]))}this.__cbOnceOwnerUnbindLongPress=o,this.__cbOnceLongPress=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLongPress&&(this.__cbOnOwnerUnbindLongPress=[]),this.__cbOnOwnerUnbindLongPress.push(null);null==this.__cbOnLongPress&&(this.__cbOnLongPress=[]),this.__cbOnLongPress.push(t)},onceLongPress:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event longPress because owner is destroyed!");var l=function(e){null!=t&&(i.offLongPress(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLongPress&&(this.__cbOnceOwnerUnbindLongPress=[]),this.__cbOnceOwnerUnbindLongPress.push(null);null==this.__cbOnceLongPress&&(this.__cbOnceLongPress=[]),this.__cbOnceLongPress.push(t)},offLongPress:function(e){if(null!=e){var n;null!=this.__cbOnLongPress&&-1!=(n=this.__cbOnLongPress.indexOf(e))&&(this.__cbOnLongPress.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLongPress[n])&&s(),this.__cbOnOwnerUnbindLongPress.splice(n,1)),null!=this.__cbOnceLongPress&&-1!=(n=this.__cbOnceLongPress.indexOf(e))&&(this.__cbOnceLongPress.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLongPress[n])&&s(),this.__cbOnceOwnerUnbindLongPress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLongPress){for(var t=0,i=this.__cbOnOwnerUnbindLongPress.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLongPress[l])&&s()}this.__cbOnOwnerUnbindLongPress=null}if(null!=this.__cbOnceOwnerUnbindLongPress){for(t=0,i=this.__cbOnceOwnerUnbindLongPress.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLongPress[l])&&s()}this.__cbOnceOwnerUnbindLongPress=null}this.__cbOnLongPress=null,this.__cbOnceLongPress=null}},listensLongPress:function(){return null!=this.__cbOnLongPress&&0<this.__cbOnLongPress.length||null!=this.__cbOnceLongPress&&0<this.__cbOnceLongPress.length},get_dragging:function(){return this.dragDrop.get_dragging()},colorValue:null,set_colorValue:function(e){return this.colorValue!=e&&(this.colorValue=e,this.color=e),e},updateStyle:function(){this.dragDrop.get_dragging()?(this.transform.tx=this.dragDrop.get_dragX(),this.transform.ty=this.dragDrop.get_dragY()):this.click.get_pressed()?(this.transform.tx=0,this.transform.ty=1):(this.transform.tx=0,this.transform.ty=0),this.transform.changedDirty=!0},bindDraggingDepth:function(){var e=this,n=this.computedDepth;ke.app.onBeginSortVisuals(this,function(){n=e.computedDepth,e.dragDrop.get_dragging()&&(e.computedDepth=9999999)}),ke.app.onFinishSortVisuals(this,function(){e.computedDepth=n})},getDraggingVisual:function(){return this},releaseDraggingVisual:function(e){},handleDraggingChange:function(e,n){n&&!e&&this.emitDrop(this)},toString:function(){var e;return"ColorPickerPaletteColorView("+(null==this.colorValue?"null":-1==(e=this.colorValue)?"NONE":"0x"+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2))+")"},unbindEvents:function(){g0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offClick(),this.offDrop(),this.offLongPress()},__class__:gd,__properties__:$extend(g0.prototype.__properties__,{set_colorValue:"set_colorValue",get_dragging:"get_dragging",set_dragDrop:"set_dragDrop",set_longPress:"set_longPress",set_click:"set_click"})}),(E["elements.RelatedToFieldView"]=hd).__name__="elements.RelatedToFieldView",hd.__isInterface__=!0,hd.prototype={relatedFieldView:null,__class__:hd},function(e){this.unobservedPaletteColorPreviews=[],this.paletteColorPreviewsAutoruns=null,this.lastDraggingColorPreview=null,this.lastDraggingColorDropIndex=-1,this.hslFieldsLocked=0,this.updatingColor=0,this.hslLightnessFieldValue="0",this.hslSaturationFieldValue="0",this.hslHueFieldValue="0",this.rgbBlueFieldValue="255",this.rgbGreenFieldValue="255",this.rgbRedFieldValue="255",this.unobservedPaletteHeight=0,this.paletteHeightAutoruns=null,this.computedOnceDraggingColorDropIndex=!1,this.draggingColorDropIndexAutoruns=null,this.computedOnceDraggingColorPreview=!1,this.draggingColorPreviewAutoruns=null,this.unobservedColorValue=16777215,this.colorValueAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var t=this,e=(Cb.call(this),this.colorFieldView=e,this.padding(bl.PADDING),this.flags&=-17,1!=this.borderTopSize&&(this.borderTopSize=1,this.updateBorder()),1!=this.borderRightSize&&(this.borderRightSize=1,this.updateBorder()),1!=this.borderBottomSize&&(this.borderBottomSize=1,this.updateBorder()),1!=this.borderLeftSize&&(this.borderLeftSize=1,this.updateBorder()),Un.OUTSIDE),e=(this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.set_roundTranslation(1),this.onPointerDown(this,function(e){}),this.onPointerOver(this,function(e){}),this.onPointerOut(this,function(e){}),this.component(null,new Tl),this.hsbGradientView=new cd,this.hsbGradientView);e.set_viewWidth(bl.GRADIENT_SIZE),e.set_viewHeight(bl.GRADIENT_SIZE),this.hsbGradientView.onUpdateColorFromPointer(this,function(){t.setColorFromHSB(t.hsbGradientView.hue,t.hsbGradientView.getSaturationFromPointer(),t.hsbGradientView.getBrightnessFromPointer())}),this.add(this.hsbGradientView),this.hsluvGradientView=new ed,(e=this.hsluvGradientView).set_viewWidth(bl.GRADIENT_SIZE),e.set_viewHeight(bl.GRADIENT_SIZE),this.hsluvGradientView.onUpdateColorFromPointer(this,function(){t.setColorFromHSLuv(t.hsluvGradientView.getHueFromPointer(),t.hsluvGradientView.getSaturationFromPointer(),t.hsluvGradientView.lightness)}),this.add(this.hsluvGradientView),this.hsbSpectrumView=new dd,(e=this.hsbSpectrumView).set_viewWidth(bl.SPECTRUM_WIDTH),e.set_viewHeight(bl.GRADIENT_SIZE),(e=this.hsbSpectrumView).set_offsetX(this.hsbGradientView.viewWidth+bl.PADDING),e.set_offsetY(0),this.hsbSpectrumView.onMovingPointerChange(this,function(e,n){t.hsbGradientView.movingSpectrum=e}),this.hsbSpectrumView.onUpdateHueFromPointer(this,function(){t.hsbGradientView.savePointerPosition(),t.hsbGradientView.updateTintColor(t.hsbSpectrumView.hue),t.setColorFromHSB(t.hsbGradientView.hue,t.hsbGradientView.getSaturationFromPointer(),t.hsbGradientView.getBrightnessFromPointer()),t.hsbGradientView.restorePointerPosition()}),this.add(this.hsbSpectrumView),this.hsluvSpectrumView=new fd,(e=this.hsluvSpectrumView).set_viewWidth(bl.SPECTRUM_WIDTH),e.set_viewHeight(bl.GRADIENT_SIZE);(e=this.hsluvSpectrumView).set_offsetX(this.hsluvGradientView.viewWidth+bl.PADDING),e.set_offsetY(0),this.hsluvSpectrumView.onMovingPointerChange(this,function(e,n){t.hsluvGradientView.movingSpectrum=e}),this.hsluvSpectrumView.onUpdateHueFromPointer(this,function(){t.hsluvGradientView.savePointerPosition(),t.hsluvGradientView.updateGradientColors(t.hsluvSpectrumView.lightness),t.setColorFromHSLuv(t.hsluvGradientView.getHueFromPointer(),t.hsluvGradientView.getSaturationFromPointer(),t.hsluvGradientView.lightness),t.hsluvGradientView.restorePointerPosition()}),this.add(this.hsluvSpectrumView);var e=this.hsbGradientView.viewWidth+this.hsbSpectrumView.viewWidth+2*bl.PADDING,n=(this.initRGBFields(e),e+=bl.FIELD_ROW_WIDTH+bl.PADDING,this.initHSLFields(e)),e=this.hsbGradientView.viewWidth+this.hsbSpectrumView.viewWidth+2*bl.PADDING;this.initPaletteUI(e,n),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateColorPreviews)),this.autorun($bind(this,this.updateSize)),this.autorun($bind(this,this.updateFromColorDrop))}),W=((E["elements.ColorPickerView"]=bl).__name__="elements.ColorPickerView",bl.__interfaces__=[hd,u],bl.__super__=Cb,bl.prototype=$extend(Cb.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},colorValueAutoruns:null,get_colorValue:function(){var e,n,t=this.unobservedColorValue;return null!=w.current&&(e=w.current,null!=(n=this.colorValueAutoruns)||(n=w.getAutorunArray(),null!=(this.colorValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_colorValue:function(e){var n=this.unobservedColorValue;return n!=(this.unobservedColorValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitColorValueChange(e,n),null!=(n=this.colorValueAutoruns))&&(this.colorValueAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateColorValue:function(){var e=this.unobservedColorValue,e=(this.emitColorValueChange(e,e),this.colorValueAutoruns);null!=e&&(this.colorValueAutoruns=null,w.invalidateAutorunArray(e))},unobservedColorValue:null,__cbOnColorValueChange:null,__cbOnceColorValueChange:null,__cbOnOwnerUnbindColorValueChange:null,__cbOnceOwnerUnbindColorValueChange:null,emitColorValueChange:function(e,n){var t=0;if(null!=this.__cbOnColorValueChange&&(t+=this.__cbOnColorValueChange.length),null!=this.__cbOnceColorValueChange&&(t+=this.__cbOnceColorValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnColorValueChange)for(var r=0,h=this.__cbOnColorValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnColorValueChange[a],++s):--t}if(null!=this.__cbOnceColorValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceColorValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceColorValueChange[a],this.__cbOnceColorValueChange[a]=null,u=this.__cbOnceOwnerUnbindColorValueChange[a],(this.__cbOnceOwnerUnbindColorValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindColorValueChange[a]),c.push(this.__cbOnceColorValueChange[a]))}this.__cbOnceOwnerUnbindColorValueChange=o,this.__cbOnceColorValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onColorValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event colorValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColorValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindColorValueChange&&(this.__cbOnOwnerUnbindColorValueChange=[]),this.__cbOnOwnerUnbindColorValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindColorValueChange&&(this.__cbOnOwnerUnbindColorValueChange=[]),this.__cbOnOwnerUnbindColorValueChange.push(null);null==this.__cbOnColorValueChange&&(this.__cbOnColorValueChange=[]),this.__cbOnColorValueChange.push(t)},onceColorValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event colorValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColorValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindColorValueChange&&(this.__cbOnceOwnerUnbindColorValueChange=[]),this.__cbOnceOwnerUnbindColorValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindColorValueChange&&(this.__cbOnceOwnerUnbindColorValueChange=[]),this.__cbOnceOwnerUnbindColorValueChange.push(null);null==this.__cbOnceColorValueChange&&(this.__cbOnceColorValueChange=[]),this.__cbOnceColorValueChange.push(t)},offColorValueChange:function(e){if(null!=e){var n;null!=this.__cbOnColorValueChange&&-1!=(n=this.__cbOnColorValueChange.indexOf(e))&&(this.__cbOnColorValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindColorValueChange[n])&&s(),this.__cbOnOwnerUnbindColorValueChange.splice(n,1)),null!=this.__cbOnceColorValueChange&&-1!=(n=this.__cbOnceColorValueChange.indexOf(e))&&(this.__cbOnceColorValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindColorValueChange[n])&&s(),this.__cbOnceOwnerUnbindColorValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindColorValueChange){for(var t=0,i=this.__cbOnOwnerUnbindColorValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindColorValueChange[l])&&s()}this.__cbOnOwnerUnbindColorValueChange=null}if(null!=this.__cbOnceOwnerUnbindColorValueChange){for(t=0,i=this.__cbOnceOwnerUnbindColorValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindColorValueChange[l])&&s()}this.__cbOnceOwnerUnbindColorValueChange=null}this.__cbOnColorValueChange=null,this.__cbOnceColorValueChange=null}},listensColorValueChange:function(){return null!=this.__cbOnColorValueChange&&0<this.__cbOnColorValueChange.length||null!=this.__cbOnceColorValueChange&&0<this.__cbOnceColorValueChange.length},willListenDraggingColorPreviewChange:function(){this.get_unobservedDraggingColorPreview()},get_unobservedDraggingColorPreview:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunDraggingColorPreview?(n=this,t=new w(null),this.computedOnceDraggingColorPreview=!0,(this.computeAutorunDraggingColorPreview=t).onRun=function(){var e=n.computeDraggingColorPreview();w.unobserve(),n.set_draggingColorPreview(e),w.reobserve()},t.onDestroy(this,function(e){n.computeAutorunDraggingColorPreview==t&&(n.computeAutorunDraggingColorPreview=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunDraggingColorPreview.invalidated&&this.computeAutorunDraggingColorPreview.run():this.computedOnceDraggingColorPreview||(w.unobserve(),this.computedOnceDraggingColorPreview=!0,this.unobservedDraggingColorPreview=this.computeDraggingColorPreview(),w.reobserve()),this.unobservedDraggingColorPreview},draggingColorPreviewAutoruns:null,get_draggingColorPreview:function(){var e,n,t=this.get_unobservedDraggingColorPreview();return null!=w.current&&(e=w.current,null!=(n=this.draggingColorPreviewAutoruns)||(n=w.getAutorunArray(),null!=(this.draggingColorPreviewAutoruns=n)))&&e.bindToAutorunArray(n),t},set_draggingColorPreview:function(e){var n=this.get_unobservedDraggingColorPreview();return n!=(this.unobservedDraggingColorPreview=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDraggingColorPreviewChange(e,n),null!=(n=this.draggingColorPreviewAutoruns))&&(this.draggingColorPreviewAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDraggingColorPreview:function(){var e=this.get_unobservedDraggingColorPreview(),e=(this.emitDraggingColorPreviewChange(e,e),this.draggingColorPreviewAutoruns);null!=e&&(this.draggingColorPreviewAutoruns=null,w.invalidateAutorunArray(e))},unobservedDraggingColorPreview:null,__cbOnDraggingColorPreviewChange:null,__cbOnceDraggingColorPreviewChange:null,__cbOnOwnerUnbindDraggingColorPreviewChange:null,__cbOnceOwnerUnbindDraggingColorPreviewChange:null,emitDraggingColorPreviewChange:function(e,n){var t=0;if(null!=this.__cbOnDraggingColorPreviewChange&&(t+=this.__cbOnDraggingColorPreviewChange.length),null!=this.__cbOnceDraggingColorPreviewChange&&(t+=this.__cbOnceDraggingColorPreviewChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDraggingColorPreviewChange)for(var r=0,h=this.__cbOnDraggingColorPreviewChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDraggingColorPreviewChange[a],++s):--t}if(null!=this.__cbOnceDraggingColorPreviewChange){for(var o=null,c=null,r=0,h=this.__cbOnceDraggingColorPreviewChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDraggingColorPreviewChange[a],this.__cbOnceDraggingColorPreviewChange[a]=null,u=this.__cbOnceOwnerUnbindDraggingColorPreviewChange[a],(this.__cbOnceOwnerUnbindDraggingColorPreviewChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDraggingColorPreviewChange[a]),c.push(this.__cbOnceDraggingColorPreviewChange[a]))}this.__cbOnceOwnerUnbindDraggingColorPreviewChange=o,this.__cbOnceDraggingColorPreviewChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDraggingColorPreviewChange:function(n,t){var i=this;if(null==this.__cbOnDraggingColorPreviewChange&&null==this.__cbOnceDraggingColorPreviewChange&&this.willListenDraggingColorPreviewChange(),null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event draggingColorPreviewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingColorPreviewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDraggingColorPreviewChange&&(this.__cbOnOwnerUnbindDraggingColorPreviewChange=[]),this.__cbOnOwnerUnbindDraggingColorPreviewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDraggingColorPreviewChange&&(this.__cbOnOwnerUnbindDraggingColorPreviewChange=[]),this.__cbOnOwnerUnbindDraggingColorPreviewChange.push(null);null==this.__cbOnDraggingColorPreviewChange&&(this.__cbOnDraggingColorPreviewChange=[]),this.__cbOnDraggingColorPreviewChange.push(t)},onceDraggingColorPreviewChange:function(n,t){var i=this;if(null==this.__cbOnDraggingColorPreviewChange&&null==this.__cbOnceDraggingColorPreviewChange&&this.willListenDraggingColorPreviewChange(),null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event draggingColorPreviewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingColorPreviewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDraggingColorPreviewChange&&(this.__cbOnceOwnerUnbindDraggingColorPreviewChange=[]),this.__cbOnceOwnerUnbindDraggingColorPreviewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDraggingColorPreviewChange&&(this.__cbOnceOwnerUnbindDraggingColorPreviewChange=[]),this.__cbOnceOwnerUnbindDraggingColorPreviewChange.push(null);null==this.__cbOnceDraggingColorPreviewChange&&(this.__cbOnceDraggingColorPreviewChange=[]),this.__cbOnceDraggingColorPreviewChange.push(t)},offDraggingColorPreviewChange:function(e){if(null!=e){var n;null!=this.__cbOnDraggingColorPreviewChange&&-1!=(n=this.__cbOnDraggingColorPreviewChange.indexOf(e))&&(this.__cbOnDraggingColorPreviewChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDraggingColorPreviewChange[n])&&s(),this.__cbOnOwnerUnbindDraggingColorPreviewChange.splice(n,1)),null!=this.__cbOnceDraggingColorPreviewChange&&-1!=(n=this.__cbOnceDraggingColorPreviewChange.indexOf(e))&&(this.__cbOnceDraggingColorPreviewChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDraggingColorPreviewChange[n])&&s(),this.__cbOnceOwnerUnbindDraggingColorPreviewChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDraggingColorPreviewChange){for(var t=0,i=this.__cbOnOwnerUnbindDraggingColorPreviewChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDraggingColorPreviewChange[l])&&s()}this.__cbOnOwnerUnbindDraggingColorPreviewChange=null}if(null!=this.__cbOnceOwnerUnbindDraggingColorPreviewChange){for(t=0,i=this.__cbOnceOwnerUnbindDraggingColorPreviewChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDraggingColorPreviewChange[l])&&s()}this.__cbOnceOwnerUnbindDraggingColorPreviewChange=null}this.__cbOnDraggingColorPreviewChange=null,this.__cbOnceDraggingColorPreviewChange=null}},listensDraggingColorPreviewChange:function(){return null!=this.__cbOnDraggingColorPreviewChange&&0<this.__cbOnDraggingColorPreviewChange.length||null!=this.__cbOnceDraggingColorPreviewChange&&0<this.__cbOnceDraggingColorPreviewChange.length},computeDraggingColorPreview:function(){var e=this.get_paletteColorPreviews();if(null!=e)for(var n=0,t=e.length;n<t;){var i=e[n++];if(i.dragDrop.get_dragging())return i}return null},computeAutorunDraggingColorPreview:null,computedOnceDraggingColorPreview:null,willListenDraggingColorDropIndexChange:function(){this.get_unobservedDraggingColorDropIndex()},get_unobservedDraggingColorDropIndex:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunDraggingColorDropIndex?(n=this,t=new w(null),this.computedOnceDraggingColorDropIndex=!0,(this.computeAutorunDraggingColorDropIndex=t).onRun=function(){var e=n.computeDraggingColorDropIndex();w.unobserve(),n.set_draggingColorDropIndex(e),w.reobserve()},t.onDestroy(this,function(e){n.computeAutorunDraggingColorDropIndex==t&&(n.computeAutorunDraggingColorDropIndex=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunDraggingColorDropIndex.invalidated&&this.computeAutorunDraggingColorDropIndex.run():this.computedOnceDraggingColorDropIndex||(w.unobserve(),this.computedOnceDraggingColorDropIndex=!0,this.unobservedDraggingColorDropIndex=this.computeDraggingColorDropIndex(),w.reobserve()),this.unobservedDraggingColorDropIndex},draggingColorDropIndexAutoruns:null,get_draggingColorDropIndex:function(){var e,n,t=this.get_unobservedDraggingColorDropIndex();return null!=w.current&&(e=w.current,null!=(n=this.draggingColorDropIndexAutoruns)||(n=w.getAutorunArray(),null!=(this.draggingColorDropIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_draggingColorDropIndex:function(e){var n=this.get_unobservedDraggingColorDropIndex();return n!=(this.unobservedDraggingColorDropIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDraggingColorDropIndexChange(e,n),null!=(n=this.draggingColorDropIndexAutoruns))&&(this.draggingColorDropIndexAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDraggingColorDropIndex:function(){var e=this.get_unobservedDraggingColorDropIndex(),e=(this.emitDraggingColorDropIndexChange(e,e),this.draggingColorDropIndexAutoruns);null!=e&&(this.draggingColorDropIndexAutoruns=null,w.invalidateAutorunArray(e))},unobservedDraggingColorDropIndex:null,__cbOnDraggingColorDropIndexChange:null,__cbOnceDraggingColorDropIndexChange:null,__cbOnOwnerUnbindDraggingColorDropIndexChange:null,__cbOnceOwnerUnbindDraggingColorDropIndexChange:null,emitDraggingColorDropIndexChange:function(e,n){var t=0;if(null!=this.__cbOnDraggingColorDropIndexChange&&(t+=this.__cbOnDraggingColorDropIndexChange.length),null!=this.__cbOnceDraggingColorDropIndexChange&&(t+=this.__cbOnceDraggingColorDropIndexChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDraggingColorDropIndexChange)for(var r=0,h=this.__cbOnDraggingColorDropIndexChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDraggingColorDropIndexChange[a],++s):--t}if(null!=this.__cbOnceDraggingColorDropIndexChange){for(var o=null,c=null,r=0,h=this.__cbOnceDraggingColorDropIndexChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDraggingColorDropIndexChange[a],this.__cbOnceDraggingColorDropIndexChange[a]=null,u=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[a],(this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[a]),c.push(this.__cbOnceDraggingColorDropIndexChange[a]))}this.__cbOnceOwnerUnbindDraggingColorDropIndexChange=o,this.__cbOnceDraggingColorDropIndexChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDraggingColorDropIndexChange:function(n,t){var i=this;if(null==this.__cbOnDraggingColorDropIndexChange&&null==this.__cbOnceDraggingColorDropIndexChange&&this.willListenDraggingColorDropIndexChange(),null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event draggingColorDropIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingColorDropIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDraggingColorDropIndexChange&&(this.__cbOnOwnerUnbindDraggingColorDropIndexChange=[]),this.__cbOnOwnerUnbindDraggingColorDropIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDraggingColorDropIndexChange&&(this.__cbOnOwnerUnbindDraggingColorDropIndexChange=[]),this.__cbOnOwnerUnbindDraggingColorDropIndexChange.push(null);null==this.__cbOnDraggingColorDropIndexChange&&(this.__cbOnDraggingColorDropIndexChange=[]),this.__cbOnDraggingColorDropIndexChange.push(t)},onceDraggingColorDropIndexChange:function(n,t){var i=this;if(null==this.__cbOnDraggingColorDropIndexChange&&null==this.__cbOnceDraggingColorDropIndexChange&&this.willListenDraggingColorDropIndexChange(),null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event draggingColorDropIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingColorDropIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDraggingColorDropIndexChange&&(this.__cbOnceOwnerUnbindDraggingColorDropIndexChange=[]),this.__cbOnceOwnerUnbindDraggingColorDropIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDraggingColorDropIndexChange&&(this.__cbOnceOwnerUnbindDraggingColorDropIndexChange=[]),this.__cbOnceOwnerUnbindDraggingColorDropIndexChange.push(null);null==this.__cbOnceDraggingColorDropIndexChange&&(this.__cbOnceDraggingColorDropIndexChange=[]),this.__cbOnceDraggingColorDropIndexChange.push(t)},offDraggingColorDropIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnDraggingColorDropIndexChange&&-1!=(n=this.__cbOnDraggingColorDropIndexChange.indexOf(e))&&(this.__cbOnDraggingColorDropIndexChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDraggingColorDropIndexChange[n])&&s(),this.__cbOnOwnerUnbindDraggingColorDropIndexChange.splice(n,1)),null!=this.__cbOnceDraggingColorDropIndexChange&&-1!=(n=this.__cbOnceDraggingColorDropIndexChange.indexOf(e))&&(this.__cbOnceDraggingColorDropIndexChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[n])&&s(),this.__cbOnceOwnerUnbindDraggingColorDropIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDraggingColorDropIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindDraggingColorDropIndexChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDraggingColorDropIndexChange[l])&&s()}this.__cbOnOwnerUnbindDraggingColorDropIndexChange=null}if(null!=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDraggingColorDropIndexChange[l])&&s()}this.__cbOnceOwnerUnbindDraggingColorDropIndexChange=null}this.__cbOnDraggingColorDropIndexChange=null,this.__cbOnceDraggingColorDropIndexChange=null}},listensDraggingColorDropIndexChange:function(){return null!=this.__cbOnDraggingColorDropIndexChange&&0<this.__cbOnDraggingColorDropIndexChange.length||null!=this.__cbOnceDraggingColorDropIndexChange&&0<this.__cbOnceDraggingColorDropIndexChange.length},computeDraggingColorDropIndex:function(){var e=this.get_draggingColorPreview(),n=W.get_context().user.get_paletteColors();if(null==e||0==n.length)return-1;for(var t=e.offsetX+e.dragDrop.get_dragX(),i=e.offsetY+e.dragDrop.get_dragY(),l=-1,s=999999999,r=this.getColorPickerWidth()-2*bl.PADDING,h=-(bl.PALETTE_COLOR_SIZE+bl.PALETTE_COLOR_GAP),a=bl.PADDING+bl.GRADIENT_SIZE,o=0,c=n.length;o<c;){var u=o++,_=((h+=bl.PALETTE_COLOR_SIZE+bl.PALETTE_COLOR_GAP)+bl.PALETTE_COLOR_SIZE>r&&(h=0,a+=bl.PALETTE_COLOR_SIZE+bl.PALETTE_COLOR_GAP),h+.5*bl.PALETTE_COLOR_SIZE-(t+.5*bl.PALETTE_COLOR_SIZE)),d=a+.5*bl.PALETTE_COLOR_SIZE-(i+.5*bl.PALETTE_COLOR_SIZE),_=Math.sqrt(_*_+d*d);_<s&&(l=u,s=_)}return l},computeAutorunDraggingColorDropIndex:null,computedOnceDraggingColorDropIndex:null,paletteHeightAutoruns:null,get_paletteHeight:function(){var e,n,t=this.unobservedPaletteHeight;return null!=w.current&&(e=w.current,null!=(n=this.paletteHeightAutoruns)||(n=w.getAutorunArray(),null!=(this.paletteHeightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_paletteHeight:function(e){var n=this.unobservedPaletteHeight;return n!=(this.unobservedPaletteHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPaletteHeightChange(e,n),null!=(n=this.paletteHeightAutoruns))&&(this.paletteHeightAutoruns=null,w.invalidateAutorunArray(n)),e},invalidatePaletteHeight:function(){var e=this.unobservedPaletteHeight,e=(this.emitPaletteHeightChange(e,e),this.paletteHeightAutoruns);null!=e&&(this.paletteHeightAutoruns=null,w.invalidateAutorunArray(e))},unobservedPaletteHeight:null,__cbOnPaletteHeightChange:null,__cbOncePaletteHeightChange:null,__cbOnOwnerUnbindPaletteHeightChange:null,__cbOnceOwnerUnbindPaletteHeightChange:null,emitPaletteHeightChange:function(e,n){var t=0;if(null!=this.__cbOnPaletteHeightChange&&(t+=this.__cbOnPaletteHeightChange.length),null!=this.__cbOncePaletteHeightChange&&(t+=this.__cbOncePaletteHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPaletteHeightChange)for(var r=0,h=this.__cbOnPaletteHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPaletteHeightChange[a],++s):--t}if(null!=this.__cbOncePaletteHeightChange){for(var o=null,c=null,r=0,h=this.__cbOncePaletteHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePaletteHeightChange[a],this.__cbOncePaletteHeightChange[a]=null,u=this.__cbOnceOwnerUnbindPaletteHeightChange[a],(this.__cbOnceOwnerUnbindPaletteHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPaletteHeightChange[a]),c.push(this.__cbOncePaletteHeightChange[a]))}this.__cbOnceOwnerUnbindPaletteHeightChange=o,this.__cbOncePaletteHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPaletteHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event paletteHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPaletteHeightChange&&(this.__cbOnOwnerUnbindPaletteHeightChange=[]),this.__cbOnOwnerUnbindPaletteHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPaletteHeightChange&&(this.__cbOnOwnerUnbindPaletteHeightChange=[]),this.__cbOnOwnerUnbindPaletteHeightChange.push(null);null==this.__cbOnPaletteHeightChange&&(this.__cbOnPaletteHeightChange=[]),this.__cbOnPaletteHeightChange.push(t)},oncePaletteHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event paletteHeightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPaletteHeightChange&&(this.__cbOnceOwnerUnbindPaletteHeightChange=[]),this.__cbOnceOwnerUnbindPaletteHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPaletteHeightChange&&(this.__cbOnceOwnerUnbindPaletteHeightChange=[]),this.__cbOnceOwnerUnbindPaletteHeightChange.push(null);null==this.__cbOncePaletteHeightChange&&(this.__cbOncePaletteHeightChange=[]),this.__cbOncePaletteHeightChange.push(t)},offPaletteHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnPaletteHeightChange&&-1!=(n=this.__cbOnPaletteHeightChange.indexOf(e))&&(this.__cbOnPaletteHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPaletteHeightChange[n])&&s(),this.__cbOnOwnerUnbindPaletteHeightChange.splice(n,1)),null!=this.__cbOncePaletteHeightChange&&-1!=(n=this.__cbOncePaletteHeightChange.indexOf(e))&&(this.__cbOncePaletteHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPaletteHeightChange[n])&&s(),this.__cbOnceOwnerUnbindPaletteHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPaletteHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindPaletteHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPaletteHeightChange[l])&&s()}this.__cbOnOwnerUnbindPaletteHeightChange=null}if(null!=this.__cbOnceOwnerUnbindPaletteHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindPaletteHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPaletteHeightChange[l])&&s()}this.__cbOnceOwnerUnbindPaletteHeightChange=null}this.__cbOnPaletteHeightChange=null,this.__cbOncePaletteHeightChange=null}},listensPaletteHeightChange:function(){return null!=this.__cbOnPaletteHeightChange&&0<this.__cbOnPaletteHeightChange.length||null!=this.__cbOncePaletteHeightChange&&0<this.__cbOncePaletteHeightChange.length},get_hsluv:function(){return W.get_context().user.get_colorPickerHsluv()},set_hsluv:function(e){return W.get_context().user.set_colorPickerHsluv(e)},get_paletteColors:function(){return W.get_context().user.get_paletteColors()},set_paletteColors:function(e){return W.get_context().user.set_paletteColors(e)},hsbGradientView:null,hsbSpectrumView:null,hsluvGradientView:null,hsluvSpectrumView:null,rgbRedField:null,rgbGreenField:null,rgbBlueField:null,rgbRedFieldValue:null,rgbGreenFieldValue:null,rgbBlueFieldValue:null,rgbLabel:null,hslHueField:null,hslSaturationField:null,hslLightnessField:null,hslHueFieldValue:null,hslSaturationFieldValue:null,hslLightnessFieldValue:null,hslLabel:null,updatingColor:null,hslFieldsLocked:null,paletteAddButton:null,colorModeButton:null,lastDraggingColorDropIndex:null,lastDraggingColorPreview:null,paletteColorPreviewsAutoruns:null,get_paletteColorPreviews:function(){var e,n,t=this.unobservedPaletteColorPreviews;return null!=w.current&&(e=w.current,null!=(n=this.paletteColorPreviewsAutoruns)||(n=w.getAutorunArray(),null!=(this.paletteColorPreviewsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_paletteColorPreviews:function(e){var n=this.unobservedPaletteColorPreviews;return this.unobservedPaletteColorPreviews=e,Tr.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPaletteColorPreviewsChange(e,n),null!=(n=this.paletteColorPreviewsAutoruns)&&(this.paletteColorPreviewsAutoruns=null,w.invalidateAutorunArray(n))),e},invalidatePaletteColorPreviews:function(){var e=this.unobservedPaletteColorPreviews,e=(this.emitPaletteColorPreviewsChange(e,e),this.paletteColorPreviewsAutoruns);null!=e&&(this.paletteColorPreviewsAutoruns=null,w.invalidateAutorunArray(e))},unobservedPaletteColorPreviews:null,__cbOnPaletteColorPreviewsChange:null,__cbOncePaletteColorPreviewsChange:null,__cbOnOwnerUnbindPaletteColorPreviewsChange:null,__cbOnceOwnerUnbindPaletteColorPreviewsChange:null,emitPaletteColorPreviewsChange:function(e,n){var t=0;if(null!=this.__cbOnPaletteColorPreviewsChange&&(t+=this.__cbOnPaletteColorPreviewsChange.length),null!=this.__cbOncePaletteColorPreviewsChange&&(t+=this.__cbOncePaletteColorPreviewsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPaletteColorPreviewsChange)for(var r=0,h=this.__cbOnPaletteColorPreviewsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPaletteColorPreviewsChange[a],++s):--t}if(null!=this.__cbOncePaletteColorPreviewsChange){for(var o=null,c=null,r=0,h=this.__cbOncePaletteColorPreviewsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePaletteColorPreviewsChange[a],this.__cbOncePaletteColorPreviewsChange[a]=null,u=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[a],(this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[a]),c.push(this.__cbOncePaletteColorPreviewsChange[a]))}this.__cbOnceOwnerUnbindPaletteColorPreviewsChange=o,this.__cbOncePaletteColorPreviewsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPaletteColorPreviewsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event paletteColorPreviewsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteColorPreviewsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPaletteColorPreviewsChange&&(this.__cbOnOwnerUnbindPaletteColorPreviewsChange=[]),this.__cbOnOwnerUnbindPaletteColorPreviewsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPaletteColorPreviewsChange&&(this.__cbOnOwnerUnbindPaletteColorPreviewsChange=[]),this.__cbOnOwnerUnbindPaletteColorPreviewsChange.push(null);null==this.__cbOnPaletteColorPreviewsChange&&(this.__cbOnPaletteColorPreviewsChange=[]),this.__cbOnPaletteColorPreviewsChange.push(t)},oncePaletteColorPreviewsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event paletteColorPreviewsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteColorPreviewsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPaletteColorPreviewsChange&&(this.__cbOnceOwnerUnbindPaletteColorPreviewsChange=[]),this.__cbOnceOwnerUnbindPaletteColorPreviewsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPaletteColorPreviewsChange&&(this.__cbOnceOwnerUnbindPaletteColorPreviewsChange=[]),this.__cbOnceOwnerUnbindPaletteColorPreviewsChange.push(null);null==this.__cbOncePaletteColorPreviewsChange&&(this.__cbOncePaletteColorPreviewsChange=[]),this.__cbOncePaletteColorPreviewsChange.push(t)},offPaletteColorPreviewsChange:function(e){if(null!=e){var n;null!=this.__cbOnPaletteColorPreviewsChange&&-1!=(n=this.__cbOnPaletteColorPreviewsChange.indexOf(e))&&(this.__cbOnPaletteColorPreviewsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPaletteColorPreviewsChange[n])&&s(),this.__cbOnOwnerUnbindPaletteColorPreviewsChange.splice(n,1)),null!=this.__cbOncePaletteColorPreviewsChange&&-1!=(n=this.__cbOncePaletteColorPreviewsChange.indexOf(e))&&(this.__cbOncePaletteColorPreviewsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[n])&&s(),this.__cbOnceOwnerUnbindPaletteColorPreviewsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPaletteColorPreviewsChange){for(var t=0,i=this.__cbOnOwnerUnbindPaletteColorPreviewsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPaletteColorPreviewsChange[l])&&s()}this.__cbOnOwnerUnbindPaletteColorPreviewsChange=null}if(null!=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange){for(t=0,i=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPaletteColorPreviewsChange[l])&&s()}this.__cbOnceOwnerUnbindPaletteColorPreviewsChange=null}this.__cbOnPaletteColorPreviewsChange=null,this.__cbOncePaletteColorPreviewsChange=null}},listensPaletteColorPreviewsChange:function(){return null!=this.__cbOnPaletteColorPreviewsChange&&0<this.__cbOnPaletteColorPreviewsChange.length||null!=this.__cbOncePaletteColorPreviewsChange&&0<this.__cbOncePaletteColorPreviewsChange.length},colorFieldView:null,getColorPickerWidth:function(){return bl.GRADIENT_SIZE+2*bl.FIELD_ROW_WIDTH+bl.SPECTRUM_WIDTH+5*bl.PADDING},updateSize:function(){var e=this.getColorPickerWidth(),n=bl.GRADIENT_SIZE+2*bl.PADDING,t=this.get_paletteHeight();w.unobserve(),0<t&&(n+=bl.PADDING+t),this.set_viewWidth(e),this.set_viewHeight(n),w.reobserve()},initRGBFields:function(e){this.rgbLabel=new O1,this.rgbLabel.set_align(ai.CENTER),this.rgbLabel.set_verticalAlign(wt.CENTER),this.rgbLabel.set_pointSize(12),this.rgbLabel.set_preRenderedSize(20),this.rgbLabel.set_content("RGB"),(n=this.rgbLabel).set_offsetX(e),n.set_offsetY(0);(n=this.rgbLabel).set_viewWidth(bl.FIELD_ROW_WIDTH),n.set_viewHeight(12),this.add(this.rgbLabel),this.rgbRedField=this.createTextField($bind(this,this.setColorFromRGBFields),0,256);var n=this.rgbRedField,t=this.rgbLabel.offsetY+this.rgbLabel.viewHeight+bl.PADDING-1,n=(n.set_offsetX(e),n.set_offsetY(t),this.add(this.rgbRedField),this.rgbGreenField=this.createTextField($bind(this,this.setColorFromRGBFields),0,256),this.rgbGreenField),t=this.rgbRedField.offsetY+bl.FIELD_ADVANCE+bl.FIELD_Y_GAP,n=(n.set_offsetX(e),n.set_offsetY(t),this.add(this.rgbGreenField),this.rgbBlueField=this.createTextField($bind(this,this.setColorFromRGBFields),0,256),this.rgbBlueField),t=this.rgbGreenField.offsetY+bl.FIELD_ADVANCE+bl.FIELD_Y_GAP;return n.set_offsetX(e),n.set_offsetY(t),this.add(this.rgbBlueField),this.rgbBlueField.offsetY+bl.FIELD_ADVANCE+bl.PADDING},initHSLFields:function(e){var n=this;this.hslLabel=new O1,this.hslLabel.set_align(ai.CENTER),this.hslLabel.set_verticalAlign(wt.CENTER),this.hslLabel.set_pointSize(12),this.hslLabel.set_preRenderedSize(20),(t=this.hslLabel).set_offsetX(e),t.set_offsetY(0);(t=this.hslLabel).set_viewWidth(bl.FIELD_ROW_WIDTH),t.set_viewHeight(12),this.add(this.hslLabel),this.hslLabel.autorun(function(){var e=W.get_context().user.get_colorPickerHsluv();w.unobserve(),e?(n.hslLabel.set_content("HSLuv"),n.hsbGradientView.set_active(!1),n.hsbSpectrumView.set_active(!1),n.hsluvGradientView.set_active(!0),n.hsluvSpectrumView.set_active(!0)):(n.hslLabel.set_content("HSL"),n.hsbGradientView.set_active(!0),n.hsbSpectrumView.set_active(!0),n.hsluvGradientView.set_active(!1),n.hsluvSpectrumView.set_active(!1))}),this.hslHueField=this.createTextField($bind(this,this.setColorFromHSLFieldHue),0,360);var t=this.hslHueField,i=this.hslLabel.offsetY+this.hslLabel.viewHeight+bl.PADDING-1,t=(t.set_offsetX(e),t.set_offsetY(i),this.add(this.hslHueField),this.hslSaturationField=this.createTextField($bind(this,this.setColorFromHSLFieldSaturation),0,100),this.hslSaturationField),i=this.hslHueField.offsetY+bl.FIELD_ADVANCE+bl.FIELD_Y_GAP,t=(t.set_offsetX(e),t.set_offsetY(i),this.add(this.hslSaturationField),this.hslLightnessField=this.createTextField($bind(this,this.setColorFromHSLFieldLightness),0,100),this.hslLightnessField),i=this.hslSaturationField.offsetY+bl.FIELD_ADVANCE+bl.FIELD_Y_GAP;return t.set_offsetX(e),t.set_offsetY(i),this.add(this.hslLightnessField),this.hslLightnessField.offsetY+bl.FIELD_ADVANCE+bl.PADDING},initPaletteUI:function(e,n){var t=this,i=(this.colorModeButton=new W2,this.colorModeButton.set_content("Color mode"),this.colorModeButton.set_inputStyle(Cl.OVERLAY),this.colorModeButton.set_viewWidth(2*bl.FIELD_ROW_WIDTH+bl.PADDING),this.colorModeButton);i.set_offsetX(e),i.set_offsetY(n),this.colorModeButton.onClick(this,$bind(this,this.switchColorMode)),this.colorModeButton.autorun(function(){var e=t.get_theme();null==e&&(e=W.get_context().get_theme()),w.unobserve(),t.colorModeButton.set_theme(e)}),this.add(this.colorModeButton),n+=bl.BUTTON_ADVANCE+bl.PADDING,this.paletteAddButton=new W2,this.paletteAddButton.set_inputStyle(Cl.OVERLAY),this.paletteAddButton.set_viewWidth(2*bl.FIELD_ROW_WIDTH+bl.PADDING),(i=this.paletteAddButton).set_offsetX(e),i.set_offsetY(n),this.paletteAddButton.onClick(this,function(){var e=W.get_context().user.get_paletteColors().indexOf(t.get_colorValue());-1!=e?W.get_context().user.removePaletteColor(e):t.saveColor()}),this.paletteAddButton.autorun(function(){var e=t.get_theme();null==e&&(e=W.get_context().get_theme()),w.unobserve(),t.paletteAddButton.set_theme(e)}),this.paletteAddButton.autorun(function(){var e=-1!=W.get_context().user.get_paletteColors().indexOf(t.get_colorValue());w.unobserve(),e?t.paletteAddButton.set_content("Delete color"):t.paletteAddButton.set_content("Save color")}),this.add(this.paletteAddButton)},layout:function(){Cb.prototype.layout.call(this)},setColorFromRGB:function(e,n,t){var i=this,l=(this.updatingColor++,0);this.set_colorValue(((l&65535|(255<e?255:e<0?0:e)<<16)&16711935|(255<n?255:n<0?0:n)<<8)&16776960|(255<t?255:t<0?0:t)),this.updateRGBFields(this.get_colorValue()),this.updateHSLFields(this.get_colorValue()),this.updateGradientAndSpectrum(this.get_colorValue()),ke.app.onceUpdate(this,function(e){i.updatingColor--})},setColorFromHSL:function(e,n,t){var i=this,l=(this.updatingColor++,0),s=(1-Math.abs(2*t-1))*n,r=t-s/2,h=e,a=s,s=(h%=360)/60,o=a*(1-Math.abs(s%2-1))+r;switch(a+=r,0|s){case 0:l=l&65535|(255<(c=Math.round(255*a))?255:c<0?0:c)<<16;var c=Math.round(255*o),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*r)),l=l&16776960|(255<c?255:c<0?0:c);break;case 1:c=(l=l&65535|(255<(c=Math.round(255*o))?255:c<0?0:c)<<16,Math.round(255*a)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*r));l=l&16776960|(255<c?255:c<0?0:c);break;case 2:c=(l=l&65535|(255<(c=Math.round(255*r))?255:c<0?0:c)<<16,Math.round(255*a)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*o));l=l&16776960|(255<c?255:c<0?0:c);break;case 3:c=(l=l&65535|(255<(c=Math.round(255*r))?255:c<0?0:c)<<16,Math.round(255*o)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*a));l=l&16776960|(255<c?255:c<0?0:c);break;case 4:c=(l=l&65535|(255<(c=Math.round(255*o))?255:c<0?0:c)<<16,Math.round(255*r)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*a));l=l&16776960|(255<c?255:c<0?0:c);break;case 5:c=(l=l&65535|(255<(c=Math.round(255*a))?255:c<0?0:c)<<16,Math.round(255*r)),c=(l=l&16711935|(255<c?255:c<0?0:c)<<8,Math.round(255*o));l=l&16776960|(255<c?255:c<0?0:c)}this.set_colorValue(l),this.updateRGBFields(this.get_colorValue()),this.updateHSLFields(this.get_colorValue(),e,n,t),this.updateGradientAndSpectrum(this.get_colorValue(),e,n,t),ke.app.onceUpdate(this,function(e){i.updatingColor--})},setColorFromHSB:function(e,n,t){var i=this;this.updatingColor++,this.set_colorValue(M.fromHSB(e,n,t)),this.updateRGBFields(this.get_colorValue()),this.updateHSLFields(this.get_colorValue(),e),this.updateGradientAndSpectrum(this.get_colorValue(),e),ke.app.onceUpdate(this,function(e){i.updatingColor--})},setColorFromHSLuv:function(e,n,t){var i=this,l=(this.updatingColor++,0);if(M._hsluvTuple[0]=e,M._hsluvTuple[1]=100*n,M._hsluvTuple[2]=100*t,.001<t){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult);var s=M._hsluvResult[0];s<0&&(s=0);l=l&65535|(255<(r=Math.round(255*s))?255:r<0?0:r)<<16,(s=M._hsluvResult[1])<0&&(s=0);var r=Math.round(255*s),r=(l=l&16711935|(255<r?255:r<0?0:r)<<8,(s=M._hsluvResult[2])<0&&(s=0),Math.round(255*s)),l=l&16776960|(255<r?255:r<0?0:r)}else{var s=(1-Math.abs(2*t-1))*n,h=t-s/2,a=e,o=s,s=(a%=360)/60,c=o*(1-Math.abs(s%2-1))+h;switch(o+=h,0|s){case 0:r=(l=l&65535|(255<(r=Math.round(255*o))?255:r<0?0:r)<<16,Math.round(255*c)),r=(l=l&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));l=l&16776960|(255<r?255:r<0?0:r);break;case 1:r=(l=l&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*o)),r=(l=l&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));l=l&16776960|(255<r?255:r<0?0:r);break;case 2:r=(l=l&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*o)),r=(l=l&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));l=l&16776960|(255<r?255:r<0?0:r);break;case 3:r=(l=l&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(l=l&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*o));l=l&16776960|(255<r?255:r<0?0:r);break;case 4:r=(l=l&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(l=l&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*o));l=l&16776960|(255<r?255:r<0?0:r);break;case 5:r=(l=l&65535|(255<(r=Math.round(255*o))?255:r<0?0:r)<<16,Math.round(255*h)),r=(l=l&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));l=l&16776960|(255<r?255:r<0?0:r)}}this.set_colorValue(l),this.updateRGBFields(this.get_colorValue()),this.updateHSLFields(this.get_colorValue(),e,n,t),this.updateGradientAndSpectrum(this.get_colorValue(),e,n,t),ke.app.onceUpdate(this,function(e){i.updatingColor--})},updateRGBFields:function(e){this.rgbRedField.setTextValue(this.rgbRedField,""+(e>>16&255)),this.rgbGreenField.setTextValue(this.rgbGreenField,""+(e>>8&255)),this.rgbBlueField.setTextValue(this.rgbBlueField,""+(255&e))},updateHSLFields:function(e,n,t,i){var l;0<this.hslFieldsLocked||(W.get_context().user.get_colorPickerHsluv()?(null==(l=bl._tuple)&&(l=[0,0,0]),M._hsluvTuple[0]=(e>>16&255)/255,M._hsluvTuple[1]=(e>>8&255)/255,M._hsluvTuple[2]=(255&e)/255,g.rgbToHsluv(M._hsluvTuple,l),l[1]*=.01,l[2]*=.01,null==n&&(n=bl._tuple[0]),null==t&&(t=bl._tuple[1]),null==i&&(i=bl._tuple[2])):(null==n&&(n=M.get_hue(e)),null==t&&(t=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),null==i&&(i=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2)),this.hslHueField.setTextValue(this.hslHueField,""+Math.round(n)),this.hslSaturationField.setTextValue(this.hslSaturationField,""+Math.round(1e3*t)/10),this.hslLightnessField.setTextValue(this.hslLightnessField,""+Math.round(1e3*i)/10))},updateGradientAndSpectrum:function(e,n,t,i){var l;W.get_context().user.get_colorPickerHsluv()?(null==(l=bl._tuple)&&(l=[0,0,0]),M._hsluvTuple[0]=(e>>16&255)/255,M._hsluvTuple[1]=(e>>8&255)/255,M._hsluvTuple[2]=(255&e)/255,g.rgbToHsluv(M._hsluvTuple,l),l[1]*=.01,l[2]*=.01,null==n&&(n=bl._tuple[0]),null==t&&(t=bl._tuple[1]),null==i&&(i=bl._tuple[2]),this.hsluvGradientView.set_colorValue(e),this.hsluvGradientView.updateGradientColors(i),this.hsbGradientView.set_colorValue(e),this.hsbGradientView.updateTintColor(M.get_hue(e)),this.hsluvSpectrumView.set_lightness(i),this.hsluvSpectrumView.set_hue(n),this.hsbSpectrumView.set_hue(M.get_hue(e))):(null==n&&(n=M.get_hue(e)),null==t&&(t=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),null==i&&(i=(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2),null==(l=bl._tuple)&&(l=[0,0,0]),M._hsluvTuple[0]=(e>>16&255)/255,M._hsluvTuple[1]=(e>>8&255)/255,M._hsluvTuple[2]=(255&e)/255,g.rgbToHsluv(M._hsluvTuple,l),l[1]*=.01,l[2]*=.01,this.hsbGradientView.set_colorValue(e),this.hsbGradientView.updateTintColor(n),this.hsluvGradientView.set_colorValue(e),this.hsluvGradientView.updateGradientColors(bl._tuple[2]),this.hsbSpectrumView.set_hue(n),this.hsluvSpectrumView.set_hue(bl._tuple[0]),this.hsluvSpectrumView.set_lightness(bl._tuple[2]))},setColorFromRGBFields:function(){this.rgbRedField.get_textValue()==this.rgbRedFieldValue&&this.rgbGreenField.get_textValue()==this.rgbGreenFieldValue&&this.rgbBlueField.get_textValue()==this.rgbBlueFieldValue||(this.rgbRedFieldValue=this.rgbRedField.get_textValue(),this.rgbGreenFieldValue=this.rgbGreenField.get_textValue(),this.rgbBlueFieldValue=this.rgbBlueField.get_textValue(),0<this.updatingColor)||this.setColorFromRGB(ot.parseInt(this.rgbRedField.get_textValue()),ot.parseInt(this.rgbGreenField.get_textValue()),ot.parseInt(this.rgbBlueField.get_textValue()))},setColorFromHSLFieldHue:function(){var e,n,t=this;this.hslHueField.get_textValue()==this.hslHueFieldValue||(this.hslHueFieldValue=this.hslHueField.get_textValue(),0<this.updatingColor)||(this.hslFieldsLocked++,e=parseFloat(this.hslHueField.get_textValue()),n=.01*parseFloat(this.hslSaturationField.get_textValue()),W.get_context().user.get_colorPickerHsluv()?this.setColorFromHSLuv(e,n,this.hsluvGradientView.lightness):(this.hsbGradientView.savePointerPosition(),this.hsbGradientView.updateTintColor(e),this.setColorFromHSB(this.hsbGradientView.hue,this.hsbGradientView.getSaturationFromPointer(),this.hsbGradientView.getBrightnessFromPointer()),this.hsbGradientView.restorePointerPosition()),ke.app.onceUpdate(this,function(e){t.hslFieldsLocked--}))},setColorFromHSLFieldSaturation:function(){var e,n,t,i=this;this.hslSaturationField.get_textValue()==this.hslSaturationFieldValue||(this.hslSaturationFieldValue=this.hslSaturationField.get_textValue(),0<this.updatingColor)||(this.hslFieldsLocked++,e=parseFloat(this.hslHueField.get_textValue()),n=.01*parseFloat(this.hslSaturationField.get_textValue()),t=.01*parseFloat(this.hslLightnessField.get_textValue()),W.get_context().user.get_colorPickerHsluv()?this.setColorFromHSLuv(e,n,this.hsluvGradientView.lightness):this.setColorFromHSL(this.hsbGradientView.hue,n,t),ke.app.onceUpdate(this,function(e){i.hslFieldsLocked--}))},setColorFromHSLFieldLightness:function(){var e,n,t=this;this.hslLightnessField.get_textValue()==this.hslLightnessFieldValue||(this.hslLightnessFieldValue=this.hslLightnessField.get_textValue(),0<this.updatingColor)||(this.hslFieldsLocked++,e=.01*parseFloat(this.hslSaturationField.get_textValue()),n=.01*parseFloat(this.hslLightnessField.get_textValue()),W.get_context().user.get_colorPickerHsluv()?(this.hsluvGradientView.savePointerPosition(),this.hsluvGradientView.updateGradientColors(n),this.setColorFromHSLuv(this.hsluvGradientView.getHueFromPointer(),this.hsluvGradientView.getSaturationFromPointer(),this.hsluvGradientView.lightness),this.hsluvGradientView.restorePointerPosition()):this.setColorFromHSL(this.hsbGradientView.hue,e,n),ke.app.onceUpdate(this,function(e){t.hslFieldsLocked--}))},createTextField:function(t,i,l){null==l&&(l=100),null==i&&(i=0);var n=this,s=new xl(Sl.NUMERIC);return s.set_textAlign(ai.CENTER),s.set_inputStyle(Cl.OVERLAY),s.set_textValue("0"),s.set_viewWidth(bl.FIELD_ROW_WIDTH),s.autorun(function(){var e=n.get_theme();null==e&&(e=W.get_context().get_theme()),w.unobserve(),s.set_theme(e)}),s.setTextValue=function(e,n){null!=t&&ke.app._oncePostFlushImmediate(t,!0),yl.setTextValueToInt(e,n,i,l)},s.setEmptyValue=function(e){var n=0;l<(n=n<i?i:n)&&(n=l),s.set_textValue(""+n),null!=t&&t()},s},updateStyle:function(){var e=this.get_theme(),n=(e=null==e?W.get_context().get_theme():e).get_overlayBorderColor(),n=(this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),e.get_overlayBorderAlpha());this.borderAlpha!=n&&(this.borderAlpha=n,null!=this.border)&&this.border.set_alpha(n),this.color=e.get_overlayBackgroundColor(),this.set_alpha(e.get_overlayBackgroundAlpha()),this.rgbLabel.set_textColor(e.get_lightTextColor()),this.rgbLabel.set_font(e.get_mediumFont()),this.hslLabel.set_textColor(e.get_lightTextColor()),this.hslLabel.set_font(e.get_mediumFont())},saveColor:function(){W.get_context().user.addPaletteColor(this.get_colorValue())},switchColorMode:function(){var e=!W.get_context().user.get_colorPickerHsluv();W.get_context().user.set_colorPickerHsluv(e),this.setColorFromRGB(this.get_colorValue()>>16&255,this.get_colorValue()>>8&255,255&this.get_colorValue())},updateColorPreviews:function(){for(var e=W.get_context().user.get_paletteColors(),n=this.get_draggingColorPreview(),t=this.get_draggingColorDropIndex(),i=(w.unobserve(),!1);this.get_paletteColorPreviews().length>e.length;)this.get_paletteColorPreviews().pop().destroy(),i=!0;for(;this.get_paletteColorPreviews().length<e.length;){var l=this.createColorPreview();this.add(l),this.get_paletteColorPreviews().push(l),i=!0}var s=-1;if(null!=n&&(s=this.get_paletteColorPreviews().indexOf(n)),0<e.length){for(var r=this.getColorPickerWidth()-2*bl.PADDING,h=-(bl.PALETTE_COLOR_SIZE+bl.PALETTE_COLOR_GAP),a=bl.PADDING+bl.GRADIENT_SIZE,o=0,c=e.length;o<c;){var u=o++,_=((h+=bl.PALETTE_COLOR_SIZE+bl.PALETTE_COLOR_GAP)+bl.PALETTE_COLOR_SIZE>r&&(h=0,a+=bl.PALETTE_COLOR_SIZE+bl.PALETTE_COLOR_GAP),u),u=(-1!=t&&(s<=u&&u<=t?++_:u<=s&&t<u&&--_),this.get_paletteColorPreviews()[_]);null!=u&&(u.set_colorValue(e[_]),_=0,null!=n&&n!=u&&u.offsetY==a&&(_=.1),Ec.transition(u,null,_,function(e){Pi.offset(e,h,a)}))}this.set_paletteHeight(a+bl.PALETTE_COLOR_SIZE-bl.GRADIENT_SIZE-bl.PADDING)}else this.set_paletteHeight(0);i&&this.invalidatePaletteColorPreviews(),w.reobserve()},updateFromColorDrop:function(){var e=this.get_draggingColorDropIndex(),e=(-1!=e&&(this.lastDraggingColorDropIndex=e),this.get_draggingColorPreview());null!=e&&(this.lastDraggingColorPreview=e)},createColorPreview:function(){var e=new gd;return e.onClick(this,$bind(this,this.handlePaletteColorClick)),e.onDrop(this,$bind(this,this.handlePaletteColorDrop)),e.onLongPress(this,$bind(this,this.handlePaletteColorLongPress)),e},handlePaletteColorClick:function(e){e=e.colorValue;this.setColorFromRGB(e>>16&255,e>>8&255,255&e)},handlePaletteColorDrop:function(e){var n=this.get_paletteColorPreviews().indexOf(this.get_draggingColorPreview());W.get_context().user.movePaletteColor(n,this.lastDraggingColorDropIndex)},handlePaletteColorLongPress:function(e,n){e=this.get_paletteColorPreviews().indexOf(e);-1!=e&&W.get_context().user.removePaletteColor(e)},relatedFieldView:function(){return this.colorFieldView},unbindEvents:function(){Cb.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offColorValueChange(),this.offDraggingColorPreviewChange(),this.offDraggingColorDropIndexChange(),this.offPaletteHeightChange(),this.offPaletteColorPreviewsChange()},__class__:bl,__properties__:$extend(Cb.prototype.__properties__,{set_paletteColorPreviews:"set_paletteColorPreviews",get_paletteColorPreviews:"get_paletteColorPreviews",set_paletteColors:"set_paletteColors",get_paletteColors:"get_paletteColors",set_hsluv:"set_hsluv",get_hsluv:"get_hsluv",set_paletteHeight:"set_paletteHeight",get_paletteHeight:"get_paletteHeight",get_unobservedDraggingColorDropIndex:"get_unobservedDraggingColorDropIndex",set_draggingColorDropIndex:"set_draggingColorDropIndex",get_draggingColorDropIndex:"get_draggingColorDropIndex",get_unobservedDraggingColorPreview:"get_unobservedDraggingColorPreview",set_draggingColorPreview:"set_draggingColorPreview",get_draggingColorPreview:"get_draggingColorPreview",set_colorValue:"set_colorValue",get_colorValue:"get_colorValue",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.assets=null,this.focusedWindow=null,this.view=null,this.user=new Il,this.unobservedTheme=new Al,this.themeAutoruns=null,this.observedDirty=!1,j.call(this),yr.loadFromKey(this.user,"elements-context",!0),yr.autoSaveAsKey(this.user,"elements-context")}),gl=((E["elements.Context"]=W).__name__="elements.Context",W.__interfaces__=[u],W.__properties__={set_context:"set_context",get_context:"get_context"},W.get_context=function(){return W.lazyContext&&(W.lazyContext=!1,W.context=new W),W.context},W.set_context=function(e){return W.context=e},W.__super__=j,W.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},user:null,get_windowsData:function(){return this.user.get_windowsData()},view:null,focusedWindow:null,assets:null,get_assets:function(){return null==this.assets&&(this.assets=new tn),this.assets},addWindowData:function(e){this.user.get_windowsData().h[e.id]=e;e=this.user;1!=e.dirty&&(e.dirty=!0,e.emitModelDirty(e))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange()},__class__:W,__properties__:$extend(j.prototype.__properties__,{get_assets:"get_assets",get_windowsData:"get_windowsData",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.CrossX"]=ld).__name__="elements.CrossX",ld.__super__=q,ld.prototype=$extend(q.prototype,{quad0:null,quad1:null,thickness:null,set_thickness:function(e){return this.thickness!=e&&(this.thickness=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},internalScale:null,set_internalScale:function(e){return this.internalScale!=e&&(this.internalScale=e,this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},color:null,set_color:function(e){return this.color!=e&&(this.color=e,this.quad0.color=e,this.quad1.color=e),e},set_width:function(e){return this.get_width()!=e&&(q.prototype.set_width.call(this,e),this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},set_height:function(e){return this.get_height()!=e&&(q.prototype.set_height.call(this,e),this.contentDirty=!0,ke.app.visualsContentDirty=!0),e},computeContent:function(){this.contentDirty=!1;var e=this.quad0,n=.5*this.get_width(),t=.5*this.get_height(),e=(e.set_x(n),e.set_y(t),this.quad0),n=.7*this.get_width(),i=this.thickness,e=(e.set_width(n),e.set_height(i),this.quad0),l=this.internalScale,e=(e.set_scaleX(l),e.set_scaleY(l),this.quad1),t=this.quad0.y,e=(e.set_x(this.quad0.x),e.set_y(t),this.quad1),n=this.quad0.get_width(),i=this.quad0.get_height(),e=(e.set_width(n),e.set_height(i),this.quad1),l=this.internalScale;e.set_scaleX(l),e.set_scaleY(l)},__class__:ld,__properties__:$extend(q.prototype.__properties__,{set_color:"set_color",set_internalScale:"set_internalScale",set_thickness:"set_thickness"})}),function(e,n,t,i){null==e&&(e=4),this.initializerName=null,this.isPointerDown=!1,this.pointerDragStartY=0,this.pointerDragStartX=0,this.pointerDownY=0,this.pointerDownX=0,this.visualDragStartY=0,this.visualDragStartX=0,this.draggingVisual=null,this.releaseDraggingVisual=null,this.getDraggingVisual=null,this.unobservedDragY=0,this.dragYAutoruns=null,this.unobservedDragX=0,this.dragXAutoruns=null,this.unobservedDragging=!1,this.draggingAutoruns=null,this.observedDirty=!1,j.call(this),this.click=n,this.threshold=e,this.getDraggingVisual=t,this.releaseDraggingVisual=i}),Ol=((E["elements.DragDrop"]=gl).__name__="elements.DragDrop",gl.__interfaces__=[u,b0],gl.__super__=j,gl.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,draggingAutoruns:null,get_dragging:function(){var e,n,t=this.unobservedDragging;return null!=w.current&&(e=w.current,null!=(n=this.draggingAutoruns)||(n=w.getAutorunArray(),null!=(this.draggingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_dragging:function(e){var n=this.unobservedDragging;return n!=(this.unobservedDragging=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDraggingChange(e,n),null!=(n=this.draggingAutoruns))&&(this.draggingAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDragging:function(){var e=this.unobservedDragging,e=(this.emitDraggingChange(e,e),this.draggingAutoruns);null!=e&&(this.draggingAutoruns=null,w.invalidateAutorunArray(e))},unobservedDragging:null,__cbOnDraggingChange:null,__cbOnceDraggingChange:null,__cbOnOwnerUnbindDraggingChange:null,__cbOnceOwnerUnbindDraggingChange:null,emitDraggingChange:function(e,n){var t=0;if(null!=this.__cbOnDraggingChange&&(t+=this.__cbOnDraggingChange.length),null!=this.__cbOnceDraggingChange&&(t+=this.__cbOnceDraggingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDraggingChange)for(var r=0,h=this.__cbOnDraggingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDraggingChange[a],++s):--t}if(null!=this.__cbOnceDraggingChange){for(var o=null,c=null,r=0,h=this.__cbOnceDraggingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDraggingChange[a],this.__cbOnceDraggingChange[a]=null,u=this.__cbOnceOwnerUnbindDraggingChange[a],(this.__cbOnceOwnerUnbindDraggingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDraggingChange[a]),c.push(this.__cbOnceDraggingChange[a]))}this.__cbOnceOwnerUnbindDraggingChange=o,this.__cbOnceDraggingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event draggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDraggingChange&&(this.__cbOnOwnerUnbindDraggingChange=[]),this.__cbOnOwnerUnbindDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDraggingChange&&(this.__cbOnOwnerUnbindDraggingChange=[]),this.__cbOnOwnerUnbindDraggingChange.push(null);null==this.__cbOnDraggingChange&&(this.__cbOnDraggingChange=[]),this.__cbOnDraggingChange.push(t)},onceDraggingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event draggingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDraggingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDraggingChange&&(this.__cbOnceOwnerUnbindDraggingChange=[]),this.__cbOnceOwnerUnbindDraggingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDraggingChange&&(this.__cbOnceOwnerUnbindDraggingChange=[]),this.__cbOnceOwnerUnbindDraggingChange.push(null);null==this.__cbOnceDraggingChange&&(this.__cbOnceDraggingChange=[]),this.__cbOnceDraggingChange.push(t)},offDraggingChange:function(e){if(null!=e){var n;null!=this.__cbOnDraggingChange&&-1!=(n=this.__cbOnDraggingChange.indexOf(e))&&(this.__cbOnDraggingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDraggingChange[n])&&s(),this.__cbOnOwnerUnbindDraggingChange.splice(n,1)),null!=this.__cbOnceDraggingChange&&-1!=(n=this.__cbOnceDraggingChange.indexOf(e))&&(this.__cbOnceDraggingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDraggingChange[n])&&s(),this.__cbOnceOwnerUnbindDraggingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDraggingChange){for(var t=0,i=this.__cbOnOwnerUnbindDraggingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDraggingChange[l])&&s()}this.__cbOnOwnerUnbindDraggingChange=null}if(null!=this.__cbOnceOwnerUnbindDraggingChange){for(t=0,i=this.__cbOnceOwnerUnbindDraggingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDraggingChange[l])&&s()}this.__cbOnceOwnerUnbindDraggingChange=null}this.__cbOnDraggingChange=null,this.__cbOnceDraggingChange=null}},listensDraggingChange:function(){return null!=this.__cbOnDraggingChange&&0<this.__cbOnDraggingChange.length||null!=this.__cbOnceDraggingChange&&0<this.__cbOnceDraggingChange.length},dragXAutoruns:null,get_dragX:function(){var e,n,t=this.unobservedDragX;return null!=w.current&&(e=w.current,null!=(n=this.dragXAutoruns)||(n=w.getAutorunArray(),null!=(this.dragXAutoruns=n)))&&e.bindToAutorunArray(n),t},set_dragX:function(e){var n=this.unobservedDragX;return n!=(this.unobservedDragX=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDragXChange(e,n),null!=(n=this.dragXAutoruns))&&(this.dragXAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDragX:function(){var e=this.unobservedDragX,e=(this.emitDragXChange(e,e),this.dragXAutoruns);null!=e&&(this.dragXAutoruns=null,w.invalidateAutorunArray(e))},unobservedDragX:null,__cbOnDragXChange:null,__cbOnceDragXChange:null,__cbOnOwnerUnbindDragXChange:null,__cbOnceOwnerUnbindDragXChange:null,emitDragXChange:function(e,n){var t=0;if(null!=this.__cbOnDragXChange&&(t+=this.__cbOnDragXChange.length),null!=this.__cbOnceDragXChange&&(t+=this.__cbOnceDragXChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDragXChange)for(var r=0,h=this.__cbOnDragXChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDragXChange[a],++s):--t}if(null!=this.__cbOnceDragXChange){for(var o=null,c=null,r=0,h=this.__cbOnceDragXChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDragXChange[a],this.__cbOnceDragXChange[a]=null,u=this.__cbOnceOwnerUnbindDragXChange[a],(this.__cbOnceOwnerUnbindDragXChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDragXChange[a]),c.push(this.__cbOnceDragXChange[a]))}this.__cbOnceOwnerUnbindDragXChange=o,this.__cbOnceDragXChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDragXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event dragXChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDragXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDragXChange&&(this.__cbOnOwnerUnbindDragXChange=[]),this.__cbOnOwnerUnbindDragXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDragXChange&&(this.__cbOnOwnerUnbindDragXChange=[]),this.__cbOnOwnerUnbindDragXChange.push(null);null==this.__cbOnDragXChange&&(this.__cbOnDragXChange=[]),this.__cbOnDragXChange.push(t)},onceDragXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event dragXChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDragXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDragXChange&&(this.__cbOnceOwnerUnbindDragXChange=[]),this.__cbOnceOwnerUnbindDragXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDragXChange&&(this.__cbOnceOwnerUnbindDragXChange=[]),this.__cbOnceOwnerUnbindDragXChange.push(null);null==this.__cbOnceDragXChange&&(this.__cbOnceDragXChange=[]),this.__cbOnceDragXChange.push(t)},offDragXChange:function(e){if(null!=e){var n;null!=this.__cbOnDragXChange&&-1!=(n=this.__cbOnDragXChange.indexOf(e))&&(this.__cbOnDragXChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDragXChange[n])&&s(),this.__cbOnOwnerUnbindDragXChange.splice(n,1)),null!=this.__cbOnceDragXChange&&-1!=(n=this.__cbOnceDragXChange.indexOf(e))&&(this.__cbOnceDragXChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDragXChange[n])&&s(),this.__cbOnceOwnerUnbindDragXChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDragXChange){for(var t=0,i=this.__cbOnOwnerUnbindDragXChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDragXChange[l])&&s()}this.__cbOnOwnerUnbindDragXChange=null}if(null!=this.__cbOnceOwnerUnbindDragXChange){for(t=0,i=this.__cbOnceOwnerUnbindDragXChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDragXChange[l])&&s()}this.__cbOnceOwnerUnbindDragXChange=null}this.__cbOnDragXChange=null,this.__cbOnceDragXChange=null}},listensDragXChange:function(){return null!=this.__cbOnDragXChange&&0<this.__cbOnDragXChange.length||null!=this.__cbOnceDragXChange&&0<this.__cbOnceDragXChange.length},dragYAutoruns:null,get_dragY:function(){var e,n,t=this.unobservedDragY;return null!=w.current&&(e=w.current,null!=(n=this.dragYAutoruns)||(n=w.getAutorunArray(),null!=(this.dragYAutoruns=n)))&&e.bindToAutorunArray(n),t},set_dragY:function(e){var n=this.unobservedDragY;return n!=(this.unobservedDragY=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDragYChange(e,n),null!=(n=this.dragYAutoruns))&&(this.dragYAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDragY:function(){var e=this.unobservedDragY,e=(this.emitDragYChange(e,e),this.dragYAutoruns);null!=e&&(this.dragYAutoruns=null,w.invalidateAutorunArray(e))},unobservedDragY:null,__cbOnDragYChange:null,__cbOnceDragYChange:null,__cbOnOwnerUnbindDragYChange:null,__cbOnceOwnerUnbindDragYChange:null,emitDragYChange:function(e,n){var t=0;if(null!=this.__cbOnDragYChange&&(t+=this.__cbOnDragYChange.length),null!=this.__cbOnceDragYChange&&(t+=this.__cbOnceDragYChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDragYChange)for(var r=0,h=this.__cbOnDragYChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDragYChange[a],++s):--t}if(null!=this.__cbOnceDragYChange){for(var o=null,c=null,r=0,h=this.__cbOnceDragYChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDragYChange[a],this.__cbOnceDragYChange[a]=null,u=this.__cbOnceOwnerUnbindDragYChange[a],(this.__cbOnceOwnerUnbindDragYChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDragYChange[a]),c.push(this.__cbOnceDragYChange[a]))}this.__cbOnceOwnerUnbindDragYChange=o,this.__cbOnceDragYChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDragYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event dragYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDragYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDragYChange&&(this.__cbOnOwnerUnbindDragYChange=[]),this.__cbOnOwnerUnbindDragYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDragYChange&&(this.__cbOnOwnerUnbindDragYChange=[]),this.__cbOnOwnerUnbindDragYChange.push(null);null==this.__cbOnDragYChange&&(this.__cbOnDragYChange=[]),this.__cbOnDragYChange.push(t)},onceDragYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event dragYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDragYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDragYChange&&(this.__cbOnceOwnerUnbindDragYChange=[]),this.__cbOnceOwnerUnbindDragYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDragYChange&&(this.__cbOnceOwnerUnbindDragYChange=[]),this.__cbOnceOwnerUnbindDragYChange.push(null);null==this.__cbOnceDragYChange&&(this.__cbOnceDragYChange=[]),this.__cbOnceDragYChange.push(t)},offDragYChange:function(e){if(null!=e){var n;null!=this.__cbOnDragYChange&&-1!=(n=this.__cbOnDragYChange.indexOf(e))&&(this.__cbOnDragYChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDragYChange[n])&&s(),this.__cbOnOwnerUnbindDragYChange.splice(n,1)),null!=this.__cbOnceDragYChange&&-1!=(n=this.__cbOnceDragYChange.indexOf(e))&&(this.__cbOnceDragYChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDragYChange[n])&&s(),this.__cbOnceOwnerUnbindDragYChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDragYChange){for(var t=0,i=this.__cbOnOwnerUnbindDragYChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDragYChange[l])&&s()}this.__cbOnOwnerUnbindDragYChange=null}if(null!=this.__cbOnceOwnerUnbindDragYChange){for(t=0,i=this.__cbOnceOwnerUnbindDragYChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDragYChange[l])&&s()}this.__cbOnceOwnerUnbindDragYChange=null}this.__cbOnDragYChange=null,this.__cbOnceDragYChange=null}},listensDragYChange:function(){return null!=this.__cbOnDragYChange&&0<this.__cbOnDragYChange.length||null!=this.__cbOnceDragYChange&&0<this.__cbOnceDragYChange.length},click:null,getDraggingVisual:null,releaseDraggingVisual:null,threshold:null,draggingVisual:null,entity:null,visualDragStartX:null,visualDragStartY:null,pointerDownX:null,pointerDownY:null,pointerDragStartX:null,pointerDragStartY:null,isPointerDown:null,bindAsComponent:function(){this.entity.onPointerDown(this,$bind(this,this.handlePointerDown))},drag:function(e,n){var t;null==e&&(e=ke.app.screen.pointerX),null==n&&(n=ke.app.screen.pointerY),this.get_dragging()?ke.app.logger.warning("Already dragging!",{fileName:"../../../../ceramic/plugins/elements/runtime/src/elements/DragDrop.hx",lineNumber:183,className:"elements.DragDrop",methodName:"drag"}):(this.set_dragging(!0),null!=this.click&&this.click.cancel(),this.isPointerDown||(null!=(t=ke.app.screen.get_focusedVisual())?t:ke.app.screen).oncePointerUp(this,$bind(this,this.handlePointerUp)),this.draggingVisual=this.getDraggingVisual(),this.visualDragStartX=gl._point.x,this.visualDragStartY=gl._point.y,this.pointerDragStartX=e,this.pointerDragStartY=n,this.set_dragX(0),this.set_dragY(0))},handlePointerDown:function(e){this.isPointerDown=!0,this.pointerDownX=e.x,this.pointerDownY=e.y,ke.app.screen.onPointerMove(this,$bind(this,this.handlePointerMove)),this.entity.oncePointerUp(this,$bind(this,this.handlePointerUp))},handlePointerMove:function(e){this.get_dragging()?this.updateDrag(e.x,e.y):(Math.abs(e.x-this.pointerDownX)>this.threshold||Math.abs(e.y-this.pointerDownY)>this.threshold)&&(this.drag(this.pointerDownX,this.pointerDownY),this.updateDrag(e.x,e.y))},handlePointerUp:function(e){ke.app.screen.offPointerMove($bind(this,this.handlePointerMove)),this.get_dragging()&&this.set_dragging(!1),null!=this.draggingVisual&&(null!=this.releaseDraggingVisual?this.releaseDraggingVisual(this.draggingVisual):this.draggingVisual=null)},updateDrag:function(e,n){var t,i;null!=this.draggingVisual.parent?(this.draggingVisual.parent.screenToVisual(this.pointerDragStartX,this.pointerDragStartY,gl._point),t=gl._point.x,i=gl._point.y,this.draggingVisual.parent.screenToVisual(e,n,gl._point),this.set_dragX(gl._point.x-t),this.set_dragY(gl._point.y-i)):(this.set_dragX(e-this.pointerDragStartX),this.set_dragY(n-this.pointerDragStartY))},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offDraggingChange(),this.offDragXChange(),this.offDragYChange()},setEntity:function(e){this.entity=e instanceof q?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:gl,__properties__:$extend(j.prototype.__properties__,{set_dragY:"set_dragY",get_dragY:"get_dragY",set_dragX:"set_dragX",get_dragX:"get_dragX",set_dragging:"set_dragging",get_dragging:"get_dragging"})}),(E["elements.EnumAbstractInfo"]=od).__name__="elements.EnumAbstractInfo",od.prototype={enumFields:null,enumValues:null,getEnumFields:function(){return this.enumFields},getEnumFieldFromValue:function(e){return null==e||(e=this.enumValues.indexOf(e))<0?null:this.enumFields[e]},createEnumValue:function(e){return null==e||(e=this.enumFields.indexOf(e))<0?null:this.enumValues[e]},__class__:od},function(){this.unobservedFocusedFieldThisFrame=null,this.focusedFieldThisFrameAutoruns=null,this.unobservedFocusedField=null,this.focusedFieldAutoruns=null,this.observedDirty=!1,a1.call(this),this.set_earlyUpdateOrder(50),this.set_focusedFieldThisFrame(this.get_focusedField()),this.onFocusedFieldChange(this,$bind(this,this.handleFocusedFieldChange))}),K=((E["elements.FieldSystem"]=Ol).__name__="elements.FieldSystem",Ol.__interfaces__=[u],Ol.__properties__={set_shared:"set_shared",get_shared:"get_shared"},Ol.get_shared=function(){return Ol.lazyShared&&(Ol.lazyShared=!1,Ol.shared=new Ol),Ol.shared},Ol.set_shared=function(e){return Ol.shared=e},Ol.__super__=a1,Ol.prototype=$extend(a1.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,focusedFieldAutoruns:null,get_focusedField:function(){var e,n,t=this.unobservedFocusedField;return null!=w.current&&(e=w.current,null!=(n=this.focusedFieldAutoruns)||(n=w.getAutorunArray(),null!=(this.focusedFieldAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedField:function(e){var n=this.unobservedFocusedField;return n!=(this.unobservedFocusedField=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedFieldChange(e,n),null!=(n=this.focusedFieldAutoruns))&&(this.focusedFieldAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFocusedField:function(){var e=this.unobservedFocusedField,e=(this.emitFocusedFieldChange(e,e),this.focusedFieldAutoruns);null!=e&&(this.focusedFieldAutoruns=null,w.invalidateAutorunArray(e))},unobservedFocusedField:null,__cbOnFocusedFieldChange:null,__cbOnceFocusedFieldChange:null,__cbOnOwnerUnbindFocusedFieldChange:null,__cbOnceOwnerUnbindFocusedFieldChange:null,emitFocusedFieldChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedFieldChange&&(t+=this.__cbOnFocusedFieldChange.length),null!=this.__cbOnceFocusedFieldChange&&(t+=this.__cbOnceFocusedFieldChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedFieldChange)for(var r=0,h=this.__cbOnFocusedFieldChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFocusedFieldChange[a],++s):--t}if(null!=this.__cbOnceFocusedFieldChange){for(var o=null,c=null,r=0,h=this.__cbOnceFocusedFieldChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFocusedFieldChange[a],this.__cbOnceFocusedFieldChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedFieldChange[a],(this.__cbOnceOwnerUnbindFocusedFieldChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedFieldChange[a]),c.push(this.__cbOnceFocusedFieldChange[a]))}this.__cbOnceOwnerUnbindFocusedFieldChange=o,this.__cbOnceFocusedFieldChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFocusedFieldChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focusedFieldChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedFieldChange&&(this.__cbOnOwnerUnbindFocusedFieldChange=[]),this.__cbOnOwnerUnbindFocusedFieldChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedFieldChange&&(this.__cbOnOwnerUnbindFocusedFieldChange=[]),this.__cbOnOwnerUnbindFocusedFieldChange.push(null);null==this.__cbOnFocusedFieldChange&&(this.__cbOnFocusedFieldChange=[]),this.__cbOnFocusedFieldChange.push(t)},onceFocusedFieldChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focusedFieldChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedFieldChange&&(this.__cbOnceOwnerUnbindFocusedFieldChange=[]),this.__cbOnceOwnerUnbindFocusedFieldChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedFieldChange&&(this.__cbOnceOwnerUnbindFocusedFieldChange=[]),this.__cbOnceOwnerUnbindFocusedFieldChange.push(null);null==this.__cbOnceFocusedFieldChange&&(this.__cbOnceFocusedFieldChange=[]),this.__cbOnceFocusedFieldChange.push(t)},offFocusedFieldChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedFieldChange&&-1!=(n=this.__cbOnFocusedFieldChange.indexOf(e))&&(this.__cbOnFocusedFieldChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedFieldChange[n])&&s(),this.__cbOnOwnerUnbindFocusedFieldChange.splice(n,1)),null!=this.__cbOnceFocusedFieldChange&&-1!=(n=this.__cbOnceFocusedFieldChange.indexOf(e))&&(this.__cbOnceFocusedFieldChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedFieldChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedFieldChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedFieldChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedFieldChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedFieldChange[l])&&s()}this.__cbOnOwnerUnbindFocusedFieldChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedFieldChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedFieldChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedFieldChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedFieldChange=null}this.__cbOnFocusedFieldChange=null,this.__cbOnceFocusedFieldChange=null}},listensFocusedFieldChange:function(){return null!=this.__cbOnFocusedFieldChange&&0<this.__cbOnFocusedFieldChange.length||null!=this.__cbOnceFocusedFieldChange&&0<this.__cbOnceFocusedFieldChange.length},focusedFieldThisFrameAutoruns:null,get_focusedFieldThisFrame:function(){var e,n,t=this.unobservedFocusedFieldThisFrame;return null!=w.current&&(e=w.current,null!=(n=this.focusedFieldThisFrameAutoruns)||(n=w.getAutorunArray(),null!=(this.focusedFieldThisFrameAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedFieldThisFrame:function(e){var n=this.unobservedFocusedFieldThisFrame;return n!=(this.unobservedFocusedFieldThisFrame=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedFieldThisFrameChange(e,n),null!=(n=this.focusedFieldThisFrameAutoruns))&&(this.focusedFieldThisFrameAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFocusedFieldThisFrame:function(){var e=this.unobservedFocusedFieldThisFrame,e=(this.emitFocusedFieldThisFrameChange(e,e),this.focusedFieldThisFrameAutoruns);null!=e&&(this.focusedFieldThisFrameAutoruns=null,w.invalidateAutorunArray(e))},unobservedFocusedFieldThisFrame:null,__cbOnFocusedFieldThisFrameChange:null,__cbOnceFocusedFieldThisFrameChange:null,__cbOnOwnerUnbindFocusedFieldThisFrameChange:null,__cbOnceOwnerUnbindFocusedFieldThisFrameChange:null,emitFocusedFieldThisFrameChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedFieldThisFrameChange&&(t+=this.__cbOnFocusedFieldThisFrameChange.length),null!=this.__cbOnceFocusedFieldThisFrameChange&&(t+=this.__cbOnceFocusedFieldThisFrameChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedFieldThisFrameChange)for(var r=0,h=this.__cbOnFocusedFieldThisFrameChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFocusedFieldThisFrameChange[a],++s):--t}if(null!=this.__cbOnceFocusedFieldThisFrameChange){for(var o=null,c=null,r=0,h=this.__cbOnceFocusedFieldThisFrameChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFocusedFieldThisFrameChange[a],this.__cbOnceFocusedFieldThisFrameChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[a],(this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[a]),c.push(this.__cbOnceFocusedFieldThisFrameChange[a]))}this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange=o,this.__cbOnceFocusedFieldThisFrameChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFocusedFieldThisFrameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focusedFieldThisFrameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldThisFrameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedFieldThisFrameChange&&(this.__cbOnOwnerUnbindFocusedFieldThisFrameChange=[]),this.__cbOnOwnerUnbindFocusedFieldThisFrameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedFieldThisFrameChange&&(this.__cbOnOwnerUnbindFocusedFieldThisFrameChange=[]),this.__cbOnOwnerUnbindFocusedFieldThisFrameChange.push(null);null==this.__cbOnFocusedFieldThisFrameChange&&(this.__cbOnFocusedFieldThisFrameChange=[]),this.__cbOnFocusedFieldThisFrameChange.push(t)},onceFocusedFieldThisFrameChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focusedFieldThisFrameChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldThisFrameChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange&&(this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange=[]),this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange&&(this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange=[]),this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange.push(null);null==this.__cbOnceFocusedFieldThisFrameChange&&(this.__cbOnceFocusedFieldThisFrameChange=[]),this.__cbOnceFocusedFieldThisFrameChange.push(t)},offFocusedFieldThisFrameChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedFieldThisFrameChange&&-1!=(n=this.__cbOnFocusedFieldThisFrameChange.indexOf(e))&&(this.__cbOnFocusedFieldThisFrameChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedFieldThisFrameChange[n])&&s(),this.__cbOnOwnerUnbindFocusedFieldThisFrameChange.splice(n,1)),null!=this.__cbOnceFocusedFieldThisFrameChange&&-1!=(n=this.__cbOnceFocusedFieldThisFrameChange.indexOf(e))&&(this.__cbOnceFocusedFieldThisFrameChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedFieldThisFrameChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedFieldThisFrameChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedFieldThisFrameChange[l])&&s()}this.__cbOnOwnerUnbindFocusedFieldThisFrameChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedFieldThisFrameChange=null}this.__cbOnFocusedFieldThisFrameChange=null,this.__cbOnceFocusedFieldThisFrameChange=null}},listensFocusedFieldThisFrameChange:function(){return null!=this.__cbOnFocusedFieldThisFrameChange&&0<this.__cbOnFocusedFieldThisFrameChange.length||null!=this.__cbOnceFocusedFieldThisFrameChange&&0<this.__cbOnceFocusedFieldThisFrameChange.length},handleFocusedFieldChange:function(e,n){null!=e?this.set_focusedFieldThisFrame(e):ke.app.onceFinishDraw(this,$bind(this,this.updateFocusedFieldThisFrame))},updateFocusedFieldThisFrame:function(){this.set_focusedFieldThisFrame(this.get_focusedField())},earlyUpdate:function(e){this.updateFocusedField()},updateFocusedField:function(){for(var e=ke.app.screen.get_focusedVisual(),n=(w.unobserve(),null),t=e;null!=t;){if(t instanceof R2){n=t;break}if(ws.__implements(t,hd)){var i=t.relatedFieldView();if(null!=i){n=i;break}}t=t.parent}e=this.get_focusedField();this.set_focusedField(n),e!=n&&e instanceof R2&&e.didLostFocus(),w.reobserve()},unbindEvents:function(){a1.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offFocusedFieldChange(),this.offFocusedFieldThisFrameChange()},__class__:Ol,__properties__:$extend(a1.prototype.__properties__,{set_focusedFieldThisFrame:"set_focusedFieldThisFrame",get_focusedFieldThisFrame:"get_focusedFieldThisFrame",set_focusedField:"set_focusedField",get_focusedField:"get_focusedField"})}),(E["elements.FormLayout"]=qd).__name__="elements.FormLayout",qd.__interfaces__=[u],qd.__super__=s0,qd.prototype=$extend(s0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},tabFocus:null,set_tabFocus:function(e){return this.tabFocus==e?this.tabFocus:(null!=this.tabFocus&&this.tabFocus.destroy(),this.tabFocus=e,null!=this.tabFocus?(this.component("tabFocus",this.tabFocus,!0),this.tabFocus):(this.removeComponent("tabFocus"),null))},backgroundTop:null,backgrounds:null,backgroundBottom:null,destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,null!=this.backgrounds)for(var e=this.backgrounds,n=(this.backgrounds=null,0),t=e.length;n<t;){var i=e[n++];null!=i&&i.destroy()}null!=this.backgroundTop&&(this.backgroundTop.destroy(),this.backgroundTop=null),null!=this.backgroundBottom&&(this.backgroundBottom.destroy(),this.backgroundBottom=null),this._lifecycleState=-1,s0.prototype.destroy.call(this)}},layout:function(){s0.prototype.layout.call(this),this.computeBackgrounds(),null!=this.backgroundTop&&((e=this.backgroundTop).set_x(0),e.set_y(0),e=this.backgroundTop,n=this.get_width(),t=this.paddingTop-Math.floor(.5*this.itemSpacing),e.set_width(n),e.set_height(t));var e,n,t,i=this.backgroundTop.y+this.backgroundTop.get_height();if(null!=this.subviews&&0<this.subviews.length)for(var l=0,s=this.subviews.length;l<s;){var r=l++,h=this.subviews[r],r=this.backgrounds[r],a=h.y+h.get_height()*h.anchorY-Math.floor(.5*this.itemSpacing),o=h.get_height()+this.itemSpacing;null!=r&&(r.set_x(h.x+h.get_width()*h.anchorX-this.paddingLeft),r.set_y(a),r.set_width(this.get_width()),r.set_height(o)),i=a+o}null!=this.backgroundBottom&&((e=this.backgroundBottom).set_x(0),e.set_y(i),e=this.backgroundBottom,n=this.get_width(),t=this.get_height()-i,e.set_width(n),e.set_height(t))},computeBackgrounds:function(){var e=this.get_theme();if((e=null==e?W.get_context().get_theme():e).get_backgroundInFormLayout()){var n=e.get_windowBackgroundColor(),t=e.get_windowBackgroundAlpha();if(w.unobserve(),null==this.backgroundTop&&(this.backgroundTop=new r,this.backgroundTop.set_depth(.5),this.add(this.backgroundTop)),null!=this.subviews&&0<this.subviews.length){null==this.backgrounds&&(this.backgrounds=[]);for(var i=null,l=0,s=this.subviews.length;l<s;){var h=l++,a=this.subviews[h],o=(w.reobserve(),i=L.getProperty(a,"theme"),w.unobserve(),null==i&&(i=e),w.reobserve(),n=i.get_windowBackgroundColor(),t=i.get_windowBackgroundAlpha(),w.unobserve(),0==h&&(this.backgroundTop.color=n,this.backgroundTop.set_alpha(t)),L.field(a,"renderWindowBackground"));null==o||0==o.apply(a,qd.EMPTY_ARRAY)?(null==(u=this.backgrounds[h])?((u=new r).set_depth(.5),this.add(u),this.backgrounds[h]=u):u.set_active(!0),u.color=n,u.set_alpha(t)):this.backgrounds.length==h&&this.backgrounds.push(null)}}else this.backgroundTop.color=n,this.backgroundTop.set_alpha(t);null==this.backgroundBottom&&(this.backgroundBottom=new r,this.backgroundBottom.set_depth(.5),this.add(this.backgroundBottom)),this.backgroundBottom.color=n,this.backgroundBottom.set_alpha(t),this.layoutDirty=!0}else w.unobserve(),null!=this.backgroundTop&&this.backgroundTop.set_active(!1),null!=this.backgroundBottom&&this.backgroundBottom.set_active(!1);if(null!=this.backgrounds){var c=null!=this.subviews?this.subviews.length:0;if(0<c)for(l=c,s=this.backgrounds.length;l<s;){var u,h=l++;null!=(u=this.backgrounds[h])&&u.set_active(!1)}}},updateStyle:function(){var e=this.get_theme();null==e&&(e=W.get_context().get_theme()),this.color=e.get_mediumBackgroundColor(),this.set_itemSpacing(e.get_formItemSpacing()),this.padding(e.get_formPadding())},unbindEvents:function(){s0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange()},__class__:qd,__properties__:$extend(s0.prototype.__properties__,{set_tabFocus:"set_tabFocus",set_theme:"set_theme",get_theme:"get_theme"})}),function(){}),fl=((E["elements.Im"]=K).__name__="elements.Im",K.__properties__={get_current:"get_current",get_currentTheme:"get_currentTheme",get_defaultTheme:"get_defaultTheme"},K.initIfNeeded=function(){null==W.get_context().view&&pl.get_shared().createView(),null==K._imTheme&&(K._imTheme=new Al),null==K._theme&&(K._theme=K._imTheme)},K.extractId=function(e){return e},K.extractTitle=function(e){return e},K.beginFrame=function(){if(K.initIfNeeded(),K._shouldSkipRender=!1,K._imTheme.set_backgroundInFormLayout(!0),K._usedWindowKeys.h=Object.create(null),K._numUsedWindows=0,K._assets=null,K._theme=K._imTheme,K._themeTint=-1,K._themeAltTint=-1,K._themeBackgroundColor=-1,K._themeTextColor=-1,null!=K._themePool)for(var e=0,n=K._themePool.length;e<n;){var t=e++;K._themePool[t]._used=!1}for(;0<K._beginFrameCallbacks.length;)K._beginFrameCallbacks.pop()();for(e=0,n=K._pointerBaseHandleOccurences.length;e<n;){t=e++;K._pointerBaseHandleOccurences[t]=0}for(var i=K._assetUses.h,l=i,s=Object.keys(i),r=s.length,h=0;h<r;){var a,o=u=s[h++],c=l[u];0<c?K._assetUses.h[o]=0:--c<-60?(a=K._assetUses,Object.prototype.hasOwnProperty.call(a.h,o)&&delete a.h[o],null!=(a=(null!=K._assets?K._assets:W.get_context().get_assets()).asset(o,null,null))&&a.destroy()):K._assetUses.h[o]=c}for(l=i=W.get_context().user.get_windowsData().h,r=(s=Object.keys(i)).length,h=0;h<r;){var u;u=s[h++];l[u].beginFrame()}},K.updateWindowsDepth=function(){for(var e=K._orderedWindows.length,n=0,t=e;n<t;){var i=n++;K._orderedWindowsIterated[i]=K._orderedWindows[i]}for(var l=!1,n=0,t=e;n<t;){i=n++;if(null!=(s=K._orderedWindowsIterated[i]).overlay){l=!0;break}}if(l)for(n=0,t=e-1;n<t;){var i=n++,s=K._orderedWindowsIterated[i];(K._orderedWindowsIterated[i]=null)!=s.overlay&&null==K._orderedWindows[e-1].overlay&&(he.remove(K._orderedWindows,s),K._orderedWindows.push(s))}else for(n=0,t=e-1;n<t;){i=n++,s=K._orderedWindowsIterated[i];(K._orderedWindowsIterated[i]=null)==ke.app.screen.get_focusedVisual()||ke.app.screen.get_focusedVisual()!=s&&!ke.app.screen.get_focusedVisual().hasIndirectParent(s)||(he.remove(K._orderedWindows,s),K._orderedWindows.push(s))}for(var r=1,n=0,t=e;n<t;){i=n++;null!=(s=K._orderedWindows[i]).overlay&&s.overlay.set_depth(r++),s.set_depth(r++)}},K.displayPendingDialogIfNeeded=function(){if(0<K._pendingDialogs.length){for(var e=null,n=0,t=K._pendingDialogs.length;n<t;){var i=n++,l=K._pendingDialogs[i];if(!l.canceled&&-1==l.chosenIndex){e=l;break}}if(null!=e){for(var s=K._displayedPendingDialog!=e,r=-1,h=!1,a=(K._displayedPendingDialog=e).width,a=K._begin("Im.pendingDialog",e.title,a=null==a?200:a,-60001,{fileName:"../../../../ceramic/plugins/elements/runtime/src/elements/Im.hx",lineNumber:416,className:"elements.Im",methodName:"displayPendingDialogIfNeeded"}),o=(K.position(.5*Z.app.screenWidth,.5*Z.app.screenHeight,.5,.5),K.overlay()&&e.cancelable&&(h=!0),K.expanded(),K.titleAlign(ai.CENTER),e.cancelable&&K.closable()&&(h=!0),K.textAlign(ai.CENTER),e.message),n=(null!=o&&K.text(o),null!=e.promptPointer&&2==(2&K.editText(null,e.promptPointer,!1,e.promptPlaceholder,null,!0))&&(r=0),2==e.choices.length&&K.beginRow(),0),t=e.choices.length;n<t;){var i=n++,c=e.choices[i];K._button(c,!0)&&(r=i)}2==e.choices.length&&K.endRow(),K.end(),-1!=r?(e.callback(r,e.choices[r]),e.chosenIndex=r,e.async&&(he.remove(K._pendingDialogs,e),e.destroy())):h?(e.canceled=!0,e.async&&(he.remove(K._pendingDialogs,e),e.destroy())):W.get_context().focusedWindow==a&&!s||ke.app.screen.set_focusedVisual(a)}}},K.endFrame=function(){for(;0<K._changeChecks.length;)K._changeChecks.pop();K.displayPendingDialogIfNeeded(),K.updateWindowsDepth();for(var e=W.get_context().user.get_windowsData().h,n=e,t=Object.keys(e),i=t.length,l=0;l<i;){var s=t[l++];n[s].endFrame()}0<K._numUsedWindows&&Ii.get_shared().onceEndLateUpdate(pl.get_shared(),function(e){K._shouldSkipRender||pl.get_shared().requestRender()})},K.depth=function(e){null==W.get_context().view&&pl.get_shared().createView(),W.get_context().view.set_depth(e)},K.get=function(e){e=K.extractId(e),e=W.get_context().user.get_windowsData().h[e];return null!=e?e.window:null},K.hits=function(e,n){for(var t=W.get_context().user.get_windowsData().h,i=t,l=Object.keys(t),s=l.length,r=0;r<s;){var h=l[r++],h=i[h].window;if(null!=h&&h._hits(e,n,!1))return!0}t=Ol.get_shared().get_focusedField();return null!=t&&t.hitsSelfOrDerived(e,n)},K.usesScanCode=function(e){var n,t=Ol.get_shared().get_focusedFieldThisFrame();return!(null==t||!t.usesScanCode(e))||!(null==(n=Ol.get_shared().get_focusedField())||n==t||!n.usesScanCode(e))},K.usesKeyCode=function(e){var n,t=Ol.get_shared().get_focusedFieldThisFrame();return!(null==t||!t.usesKeyCode(e))||!(null==(n=Ol.get_shared().get_focusedField())||n==t||!n.usesKeyCode(e))},K.usesCmdOrCtrl=function(){return!!(K.usesScanCode(227)||K.usesScanCode(231)||K.usesScanCode(224))||K.usesScanCode(228)},K.usesShift=function(){return!!K.usesScanCode(225)||K.usesScanCode(229)},K._begin=function(e,n,t,i,l){null==i&&(i=-60001),null==t&&(t=200);null==W.get_context().view&&pl.get_shared().createView(),K.pointSize(),K.preRenderedSize(),K.bold(!1);var s=K.extractId(e),r=K._usedWindowKeys,l=K._posInfosToString(l),r=(r.h[s]=l,K._numUsedWindows++,null!=n?n:K.extractTitle(e)),h=W.get_context().user.get_windowsData().h[s],a=null!=h?h.window:null;if(null==h){(h=new Ml).id=s,null!=a&&(h.set_x(a.x),h.set_y(a.y));do{for(var o=!1,c=W.get_context().user.get_windowsData().h,u=c,_=Object.keys(c),d=_.length,b=0;b<d;){var g=u[_[b++]];h.get_y()==g.get_y()&&(o=!0,h.set_y(h.get_y()+21),h.set_x(h.get_x()+4))}}while(o);W.get_context().addWindowData(h)}return null==a&&(a=new Bl,K._orderedWindows.push(a),a.onDestroy(null,function(e){he.remove(K._orderedWindows,e)}),a.id=s,K._shouldSkipRender=!0,a.set_active(!1),l=h.get_x(),n=h.get_y(),a.set_x(l),a.set_y(n),a.set_viewHeight(-60001),a.onHeaderDoubleClick(a,function(){h.collapsible&&h.set_expanded(!h.get_expanded())}),a.onExpandCollapseClick(a,function(){h.collapsible&&h.set_expanded(!h.get_expanded())}),a.onClose(a,function(){h.closable&&(h.justClosed=!0)}),W.get_context().view.add(a),h.window=a,h.justClosed=!1,K._beginFrameCallbacks.push(function(){null!=a&&0<=a._lifecycleState&&a.set_active(!0)})),a.x<0&&a.set_x(0),a.x+a.get_width()>W.get_context().view.get_width()&&a.set_x(W.get_context().view.get_width()-a.get_width()),a.y<0&&a.set_y(0),a.y+Bl.HEADER_HEIGHT>W.get_context().view.get_height()&&a.set_y(W.get_context().view.get_height()-Bl.HEADER_HEIGHT),h.set_x(a.x),h.set_y(a.y),a.set_viewWidth(t),a.set_viewHeight(-60001),a.set_title(r),h.used=!0,h.closable=!1,h.movable=!0,h.collapsible=!0,h.set_header(!0),h.set_scrollbar(0),h.scrollable&&(h.didScrollWithHeight<-1?h.didScrollWithHeight++:-1<h.didScrollWithHeight&&null!=a&&a.get_height()>h.didScrollWithHeight?h.didScrollWithHeight=-2:null!=a&&(e=Math.max(h.didScrollWithHeight,a.get_height()),h.didScrollWithHeight=Math.round(e))),h.titleAlign=ai.LEFT,h.overlay=!1,h.overlayTheme=null,h.set_width(t),h.set_height(i),h.targetX=-999999999,h.targetY=-999999999,h.targetAnchorX=-999999999,h.targetAnchorY=-999999999,h.theme=K._theme,null!=a&&a.set_theme(K._theme),K._currentWindowData=h,a},K._beginTabs=function(e){var n,t,i=K._currentWindowData,l=El.get(),i=(l.theme=K._theme,l.disabled=K._fieldsDisabled,l.kind=15,l.string0=e(),l.string1=l.string0,l.intArray0=[],l.stringArray0=[],l.stringArray1=[],l.anyArray0=[],l.any0=e,i.addItem(l),!1);return l.isSameItem(l.previous)&&(n=l.previous.string0,(t=l.previous.string1)!=n)&&(i=!0,l.string0=t,e(l.string1=t,null==t)),K._currentTabBarItem.push(l),i},K.endTabs=function(){K._currentTabBarItem[K._currentTabBarItem.length-1];K._currentTabBarItem.pop()},K._tab=function(e,n){var t=K.extractId(e),n=null!=n?n:K.extractTitle(e),e=K._currentTabBarItem[K._currentTabBarItem.length-1];return e.intArray0.push(K._fieldsDisabled?1:0),e.stringArray0.push(t),e.stringArray1.push(n),e.anyArray0.push(K._theme),1==e.stringArray0.length&&null==(n=e.any0)()&&(n(n=t,null==n),e.string0=n,e.string1=n),t==e.string0},K.beginRow=function(){K._currentRowIndex++,K._inRow=!0,K._flex=1},K.endRow=function(){K._inRow=!1,K._flex=1},K.beginChangeCheck=function(){K._changeChecks.push(!1)},K.endChangeCheck=function(){return K._changeChecks.pop()},K._markChanged=function(){for(var e=0,n=K._changeChecks.length;e<n;){var t=e++;K._changeChecks[t]=!0}},K.labelPosition=function(e){K._labelPosition=e=null==e?1:e},K.labelWidth=function(e){K._labelWidth=e=null==e?-49965:e},K.textAlign=function(e){null==e&&(e=ai.LEFT),K._textAlign=e},K.disabled=function(e){K._fieldsDisabled=e},K.flex=function(e){K._flex=e},K.bold=function(e){K._bold=e},K._updateTheme=function(){K.initIfNeeded(),null==K._themePool&&(K._themePool=[]);for(var e=null,n=0,t=K._themePool.length;n<t;){var i=n++;if((l=K._themePool[i])._tint==K._themeTint&&l._altTint==K._themeAltTint&&l._backgroundColor==K._themeBackgroundColor&&l._textColor==K._themeTextColor||l._clonedIndex==K._themeClonedIndex){l._used=!0,e=l;break}}if(null==e)for(n=0,t=K._themePool.length;n<t;){var l,s,i=n++;if(!(l=K._themePool[i])._used){l._used=!0,l._tint==K._themeTint&&l._altTint==K._themeAltTint&&l._backgroundColor==K._themeBackgroundColor&&l._textColor==K._themeTextColor&&l._clonedIndex==K._themeClonedIndex||((null!=(s=K._explicitTheme)?s:K._imTheme).clone(l),K._themeClonedIndex=l._clonedIndex,-1!=K._themeTint&&l.applyTint(null,K._themeTint),l._tint=K._themeTint,-1!=K._themeAltTint&&l.applyAltTint(null,K._themeAltTint),l._altTint=K._themeAltTint,-1!=K._themeBackgroundColor&&l.applyBackgroundColor(K._themeBackgroundColor),l._backgroundColor=K._themeBackgroundColor,-1!=K._themeTextColor&&l.applyTextColor(K._themeTextColor),l._textColor=K._themeTextColor),e=l;break}}null==e&&((l=new Al)._used=!0,(null!=(s=K._explicitTheme)?s:K._imTheme).clone(l),K._themeClonedIndex=l._clonedIndex,-1!=K._themeTint&&l.applyTint(null,K._themeTint),l._tint=K._themeTint,-1!=K._themeAltTint&&l.applyAltTint(null,K._themeAltTint),l._altTint=K._themeAltTint,-1!=K._themeBackgroundColor&&l.applyBackgroundColor(K._themeBackgroundColor),l._backgroundColor=K._themeBackgroundColor,-1!=K._themeTextColor&&l.applyTextColor(K._themeTextColor),l._textColor=K._themeTextColor,e=l),K._themeInternal(e)},K.assets=function(e){K._assets=e},K.get_defaultTheme=function(){return K.initIfNeeded(),K._imTheme},K.get_currentTheme=function(){return K.initIfNeeded(),K._theme},K.get_current=function(){return K.initIfNeeded(),K._currentWindowData},K.theme=function(e){K.initIfNeeded(),null==(K._explicitTheme=e)&&(e=K._imTheme),K._theme=e,K._theme.set_backgroundInFormLayout(!0)},K._themeInternal=function(e){K.initIfNeeded(),null==e&&(e=K._imTheme),K._theme=e,K._theme.set_backgroundInFormLayout(!0)},K.position=function(e,n,t,i,l){null==i&&(i=0),null==t&&(t=0);var s=K._currentWindowData;s.targetX=(l=null==l?!0:l)?Math.round(e):e,s.targetY=l?Math.round(n):n,s.targetAnchorX=t,s.targetAnchorY=i,s.movable=!1},K.scrollbar=function(e){var n=K._currentWindowData;n.set_scrollbar(e),n.movable=!1},K.focus=function(){var e=K._currentWindowData;null!=e&&null!=e.window&&ke.app.screen.set_focusedVisual(e.window)},K.expanded=function(){var e=K._currentWindowData;e.collapsible=!1,e.set_expanded(!0)},K.header=function(e){K._currentWindowData.set_header(e)},K.overlay=function(){var e=K._currentWindowData;return e.overlay=!0,e.overlayTheme=K._theme,!!e.overlayClicked&&!(e.overlayClicked=!1)},K.titleAlign=function(e){K._currentWindowData.titleAlign=e},K.closable=function(e){var n=K._currentWindowData;return n.closable=!0,!!n.justClosed&&(n.justClosed=!1,null!=e&&e(!1),K._markChanged(),!0)},K._list=function(e,n,t,i,l,s,r,h){null==h&&(h=!1),null==r&&(r=!1),null==s&&(s=!1),null==l&&(l=!1),null==e&&(e=-1);var a,o=K._currentWindowData,c=El.get(),u=(c.theme=K._theme,c.flex=K._flex,c.disabled=K._fieldsDisabled,c.kind=14,c.int0=i(),c.int1=c.int0,0);return l&&(u=l?1|u:-2&u),s&&(u=s?2|u:-3&u),r&&(u=r?4|u:-5&u),h&&(u=h?8|u:-9&u),c.int2=u=n?n?16|u:-17&u:u,c.float0=e,c.labelPosition=K._labelPosition,c.labelWidth=K._labelWidth,c.any0=t(),c.any1=c.any0,c.row=K._inRow?K._currentRowIndex:-1,o.addItem(c),c.isSameItem(c.previous)?(l=c.previous.int0,(s=c.previous.int1)!=l&&(c.int0=s,i(c.int1=s)),r=c.previous.any0,(h=c.previous.any1)!=r&&(c.any0=h,t(c.any1=h,null==h)),(a=c.previous).any0==a.any1&&a.int0==a.int1||K._markChanged()):(a=c).any0==a.any1&&a.int0==a.int1||K._markChanged(),a},K._select=function(e,n,t,i){var l=K._currentWindowData,s=El.get();if(s.theme=K._theme,s.flex=K._flex,s.disabled=K._fieldsDisabled,s.kind=1,s.int0=n(),s.int1=s.int0,s.labelPosition=K._labelPosition,s.labelWidth=K._labelWidth,s.string2=e,s.stringArray0=t,s.string1=i,s.row=K._inRow?K._currentRowIndex:-1,l.addItem(s),s.isSameItem(s.previous)){e=s.previous.int0,t=s.previous.int1;if(t!=e)return s.int0=t,n(s.int1=t),K._markChanged(),!0}return!1},K._selectEnum=function(e,n,t,i,l){var s=n(null,!1),r=null;if(null==i)if(t instanceof od)i=(_=t).enumFields,r=null==s||(d=_.enumValues.indexOf(s))<0?null:_.enumFields[d];else{for(var h=t.__constructs__,a=new Array(h.length),o=0,c=h.length;o<c;){var u=o++;a[u]=h[u]._hx_name}i=a,r=null!=s?""+ot.string(s):null}d=r;var _,d,b,g=i.indexOf(d),s=!1;return K._select(e,function(e){return null!=e?g=e:g},i,l)&&(null==(b=i[g])&&null!=b||(r=b),s=!0,K._markChanged()),(e=s)&&(t instanceof od?n(b=(_=t).createEnumValue(r),null==b):n(b=-1!=(d=null!=r?i.indexOf(r):-1)?B.createEnum(t,i[d],[]):null,null==b)),e},K._check=function(e,n,t){var i,l=K._currentWindowData,s=El.get(),t=(s.theme=K._theme,s.flex=K._flex,s.disabled=K._fieldsDisabled,s.kind=9,s.int0=n()?1:0,s.int1=s.int0,s.labelPosition=K._labelPosition,s.labelWidth=t?K._labelWidth:-60002,s.string2=e,s.row=K._inRow?K._currentRowIndex:-1,l.addItem(s),0!=s.int0),e=!1,l=(s.isSameItem(s.previous)&&(l=s.previous.int0,(i=s.previous.int1)!=l)&&(e=!0,t=0!=i,s.int0=i,n(0!=(s.int1=i)),K._markChanged()),0);return t&&(l=t?1|l:-2&l),l=e?e?2|l:-3&l:l},K.editColor=function(e,n){var t=K._currentWindowData,i=El.get();if(i.theme=K._theme,i.flex=K._flex,i.disabled=K._fieldsDisabled,i.kind=5,i.int0=n(),i.int1=i.int0,i.labelPosition=K._labelPosition,i.labelWidth=K._labelWidth,i.string2=e,i.row=K._inRow?K._currentRowIndex:-1,t.addItem(i),i.isSameItem(i.previous)){e=i.previous.int0,t=i.previous.int1;if(t!=e)return i.int0=t,n(i.int1=t),K._markChanged(),!0}return!1},K.editText=function(e,n,t,i,l,s,r){null==r&&(r=!0),null==s&&(s=!1),null==t&&(t=!1);var h,a=K._currentWindowData,o=El.get();return o.theme=K._theme,o.flex=K._flex,o.disabled=K._fieldsDisabled,o.kind=2,o.string0=n(),null==o.string0&&(o.string0=""),o.string1=o.string0,o.labelPosition=K._labelPosition,o.labelWidth=K._labelWidth,o.bool0=t,o.bool2=s,o.string2=e,o.string3=i,o.stringArray0=l,o.bool4=r,o.row=K._inRow?K._currentRowIndex:-1,a.addItem(o),o.isSameItem(o.previous)?(t=o.previous.string0,s=o.previous.string1,e=o.previous.bool1,i=o.previous.bool3,s!=t?(o.string0=s,n(o.string1=s,null==s),K._markChanged(),h=0,h|=1):h=0,e&&(h=e?2|h:-3&h),i?i?4|h:-5&h:h):0},K.editInt=function(e,n,t,i,l){null==l&&(l=2147483647),null==i&&(i=-2147483647);var s=K._currentWindowData,r=El.get();if(r.theme=K._theme,r.flex=K._flex,r.disabled=K._fieldsDisabled,r.kind=4,r.int0=n(),r.int1=r.int0,r.float3=i,r.float4=l,r.labelPosition=K._labelPosition,r.labelWidth=K._labelWidth,r.string2=e,r.string3=t,r.row=K._inRow?K._currentRowIndex:-1,s.addItem(r),r.isSameItem(r.previous)){i=r.previous.int0,l=r.previous.int1;if(l!=i)return r.int0=l,n(r.int1=l),K._markChanged(),!0}return!1},K.editFloat=function(e,n,t,i,l,s){null==s&&(s=1e3),null==l&&(l=2147483647),null==i&&(i=-2147483647);var r=K._currentWindowData,h=El.get();if(h.theme=K._theme,h.flex=K._flex,h.disabled=K._fieldsDisabled,h.kind=3,h.float0=n(),h.float1=h.float0,h.float3=i,h.float4=l,h.int0=s,h.labelPosition=K._labelPosition,h.labelWidth=K._labelWidth,h.string2=e,h.string3=t,h.row=K._inRow?K._currentRowIndex:-1,r.addItem(h),h.isSameItem(h.previous)){i=h.previous.float0,l=h.previous.float1;if(l!=i)return h.float0=l,n(h.float1=l),K._markChanged(),!0}return!1},K.slideInt=function(e,n,t,i){var l=K._currentWindowData,s=El.get();if(s.theme=K._theme,s.flex=K._flex,s.disabled=K._fieldsDisabled,s.kind=7,s.int0=n(),s.int1=s.int0,s.float3=t,s.float4=i,s.labelPosition=K._labelPosition,s.labelWidth=K._labelWidth,s.string2=e,s.row=K._inRow?K._currentRowIndex:-1,l.addItem(s),s.isSameItem(s.previous)){t=s.previous.int0,i=s.previous.int1;if(i!=t)return s.int0=i,n(s.int1=i),K._markChanged(),!0}return!1},K.slideFloat=function(e,n,t,i,l){null==l&&(l=1e3);var s=K._currentWindowData,r=El.get();if(r.theme=K._theme,r.flex=K._flex,r.disabled=K._fieldsDisabled,r.kind=6,r.float0=n(),r.float1=r.float0,r.float3=t,r.float4=i,r.int0=l,r.labelPosition=K._labelPosition,r.labelWidth=K._labelWidth,r.string2=e,r.row=K._inRow?K._currentRowIndex:-1,s.addItem(r),r.isSameItem(r.previous)){t=r.previous.float0,i=r.previous.float1;if(i!=t)return r.float0=i,n(r.float1=i),K._markChanged(),!0}return!1},K.visual=function(e,n,t,i,l){null==l&&(l=!0),null==i&&(i=!1),null==t&&(t=!1);var s=K._currentWindowData,r=El.get();r.theme=K._theme,r.flex=K._flex,r.disabled=K._fieldsDisabled,r.kind=11,r.bool0=t,r.bool1=l,r.int0=0,r.visual=n,r.string2=e,r.labelPosition=K._labelPosition,r.labelWidth=i?K._labelWidth:-60002,r.row=K._inRow?K._currentRowIndex:-1,s.addItem(r)},K._imageWithTile=function(e,n,t,i,l){return K._image(e,null,n,-1,-1,-1,-1,t,i,l)},K._imageWithAsset=function(e,n,t,i,l,s,r,h,a){z.startsWith(n,"image:")||(n="image:"+n);var o=0,o=(Object.prototype.hasOwnProperty.call(K._assetUses.h,n)&&(o=K._assetUses.h[n])<0&&(o=0),K._assetUses.h[n]=o+1,null!=K._assets?K._assets:W.get_context().get_assets()),c=o.texture(n);return null==c&&null==o.asset(n,null,null)&&(o.addImage(n),o.load(null,{fileName:"../../../../ceramic/plugins/elements/runtime/src/elements/Im.hx",lineNumber:2426,className:"elements.Im",methodName:"_imageWithAsset"})),K._image(e,c,null,t,i,l,s,r,h,a)},K._image=function(e,n,t,i,l,s,h,a,o,c){var u=K._currentWindowData,_=El.get(),a=(_.theme=K._theme,_.flex=K._flex,_.disabled=K._fieldsDisabled,_.kind=11,_.bool0=a,_.int0=1,_.string2=e,_.labelPosition=K._labelPosition,_.labelWidth=o?K._labelWidth:-60002,_.row=K._inRow?K._currentRowIndex:-1,u.addItem(_),null);return null==(a=null!=_.previous&&_.int0==_.previous.int0?_.previous.visual:a)&&u.unobservedExpanded&&(a=new r).set_active(!1),null!=a&&(null!=t?(a.set_tile(t),null!=c&&t.texture.set_filter(c)):(a._texture!=n&&a._set_texture(n),null!=n&&null!=c&&n.set_filter(c),null==n?(a.set_width(0),a.set_height(0)):0<=i&&0<=l&&0<=s&&0<=h&&(e=n.width,o=n.height,u=Math.round(l*o),t=Math.round(s*e),c=Math.round(h*o),a.frameX=Math.round(i*e),a.frameY=u,a.frameWidth!=t&&-1!=(a.frameWidth=t)&&a.set_width(t),a.frameHeight!=c)&&-1!=(a.frameHeight=c)&&a.set_height(c))),_.visual=a},K.debugVisual=function(e,n,t){null==t&&(t=!1),null==n&&(n=!1);var i,l,s=K._currentWindowData,h=El.get(),n=(h.theme=K._theme,h.flex=K._flex,h.disabled=K._fieldsDisabled,h.kind=11,h.bool0=n,h.int0=1e3,h.string2=e,h.labelPosition=K._labelPosition,h.labelWidth=t?K._labelWidth:-60002,h.row=K._inRow?K._currentRowIndex:-1,s.addItem(h),null);return null==(n=null!=h.previous&&h.int0==h.previous.int0?h.previous.visual:n)&&s.unobservedExpanded&&((n=new r).color=65280,i=20+Math.round(600*Math.random()),l=20+Math.round(600*Math.random()),n.set_width(i),n.set_height(l)),null!=n&&ke.app.frame%60==0&&(i=20+Math.round(600*Math.random()),l=20+Math.round(600*Math.random()),n.set_width(i),n.set_height(l)),h.visual=n},K._spine=function(e,n,t,i,l,s,r){var h=K._currentWindowData,a=El.get(),s=(a.theme=K._theme,a.flex=K._flex,a.disabled=K._fieldsDisabled,a.kind=11,a.bool0=s,a.bool1=!0,a.int0=100,a.string2=e,a.labelPosition=K._labelPosition,a.labelWidth=r?K._labelWidth:-60002,a.row=K._inRow?K._currentRowIndex:-1,h.addItem(a),null);return null==(s=null!=a.previous&&a.int0==a.previous.int0?a.previous.visual:s)&&h.unobservedExpanded&&((s=new jt).set_skeletonScale(.1),s.set_active(!1),s.set_anchorX(.5),s.set_anchorY(.5)),null!=s&&(0<=l&&s.set_paused(!0),h=null!=(r=null!=(e=null!=s.state?s.state.tracks[0]:null)?e.animation:null)?r.name:null,s.spineData!=n||s.skin!=i||h!=t?(null!=s.parent&&s.parent.remove(s),s.set_spineData(n),s.set_skin(i),s.set_scaleX(1),s.set_scaleY(1),s.set_skewX(0),s.set_skewY(0),s.set_anchorX(0),s.set_anchorY(0),s.set_width(0),s.set_height(0),s.set_x(0),s.set_y(0),s.set_rotation(0),s.set_skeletonScale(1),s.set_skeletonOriginX(.5),s.set_skeletonOriginY(.5),null!=n&&s.animate(t,!0,0,0),s.forceRender(),s.computeBounds(),null!=n&&s.animate(t,!0,0,Math.max(l,0)),s.forceRender(),s.set_anchorX(.5),s.set_anchorY(.5)):0<=l&&(r=-1,null!=e&&(r=e.trackTime),null!=n)&&l!=r&&s.animate(t,!0,0,l)),a.visual=s},K.margin=function(){K.initIfNeeded(),K.space(-K._theme.get_formItemSpacing()/2)},K.space=function(e){null==e&&(e=-60001);var n=K._currentWindowData,t=El.get();t.theme=K._theme,t.flex=K._flex,t.kind=12,t.float0=e,t.row=K._inRow?K._currentRowIndex:-1,n.addItem(t)},K.separator=function(e){null==e&&(e=7);var n=K._currentWindowData,t=El.get();t.theme=K._theme,t.flex=K._flex,t.kind=13,t.float0=e,t.row=K._inRow?K._currentRowIndex:-1,n.addItem(t)},K._button=function(e,n){var t=K._currentWindowData,i=El.get();if((i.theme=K._theme,i.flex=K._flex,i.disabled=K._fieldsDisabled,i.kind=8,i.int0=0,i.int1=0,i.labelWidth=K._labelWidth,i.string0=e,i.bool0=n,i.row=K._inRow?K._currentRowIndex:-1,t.addItem(i),n&&i.isSameItem(i.previous))&&1==i.previous.int1)return K._markChanged(),!0;return!1},K.pointSize=function(e){K._pointSize=e=null==e?12:e},K.preRenderedSize=function(e){K._preRenderedSize=e=null==e?-1:e},K.text=function(e,n){var t,i=K._currentWindowData,l=El.get();if(l.theme=K._theme,l.flex=K._flex,l.disabled=K._fieldsDisabled,l.kind=10,l.string0=e,l.string1=l.string0,null==n)switch(K._textAlign._hx_index){case 0:t=0;break;case 1:t=1;break;case 2:t=2}else switch(n._hx_index){case 0:t=0;break;case 1:t=1;break;case 2:t=2}l.int0=t,l.row=K._inRow?K._currentRowIndex:-1,l.bool0=K._bold,l.int2=K._pointSize,0<K._preRenderedSize?l.int3=K._preRenderedSize:l.int3=5*Math.ceil((K._pointSize+7.9)/5),i.addItem(l)},K.end=function(){var h=K._currentWindowData,a=null!=h?h.window:null,e=null!=h?h.items:null;if(null==a||1==(1&a.flags)){if(null!=e)for(var n=0,t=h.itemIndex;n<t;)null!=(T=e[I=n++]).visual&&(null!=T.visual.parent&&T.visual.parent.remove(T.visual),null==a&&11==T.kind&&0<T.int0&&null!=T.visual?(T.visual.destroy(),T.visual=null):T.visual.set_active(!1));null!=a&&-999999999!=h.targetX&&Ii.get_shared().onceEndLateUpdate(a,function(e){h.set_x(h.targetX-h.targetAnchorX*a.get_width()),h.set_y(h.targetY-h.targetAnchorY*a.get_height()),a.set_x(h.get_x()),a.set_y(h.get_y())})}else{if(a.set_closable(h.closable),a.movable=h.movable,a.set_collapsible(h.collapsible),a.set_titleAlign(h.titleAlign),a.set_header(h.get_header()),h.get_expanded()){var i,l,s,o,c,u=h.form,_=h.filler,d=!1;if(-60001!=h.get_height())switch(h.get_scrollbar()){case-1:i=!1;break;case 0:i=h.computedContentHeight>h.get_height();break;case 1:i=h.computedContentHeight>h.get_height()||0<=h.didScrollWithHeight;break;case 2:case 3:i=!0}else i=!1;if(h.scrollable=i,null!=a.get_contentView())if(a.get_contentView()instanceof Dl){var b,g=a.get_contentView();if(i){var O=h.get_height();g.set_viewWidth(-60002),g.set_viewHeight(O)}else{if(null!=(b=g.layoutView).parent&&b.parent.remove(b),a.set_contentView(b),b.set_paddingRight(0),d=!0,null==(y=u.subviews))return;for(n=0,t=y.length;n<t;)1!=(1&(x=y[I=n++]).flags)&&x.set_visible(!0)}}else i&&(d=!0,(b=a.get_contentView()).set_paddingRight(12),(g=new Dl(b,!0)).set_theme(h.theme),g.checkChildrenOfView=u,(o=new Ul).set_active(!1),o.inset(2,1,1,2),g.scroller.set_scrollbar(o),g.flags|=16,O=h.get_height(),g.set_viewWidth(-60002),g.set_viewHeight(O),(l=new r).id="scrollbar-bg",l.flags&=-17,c=g.get_width()-12,l.set_x(c),l.set_y(0),O=g.get_height(),l.set_width(12),l.set_height(O),l.set_alpha(h.theme.get_windowBackgroundAlpha()),l.color=h.theme.get_windowBackgroundColor(),g.onResize(l,function(e,n){l.set_x(e-12),l.set_y(0),l.set_width(12),l.set_height(n)}),g.add(l),a.set_contentView(g));null==a.get_contentView()&&(d=!0,(u=new qd).set_viewWidth(-60001),u.set_viewHeight(-60001),u.flags|=16,h.form=u,(b=new s0).flags|=16,b.set_viewWidth(-60001),b.set_viewHeight(-60001),b.add(u),(_=new g0).set_viewWidth(-60002),_.set_viewHeight(0),_.flags&=-17,b.add(_),h.filler=_,i?(b.set_paddingRight(12),(g=new Dl(b,!0)).set_theme(h.theme),g.checkChildrenOfView=u,(o=new Ul).set_active(!1),o.inset(2,1,1,2),g.scroller.set_scrollbar(o),g.flags|=16,O=h.get_height(),g.set_viewWidth(-60002),g.set_viewHeight(O),(s=new r).id="scrollbar-bg",s.flags&=-17,c=g.get_width()-12,s.set_x(c),s.set_y(0),O=g.get_height(),s.set_width(12),s.set_height(O),s.set_alpha(h.theme.get_windowBackgroundAlpha()),s.color=h.theme.get_windowBackgroundColor(),g.onResize(s,function(e,n){s.set_x(e-12),s.set_y(0),s.set_width(12),s.set_height(n)}),g.add(s),a.set_contentView(g)):a.set_contentView(b)),null!=u&&(u.tabFocus.focusRoot=a,u.set_theme(h.theme)),null!=_&&(_.set_alpha(h.theme.get_windowBackgroundAlpha()),_.color=h.theme.get_windowBackgroundColor()),null!=a.get_contentView()&&a.get_contentView()instanceof Dl&&null!=(o=a.get_contentView().childWithId("scrollbar-bg"))&&((c=o).set_alpha(h.theme.get_windowBackgroundAlpha()),c.color=h.theme.get_windowBackgroundColor());e=h.items;if(!d)for(n=0,t=h.itemIndex;n<t;)if(null==(T=e[I=n++]).previous||!T.isSameItem(T.previous)){d=!0;break}if(!d){var f=0;if(null!=(P=u.subviews))for(n=0,t=P.length;n<t;)if((x=P[I=n++])instanceof fl){var p=(A=x).subviews;if(null!=p)for(var C=0,v=p.length;C<v;){var m=C++;++f}}else++f;f!=h.itemIndex&&(d=!0)}if(d){for(var w=null!=u.subviews?[].concat(u.subviews):[],y=[],U=[],D=-1,n=0,t=w.length;n<t;)if((x=w[I=n++])instanceof fl){if(null!=(P=(A=x).subviews))for(C=0,v=P.length;C<v;){m=C++;y.push(P[m])}A.removeAllViews(),U.push(A)}else y.push(x);u.removeAllViews();for(n=0,t=h.itemIndex;n<t;){var T=e[I=n++],x=y[I],S=null!=T.previous&&T.isSameItem(T.previous),A=(null!=x&&S||null!=x&&(x instanceof Pl&&x.set_visual(null),x.destroy(),x=null),x=T.updateView(x),null);0<=T.row&&(D<T.row?(null==(A=U[++D])&&(A=new fl,(U[D]=A).set_viewWidth(-60002),A.set_viewHeight(-60001)),u.add(A)):A=U[T.row]),(null!=A?A:u).add(x)}for(;h.itemIndex<y.length;)y.pop().destroy();for(;D+1<U.length;)U.pop().destroy()}else for(var y=u.subviews,k=0,I=0;I<h.itemIndex;){var P,x=y[k];if(x instanceof fl){if(null!=(P=(A=x).subviews))for(n=0,t=P.length;n<t;){var F=P[m=n++];(T=e[I]).updateView(F),++I}}else e[I].updateView(x),++I;++k}}else{g=a.get_contentView();if(null!=g&&(a.set_contentView(null),g.destroy(),h.form=null,h.filler=null),null!=e)for(var I,n=0,t=h.itemIndex;n<t;)null!=(T=e[I=n++]).visual&&(null!=T.visual.parent&&T.visual.parent.remove(T.visual),11==T.kind&&0<T.int0&&null!=T.visual?(T.visual.destroy(),T.visual=null):T.visual.set_active(!1));null!=a&&-999999999!=h.targetX&&Ii.get_shared().onceEndLateUpdate(a,function(e){h.set_x(h.targetX-h.targetAnchorX*a.get_width()),h.set_y(h.targetY-h.targetAnchorY*a.get_height()),a.set_x(h.get_x()),a.set_y(h.get_y())})}h.overlay?(null==a.overlay&&(a.overlay=new r,a.overlay.onPointerDown(null,function(e){h.overlayClicked=!0}),W.get_context().view.add(a.overlay)),_=null!=(b=h.overlayTheme)?b:W.get_context().get_theme(),a.overlay.color=_.get_overlayBackgroundColor(),a.overlay.set_alpha(_.get_overlayBackgroundAlpha()),(o=a.overlay).set_x(0),o.set_y(0),o=a.overlay,O=Z.app.screenHeight,o.set_width(Z.app.screenWidth),o.set_height(O)):(h.overlayClicked=!1,null!=a.overlay&&(a.overlay.destroy(),a.overlay=null)),-999999999!=h.targetX&&Ii.get_shared().onceEndLateUpdate(a,function(e){h.set_x(h.targetX-h.targetAnchorX*a.get_width()),h.set_y(h.targetY-h.targetAnchorY*a.get_height()),a.set_x(h.get_x()),a.set_y(h.get_y())}),Ii.get_shared().onceEndLateUpdate(a,function(e){var n,t,i,l,s;null!=a.get_contentView()&&0<h.get_height()&&(a.get_contentView()instanceof Dl?(n=a.get_contentView(),h.computedContentHeight=n.contentView.get_height(),2==h.get_scrollbar()||0==h.get_scrollbar()||1==h.get_scrollbar()&&h.didScrollWithHeight<0?(t=h.computedContentHeight>h.get_height(),null!=(i=n.scroller.scrollbar)&&(t?K._shouldSkipRender=1==(1&i.flags):i.set_active(!1),ke.app.onceUpdate(i,function(e){i.set_active(t)}))):(3==h.get_scrollbar()||1==h.get_scrollbar()&&0<=h.didScrollWithHeight)&&null!=(l=n.scroller.scrollbar)&&1==(1&l.flags)&&(K._shouldSkipRender=1==(1&l.flags),ke.app.onceUpdate(l,function(e){(3==h.get_scrollbar()||1==h.get_scrollbar()&&0<=h.didScrollWithHeight)&&l.set_active(!0)}))):(h.computedContentHeight=a.get_contentView().get_height(),(0==h.get_scrollbar()||1==h.get_scrollbar())&&h.computedContentHeight>h.get_height()&&((s=a.get_contentView()).set_visible(!1),K._shouldSkipRender=!0,ke.app.onceUpdate(s,function(e){s.set_visible(!0)}))),null!=h.filler)&&null!=h.form&&h.filler.set_viewHeight(Math.max(0,h.get_height()-h.form.get_height()))})}for(K._currentWindowData=null,K._currentRowIndex=-1,K._inRow=!1,K._textAlign=ai.LEFT,K._labelWidth=-49965,K._labelPosition=1;0<K._currentTabBarItem.length;)K._currentTabBarItem.pop()},K.focusedWindow=function(){return W.get_context().focusedWindow},K.allow=function(e){-1==K._allowedOwners.indexOf(e)&&(K._allowedOwners.push(e),e.onDestroy(null,K._allowedOwnerDestroyed))},K.filter=function(e){-1!=K._allowedOwners.indexOf(e)&&(he.remove(K._allowedOwners,e),0<=e._lifecycleState)&&e.offDestroy(K._allowedOwnerDestroyed)},K._allowedOwnerDestroyed=function(e){he.remove(K._allowedOwners,e)},K.filterEventOwner=function(e){var n=!1;return null!=W.get_context().focusedWindow?null!=e&&(n=K._filterEventOwner(e)):n=!0,n},K._filterEventOwner=function(e){var n=W.get_context().view;if(n==e)return!0;if(e instanceof q&&e.hasIndirectParent(n))return!0;if(e instanceof Ht){var t=e;if(null!=t.content&&(t.content==n||t.content.hasIndirectParent(n)))return!0}if(ws.__implements(e,b0))for(var i=e.getEntity(),l=0;null!=i&&l<10;){if(i instanceof q)if(i.hasIndirectParent(n))return!0;if(-1!=K._allowedOwners.indexOf(i))return!0;i=ws.__implements(i,b0)?i.getEntity():null,++l}if(e instanceof zb){var t=e.bindings;if(null!=t){if(null!=(i=t.getEntity())){if(i instanceof q)if(i.hasIndirectParent(n))return!0;if(-1!=K._allowedOwners.indexOf(i))return!0}if(1!=K._allowedOwners.indexOf(t))return!0}}return-1!=K._allowedOwners.indexOf(e)||(t=ws.getClass(e).__name__,!!z.startsWith(t,"elements."))},K._confirm=function(e,n,t,i,l,s,r,h,a,o){null==h&&(h=-60001),null==r&&(r=300),null==i&&(i=!1),K.initIfNeeded(),null==l&&(l=K.YES),null==s&&(s=K.NO);var c=null;if(null!=e){e=K.extractId(e);for(var u=0,_=K._pendingDialogs.length;u<_;){var d=u++,d=K._pendingDialogs[d];if(d.key==e){c=d;break}}}null==c?(c=new wl(e,n,t,null,null,null,[l,s],i,r,h,a,function(e,n){var t;-1!=c.chosenIndex||c.canceled||(c.chosenIndex=e,null!=o&&(t=o,o=null,t(0==e)))}),ke.app.input.onKeyDown(c,function(e){-1!=c.chosenIndex||c.canceled||c.cancelable&&41==e.scanCode&&(c.canceled=!0,null!=o&&(e=o,o=null,e(!1)),c.async)&&(he.remove(K._pendingDialogs,c),c.destroy())}),K._pendingDialogs.push(c)):(c.title=n,c.message=t,c.choices[0]=l,c.choices[1]=s,c.cancelable=i,c.width=r,c.height=h);a=c.canceled?-2:c.chosenIndex;return c.async||-1==a||(he.remove(K._pendingDialogs,c),c.destroy()),a},K._info=function(e,n,t,i,l,s,r,h,a){null==r&&(r=-60001),null==s&&(s=300),null==i&&(i=!1),K.initIfNeeded(),null==l&&(l=K.OK);var o=null;if(null!=e){e=K.extractId(e);for(var c=0,u=K._pendingDialogs.length;c<u;){var _=c++,_=K._pendingDialogs[_];if(_.key==e){o=_;break}}}null==o?(o=new wl(e,n,t,null,null,null,[l],i,s,r,h,function(e,n){-1!=o.chosenIndex||o.canceled||(o.chosenIndex=e,null!=a&&(e=a,a=null,e()))}),ke.app.input.onKeyDown(o,function(e){-1!=o.chosenIndex||o.canceled||o.cancelable&&41==e.scanCode&&(o.canceled=!0,a=null,o.async)&&(he.remove(K._pendingDialogs,o),o.destroy())}),K._pendingDialogs.push(o)):(o.title=n,o.message=t,o.choices[0]=l,o.cancelable=i,o.width=s,o.height=r);h=o.canceled?-2:o.chosenIndex;return o.async||-1==h||(he.remove(K._pendingDialogs,o),o.destroy()),h},K._prompt=function(e,n,t,i,l,s,r,h,a,o,c,u){null==o&&(o=-60001),null==a&&(a=300),null==s&&(s=!1),K.initIfNeeded(),null==r&&(r=K.OK);var _=null;if(null!=e){e=K.extractId(e);for(var d=0,b=K._pendingDialogs.length;d<b;){var g=d++,g=K._pendingDialogs[g];if(g.key==e){_=g;break}}}null==_?(_=new wl(e,n,t,!0,i,l,s&&null!=h?[r,h]:[r],s,a,o,c,function(e,n){-1!=_.chosenIndex||_.canceled||(_.chosenIndex=e,null!=u&&(e=u,u=null,e(_.promptPointer())))}),ke.app.input.onKeyDown(_,function(e){-1!=_.chosenIndex||_.canceled||_.cancelable&&41==e.scanCode&&(_.canceled=!0,u=null,_.async)&&(he.remove(K._pendingDialogs,_),_.destroy())}),K._pendingDialogs.push(_)):(_.title=n,_.message=t,_.promptPlaceholder=l,null!=i&&(_.promptPointer=i),c=!0,null!=h?2==_.choices.length&&_.choices[0]==r&&_.choices[1]==h||(c=!1):1==_.choices.length&&_.choices[0]==r||(c=!1),c||(_.choices=[r,h]),_.cancelable=s,_.width=a,_.height=o);n=_.canceled?-2:_.chosenIndex;return _.async||-1==n||(he.remove(K._pendingDialogs,_),_.destroy()),n},K._choice=function(e,n,t,i,l,s,r,h,a){null==r&&(r=-60001),null==s&&(s=300),null==i&&(i=!1),K.initIfNeeded(),-60001==r&&8<=l.length&&(r=400);var o=null;if(null!=e){e=K.extractId(e);for(var c=0,u=K._pendingDialogs.length;c<u;){var _=c++,_=K._pendingDialogs[_];if(_.key==e){o=_;break}}}null==o?(o=new wl(e,n,t,null,null,null,h?[].concat(l):l,i,s,r,h,function(e,n){var t;-1!=o.chosenIndex||o.canceled||(o.chosenIndex=e,null!=a&&(t=a,a=null,t(e,n)))}),ke.app.input.onKeyDown(o,function(e){-1!=o.chosenIndex||o.canceled||o.cancelable&&41==e.scanCode&&(o.canceled=!0,a=null,o.async)&&(he.remove(K._pendingDialogs,o),o.destroy())}),K._pendingDialogs.push(o)):(o.title=n,o.message=t,o.choices=l,o.cancelable=i,o.width=s,o.height=r);h=o.canceled?-2:o.chosenIndex;return o.async||-1==h||(he.remove(K._pendingDialogs,o),o.destroy()),h},K._posInfosToString=function(e){return null==e?"?":e.fileName+":"+e.lineNumber},K.handle=function(e){var n,t,i;return null!=e?(e=e.fileName+":"+e.lineNumber,Object.prototype.hasOwnProperty.call(K._pointerBaseHandles.h,e)?(i=K._pointerBaseHandles.h[e],n=K._pointerBaseHandleOccurences[i],K._pointerBaseHandleOccurences[i]=n+1):(i=K._pointerBaseHandleOccurences.length,K._pointerBaseHandleOccurences.push(n=1),K._pointerBaseHandles.h[e]=i),i=e+":"+n,Object.prototype.hasOwnProperty.call(K._pointerHandles.h,i)?t=K._pointerHandles.h[i]:(t=K._nextPointerHandle++,K._pointerHandles.h[i]=t),t):-1},K.setIntAtHandle=function(e,n){return K._intPointerValues.set(e,n),n},K.intAtHandle=function(e){e=K._intPointerValues.intMap.h[0|e];return null!=e?e:0},K.setColorAtHandle=function(e,n){return K._intPointerValues.set(e,n),n},K.colorAtHandle=function(e){return K._intPointerValues.intMap.h.hasOwnProperty(0|e)?null!=(e=K._intPointerValues.intMap.h[0|e])?e:0:16777215},K.setFloatAtHandle=function(e,n){return K._floatPointerValues.set(e,n),n},K.floatAtHandle=function(e){e=K._floatPointerValues.intMap.h[0|e];return null!=e?e:0},K.setBoolAtHandle=function(e,n){return K._boolPointerValues.set(e,n?1:0),n},K.boolAtHandle=function(e){e=K._boolPointerValues.intMap.h[0|e];return 0!=(null!=e?e:0)},K.setStringAtHandle=function(e,n){return K._stringPointerValues.set(e,n),n},K.stringAtHandle=function(e){return K._stringPointerValues.get(e)},K.setArrayAtHandle=function(e,n){return K._arrayPointerValues.set(e,n),n},K.arrayAtHandle=function(e){return K._arrayPointerValues.get(e)},K.readInt=function(e){return e()},K.writeInt=function(e,n){e(n)},K.readFloat=function(e){return e()},K.writeFloat=function(e,n){e(n)},K.readString=function(e){return e()},K.writeString=function(e,n){e(n,null==n)},K.readArray=function(e){return e()},K.writeArray=function(e,n){e(n,null==n)},K.readEnumValue=function(e){return e(null,!1)},K.writeEnumValue=function(e,n){e(n,null==n)},K.readBool=function(e){return e()},K.writeBool=function(e,n){e(n)},function(){Xb.call(this),this.set_itemSpacing(6)}),pl=((E["elements.ImRowLayout"]=fl).__name__="elements.ImRowLayout",fl.__super__=Xb,fl.prototype=$extend(Xb.prototype,{__class__:fl}),function(){this.makeFilterActive=-2,this.view=null,this.filter=null,a1.call(this),this.set_earlyUpdateOrder(100),this.set_lateUpdateOrder(6e3)}),Cl=((E["elements.ImSystem"]=pl).__name__="elements.ImSystem",pl.__properties__={set_shared:"set_shared",get_shared:"get_shared"},pl.get_shared=function(){return pl.lazyShared&&(pl.lazyShared=!1,pl.shared=new pl),pl.shared},pl.set_shared=function(e){return pl.shared=e},pl.__super__=a1,pl.prototype=$extend(a1.prototype,{filter:null,view:null,makeFilterActive:null,createView:function(){var i=this;this.filter=new Kn,this.filter.set_textureFilter(fi.NEAREST),this.filter.bindToNativeScreenSize(),this.filter.set_depth(1e3),this.filter.set_density(Z.app.screenDensity),this.filter.set_enabled(!0),this.filter.set_autoRender(!1),this.view=new g0;(e=this.view).flags|=16,this.view.set_depth(1e3),this.view.onLayout(this,$bind(this,this._layoutWindows)),W.get_context().view=this.view,ke.app.screen.onFocusedVisualChange(this,$bind(this,this.handleFocusedVisualChange)),this.filter.content.add(this.view);var e=this.view,n=this.filter.get_width(),t=this.filter.get_height();e.set_width(n),e.set_height(t),this.filter.onResize(this,function(e,n){var t=i.view;t.set_width(e),t.set_height(n)})},requestRender:function(){null!=this.filter&&null!=this.filter.get_renderTexture()&&(this.filter.get_renderTexture().renderDirty=!0)},handleFocusedVisualChange:function(e,n){var t,i,l=null;null!=e&&(e instanceof Bl?l=e:(null!=(t=e.firstParentWithClass(Bl))||(i=null)!=(i=e instanceof bl?e:e.firstParentWithClass(bl))&&null!=i.colorFieldView&&null!=(t=i.colorFieldView.firstParentWithClass(Bl)))&&(l=t)),W.get_context().focusedWindow=l},earlyUpdate:function(e){var n,t,i;null!=this.view&&(n=this.view,t=this.filter.get_width(),i=this.filter.get_height(),n.set_width(t),n.set_height(i),this.filter.set_density(Z.app.screenDensity)),K.beginFrame()},lateUpdate:function(e){K.endFrame(),null!=this.filter&&(0<K._numUsedWindows?this.makeFilterActive<2&&this.makeFilterActive++:(-2<this.makeFilterActive&&this.makeFilterActive--,-2<this.makeFilterActive&&null!=this.filter.get_renderTexture()&&(this.filter.get_renderTexture().renderDirty=!0)),-1==this.makeFilterActive?(this.filter.set_neverEmpty(!1),this.filter.set_active(!1)):2==this.makeFilterActive&&(this.filter.set_neverEmpty(!0),this.filter.set_active(!0)))},_layoutWindows:function(){var e=W.get_context().view.subviews;if(null!=e)for(var n=0,t=e.length;n<t;){var i,l=e[n++];l instanceof Bl&&(null==(i=!0)&&(i=!1),l.computedSize=l.persistedComputedSizeForContext(0,0,15),null==l.computedSize&&l.computeSize(0,0,15,!0),i)&&null!=l.computedSize&&(i=l.computedSize.computedHeight,l.set_width(l.computedSize.computedWidth),l.set_height(i))}},__class__:pl}),en["elements.InputStyle"]={__ename__:"elements.InputStyle",__constructs__:null,DEFAULT:{_hx_name:"DEFAULT",_hx_index:0,__enum__:"elements.InputStyle",toString:c},OVERLAY:{_hx_name:"OVERLAY",_hx_index:1,__enum__:"elements.InputStyle",toString:c},MINIMAL:{_hx_name:"MINIMAL",_hx_index:2,__enum__:"elements.InputStyle",toString:c}}),vl=(Cl.__constructs__=[Cl.DEFAULT,Cl.OVERLAY,Cl.MINIMAL],function(){this.initializerName=null,this.skewX=10,j.call(this)}),ml=((E["elements.ItalicText"]=vl).__name__="elements.ItalicText",vl.__interfaces__=[b0],vl.__super__=j,vl.prototype=$extend(j.prototype,{entity:null,skewX:null,set_skewX:function(e){return this.skewX!=e&&null!=this.entity&&this.applyItalicTransform(),e},bindAsComponent:function(){this.entity.onGlyphQuadsChange(this,$bind(this,this.applyItalicTransform))},applyItalicTransform:function(){if(null!=this.entity.glyphQuads)for(var e=0,n=this.entity.glyphQuads.length;e<n;){var t=e++;this.entity.glyphQuads[t].set_skewX(this.skewX)}},setEntity:function(e){e instanceof hi?this.entity=e:this.entity=null},getEntity:function(){return this.entity},initializerName:null,__class__:vl,__properties__:$extend(j.prototype.__properties__,{set_skewX:"set_skewX"})}),(E["elements.LabelView"]=xd).__name__="elements.LabelView",xd.__interfaces__=[u],xd.__super__=O1,xd.prototype=$extend(O1.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},boldAutoruns:null,get_bold:function(){var e,n,t=this.unobservedBold;return null!=w.current&&(e=w.current,null!=(n=this.boldAutoruns)||(n=w.getAutorunArray(),null!=(this.boldAutoruns=n)))&&e.bindToAutorunArray(n),t},set_bold:function(e){var n=this.unobservedBold;return n!=(this.unobservedBold=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBoldChange(e,n),null!=(n=this.boldAutoruns))&&(this.boldAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateBold:function(){var e=this.unobservedBold,e=(this.emitBoldChange(e,e),this.boldAutoruns);null!=e&&(this.boldAutoruns=null,w.invalidateAutorunArray(e))},unobservedBold:null,__cbOnBoldChange:null,__cbOnceBoldChange:null,__cbOnOwnerUnbindBoldChange:null,__cbOnceOwnerUnbindBoldChange:null,emitBoldChange:function(e,n){var t=0;if(null!=this.__cbOnBoldChange&&(t+=this.__cbOnBoldChange.length),null!=this.__cbOnceBoldChange&&(t+=this.__cbOnceBoldChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnBoldChange)for(var r=0,h=this.__cbOnBoldChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnBoldChange[a],++s):--t}if(null!=this.__cbOnceBoldChange){for(var o=null,c=null,r=0,h=this.__cbOnceBoldChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceBoldChange[a],this.__cbOnceBoldChange[a]=null,u=this.__cbOnceOwnerUnbindBoldChange[a],(this.__cbOnceOwnerUnbindBoldChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindBoldChange[a]),c.push(this.__cbOnceBoldChange[a]))}this.__cbOnceOwnerUnbindBoldChange=o,this.__cbOnceBoldChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onBoldChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event boldChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBoldChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBoldChange&&(this.__cbOnOwnerUnbindBoldChange=[]),this.__cbOnOwnerUnbindBoldChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBoldChange&&(this.__cbOnOwnerUnbindBoldChange=[]),this.__cbOnOwnerUnbindBoldChange.push(null);null==this.__cbOnBoldChange&&(this.__cbOnBoldChange=[]),this.__cbOnBoldChange.push(t)},onceBoldChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event boldChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBoldChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBoldChange&&(this.__cbOnceOwnerUnbindBoldChange=[]),this.__cbOnceOwnerUnbindBoldChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBoldChange&&(this.__cbOnceOwnerUnbindBoldChange=[]),this.__cbOnceOwnerUnbindBoldChange.push(null);null==this.__cbOnceBoldChange&&(this.__cbOnceBoldChange=[]),this.__cbOnceBoldChange.push(t)},offBoldChange:function(e){if(null!=e){var n;null!=this.__cbOnBoldChange&&-1!=(n=this.__cbOnBoldChange.indexOf(e))&&(this.__cbOnBoldChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBoldChange[n])&&s(),this.__cbOnOwnerUnbindBoldChange.splice(n,1)),null!=this.__cbOnceBoldChange&&-1!=(n=this.__cbOnceBoldChange.indexOf(e))&&(this.__cbOnceBoldChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBoldChange[n])&&s(),this.__cbOnceOwnerUnbindBoldChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBoldChange){for(var t=0,i=this.__cbOnOwnerUnbindBoldChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBoldChange[l])&&s()}this.__cbOnOwnerUnbindBoldChange=null}if(null!=this.__cbOnceOwnerUnbindBoldChange){for(t=0,i=this.__cbOnceOwnerUnbindBoldChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBoldChange[l])&&s()}this.__cbOnceOwnerUnbindBoldChange=null}this.__cbOnBoldChange=null,this.__cbOnceBoldChange=null}},listensBoldChange:function(){return null!=this.__cbOnBoldChange&&0<this.__cbOnBoldChange.length||null!=this.__cbOnceBoldChange&&0<this.__cbOnceBoldChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=w.current&&(e=w.current,null!=(n=this.disabledAutoruns)||(n=w.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return n!=(this.unobservedDisabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,w.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledChange)for(var r=0,h=this.__cbOnDisabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledChange[a],++s):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledChange[n])&&s(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledChange[l])&&s()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},updateStyle:function(){var e=this.get_theme();null==e&&(e=W.get_context().get_theme()),this.get_disabled()?this.set_textColor(e.get_darkTextColor()):this.set_textColor(e.get_lightTextColor()),this.set_font(this.get_bold()?e.get_boldFont():e.get_mediumFont())},unbindEvents:function(){O1.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offBoldChange(),this.offDisabledChange()},__class__:xd,__properties__:$extend(O1.prototype.__properties__,{set_disabled:"set_disabled",get_disabled:"get_disabled",set_bold:"set_bold",get_bold:"get_bold",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.LabeledView"]=yd).__name__="elements.LabeledView",yd.__interfaces__=[u],yd.__super__=Xb,yd.prototype=$extend(Xb.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},labelAutoruns:null,get_label:function(){var e,n,t=this.unobservedLabel;return null!=w.current&&(e=w.current,null!=(n=this.labelAutoruns)||(n=w.getAutorunArray(),null!=(this.labelAutoruns=n)))&&e.bindToAutorunArray(n),t},set_label:function(e){var n=this.unobservedLabel;return n!=(this.unobservedLabel=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitLabelChange(e,n),null!=(n=this.labelAutoruns))&&(this.labelAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateLabel:function(){var e=this.unobservedLabel,e=(this.emitLabelChange(e,e),this.labelAutoruns);null!=e&&(this.labelAutoruns=null,w.invalidateAutorunArray(e))},unobservedLabel:null,__cbOnLabelChange:null,__cbOnceLabelChange:null,__cbOnOwnerUnbindLabelChange:null,__cbOnceOwnerUnbindLabelChange:null,emitLabelChange:function(e,n){var t=0;if(null!=this.__cbOnLabelChange&&(t+=this.__cbOnLabelChange.length),null!=this.__cbOnceLabelChange&&(t+=this.__cbOnceLabelChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLabelChange)for(var r=0,h=this.__cbOnLabelChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLabelChange[a],++s):--t}if(null!=this.__cbOnceLabelChange){for(var o=null,c=null,r=0,h=this.__cbOnceLabelChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLabelChange[a],this.__cbOnceLabelChange[a]=null,u=this.__cbOnceOwnerUnbindLabelChange[a],(this.__cbOnceOwnerUnbindLabelChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLabelChange[a]),c.push(this.__cbOnceLabelChange[a]))}this.__cbOnceOwnerUnbindLabelChange=o,this.__cbOnceLabelChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLabelChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event labelChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLabelChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLabelChange&&(this.__cbOnOwnerUnbindLabelChange=[]),this.__cbOnOwnerUnbindLabelChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLabelChange&&(this.__cbOnOwnerUnbindLabelChange=[]),this.__cbOnOwnerUnbindLabelChange.push(null);null==this.__cbOnLabelChange&&(this.__cbOnLabelChange=[]),this.__cbOnLabelChange.push(t)},onceLabelChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event labelChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLabelChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLabelChange&&(this.__cbOnceOwnerUnbindLabelChange=[]),this.__cbOnceOwnerUnbindLabelChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLabelChange&&(this.__cbOnceOwnerUnbindLabelChange=[]),this.__cbOnceOwnerUnbindLabelChange.push(null);null==this.__cbOnceLabelChange&&(this.__cbOnceLabelChange=[]),this.__cbOnceLabelChange.push(t)},offLabelChange:function(e){if(null!=e){var n;null!=this.__cbOnLabelChange&&-1!=(n=this.__cbOnLabelChange.indexOf(e))&&(this.__cbOnLabelChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLabelChange[n])&&s(),this.__cbOnOwnerUnbindLabelChange.splice(n,1)),null!=this.__cbOnceLabelChange&&-1!=(n=this.__cbOnceLabelChange.indexOf(e))&&(this.__cbOnceLabelChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLabelChange[n])&&s(),this.__cbOnceOwnerUnbindLabelChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLabelChange){for(var t=0,i=this.__cbOnOwnerUnbindLabelChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLabelChange[l])&&s()}this.__cbOnOwnerUnbindLabelChange=null}if(null!=this.__cbOnceOwnerUnbindLabelChange){for(t=0,i=this.__cbOnceOwnerUnbindLabelChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLabelChange[l])&&s()}this.__cbOnceOwnerUnbindLabelChange=null}this.__cbOnLabelChange=null,this.__cbOnceLabelChange=null}},listensLabelChange:function(){return null!=this.__cbOnLabelChange&&0<this.__cbOnLabelChange.length||null!=this.__cbOnceLabelChange&&0<this.__cbOnceLabelChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=w.current&&(e=w.current,null!=(n=this.disabledAutoruns)||(n=w.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return n!=(this.unobservedDisabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,w.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledChange)for(var r=0,h=this.__cbOnDisabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledChange[a],++s):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledChange[n])&&s(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledChange[l])&&s()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},containerView:null,useContainer:null,view:null,set_view:function(e){return this.view!=e&&(null!=this.view&&this.view.destroy(),null!=(this.view=e)&&((this.useContainer?this.containerView:this).add(e),this.invalidateDisabled()),this.remove(this.labelText),this.add(this.labelText)),e},labelPosition:null,set_labelPosition:function(e){if(this.labelPosition!=e)switch(this.labelPosition=e){case 0:this.remove(this.labelText),this.remove(this.useContainer?this.containerView:this.view),this.add(this.labelText),this.add(this.useContainer?this.containerView:this.view),null!=this.containerView&&this.containerView.set_align(wt.LEFT),this.labelText.set_align(ai.RIGHT);break;case 1:this.remove(this.labelText),this.add(this.labelText),null!=this.containerView&&this.containerView.set_align(wt.RIGHT),this.labelText.set_align(ai.LEFT)}return e},labelWidth:null,set_labelWidth:function(e){return this.labelWidth!=e&&(this.labelWidth=e,this.labelText.set_viewWidth(e)),e},get_labelViewWidth:function(){return this.labelText.viewWidth},set_labelViewWidth:function(e){return this.labelText.set_viewWidth(e)},labelText:null,handleLabelClick:function(){this.get_disabled()||this.view instanceof R2&&this.view.focus()},updateLabel:function(){this.labelText.set_content(this.get_label())},updateDisabled:function(){var e,n=this.view;w.unobserve(),null!=n?(e=!1,w.reobserve(),L.getProperty(n,"disabled")&&(e=!0),w.unobserve(),this.set_disabled(e)):this.set_disabled(!1),w.reobserve()},updateStyle:function(){var e=this.get_theme();null==e&&(e=W.get_context().get_theme()),this.get_disabled()?this.labelText.set_textColor(e.get_darkTextColor()):this.labelText.set_textColor(e.get_lightTextColor()),this.labelText.set_font(e.get_mediumFont())},unbindEvents:function(){Xb.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offLabelChange(),this.offDisabledChange()},__class__:yd,__properties__:$extend(Xb.prototype.__properties__,{set_labelViewWidth:"set_labelViewWidth",get_labelViewWidth:"get_labelViewWidth",set_labelWidth:"set_labelWidth",set_labelPosition:"set_labelPosition",set_view:"set_view",set_disabled:"set_disabled",get_disabled:"get_disabled",set_label:"set_label",get_label:"get_label",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.ListView"]=Ad).__name__="elements.ListView",Ad.__interfaces__=[u],Ad.__super__=g0,Ad.prototype=$extend(g0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnMoveItemAboveItem:null,__cbOnceMoveItemAboveItem:null,__cbOnOwnerUnbindMoveItemAboveItem:null,__cbOnceOwnerUnbindMoveItemAboveItem:null,emitMoveItemAboveItem:function(e,n){var t=0;if(null!=this.__cbOnMoveItemAboveItem&&(t+=this.__cbOnMoveItemAboveItem.length),null!=this.__cbOnceMoveItemAboveItem&&(t+=this.__cbOnceMoveItemAboveItem.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMoveItemAboveItem)for(var r=0,h=this.__cbOnMoveItemAboveItem.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMoveItemAboveItem[a],++s):--t}if(null!=this.__cbOnceMoveItemAboveItem){for(var o=null,c=null,r=0,h=this.__cbOnceMoveItemAboveItem.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMoveItemAboveItem[a],this.__cbOnceMoveItemAboveItem[a]=null,u=this.__cbOnceOwnerUnbindMoveItemAboveItem[a],(this.__cbOnceOwnerUnbindMoveItemAboveItem[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMoveItemAboveItem[a]),c.push(this.__cbOnceMoveItemAboveItem[a]))}this.__cbOnceOwnerUnbindMoveItemAboveItem=o,this.__cbOnceMoveItemAboveItem=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMoveItemAboveItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event moveItemAboveItem because owner is destroyed!");var l=function(e){null!=t&&(i.offMoveItemAboveItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMoveItemAboveItem&&(this.__cbOnOwnerUnbindMoveItemAboveItem=[]),this.__cbOnOwnerUnbindMoveItemAboveItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMoveItemAboveItem&&(this.__cbOnOwnerUnbindMoveItemAboveItem=[]),this.__cbOnOwnerUnbindMoveItemAboveItem.push(null);null==this.__cbOnMoveItemAboveItem&&(this.__cbOnMoveItemAboveItem=[]),this.__cbOnMoveItemAboveItem.push(t)},onceMoveItemAboveItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event moveItemAboveItem because owner is destroyed!");var l=function(e){null!=t&&(i.offMoveItemAboveItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMoveItemAboveItem&&(this.__cbOnceOwnerUnbindMoveItemAboveItem=[]),this.__cbOnceOwnerUnbindMoveItemAboveItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMoveItemAboveItem&&(this.__cbOnceOwnerUnbindMoveItemAboveItem=[]),this.__cbOnceOwnerUnbindMoveItemAboveItem.push(null);null==this.__cbOnceMoveItemAboveItem&&(this.__cbOnceMoveItemAboveItem=[]),this.__cbOnceMoveItemAboveItem.push(t)},offMoveItemAboveItem:function(e){if(null!=e){var n;null!=this.__cbOnMoveItemAboveItem&&-1!=(n=this.__cbOnMoveItemAboveItem.indexOf(e))&&(this.__cbOnMoveItemAboveItem.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMoveItemAboveItem[n])&&s(),this.__cbOnOwnerUnbindMoveItemAboveItem.splice(n,1)),null!=this.__cbOnceMoveItemAboveItem&&-1!=(n=this.__cbOnceMoveItemAboveItem.indexOf(e))&&(this.__cbOnceMoveItemAboveItem.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMoveItemAboveItem[n])&&s(),this.__cbOnceOwnerUnbindMoveItemAboveItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMoveItemAboveItem){for(var t=0,i=this.__cbOnOwnerUnbindMoveItemAboveItem.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMoveItemAboveItem[l])&&s()}this.__cbOnOwnerUnbindMoveItemAboveItem=null}if(null!=this.__cbOnceOwnerUnbindMoveItemAboveItem){for(t=0,i=this.__cbOnceOwnerUnbindMoveItemAboveItem.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMoveItemAboveItem[l])&&s()}this.__cbOnceOwnerUnbindMoveItemAboveItem=null}this.__cbOnMoveItemAboveItem=null,this.__cbOnceMoveItemAboveItem=null}},listensMoveItemAboveItem:function(){return null!=this.__cbOnMoveItemAboveItem&&0<this.__cbOnMoveItemAboveItem.length||null!=this.__cbOnceMoveItemAboveItem&&0<this.__cbOnceMoveItemAboveItem.length},__cbOnMoveItemBelowItem:null,__cbOnceMoveItemBelowItem:null,__cbOnOwnerUnbindMoveItemBelowItem:null,__cbOnceOwnerUnbindMoveItemBelowItem:null,emitMoveItemBelowItem:function(e,n){var t=0;if(null!=this.__cbOnMoveItemBelowItem&&(t+=this.__cbOnMoveItemBelowItem.length),null!=this.__cbOnceMoveItemBelowItem&&(t+=this.__cbOnceMoveItemBelowItem.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMoveItemBelowItem)for(var r=0,h=this.__cbOnMoveItemBelowItem.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMoveItemBelowItem[a],++s):--t}if(null!=this.__cbOnceMoveItemBelowItem){for(var o=null,c=null,r=0,h=this.__cbOnceMoveItemBelowItem.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMoveItemBelowItem[a],this.__cbOnceMoveItemBelowItem[a]=null,u=this.__cbOnceOwnerUnbindMoveItemBelowItem[a],(this.__cbOnceOwnerUnbindMoveItemBelowItem[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMoveItemBelowItem[a]),c.push(this.__cbOnceMoveItemBelowItem[a]))}this.__cbOnceOwnerUnbindMoveItemBelowItem=o,this.__cbOnceMoveItemBelowItem=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMoveItemBelowItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event moveItemBelowItem because owner is destroyed!");var l=function(e){null!=t&&(i.offMoveItemBelowItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMoveItemBelowItem&&(this.__cbOnOwnerUnbindMoveItemBelowItem=[]),this.__cbOnOwnerUnbindMoveItemBelowItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMoveItemBelowItem&&(this.__cbOnOwnerUnbindMoveItemBelowItem=[]),this.__cbOnOwnerUnbindMoveItemBelowItem.push(null);null==this.__cbOnMoveItemBelowItem&&(this.__cbOnMoveItemBelowItem=[]),this.__cbOnMoveItemBelowItem.push(t)},onceMoveItemBelowItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event moveItemBelowItem because owner is destroyed!");var l=function(e){null!=t&&(i.offMoveItemBelowItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMoveItemBelowItem&&(this.__cbOnceOwnerUnbindMoveItemBelowItem=[]),this.__cbOnceOwnerUnbindMoveItemBelowItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMoveItemBelowItem&&(this.__cbOnceOwnerUnbindMoveItemBelowItem=[]),this.__cbOnceOwnerUnbindMoveItemBelowItem.push(null);null==this.__cbOnceMoveItemBelowItem&&(this.__cbOnceMoveItemBelowItem=[]),this.__cbOnceMoveItemBelowItem.push(t)},offMoveItemBelowItem:function(e){if(null!=e){var n;null!=this.__cbOnMoveItemBelowItem&&-1!=(n=this.__cbOnMoveItemBelowItem.indexOf(e))&&(this.__cbOnMoveItemBelowItem.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMoveItemBelowItem[n])&&s(),this.__cbOnOwnerUnbindMoveItemBelowItem.splice(n,1)),null!=this.__cbOnceMoveItemBelowItem&&-1!=(n=this.__cbOnceMoveItemBelowItem.indexOf(e))&&(this.__cbOnceMoveItemBelowItem.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMoveItemBelowItem[n])&&s(),this.__cbOnceOwnerUnbindMoveItemBelowItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMoveItemBelowItem){for(var t=0,i=this.__cbOnOwnerUnbindMoveItemBelowItem.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMoveItemBelowItem[l])&&s()}this.__cbOnOwnerUnbindMoveItemBelowItem=null}if(null!=this.__cbOnceOwnerUnbindMoveItemBelowItem){for(t=0,i=this.__cbOnceOwnerUnbindMoveItemBelowItem.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMoveItemBelowItem[l])&&s()}this.__cbOnceOwnerUnbindMoveItemBelowItem=null}this.__cbOnMoveItemBelowItem=null,this.__cbOnceMoveItemBelowItem=null}},listensMoveItemBelowItem:function(){return null!=this.__cbOnMoveItemBelowItem&&0<this.__cbOnMoveItemBelowItem.length||null!=this.__cbOnceMoveItemBelowItem&&0<this.__cbOnceMoveItemBelowItem.length},__cbOnTrashItem:null,__cbOnceTrashItem:null,__cbOnOwnerUnbindTrashItem:null,__cbOnceOwnerUnbindTrashItem:null,emitTrashItem:function(e){var n=0;if(null!=this.__cbOnTrashItem&&(n+=this.__cbOnTrashItem.length),null!=this.__cbOnceTrashItem&&(n+=this.__cbOnceTrashItem.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnTrashItem)for(var s=0,r=this.__cbOnTrashItem.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnTrashItem[h],++l):--n}if(null!=this.__cbOnceTrashItem){for(var a=null,o=null,s=0,r=this.__cbOnceTrashItem.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceTrashItem[h],this.__cbOnceTrashItem[h]=null,c=this.__cbOnceOwnerUnbindTrashItem[h],(this.__cbOnceOwnerUnbindTrashItem[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindTrashItem[h]),o.push(this.__cbOnceTrashItem[h]))}this.__cbOnceOwnerUnbindTrashItem=a,this.__cbOnceTrashItem=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onTrashItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event trashItem because owner is destroyed!");var l=function(e){null!=t&&(i.offTrashItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTrashItem&&(this.__cbOnOwnerUnbindTrashItem=[]),this.__cbOnOwnerUnbindTrashItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTrashItem&&(this.__cbOnOwnerUnbindTrashItem=[]),this.__cbOnOwnerUnbindTrashItem.push(null);null==this.__cbOnTrashItem&&(this.__cbOnTrashItem=[]),this.__cbOnTrashItem.push(t)},onceTrashItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event trashItem because owner is destroyed!");var l=function(e){null!=t&&(i.offTrashItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTrashItem&&(this.__cbOnceOwnerUnbindTrashItem=[]),this.__cbOnceOwnerUnbindTrashItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTrashItem&&(this.__cbOnceOwnerUnbindTrashItem=[]),this.__cbOnceOwnerUnbindTrashItem.push(null);null==this.__cbOnceTrashItem&&(this.__cbOnceTrashItem=[]),this.__cbOnceTrashItem.push(t)},offTrashItem:function(e){if(null!=e){var n;null!=this.__cbOnTrashItem&&-1!=(n=this.__cbOnTrashItem.indexOf(e))&&(this.__cbOnTrashItem.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTrashItem[n])&&s(),this.__cbOnOwnerUnbindTrashItem.splice(n,1)),null!=this.__cbOnceTrashItem&&-1!=(n=this.__cbOnceTrashItem.indexOf(e))&&(this.__cbOnceTrashItem.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTrashItem[n])&&s(),this.__cbOnceOwnerUnbindTrashItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTrashItem){for(var t=0,i=this.__cbOnOwnerUnbindTrashItem.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTrashItem[l])&&s()}this.__cbOnOwnerUnbindTrashItem=null}if(null!=this.__cbOnceOwnerUnbindTrashItem){for(t=0,i=this.__cbOnceOwnerUnbindTrashItem.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTrashItem[l])&&s()}this.__cbOnceOwnerUnbindTrashItem=null}this.__cbOnTrashItem=null,this.__cbOnceTrashItem=null}},listensTrashItem:function(){return null!=this.__cbOnTrashItem&&0<this.__cbOnTrashItem.length||null!=this.__cbOnceTrashItem&&0<this.__cbOnceTrashItem.length},__cbOnLockItem:null,__cbOnceLockItem:null,__cbOnOwnerUnbindLockItem:null,__cbOnceOwnerUnbindLockItem:null,emitLockItem:function(e){var n=0;if(null!=this.__cbOnLockItem&&(n+=this.__cbOnLockItem.length),null!=this.__cbOnceLockItem&&(n+=this.__cbOnceLockItem.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnLockItem)for(var s=0,r=this.__cbOnLockItem.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnLockItem[h],++l):--n}if(null!=this.__cbOnceLockItem){for(var a=null,o=null,s=0,r=this.__cbOnceLockItem.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceLockItem[h],this.__cbOnceLockItem[h]=null,c=this.__cbOnceOwnerUnbindLockItem[h],(this.__cbOnceOwnerUnbindLockItem[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindLockItem[h]),o.push(this.__cbOnceLockItem[h]))}this.__cbOnceOwnerUnbindLockItem=a,this.__cbOnceLockItem=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}this.didEmitLockItem(e)},onLockItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lockItem because owner is destroyed!");var l=function(e){null!=t&&(i.offLockItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLockItem&&(this.__cbOnOwnerUnbindLockItem=[]),this.__cbOnOwnerUnbindLockItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLockItem&&(this.__cbOnOwnerUnbindLockItem=[]),this.__cbOnOwnerUnbindLockItem.push(null);null==this.__cbOnLockItem&&(this.__cbOnLockItem=[]),this.__cbOnLockItem.push(t)},onceLockItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lockItem because owner is destroyed!");var l=function(e){null!=t&&(i.offLockItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLockItem&&(this.__cbOnceOwnerUnbindLockItem=[]),this.__cbOnceOwnerUnbindLockItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLockItem&&(this.__cbOnceOwnerUnbindLockItem=[]),this.__cbOnceOwnerUnbindLockItem.push(null);null==this.__cbOnceLockItem&&(this.__cbOnceLockItem=[]),this.__cbOnceLockItem.push(t)},offLockItem:function(e){if(null!=e){var n;null!=this.__cbOnLockItem&&-1!=(n=this.__cbOnLockItem.indexOf(e))&&(this.__cbOnLockItem.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLockItem[n])&&s(),this.__cbOnOwnerUnbindLockItem.splice(n,1)),null!=this.__cbOnceLockItem&&-1!=(n=this.__cbOnceLockItem.indexOf(e))&&(this.__cbOnceLockItem.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLockItem[n])&&s(),this.__cbOnceOwnerUnbindLockItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLockItem){for(var t=0,i=this.__cbOnOwnerUnbindLockItem.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLockItem[l])&&s()}this.__cbOnOwnerUnbindLockItem=null}if(null!=this.__cbOnceOwnerUnbindLockItem){for(t=0,i=this.__cbOnceOwnerUnbindLockItem.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLockItem[l])&&s()}this.__cbOnceOwnerUnbindLockItem=null}this.__cbOnLockItem=null,this.__cbOnceLockItem=null}},listensLockItem:function(){return null!=this.__cbOnLockItem&&0<this.__cbOnLockItem.length||null!=this.__cbOnceLockItem&&0<this.__cbOnceLockItem.length},__cbOnUnlockItem:null,__cbOnceUnlockItem:null,__cbOnOwnerUnbindUnlockItem:null,__cbOnceOwnerUnbindUnlockItem:null,emitUnlockItem:function(e){var n=0;if(null!=this.__cbOnUnlockItem&&(n+=this.__cbOnUnlockItem.length),null!=this.__cbOnceUnlockItem&&(n+=this.__cbOnceUnlockItem.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnUnlockItem)for(var s=0,r=this.__cbOnUnlockItem.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnUnlockItem[h],++l):--n}if(null!=this.__cbOnceUnlockItem){for(var a=null,o=null,s=0,r=this.__cbOnceUnlockItem.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceUnlockItem[h],this.__cbOnceUnlockItem[h]=null,c=this.__cbOnceOwnerUnbindUnlockItem[h],(this.__cbOnceOwnerUnbindUnlockItem[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindUnlockItem[h]),o.push(this.__cbOnceUnlockItem[h]))}this.__cbOnceOwnerUnbindUnlockItem=a,this.__cbOnceUnlockItem=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i),i=null}this.didEmitUnlockItem(e)},onUnlockItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event unlockItem because owner is destroyed!");var l=function(e){null!=t&&(i.offUnlockItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindUnlockItem&&(this.__cbOnOwnerUnbindUnlockItem=[]),this.__cbOnOwnerUnbindUnlockItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindUnlockItem&&(this.__cbOnOwnerUnbindUnlockItem=[]),this.__cbOnOwnerUnbindUnlockItem.push(null);null==this.__cbOnUnlockItem&&(this.__cbOnUnlockItem=[]),this.__cbOnUnlockItem.push(t)},onceUnlockItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event unlockItem because owner is destroyed!");var l=function(e){null!=t&&(i.offUnlockItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindUnlockItem&&(this.__cbOnceOwnerUnbindUnlockItem=[]),this.__cbOnceOwnerUnbindUnlockItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindUnlockItem&&(this.__cbOnceOwnerUnbindUnlockItem=[]),this.__cbOnceOwnerUnbindUnlockItem.push(null);null==this.__cbOnceUnlockItem&&(this.__cbOnceUnlockItem=[]),this.__cbOnceUnlockItem.push(t)},offUnlockItem:function(e){if(null!=e){var n;null!=this.__cbOnUnlockItem&&-1!=(n=this.__cbOnUnlockItem.indexOf(e))&&(this.__cbOnUnlockItem.splice(n,1),null!=(s=this.__cbOnOwnerUnbindUnlockItem[n])&&s(),this.__cbOnOwnerUnbindUnlockItem.splice(n,1)),null!=this.__cbOnceUnlockItem&&-1!=(n=this.__cbOnceUnlockItem.indexOf(e))&&(this.__cbOnceUnlockItem.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindUnlockItem[n])&&s(),this.__cbOnceOwnerUnbindUnlockItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUnlockItem){for(var t=0,i=this.__cbOnOwnerUnbindUnlockItem.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindUnlockItem[l])&&s()}this.__cbOnOwnerUnbindUnlockItem=null}if(null!=this.__cbOnceOwnerUnbindUnlockItem){for(t=0,i=this.__cbOnceOwnerUnbindUnlockItem.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindUnlockItem[l])&&s()}this.__cbOnceOwnerUnbindUnlockItem=null}this.__cbOnUnlockItem=null,this.__cbOnceUnlockItem=null}},listensUnlockItem:function(){return null!=this.__cbOnUnlockItem&&0<this.__cbOnUnlockItem.length||null!=this.__cbOnceUnlockItem&&0<this.__cbOnceUnlockItem.length},__cbOnDuplicateItem:null,__cbOnceDuplicateItem:null,__cbOnOwnerUnbindDuplicateItem:null,__cbOnceOwnerUnbindDuplicateItem:null,emitDuplicateItem:function(e){var n=0;if(null!=this.__cbOnDuplicateItem&&(n+=this.__cbOnDuplicateItem.length),null!=this.__cbOnceDuplicateItem&&(n+=this.__cbOnceDuplicateItem.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnDuplicateItem)for(var s=0,r=this.__cbOnDuplicateItem.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnDuplicateItem[h],++l):--n}if(null!=this.__cbOnceDuplicateItem){for(var a=null,o=null,s=0,r=this.__cbOnceDuplicateItem.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceDuplicateItem[h],this.__cbOnceDuplicateItem[h]=null,c=this.__cbOnceOwnerUnbindDuplicateItem[h],(this.__cbOnceOwnerUnbindDuplicateItem[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindDuplicateItem[h]),o.push(this.__cbOnceDuplicateItem[h]))}this.__cbOnceOwnerUnbindDuplicateItem=a,this.__cbOnceDuplicateItem=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onDuplicateItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event duplicateItem because owner is destroyed!");var l=function(e){null!=t&&(i.offDuplicateItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDuplicateItem&&(this.__cbOnOwnerUnbindDuplicateItem=[]),this.__cbOnOwnerUnbindDuplicateItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDuplicateItem&&(this.__cbOnOwnerUnbindDuplicateItem=[]),this.__cbOnOwnerUnbindDuplicateItem.push(null);null==this.__cbOnDuplicateItem&&(this.__cbOnDuplicateItem=[]),this.__cbOnDuplicateItem.push(t)},onceDuplicateItem:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event duplicateItem because owner is destroyed!");var l=function(e){null!=t&&(i.offDuplicateItem(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDuplicateItem&&(this.__cbOnceOwnerUnbindDuplicateItem=[]),this.__cbOnceOwnerUnbindDuplicateItem.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDuplicateItem&&(this.__cbOnceOwnerUnbindDuplicateItem=[]),this.__cbOnceOwnerUnbindDuplicateItem.push(null);null==this.__cbOnceDuplicateItem&&(this.__cbOnceDuplicateItem=[]),this.__cbOnceDuplicateItem.push(t)},offDuplicateItem:function(e){if(null!=e){var n;null!=this.__cbOnDuplicateItem&&-1!=(n=this.__cbOnDuplicateItem.indexOf(e))&&(this.__cbOnDuplicateItem.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDuplicateItem[n])&&s(),this.__cbOnOwnerUnbindDuplicateItem.splice(n,1)),null!=this.__cbOnceDuplicateItem&&-1!=(n=this.__cbOnceDuplicateItem.indexOf(e))&&(this.__cbOnceDuplicateItem.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDuplicateItem[n])&&s(),this.__cbOnceOwnerUnbindDuplicateItem.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDuplicateItem){for(var t=0,i=this.__cbOnOwnerUnbindDuplicateItem.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDuplicateItem[l])&&s()}this.__cbOnOwnerUnbindDuplicateItem=null}if(null!=this.__cbOnceOwnerUnbindDuplicateItem){for(t=0,i=this.__cbOnceOwnerUnbindDuplicateItem.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDuplicateItem[l])&&s()}this.__cbOnceOwnerUnbindDuplicateItem=null}this.__cbOnDuplicateItem=null,this.__cbOnceDuplicateItem=null}},listensDuplicateItem:function(){return null!=this.__cbOnDuplicateItem&&0<this.__cbOnDuplicateItem.length||null!=this.__cbOnceDuplicateItem&&0<this.__cbOnceDuplicateItem.length},collectionView:null,dataSource:null,set_dataSource:function(e){return this.dataSource=e,this.collectionView.set_dataSource(e),e},themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},itemsAutoruns:null,get_items:function(){var e,n,t=this.unobservedItems;return null!=w.current&&(e=w.current,null!=(n=this.itemsAutoruns)||(n=w.getAutorunArray(),null!=(this.itemsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_items:function(e){var n=this.unobservedItems;return this.unobservedItems=e,Tr.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitItemsChange(e,n),null!=(n=this.itemsAutoruns)&&(this.itemsAutoruns=null,w.invalidateAutorunArray(n))),e},invalidateItems:function(){var e=this.unobservedItems,e=(this.emitItemsChange(e,e),this.itemsAutoruns);null!=e&&(this.itemsAutoruns=null,w.invalidateAutorunArray(e))},unobservedItems:null,__cbOnItemsChange:null,__cbOnceItemsChange:null,__cbOnOwnerUnbindItemsChange:null,__cbOnceOwnerUnbindItemsChange:null,emitItemsChange:function(e,n){var t=0;if(null!=this.__cbOnItemsChange&&(t+=this.__cbOnItemsChange.length),null!=this.__cbOnceItemsChange&&(t+=this.__cbOnceItemsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnItemsChange)for(var r=0,h=this.__cbOnItemsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnItemsChange[a],++s):--t}if(null!=this.__cbOnceItemsChange){for(var o=null,c=null,r=0,h=this.__cbOnceItemsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceItemsChange[a],this.__cbOnceItemsChange[a]=null,u=this.__cbOnceOwnerUnbindItemsChange[a],(this.__cbOnceOwnerUnbindItemsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindItemsChange[a]),c.push(this.__cbOnceItemsChange[a]))}this.__cbOnceOwnerUnbindItemsChange=o,this.__cbOnceItemsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onItemsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event itemsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offItemsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindItemsChange&&(this.__cbOnOwnerUnbindItemsChange=[]),this.__cbOnOwnerUnbindItemsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindItemsChange&&(this.__cbOnOwnerUnbindItemsChange=[]),this.__cbOnOwnerUnbindItemsChange.push(null);null==this.__cbOnItemsChange&&(this.__cbOnItemsChange=[]),this.__cbOnItemsChange.push(t)},onceItemsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event itemsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offItemsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindItemsChange&&(this.__cbOnceOwnerUnbindItemsChange=[]),this.__cbOnceOwnerUnbindItemsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindItemsChange&&(this.__cbOnceOwnerUnbindItemsChange=[]),this.__cbOnceOwnerUnbindItemsChange.push(null);null==this.__cbOnceItemsChange&&(this.__cbOnceItemsChange=[]),this.__cbOnceItemsChange.push(t)},offItemsChange:function(e){if(null!=e){var n;null!=this.__cbOnItemsChange&&-1!=(n=this.__cbOnItemsChange.indexOf(e))&&(this.__cbOnItemsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindItemsChange[n])&&s(),this.__cbOnOwnerUnbindItemsChange.splice(n,1)),null!=this.__cbOnceItemsChange&&-1!=(n=this.__cbOnceItemsChange.indexOf(e))&&(this.__cbOnceItemsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindItemsChange[n])&&s(),this.__cbOnceOwnerUnbindItemsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindItemsChange){for(var t=0,i=this.__cbOnOwnerUnbindItemsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindItemsChange[l])&&s()}this.__cbOnOwnerUnbindItemsChange=null}if(null!=this.__cbOnceOwnerUnbindItemsChange){for(t=0,i=this.__cbOnceOwnerUnbindItemsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindItemsChange[l])&&s()}this.__cbOnceOwnerUnbindItemsChange=null}this.__cbOnItemsChange=null,this.__cbOnceItemsChange=null}},listensItemsChange:function(){return null!=this.__cbOnItemsChange&&0<this.__cbOnItemsChange.length||null!=this.__cbOnceItemsChange&&0<this.__cbOnceItemsChange.length},selectedIndexAutoruns:null,get_selectedIndex:function(){var e,n,t=this.unobservedSelectedIndex;return null!=w.current&&(e=w.current,null!=(n=this.selectedIndexAutoruns)||(n=w.getAutorunArray(),null!=(this.selectedIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectedIndex:function(e){var n=this.unobservedSelectedIndex;return n!=(this.unobservedSelectedIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectedIndexChange(e,n),null!=(n=this.selectedIndexAutoruns))&&(this.selectedIndexAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateSelectedIndex:function(){var e=this.unobservedSelectedIndex,e=(this.emitSelectedIndexChange(e,e),this.selectedIndexAutoruns);null!=e&&(this.selectedIndexAutoruns=null,w.invalidateAutorunArray(e))},unobservedSelectedIndex:null,__cbOnSelectedIndexChange:null,__cbOnceSelectedIndexChange:null,__cbOnOwnerUnbindSelectedIndexChange:null,__cbOnceOwnerUnbindSelectedIndexChange:null,emitSelectedIndexChange:function(e,n){var t=0;if(null!=this.__cbOnSelectedIndexChange&&(t+=this.__cbOnSelectedIndexChange.length),null!=this.__cbOnceSelectedIndexChange&&(t+=this.__cbOnceSelectedIndexChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelectedIndexChange)for(var r=0,h=this.__cbOnSelectedIndexChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSelectedIndexChange[a],++s):--t}if(null!=this.__cbOnceSelectedIndexChange){for(var o=null,c=null,r=0,h=this.__cbOnceSelectedIndexChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSelectedIndexChange[a],this.__cbOnceSelectedIndexChange[a]=null,u=this.__cbOnceOwnerUnbindSelectedIndexChange[a],(this.__cbOnceOwnerUnbindSelectedIndexChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectedIndexChange[a]),c.push(this.__cbOnceSelectedIndexChange[a]))}this.__cbOnceOwnerUnbindSelectedIndexChange=o,this.__cbOnceSelectedIndexChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSelectedIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selectedIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectedIndexChange&&(this.__cbOnOwnerUnbindSelectedIndexChange=[]),this.__cbOnOwnerUnbindSelectedIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectedIndexChange&&(this.__cbOnOwnerUnbindSelectedIndexChange=[]),this.__cbOnOwnerUnbindSelectedIndexChange.push(null);null==this.__cbOnSelectedIndexChange&&(this.__cbOnSelectedIndexChange=[]),this.__cbOnSelectedIndexChange.push(t)},onceSelectedIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selectedIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectedIndexChange&&(this.__cbOnceOwnerUnbindSelectedIndexChange=[]),this.__cbOnceOwnerUnbindSelectedIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectedIndexChange&&(this.__cbOnceOwnerUnbindSelectedIndexChange=[]),this.__cbOnceOwnerUnbindSelectedIndexChange.push(null);null==this.__cbOnceSelectedIndexChange&&(this.__cbOnceSelectedIndexChange=[]),this.__cbOnceSelectedIndexChange.push(t)},offSelectedIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectedIndexChange&&-1!=(n=this.__cbOnSelectedIndexChange.indexOf(e))&&(this.__cbOnSelectedIndexChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelectedIndexChange[n])&&s(),this.__cbOnOwnerUnbindSelectedIndexChange.splice(n,1)),null!=this.__cbOnceSelectedIndexChange&&-1!=(n=this.__cbOnceSelectedIndexChange.indexOf(e))&&(this.__cbOnceSelectedIndexChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelectedIndexChange[n])&&s(),this.__cbOnceOwnerUnbindSelectedIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectedIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectedIndexChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelectedIndexChange[l])&&s()}this.__cbOnOwnerUnbindSelectedIndexChange=null}if(null!=this.__cbOnceOwnerUnbindSelectedIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectedIndexChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelectedIndexChange[l])&&s()}this.__cbOnceOwnerUnbindSelectedIndexChange=null}this.__cbOnSelectedIndexChange=null,this.__cbOnceSelectedIndexChange=null}},listensSelectedIndexChange:function(){return null!=this.__cbOnSelectedIndexChange&&0<this.__cbOnSelectedIndexChange.length||null!=this.__cbOnceSelectedIndexChange&&0<this.__cbOnceSelectedIndexChange.length},trashableAutoruns:null,get_trashable:function(){var e,n,t=this.unobservedTrashable;return null!=w.current&&(e=w.current,null!=(n=this.trashableAutoruns)||(n=w.getAutorunArray(),null!=(this.trashableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_trashable:function(e){var n=this.unobservedTrashable;return n!=(this.unobservedTrashable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTrashableChange(e,n),null!=(n=this.trashableAutoruns))&&(this.trashableAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTrashable:function(){var e=this.unobservedTrashable,e=(this.emitTrashableChange(e,e),this.trashableAutoruns);null!=e&&(this.trashableAutoruns=null,w.invalidateAutorunArray(e))},unobservedTrashable:null,__cbOnTrashableChange:null,__cbOnceTrashableChange:null,__cbOnOwnerUnbindTrashableChange:null,__cbOnceOwnerUnbindTrashableChange:null,emitTrashableChange:function(e,n){var t=0;if(null!=this.__cbOnTrashableChange&&(t+=this.__cbOnTrashableChange.length),null!=this.__cbOnceTrashableChange&&(t+=this.__cbOnceTrashableChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTrashableChange)for(var r=0,h=this.__cbOnTrashableChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTrashableChange[a],++s):--t}if(null!=this.__cbOnceTrashableChange){for(var o=null,c=null,r=0,h=this.__cbOnceTrashableChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTrashableChange[a],this.__cbOnceTrashableChange[a]=null,u=this.__cbOnceOwnerUnbindTrashableChange[a],(this.__cbOnceOwnerUnbindTrashableChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTrashableChange[a]),c.push(this.__cbOnceTrashableChange[a]))}this.__cbOnceOwnerUnbindTrashableChange=o,this.__cbOnceTrashableChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTrashableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event trashableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTrashableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTrashableChange&&(this.__cbOnOwnerUnbindTrashableChange=[]),this.__cbOnOwnerUnbindTrashableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTrashableChange&&(this.__cbOnOwnerUnbindTrashableChange=[]),this.__cbOnOwnerUnbindTrashableChange.push(null);null==this.__cbOnTrashableChange&&(this.__cbOnTrashableChange=[]),this.__cbOnTrashableChange.push(t)},onceTrashableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event trashableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTrashableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTrashableChange&&(this.__cbOnceOwnerUnbindTrashableChange=[]),this.__cbOnceOwnerUnbindTrashableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTrashableChange&&(this.__cbOnceOwnerUnbindTrashableChange=[]),this.__cbOnceOwnerUnbindTrashableChange.push(null);null==this.__cbOnceTrashableChange&&(this.__cbOnceTrashableChange=[]),this.__cbOnceTrashableChange.push(t)},offTrashableChange:function(e){if(null!=e){var n;null!=this.__cbOnTrashableChange&&-1!=(n=this.__cbOnTrashableChange.indexOf(e))&&(this.__cbOnTrashableChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTrashableChange[n])&&s(),this.__cbOnOwnerUnbindTrashableChange.splice(n,1)),null!=this.__cbOnceTrashableChange&&-1!=(n=this.__cbOnceTrashableChange.indexOf(e))&&(this.__cbOnceTrashableChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTrashableChange[n])&&s(),this.__cbOnceOwnerUnbindTrashableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTrashableChange){for(var t=0,i=this.__cbOnOwnerUnbindTrashableChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTrashableChange[l])&&s()}this.__cbOnOwnerUnbindTrashableChange=null}if(null!=this.__cbOnceOwnerUnbindTrashableChange){for(t=0,i=this.__cbOnceOwnerUnbindTrashableChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTrashableChange[l])&&s()}this.__cbOnceOwnerUnbindTrashableChange=null}this.__cbOnTrashableChange=null,this.__cbOnceTrashableChange=null}},listensTrashableChange:function(){return null!=this.__cbOnTrashableChange&&0<this.__cbOnTrashableChange.length||null!=this.__cbOnceTrashableChange&&0<this.__cbOnceTrashableChange.length},lockableAutoruns:null,get_lockable:function(){var e,n,t=this.unobservedLockable;return null!=w.current&&(e=w.current,null!=(n=this.lockableAutoruns)||(n=w.getAutorunArray(),null!=(this.lockableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lockable:function(e){var n=this.unobservedLockable;return n!=(this.unobservedLockable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitLockableChange(e,n),null!=(n=this.lockableAutoruns))&&(this.lockableAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateLockable:function(){var e=this.unobservedLockable,e=(this.emitLockableChange(e,e),this.lockableAutoruns);null!=e&&(this.lockableAutoruns=null,w.invalidateAutorunArray(e))},unobservedLockable:null,__cbOnLockableChange:null,__cbOnceLockableChange:null,__cbOnOwnerUnbindLockableChange:null,__cbOnceOwnerUnbindLockableChange:null,emitLockableChange:function(e,n){var t=0;if(null!=this.__cbOnLockableChange&&(t+=this.__cbOnLockableChange.length),null!=this.__cbOnceLockableChange&&(t+=this.__cbOnceLockableChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLockableChange)for(var r=0,h=this.__cbOnLockableChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLockableChange[a],++s):--t}if(null!=this.__cbOnceLockableChange){for(var o=null,c=null,r=0,h=this.__cbOnceLockableChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLockableChange[a],this.__cbOnceLockableChange[a]=null,u=this.__cbOnceOwnerUnbindLockableChange[a],(this.__cbOnceOwnerUnbindLockableChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLockableChange[a]),c.push(this.__cbOnceLockableChange[a]))}this.__cbOnceOwnerUnbindLockableChange=o,this.__cbOnceLockableChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLockableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lockableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLockableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLockableChange&&(this.__cbOnOwnerUnbindLockableChange=[]),this.__cbOnOwnerUnbindLockableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLockableChange&&(this.__cbOnOwnerUnbindLockableChange=[]),this.__cbOnOwnerUnbindLockableChange.push(null);null==this.__cbOnLockableChange&&(this.__cbOnLockableChange=[]),this.__cbOnLockableChange.push(t)},onceLockableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lockableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLockableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLockableChange&&(this.__cbOnceOwnerUnbindLockableChange=[]),this.__cbOnceOwnerUnbindLockableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLockableChange&&(this.__cbOnceOwnerUnbindLockableChange=[]),this.__cbOnceOwnerUnbindLockableChange.push(null);null==this.__cbOnceLockableChange&&(this.__cbOnceLockableChange=[]),this.__cbOnceLockableChange.push(t)},offLockableChange:function(e){if(null!=e){var n;null!=this.__cbOnLockableChange&&-1!=(n=this.__cbOnLockableChange.indexOf(e))&&(this.__cbOnLockableChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLockableChange[n])&&s(),this.__cbOnOwnerUnbindLockableChange.splice(n,1)),null!=this.__cbOnceLockableChange&&-1!=(n=this.__cbOnceLockableChange.indexOf(e))&&(this.__cbOnceLockableChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLockableChange[n])&&s(),this.__cbOnceOwnerUnbindLockableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLockableChange){for(var t=0,i=this.__cbOnOwnerUnbindLockableChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLockableChange[l])&&s()}this.__cbOnOwnerUnbindLockableChange=null}if(null!=this.__cbOnceOwnerUnbindLockableChange){for(t=0,i=this.__cbOnceOwnerUnbindLockableChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLockableChange[l])&&s()}this.__cbOnceOwnerUnbindLockableChange=null}this.__cbOnLockableChange=null,this.__cbOnceLockableChange=null}},listensLockableChange:function(){return null!=this.__cbOnLockableChange&&0<this.__cbOnLockableChange.length||null!=this.__cbOnceLockableChange&&0<this.__cbOnceLockableChange.length},duplicableAutoruns:null,get_duplicable:function(){var e,n,t=this.unobservedDuplicable;return null!=w.current&&(e=w.current,null!=(n=this.duplicableAutoruns)||(n=w.getAutorunArray(),null!=(this.duplicableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_duplicable:function(e){var n=this.unobservedDuplicable;return n!=(this.unobservedDuplicable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDuplicableChange(e,n),null!=(n=this.duplicableAutoruns))&&(this.duplicableAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDuplicable:function(){var e=this.unobservedDuplicable,e=(this.emitDuplicableChange(e,e),this.duplicableAutoruns);null!=e&&(this.duplicableAutoruns=null,w.invalidateAutorunArray(e))},unobservedDuplicable:null,__cbOnDuplicableChange:null,__cbOnceDuplicableChange:null,__cbOnOwnerUnbindDuplicableChange:null,__cbOnceOwnerUnbindDuplicableChange:null,emitDuplicableChange:function(e,n){var t=0;if(null!=this.__cbOnDuplicableChange&&(t+=this.__cbOnDuplicableChange.length),null!=this.__cbOnceDuplicableChange&&(t+=this.__cbOnceDuplicableChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDuplicableChange)for(var r=0,h=this.__cbOnDuplicableChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDuplicableChange[a],++s):--t}if(null!=this.__cbOnceDuplicableChange){for(var o=null,c=null,r=0,h=this.__cbOnceDuplicableChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDuplicableChange[a],this.__cbOnceDuplicableChange[a]=null,u=this.__cbOnceOwnerUnbindDuplicableChange[a],(this.__cbOnceOwnerUnbindDuplicableChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDuplicableChange[a]),c.push(this.__cbOnceDuplicableChange[a]))}this.__cbOnceOwnerUnbindDuplicableChange=o,this.__cbOnceDuplicableChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDuplicableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event duplicableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDuplicableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDuplicableChange&&(this.__cbOnOwnerUnbindDuplicableChange=[]),this.__cbOnOwnerUnbindDuplicableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDuplicableChange&&(this.__cbOnOwnerUnbindDuplicableChange=[]),this.__cbOnOwnerUnbindDuplicableChange.push(null);null==this.__cbOnDuplicableChange&&(this.__cbOnDuplicableChange=[]),this.__cbOnDuplicableChange.push(t)},onceDuplicableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event duplicableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDuplicableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDuplicableChange&&(this.__cbOnceOwnerUnbindDuplicableChange=[]),this.__cbOnceOwnerUnbindDuplicableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDuplicableChange&&(this.__cbOnceOwnerUnbindDuplicableChange=[]),this.__cbOnceOwnerUnbindDuplicableChange.push(null);null==this.__cbOnceDuplicableChange&&(this.__cbOnceDuplicableChange=[]),this.__cbOnceDuplicableChange.push(t)},offDuplicableChange:function(e){if(null!=e){var n;null!=this.__cbOnDuplicableChange&&-1!=(n=this.__cbOnDuplicableChange.indexOf(e))&&(this.__cbOnDuplicableChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDuplicableChange[n])&&s(),this.__cbOnOwnerUnbindDuplicableChange.splice(n,1)),null!=this.__cbOnceDuplicableChange&&-1!=(n=this.__cbOnceDuplicableChange.indexOf(e))&&(this.__cbOnceDuplicableChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDuplicableChange[n])&&s(),this.__cbOnceOwnerUnbindDuplicableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDuplicableChange){for(var t=0,i=this.__cbOnOwnerUnbindDuplicableChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDuplicableChange[l])&&s()}this.__cbOnOwnerUnbindDuplicableChange=null}if(null!=this.__cbOnceOwnerUnbindDuplicableChange){for(t=0,i=this.__cbOnceOwnerUnbindDuplicableChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDuplicableChange[l])&&s()}this.__cbOnceOwnerUnbindDuplicableChange=null}this.__cbOnDuplicableChange=null,this.__cbOnceDuplicableChange=null}},listensDuplicableChange:function(){return null!=this.__cbOnDuplicableChange&&0<this.__cbOnDuplicableChange.length||null!=this.__cbOnceDuplicableChange&&0<this.__cbOnceDuplicableChange.length},sortableAutoruns:null,get_sortable:function(){var e,n,t=this.unobservedSortable;return null!=w.current&&(e=w.current,null!=(n=this.sortableAutoruns)||(n=w.getAutorunArray(),null!=(this.sortableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_sortable:function(e){var n=this.unobservedSortable;return n!=(this.unobservedSortable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSortableChange(e,n),null!=(n=this.sortableAutoruns))&&(this.sortableAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateSortable:function(){var e=this.unobservedSortable,e=(this.emitSortableChange(e,e),this.sortableAutoruns);null!=e&&(this.sortableAutoruns=null,w.invalidateAutorunArray(e))},unobservedSortable:null,__cbOnSortableChange:null,__cbOnceSortableChange:null,__cbOnOwnerUnbindSortableChange:null,__cbOnceOwnerUnbindSortableChange:null,emitSortableChange:function(e,n){var t=0;if(null!=this.__cbOnSortableChange&&(t+=this.__cbOnSortableChange.length),null!=this.__cbOnceSortableChange&&(t+=this.__cbOnceSortableChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSortableChange)for(var r=0,h=this.__cbOnSortableChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSortableChange[a],++s):--t}if(null!=this.__cbOnceSortableChange){for(var o=null,c=null,r=0,h=this.__cbOnceSortableChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSortableChange[a],this.__cbOnceSortableChange[a]=null,u=this.__cbOnceOwnerUnbindSortableChange[a],(this.__cbOnceOwnerUnbindSortableChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSortableChange[a]),c.push(this.__cbOnceSortableChange[a]))}this.__cbOnceOwnerUnbindSortableChange=o,this.__cbOnceSortableChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSortableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event sortableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSortableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSortableChange&&(this.__cbOnOwnerUnbindSortableChange=[]),this.__cbOnOwnerUnbindSortableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSortableChange&&(this.__cbOnOwnerUnbindSortableChange=[]),this.__cbOnOwnerUnbindSortableChange.push(null);null==this.__cbOnSortableChange&&(this.__cbOnSortableChange=[]),this.__cbOnSortableChange.push(t)},onceSortableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event sortableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSortableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSortableChange&&(this.__cbOnceOwnerUnbindSortableChange=[]),this.__cbOnceOwnerUnbindSortableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSortableChange&&(this.__cbOnceOwnerUnbindSortableChange=[]),this.__cbOnceOwnerUnbindSortableChange.push(null);null==this.__cbOnceSortableChange&&(this.__cbOnceSortableChange=[]),this.__cbOnceSortableChange.push(t)},offSortableChange:function(e){if(null!=e){var n;null!=this.__cbOnSortableChange&&-1!=(n=this.__cbOnSortableChange.indexOf(e))&&(this.__cbOnSortableChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSortableChange[n])&&s(),this.__cbOnOwnerUnbindSortableChange.splice(n,1)),null!=this.__cbOnceSortableChange&&-1!=(n=this.__cbOnceSortableChange.indexOf(e))&&(this.__cbOnceSortableChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSortableChange[n])&&s(),this.__cbOnceOwnerUnbindSortableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSortableChange){for(var t=0,i=this.__cbOnOwnerUnbindSortableChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSortableChange[l])&&s()}this.__cbOnOwnerUnbindSortableChange=null}if(null!=this.__cbOnceOwnerUnbindSortableChange){for(t=0,i=this.__cbOnceOwnerUnbindSortableChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSortableChange[l])&&s()}this.__cbOnceOwnerUnbindSortableChange=null}this.__cbOnSortableChange=null,this.__cbOnceSortableChange=null}},listensSortableChange:function(){return null!=this.__cbOnSortableChange&&0<this.__cbOnSortableChange.length||null!=this.__cbOnceSortableChange&&0<this.__cbOnceSortableChange.length},smallItemsAutoruns:null,get_smallItems:function(){var e,n,t=this.unobservedSmallItems;return null!=w.current&&(e=w.current,null!=(n=this.smallItemsAutoruns)||(n=w.getAutorunArray(),null!=(this.smallItemsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_smallItems:function(e){var n=this.unobservedSmallItems;return n!=(this.unobservedSmallItems=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSmallItemsChange(e,n),null!=(n=this.smallItemsAutoruns))&&(this.smallItemsAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateSmallItems:function(){var e=this.unobservedSmallItems,e=(this.emitSmallItemsChange(e,e),this.smallItemsAutoruns);null!=e&&(this.smallItemsAutoruns=null,w.invalidateAutorunArray(e))},unobservedSmallItems:null,__cbOnSmallItemsChange:null,__cbOnceSmallItemsChange:null,__cbOnOwnerUnbindSmallItemsChange:null,__cbOnceOwnerUnbindSmallItemsChange:null,emitSmallItemsChange:function(e,n){var t=0;if(null!=this.__cbOnSmallItemsChange&&(t+=this.__cbOnSmallItemsChange.length),null!=this.__cbOnceSmallItemsChange&&(t+=this.__cbOnceSmallItemsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSmallItemsChange)for(var r=0,h=this.__cbOnSmallItemsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSmallItemsChange[a],++s):--t}if(null!=this.__cbOnceSmallItemsChange){for(var o=null,c=null,r=0,h=this.__cbOnceSmallItemsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSmallItemsChange[a],this.__cbOnceSmallItemsChange[a]=null,u=this.__cbOnceOwnerUnbindSmallItemsChange[a],(this.__cbOnceOwnerUnbindSmallItemsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSmallItemsChange[a]),c.push(this.__cbOnceSmallItemsChange[a]))}this.__cbOnceOwnerUnbindSmallItemsChange=o,this.__cbOnceSmallItemsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSmallItemsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event smallItemsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSmallItemsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSmallItemsChange&&(this.__cbOnOwnerUnbindSmallItemsChange=[]),this.__cbOnOwnerUnbindSmallItemsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSmallItemsChange&&(this.__cbOnOwnerUnbindSmallItemsChange=[]),this.__cbOnOwnerUnbindSmallItemsChange.push(null);null==this.__cbOnSmallItemsChange&&(this.__cbOnSmallItemsChange=[]),this.__cbOnSmallItemsChange.push(t)},onceSmallItemsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event smallItemsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSmallItemsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSmallItemsChange&&(this.__cbOnceOwnerUnbindSmallItemsChange=[]),this.__cbOnceOwnerUnbindSmallItemsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSmallItemsChange&&(this.__cbOnceOwnerUnbindSmallItemsChange=[]),this.__cbOnceOwnerUnbindSmallItemsChange.push(null);null==this.__cbOnceSmallItemsChange&&(this.__cbOnceSmallItemsChange=[]),this.__cbOnceSmallItemsChange.push(t)},offSmallItemsChange:function(e){if(null!=e){var n;null!=this.__cbOnSmallItemsChange&&-1!=(n=this.__cbOnSmallItemsChange.indexOf(e))&&(this.__cbOnSmallItemsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSmallItemsChange[n])&&s(),this.__cbOnOwnerUnbindSmallItemsChange.splice(n,1)),null!=this.__cbOnceSmallItemsChange&&-1!=(n=this.__cbOnceSmallItemsChange.indexOf(e))&&(this.__cbOnceSmallItemsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSmallItemsChange[n])&&s(),this.__cbOnceOwnerUnbindSmallItemsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSmallItemsChange){for(var t=0,i=this.__cbOnOwnerUnbindSmallItemsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSmallItemsChange[l])&&s()}this.__cbOnOwnerUnbindSmallItemsChange=null}if(null!=this.__cbOnceOwnerUnbindSmallItemsChange){for(t=0,i=this.__cbOnceOwnerUnbindSmallItemsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSmallItemsChange[l])&&s()}this.__cbOnceOwnerUnbindSmallItemsChange=null}this.__cbOnSmallItemsChange=null,this.__cbOnceSmallItemsChange=null}},listensSmallItemsChange:function(){return null!=this.__cbOnSmallItemsChange&&0<this.__cbOnSmallItemsChange.length||null!=this.__cbOnceSmallItemsChange&&0<this.__cbOnceSmallItemsChange.length},scrollEnabledAutoruns:null,get_scrollEnabled:function(){var e,n,t=this.unobservedScrollEnabled;return null!=w.current&&(e=w.current,null!=(n=this.scrollEnabledAutoruns)||(n=w.getAutorunArray(),null!=(this.scrollEnabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scrollEnabled:function(e){var n=this.unobservedScrollEnabled;return n!=(this.unobservedScrollEnabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScrollEnabledChange(e,n),null!=(n=this.scrollEnabledAutoruns))&&(this.scrollEnabledAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateScrollEnabled:function(){var e=this.unobservedScrollEnabled,e=(this.emitScrollEnabledChange(e,e),this.scrollEnabledAutoruns);null!=e&&(this.scrollEnabledAutoruns=null,w.invalidateAutorunArray(e))},unobservedScrollEnabled:null,__cbOnScrollEnabledChange:null,__cbOnceScrollEnabledChange:null,__cbOnOwnerUnbindScrollEnabledChange:null,__cbOnceOwnerUnbindScrollEnabledChange:null,emitScrollEnabledChange:function(e,n){var t=0;if(null!=this.__cbOnScrollEnabledChange&&(t+=this.__cbOnScrollEnabledChange.length),null!=this.__cbOnceScrollEnabledChange&&(t+=this.__cbOnceScrollEnabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnScrollEnabledChange)for(var r=0,h=this.__cbOnScrollEnabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnScrollEnabledChange[a],++s):--t}if(null!=this.__cbOnceScrollEnabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceScrollEnabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceScrollEnabledChange[a],this.__cbOnceScrollEnabledChange[a]=null,u=this.__cbOnceOwnerUnbindScrollEnabledChange[a],(this.__cbOnceOwnerUnbindScrollEnabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScrollEnabledChange[a]),c.push(this.__cbOnceScrollEnabledChange[a]))}this.__cbOnceOwnerUnbindScrollEnabledChange=o,this.__cbOnceScrollEnabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onScrollEnabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scrollEnabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollEnabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollEnabledChange&&(this.__cbOnOwnerUnbindScrollEnabledChange=[]),this.__cbOnOwnerUnbindScrollEnabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollEnabledChange&&(this.__cbOnOwnerUnbindScrollEnabledChange=[]),this.__cbOnOwnerUnbindScrollEnabledChange.push(null);null==this.__cbOnScrollEnabledChange&&(this.__cbOnScrollEnabledChange=[]),this.__cbOnScrollEnabledChange.push(t)},onceScrollEnabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scrollEnabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollEnabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollEnabledChange&&(this.__cbOnceOwnerUnbindScrollEnabledChange=[]),this.__cbOnceOwnerUnbindScrollEnabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollEnabledChange&&(this.__cbOnceOwnerUnbindScrollEnabledChange=[]),this.__cbOnceOwnerUnbindScrollEnabledChange.push(null);null==this.__cbOnceScrollEnabledChange&&(this.__cbOnceScrollEnabledChange=[]),this.__cbOnceScrollEnabledChange.push(t)},offScrollEnabledChange:function(e){if(null!=e){var n;null!=this.__cbOnScrollEnabledChange&&-1!=(n=this.__cbOnScrollEnabledChange.indexOf(e))&&(this.__cbOnScrollEnabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScrollEnabledChange[n])&&s(),this.__cbOnOwnerUnbindScrollEnabledChange.splice(n,1)),null!=this.__cbOnceScrollEnabledChange&&-1!=(n=this.__cbOnceScrollEnabledChange.indexOf(e))&&(this.__cbOnceScrollEnabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScrollEnabledChange[n])&&s(),this.__cbOnceOwnerUnbindScrollEnabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollEnabledChange){for(var t=0,i=this.__cbOnOwnerUnbindScrollEnabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScrollEnabledChange[l])&&s()}this.__cbOnOwnerUnbindScrollEnabledChange=null}if(null!=this.__cbOnceOwnerUnbindScrollEnabledChange){for(t=0,i=this.__cbOnceOwnerUnbindScrollEnabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScrollEnabledChange[l])&&s()}this.__cbOnceOwnerUnbindScrollEnabledChange=null}this.__cbOnScrollEnabledChange=null,this.__cbOnceScrollEnabledChange=null}},listensScrollEnabledChange:function(){return null!=this.__cbOnScrollEnabledChange&&0<this.__cbOnScrollEnabledChange.length||null!=this.__cbOnceScrollEnabledChange&&0<this.__cbOnceScrollEnabledChange.length},windowItem:null,autoCheckLocked:null,updateFromScrollEnabled:function(){var e=this.get_scrollEnabled(),n=(w.unobserve(),this.collectionView.scroller);n.set_scrollEnabled(e),n.scrollbar.set_active(e)},updateFromItems:function(){var e=this;this.get_items(),this.get_smallItems(),this.get_scrollEnabled();w.unobserve(),this.collectionView.reloadData(),this.collectionView.onceLayout(this,function(){e.collectionView.scroller.scrollToBounds()}),this.collectionView.layoutDirty=!0,w.reobserve()},layout:function(){g0.prototype.layout.call(this);var e=this.collectionView,n=this.get_width(),t=this.get_height();e.set_width(n),e.set_height(t)},checkLockedIfNeeded:function(e){this.autoCheckLocked&&this.checkLocked()},didEmitLockItem:function(e){this.checkLocked()},didEmitUnlockItem:function(e){this.checkLocked()},checkLocked:function(){var e=this.get_items();if(null!=e)for(var n=this.collectionView.frames,t=0,i=n.length;t<i;){var l,s=t++,r=n[s].view,h=e[s];null!=h&&null!=r&&0<=r._lifecycleState&&r instanceof ul&&(r=r,l=!1,"string"!=typeof h&&1==L.getProperty(h,"locked")&&(l=!0),r.set_locked(l),l)&&s==this.get_selectedIndex()&&this.set_selectedIndex(-1)}},unbindEvents:function(){g0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offItemsChange(),this.offSelectedIndexChange(),this.offTrashableChange(),this.offLockableChange(),this.offDuplicableChange(),this.offSortableChange(),this.offSmallItemsChange(),this.offScrollEnabledChange(),this.offMoveItemAboveItem(),this.offMoveItemBelowItem(),this.offTrashItem(),this.offLockItem(),this.offUnlockItem(),this.offDuplicateItem()},__class__:Ad,__properties__:$extend(g0.prototype.__properties__,{set_scrollEnabled:"set_scrollEnabled",get_scrollEnabled:"get_scrollEnabled",set_smallItems:"set_smallItems",get_smallItems:"get_smallItems",set_sortable:"set_sortable",get_sortable:"get_sortable",set_duplicable:"set_duplicable",get_duplicable:"get_duplicable",set_lockable:"set_lockable",get_lockable:"get_lockable",set_trashable:"set_trashable",get_trashable:"get_trashable",set_selectedIndex:"set_selectedIndex",get_selectedIndex:"get_selectedIndex",set_items:"set_items",get_items:"get_items",set_theme:"set_theme",get_theme:"get_theme",set_dataSource:"set_dataSource"})}),function(e){this.listView=e}),wl=((E["elements.ListViewDataSource"]=ml).__name__="elements.ListViewDataSource",ml.__interfaces__=[j0],ml.prototype={listView:null,collectionViewSize:function(e){return null!=this.listView.get_items()?this.listView.get_items().length:0},collectionViewItemFrameAtIndex:function(e,n,t){t.width=e.get_width()-(this.listView.get_scrollEnabled()?12:0),t.height=this.listView.get_smallItems()?Ad.CELL_HEIGHT_SMALL:Ad.CELL_HEIGHT_LARGE},collectionViewReleaseItemAtIndex:function(e,n,t){return!0},collectionViewItemAtIndex:function(e,n,t){var i=null;return null!=t?(i=t).set_itemIndex(n):((i=new ul).set_itemIndex(n),i.set_collectionView(e),this.bindCellView(i)),i},bindCellView:function(t){var i=this,n=(t.autorun(function(){var e=i.listView.get_items(),e=null!=e?e[t.get_itemIndex()]:null;null!=e&&("string"==typeof e?(t.set_title(e),t.set_subTitle(null),t.set_locked(!1)):(t.set_title(L.getProperty(e,"title")),t.set_subTitle(i.listView.get_smallItems()?null:L.getProperty(e,"subTitle")),t.set_locked(1==L.getProperty(e,"locked"))),t.set_selected(t.get_itemIndex()==i.listView.get_selectedIndex()))}),t.autorun(function(){var e=i.listView.get_theme();w.unobserve(),t.set_theme(e)}),new c0);t.component("click",n),n.onClick(t,function(){t.get_locked()||(i.listView.get_selectedIndex()!=t.get_itemIndex()?i.listView.set_selectedIndex(t.get_itemIndex()):i.listView.set_selectedIndex(-1))}),t.autorun(function(){var e=i.listView.get_sortable();w.unobserve(),e?t.bindDragDrop(n,function(e){var n;e!=t.get_itemIndex()&&null!=(null!=(n=i.listView.get_items())?n[t.get_itemIndex()]:null)&&null!=(null!=n?n[e]:null)&&(e>t.get_itemIndex()?i.listView.emitMoveItemAboveItem(t.get_itemIndex(),e):i.listView.emitMoveItemBelowItem(t.get_itemIndex(),e))}):t.unbindDragDrop(),w.reobserve()}),t.autorun(function(){var e=i.listView.get_trashable();w.unobserve(),e?t.set_handleTrash(function(){var e=i.listView.get_items();null!=(null!=e?e[t.get_itemIndex()]:null)&&i.listView.emitTrashItem(t.get_itemIndex())}):t.set_handleTrash(null),w.reobserve()}),t.autorun(function(){var e=i.listView.get_lockable();w.unobserve(),e?t.set_handleLock(function(){var e,n=i.listView.get_items(),n=null!=n?n[t.get_itemIndex()]:null;null!=n&&"string"!=typeof n&&(e=1!=n.locked,(n.locked=e)?i.listView.emitLockItem(t.get_itemIndex()):i.listView.emitUnlockItem(t.get_itemIndex()))}):t.set_handleLock(null),w.reobserve()}),t.autorun(function(){var e=i.listView.get_duplicable();w.unobserve(),e?t.set_handleDuplicate(function(){var e=i.listView.get_items();null!=(null!=e?e[t.get_itemIndex()]:null)&&i.listView.emitDuplicateItem(t.get_itemIndex())}):t.set_handleDuplicate(null),w.reobserve()}),t.onDraggingChange(this.listView,$bind(this,this.handleCellDraggingChange)),t.onDestroy(this.listView,$bind(this,this.handleCellDestroy))},handleCellDraggingChange:function(e,n){this.updateItemsBehaviorFromDragging()},handleCellDestroy:function(e){this.updateItemsBehaviorFromDragging()},updateItemsBehaviorFromDragging:function(){for(var e=this.listView.collectionView.frames,n=!1,t=0,i=e.length;t<i;){var l=e[t++].view;if(null!=l&&0<=l._lifecycleState&&l instanceof ul)if(l.get_dragging()){n=!0;break}}this.listView.collectionView.set_itemsBehavior(n?3:1)},__class__:ml},(E["tracker.Serializable"]=Cd).__name__="tracker.Serializable",Cd.__isInterface__=!0,Cd.prototype={_serializeId:null,willSerialize:null,didDeserialize:null,__class__:Cd},(E["tracker.Model"]=Dd).__name__="tracker.Model",Dd.__interfaces__=[Cd,u],Dd.__super__=j,Dd.prototype=$extend(j.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,__cbOnModelDirty:null,__cbOnceModelDirty:null,__cbOnOwnerUnbindModelDirty:null,__cbOnceOwnerUnbindModelDirty:null,emitModelDirty:function(e){var n=0;if(null!=this.__cbOnModelDirty&&(n+=this.__cbOnModelDirty.length),null!=this.__cbOnceModelDirty&&(n+=this.__cbOnceModelDirty.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnModelDirty)for(var s=0,r=this.__cbOnModelDirty.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnModelDirty[h],++l):--n}if(null!=this.__cbOnceModelDirty){for(var a=null,o=null,s=0,r=this.__cbOnceModelDirty.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceModelDirty[h],this.__cbOnceModelDirty[h]=null,c=this.__cbOnceOwnerUnbindModelDirty[h],(this.__cbOnceOwnerUnbindModelDirty[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindModelDirty[h]),o.push(this.__cbOnceModelDirty[h]))}this.__cbOnceOwnerUnbindModelDirty=a,this.__cbOnceModelDirty=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onModelDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event modelDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offModelDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindModelDirty&&(this.__cbOnOwnerUnbindModelDirty=[]),this.__cbOnOwnerUnbindModelDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindModelDirty&&(this.__cbOnOwnerUnbindModelDirty=[]),this.__cbOnOwnerUnbindModelDirty.push(null);null==this.__cbOnModelDirty&&(this.__cbOnModelDirty=[]),this.__cbOnModelDirty.push(t)},onceModelDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event modelDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offModelDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindModelDirty&&(this.__cbOnceOwnerUnbindModelDirty=[]),this.__cbOnceOwnerUnbindModelDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindModelDirty&&(this.__cbOnceOwnerUnbindModelDirty=[]),this.__cbOnceOwnerUnbindModelDirty.push(null);null==this.__cbOnceModelDirty&&(this.__cbOnceModelDirty=[]),this.__cbOnceModelDirty.push(t)},offModelDirty:function(e){if(null!=e){var n;null!=this.__cbOnModelDirty&&-1!=(n=this.__cbOnModelDirty.indexOf(e))&&(this.__cbOnModelDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindModelDirty[n])&&s(),this.__cbOnOwnerUnbindModelDirty.splice(n,1)),null!=this.__cbOnceModelDirty&&-1!=(n=this.__cbOnceModelDirty.indexOf(e))&&(this.__cbOnceModelDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindModelDirty[n])&&s(),this.__cbOnceOwnerUnbindModelDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindModelDirty){for(var t=0,i=this.__cbOnOwnerUnbindModelDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindModelDirty[l])&&s()}this.__cbOnOwnerUnbindModelDirty=null}if(null!=this.__cbOnceOwnerUnbindModelDirty){for(t=0,i=this.__cbOnceOwnerUnbindModelDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindModelDirty[l])&&s()}this.__cbOnceOwnerUnbindModelDirty=null}this.__cbOnModelDirty=null,this.__cbOnceModelDirty=null}},listensModelDirty:function(){return null!=this.__cbOnModelDirty&&0<this.__cbOnModelDirty.length||null!=this.__cbOnceModelDirty&&0<this.__cbOnceModelDirty.length},serializer:null,set_serializer:function(e){return this.serializer==e?this.serializer:(null!=this.serializer&&this.serializer.destroy(),this.serializer=e,null!=this.serializer?(this.component("serializer",this.serializer,!0),this.serializer):(this.removeComponent("serializer"),null))},sharer:null,set_sharer:function(e){return this.sharer==e?this.sharer:(null!=this.sharer&&this.sharer.destroy(),this.sharer=e,null!=this.sharer?(this.component("sharer",this.sharer,!0),this.sharer):(this.removeComponent("sharer"),null))},dirty:null,set_dirty:function(e){return e!=this.dirty&&(this.dirty=e)&&this.emitModelDirty(this),e},willSerialize:function(){},didDeserialize:function(){},serializeShouldDestroy:function(){return!0},hxSerialize:function(e){e.serialize(ge.serializeValue(this))},hxUnserialize:function(e){ge.deserializeValue(e.unserialize(),this)},_default_dirty:function(){return!1},_serializeId:null,__cbOnSerialize:null,__cbOnceSerialize:null,__cbOnOwnerUnbindSerialize:null,__cbOnceOwnerUnbindSerialize:null,emitSerialize:function(){var e=0;if(null!=this.__cbOnSerialize&&(e+=this.__cbOnSerialize.length),null!=this.__cbOnceSerialize&&(e+=this.__cbOnceSerialize.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnSerialize)for(var l=0,s=this.__cbOnSerialize.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnSerialize[r],++i):--e}if(null!=this.__cbOnceSerialize){for(var h=null,a=null,l=0,s=this.__cbOnceSerialize.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceSerialize[r],this.__cbOnceSerialize[r]=null,o=this.__cbOnceOwnerUnbindSerialize[r],(this.__cbOnceOwnerUnbindSerialize[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindSerialize[r]),a.push(this.__cbOnceSerialize[r]))}this.__cbOnceOwnerUnbindSerialize=h,this.__cbOnceSerialize=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onSerialize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event serialize because owner is destroyed!");var l=function(e){null!=t&&(i.offSerialize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSerialize&&(this.__cbOnOwnerUnbindSerialize=[]),this.__cbOnOwnerUnbindSerialize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSerialize&&(this.__cbOnOwnerUnbindSerialize=[]),this.__cbOnOwnerUnbindSerialize.push(null);null==this.__cbOnSerialize&&(this.__cbOnSerialize=[]),this.__cbOnSerialize.push(t)},onceSerialize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event serialize because owner is destroyed!");var l=function(e){null!=t&&(i.offSerialize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSerialize&&(this.__cbOnceOwnerUnbindSerialize=[]),this.__cbOnceOwnerUnbindSerialize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSerialize&&(this.__cbOnceOwnerUnbindSerialize=[]),this.__cbOnceOwnerUnbindSerialize.push(null);null==this.__cbOnceSerialize&&(this.__cbOnceSerialize=[]),this.__cbOnceSerialize.push(t)},offSerialize:function(e){if(null!=e){var n;null!=this.__cbOnSerialize&&-1!=(n=this.__cbOnSerialize.indexOf(e))&&(this.__cbOnSerialize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSerialize[n])&&s(),this.__cbOnOwnerUnbindSerialize.splice(n,1)),null!=this.__cbOnceSerialize&&-1!=(n=this.__cbOnceSerialize.indexOf(e))&&(this.__cbOnceSerialize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSerialize[n])&&s(),this.__cbOnceOwnerUnbindSerialize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSerialize){for(var t=0,i=this.__cbOnOwnerUnbindSerialize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSerialize[l])&&s()}this.__cbOnOwnerUnbindSerialize=null}if(null!=this.__cbOnceOwnerUnbindSerialize){for(t=0,i=this.__cbOnceOwnerUnbindSerialize.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSerialize[l])&&s()}this.__cbOnceOwnerUnbindSerialize=null}this.__cbOnSerialize=null,this.__cbOnceSerialize=null}},listensSerialize:function(){return null!=this.__cbOnSerialize&&0<this.__cbOnSerialize.length||null!=this.__cbOnceSerialize&&0<this.__cbOnceSerialize.length},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offSerialize(),this.offDeserialize(),this.offObservedDirty(),this.offModelDirty()},__cbOnDeserialize:null,__cbOnceDeserialize:null,__cbOnOwnerUnbindDeserialize:null,__cbOnceOwnerUnbindDeserialize:null,emitDeserialize:function(){var e=0;if(null!=this.__cbOnDeserialize&&(e+=this.__cbOnDeserialize.length),null!=this.__cbOnceDeserialize&&(e+=this.__cbOnceDeserialize.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnDeserialize)for(var l=0,s=this.__cbOnDeserialize.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnDeserialize[r],++i):--e}if(null!=this.__cbOnceDeserialize){for(var h=null,a=null,l=0,s=this.__cbOnceDeserialize.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceDeserialize[r],this.__cbOnceDeserialize[r]=null,o=this.__cbOnceOwnerUnbindDeserialize[r],(this.__cbOnceOwnerUnbindDeserialize[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindDeserialize[r]),a.push(this.__cbOnceDeserialize[r]))}this.__cbOnceOwnerUnbindDeserialize=h,this.__cbOnceDeserialize=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onDeserialize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event deserialize because owner is destroyed!");var l=function(e){null!=t&&(i.offDeserialize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDeserialize&&(this.__cbOnOwnerUnbindDeserialize=[]),this.__cbOnOwnerUnbindDeserialize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDeserialize&&(this.__cbOnOwnerUnbindDeserialize=[]),this.__cbOnOwnerUnbindDeserialize.push(null);null==this.__cbOnDeserialize&&(this.__cbOnDeserialize=[]),this.__cbOnDeserialize.push(t)},onceDeserialize:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event deserialize because owner is destroyed!");var l=function(e){null!=t&&(i.offDeserialize(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDeserialize&&(this.__cbOnceOwnerUnbindDeserialize=[]),this.__cbOnceOwnerUnbindDeserialize.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDeserialize&&(this.__cbOnceOwnerUnbindDeserialize=[]),this.__cbOnceOwnerUnbindDeserialize.push(null);null==this.__cbOnceDeserialize&&(this.__cbOnceDeserialize=[]),this.__cbOnceDeserialize.push(t)},offDeserialize:function(e){if(null!=e){var n;null!=this.__cbOnDeserialize&&-1!=(n=this.__cbOnDeserialize.indexOf(e))&&(this.__cbOnDeserialize.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDeserialize[n])&&s(),this.__cbOnOwnerUnbindDeserialize.splice(n,1)),null!=this.__cbOnceDeserialize&&-1!=(n=this.__cbOnceDeserialize.indexOf(e))&&(this.__cbOnceDeserialize.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDeserialize[n])&&s(),this.__cbOnceOwnerUnbindDeserialize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDeserialize){for(var t=0,i=this.__cbOnOwnerUnbindDeserialize.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDeserialize[l])&&s()}this.__cbOnOwnerUnbindDeserialize=null}if(null!=this.__cbOnceOwnerUnbindDeserialize){for(t=0,i=this.__cbOnceOwnerUnbindDeserialize.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDeserialize[l])&&s()}this.__cbOnceOwnerUnbindDeserialize=null}this.__cbOnDeserialize=null,this.__cbOnceDeserialize=null}},listensDeserialize:function(){return null!=this.__cbOnDeserialize&&0<this.__cbOnDeserialize.length||null!=this.__cbOnceDeserialize&&0<this.__cbOnceDeserialize.length},__class__:Dd,__properties__:$extend(j.prototype.__properties__,{set_dirty:"set_dirty",set_sharer:"set_sharer",set_serializer:"set_serializer"})}),function(e,n,t,i,l,s,r,h,a,o,c,u){null==o&&(o=-1),null==a&&(a=-1),null==h&&(h=!1),null==i&&(i=!1),this.canceled=!1,this.chosenIndex=-1;var _=this;Dd.call(this),this.key=e,this.title=n,this.message=t,i&&(null==l&&(this._promptValue="",l=function(e,n){return null!=e||n?_._promptValue=e:_._promptValue}),this.promptPointer=l,this.promptPlaceholder=s),this.choices=r,this.async=c,this.callback=u,this.cancelable=h,this.width=a,this.height=o}),yl=((E["elements.PendingDialog"]=wl).__name__="elements.PendingDialog",wl.__super__=Dd,wl.prototype=$extend(Dd.prototype,{chosenIndex:null,canceled:null,promptPointer:null,promptPlaceholder:null,key:null,title:null,message:null,choices:null,cancelable:null,width:null,height:null,async:null,callback:null,_promptValue:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.title=null,this.message=null,this.choices=null,this.callback=null,this._lifecycleState=-1,Dd.prototype.destroy.call(this))},_default_chosenIndex:function(){return-1},_default_canceled:function(){return!1},__class__:wl}),(E["elements.TextUtils"]=Gd).__name__="elements.TextUtils",Gd.toFieldLabel=function(e){for(var n="",t=0,i=e.length;t<i;){var l=t++,s=e.charAt(l);0==l?n+=ot.string(s.toUpperCase()):s.toUpperCase()==s?n=n+" "+(null==s?"null":""+s):n+=null==s?"null":""+s}return n},Gd.compareStrings=function(e,n){return(e=e.toUpperCase())<(n=n.toUpperCase())?-1:n<e?1:0},Gd.compareStringFirstEntries=function(e,n){e=e[0],n=n[0];return(e=e.toUpperCase())<(n=n.toUpperCase())?-1:n<e?1:0},Gd.upperCaseToCamelCase=function(e,n,t){for(var i="",l=e.length,s=0,r=n=null==n?!0:n;s<l;){var h=e.charAt(s);"_"==h?r=!0:r?(r=!1,0<s&&null!=t&&(i+=null==t?"null":""+t),i+=ot.string(h.toUpperCase())):i+=ot.string(h.toLowerCase()),++s}return i},Gd.getPrefix=function(e){for(Gd.RE_PREFIXED.match(e)&&(e=Gd.RE_PREFIXED.matched(1));0<e.length&&"_"==e.charAt(e.length-1);)e=e.substring(0,e.length-1);return e},Gd.uppercasePrefixFromClass=function(e){for(var e=e.split("."),n=e[e.length-1],n=Ai.camelCaseToUpperCase(n);0<n.length&&"_"==n.charAt(n.length-1);)n=n.substring(0,n.length-1);return n},Gd.slugifyUpperCase=function(e){return e=e.replace(Gd.RE_SPACES.r,"_"),e=Xt.encode(e,Gd._slugUpperCase)},Gd.sanitizeToIdentifier=function(e){return e=(e=e.replace(Gd.RE_NUMERIC_PREFIX.r,"")).replace(Gd.RE_SPACES.r,"_"),e=Xt.encode(e,new o1(!1,null,"_"))},function(){}),Ul=((E["elements.SanitizeTextField"]=yl).__name__="elements.SanitizeTextField",yl.setTextValueToInt=function(e,n,t,i){var l=z.trim(n);""!=l&&"-"!=l?null!=(n=ot.parseInt(n))&&!isNaN(n)&&isFinite(n)&&(e.setValue(e,n=i<(n=n<t?t:n)?i:n),e.set_textValue(""+n)):e.set_textValue(l),e.invalidateTextValue()},yl.setEmptyToInt=function(e,n,t){var i=0;return e.set_textValue(""+(i=t<(i=i<n?n:i)?t:i)),i},yl.setTextValueToFloat=function(e,n,t,i,l,s){var r,h,a,o=z.trim(n);""!=o&&"-"!=o?(a=(a=(r="-"==(h=(n=z.replace(n,",",".")).charAt(0))||"+"==h)?n.substring(1):n).replace(yl.RE_NON_DIGIT_OR_DOT.r,"0"),r=n=r?h+a:a,h=null,-1!=(a=n.indexOf("."))&&(r=n.substring(0,a),h="."+z.replace(n.substring(a+1),".","0")),null!=(a=parseFloat(n))&&!isNaN(a)&&isFinite(a)&&(i<(a=a<t?t:a)&&(a=i),1==l?a=Math.round(a):1<l&&(a=Math.round(a*l)/l),e.setValue(e,a),s?e.set_textValue(""+a):e.set_textValue(r+(null!=h?h:"")))):e.set_textValue(o),e.invalidateTextValue()},yl.setEmptyToFloat=function(e,n,t,i){var l=0;return t<(l=l<n?n:l)&&(l=t),1==i?l=Math.round(l):1<i&&(l=Math.round(l*i)/i),e.set_textValue(""+l),l},yl.setTextValueToEmptyFloat=function(e){e.set_textValue("0"),e.invalidateTextValue()},yl.applyFloatOrIntOperationsIfNeeded=function(e,n,t,i,l,s){var r,h,a,o=n.indexOf("+"),c=n.indexOf("-"),u=n.indexOf("*"),_=n.indexOf("/");return 0<o?(r=z.trim(he.substr(n,0,o)),h=z.trim(he.substr(n,o+1,null)),a=parseFloat(r)+parseFloat(h),isNaN(a)?l?yl.setTextValueToInt(e,r,0|t,0|i):yl.setTextValueToFloat(e,r,t,i,s,!0):l?yl.setTextValueToInt(e,""+a,0|t,0|i):yl.setTextValueToFloat(e,""+a,t,i,s,!0),!0):0<c?(r=z.trim(he.substr(n,0,c)),h=z.trim(he.substr(n,c+1,null)),a=parseFloat(r)-parseFloat(h),isNaN(a)?l?yl.setTextValueToInt(e,r,0|t,0|i):yl.setTextValueToFloat(e,r,t,i,s,!0):l?yl.setTextValueToInt(e,""+a,0|t,0|i):yl.setTextValueToFloat(e,""+a,t,i,s,!0),!0):0<u?(r=z.trim(he.substr(n,0,u)),h=z.trim(he.substr(n,u+1,null)),a=parseFloat(r)*parseFloat(h),isNaN(a)?l?yl.setTextValueToInt(e,r,0|t,0|i):yl.setTextValueToFloat(e,r,t,i,s,!0):l?yl.setTextValueToInt(e,""+a,0|t,0|i):yl.setTextValueToFloat(e,""+a,t,i,s,!0),!0):0<_&&(r=z.trim(he.substr(n,0,_)),h=z.trim(he.substr(n,_+1,null)),a=parseFloat(r)/parseFloat(h),isNaN(a)?l?yl.setTextValueToInt(e,r,0|t,0|i):yl.setTextValueToFloat(e,r,t,i,s,!0):l?yl.setTextValueToInt(e,""+a,0|t,0|i):yl.setTextValueToFloat(e,""+a,t,i,s,!0),!0)},function(){this.insetBottom=1,this.insetTop=1,this.insetRight=1,this.insetLeft=1,this.unobservedPressed=!1,this.pressedAutoruns=null,this.unobservedHover=!1,this.hoverAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1;var n=this,e=(q.call(this),this.quad=new r,this.quad),t=this.insetTop;e.set_x(this.insetLeft),e.set_y(t),this.add(this.quad),this.onPointerDown(this,function(e){n.set_pressed(!0)}),this.onPointerUp(this,function(e){n.set_pressed(!1)}),this.onPointerOver(this,function(e){n.set_hover(!0)}),this.onPointerOut(this,function(e){n.set_hover(!1)}),this.autorun($bind(this,this.updateStyle)),this.set_width(12),this.set_height(12)}),Dl=((E["elements.Scrollbar"]=Ul).__name__="elements.Scrollbar",Ul.__interfaces__=[u],Ul.__super__=q,Ul.prototype=$extend(q.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},hoverAutoruns:null,get_hover:function(){var e,n,t=this.unobservedHover;return null!=w.current&&(e=w.current,null!=(n=this.hoverAutoruns)||(n=w.getAutorunArray(),null!=(this.hoverAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hover:function(e){var n=this.unobservedHover;return n!=(this.unobservedHover=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverChange(e,n),null!=(n=this.hoverAutoruns))&&(this.hoverAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateHover:function(){var e=this.unobservedHover,e=(this.emitHoverChange(e,e),this.hoverAutoruns);null!=e&&(this.hoverAutoruns=null,w.invalidateAutorunArray(e))},unobservedHover:null,__cbOnHoverChange:null,__cbOnceHoverChange:null,__cbOnOwnerUnbindHoverChange:null,__cbOnceOwnerUnbindHoverChange:null,emitHoverChange:function(e,n){var t=0;if(null!=this.__cbOnHoverChange&&(t+=this.__cbOnHoverChange.length),null!=this.__cbOnceHoverChange&&(t+=this.__cbOnceHoverChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHoverChange)for(var r=0,h=this.__cbOnHoverChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHoverChange[a],++s):--t}if(null!=this.__cbOnceHoverChange){for(var o=null,c=null,r=0,h=this.__cbOnceHoverChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHoverChange[a],this.__cbOnceHoverChange[a]=null,u=this.__cbOnceOwnerUnbindHoverChange[a],(this.__cbOnceOwnerUnbindHoverChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverChange[a]),c.push(this.__cbOnceHoverChange[a]))}this.__cbOnceOwnerUnbindHoverChange=o,this.__cbOnceHoverChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverChange&&(this.__cbOnOwnerUnbindHoverChange=[]),this.__cbOnOwnerUnbindHoverChange.push(null);null==this.__cbOnHoverChange&&(this.__cbOnHoverChange=[]),this.__cbOnHoverChange.push(t)},onceHoverChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event hoverChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverChange&&(this.__cbOnceOwnerUnbindHoverChange=[]),this.__cbOnceOwnerUnbindHoverChange.push(null);null==this.__cbOnceHoverChange&&(this.__cbOnceHoverChange=[]),this.__cbOnceHoverChange.push(t)},offHoverChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverChange&&-1!=(n=this.__cbOnHoverChange.indexOf(e))&&(this.__cbOnHoverChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHoverChange[n])&&s(),this.__cbOnOwnerUnbindHoverChange.splice(n,1)),null!=this.__cbOnceHoverChange&&-1!=(n=this.__cbOnceHoverChange.indexOf(e))&&(this.__cbOnceHoverChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHoverChange[n])&&s(),this.__cbOnceOwnerUnbindHoverChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHoverChange[l])&&s()}this.__cbOnOwnerUnbindHoverChange=null}if(null!=this.__cbOnceOwnerUnbindHoverChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHoverChange[l])&&s()}this.__cbOnceOwnerUnbindHoverChange=null}this.__cbOnHoverChange=null,this.__cbOnceHoverChange=null}},listensHoverChange:function(){return null!=this.__cbOnHoverChange&&0<this.__cbOnHoverChange.length||null!=this.__cbOnceHoverChange&&0<this.__cbOnceHoverChange.length},pressedAutoruns:null,get_pressed:function(){var e,n,t=this.unobservedPressed;return null!=w.current&&(e=w.current,null!=(n=this.pressedAutoruns)||(n=w.getAutorunArray(),null!=(this.pressedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_pressed:function(e){var n=this.unobservedPressed;return n!=(this.unobservedPressed=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPressedChange(e,n),null!=(n=this.pressedAutoruns))&&(this.pressedAutoruns=null,w.invalidateAutorunArray(n)),e},invalidatePressed:function(){var e=this.unobservedPressed,e=(this.emitPressedChange(e,e),this.pressedAutoruns);null!=e&&(this.pressedAutoruns=null,w.invalidateAutorunArray(e))},unobservedPressed:null,__cbOnPressedChange:null,__cbOncePressedChange:null,__cbOnOwnerUnbindPressedChange:null,__cbOnceOwnerUnbindPressedChange:null,emitPressedChange:function(e,n){var t=0;if(null!=this.__cbOnPressedChange&&(t+=this.__cbOnPressedChange.length),null!=this.__cbOncePressedChange&&(t+=this.__cbOncePressedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPressedChange)for(var r=0,h=this.__cbOnPressedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPressedChange[a],++s):--t}if(null!=this.__cbOncePressedChange){for(var o=null,c=null,r=0,h=this.__cbOncePressedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePressedChange[a],this.__cbOncePressedChange[a]=null,u=this.__cbOnceOwnerUnbindPressedChange[a],(this.__cbOnceOwnerUnbindPressedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPressedChange[a]),c.push(this.__cbOncePressedChange[a]))}this.__cbOnceOwnerUnbindPressedChange=o,this.__cbOncePressedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPressedChange&&(this.__cbOnOwnerUnbindPressedChange=[]),this.__cbOnOwnerUnbindPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPressedChange&&(this.__cbOnOwnerUnbindPressedChange=[]),this.__cbOnOwnerUnbindPressedChange.push(null);null==this.__cbOnPressedChange&&(this.__cbOnPressedChange=[]),this.__cbOnPressedChange.push(t)},oncePressedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event pressedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPressedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPressedChange&&(this.__cbOnceOwnerUnbindPressedChange=[]),this.__cbOnceOwnerUnbindPressedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPressedChange&&(this.__cbOnceOwnerUnbindPressedChange=[]),this.__cbOnceOwnerUnbindPressedChange.push(null);null==this.__cbOncePressedChange&&(this.__cbOncePressedChange=[]),this.__cbOncePressedChange.push(t)},offPressedChange:function(e){if(null!=e){var n;null!=this.__cbOnPressedChange&&-1!=(n=this.__cbOnPressedChange.indexOf(e))&&(this.__cbOnPressedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPressedChange[n])&&s(),this.__cbOnOwnerUnbindPressedChange.splice(n,1)),null!=this.__cbOncePressedChange&&-1!=(n=this.__cbOncePressedChange.indexOf(e))&&(this.__cbOncePressedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPressedChange[n])&&s(),this.__cbOnceOwnerUnbindPressedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPressedChange){for(var t=0,i=this.__cbOnOwnerUnbindPressedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPressedChange[l])&&s()}this.__cbOnOwnerUnbindPressedChange=null}if(null!=this.__cbOnceOwnerUnbindPressedChange){for(t=0,i=this.__cbOnceOwnerUnbindPressedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPressedChange[l])&&s()}this.__cbOnceOwnerUnbindPressedChange=null}this.__cbOnPressedChange=null,this.__cbOncePressedChange=null}},listensPressedChange:function(){return null!=this.__cbOnPressedChange&&0<this.__cbOnPressedChange.length||null!=this.__cbOncePressedChange&&0<this.__cbOncePressedChange.length},insetLeft:null,insetRight:null,insetTop:null,insetBottom:null,quad:null,set_width:function(e){return q.prototype.set_width.call(this,e),this.quad.set_width(e-this.insetLeft-this.insetRight),e},set_height:function(e){return q.prototype.set_height.call(this,e),this.quad.set_height(e-this.insetTop-this.insetBottom),e},inset:function(e,n,t,i){this.insetTop=e,this.insetRight=n,this.insetBottom=t,this.insetLeft=i,this.quad.set_width(this.get_width()-i-n),this.quad.set_height(this.get_height()-e-t)},updateStyle:function(){var e,n,t,i,l,s,r=this.get_theme();null==r&&(r=W.get_context().get_theme()),this.get_pressed()?(e=r.get_lightBackgroundColor(),i=(((n=r.get_darkTextColor())>>16&255)-(e>>16&255))*(t=null==(t=.5)?.5:t)+(e>>16&255)|0,this.quad.color=((0&65535|(255<i?255:i<0?0:i)<<16)&16711935|(255<(l=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0)?255:l<0?0:l)<<8)&16776960|(255<(s=((255&n)-(255&e))*t+(255&e)|0)?255:s<0?0:s)):this.get_hover()?(e=r.get_lightBackgroundColor(),i=(((n=r.get_darkTextColor())>>16&255)-(e>>16&255))*(t=null==(t=.25)?.5:t)+(e>>16&255)|0,this.quad.color=((0&65535|(255<i?255:i<0?0:i)<<16)&16711935|(255<(l=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0)?255:l<0?0:l)<<8)&16776960|(255<(s=((255&n)-(255&e))*t+(255&e)|0)?255:s<0?0:s)):this.quad.color=r.get_lightBackgroundColor()},unbindEvents:function(){q.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offHoverChange(),this.offPressedChange()},__class__:Ul,__properties__:$extend(q.prototype.__properties__,{set_pressed:"set_pressed",get_pressed:"get_pressed",set_hover:"set_hover",get_hover:"get_hover",set_theme:"set_theme",get_theme:"get_theme"})}),function(e,n){null==n&&(n=!1),this.checkChildrenOfView=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,h0.call(this),this.filter=new Kn,this.filter.set_density(Z.app.screenDensity),this.add(this.filter),this.layoutView=e,this.contentView.add(e),this.set_viewWidth(-60002),this.set_viewHeight(-60002),this.flags|=16;e=this.contentView;e.flags|=16,this.scroller.allowPointerOutside=!1,this.scroller.bounceMinDuration=0,this.scroller.bounceDurationFactor=0,this.filter.content.add(this.scroller),n&&(1!=(e=this.contentView).borderTopSize&&(e.borderTopSize=1,e.updateBorder()),e=this.contentView,n=Un.OUTSIDE,e.borderPosition!=n&&(e.borderPosition=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder(),1!=this.borderBottomSize&&(this.borderBottomSize=1,this.updateBorder()),n=Un.INSIDE,this.borderPosition!=n)&&(this.borderPosition=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.scroller.dragEnabled=!1,this.autorun($bind(this,this.updateStyle)),ke.app.onPostUpdate(this,$bind(this,this.handlePostUpdate))}),Tl=((E["elements.ScrollingLayout"]=Dl).__name__="elements.ScrollingLayout",Dl.__interfaces__=[u],Dl.__super__=h0,Dl.prototype=$extend(h0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},layoutView:null,checkChildrenOfView:null,filter:null,layout:function(){(e=this.filter).set_x(0),e.set_y(0);var e=this.filter,n=this.get_width(),t=this.get_height();e.set_width(n),e.set_height(t);(e=this.scroller).set_x(0),e.set_y(0);var i,e=this.scroller,n=this.get_width(),t=this.get_height(),l=(e.set_width(n),e.set_height(t),this.layoutView),e=(this.scroller.direction==Lt.VERTICAL?(l.computeSize(this.get_width(),this.get_height(),4,!0),n=l.computedSize.computedWidth,t=Math.max(l.computedSize.computedHeight,this.get_height()),l.set_width(n),l.set_height(t),l.computedSize.computedHeight- -this.scroller.scrollTransform.ty<this.get_height()&&(e=this.scroller,i=l.computedSize.computedHeight-this.get_height(),e.scrollTransform.ty!=-i)&&(e.scrollTransform.ty=-i,e.scrollTransform.changedDirty=!0)):(l.computeSize(this.get_width(),this.get_height(),1,!0),n=Math.max(l.computedSize.computedWidth,this.get_width()),t=l.computedSize.computedHeight,l.set_width(n),l.set_height(t),l.computedSize.computedWidth- -this.scroller.scrollTransform.tx<this.get_width()&&(e=this.scroller,i=l.computedSize.computedWidth-this.get_width(),e.scrollTransform.tx!=-i)&&(e.scrollTransform.tx=-i,e.scrollTransform.changedDirty=!0)),this.contentView),n=l.get_width(),t=l.get_height();e.set_width(n),e.set_height(t),this.scroller.scrollToBounds()},handlePostUpdate:function(e){if(this.filter.set_density(Z.app.screenDensity),null!=this.checkChildrenOfView)if(this.checkChildrenOfView._lifecycleState<0)this.checkChildrenOfView=null;else{var n=this.checkChildrenOfView.subviews;if(null!=n)for(var t=0,i=n.length;t<i;){var l,s=n[t++];1!=(1&s.flags)&&((l=s.y)+s.get_height()<-this.scroller.scrollTransform.ty||l>this.get_height()+-this.scroller.scrollTransform.ty?s.set_visible(!1):s.set_visible(!0))}}},updateStyle:function(){var e=this.get_theme(),e=(e=null==e?W.get_context().get_theme():e).get_windowBorderAlpha();this.borderAlpha!=e&&(this.borderAlpha=e,null!=this.border)&&this.border.set_alpha(e)},unbindEvents:function(){h0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange()},__class__:Dl,__properties__:$extend(h0.prototype.__properties__,{set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.SelectFieldView"]=Kd).__name__="elements.SelectFieldView",Kd.__super__=R2,Kd.prototype=$extend(R2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},setValue:function(e,n){},valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=w.current&&(e=w.current,null!=(n=this.valueAutoruns)||(n=w.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,w.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnValueChange)for(var r=0,h=this.__cbOnValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnValueChange[a],++s):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindValueChange[n])&&s(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindValueChange[n])&&s(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindValueChange[l])&&s()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindValueChange[l])&&s()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},listAutoruns:null,get_list:function(){var e,n,t=this.unobservedList;return null!=w.current&&(e=w.current,null!=(n=this.listAutoruns)||(n=w.getAutorunArray(),null!=(this.listAutoruns=n)))&&e.bindToAutorunArray(n),t},set_list:function(e){var n=this.unobservedList;return this.unobservedList=e,Tr.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitListChange(e,n),null!=(n=this.listAutoruns)&&(this.listAutoruns=null,w.invalidateAutorunArray(n))),e},invalidateList:function(){var e=this.unobservedList,e=(this.emitListChange(e,e),this.listAutoruns);null!=e&&(this.listAutoruns=null,w.invalidateAutorunArray(e))},unobservedList:null,__cbOnListChange:null,__cbOnceListChange:null,__cbOnOwnerUnbindListChange:null,__cbOnceOwnerUnbindListChange:null,emitListChange:function(e,n){var t=0;if(null!=this.__cbOnListChange&&(t+=this.__cbOnListChange.length),null!=this.__cbOnceListChange&&(t+=this.__cbOnceListChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnListChange)for(var r=0,h=this.__cbOnListChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnListChange[a],++s):--t}if(null!=this.__cbOnceListChange){for(var o=null,c=null,r=0,h=this.__cbOnceListChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceListChange[a],this.__cbOnceListChange[a]=null,u=this.__cbOnceOwnerUnbindListChange[a],(this.__cbOnceOwnerUnbindListChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindListChange[a]),c.push(this.__cbOnceListChange[a]))}this.__cbOnceOwnerUnbindListChange=o,this.__cbOnceListChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onListChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event listChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindListChange&&(this.__cbOnOwnerUnbindListChange=[]),this.__cbOnOwnerUnbindListChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindListChange&&(this.__cbOnOwnerUnbindListChange=[]),this.__cbOnOwnerUnbindListChange.push(null);null==this.__cbOnListChange&&(this.__cbOnListChange=[]),this.__cbOnListChange.push(t)},onceListChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event listChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindListChange&&(this.__cbOnceOwnerUnbindListChange=[]),this.__cbOnceOwnerUnbindListChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindListChange&&(this.__cbOnceOwnerUnbindListChange=[]),this.__cbOnceOwnerUnbindListChange.push(null);null==this.__cbOnceListChange&&(this.__cbOnceListChange=[]),this.__cbOnceListChange.push(t)},offListChange:function(e){if(null!=e){var n;null!=this.__cbOnListChange&&-1!=(n=this.__cbOnListChange.indexOf(e))&&(this.__cbOnListChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindListChange[n])&&s(),this.__cbOnOwnerUnbindListChange.splice(n,1)),null!=this.__cbOnceListChange&&-1!=(n=this.__cbOnceListChange.indexOf(e))&&(this.__cbOnceListChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindListChange[n])&&s(),this.__cbOnceOwnerUnbindListChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindListChange){for(var t=0,i=this.__cbOnOwnerUnbindListChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindListChange[l])&&s()}this.__cbOnOwnerUnbindListChange=null}if(null!=this.__cbOnceOwnerUnbindListChange){for(t=0,i=this.__cbOnceOwnerUnbindListChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindListChange[l])&&s()}this.__cbOnceOwnerUnbindListChange=null}this.__cbOnListChange=null,this.__cbOnceListChange=null}},listensListChange:function(){return null!=this.__cbOnListChange&&0<this.__cbOnListChange.length||null!=this.__cbOnceListChange&&0<this.__cbOnceListChange.length},nullValueTextAutoruns:null,get_nullValueText:function(){var e,n,t=this.unobservedNullValueText;return null!=w.current&&(e=w.current,null!=(n=this.nullValueTextAutoruns)||(n=w.getAutorunArray(),null!=(this.nullValueTextAutoruns=n)))&&e.bindToAutorunArray(n),t},set_nullValueText:function(e){var n=this.unobservedNullValueText;return n!=(this.unobservedNullValueText=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitNullValueTextChange(e,n),null!=(n=this.nullValueTextAutoruns))&&(this.nullValueTextAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateNullValueText:function(){var e=this.unobservedNullValueText,e=(this.emitNullValueTextChange(e,e),this.nullValueTextAutoruns);null!=e&&(this.nullValueTextAutoruns=null,w.invalidateAutorunArray(e))},unobservedNullValueText:null,__cbOnNullValueTextChange:null,__cbOnceNullValueTextChange:null,__cbOnOwnerUnbindNullValueTextChange:null,__cbOnceOwnerUnbindNullValueTextChange:null,emitNullValueTextChange:function(e,n){var t=0;if(null!=this.__cbOnNullValueTextChange&&(t+=this.__cbOnNullValueTextChange.length),null!=this.__cbOnceNullValueTextChange&&(t+=this.__cbOnceNullValueTextChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnNullValueTextChange)for(var r=0,h=this.__cbOnNullValueTextChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnNullValueTextChange[a],++s):--t}if(null!=this.__cbOnceNullValueTextChange){for(var o=null,c=null,r=0,h=this.__cbOnceNullValueTextChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceNullValueTextChange[a],this.__cbOnceNullValueTextChange[a]=null,u=this.__cbOnceOwnerUnbindNullValueTextChange[a],(this.__cbOnceOwnerUnbindNullValueTextChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindNullValueTextChange[a]),c.push(this.__cbOnceNullValueTextChange[a]))}this.__cbOnceOwnerUnbindNullValueTextChange=o,this.__cbOnceNullValueTextChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onNullValueTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event nullValueTextChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNullValueTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindNullValueTextChange&&(this.__cbOnOwnerUnbindNullValueTextChange=[]),this.__cbOnOwnerUnbindNullValueTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindNullValueTextChange&&(this.__cbOnOwnerUnbindNullValueTextChange=[]),this.__cbOnOwnerUnbindNullValueTextChange.push(null);null==this.__cbOnNullValueTextChange&&(this.__cbOnNullValueTextChange=[]),this.__cbOnNullValueTextChange.push(t)},onceNullValueTextChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event nullValueTextChange because owner is destroyed!");var l=function(e){null!=t&&(i.offNullValueTextChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindNullValueTextChange&&(this.__cbOnceOwnerUnbindNullValueTextChange=[]),this.__cbOnceOwnerUnbindNullValueTextChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindNullValueTextChange&&(this.__cbOnceOwnerUnbindNullValueTextChange=[]),this.__cbOnceOwnerUnbindNullValueTextChange.push(null);null==this.__cbOnceNullValueTextChange&&(this.__cbOnceNullValueTextChange=[]),this.__cbOnceNullValueTextChange.push(t)},offNullValueTextChange:function(e){if(null!=e){var n;null!=this.__cbOnNullValueTextChange&&-1!=(n=this.__cbOnNullValueTextChange.indexOf(e))&&(this.__cbOnNullValueTextChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindNullValueTextChange[n])&&s(),this.__cbOnOwnerUnbindNullValueTextChange.splice(n,1)),null!=this.__cbOnceNullValueTextChange&&-1!=(n=this.__cbOnceNullValueTextChange.indexOf(e))&&(this.__cbOnceNullValueTextChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindNullValueTextChange[n])&&s(),this.__cbOnceOwnerUnbindNullValueTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindNullValueTextChange){for(var t=0,i=this.__cbOnOwnerUnbindNullValueTextChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindNullValueTextChange[l])&&s()}this.__cbOnOwnerUnbindNullValueTextChange=null}if(null!=this.__cbOnceOwnerUnbindNullValueTextChange){for(t=0,i=this.__cbOnceOwnerUnbindNullValueTextChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindNullValueTextChange[l])&&s()}this.__cbOnceOwnerUnbindNullValueTextChange=null}this.__cbOnNullValueTextChange=null,this.__cbOnceNullValueTextChange=null}},listensNullValueTextChange:function(){return null!=this.__cbOnNullValueTextChange&&0<this.__cbOnNullValueTextChange.length||null!=this.__cbOnceNullValueTextChange&&0<this.__cbOnceNullValueTextChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=w.current&&(e=w.current,null!=(n=this.inputStyleAutoruns)||(n=w.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,w.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInputStyleChange)for(var r=0,h=this.__cbOnInputStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInputStyleChange[a],++s):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceInputStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},clipList:null,listVisibleAutoruns:null,get_listVisible:function(){var e,n,t=this.unobservedListVisible;return null!=w.current&&(e=w.current,null!=(n=this.listVisibleAutoruns)||(n=w.getAutorunArray(),null!=(this.listVisibleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_listVisible:function(e){var n=this.unobservedListVisible;return n!=(this.unobservedListVisible=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitListVisibleChange(e,n),null!=(n=this.listVisibleAutoruns))&&(this.listVisibleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateListVisible:function(){var e=this.unobservedListVisible,e=(this.emitListVisibleChange(e,e),this.listVisibleAutoruns);null!=e&&(this.listVisibleAutoruns=null,w.invalidateAutorunArray(e))},unobservedListVisible:null,__cbOnListVisibleChange:null,__cbOnceListVisibleChange:null,__cbOnOwnerUnbindListVisibleChange:null,__cbOnceOwnerUnbindListVisibleChange:null,emitListVisibleChange:function(e,n){var t=0;if(null!=this.__cbOnListVisibleChange&&(t+=this.__cbOnListVisibleChange.length),null!=this.__cbOnceListVisibleChange&&(t+=this.__cbOnceListVisibleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnListVisibleChange)for(var r=0,h=this.__cbOnListVisibleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnListVisibleChange[a],++s):--t}if(null!=this.__cbOnceListVisibleChange){for(var o=null,c=null,r=0,h=this.__cbOnceListVisibleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceListVisibleChange[a],this.__cbOnceListVisibleChange[a]=null,u=this.__cbOnceOwnerUnbindListVisibleChange[a],(this.__cbOnceOwnerUnbindListVisibleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindListVisibleChange[a]),c.push(this.__cbOnceListVisibleChange[a]))}this.__cbOnceOwnerUnbindListVisibleChange=o,this.__cbOnceListVisibleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onListVisibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event listVisibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListVisibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindListVisibleChange&&(this.__cbOnOwnerUnbindListVisibleChange=[]),this.__cbOnOwnerUnbindListVisibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindListVisibleChange&&(this.__cbOnOwnerUnbindListVisibleChange=[]),this.__cbOnOwnerUnbindListVisibleChange.push(null);null==this.__cbOnListVisibleChange&&(this.__cbOnListVisibleChange=[]),this.__cbOnListVisibleChange.push(t)},onceListVisibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event listVisibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offListVisibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindListVisibleChange&&(this.__cbOnceOwnerUnbindListVisibleChange=[]),this.__cbOnceOwnerUnbindListVisibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindListVisibleChange&&(this.__cbOnceOwnerUnbindListVisibleChange=[]),this.__cbOnceOwnerUnbindListVisibleChange.push(null);null==this.__cbOnceListVisibleChange&&(this.__cbOnceListVisibleChange=[]),this.__cbOnceListVisibleChange.push(t)},offListVisibleChange:function(e){if(null!=e){var n;null!=this.__cbOnListVisibleChange&&-1!=(n=this.__cbOnListVisibleChange.indexOf(e))&&(this.__cbOnListVisibleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindListVisibleChange[n])&&s(),this.__cbOnOwnerUnbindListVisibleChange.splice(n,1)),null!=this.__cbOnceListVisibleChange&&-1!=(n=this.__cbOnceListVisibleChange.indexOf(e))&&(this.__cbOnceListVisibleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindListVisibleChange[n])&&s(),this.__cbOnceOwnerUnbindListVisibleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindListVisibleChange){for(var t=0,i=this.__cbOnOwnerUnbindListVisibleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindListVisibleChange[l])&&s()}this.__cbOnOwnerUnbindListVisibleChange=null}if(null!=this.__cbOnceOwnerUnbindListVisibleChange){for(t=0,i=this.__cbOnceOwnerUnbindListVisibleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindListVisibleChange[l])&&s()}this.__cbOnceOwnerUnbindListVisibleChange=null}this.__cbOnListVisibleChange=null,this.__cbOnceListVisibleChange=null}},listensListVisibleChange:function(){return null!=this.__cbOnListVisibleChange&&0<this.__cbOnListVisibleChange.length||null!=this.__cbOnceListVisibleChange&&0<this.__cbOnceListVisibleChange.length},container:null,textView:null,listView:null,listContainer:null,tip:null,listIsAbove:null,listVisibleThisFrame:null,focus:function(){R2.prototype.focus.call(this)},didLostFocus:function(){R2.prototype.didLostFocus.call(this)},layout:function(){R2.prototype.layout.call(this)},layoutContainer:function(){null!=this.textView&&this.textView.text.clipText(0,0,this.container.get_width()-this.textView.text.x-this.textView.x-this.container.paddingRight-20,999999999)},layoutListContainer:function(){var e,n,t;null!=this.listView&&(e=this.listView,n=this.container.get_width(),t=this.listHeight(),e.set_width(n),e.set_height(t))},listHeight:function(){return Math.min(Kd.ITEM_HEIGHT*(this.get_list().length+(null!=this.get_nullValueText()?1:0)),Kd.MAX_LIST_HEIGHT)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,R2.prototype.destroy.call(this),null!=this.listContainer&&(this.listContainer.destroy(),this.listContainer=null))},updateFromValue:function(){var e,n=this.get_value(),t=this.get_nullValueText();w.unobserve(),null!=n?(e=z.replace(z.trim(n),"\n"," "),this.textView.set_content(e)):this.textView.set_content(null!=t?t:""),this.setValue(this,n),w.reobserve()},updateStyle:function(){var e,n=this.get_theme();null==n&&(n=W.get_context().get_theme()),this.container.color=n.get_darkBackgroundColor(),this.textView.set_font(n.get_mediumFont()),null==this.get_value()?(this.textView.set_textColor(n.get_mediumTextColor()),this.textView.text.set_skewX(8)):(this.textView.set_textColor(n.get_fieldTextColor()),this.textView.text.set_skewX(0)),n=this.get_focused()&&this.get_inputStyle()!=Cl.MINIMAL?(this.tip.set_color(n.get_lightTextColor()),e=this.container,n.get_focusedFieldBorderColor()):(this.tip.set_color(n.get_lighterBorderColor()),e=this.container,n.get_lightBorderColor()),e.borderColor!=n&&(e.borderColor=n,0<e.borderSize||0<e.borderTopSize||0<e.borderBottomSize||0<e.borderLeftSize||0<e.borderRightSize)&&e.updateBorder()},updateListVisibility:function(){if(null!=this.listView&&this.get_listVisible()&&Ol.get_shared().get_focusedField()!=this){for(var e=ke.app.screen.get_focusedVisual(),n=!1;null!=e;){if(e==this.listView){n=!0;break}e=e.parent}n||this.set_listVisible(!1)}},updateListPosition:function(){if(1!=(1&this.listContainer.flags)){var e=this.getScrollingLayout(),n=(this.container.visualToScreen(0,0,Kd._point),Kd._point.x),t=Kd._point.y;if(W.get_context().view.screenToVisual(n,t,Kd._point),n=Kd._point.x,t=Kd._point.y,W.get_context().view.get_height()-t<=this.listHeight()?(this.listIsAbove=!0,this.container.visualToScreen(0,this.container.get_height()-this.listHeight(),Kd._point),n=Kd._point.x,t=Kd._point.y,W.get_context().view.screenToVisual(n,t,Kd._point),n=Kd._point.x,t=Kd._point.y):this.listIsAbove=!1,this.get_listVisible())if(this.clipList&&null!=e)if(e.screenToVisual(0,0,Kd._point),W.get_context().view.screenToVisual(Kd._point.x,Kd._point.y,Kd._point),t+Kd._point.y<0){var i=this.listContainer;if(i.clip!=e&&(i.clip=e,i.clipDirty=!0,null!=i.children))for(var l=0,s=i.children.length;l<s;){var r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(var h=0,a=u.children.length;h<a;){var o=h++;u.children[o].set_clipDirty(!0)}}}else{var i=this.listContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.listContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}else{i=this.listContainer,c=null;if(i.clip!=c&&(i.clip=c,i.clipDirty=!0,null!=i.children))for(l=0,s=i.children.length;l<s;){var u,r=l++;if((u=i.children[r]).clipDirty=!0,null!=u.children)for(h=0,a=u.children.length;h<a;){o=h++;u.children[o].set_clipDirty(!0)}}}n==this.listContainer.x&&t==this.listContainer.y||(this.listContainer.layoutDirty=!0),(i=this.listContainer).set_x(n),i.set_y(t)}},updateListVisibleThisFrame:function(){this.listVisibleThisFrame=null!=this.listView&&this.listView.computedVisible},toggleListVisible:function(){this.set_listVisible(!this.get_listVisible())},updateListContainer:function(){var t=this,e=this.get_listVisible();this.get_value();w.unobserve(),e?null==this.listView&&(this.listView=new S2,this.listView.autorun(function(){var e=t.get_theme();w.unobserve(),t.listView.set_theme(e)}),this.listView.set_depth(10),this.listView.set_value(this.get_value()),this.listView.set_list(this.get_list()),this.listView.set_nullValueText(this.get_nullValueText()),this.listContainer.add(this.listView),this.listView.onValueChange(this,function(e,n){t.set_value(e),t.set_listVisible(!1),t.focus()}),this.listContainer.set_active(!0),this.updateListPosition(),this.listView.scrollToValue(this.listIsAbove?2:0),ke.app._oncePostFlushImmediate(function(){t._lifecycleState<0||null==t.listView||(t.listView.scrollToValue(t.listIsAbove?2:0),ke.app.onceUpdate(t.listView,function(e){t.listView.scrollToValue(t.listIsAbove?2:0)}))},!0)):null!=this.listView&&(this.listView.destroy(),this.listView=null,this.listContainer.set_active(!1)),w.reobserve()},hitsSelfOrDerived:function(e,n){return!!this._hits(e,n,!1)||!(null==this.listView||!this.listView.computedVisible)&&this.listView._hits(e,n,!1)},usesScanCode:function(e){return!!R2.prototype.usesScanCode.call(this,e)||!(!(this.listVisibleThisFrame||null!=this.listView&&this.listView.computedVisible)||41!=e&&(!this.get_focused()||81!=e)&&!(this.get_focused()&&82==e||this.get_focused()&&40==e||this.get_focused()&&44==e||this.get_focused()&&42==e))},usesKeyCode:function(e){return!!R2.prototype.usesKeyCode.call(this,e)||!(!(this.listVisibleThisFrame||null!=this.listView&&this.listView.computedVisible)||27!=e&&(!this.get_focused()||1073741905!=e)&&!(this.get_focused()&&1073741906==e||this.get_focused()&&13==e||this.get_focused()&&32==e||this.get_focused()&&8==e))},unbindEvents:function(){R2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offValueChange(),this.offListChange(),this.offNullValueTextChange(),this.offInputStyleChange(),this.offListVisibleChange()},__class__:Kd,__properties__:$extend(R2.prototype.__properties__,{set_listVisible:"set_listVisible",get_listVisible:"get_listVisible",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_nullValueText:"set_nullValueText",get_nullValueText:"get_nullValueText",set_list:"set_list",get_list:"get_list",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.Separator"]=Ld).__name__="elements.Separator",Ld.__interfaces__=[u],Ld.__super__=g0,Ld.prototype=$extend(g0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},thickness:null,set_thickness:function(e){return this.thickness!=e&&(this.thickness=e,this.layoutDirty=!0),e},quad:null,layout:function(){var e=this.quad,n=.5*this.get_height(),e=(e.set_x(0),e.set_y(n),this.quad),n=this.get_width(),t=this.thickness;e.set_width(n),e.set_height(t)},updateStyle:function(){var e=this.get_theme();null==e&&(e=W.get_context().get_theme()),this.quad.color=e.get_mediumBorderColor()},unbindEvents:function(){g0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange()},__class__:Ld,__properties__:$extend(g0.prototype.__properties__,{set_thickness:"set_thickness",set_theme:"set_theme",get_theme:"get_theme"})}),(E["elements.SliderFieldView"]=Md).__name__="elements.SliderFieldView",Md.__super__=T2,Md.prototype=$extend(T2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},valueAutoruns:null,get_value:function(){var e,n,t=this.unobservedValue;return null!=w.current&&(e=w.current,null!=(n=this.valueAutoruns)||(n=w.getAutorunArray(),null!=(this.valueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_value:function(e){var n=this.unobservedValue;return n!=(this.unobservedValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitValueChange(e,n),null!=(n=this.valueAutoruns))&&(this.valueAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateValue:function(){var e=this.unobservedValue,e=(this.emitValueChange(e,e),this.valueAutoruns);null!=e&&(this.valueAutoruns=null,w.invalidateAutorunArray(e))},unobservedValue:null,__cbOnValueChange:null,__cbOnceValueChange:null,__cbOnOwnerUnbindValueChange:null,__cbOnceOwnerUnbindValueChange:null,emitValueChange:function(e,n){var t=0;if(null!=this.__cbOnValueChange&&(t+=this.__cbOnValueChange.length),null!=this.__cbOnceValueChange&&(t+=this.__cbOnceValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnValueChange)for(var r=0,h=this.__cbOnValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnValueChange[a],++s):--t}if(null!=this.__cbOnceValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceValueChange[a],this.__cbOnceValueChange[a]=null,u=this.__cbOnceOwnerUnbindValueChange[a],(this.__cbOnceOwnerUnbindValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindValueChange[a]),c.push(this.__cbOnceValueChange[a]))}this.__cbOnceOwnerUnbindValueChange=o,this.__cbOnceValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindValueChange&&(this.__cbOnOwnerUnbindValueChange=[]),this.__cbOnOwnerUnbindValueChange.push(null);null==this.__cbOnValueChange&&(this.__cbOnValueChange=[]),this.__cbOnValueChange.push(t)},onceValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event valueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindValueChange&&(this.__cbOnceOwnerUnbindValueChange=[]),this.__cbOnceOwnerUnbindValueChange.push(null);null==this.__cbOnceValueChange&&(this.__cbOnceValueChange=[]),this.__cbOnceValueChange.push(t)},offValueChange:function(e){if(null!=e){var n;null!=this.__cbOnValueChange&&-1!=(n=this.__cbOnValueChange.indexOf(e))&&(this.__cbOnValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindValueChange[n])&&s(),this.__cbOnOwnerUnbindValueChange.splice(n,1)),null!=this.__cbOnceValueChange&&-1!=(n=this.__cbOnceValueChange.indexOf(e))&&(this.__cbOnceValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindValueChange[n])&&s(),this.__cbOnceOwnerUnbindValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindValueChange){for(var t=0,i=this.__cbOnOwnerUnbindValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindValueChange[l])&&s()}this.__cbOnOwnerUnbindValueChange=null}if(null!=this.__cbOnceOwnerUnbindValueChange){for(t=0,i=this.__cbOnceOwnerUnbindValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindValueChange[l])&&s()}this.__cbOnceOwnerUnbindValueChange=null}this.__cbOnValueChange=null,this.__cbOnceValueChange=null}},listensValueChange:function(){return null!=this.__cbOnValueChange&&0<this.__cbOnValueChange.length||null!=this.__cbOnceValueChange&&0<this.__cbOnceValueChange.length},minValueAutoruns:null,get_minValue:function(){var e,n,t=this.unobservedMinValue;return null!=w.current&&(e=w.current,null!=(n=this.minValueAutoruns)||(n=w.getAutorunArray(),null!=(this.minValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_minValue:function(e){var n=this.unobservedMinValue;return n!=(this.unobservedMinValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMinValueChange(e,n),null!=(n=this.minValueAutoruns))&&(this.minValueAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateMinValue:function(){var e=this.unobservedMinValue,e=(this.emitMinValueChange(e,e),this.minValueAutoruns);null!=e&&(this.minValueAutoruns=null,w.invalidateAutorunArray(e))},unobservedMinValue:null,__cbOnMinValueChange:null,__cbOnceMinValueChange:null,__cbOnOwnerUnbindMinValueChange:null,__cbOnceOwnerUnbindMinValueChange:null,emitMinValueChange:function(e,n){var t=0;if(null!=this.__cbOnMinValueChange&&(t+=this.__cbOnMinValueChange.length),null!=this.__cbOnceMinValueChange&&(t+=this.__cbOnceMinValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMinValueChange)for(var r=0,h=this.__cbOnMinValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMinValueChange[a],++s):--t}if(null!=this.__cbOnceMinValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceMinValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMinValueChange[a],this.__cbOnceMinValueChange[a]=null,u=this.__cbOnceOwnerUnbindMinValueChange[a],(this.__cbOnceOwnerUnbindMinValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMinValueChange[a]),c.push(this.__cbOnceMinValueChange[a]))}this.__cbOnceOwnerUnbindMinValueChange=o,this.__cbOnceMinValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMinValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event minValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMinValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMinValueChange&&(this.__cbOnOwnerUnbindMinValueChange=[]),this.__cbOnOwnerUnbindMinValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMinValueChange&&(this.__cbOnOwnerUnbindMinValueChange=[]),this.__cbOnOwnerUnbindMinValueChange.push(null);null==this.__cbOnMinValueChange&&(this.__cbOnMinValueChange=[]),this.__cbOnMinValueChange.push(t)},onceMinValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event minValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMinValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMinValueChange&&(this.__cbOnceOwnerUnbindMinValueChange=[]),this.__cbOnceOwnerUnbindMinValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMinValueChange&&(this.__cbOnceOwnerUnbindMinValueChange=[]),this.__cbOnceOwnerUnbindMinValueChange.push(null);null==this.__cbOnceMinValueChange&&(this.__cbOnceMinValueChange=[]),this.__cbOnceMinValueChange.push(t)},offMinValueChange:function(e){if(null!=e){var n;null!=this.__cbOnMinValueChange&&-1!=(n=this.__cbOnMinValueChange.indexOf(e))&&(this.__cbOnMinValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMinValueChange[n])&&s(),this.__cbOnOwnerUnbindMinValueChange.splice(n,1)),null!=this.__cbOnceMinValueChange&&-1!=(n=this.__cbOnceMinValueChange.indexOf(e))&&(this.__cbOnceMinValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMinValueChange[n])&&s(),this.__cbOnceOwnerUnbindMinValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMinValueChange){for(var t=0,i=this.__cbOnOwnerUnbindMinValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMinValueChange[l])&&s()}this.__cbOnOwnerUnbindMinValueChange=null}if(null!=this.__cbOnceOwnerUnbindMinValueChange){for(t=0,i=this.__cbOnceOwnerUnbindMinValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMinValueChange[l])&&s()}this.__cbOnceOwnerUnbindMinValueChange=null}this.__cbOnMinValueChange=null,this.__cbOnceMinValueChange=null}},listensMinValueChange:function(){return null!=this.__cbOnMinValueChange&&0<this.__cbOnMinValueChange.length||null!=this.__cbOnceMinValueChange&&0<this.__cbOnceMinValueChange.length},maxValueAutoruns:null,get_maxValue:function(){var e,n,t=this.unobservedMaxValue;return null!=w.current&&(e=w.current,null!=(n=this.maxValueAutoruns)||(n=w.getAutorunArray(),null!=(this.maxValueAutoruns=n)))&&e.bindToAutorunArray(n),t},set_maxValue:function(e){var n=this.unobservedMaxValue;return n!=(this.unobservedMaxValue=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMaxValueChange(e,n),null!=(n=this.maxValueAutoruns))&&(this.maxValueAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateMaxValue:function(){var e=this.unobservedMaxValue,e=(this.emitMaxValueChange(e,e),this.maxValueAutoruns);null!=e&&(this.maxValueAutoruns=null,w.invalidateAutorunArray(e))},unobservedMaxValue:null,__cbOnMaxValueChange:null,__cbOnceMaxValueChange:null,__cbOnOwnerUnbindMaxValueChange:null,__cbOnceOwnerUnbindMaxValueChange:null,emitMaxValueChange:function(e,n){var t=0;if(null!=this.__cbOnMaxValueChange&&(t+=this.__cbOnMaxValueChange.length),null!=this.__cbOnceMaxValueChange&&(t+=this.__cbOnceMaxValueChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMaxValueChange)for(var r=0,h=this.__cbOnMaxValueChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMaxValueChange[a],++s):--t}if(null!=this.__cbOnceMaxValueChange){for(var o=null,c=null,r=0,h=this.__cbOnceMaxValueChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMaxValueChange[a],this.__cbOnceMaxValueChange[a]=null,u=this.__cbOnceOwnerUnbindMaxValueChange[a],(this.__cbOnceOwnerUnbindMaxValueChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMaxValueChange[a]),c.push(this.__cbOnceMaxValueChange[a]))}this.__cbOnceOwnerUnbindMaxValueChange=o,this.__cbOnceMaxValueChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMaxValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event maxValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMaxValueChange&&(this.__cbOnOwnerUnbindMaxValueChange=[]),this.__cbOnOwnerUnbindMaxValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMaxValueChange&&(this.__cbOnOwnerUnbindMaxValueChange=[]),this.__cbOnOwnerUnbindMaxValueChange.push(null);null==this.__cbOnMaxValueChange&&(this.__cbOnMaxValueChange=[]),this.__cbOnMaxValueChange.push(t)},onceMaxValueChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event maxValueChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMaxValueChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMaxValueChange&&(this.__cbOnceOwnerUnbindMaxValueChange=[]),this.__cbOnceOwnerUnbindMaxValueChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMaxValueChange&&(this.__cbOnceOwnerUnbindMaxValueChange=[]),this.__cbOnceOwnerUnbindMaxValueChange.push(null);null==this.__cbOnceMaxValueChange&&(this.__cbOnceMaxValueChange=[]),this.__cbOnceMaxValueChange.push(t)},offMaxValueChange:function(e){if(null!=e){var n;null!=this.__cbOnMaxValueChange&&-1!=(n=this.__cbOnMaxValueChange.indexOf(e))&&(this.__cbOnMaxValueChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMaxValueChange[n])&&s(),this.__cbOnOwnerUnbindMaxValueChange.splice(n,1)),null!=this.__cbOnceMaxValueChange&&-1!=(n=this.__cbOnceMaxValueChange.indexOf(e))&&(this.__cbOnceMaxValueChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMaxValueChange[n])&&s(),this.__cbOnceOwnerUnbindMaxValueChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMaxValueChange){for(var t=0,i=this.__cbOnOwnerUnbindMaxValueChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMaxValueChange[l])&&s()}this.__cbOnOwnerUnbindMaxValueChange=null}if(null!=this.__cbOnceOwnerUnbindMaxValueChange){for(t=0,i=this.__cbOnceOwnerUnbindMaxValueChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMaxValueChange[l])&&s()}this.__cbOnceOwnerUnbindMaxValueChange=null}this.__cbOnMaxValueChange=null,this.__cbOnceMaxValueChange=null}},listensMaxValueChange:function(){return null!=this.__cbOnMaxValueChange&&0<this.__cbOnMaxValueChange.length||null!=this.__cbOnceMaxValueChange&&0<this.__cbOnceMaxValueChange.length},enabledTextInputAutoruns:null,get_enabledTextInput:function(){var e,n,t=this.unobservedEnabledTextInput;return null!=w.current&&(e=w.current,null!=(n=this.enabledTextInputAutoruns)||(n=w.getAutorunArray(),null!=(this.enabledTextInputAutoruns=n)))&&e.bindToAutorunArray(n),t},set_enabledTextInput:function(e){var n=this.unobservedEnabledTextInput;return n!=(this.unobservedEnabledTextInput=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitEnabledTextInputChange(e,n),null!=(n=this.enabledTextInputAutoruns))&&(this.enabledTextInputAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateEnabledTextInput:function(){var e=this.unobservedEnabledTextInput,e=(this.emitEnabledTextInputChange(e,e),this.enabledTextInputAutoruns);null!=e&&(this.enabledTextInputAutoruns=null,w.invalidateAutorunArray(e))},unobservedEnabledTextInput:null,__cbOnEnabledTextInputChange:null,__cbOnceEnabledTextInputChange:null,__cbOnOwnerUnbindEnabledTextInputChange:null,__cbOnceOwnerUnbindEnabledTextInputChange:null,emitEnabledTextInputChange:function(e,n){var t=0;if(null!=this.__cbOnEnabledTextInputChange&&(t+=this.__cbOnEnabledTextInputChange.length),null!=this.__cbOnceEnabledTextInputChange&&(t+=this.__cbOnceEnabledTextInputChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnEnabledTextInputChange)for(var r=0,h=this.__cbOnEnabledTextInputChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnEnabledTextInputChange[a],++s):--t}if(null!=this.__cbOnceEnabledTextInputChange){for(var o=null,c=null,r=0,h=this.__cbOnceEnabledTextInputChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceEnabledTextInputChange[a],this.__cbOnceEnabledTextInputChange[a]=null,u=this.__cbOnceOwnerUnbindEnabledTextInputChange[a],(this.__cbOnceOwnerUnbindEnabledTextInputChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindEnabledTextInputChange[a]),c.push(this.__cbOnceEnabledTextInputChange[a]))}this.__cbOnceOwnerUnbindEnabledTextInputChange=o,this.__cbOnceEnabledTextInputChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onEnabledTextInputChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event enabledTextInputChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnabledTextInputChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindEnabledTextInputChange&&(this.__cbOnOwnerUnbindEnabledTextInputChange=[]),this.__cbOnOwnerUnbindEnabledTextInputChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindEnabledTextInputChange&&(this.__cbOnOwnerUnbindEnabledTextInputChange=[]),this.__cbOnOwnerUnbindEnabledTextInputChange.push(null);null==this.__cbOnEnabledTextInputChange&&(this.__cbOnEnabledTextInputChange=[]),this.__cbOnEnabledTextInputChange.push(t)},onceEnabledTextInputChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event enabledTextInputChange because owner is destroyed!");var l=function(e){null!=t&&(i.offEnabledTextInputChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindEnabledTextInputChange&&(this.__cbOnceOwnerUnbindEnabledTextInputChange=[]),this.__cbOnceOwnerUnbindEnabledTextInputChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindEnabledTextInputChange&&(this.__cbOnceOwnerUnbindEnabledTextInputChange=[]),this.__cbOnceOwnerUnbindEnabledTextInputChange.push(null);null==this.__cbOnceEnabledTextInputChange&&(this.__cbOnceEnabledTextInputChange=[]),this.__cbOnceEnabledTextInputChange.push(t)},offEnabledTextInputChange:function(e){if(null!=e){var n;null!=this.__cbOnEnabledTextInputChange&&-1!=(n=this.__cbOnEnabledTextInputChange.indexOf(e))&&(this.__cbOnEnabledTextInputChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindEnabledTextInputChange[n])&&s(),this.__cbOnOwnerUnbindEnabledTextInputChange.splice(n,1)),null!=this.__cbOnceEnabledTextInputChange&&-1!=(n=this.__cbOnceEnabledTextInputChange.indexOf(e))&&(this.__cbOnceEnabledTextInputChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindEnabledTextInputChange[n])&&s(),this.__cbOnceOwnerUnbindEnabledTextInputChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnabledTextInputChange){for(var t=0,i=this.__cbOnOwnerUnbindEnabledTextInputChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindEnabledTextInputChange[l])&&s()}this.__cbOnOwnerUnbindEnabledTextInputChange=null}if(null!=this.__cbOnceOwnerUnbindEnabledTextInputChange){for(t=0,i=this.__cbOnceOwnerUnbindEnabledTextInputChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindEnabledTextInputChange[l])&&s()}this.__cbOnceOwnerUnbindEnabledTextInputChange=null}this.__cbOnEnabledTextInputChange=null,this.__cbOnceEnabledTextInputChange=null}},listensEnabledTextInputChange:function(){return null!=this.__cbOnEnabledTextInputChange&&0<this.__cbOnEnabledTextInputChange.length||null!=this.__cbOnceEnabledTextInputChange&&0<this.__cbOnceEnabledTextInputChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=w.current&&(e=w.current,null!=(n=this.inputStyleAutoruns)||(n=w.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,w.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInputStyleChange)for(var r=0,h=this.__cbOnInputStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInputStyleChange[a],++s):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceInputStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=w.current&&(e=w.current,null!=(n=this.disabledAutoruns)||(n=w.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return this.set_unobservedDisabled(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,w.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledChange)for(var r=0,h=this.__cbOnDisabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledChange[a],++s):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledChange[n])&&s(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledChange[l])&&s()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},set_unobservedDisabled:function(e){return this.unobservedDisabled!=e&&(this.unobservedDisabled=e,this.set_touchable(!e),null!=this.editText&&this.editText.set_disabled(e),e)&&this.get_unobservedFocused()&&ke.app.screen.set_focusedVisual(null),e},round:null,sliderContainer:null,sliderSquare:null,focus:function(){T2.prototype.focus.call(this),this.get_focused()||this.editText.focus()},didLostFocus:function(){var e;T2.prototype.didLostFocus.call(this),""==this.textView.text.content||"-"==this.textView.text.content?((e=(e=0)<this.get_minValue()?this.get_minValue():e)>this.get_maxValue()&&(e=this.get_maxValue()),e=this.applyRound(e),this.setValue(this,e),this.updateFromValue()):z.endsWith(this.textView.text.content,".")&&this.updateFromValue(),ke.app.screen.offPointerMove($bind(this,this.handleSliderMove)),ke.app.screen.offPointerUp($bind(this,this.handleSliderUp))},clipText:function(e,n){var t=this.textView.text;t.set_clipTextX(0),t.set_clipTextY(0),t.set_clipTextWidth(e-6),t.set_clipTextHeight(this.get_height())},layout:function(){T2.prototype.layout.call(this)},layoutSliderContainer:function(){var e=this.sliderContainer.paddingLeft,n=this.sliderContainer.get_width()-this.sliderSquare.get_width()-this.sliderContainer.paddingRight,t=this.get_value(),i=((t=t<this.get_minValue()?this.get_minValue():t)>this.get_maxValue()&&(t=this.get_maxValue()),this.sliderSquare),n=e+(n-e)*(t-this.get_minValue())/(this.get_maxValue()-this.get_minValue()),e=this.sliderContainer.paddingTop;i.set_x(n),i.set_y(e)},handleStopEditText:function(){!this.get_focused()||null==ke.app.screen.get_focusedVisual()||ke.app.screen.get_focusedVisual().hasIndirectParent(this)&&!ke.app.screen.get_focusedVisual().hasIndirectParent(this.textView)||ke.app.screen.set_focusedVisual(null)},updateFromValue:function(){var e=this.get_value(),e=(w.unobserve(),""+e);null!=this.editText&&this.editText.updateText(e),this.get_textValue()!=e&&this.set_textValue(e),this.textView.set_content(e),this.sliderContainer.layoutDirty=!0,w.reobserve()},updateStyle:function(){var e,n,t=this.get_theme();null==t&&(t=W.get_context().get_theme()),null!=this.editText&&(this.editText.set_selectionColor(t.get_focusedFieldSelectionColor()),this.editText.set_textCursorColor(t.get_lightTextColor())),this.get_inputStyle()==Cl.MINIMAL?(this.flags|=16,0!=this.borderSize&&(this.borderSize=0,this.updateBorder())):(this.flags&=-17,this.color=t.get_darkBackgroundColor(),1!=this.borderSize&&(this.borderSize=1,this.updateBorder())),this.textView.set_textColor(t.get_fieldTextColor()),this.textView.set_font(t.get_mediumFont()),this.get_inputStyle()==Cl.MINIMAL?(this.sliderSquare.color=t.get_darkTextColor(),this.sliderContainer.color=t.get_mediumBackgroundColor(),1!=(n=this.sliderContainer).borderSize&&(n.borderSize=1,n.updateBorder()),n=this.sliderContainer,e=Un.INSIDE,n.borderPosition!=e&&(n.borderPosition=e,0<n.borderSize||0<n.borderTopSize||0<n.borderBottomSize||0<n.borderLeftSize||0<n.borderRightSize)&&n.updateBorder(),0!=(n=this.sliderContainer).borderDepth&&(n.borderDepth=0,null!=n.border)&&n.border.set_depth(0),n=this.sliderContainer,e=t.get_darkBorderColor(),n.borderColor!=e&&(n.borderColor=e,0<n.borderSize||0<n.borderTopSize||0<n.borderBottomSize||0<n.borderLeftSize||0<n.borderRightSize)&&n.updateBorder()):this.get_disabled()?(this.sliderSquare.color=t.get_darkerTextColor(),this.sliderContainer.color=t.get_darkBackgroundColor(),e=t.get_mediumBorderColor(),this.borderColor!=e&&(this.borderColor=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),0!=(n=this.sliderContainer).borderSize&&(n.borderSize=0,n.updateBorder()),this.textView.set_textAlpha(.5)):(e=this.get_focused()?(this.sliderSquare.color=t.get_mediumTextColor(),this.sliderContainer.color=t.get_lightBackgroundColor(),t.get_focusedFieldBorderColor()):(this.sliderSquare.color=t.get_darkTextColor(),this.sliderContainer.color=t.get_mediumBackgroundColor(),t.get_lightBorderColor()),this.borderColor!=e&&(this.borderColor=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),0!=(n=this.sliderContainer).borderSize&&(n.borderSize=0,n.updateBorder()),this.textView.set_textAlpha(1))},applyRound:function(e){return 1==this.round?e=Math.round(e):1<this.round&&(e=Math.round(e*this.round)/this.round),e},handleSliderDown:function(e){this.sliderContainer.screenToVisual(e.x,e.y,Md._point),this.setValueFromSliderX(Md._point.x),ke.app.screen.onPointerMove(this,$bind(this,this.handleSliderMove)),ke.app.screen.oncePointerUp(this,$bind(this,this.handleSliderUp))},handleSliderMove:function(e){this.sliderContainer.screenToVisual(e.x,e.y,Md._point),this.setValueFromSliderX(Md._point.x)},handleSliderUp:function(e){ke.app.screen.offPointerMove($bind(this,this.handleSliderMove)),ke.app.screen.offPointerUp($bind(this,this.handleSliderUp))},setValueFromSliderX:function(e){var n=this.sliderContainer.paddingLeft+.5*this.sliderSquare.get_width(),t=this.sliderContainer.paddingRight+.5*this.sliderSquare.get_width(),e=this.get_minValue()+(this.get_maxValue()-this.get_minValue())*(e-n)/(this.sliderContainer.get_width()-n-t);(e=e<this.get_minValue()?this.get_minValue():e)>this.get_maxValue()&&(e=this.get_maxValue()),e=this.applyRound(e),this.setValue(this,e),this.updateFromValue()},unbindEvents:function(){T2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offValueChange(),this.offMinValueChange(),this.offMaxValueChange(),this.offEnabledTextInputChange(),this.offInputStyleChange(),this.offDisabledChange()},__class__:Md,__properties__:$extend(T2.prototype.__properties__,{set_unobservedDisabled:"set_unobservedDisabled",set_disabled:"set_disabled",get_disabled:"get_disabled",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_enabledTextInput:"set_enabledTextInput",get_enabledTextInput:"get_enabledTextInput",set_maxValue:"set_maxValue",get_maxValue:"get_maxValue",set_minValue:"set_minValue",get_minValue:"get_minValue",set_value:"set_value",get_value:"get_value",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.initializerName=null,this.findingWithFocused=null,this.rightShiftPressed=!1,this.leftShiftPressed=!1,this.focusRoot=null,j.call(this)}),xl=((E["elements.TabFocus"]=Tl).__name__="elements.TabFocus",Tl.__interfaces__=[b0],Tl.__super__=j,Tl.prototype=$extend(j.prototype,{entity:null,focusRoot:null,leftShiftPressed:null,rightShiftPressed:null,findingWithFocused:null,bindAsComponent:function(){ke.app.input.onKeyDown(this,$bind(this,this.handleKeyDown)),ke.app.input.onKeyUp(this,$bind(this,this.handleKeyUp))},handleKeyDown:function(e){var n;null!=ke.app.screen.get_focusedVisual()&&(ke.app.screen.get_focusedVisual()==this.entity||ke.app.screen.get_focusedVisual().hasIndirectParent(this.entity)||null!=this.focusRoot&&(ke.app.screen.get_focusedVisual()==this.focusRoot||ke.app.screen.get_focusedVisual().hasIndirectParent(this.focusRoot)))&&(43==e.scanCode?this.leftShiftPressed||this.rightShiftPressed?this.focusPrevField():this.focusNextField():41==e.scanCode&&null!=(n=this.findCurrentFocusable())&&(n.escapeTabFocus(),null!=this.focusRoot)&&n!=this.findCurrentFocusable()&&ke.app.screen.set_focusedVisual(this.focusRoot)),225==e.scanCode?this.leftShiftPressed=!0:229==e.scanCode&&(this.rightShiftPressed=!0)},handleKeyUp:function(e){225==e.scanCode?this.leftShiftPressed=!1:229==e.scanCode&&(this.rightShiftPressed=!1)},focusNextField:function(){this.findingWithFocused=ke.app.screen.get_focusedVisual();var e=this.findNextFocusable(this.entity);(null!=e||null!=ke.app.screen.get_focusedVisual()&&(this.findingWithFocused=null)!=(e=this.findNextFocusable(this.entity)))&&e.tabFocus(),this.findingWithFocused=null},focusPrevField:function(){this.findingWithFocused=ke.app.screen.get_focusedVisual();var e=this.findPrevFocusable(this.entity);(null!=e||null!=ke.app.screen.get_focusedVisual()&&(this.findingWithFocused=null)!=(e=this.findPrevFocusable(this.entity)))&&e.tabFocus(),this.findingWithFocused=null},findNextFocusable:function(e){if(null!=e&&null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++,i=e.children[i];if(null!=this.findingWithFocused)if(i==this.findingWithFocused)this.findingWithFocused=null;else{var l=this.findNextFocusable(i);if(null!=l&&l.allowsTabFocus())return l}else{if(ws.__implements(i,Q2))return i;l=this.findNextFocusable(i);if(null!=l&&l.allowsTabFocus())return l}}return null},findPrevFocusable:function(e){if(null!=e&&null!=e.children)for(var n=e.children.length-1;0<=n;){var t=e.children[n];if(null!=this.findingWithFocused)if(t==this.findingWithFocused)this.findingWithFocused=null;else{var i=this.findPrevFocusable(t);if(null!=i&&i.allowsTabFocus())return i}else{if(ws.__implements(t,Q2))return t;i=this.findPrevFocusable(t);if(null!=i&&i.allowsTabFocus())return i}--n}return null},findCurrentFocusable:function(){var e=ke.app.screen.get_focusedVisual();return null!=e?ws.__implements(e=e,Q2)?e:e.firstParentWithClass(Q2):null},setEntity:function(e){this.entity=e instanceof q?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:Tl}),(E["elements.TabsLayout"]=Od).__name__="elements.TabsLayout",Od.__interfaces__=[u],Od.__super__=Xb,Od.prototype=$extend(Xb.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},marginX:null,set_marginX:function(e){return this.marginX!=e&&(this.marginX=e,this.layoutDirty=!0),e},marginY:null,set_marginY:function(e){return this.marginY!=e&&(this.marginY=e,this.layoutDirty=!0),e},windowItem:null,selectedIndexAutoruns:null,get_selectedIndex:function(){var e,n,t=this.unobservedSelectedIndex;return null!=w.current&&(e=w.current,null!=(n=this.selectedIndexAutoruns)||(n=w.getAutorunArray(),null!=(this.selectedIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectedIndex:function(e){var n=this.unobservedSelectedIndex;return n!=(this.unobservedSelectedIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSelectedIndexChange(e,n),null!=(n=this.selectedIndexAutoruns))&&(this.selectedIndexAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateSelectedIndex:function(){var e=this.unobservedSelectedIndex,e=(this.emitSelectedIndexChange(e,e),this.selectedIndexAutoruns);null!=e&&(this.selectedIndexAutoruns=null,w.invalidateAutorunArray(e))},unobservedSelectedIndex:null,__cbOnSelectedIndexChange:null,__cbOnceSelectedIndexChange:null,__cbOnOwnerUnbindSelectedIndexChange:null,__cbOnceOwnerUnbindSelectedIndexChange:null,emitSelectedIndexChange:function(e,n){var t=0;if(null!=this.__cbOnSelectedIndexChange&&(t+=this.__cbOnSelectedIndexChange.length),null!=this.__cbOnceSelectedIndexChange&&(t+=this.__cbOnceSelectedIndexChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelectedIndexChange)for(var r=0,h=this.__cbOnSelectedIndexChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSelectedIndexChange[a],++s):--t}if(null!=this.__cbOnceSelectedIndexChange){for(var o=null,c=null,r=0,h=this.__cbOnceSelectedIndexChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSelectedIndexChange[a],this.__cbOnceSelectedIndexChange[a]=null,u=this.__cbOnceOwnerUnbindSelectedIndexChange[a],(this.__cbOnceOwnerUnbindSelectedIndexChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectedIndexChange[a]),c.push(this.__cbOnceSelectedIndexChange[a]))}this.__cbOnceOwnerUnbindSelectedIndexChange=o,this.__cbOnceSelectedIndexChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSelectedIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selectedIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectedIndexChange&&(this.__cbOnOwnerUnbindSelectedIndexChange=[]),this.__cbOnOwnerUnbindSelectedIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectedIndexChange&&(this.__cbOnOwnerUnbindSelectedIndexChange=[]),this.__cbOnOwnerUnbindSelectedIndexChange.push(null);null==this.__cbOnSelectedIndexChange&&(this.__cbOnSelectedIndexChange=[]),this.__cbOnSelectedIndexChange.push(t)},onceSelectedIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selectedIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectedIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectedIndexChange&&(this.__cbOnceOwnerUnbindSelectedIndexChange=[]),this.__cbOnceOwnerUnbindSelectedIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectedIndexChange&&(this.__cbOnceOwnerUnbindSelectedIndexChange=[]),this.__cbOnceOwnerUnbindSelectedIndexChange.push(null);null==this.__cbOnceSelectedIndexChange&&(this.__cbOnceSelectedIndexChange=[]),this.__cbOnceSelectedIndexChange.push(t)},offSelectedIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectedIndexChange&&-1!=(n=this.__cbOnSelectedIndexChange.indexOf(e))&&(this.__cbOnSelectedIndexChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelectedIndexChange[n])&&s(),this.__cbOnOwnerUnbindSelectedIndexChange.splice(n,1)),null!=this.__cbOnceSelectedIndexChange&&-1!=(n=this.__cbOnceSelectedIndexChange.indexOf(e))&&(this.__cbOnceSelectedIndexChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelectedIndexChange[n])&&s(),this.__cbOnceOwnerUnbindSelectedIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectedIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectedIndexChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelectedIndexChange[l])&&s()}this.__cbOnOwnerUnbindSelectedIndexChange=null}if(null!=this.__cbOnceOwnerUnbindSelectedIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectedIndexChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelectedIndexChange[l])&&s()}this.__cbOnceOwnerUnbindSelectedIndexChange=null}this.__cbOnSelectedIndexChange=null,this.__cbOnceSelectedIndexChange=null}},listensSelectedIndexChange:function(){return null!=this.__cbOnSelectedIndexChange&&0<this.__cbOnSelectedIndexChange.length||null!=this.__cbOnceSelectedIndexChange&&0<this.__cbOnceSelectedIndexChange.length},tabsAutoruns:null,get_tabs:function(){var e,n,t=this.unobservedTabs;return null!=w.current&&(e=w.current,null!=(n=this.tabsAutoruns)||(n=w.getAutorunArray(),null!=(this.tabsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabs:function(e){var n=this.unobservedTabs;return this.unobservedTabs=e,Tr.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTabsChange(e,n),null!=(n=this.tabsAutoruns)&&(this.tabsAutoruns=null,w.invalidateAutorunArray(n))),e},invalidateTabs:function(){var e=this.unobservedTabs,e=(this.emitTabsChange(e,e),this.tabsAutoruns);null!=e&&(this.tabsAutoruns=null,w.invalidateAutorunArray(e))},unobservedTabs:null,__cbOnTabsChange:null,__cbOnceTabsChange:null,__cbOnOwnerUnbindTabsChange:null,__cbOnceOwnerUnbindTabsChange:null,emitTabsChange:function(e,n){var t=0;if(null!=this.__cbOnTabsChange&&(t+=this.__cbOnTabsChange.length),null!=this.__cbOnceTabsChange&&(t+=this.__cbOnceTabsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabsChange)for(var r=0,h=this.__cbOnTabsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabsChange[a],++s):--t}if(null!=this.__cbOnceTabsChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabsChange[a],this.__cbOnceTabsChange[a]=null,u=this.__cbOnceOwnerUnbindTabsChange[a],(this.__cbOnceOwnerUnbindTabsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsChange[a]),c.push(this.__cbOnceTabsChange[a]))}this.__cbOnceOwnerUnbindTabsChange=o,this.__cbOnceTabsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsChange&&(this.__cbOnOwnerUnbindTabsChange=[]),this.__cbOnOwnerUnbindTabsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsChange&&(this.__cbOnOwnerUnbindTabsChange=[]),this.__cbOnOwnerUnbindTabsChange.push(null);null==this.__cbOnTabsChange&&(this.__cbOnTabsChange=[]),this.__cbOnTabsChange.push(t)},onceTabsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsChange&&(this.__cbOnceOwnerUnbindTabsChange=[]),this.__cbOnceOwnerUnbindTabsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsChange&&(this.__cbOnceOwnerUnbindTabsChange=[]),this.__cbOnceOwnerUnbindTabsChange.push(null);null==this.__cbOnceTabsChange&&(this.__cbOnceTabsChange=[]),this.__cbOnceTabsChange.push(t)},offTabsChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsChange&&-1!=(n=this.__cbOnTabsChange.indexOf(e))&&(this.__cbOnTabsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabsChange[n])&&s(),this.__cbOnOwnerUnbindTabsChange.splice(n,1)),null!=this.__cbOnceTabsChange&&-1!=(n=this.__cbOnceTabsChange.indexOf(e))&&(this.__cbOnceTabsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabsChange[n])&&s(),this.__cbOnceOwnerUnbindTabsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabsChange[l])&&s()}this.__cbOnOwnerUnbindTabsChange=null}if(null!=this.__cbOnceOwnerUnbindTabsChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabsChange[l])&&s()}this.__cbOnceOwnerUnbindTabsChange=null}this.__cbOnTabsChange=null,this.__cbOnceTabsChange=null}},listensTabsChange:function(){return null!=this.__cbOnTabsChange&&0<this.__cbOnTabsChange.length||null!=this.__cbOnceTabsChange&&0<this.__cbOnceTabsChange.length},tabStatesAutoruns:null,get_tabStates:function(){var e,n,t=this.unobservedTabStates;return null!=w.current&&(e=w.current,null!=(n=this.tabStatesAutoruns)||(n=w.getAutorunArray(),null!=(this.tabStatesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabStates:function(e){var n=this.unobservedTabStates;return this.unobservedTabStates=e,Tr.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTabStatesChange(e,n),null!=(n=this.tabStatesAutoruns)&&(this.tabStatesAutoruns=null,w.invalidateAutorunArray(n))),e},invalidateTabStates:function(){var e=this.unobservedTabStates,e=(this.emitTabStatesChange(e,e),this.tabStatesAutoruns);null!=e&&(this.tabStatesAutoruns=null,w.invalidateAutorunArray(e))},unobservedTabStates:null,__cbOnTabStatesChange:null,__cbOnceTabStatesChange:null,__cbOnOwnerUnbindTabStatesChange:null,__cbOnceOwnerUnbindTabStatesChange:null,emitTabStatesChange:function(e,n){var t=0;if(null!=this.__cbOnTabStatesChange&&(t+=this.__cbOnTabStatesChange.length),null!=this.__cbOnceTabStatesChange&&(t+=this.__cbOnceTabStatesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabStatesChange)for(var r=0,h=this.__cbOnTabStatesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabStatesChange[a],++s):--t}if(null!=this.__cbOnceTabStatesChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabStatesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabStatesChange[a],this.__cbOnceTabStatesChange[a]=null,u=this.__cbOnceOwnerUnbindTabStatesChange[a],(this.__cbOnceOwnerUnbindTabStatesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabStatesChange[a]),c.push(this.__cbOnceTabStatesChange[a]))}this.__cbOnceOwnerUnbindTabStatesChange=o,this.__cbOnceTabStatesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabStatesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabStatesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabStatesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabStatesChange&&(this.__cbOnOwnerUnbindTabStatesChange=[]),this.__cbOnOwnerUnbindTabStatesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabStatesChange&&(this.__cbOnOwnerUnbindTabStatesChange=[]),this.__cbOnOwnerUnbindTabStatesChange.push(null);null==this.__cbOnTabStatesChange&&(this.__cbOnTabStatesChange=[]),this.__cbOnTabStatesChange.push(t)},onceTabStatesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabStatesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabStatesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabStatesChange&&(this.__cbOnceOwnerUnbindTabStatesChange=[]),this.__cbOnceOwnerUnbindTabStatesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabStatesChange&&(this.__cbOnceOwnerUnbindTabStatesChange=[]),this.__cbOnceOwnerUnbindTabStatesChange.push(null);null==this.__cbOnceTabStatesChange&&(this.__cbOnceTabStatesChange=[]),this.__cbOnceTabStatesChange.push(t)},offTabStatesChange:function(e){if(null!=e){var n;null!=this.__cbOnTabStatesChange&&-1!=(n=this.__cbOnTabStatesChange.indexOf(e))&&(this.__cbOnTabStatesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabStatesChange[n])&&s(),this.__cbOnOwnerUnbindTabStatesChange.splice(n,1)),null!=this.__cbOnceTabStatesChange&&-1!=(n=this.__cbOnceTabStatesChange.indexOf(e))&&(this.__cbOnceTabStatesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabStatesChange[n])&&s(),this.__cbOnceOwnerUnbindTabStatesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabStatesChange){for(var t=0,i=this.__cbOnOwnerUnbindTabStatesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabStatesChange[l])&&s()}this.__cbOnOwnerUnbindTabStatesChange=null}if(null!=this.__cbOnceOwnerUnbindTabStatesChange){for(t=0,i=this.__cbOnceOwnerUnbindTabStatesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabStatesChange[l])&&s()}this.__cbOnceOwnerUnbindTabStatesChange=null}this.__cbOnTabStatesChange=null,this.__cbOnceTabStatesChange=null}},listensTabStatesChange:function(){return null!=this.__cbOnTabStatesChange&&0<this.__cbOnTabStatesChange.length||null!=this.__cbOnceTabStatesChange&&0<this.__cbOnceTabStatesChange.length},tabThemesAutoruns:null,get_tabThemes:function(){var e,n,t=this.unobservedTabThemes;return null!=w.current&&(e=w.current,null!=(n=this.tabThemesAutoruns)||(n=w.getAutorunArray(),null!=(this.tabThemesAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabThemes:function(e){var n=this.unobservedTabThemes;return this.unobservedTabThemes=e,Tr.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTabThemesChange(e,n),null!=(n=this.tabThemesAutoruns)&&(this.tabThemesAutoruns=null,w.invalidateAutorunArray(n))),e},invalidateTabThemes:function(){var e=this.unobservedTabThemes,e=(this.emitTabThemesChange(e,e),this.tabThemesAutoruns);null!=e&&(this.tabThemesAutoruns=null,w.invalidateAutorunArray(e))},unobservedTabThemes:null,__cbOnTabThemesChange:null,__cbOnceTabThemesChange:null,__cbOnOwnerUnbindTabThemesChange:null,__cbOnceOwnerUnbindTabThemesChange:null,emitTabThemesChange:function(e,n){var t=0;if(null!=this.__cbOnTabThemesChange&&(t+=this.__cbOnTabThemesChange.length),null!=this.__cbOnceTabThemesChange&&(t+=this.__cbOnceTabThemesChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabThemesChange)for(var r=0,h=this.__cbOnTabThemesChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabThemesChange[a],++s):--t}if(null!=this.__cbOnceTabThemesChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabThemesChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabThemesChange[a],this.__cbOnceTabThemesChange[a]=null,u=this.__cbOnceOwnerUnbindTabThemesChange[a],(this.__cbOnceOwnerUnbindTabThemesChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabThemesChange[a]),c.push(this.__cbOnceTabThemesChange[a]))}this.__cbOnceOwnerUnbindTabThemesChange=o,this.__cbOnceTabThemesChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabThemesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabThemesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabThemesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabThemesChange&&(this.__cbOnOwnerUnbindTabThemesChange=[]),this.__cbOnOwnerUnbindTabThemesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabThemesChange&&(this.__cbOnOwnerUnbindTabThemesChange=[]),this.__cbOnOwnerUnbindTabThemesChange.push(null);null==this.__cbOnTabThemesChange&&(this.__cbOnTabThemesChange=[]),this.__cbOnTabThemesChange.push(t)},onceTabThemesChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabThemesChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabThemesChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabThemesChange&&(this.__cbOnceOwnerUnbindTabThemesChange=[]),this.__cbOnceOwnerUnbindTabThemesChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabThemesChange&&(this.__cbOnceOwnerUnbindTabThemesChange=[]),this.__cbOnceOwnerUnbindTabThemesChange.push(null);null==this.__cbOnceTabThemesChange&&(this.__cbOnceTabThemesChange=[]),this.__cbOnceTabThemesChange.push(t)},offTabThemesChange:function(e){if(null!=e){var n;null!=this.__cbOnTabThemesChange&&-1!=(n=this.__cbOnTabThemesChange.indexOf(e))&&(this.__cbOnTabThemesChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabThemesChange[n])&&s(),this.__cbOnOwnerUnbindTabThemesChange.splice(n,1)),null!=this.__cbOnceTabThemesChange&&-1!=(n=this.__cbOnceTabThemesChange.indexOf(e))&&(this.__cbOnceTabThemesChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabThemesChange[n])&&s(),this.__cbOnceOwnerUnbindTabThemesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabThemesChange){for(var t=0,i=this.__cbOnOwnerUnbindTabThemesChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabThemesChange[l])&&s()}this.__cbOnOwnerUnbindTabThemesChange=null}if(null!=this.__cbOnceOwnerUnbindTabThemesChange){for(t=0,i=this.__cbOnceOwnerUnbindTabThemesChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabThemesChange[l])&&s()}this.__cbOnceOwnerUnbindTabThemesChange=null}this.__cbOnTabThemesChange=null,this.__cbOnceTabThemesChange=null}},listensTabThemesChange:function(){return null!=this.__cbOnTabThemesChange&&0<this.__cbOnTabThemesChange.length||null!=this.__cbOnceTabThemesChange&&0<this.__cbOnceTabThemesChange.length},tabViewsAutoruns:null,get_tabViews:function(){var e,n,t=this.unobservedTabViews;return null!=w.current&&(e=w.current,null!=(n=this.tabViewsAutoruns)||(n=w.getAutorunArray(),null!=(this.tabViewsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabViews:function(e){var n=this.unobservedTabViews;return this.unobservedTabViews=e,Tr.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTabViewsChange(e,n),null!=(n=this.tabViewsAutoruns)&&(this.tabViewsAutoruns=null,w.invalidateAutorunArray(n))),e},invalidateTabViews:function(){var e=this.unobservedTabViews,e=(this.emitTabViewsChange(e,e),this.tabViewsAutoruns);null!=e&&(this.tabViewsAutoruns=null,w.invalidateAutorunArray(e))},unobservedTabViews:null,__cbOnTabViewsChange:null,__cbOnceTabViewsChange:null,__cbOnOwnerUnbindTabViewsChange:null,__cbOnceOwnerUnbindTabViewsChange:null,emitTabViewsChange:function(e,n){var t=0;if(null!=this.__cbOnTabViewsChange&&(t+=this.__cbOnTabViewsChange.length),null!=this.__cbOnceTabViewsChange&&(t+=this.__cbOnceTabViewsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabViewsChange)for(var r=0,h=this.__cbOnTabViewsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabViewsChange[a],++s):--t}if(null!=this.__cbOnceTabViewsChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabViewsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabViewsChange[a],this.__cbOnceTabViewsChange[a]=null,u=this.__cbOnceOwnerUnbindTabViewsChange[a],(this.__cbOnceOwnerUnbindTabViewsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabViewsChange[a]),c.push(this.__cbOnceTabViewsChange[a]))}this.__cbOnceOwnerUnbindTabViewsChange=o,this.__cbOnceTabViewsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabViewsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabViewsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabViewsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabViewsChange&&(this.__cbOnOwnerUnbindTabViewsChange=[]),this.__cbOnOwnerUnbindTabViewsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabViewsChange&&(this.__cbOnOwnerUnbindTabViewsChange=[]),this.__cbOnOwnerUnbindTabViewsChange.push(null);null==this.__cbOnTabViewsChange&&(this.__cbOnTabViewsChange=[]),this.__cbOnTabViewsChange.push(t)},onceTabViewsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabViewsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabViewsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabViewsChange&&(this.__cbOnceOwnerUnbindTabViewsChange=[]),this.__cbOnceOwnerUnbindTabViewsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabViewsChange&&(this.__cbOnceOwnerUnbindTabViewsChange=[]),this.__cbOnceOwnerUnbindTabViewsChange.push(null);null==this.__cbOnceTabViewsChange&&(this.__cbOnceTabViewsChange=[]),this.__cbOnceTabViewsChange.push(t)},offTabViewsChange:function(e){if(null!=e){var n;null!=this.__cbOnTabViewsChange&&-1!=(n=this.__cbOnTabViewsChange.indexOf(e))&&(this.__cbOnTabViewsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabViewsChange[n])&&s(),this.__cbOnOwnerUnbindTabViewsChange.splice(n,1)),null!=this.__cbOnceTabViewsChange&&-1!=(n=this.__cbOnceTabViewsChange.indexOf(e))&&(this.__cbOnceTabViewsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabViewsChange[n])&&s(),this.__cbOnceOwnerUnbindTabViewsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabViewsChange){for(var t=0,i=this.__cbOnOwnerUnbindTabViewsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabViewsChange[l])&&s()}this.__cbOnOwnerUnbindTabViewsChange=null}if(null!=this.__cbOnceOwnerUnbindTabViewsChange){for(t=0,i=this.__cbOnceOwnerUnbindTabViewsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabViewsChange[l])&&s()}this.__cbOnceOwnerUnbindTabViewsChange=null}this.__cbOnTabViewsChange=null,this.__cbOnceTabViewsChange=null}},listensTabViewsChange:function(){return null!=this.__cbOnTabViewsChange&&0<this.__cbOnTabViewsChange.length||null!=this.__cbOnceTabViewsChange&&0<this.__cbOnceTabViewsChange.length},hoverIndexAutoruns:null,get_hoverIndex:function(){var e,n,t=this.unobservedHoverIndex;return null!=w.current&&(e=w.current,null!=(n=this.hoverIndexAutoruns)||(n=w.getAutorunArray(),null!=(this.hoverIndexAutoruns=n)))&&e.bindToAutorunArray(n),t},set_hoverIndex:function(e){var n=this.unobservedHoverIndex;return n!=(this.unobservedHoverIndex=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHoverIndexChange(e,n),null!=(n=this.hoverIndexAutoruns))&&(this.hoverIndexAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateHoverIndex:function(){var e=this.unobservedHoverIndex,e=(this.emitHoverIndexChange(e,e),this.hoverIndexAutoruns);null!=e&&(this.hoverIndexAutoruns=null,w.invalidateAutorunArray(e))},unobservedHoverIndex:null,__cbOnHoverIndexChange:null,__cbOnceHoverIndexChange:null,__cbOnOwnerUnbindHoverIndexChange:null,__cbOnceOwnerUnbindHoverIndexChange:null,emitHoverIndexChange:function(e,n){var t=0;if(null!=this.__cbOnHoverIndexChange&&(t+=this.__cbOnHoverIndexChange.length),null!=this.__cbOnceHoverIndexChange&&(t+=this.__cbOnceHoverIndexChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHoverIndexChange)for(var r=0,h=this.__cbOnHoverIndexChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHoverIndexChange[a],++s):--t}if(null!=this.__cbOnceHoverIndexChange){for(var o=null,c=null,r=0,h=this.__cbOnceHoverIndexChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHoverIndexChange[a],this.__cbOnceHoverIndexChange[a]=null,u=this.__cbOnceOwnerUnbindHoverIndexChange[a],(this.__cbOnceOwnerUnbindHoverIndexChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHoverIndexChange[a]),c.push(this.__cbOnceHoverIndexChange[a]))}this.__cbOnceOwnerUnbindHoverIndexChange=o,this.__cbOnceHoverIndexChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHoverIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event hoverIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHoverIndexChange&&(this.__cbOnOwnerUnbindHoverIndexChange=[]),this.__cbOnOwnerUnbindHoverIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHoverIndexChange&&(this.__cbOnOwnerUnbindHoverIndexChange=[]),this.__cbOnOwnerUnbindHoverIndexChange.push(null);null==this.__cbOnHoverIndexChange&&(this.__cbOnHoverIndexChange=[]),this.__cbOnHoverIndexChange.push(t)},onceHoverIndexChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event hoverIndexChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHoverIndexChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHoverIndexChange&&(this.__cbOnceOwnerUnbindHoverIndexChange=[]),this.__cbOnceOwnerUnbindHoverIndexChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHoverIndexChange&&(this.__cbOnceOwnerUnbindHoverIndexChange=[]),this.__cbOnceOwnerUnbindHoverIndexChange.push(null);null==this.__cbOnceHoverIndexChange&&(this.__cbOnceHoverIndexChange=[]),this.__cbOnceHoverIndexChange.push(t)},offHoverIndexChange:function(e){if(null!=e){var n;null!=this.__cbOnHoverIndexChange&&-1!=(n=this.__cbOnHoverIndexChange.indexOf(e))&&(this.__cbOnHoverIndexChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHoverIndexChange[n])&&s(),this.__cbOnOwnerUnbindHoverIndexChange.splice(n,1)),null!=this.__cbOnceHoverIndexChange&&-1!=(n=this.__cbOnceHoverIndexChange.indexOf(e))&&(this.__cbOnceHoverIndexChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHoverIndexChange[n])&&s(),this.__cbOnceOwnerUnbindHoverIndexChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHoverIndexChange){for(var t=0,i=this.__cbOnOwnerUnbindHoverIndexChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHoverIndexChange[l])&&s()}this.__cbOnOwnerUnbindHoverIndexChange=null}if(null!=this.__cbOnceOwnerUnbindHoverIndexChange){for(t=0,i=this.__cbOnceOwnerUnbindHoverIndexChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHoverIndexChange[l])&&s()}this.__cbOnceOwnerUnbindHoverIndexChange=null}this.__cbOnHoverIndexChange=null,this.__cbOnceHoverIndexChange=null}},listensHoverIndexChange:function(){return null!=this.__cbOnHoverIndexChange&&0<this.__cbOnHoverIndexChange.length||null!=this.__cbOnceHoverIndexChange&&0<this.__cbOnceHoverIndexChange.length},appliedTabs:null,beforeBorder:null,afterBorder:null,beforeSelectedBackground:null,afterSelectedBackground:null,topBackground:null,bottomBackground:null,updateTabs:function(){for(var e=this.get_tabs(),n=(w.unobserve(),this.get_tabViews()),t=!1,i=0,l=e.length;i<l;){var s=i++,r=e[s],h=n[s];null==h&&((h=new O1).set_content(r),h.set_pointSize(12),h.set_preRenderedSize(20),h.set_align(ai.CENTER),h.set_verticalAlign(wt.CENTER),h.set_viewHeight(-60002),h.padding(0,10),h.set_depth(1),n.push(h),this.add(h),t=!0,this.initTabView(s,h))}for(;n.length>e.length;){t=!0;n.pop().destroy()}t&&this.set_tabViews([].concat(n)),w.reobserve()},renderWindowBackground:function(){return!0},initTabView:function(n,e){var t=this;e.onPointerOver(this,function(e){t.set_hoverIndex(n)}),e.onPointerOut(this,function(e){t.get_hoverIndex()==n&&t.set_hoverIndex(-1)}),e.onPointerDown(this,function(e){t.set_selectedIndex(n)}),e.autorun(function(){e.set_touchable(1!=t.get_tabStates()[n])})},layout:function(){if(Xb.prototype.layout.call(this),0<=this.get_selectedIndex()&&null!=this.get_tabViews()&&0<this.get_tabViews().length){(i=this.get_tabViews()[this.get_selectedIndex()]).set_depth(this.get_tabViews().length);for(var e=this.get_selectedIndex()-1,n=i.depth-1;0<=e;)this.get_tabViews()[e].set_depth(n),--e,--n;e=this.get_selectedIndex()+1;for(n=i.depth-1;e<this.get_tabViews().length;)this.get_tabViews()[e].set_depth(n),++e,--n}else if(null!=this.get_tabViews()&&0<this.get_tabViews().length)for(e=this.get_tabViews().length-1,n=1;0<=e;)this.get_tabViews()[e].set_depth(n),--e,++n;var t,i,l,s,r,h,a;0<=this.get_selectedIndex()&&this.get_tabViews().length>this.get_selectedIndex()?(i=this.get_tabViews()[this.get_selectedIndex()],this.beforeBorder.set_active(!0),r=this.beforeBorder,l=-this.marginX,s=this.get_height()-1,r.set_x(l),r.set_y(s),(r=this.beforeBorder).set_width(this.marginX+i.x),r.set_height(1)):0<this.marginX?(this.beforeBorder.set_active(!0),r=this.beforeBorder,l=-this.marginX,s=this.get_height()-1,r.set_x(l),r.set_y(s),(r=this.beforeBorder).set_width(this.marginX),r.set_height(1)):this.beforeBorder.set_active(!1),0<=this.get_selectedIndex()&&this.get_selectedIndex()<=this.get_tabViews().length-1?(i=this.get_tabViews()[this.get_selectedIndex()],this.afterBorder.set_active(!0),r=this.afterBorder,l=i.x+i.get_width(),s=this.get_height()-1,r.set_x(l),r.set_y(s),(r=this.afterBorder).set_width(this.marginX+this.get_width()-i.x-i.get_width())):(t=null!=(t=0<this.get_tabViews().length?this.get_tabViews()[this.get_tabViews().length-1]:null)?t.x+t.get_width():0,this.afterBorder.set_active(!0),r=this.afterBorder,s=this.get_height()-1,r.set_x(t),r.set_y(s),(r=this.afterBorder).set_width(this.marginX+this.get_width()-t)),r.set_height(1),0<=this.get_selectedIndex()&&null!=this.get_tabViews()&&0<this.get_tabViews().length?(i=this.get_tabViews()[this.get_selectedIndex()],null!=this.beforeSelectedBackground&&((r=this.beforeSelectedBackground).set_x(-this.marginX),r.set_y(0),r=this.beforeSelectedBackground,h=this.marginX+i.x,a=this.get_height(),r.set_width(h),r.set_height(a)),null!=this.afterSelectedBackground&&((r=this.afterSelectedBackground).set_x(i.x+i.get_width()),r.set_y(0),r=this.afterSelectedBackground,h=this.marginX+this.get_width()-i.x-i.get_width(),a=this.get_height(),r.set_width(h),r.set_height(a))):(null!=this.beforeSelectedBackground&&((r=this.beforeSelectedBackground).set_x(-this.marginX),r.set_y(0),r=this.beforeSelectedBackground,h=2*this.marginX+this.get_width(),a=this.get_height(),r.set_width(h),r.set_height(a)),null!=this.afterSelectedBackground&&((r=this.afterSelectedBackground).set_x(0),r.set_y(0),(r=this.afterSelectedBackground).set_width(0),r.set_height(0))),null!=this.topBackground&&(r=this.topBackground,s=-this.marginY,r.set_x(-this.marginX),r.set_y(s),r=this.topBackground,h=2*this.marginX+this.get_width(),a=this.marginY,r.set_width(h),r.set_height(a)),null!=this.bottomBackground&&(r=this.bottomBackground,l=-this.marginX,s=this.get_height(),r.set_x(l),r.set_y(s),r=this.bottomBackground,h=2*this.marginX+this.get_width(),a=this.marginY,r.set_width(h),r.set_height(a))},updateStyle:function(){var e=this.get_theme(),n=e=null==e?W.get_context().get_theme():e,t=this.get_selectedIndex(),i=this.get_hoverIndex(),l=e.get_backgroundInFormLayout();if(null!=this.get_tabViews())for(var s=0,h=this.get_tabViews().length;s<h;){var a=s++,o=this.get_tabViews()[a],c=this.get_tabThemes()[a],u=(null==c&&(c=e),1==this.get_tabStates()[a]),_=(1!=o.borderLeftSize&&(o.borderLeftSize=1,o.updateBorder()),1!=o.borderRightSize&&(o.borderRightSize=1,o.updateBorder()),1!=o.borderTopSize&&(o.borderTopSize=1,o.updateBorder()),0!=o.borderBottomSize&&(o.borderBottomSize=0,o.updateBorder()),Un.INSIDE),_=(o.borderPosition!=_&&(o.borderPosition=_,0<o.borderSize||0<o.borderTopSize||0<o.borderBottomSize||0<o.borderLeftSize||0<o.borderRightSize)&&o.updateBorder(),c.get_tabsBorderColor());o.borderColor!=_&&(o.borderColor=_,0<o.borderSize||0<o.borderTopSize||0<o.borderBottomSize||0<o.borderLeftSize||0<o.borderRightSize)&&o.updateBorder(),a==t?(o.set_textColor(c.get_lightTextColor()),o.set_textAlpha(1),1!=o.borderAlpha&&(o.borderAlpha=1,null!=o.border)&&o.border.set_alpha(1),e.get_backgroundInFormLayout()?(o.flags&=-17,o.set_alpha(c.get_windowBackgroundAlpha()),o.color=c.get_windowBackgroundColor()):(o.flags|=16,o.set_alpha(1)),n=c):u||a!=i?(u?(o.set_textColor(c.get_darkTextColor()),o.set_textAlpha(c.get_disabledTabTextAlpha()),_=c.get_disabledTabBorderAlpha(),o.borderAlpha!=_&&(o.borderAlpha=_,null!=o.border)&&o.border.set_alpha(_)):(o.set_textColor(c.get_darkTextColor()),o.set_textAlpha(1),1!=o.borderAlpha&&(o.borderAlpha=1,null!=o.border)&&o.border.set_alpha(1)),o.flags&=-17,o.set_alpha(c.get_tabsBackgroundAlpha()),o.color=c.get_tabsBackgroundColor()):(o.set_textColor(c.get_mediumTextColor()),o.set_textAlpha(1),1!=o.borderAlpha&&(o.borderAlpha=1,null!=o.border)&&o.border.set_alpha(1),o.flags&=-17,o.set_alpha(c.get_tabsHoverBackgroundAlpha()),o.color=c.get_tabsHoverBackgroundColor())}this.beforeBorder.color=n.get_tabsBorderColor(),this.afterBorder.color=n.get_tabsBorderColor(),l?(w.unobserve(),null==this.beforeSelectedBackground&&(this.beforeSelectedBackground=new r,this.beforeSelectedBackground.set_depth(.5),this.add(this.beforeSelectedBackground)),null==this.afterSelectedBackground&&(this.afterSelectedBackground=new r,this.afterSelectedBackground.set_depth(.5),this.add(this.afterSelectedBackground)),null==this.topBackground&&(this.topBackground=new r,this.topBackground.set_depth(.5),this.add(this.topBackground)),null==this.bottomBackground&&(this.bottomBackground=new r,this.bottomBackground.set_depth(.5),this.add(this.bottomBackground)),w.reobserve(),this.beforeSelectedBackground.set_alpha(e.get_windowBackgroundAlpha()),this.beforeSelectedBackground.color=e.get_windowBackgroundColor(),this.afterSelectedBackground.set_alpha(e.get_windowBackgroundAlpha()),this.afterSelectedBackground.color=e.get_windowBackgroundColor(),this.topBackground.set_alpha(e.get_windowBackgroundAlpha()),this.topBackground.color=e.get_windowBackgroundColor(),this.bottomBackground.set_alpha(n.get_windowBackgroundAlpha()),this.bottomBackground.color=n.get_windowBackgroundColor()):(w.unobserve(),null!=this.beforeSelectedBackground&&(this.beforeSelectedBackground.destroy(),this.beforeSelectedBackground=null),null!=this.afterSelectedBackground&&(this.afterSelectedBackground.destroy(),this.afterSelectedBackground=null),null!=this.topBackground&&(this.topBackground.destroy(),this.topBackground=null),null!=this.bottomBackground&&(this.bottomBackground.destroy(),this.bottomBackground=null),w.reobserve())},unbindEvents:function(){Xb.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offSelectedIndexChange(),this.offTabsChange(),this.offTabStatesChange(),this.offTabThemesChange(),this.offTabViewsChange(),this.offHoverIndexChange()},__class__:Od,__properties__:$extend(Xb.prototype.__properties__,{set_hoverIndex:"set_hoverIndex",get_hoverIndex:"get_hoverIndex",set_tabViews:"set_tabViews",get_tabViews:"get_tabViews",set_tabThemes:"set_tabThemes",get_tabThemes:"get_tabThemes",set_tabStates:"set_tabStates",get_tabStates:"get_tabStates",set_tabs:"set_tabs",get_tabs:"get_tabs",set_selectedIndex:"set_selectedIndex",get_selectedIndex:"get_selectedIndex",set_marginY:"set_marginY",set_marginX:"set_marginX",set_theme:"set_theme",get_theme:"get_theme"})}),function(e){null==e&&(e=Sl.TEXT),this.unobservedDisabled=!1,this.disabledAutoruns=null,this.unobservedTextAlign=ai.LEFT,this.textAlignAutoruns=null,this.unobservedInputStyle=Cl.DEFAULT,this.inputStyleAutoruns=null,this.unobservedPlaceholder="",this.placeholderAutoruns=null,this.multiline=!1,this.unobservedTheme=null,this.themeAutoruns=null;var t=this,e=(T2.call(this),this.kind=null!=e?e:Sl.TEXT,this.padding(6,6,6,6),this.layers=new Cb,this.layers);e.set_viewWidth(-60002),e.set_viewHeight(-60001),this.add(this.layers),this.textView=new O1,this.textView.set_minHeight(15),(e=this.textView).set_viewWidth(-60002),e.set_viewHeight(-60001),this.textView.set_verticalAlign(wt.CENTER),this.textView.onResize(this,$bind(this,this.clipText)),this.autorun(function(){t.textView.set_align(t.get_textAlign())}),this.textView.set_pointSize(12),this.textView.set_preRenderedSize(20),this.textView.set_maxLineDiff(-1),this.layers.add(this.textView),this.placeholderView=new O1,this.placeholderView.set_minHeight(15);(e=this.placeholderView).set_viewWidth(-60002),e.set_viewHeight(-60001),this.placeholderView.set_verticalAlign(wt.CENTER),this.placeholderView.set_skewX(10),this.placeholderView.set_offsetX(1),this.autorun(function(){t.placeholderView.set_align(t.get_textAlign())}),this.placeholderView.set_pointSize(12),this.placeholderView.set_preRenderedSize(20),this.placeholderView.set_maxLineDiff(-1),this.layers.add(this.placeholderView);e=this.get_theme();null==e&&(e=W.get_context().get_theme()),this.editText=new M0(e.get_focusedFieldSelectionColor(),e.get_lightTextColor()),this.editText.set_container(this),this.textView.text.component("editText",this.editText),this.editText.onUpdate(this,$bind(this,this.updateFromEditText)),this.editText.onStop(this,$bind(this,this.handleStopEditText)),this.editText.onSubmit(this,$bind(this,this.handleEditTextSubmit)),this.autorun($bind(this,this.updateStyle)),this.autorun($bind(this,this.updateFromTextValue)),this.autorun($bind(this,this.updatePlaceholder)),null!=this.editText&&this.onDisabledChange(this,function(e,n){t.editText.set_disabled(e)}),this.bindKeyBindings()}),Sl=((E["elements.TextFieldView"]=xl).__name__="elements.TextFieldView",xl.__super__=T2,xl.prototype=$extend(T2.prototype,{themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},didLostFocus:function(){T2.prototype.didLostFocus.call(this),(""==this.get_textValue()||this.kind==Sl.NUMERIC&&"-"==this.get_textValue())&&this.setEmptyValue(this)},multiline:null,set_multiline:function(e){return this.multiline=e,null!=this.editText&&(this.editText.multiline=e),e},placeholderAutoruns:null,get_placeholder:function(){var e,n,t=this.unobservedPlaceholder;return null!=w.current&&(e=w.current,null!=(n=this.placeholderAutoruns)||(n=w.getAutorunArray(),null!=(this.placeholderAutoruns=n)))&&e.bindToAutorunArray(n),t},set_placeholder:function(e){var n=this.unobservedPlaceholder;return n!=(this.unobservedPlaceholder=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPlaceholderChange(e,n),null!=(n=this.placeholderAutoruns))&&(this.placeholderAutoruns=null,w.invalidateAutorunArray(n)),e},invalidatePlaceholder:function(){var e=this.unobservedPlaceholder,e=(this.emitPlaceholderChange(e,e),this.placeholderAutoruns);null!=e&&(this.placeholderAutoruns=null,w.invalidateAutorunArray(e))},unobservedPlaceholder:null,__cbOnPlaceholderChange:null,__cbOncePlaceholderChange:null,__cbOnOwnerUnbindPlaceholderChange:null,__cbOnceOwnerUnbindPlaceholderChange:null,emitPlaceholderChange:function(e,n){var t=0;if(null!=this.__cbOnPlaceholderChange&&(t+=this.__cbOnPlaceholderChange.length),null!=this.__cbOncePlaceholderChange&&(t+=this.__cbOncePlaceholderChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPlaceholderChange)for(var r=0,h=this.__cbOnPlaceholderChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPlaceholderChange[a],++s):--t}if(null!=this.__cbOncePlaceholderChange){for(var o=null,c=null,r=0,h=this.__cbOncePlaceholderChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePlaceholderChange[a],this.__cbOncePlaceholderChange[a]=null,u=this.__cbOnceOwnerUnbindPlaceholderChange[a],(this.__cbOnceOwnerUnbindPlaceholderChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPlaceholderChange[a]),c.push(this.__cbOncePlaceholderChange[a]))}this.__cbOnceOwnerUnbindPlaceholderChange=o,this.__cbOncePlaceholderChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPlaceholderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event placeholderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPlaceholderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPlaceholderChange&&(this.__cbOnOwnerUnbindPlaceholderChange=[]),this.__cbOnOwnerUnbindPlaceholderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPlaceholderChange&&(this.__cbOnOwnerUnbindPlaceholderChange=[]),this.__cbOnOwnerUnbindPlaceholderChange.push(null);null==this.__cbOnPlaceholderChange&&(this.__cbOnPlaceholderChange=[]),this.__cbOnPlaceholderChange.push(t)},oncePlaceholderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event placeholderChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPlaceholderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPlaceholderChange&&(this.__cbOnceOwnerUnbindPlaceholderChange=[]),this.__cbOnceOwnerUnbindPlaceholderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPlaceholderChange&&(this.__cbOnceOwnerUnbindPlaceholderChange=[]),this.__cbOnceOwnerUnbindPlaceholderChange.push(null);null==this.__cbOncePlaceholderChange&&(this.__cbOncePlaceholderChange=[]),this.__cbOncePlaceholderChange.push(t)},offPlaceholderChange:function(e){if(null!=e){var n;null!=this.__cbOnPlaceholderChange&&-1!=(n=this.__cbOnPlaceholderChange.indexOf(e))&&(this.__cbOnPlaceholderChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPlaceholderChange[n])&&s(),this.__cbOnOwnerUnbindPlaceholderChange.splice(n,1)),null!=this.__cbOncePlaceholderChange&&-1!=(n=this.__cbOncePlaceholderChange.indexOf(e))&&(this.__cbOncePlaceholderChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPlaceholderChange[n])&&s(),this.__cbOnceOwnerUnbindPlaceholderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPlaceholderChange){for(var t=0,i=this.__cbOnOwnerUnbindPlaceholderChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPlaceholderChange[l])&&s()}this.__cbOnOwnerUnbindPlaceholderChange=null}if(null!=this.__cbOnceOwnerUnbindPlaceholderChange){for(t=0,i=this.__cbOnceOwnerUnbindPlaceholderChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPlaceholderChange[l])&&s()}this.__cbOnceOwnerUnbindPlaceholderChange=null}this.__cbOnPlaceholderChange=null,this.__cbOncePlaceholderChange=null}},listensPlaceholderChange:function(){return null!=this.__cbOnPlaceholderChange&&0<this.__cbOnPlaceholderChange.length||null!=this.__cbOncePlaceholderChange&&0<this.__cbOncePlaceholderChange.length},inputStyleAutoruns:null,get_inputStyle:function(){var e,n,t=this.unobservedInputStyle;return null!=w.current&&(e=w.current,null!=(n=this.inputStyleAutoruns)||(n=w.getAutorunArray(),null!=(this.inputStyleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_inputStyle:function(e){var n=this.unobservedInputStyle;return n!=(this.unobservedInputStyle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitInputStyleChange(e,n),null!=(n=this.inputStyleAutoruns))&&(this.inputStyleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateInputStyle:function(){var e=this.unobservedInputStyle,e=(this.emitInputStyleChange(e,e),this.inputStyleAutoruns);null!=e&&(this.inputStyleAutoruns=null,w.invalidateAutorunArray(e))},unobservedInputStyle:null,__cbOnInputStyleChange:null,__cbOnceInputStyleChange:null,__cbOnOwnerUnbindInputStyleChange:null,__cbOnceOwnerUnbindInputStyleChange:null,emitInputStyleChange:function(e,n){var t=0;if(null!=this.__cbOnInputStyleChange&&(t+=this.__cbOnInputStyleChange.length),null!=this.__cbOnceInputStyleChange&&(t+=this.__cbOnceInputStyleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnInputStyleChange)for(var r=0,h=this.__cbOnInputStyleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnInputStyleChange[a],++s):--t}if(null!=this.__cbOnceInputStyleChange){for(var o=null,c=null,r=0,h=this.__cbOnceInputStyleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceInputStyleChange[a],this.__cbOnceInputStyleChange[a]=null,u=this.__cbOnceOwnerUnbindInputStyleChange[a],(this.__cbOnceOwnerUnbindInputStyleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindInputStyleChange[a]),c.push(this.__cbOnceInputStyleChange[a]))}this.__cbOnceOwnerUnbindInputStyleChange=o,this.__cbOnceInputStyleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindInputStyleChange&&(this.__cbOnOwnerUnbindInputStyleChange=[]),this.__cbOnOwnerUnbindInputStyleChange.push(null);null==this.__cbOnInputStyleChange&&(this.__cbOnInputStyleChange=[]),this.__cbOnInputStyleChange.push(t)},onceInputStyleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event inputStyleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offInputStyleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindInputStyleChange&&(this.__cbOnceOwnerUnbindInputStyleChange=[]),this.__cbOnceOwnerUnbindInputStyleChange.push(null);null==this.__cbOnceInputStyleChange&&(this.__cbOnceInputStyleChange=[]),this.__cbOnceInputStyleChange.push(t)},offInputStyleChange:function(e){if(null!=e){var n;null!=this.__cbOnInputStyleChange&&-1!=(n=this.__cbOnInputStyleChange.indexOf(e))&&(this.__cbOnInputStyleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnOwnerUnbindInputStyleChange.splice(n,1)),null!=this.__cbOnceInputStyleChange&&-1!=(n=this.__cbOnceInputStyleChange.indexOf(e))&&(this.__cbOnceInputStyleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[n])&&s(),this.__cbOnceOwnerUnbindInputStyleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInputStyleChange){for(var t=0,i=this.__cbOnOwnerUnbindInputStyleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnOwnerUnbindInputStyleChange=null}if(null!=this.__cbOnceOwnerUnbindInputStyleChange){for(t=0,i=this.__cbOnceOwnerUnbindInputStyleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindInputStyleChange[l])&&s()}this.__cbOnceOwnerUnbindInputStyleChange=null}this.__cbOnInputStyleChange=null,this.__cbOnceInputStyleChange=null}},listensInputStyleChange:function(){return null!=this.__cbOnInputStyleChange&&0<this.__cbOnInputStyleChange.length||null!=this.__cbOnceInputStyleChange&&0<this.__cbOnceInputStyleChange.length},textAlignAutoruns:null,get_textAlign:function(){var e,n,t=this.unobservedTextAlign;return null!=w.current&&(e=w.current,null!=(n=this.textAlignAutoruns)||(n=w.getAutorunArray(),null!=(this.textAlignAutoruns=n)))&&e.bindToAutorunArray(n),t},set_textAlign:function(e){var n=this.unobservedTextAlign;return n!=(this.unobservedTextAlign=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextAlignChange(e,n),null!=(n=this.textAlignAutoruns))&&(this.textAlignAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTextAlign:function(){var e=this.unobservedTextAlign,e=(this.emitTextAlignChange(e,e),this.textAlignAutoruns);null!=e&&(this.textAlignAutoruns=null,w.invalidateAutorunArray(e))},unobservedTextAlign:null,__cbOnTextAlignChange:null,__cbOnceTextAlignChange:null,__cbOnOwnerUnbindTextAlignChange:null,__cbOnceOwnerUnbindTextAlignChange:null,emitTextAlignChange:function(e,n){var t=0;if(null!=this.__cbOnTextAlignChange&&(t+=this.__cbOnTextAlignChange.length),null!=this.__cbOnceTextAlignChange&&(t+=this.__cbOnceTextAlignChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTextAlignChange)for(var r=0,h=this.__cbOnTextAlignChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTextAlignChange[a],++s):--t}if(null!=this.__cbOnceTextAlignChange){for(var o=null,c=null,r=0,h=this.__cbOnceTextAlignChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTextAlignChange[a],this.__cbOnceTextAlignChange[a]=null,u=this.__cbOnceOwnerUnbindTextAlignChange[a],(this.__cbOnceOwnerUnbindTextAlignChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTextAlignChange[a]),c.push(this.__cbOnceTextAlignChange[a]))}this.__cbOnceOwnerUnbindTextAlignChange=o,this.__cbOnceTextAlignChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTextAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event textAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTextAlignChange&&(this.__cbOnOwnerUnbindTextAlignChange=[]),this.__cbOnOwnerUnbindTextAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTextAlignChange&&(this.__cbOnOwnerUnbindTextAlignChange=[]),this.__cbOnOwnerUnbindTextAlignChange.push(null);null==this.__cbOnTextAlignChange&&(this.__cbOnTextAlignChange=[]),this.__cbOnTextAlignChange.push(t)},onceTextAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event textAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTextAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTextAlignChange&&(this.__cbOnceOwnerUnbindTextAlignChange=[]),this.__cbOnceOwnerUnbindTextAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTextAlignChange&&(this.__cbOnceOwnerUnbindTextAlignChange=[]),this.__cbOnceOwnerUnbindTextAlignChange.push(null);null==this.__cbOnceTextAlignChange&&(this.__cbOnceTextAlignChange=[]),this.__cbOnceTextAlignChange.push(t)},offTextAlignChange:function(e){if(null!=e){var n;null!=this.__cbOnTextAlignChange&&-1!=(n=this.__cbOnTextAlignChange.indexOf(e))&&(this.__cbOnTextAlignChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTextAlignChange[n])&&s(),this.__cbOnOwnerUnbindTextAlignChange.splice(n,1)),null!=this.__cbOnceTextAlignChange&&-1!=(n=this.__cbOnceTextAlignChange.indexOf(e))&&(this.__cbOnceTextAlignChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTextAlignChange[n])&&s(),this.__cbOnceOwnerUnbindTextAlignChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextAlignChange){for(var t=0,i=this.__cbOnOwnerUnbindTextAlignChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTextAlignChange[l])&&s()}this.__cbOnOwnerUnbindTextAlignChange=null}if(null!=this.__cbOnceOwnerUnbindTextAlignChange){for(t=0,i=this.__cbOnceOwnerUnbindTextAlignChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTextAlignChange[l])&&s()}this.__cbOnceOwnerUnbindTextAlignChange=null}this.__cbOnTextAlignChange=null,this.__cbOnceTextAlignChange=null}},listensTextAlignChange:function(){return null!=this.__cbOnTextAlignChange&&0<this.__cbOnTextAlignChange.length||null!=this.__cbOnceTextAlignChange&&0<this.__cbOnceTextAlignChange.length},disabledAutoruns:null,get_disabled:function(){var e,n,t=this.unobservedDisabled;return null!=w.current&&(e=w.current,null!=(n=this.disabledAutoruns)||(n=w.getAutorunArray(),null!=(this.disabledAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabled:function(e){var n=this.unobservedDisabled;return n!=(this.unobservedDisabled=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDisabledChange(e,n),null!=(n=this.disabledAutoruns))&&(this.disabledAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDisabled:function(){var e=this.unobservedDisabled,e=(this.emitDisabledChange(e,e),this.disabledAutoruns);null!=e&&(this.disabledAutoruns=null,w.invalidateAutorunArray(e))},unobservedDisabled:null,__cbOnDisabledChange:null,__cbOnceDisabledChange:null,__cbOnOwnerUnbindDisabledChange:null,__cbOnceOwnerUnbindDisabledChange:null,emitDisabledChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledChange&&(t+=this.__cbOnDisabledChange.length),null!=this.__cbOnceDisabledChange&&(t+=this.__cbOnceDisabledChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledChange)for(var r=0,h=this.__cbOnDisabledChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledChange[a],++s):--t}if(null!=this.__cbOnceDisabledChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledChange[a],this.__cbOnceDisabledChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledChange[a],(this.__cbOnceOwnerUnbindDisabledChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledChange[a]),c.push(this.__cbOnceDisabledChange[a]))}this.__cbOnceOwnerUnbindDisabledChange=o,this.__cbOnceDisabledChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledChange&&(this.__cbOnOwnerUnbindDisabledChange=[]),this.__cbOnOwnerUnbindDisabledChange.push(null);null==this.__cbOnDisabledChange&&(this.__cbOnDisabledChange=[]),this.__cbOnDisabledChange.push(t)},onceDisabledChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledChange&&(this.__cbOnceOwnerUnbindDisabledChange=[]),this.__cbOnceOwnerUnbindDisabledChange.push(null);null==this.__cbOnceDisabledChange&&(this.__cbOnceDisabledChange=[]),this.__cbOnceDisabledChange.push(t)},offDisabledChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledChange&&-1!=(n=this.__cbOnDisabledChange.indexOf(e))&&(this.__cbOnDisabledChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledChange[n])&&s(),this.__cbOnOwnerUnbindDisabledChange.splice(n,1)),null!=this.__cbOnceDisabledChange&&-1!=(n=this.__cbOnceDisabledChange.indexOf(e))&&(this.__cbOnceDisabledChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledChange[l])&&s()}this.__cbOnOwnerUnbindDisabledChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledChange=null}this.__cbOnDisabledChange=null,this.__cbOnceDisabledChange=null}},listensDisabledChange:function(){return null!=this.__cbOnDisabledChange&&0<this.__cbOnDisabledChange.length||null!=this.__cbOnceDisabledChange&&0<this.__cbOnceDisabledChange.length},layers:null,placeholderView:null,kind:null,focus:function(){T2.prototype.focus.call(this),this.get_disabled()||null!=this.editText&&this.editText.focus()},layout:function(){T2.prototype.layout.call(this)},clipText:function(e,n){var t=this.textView.text;t.set_clipTextX(0),t.set_clipTextY(0),t.set_clipTextWidth(e+2),t.set_clipTextHeight(this.get_height())},handleStopEditText:function(){!this.get_focused()||null!=this.suggestions&&0!=this.suggestions.length||ke.app.screen.set_focusedVisual(null)},updatePlaceholder:function(){var e=this.get_textValue(),n=this.get_placeholder(),t=this.get_focused(),i=this.get_disabled();w.unobserve(),this.placeholderView.set_content(null!=n?n:""),this.placeholderView.set_visible(""==e&&(!t||i)),w.reobserve()},updateStyle:function(){var e,n,t=this.get_theme();null==t&&(t=W.get_context().get_theme()),null!=this.editText&&(this.editText.set_selectionColor(t.get_focusedFieldSelectionColor()),this.editText.set_textCursorColor(t.get_lightTextColor())),this.get_inputStyle()==Cl.OVERLAY?(this.color=16777215,this.set_alpha(.1),0!=this.borderSize&&(this.borderSize=0,this.updateBorder()),e=Un.INSIDE,this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.flags&=-17,this.textView.set_textColor(t.get_fieldTextColor()),this.textView.set_font(t.get_mediumFont()),this.placeholderView.set_textColor(t.get_fieldPlaceholderColor()),this.placeholderView.set_font(t.get_mediumFont())):(this.color=t.get_darkBackgroundColor(),this.set_alpha(1),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),e=Un.INSIDE,this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.flags&=-17,this.textView.set_textColor(t.get_fieldTextColor()),this.textView.set_font(t.get_mediumFont()),this.placeholderView.set_textColor(t.get_fieldPlaceholderColor()),this.placeholderView.set_font(t.get_mediumFont()),this.get_disabled()?(n=t.get_mediumBorderColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),this.textView.text.set_alpha(.5)):(this.textView.text.set_alpha(1),n=this.get_focused()?t.get_focusedFieldBorderColor():t.get_lightBorderColor(),this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder()))},unbindEvents:function(){T2.prototype.unbindEvents.call(this),this.offThemeChange(),this.offPlaceholderChange(),this.offInputStyleChange(),this.offTextAlignChange(),this.offDisabledChange()},__class__:xl,__properties__:$extend(T2.prototype.__properties__,{set_disabled:"set_disabled",get_disabled:"get_disabled",set_textAlign:"set_textAlign",get_textAlign:"get_textAlign",set_inputStyle:"set_inputStyle",get_inputStyle:"get_inputStyle",set_placeholder:"set_placeholder",get_placeholder:"get_placeholder",set_multiline:"set_multiline",set_theme:"set_theme",get_theme:"get_theme"})}),en["elements.TextFieldKind"]={__ename__:"elements.TextFieldKind",__constructs__:null,TEXT:{_hx_name:"TEXT",_hx_index:0,__enum__:"elements.TextFieldKind",toString:c},NUMERIC:{_hx_name:"NUMERIC",_hx_index:1,__enum__:"elements.TextFieldKind",toString:c}}),Al=(Sl.__constructs__=[Sl.TEXT,Sl.NUMERIC],function(){this._clonedIndex=-1,this._index=Al._nextIndex=(Al._nextIndex+1)%999999999,this._used=!1,this._textColor=-1,this._backgroundColor=-1,this._altTint=-1,this._tint=-1,this.unobservedWindowBorderAlpha=1,this.windowBorderAlphaAutoruns=null,this.unobservedWindowBorderColor=6513507,this.windowBorderColorAutoruns=null,this.unobservedWindowBackgroundAlpha=.925,this.windowBackgroundAlphaAutoruns=null,this.unobservedWindowBackgroundColor=1842204,this.windowBackgroundColorAutoruns=null,this.unobservedDisabledTabBorderAlpha=.5,this.disabledTabBorderAlphaAutoruns=null,this.unobservedDisabledTabTextAlpha=.5,this.disabledTabTextAlphaAutoruns=null,this.unobservedTabsBorderColor=6513507,this.tabsBorderColorAutoruns=null,this.unobservedTabsHoverBackgroundAlpha=.2,this.tabsHoverBackgroundAlphaAutoruns=null,this.unobservedTabsHoverBackgroundColor=8947848,this.tabsHoverBackgroundColorAutoruns=null,this.unobservedTabsBackgroundAlpha=.1,this.tabsBackgroundAlphaAutoruns=null,this.unobservedTabsBackgroundColor=8947848,this.tabsBackgroundColorAutoruns=null,this.unobservedButtonFocusedBorderColor=4692203,this.buttonFocusedBorderColorAutoruns=null,this.unobservedButtonPressedBackgroundColor=4692203,this.buttonPressedBackgroundColorAutoruns=null,this.unobservedButtonOverBackgroundColor=5921370,this.buttonOverBackgroundColorAutoruns=null,this.unobservedButtonBackgroundColor=5329233,this.buttonBackgroundColorAutoruns=null,this.unobservedOverlayBorderAlpha=1,this.overlayBorderAlphaAutoruns=null,this.unobservedOverlayBorderColor=6513507,this.overlayBorderColorAutoruns=null,this.unobservedOverlayBackgroundAlpha=.925,this.overlayBackgroundAlphaAutoruns=null,this.unobservedOverlayBackgroundColor=1842204,this.overlayBackgroundColorAutoruns=null,this.unobservedFocusedFieldBorderColor=4428512,this.focusedFieldBorderColorAutoruns=null,this.unobservedFocusedFieldSelectionColor=3175366,this.focusedFieldSelectionColorAutoruns=null,this.unobservedTabsMarginY=6,this.tabsMarginYAutoruns=null,this.unobservedFormPadding=6,this.formPaddingAutoruns=null,this.unobservedFormItemSpacing=6,this.formItemSpacingAutoruns=null,this.unobservedHighlightPendingColor=16666932,this.highlightPendingColorAutoruns=null,this.unobservedHighlightColor=4428512,this.highlightColorAutoruns=null,this.unobservedSelectionBorderColor=4428512,this.selectionBorderColorAutoruns=null,this.unobservedDarkerBackgroundColor=2631720,this.darkerBackgroundColorAutoruns=null,this.unobservedDarkBackgroundColor=4342338,this.darkBackgroundColorAutoruns=null,this.unobservedMediumBackgroundColor=4868682,this.mediumBackgroundColorAutoruns=null,this.unobservedLightBackgroundColor=5197647,this.lightBackgroundColorAutoruns=null,this.unobservedDarkBorderColor=3684408,this.darkBorderColorAutoruns=null,this.unobservedMediumBorderColor=4605510,this.mediumBorderColorAutoruns=null,this.unobservedLightBorderColor=6513507,this.lightBorderColorAutoruns=null,this.unobservedLighterBorderColor=10066329,this.lighterBorderColorAutoruns=null,this.unobservedCustomBoldFont=null,this.customBoldFontAutoruns=null,this.unobservedCustomMediumFont=null,this.customMediumFontAutoruns=null,this.unobservedIconColor=16777215,this.iconColorAutoruns=null,this.unobservedDarkerTextColor=5592405,this.darkerTextColorAutoruns=null,this.unobservedDarkTextColor=8947848,this.darkTextColorAutoruns=null,this.unobservedMediumTextColor=13421772,this.mediumTextColorAutoruns=null,this.unobservedLightTextColor=15987699,this.lightTextColorAutoruns=null,this.unobservedFieldPlaceholderColor=8947848,this.fieldPlaceholderColorAutoruns=null,this.unobservedFieldTextColor=16777215,this.fieldTextColorAutoruns=null,this.unobservedBackgroundInFormLayout=!1,this.backgroundInFormLayoutAutoruns=null,Dd.call(this)}),kl=((E["elements.Theme"]=Al).__name__="elements.Theme",Al.__super__=Dd,Al.prototype=$extend(Dd.prototype,{backgroundInFormLayoutAutoruns:null,get_backgroundInFormLayout:function(){var e,n,t=this.unobservedBackgroundInFormLayout;return null!=w.current&&(e=w.current,null!=(n=this.backgroundInFormLayoutAutoruns)||(n=w.getAutorunArray(),null!=(this.backgroundInFormLayoutAutoruns=n)))&&e.bindToAutorunArray(n),t},set_backgroundInFormLayout:function(e){var n=this.unobservedBackgroundInFormLayout;return n!=(this.unobservedBackgroundInFormLayout=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitBackgroundInFormLayoutChange(e,n),null!=(n=this.backgroundInFormLayoutAutoruns))&&(this.backgroundInFormLayoutAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateBackgroundInFormLayout:function(){var e=this.unobservedBackgroundInFormLayout,e=(this.emitBackgroundInFormLayoutChange(e,e),this.backgroundInFormLayoutAutoruns);null!=e&&(this.backgroundInFormLayoutAutoruns=null,w.invalidateAutorunArray(e))},unobservedBackgroundInFormLayout:null,__cbOnBackgroundInFormLayoutChange:null,__cbOnceBackgroundInFormLayoutChange:null,__cbOnOwnerUnbindBackgroundInFormLayoutChange:null,__cbOnceOwnerUnbindBackgroundInFormLayoutChange:null,emitBackgroundInFormLayoutChange:function(e,n){var t=0;if(null!=this.__cbOnBackgroundInFormLayoutChange&&(t+=this.__cbOnBackgroundInFormLayoutChange.length),null!=this.__cbOnceBackgroundInFormLayoutChange&&(t+=this.__cbOnceBackgroundInFormLayoutChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnBackgroundInFormLayoutChange)for(var r=0,h=this.__cbOnBackgroundInFormLayoutChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnBackgroundInFormLayoutChange[a],++s):--t}if(null!=this.__cbOnceBackgroundInFormLayoutChange){for(var o=null,c=null,r=0,h=this.__cbOnceBackgroundInFormLayoutChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceBackgroundInFormLayoutChange[a],this.__cbOnceBackgroundInFormLayoutChange[a]=null,u=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[a],(this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[a]),c.push(this.__cbOnceBackgroundInFormLayoutChange[a]))}this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange=o,this.__cbOnceBackgroundInFormLayoutChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onBackgroundInFormLayoutChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event backgroundInFormLayoutChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBackgroundInFormLayoutChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindBackgroundInFormLayoutChange&&(this.__cbOnOwnerUnbindBackgroundInFormLayoutChange=[]),this.__cbOnOwnerUnbindBackgroundInFormLayoutChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindBackgroundInFormLayoutChange&&(this.__cbOnOwnerUnbindBackgroundInFormLayoutChange=[]),this.__cbOnOwnerUnbindBackgroundInFormLayoutChange.push(null);null==this.__cbOnBackgroundInFormLayoutChange&&(this.__cbOnBackgroundInFormLayoutChange=[]),this.__cbOnBackgroundInFormLayoutChange.push(t)},onceBackgroundInFormLayoutChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event backgroundInFormLayoutChange because owner is destroyed!");var l=function(e){null!=t&&(i.offBackgroundInFormLayoutChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange&&(this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange=[]),this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange&&(this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange=[]),this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange.push(null);null==this.__cbOnceBackgroundInFormLayoutChange&&(this.__cbOnceBackgroundInFormLayoutChange=[]),this.__cbOnceBackgroundInFormLayoutChange.push(t)},offBackgroundInFormLayoutChange:function(e){if(null!=e){var n;null!=this.__cbOnBackgroundInFormLayoutChange&&-1!=(n=this.__cbOnBackgroundInFormLayoutChange.indexOf(e))&&(this.__cbOnBackgroundInFormLayoutChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindBackgroundInFormLayoutChange[n])&&s(),this.__cbOnOwnerUnbindBackgroundInFormLayoutChange.splice(n,1)),null!=this.__cbOnceBackgroundInFormLayoutChange&&-1!=(n=this.__cbOnceBackgroundInFormLayoutChange.indexOf(e))&&(this.__cbOnceBackgroundInFormLayoutChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[n])&&s(),this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBackgroundInFormLayoutChange){for(var t=0,i=this.__cbOnOwnerUnbindBackgroundInFormLayoutChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindBackgroundInFormLayoutChange[l])&&s()}this.__cbOnOwnerUnbindBackgroundInFormLayoutChange=null}if(null!=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange){for(t=0,i=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange[l])&&s()}this.__cbOnceOwnerUnbindBackgroundInFormLayoutChange=null}this.__cbOnBackgroundInFormLayoutChange=null,this.__cbOnceBackgroundInFormLayoutChange=null}},listensBackgroundInFormLayoutChange:function(){return null!=this.__cbOnBackgroundInFormLayoutChange&&0<this.__cbOnBackgroundInFormLayoutChange.length||null!=this.__cbOnceBackgroundInFormLayoutChange&&0<this.__cbOnceBackgroundInFormLayoutChange.length},fieldTextColorAutoruns:null,get_fieldTextColor:function(){var e,n,t=this.unobservedFieldTextColor;return null!=w.current&&(e=w.current,null!=(n=this.fieldTextColorAutoruns)||(n=w.getAutorunArray(),null!=(this.fieldTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_fieldTextColor:function(e){var n=this.unobservedFieldTextColor;return n!=(this.unobservedFieldTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFieldTextColorChange(e,n),null!=(n=this.fieldTextColorAutoruns))&&(this.fieldTextColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFieldTextColor:function(){var e=this.unobservedFieldTextColor,e=(this.emitFieldTextColorChange(e,e),this.fieldTextColorAutoruns);null!=e&&(this.fieldTextColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedFieldTextColor:null,__cbOnFieldTextColorChange:null,__cbOnceFieldTextColorChange:null,__cbOnOwnerUnbindFieldTextColorChange:null,__cbOnceOwnerUnbindFieldTextColorChange:null,emitFieldTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnFieldTextColorChange&&(t+=this.__cbOnFieldTextColorChange.length),null!=this.__cbOnceFieldTextColorChange&&(t+=this.__cbOnceFieldTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFieldTextColorChange)for(var r=0,h=this.__cbOnFieldTextColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFieldTextColorChange[a],++s):--t}if(null!=this.__cbOnceFieldTextColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceFieldTextColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFieldTextColorChange[a],this.__cbOnceFieldTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindFieldTextColorChange[a],(this.__cbOnceOwnerUnbindFieldTextColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFieldTextColorChange[a]),c.push(this.__cbOnceFieldTextColorChange[a]))}this.__cbOnceOwnerUnbindFieldTextColorChange=o,this.__cbOnceFieldTextColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFieldTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event fieldTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFieldTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFieldTextColorChange&&(this.__cbOnOwnerUnbindFieldTextColorChange=[]),this.__cbOnOwnerUnbindFieldTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFieldTextColorChange&&(this.__cbOnOwnerUnbindFieldTextColorChange=[]),this.__cbOnOwnerUnbindFieldTextColorChange.push(null);null==this.__cbOnFieldTextColorChange&&(this.__cbOnFieldTextColorChange=[]),this.__cbOnFieldTextColorChange.push(t)},onceFieldTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event fieldTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFieldTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFieldTextColorChange&&(this.__cbOnceOwnerUnbindFieldTextColorChange=[]),this.__cbOnceOwnerUnbindFieldTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFieldTextColorChange&&(this.__cbOnceOwnerUnbindFieldTextColorChange=[]),this.__cbOnceOwnerUnbindFieldTextColorChange.push(null);null==this.__cbOnceFieldTextColorChange&&(this.__cbOnceFieldTextColorChange=[]),this.__cbOnceFieldTextColorChange.push(t)},offFieldTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnFieldTextColorChange&&-1!=(n=this.__cbOnFieldTextColorChange.indexOf(e))&&(this.__cbOnFieldTextColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFieldTextColorChange[n])&&s(),this.__cbOnOwnerUnbindFieldTextColorChange.splice(n,1)),null!=this.__cbOnceFieldTextColorChange&&-1!=(n=this.__cbOnceFieldTextColorChange.indexOf(e))&&(this.__cbOnceFieldTextColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFieldTextColorChange[n])&&s(),this.__cbOnceOwnerUnbindFieldTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFieldTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindFieldTextColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFieldTextColorChange[l])&&s()}this.__cbOnOwnerUnbindFieldTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindFieldTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindFieldTextColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFieldTextColorChange[l])&&s()}this.__cbOnceOwnerUnbindFieldTextColorChange=null}this.__cbOnFieldTextColorChange=null,this.__cbOnceFieldTextColorChange=null}},listensFieldTextColorChange:function(){return null!=this.__cbOnFieldTextColorChange&&0<this.__cbOnFieldTextColorChange.length||null!=this.__cbOnceFieldTextColorChange&&0<this.__cbOnceFieldTextColorChange.length},fieldPlaceholderColorAutoruns:null,get_fieldPlaceholderColor:function(){var e,n,t=this.unobservedFieldPlaceholderColor;return null!=w.current&&(e=w.current,null!=(n=this.fieldPlaceholderColorAutoruns)||(n=w.getAutorunArray(),null!=(this.fieldPlaceholderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_fieldPlaceholderColor:function(e){var n=this.unobservedFieldPlaceholderColor;return n!=(this.unobservedFieldPlaceholderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFieldPlaceholderColorChange(e,n),null!=(n=this.fieldPlaceholderColorAutoruns))&&(this.fieldPlaceholderColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFieldPlaceholderColor:function(){var e=this.unobservedFieldPlaceholderColor,e=(this.emitFieldPlaceholderColorChange(e,e),this.fieldPlaceholderColorAutoruns);null!=e&&(this.fieldPlaceholderColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedFieldPlaceholderColor:null,__cbOnFieldPlaceholderColorChange:null,__cbOnceFieldPlaceholderColorChange:null,__cbOnOwnerUnbindFieldPlaceholderColorChange:null,__cbOnceOwnerUnbindFieldPlaceholderColorChange:null,emitFieldPlaceholderColorChange:function(e,n){var t=0;if(null!=this.__cbOnFieldPlaceholderColorChange&&(t+=this.__cbOnFieldPlaceholderColorChange.length),null!=this.__cbOnceFieldPlaceholderColorChange&&(t+=this.__cbOnceFieldPlaceholderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFieldPlaceholderColorChange)for(var r=0,h=this.__cbOnFieldPlaceholderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFieldPlaceholderColorChange[a],++s):--t}if(null!=this.__cbOnceFieldPlaceholderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceFieldPlaceholderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFieldPlaceholderColorChange[a],this.__cbOnceFieldPlaceholderColorChange[a]=null,u=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[a],(this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[a]),c.push(this.__cbOnceFieldPlaceholderColorChange[a]))}this.__cbOnceOwnerUnbindFieldPlaceholderColorChange=o,this.__cbOnceFieldPlaceholderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFieldPlaceholderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event fieldPlaceholderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFieldPlaceholderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFieldPlaceholderColorChange&&(this.__cbOnOwnerUnbindFieldPlaceholderColorChange=[]),this.__cbOnOwnerUnbindFieldPlaceholderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFieldPlaceholderColorChange&&(this.__cbOnOwnerUnbindFieldPlaceholderColorChange=[]),this.__cbOnOwnerUnbindFieldPlaceholderColorChange.push(null);null==this.__cbOnFieldPlaceholderColorChange&&(this.__cbOnFieldPlaceholderColorChange=[]),this.__cbOnFieldPlaceholderColorChange.push(t)},onceFieldPlaceholderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event fieldPlaceholderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFieldPlaceholderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFieldPlaceholderColorChange&&(this.__cbOnceOwnerUnbindFieldPlaceholderColorChange=[]),this.__cbOnceOwnerUnbindFieldPlaceholderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFieldPlaceholderColorChange&&(this.__cbOnceOwnerUnbindFieldPlaceholderColorChange=[]),this.__cbOnceOwnerUnbindFieldPlaceholderColorChange.push(null);null==this.__cbOnceFieldPlaceholderColorChange&&(this.__cbOnceFieldPlaceholderColorChange=[]),this.__cbOnceFieldPlaceholderColorChange.push(t)},offFieldPlaceholderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnFieldPlaceholderColorChange&&-1!=(n=this.__cbOnFieldPlaceholderColorChange.indexOf(e))&&(this.__cbOnFieldPlaceholderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFieldPlaceholderColorChange[n])&&s(),this.__cbOnOwnerUnbindFieldPlaceholderColorChange.splice(n,1)),null!=this.__cbOnceFieldPlaceholderColorChange&&-1!=(n=this.__cbOnceFieldPlaceholderColorChange.indexOf(e))&&(this.__cbOnceFieldPlaceholderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[n])&&s(),this.__cbOnceOwnerUnbindFieldPlaceholderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFieldPlaceholderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindFieldPlaceholderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFieldPlaceholderColorChange[l])&&s()}this.__cbOnOwnerUnbindFieldPlaceholderColorChange=null}if(null!=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFieldPlaceholderColorChange[l])&&s()}this.__cbOnceOwnerUnbindFieldPlaceholderColorChange=null}this.__cbOnFieldPlaceholderColorChange=null,this.__cbOnceFieldPlaceholderColorChange=null}},listensFieldPlaceholderColorChange:function(){return null!=this.__cbOnFieldPlaceholderColorChange&&0<this.__cbOnFieldPlaceholderColorChange.length||null!=this.__cbOnceFieldPlaceholderColorChange&&0<this.__cbOnceFieldPlaceholderColorChange.length},lightTextColorAutoruns:null,get_lightTextColor:function(){var e,n,t=this.unobservedLightTextColor;return null!=w.current&&(e=w.current,null!=(n=this.lightTextColorAutoruns)||(n=w.getAutorunArray(),null!=(this.lightTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lightTextColor:function(e){var n=this.unobservedLightTextColor;return n!=(this.unobservedLightTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitLightTextColorChange(e,n),null!=(n=this.lightTextColorAutoruns))&&(this.lightTextColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateLightTextColor:function(){var e=this.unobservedLightTextColor,e=(this.emitLightTextColorChange(e,e),this.lightTextColorAutoruns);null!=e&&(this.lightTextColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedLightTextColor:null,__cbOnLightTextColorChange:null,__cbOnceLightTextColorChange:null,__cbOnOwnerUnbindLightTextColorChange:null,__cbOnceOwnerUnbindLightTextColorChange:null,emitLightTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnLightTextColorChange&&(t+=this.__cbOnLightTextColorChange.length),null!=this.__cbOnceLightTextColorChange&&(t+=this.__cbOnceLightTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLightTextColorChange)for(var r=0,h=this.__cbOnLightTextColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLightTextColorChange[a],++s):--t}if(null!=this.__cbOnceLightTextColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceLightTextColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLightTextColorChange[a],this.__cbOnceLightTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindLightTextColorChange[a],(this.__cbOnceOwnerUnbindLightTextColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLightTextColorChange[a]),c.push(this.__cbOnceLightTextColorChange[a]))}this.__cbOnceOwnerUnbindLightTextColorChange=o,this.__cbOnceLightTextColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLightTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lightTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLightTextColorChange&&(this.__cbOnOwnerUnbindLightTextColorChange=[]),this.__cbOnOwnerUnbindLightTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLightTextColorChange&&(this.__cbOnOwnerUnbindLightTextColorChange=[]),this.__cbOnOwnerUnbindLightTextColorChange.push(null);null==this.__cbOnLightTextColorChange&&(this.__cbOnLightTextColorChange=[]),this.__cbOnLightTextColorChange.push(t)},onceLightTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lightTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLightTextColorChange&&(this.__cbOnceOwnerUnbindLightTextColorChange=[]),this.__cbOnceOwnerUnbindLightTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLightTextColorChange&&(this.__cbOnceOwnerUnbindLightTextColorChange=[]),this.__cbOnceOwnerUnbindLightTextColorChange.push(null);null==this.__cbOnceLightTextColorChange&&(this.__cbOnceLightTextColorChange=[]),this.__cbOnceLightTextColorChange.push(t)},offLightTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnLightTextColorChange&&-1!=(n=this.__cbOnLightTextColorChange.indexOf(e))&&(this.__cbOnLightTextColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLightTextColorChange[n])&&s(),this.__cbOnOwnerUnbindLightTextColorChange.splice(n,1)),null!=this.__cbOnceLightTextColorChange&&-1!=(n=this.__cbOnceLightTextColorChange.indexOf(e))&&(this.__cbOnceLightTextColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLightTextColorChange[n])&&s(),this.__cbOnceOwnerUnbindLightTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLightTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindLightTextColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLightTextColorChange[l])&&s()}this.__cbOnOwnerUnbindLightTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindLightTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindLightTextColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLightTextColorChange[l])&&s()}this.__cbOnceOwnerUnbindLightTextColorChange=null}this.__cbOnLightTextColorChange=null,this.__cbOnceLightTextColorChange=null}},listensLightTextColorChange:function(){return null!=this.__cbOnLightTextColorChange&&0<this.__cbOnLightTextColorChange.length||null!=this.__cbOnceLightTextColorChange&&0<this.__cbOnceLightTextColorChange.length},mediumTextColorAutoruns:null,get_mediumTextColor:function(){var e,n,t=this.unobservedMediumTextColor;return null!=w.current&&(e=w.current,null!=(n=this.mediumTextColorAutoruns)||(n=w.getAutorunArray(),null!=(this.mediumTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_mediumTextColor:function(e){var n=this.unobservedMediumTextColor;return n!=(this.unobservedMediumTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitMediumTextColorChange(e,n),null!=(n=this.mediumTextColorAutoruns))&&(this.mediumTextColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateMediumTextColor:function(){var e=this.unobservedMediumTextColor,e=(this.emitMediumTextColorChange(e,e),this.mediumTextColorAutoruns);null!=e&&(this.mediumTextColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedMediumTextColor:null,__cbOnMediumTextColorChange:null,__cbOnceMediumTextColorChange:null,__cbOnOwnerUnbindMediumTextColorChange:null,__cbOnceOwnerUnbindMediumTextColorChange:null,emitMediumTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnMediumTextColorChange&&(t+=this.__cbOnMediumTextColorChange.length),null!=this.__cbOnceMediumTextColorChange&&(t+=this.__cbOnceMediumTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMediumTextColorChange)for(var r=0,h=this.__cbOnMediumTextColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMediumTextColorChange[a],++s):--t}if(null!=this.__cbOnceMediumTextColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceMediumTextColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMediumTextColorChange[a],this.__cbOnceMediumTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindMediumTextColorChange[a],(this.__cbOnceOwnerUnbindMediumTextColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMediumTextColorChange[a]),c.push(this.__cbOnceMediumTextColorChange[a]))}this.__cbOnceOwnerUnbindMediumTextColorChange=o,this.__cbOnceMediumTextColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMediumTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mediumTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMediumTextColorChange&&(this.__cbOnOwnerUnbindMediumTextColorChange=[]),this.__cbOnOwnerUnbindMediumTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMediumTextColorChange&&(this.__cbOnOwnerUnbindMediumTextColorChange=[]),this.__cbOnOwnerUnbindMediumTextColorChange.push(null);null==this.__cbOnMediumTextColorChange&&(this.__cbOnMediumTextColorChange=[]),this.__cbOnMediumTextColorChange.push(t)},onceMediumTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mediumTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMediumTextColorChange&&(this.__cbOnceOwnerUnbindMediumTextColorChange=[]),this.__cbOnceOwnerUnbindMediumTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMediumTextColorChange&&(this.__cbOnceOwnerUnbindMediumTextColorChange=[]),this.__cbOnceOwnerUnbindMediumTextColorChange.push(null);null==this.__cbOnceMediumTextColorChange&&(this.__cbOnceMediumTextColorChange=[]),this.__cbOnceMediumTextColorChange.push(t)},offMediumTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnMediumTextColorChange&&-1!=(n=this.__cbOnMediumTextColorChange.indexOf(e))&&(this.__cbOnMediumTextColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMediumTextColorChange[n])&&s(),this.__cbOnOwnerUnbindMediumTextColorChange.splice(n,1)),null!=this.__cbOnceMediumTextColorChange&&-1!=(n=this.__cbOnceMediumTextColorChange.indexOf(e))&&(this.__cbOnceMediumTextColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMediumTextColorChange[n])&&s(),this.__cbOnceOwnerUnbindMediumTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMediumTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindMediumTextColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMediumTextColorChange[l])&&s()}this.__cbOnOwnerUnbindMediumTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindMediumTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindMediumTextColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMediumTextColorChange[l])&&s()}this.__cbOnceOwnerUnbindMediumTextColorChange=null}this.__cbOnMediumTextColorChange=null,this.__cbOnceMediumTextColorChange=null}},listensMediumTextColorChange:function(){return null!=this.__cbOnMediumTextColorChange&&0<this.__cbOnMediumTextColorChange.length||null!=this.__cbOnceMediumTextColorChange&&0<this.__cbOnceMediumTextColorChange.length},darkTextColorAutoruns:null,get_darkTextColor:function(){var e,n,t=this.unobservedDarkTextColor;return null!=w.current&&(e=w.current,null!=(n=this.darkTextColorAutoruns)||(n=w.getAutorunArray(),null!=(this.darkTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkTextColor:function(e){var n=this.unobservedDarkTextColor;return n!=(this.unobservedDarkTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkTextColorChange(e,n),null!=(n=this.darkTextColorAutoruns))&&(this.darkTextColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDarkTextColor:function(){var e=this.unobservedDarkTextColor,e=(this.emitDarkTextColorChange(e,e),this.darkTextColorAutoruns);null!=e&&(this.darkTextColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedDarkTextColor:null,__cbOnDarkTextColorChange:null,__cbOnceDarkTextColorChange:null,__cbOnOwnerUnbindDarkTextColorChange:null,__cbOnceOwnerUnbindDarkTextColorChange:null,emitDarkTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkTextColorChange&&(t+=this.__cbOnDarkTextColorChange.length),null!=this.__cbOnceDarkTextColorChange&&(t+=this.__cbOnceDarkTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDarkTextColorChange)for(var r=0,h=this.__cbOnDarkTextColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDarkTextColorChange[a],++s):--t}if(null!=this.__cbOnceDarkTextColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceDarkTextColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDarkTextColorChange[a],this.__cbOnceDarkTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkTextColorChange[a],(this.__cbOnceOwnerUnbindDarkTextColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkTextColorChange[a]),c.push(this.__cbOnceDarkTextColorChange[a]))}this.__cbOnceOwnerUnbindDarkTextColorChange=o,this.__cbOnceDarkTextColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDarkTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event darkTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkTextColorChange&&(this.__cbOnOwnerUnbindDarkTextColorChange=[]),this.__cbOnOwnerUnbindDarkTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkTextColorChange&&(this.__cbOnOwnerUnbindDarkTextColorChange=[]),this.__cbOnOwnerUnbindDarkTextColorChange.push(null);null==this.__cbOnDarkTextColorChange&&(this.__cbOnDarkTextColorChange=[]),this.__cbOnDarkTextColorChange.push(t)},onceDarkTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event darkTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkTextColorChange&&(this.__cbOnceOwnerUnbindDarkTextColorChange=[]),this.__cbOnceOwnerUnbindDarkTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkTextColorChange&&(this.__cbOnceOwnerUnbindDarkTextColorChange=[]),this.__cbOnceOwnerUnbindDarkTextColorChange.push(null);null==this.__cbOnceDarkTextColorChange&&(this.__cbOnceDarkTextColorChange=[]),this.__cbOnceDarkTextColorChange.push(t)},offDarkTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkTextColorChange&&-1!=(n=this.__cbOnDarkTextColorChange.indexOf(e))&&(this.__cbOnDarkTextColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDarkTextColorChange[n])&&s(),this.__cbOnOwnerUnbindDarkTextColorChange.splice(n,1)),null!=this.__cbOnceDarkTextColorChange&&-1!=(n=this.__cbOnceDarkTextColorChange.indexOf(e))&&(this.__cbOnceDarkTextColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDarkTextColorChange[n])&&s(),this.__cbOnceOwnerUnbindDarkTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkTextColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDarkTextColorChange[l])&&s()}this.__cbOnOwnerUnbindDarkTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkTextColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDarkTextColorChange[l])&&s()}this.__cbOnceOwnerUnbindDarkTextColorChange=null}this.__cbOnDarkTextColorChange=null,this.__cbOnceDarkTextColorChange=null}},listensDarkTextColorChange:function(){return null!=this.__cbOnDarkTextColorChange&&0<this.__cbOnDarkTextColorChange.length||null!=this.__cbOnceDarkTextColorChange&&0<this.__cbOnceDarkTextColorChange.length},darkerTextColorAutoruns:null,get_darkerTextColor:function(){var e,n,t=this.unobservedDarkerTextColor;return null!=w.current&&(e=w.current,null!=(n=this.darkerTextColorAutoruns)||(n=w.getAutorunArray(),null!=(this.darkerTextColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkerTextColor:function(e){var n=this.unobservedDarkerTextColor;return n!=(this.unobservedDarkerTextColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkerTextColorChange(e,n),null!=(n=this.darkerTextColorAutoruns))&&(this.darkerTextColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDarkerTextColor:function(){var e=this.unobservedDarkerTextColor,e=(this.emitDarkerTextColorChange(e,e),this.darkerTextColorAutoruns);null!=e&&(this.darkerTextColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedDarkerTextColor:null,__cbOnDarkerTextColorChange:null,__cbOnceDarkerTextColorChange:null,__cbOnOwnerUnbindDarkerTextColorChange:null,__cbOnceOwnerUnbindDarkerTextColorChange:null,emitDarkerTextColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkerTextColorChange&&(t+=this.__cbOnDarkerTextColorChange.length),null!=this.__cbOnceDarkerTextColorChange&&(t+=this.__cbOnceDarkerTextColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDarkerTextColorChange)for(var r=0,h=this.__cbOnDarkerTextColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDarkerTextColorChange[a],++s):--t}if(null!=this.__cbOnceDarkerTextColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceDarkerTextColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDarkerTextColorChange[a],this.__cbOnceDarkerTextColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkerTextColorChange[a],(this.__cbOnceOwnerUnbindDarkerTextColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkerTextColorChange[a]),c.push(this.__cbOnceDarkerTextColorChange[a]))}this.__cbOnceOwnerUnbindDarkerTextColorChange=o,this.__cbOnceDarkerTextColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDarkerTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event darkerTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkerTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkerTextColorChange&&(this.__cbOnOwnerUnbindDarkerTextColorChange=[]),this.__cbOnOwnerUnbindDarkerTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkerTextColorChange&&(this.__cbOnOwnerUnbindDarkerTextColorChange=[]),this.__cbOnOwnerUnbindDarkerTextColorChange.push(null);null==this.__cbOnDarkerTextColorChange&&(this.__cbOnDarkerTextColorChange=[]),this.__cbOnDarkerTextColorChange.push(t)},onceDarkerTextColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event darkerTextColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkerTextColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkerTextColorChange&&(this.__cbOnceOwnerUnbindDarkerTextColorChange=[]),this.__cbOnceOwnerUnbindDarkerTextColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkerTextColorChange&&(this.__cbOnceOwnerUnbindDarkerTextColorChange=[]),this.__cbOnceOwnerUnbindDarkerTextColorChange.push(null);null==this.__cbOnceDarkerTextColorChange&&(this.__cbOnceDarkerTextColorChange=[]),this.__cbOnceDarkerTextColorChange.push(t)},offDarkerTextColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkerTextColorChange&&-1!=(n=this.__cbOnDarkerTextColorChange.indexOf(e))&&(this.__cbOnDarkerTextColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDarkerTextColorChange[n])&&s(),this.__cbOnOwnerUnbindDarkerTextColorChange.splice(n,1)),null!=this.__cbOnceDarkerTextColorChange&&-1!=(n=this.__cbOnceDarkerTextColorChange.indexOf(e))&&(this.__cbOnceDarkerTextColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDarkerTextColorChange[n])&&s(),this.__cbOnceOwnerUnbindDarkerTextColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkerTextColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkerTextColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDarkerTextColorChange[l])&&s()}this.__cbOnOwnerUnbindDarkerTextColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkerTextColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkerTextColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDarkerTextColorChange[l])&&s()}this.__cbOnceOwnerUnbindDarkerTextColorChange=null}this.__cbOnDarkerTextColorChange=null,this.__cbOnceDarkerTextColorChange=null}},listensDarkerTextColorChange:function(){return null!=this.__cbOnDarkerTextColorChange&&0<this.__cbOnDarkerTextColorChange.length||null!=this.__cbOnceDarkerTextColorChange&&0<this.__cbOnceDarkerTextColorChange.length},iconColorAutoruns:null,get_iconColor:function(){var e,n,t=this.unobservedIconColor;return null!=w.current&&(e=w.current,null!=(n=this.iconColorAutoruns)||(n=w.getAutorunArray(),null!=(this.iconColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_iconColor:function(e){var n=this.unobservedIconColor;return n!=(this.unobservedIconColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitIconColorChange(e,n),null!=(n=this.iconColorAutoruns))&&(this.iconColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateIconColor:function(){var e=this.unobservedIconColor,e=(this.emitIconColorChange(e,e),this.iconColorAutoruns);null!=e&&(this.iconColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedIconColor:null,__cbOnIconColorChange:null,__cbOnceIconColorChange:null,__cbOnOwnerUnbindIconColorChange:null,__cbOnceOwnerUnbindIconColorChange:null,emitIconColorChange:function(e,n){var t=0;if(null!=this.__cbOnIconColorChange&&(t+=this.__cbOnIconColorChange.length),null!=this.__cbOnceIconColorChange&&(t+=this.__cbOnceIconColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnIconColorChange)for(var r=0,h=this.__cbOnIconColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnIconColorChange[a],++s):--t}if(null!=this.__cbOnceIconColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceIconColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceIconColorChange[a],this.__cbOnceIconColorChange[a]=null,u=this.__cbOnceOwnerUnbindIconColorChange[a],(this.__cbOnceOwnerUnbindIconColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindIconColorChange[a]),c.push(this.__cbOnceIconColorChange[a]))}this.__cbOnceOwnerUnbindIconColorChange=o,this.__cbOnceIconColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onIconColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event iconColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offIconColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindIconColorChange&&(this.__cbOnOwnerUnbindIconColorChange=[]),this.__cbOnOwnerUnbindIconColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindIconColorChange&&(this.__cbOnOwnerUnbindIconColorChange=[]),this.__cbOnOwnerUnbindIconColorChange.push(null);null==this.__cbOnIconColorChange&&(this.__cbOnIconColorChange=[]),this.__cbOnIconColorChange.push(t)},onceIconColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event iconColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offIconColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindIconColorChange&&(this.__cbOnceOwnerUnbindIconColorChange=[]),this.__cbOnceOwnerUnbindIconColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindIconColorChange&&(this.__cbOnceOwnerUnbindIconColorChange=[]),this.__cbOnceOwnerUnbindIconColorChange.push(null);null==this.__cbOnceIconColorChange&&(this.__cbOnceIconColorChange=[]),this.__cbOnceIconColorChange.push(t)},offIconColorChange:function(e){if(null!=e){var n;null!=this.__cbOnIconColorChange&&-1!=(n=this.__cbOnIconColorChange.indexOf(e))&&(this.__cbOnIconColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindIconColorChange[n])&&s(),this.__cbOnOwnerUnbindIconColorChange.splice(n,1)),null!=this.__cbOnceIconColorChange&&-1!=(n=this.__cbOnceIconColorChange.indexOf(e))&&(this.__cbOnceIconColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindIconColorChange[n])&&s(),this.__cbOnceOwnerUnbindIconColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindIconColorChange){for(var t=0,i=this.__cbOnOwnerUnbindIconColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindIconColorChange[l])&&s()}this.__cbOnOwnerUnbindIconColorChange=null}if(null!=this.__cbOnceOwnerUnbindIconColorChange){for(t=0,i=this.__cbOnceOwnerUnbindIconColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindIconColorChange[l])&&s()}this.__cbOnceOwnerUnbindIconColorChange=null}this.__cbOnIconColorChange=null,this.__cbOnceIconColorChange=null}},listensIconColorChange:function(){return null!=this.__cbOnIconColorChange&&0<this.__cbOnIconColorChange.length||null!=this.__cbOnceIconColorChange&&0<this.__cbOnceIconColorChange.length},customMediumFontAutoruns:null,get_customMediumFont:function(){var e,n,t=this.unobservedCustomMediumFont;return null!=w.current&&(e=w.current,null!=(n=this.customMediumFontAutoruns)||(n=w.getAutorunArray(),null!=(this.customMediumFontAutoruns=n)))&&e.bindToAutorunArray(n),t},set_customMediumFont:function(e){var n=this.unobservedCustomMediumFont;return n!=(this.unobservedCustomMediumFont=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitCustomMediumFontChange(e,n),null!=(n=this.customMediumFontAutoruns))&&(this.customMediumFontAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateCustomMediumFont:function(){var e=this.unobservedCustomMediumFont,e=(this.emitCustomMediumFontChange(e,e),this.customMediumFontAutoruns);null!=e&&(this.customMediumFontAutoruns=null,w.invalidateAutorunArray(e))},unobservedCustomMediumFont:null,__cbOnCustomMediumFontChange:null,__cbOnceCustomMediumFontChange:null,__cbOnOwnerUnbindCustomMediumFontChange:null,__cbOnceOwnerUnbindCustomMediumFontChange:null,emitCustomMediumFontChange:function(e,n){var t=0;if(null!=this.__cbOnCustomMediumFontChange&&(t+=this.__cbOnCustomMediumFontChange.length),null!=this.__cbOnceCustomMediumFontChange&&(t+=this.__cbOnceCustomMediumFontChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnCustomMediumFontChange)for(var r=0,h=this.__cbOnCustomMediumFontChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnCustomMediumFontChange[a],++s):--t}if(null!=this.__cbOnceCustomMediumFontChange){for(var o=null,c=null,r=0,h=this.__cbOnceCustomMediumFontChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceCustomMediumFontChange[a],this.__cbOnceCustomMediumFontChange[a]=null,u=this.__cbOnceOwnerUnbindCustomMediumFontChange[a],(this.__cbOnceOwnerUnbindCustomMediumFontChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCustomMediumFontChange[a]),c.push(this.__cbOnceCustomMediumFontChange[a]))}this.__cbOnceOwnerUnbindCustomMediumFontChange=o,this.__cbOnceCustomMediumFontChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onCustomMediumFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event customMediumFontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCustomMediumFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCustomMediumFontChange&&(this.__cbOnOwnerUnbindCustomMediumFontChange=[]),this.__cbOnOwnerUnbindCustomMediumFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCustomMediumFontChange&&(this.__cbOnOwnerUnbindCustomMediumFontChange=[]),this.__cbOnOwnerUnbindCustomMediumFontChange.push(null);null==this.__cbOnCustomMediumFontChange&&(this.__cbOnCustomMediumFontChange=[]),this.__cbOnCustomMediumFontChange.push(t)},onceCustomMediumFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event customMediumFontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCustomMediumFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCustomMediumFontChange&&(this.__cbOnceOwnerUnbindCustomMediumFontChange=[]),this.__cbOnceOwnerUnbindCustomMediumFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCustomMediumFontChange&&(this.__cbOnceOwnerUnbindCustomMediumFontChange=[]),this.__cbOnceOwnerUnbindCustomMediumFontChange.push(null);null==this.__cbOnceCustomMediumFontChange&&(this.__cbOnceCustomMediumFontChange=[]),this.__cbOnceCustomMediumFontChange.push(t)},offCustomMediumFontChange:function(e){if(null!=e){var n;null!=this.__cbOnCustomMediumFontChange&&-1!=(n=this.__cbOnCustomMediumFontChange.indexOf(e))&&(this.__cbOnCustomMediumFontChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCustomMediumFontChange[n])&&s(),this.__cbOnOwnerUnbindCustomMediumFontChange.splice(n,1)),null!=this.__cbOnceCustomMediumFontChange&&-1!=(n=this.__cbOnceCustomMediumFontChange.indexOf(e))&&(this.__cbOnceCustomMediumFontChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCustomMediumFontChange[n])&&s(),this.__cbOnceOwnerUnbindCustomMediumFontChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCustomMediumFontChange){for(var t=0,i=this.__cbOnOwnerUnbindCustomMediumFontChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCustomMediumFontChange[l])&&s()}this.__cbOnOwnerUnbindCustomMediumFontChange=null}if(null!=this.__cbOnceOwnerUnbindCustomMediumFontChange){for(t=0,i=this.__cbOnceOwnerUnbindCustomMediumFontChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCustomMediumFontChange[l])&&s()}this.__cbOnceOwnerUnbindCustomMediumFontChange=null}this.__cbOnCustomMediumFontChange=null,this.__cbOnceCustomMediumFontChange=null}},listensCustomMediumFontChange:function(){return null!=this.__cbOnCustomMediumFontChange&&0<this.__cbOnCustomMediumFontChange.length||null!=this.__cbOnceCustomMediumFontChange&&0<this.__cbOnceCustomMediumFontChange.length},get_mediumFont:function(){var e=this.get_customMediumFont();return null!=e?e:ke.app.assets.font(ke.app.settings.defaultFont)},customBoldFontAutoruns:null,get_customBoldFont:function(){var e,n,t=this.unobservedCustomBoldFont;return null!=w.current&&(e=w.current,null!=(n=this.customBoldFontAutoruns)||(n=w.getAutorunArray(),null!=(this.customBoldFontAutoruns=n)))&&e.bindToAutorunArray(n),t},set_customBoldFont:function(e){var n=this.unobservedCustomBoldFont;return n!=(this.unobservedCustomBoldFont=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitCustomBoldFontChange(e,n),null!=(n=this.customBoldFontAutoruns))&&(this.customBoldFontAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateCustomBoldFont:function(){var e=this.unobservedCustomBoldFont,e=(this.emitCustomBoldFontChange(e,e),this.customBoldFontAutoruns);null!=e&&(this.customBoldFontAutoruns=null,w.invalidateAutorunArray(e))},unobservedCustomBoldFont:null,__cbOnCustomBoldFontChange:null,__cbOnceCustomBoldFontChange:null,__cbOnOwnerUnbindCustomBoldFontChange:null,__cbOnceOwnerUnbindCustomBoldFontChange:null,emitCustomBoldFontChange:function(e,n){var t=0;if(null!=this.__cbOnCustomBoldFontChange&&(t+=this.__cbOnCustomBoldFontChange.length),null!=this.__cbOnceCustomBoldFontChange&&(t+=this.__cbOnceCustomBoldFontChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnCustomBoldFontChange)for(var r=0,h=this.__cbOnCustomBoldFontChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnCustomBoldFontChange[a],++s):--t}if(null!=this.__cbOnceCustomBoldFontChange){for(var o=null,c=null,r=0,h=this.__cbOnceCustomBoldFontChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceCustomBoldFontChange[a],this.__cbOnceCustomBoldFontChange[a]=null,u=this.__cbOnceOwnerUnbindCustomBoldFontChange[a],(this.__cbOnceOwnerUnbindCustomBoldFontChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCustomBoldFontChange[a]),c.push(this.__cbOnceCustomBoldFontChange[a]))}this.__cbOnceOwnerUnbindCustomBoldFontChange=o,this.__cbOnceCustomBoldFontChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onCustomBoldFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event customBoldFontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCustomBoldFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCustomBoldFontChange&&(this.__cbOnOwnerUnbindCustomBoldFontChange=[]),this.__cbOnOwnerUnbindCustomBoldFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCustomBoldFontChange&&(this.__cbOnOwnerUnbindCustomBoldFontChange=[]),this.__cbOnOwnerUnbindCustomBoldFontChange.push(null);null==this.__cbOnCustomBoldFontChange&&(this.__cbOnCustomBoldFontChange=[]),this.__cbOnCustomBoldFontChange.push(t)},onceCustomBoldFontChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event customBoldFontChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCustomBoldFontChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCustomBoldFontChange&&(this.__cbOnceOwnerUnbindCustomBoldFontChange=[]),this.__cbOnceOwnerUnbindCustomBoldFontChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCustomBoldFontChange&&(this.__cbOnceOwnerUnbindCustomBoldFontChange=[]),this.__cbOnceOwnerUnbindCustomBoldFontChange.push(null);null==this.__cbOnceCustomBoldFontChange&&(this.__cbOnceCustomBoldFontChange=[]),this.__cbOnceCustomBoldFontChange.push(t)},offCustomBoldFontChange:function(e){if(null!=e){var n;null!=this.__cbOnCustomBoldFontChange&&-1!=(n=this.__cbOnCustomBoldFontChange.indexOf(e))&&(this.__cbOnCustomBoldFontChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCustomBoldFontChange[n])&&s(),this.__cbOnOwnerUnbindCustomBoldFontChange.splice(n,1)),null!=this.__cbOnceCustomBoldFontChange&&-1!=(n=this.__cbOnceCustomBoldFontChange.indexOf(e))&&(this.__cbOnceCustomBoldFontChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCustomBoldFontChange[n])&&s(),this.__cbOnceOwnerUnbindCustomBoldFontChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCustomBoldFontChange){for(var t=0,i=this.__cbOnOwnerUnbindCustomBoldFontChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCustomBoldFontChange[l])&&s()}this.__cbOnOwnerUnbindCustomBoldFontChange=null}if(null!=this.__cbOnceOwnerUnbindCustomBoldFontChange){for(t=0,i=this.__cbOnceOwnerUnbindCustomBoldFontChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCustomBoldFontChange[l])&&s()}this.__cbOnceOwnerUnbindCustomBoldFontChange=null}this.__cbOnCustomBoldFontChange=null,this.__cbOnceCustomBoldFontChange=null}},listensCustomBoldFontChange:function(){return null!=this.__cbOnCustomBoldFontChange&&0<this.__cbOnCustomBoldFontChange.length||null!=this.__cbOnceCustomBoldFontChange&&0<this.__cbOnceCustomBoldFontChange.length},get_boldFont:function(){var e=this.get_customBoldFont();return null!=e?e:ke.app.assets.font(ke.app.settings.defaultFont)},lighterBorderColorAutoruns:null,get_lighterBorderColor:function(){var e,n,t=this.unobservedLighterBorderColor;return null!=w.current&&(e=w.current,null!=(n=this.lighterBorderColorAutoruns)||(n=w.getAutorunArray(),null!=(this.lighterBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lighterBorderColor:function(e){var n=this.unobservedLighterBorderColor;return n!=(this.unobservedLighterBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitLighterBorderColorChange(e,n),null!=(n=this.lighterBorderColorAutoruns))&&(this.lighterBorderColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateLighterBorderColor:function(){var e=this.unobservedLighterBorderColor,e=(this.emitLighterBorderColorChange(e,e),this.lighterBorderColorAutoruns);null!=e&&(this.lighterBorderColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedLighterBorderColor:null,__cbOnLighterBorderColorChange:null,__cbOnceLighterBorderColorChange:null,__cbOnOwnerUnbindLighterBorderColorChange:null,__cbOnceOwnerUnbindLighterBorderColorChange:null,emitLighterBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnLighterBorderColorChange&&(t+=this.__cbOnLighterBorderColorChange.length),null!=this.__cbOnceLighterBorderColorChange&&(t+=this.__cbOnceLighterBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLighterBorderColorChange)for(var r=0,h=this.__cbOnLighterBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLighterBorderColorChange[a],++s):--t}if(null!=this.__cbOnceLighterBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceLighterBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLighterBorderColorChange[a],this.__cbOnceLighterBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindLighterBorderColorChange[a],(this.__cbOnceOwnerUnbindLighterBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLighterBorderColorChange[a]),c.push(this.__cbOnceLighterBorderColorChange[a]))}this.__cbOnceOwnerUnbindLighterBorderColorChange=o,this.__cbOnceLighterBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLighterBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lighterBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLighterBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLighterBorderColorChange&&(this.__cbOnOwnerUnbindLighterBorderColorChange=[]),this.__cbOnOwnerUnbindLighterBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLighterBorderColorChange&&(this.__cbOnOwnerUnbindLighterBorderColorChange=[]),this.__cbOnOwnerUnbindLighterBorderColorChange.push(null);null==this.__cbOnLighterBorderColorChange&&(this.__cbOnLighterBorderColorChange=[]),this.__cbOnLighterBorderColorChange.push(t)},onceLighterBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lighterBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLighterBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLighterBorderColorChange&&(this.__cbOnceOwnerUnbindLighterBorderColorChange=[]),this.__cbOnceOwnerUnbindLighterBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLighterBorderColorChange&&(this.__cbOnceOwnerUnbindLighterBorderColorChange=[]),this.__cbOnceOwnerUnbindLighterBorderColorChange.push(null);null==this.__cbOnceLighterBorderColorChange&&(this.__cbOnceLighterBorderColorChange=[]),this.__cbOnceLighterBorderColorChange.push(t)},offLighterBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnLighterBorderColorChange&&-1!=(n=this.__cbOnLighterBorderColorChange.indexOf(e))&&(this.__cbOnLighterBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLighterBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindLighterBorderColorChange.splice(n,1)),null!=this.__cbOnceLighterBorderColorChange&&-1!=(n=this.__cbOnceLighterBorderColorChange.indexOf(e))&&(this.__cbOnceLighterBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLighterBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindLighterBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLighterBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindLighterBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLighterBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindLighterBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindLighterBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindLighterBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLighterBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindLighterBorderColorChange=null}this.__cbOnLighterBorderColorChange=null,this.__cbOnceLighterBorderColorChange=null}},listensLighterBorderColorChange:function(){return null!=this.__cbOnLighterBorderColorChange&&0<this.__cbOnLighterBorderColorChange.length||null!=this.__cbOnceLighterBorderColorChange&&0<this.__cbOnceLighterBorderColorChange.length},lightBorderColorAutoruns:null,get_lightBorderColor:function(){var e,n,t=this.unobservedLightBorderColor;return null!=w.current&&(e=w.current,null!=(n=this.lightBorderColorAutoruns)||(n=w.getAutorunArray(),null!=(this.lightBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lightBorderColor:function(e){var n=this.unobservedLightBorderColor;return n!=(this.unobservedLightBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitLightBorderColorChange(e,n),null!=(n=this.lightBorderColorAutoruns))&&(this.lightBorderColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateLightBorderColor:function(){var e=this.unobservedLightBorderColor,e=(this.emitLightBorderColorChange(e,e),this.lightBorderColorAutoruns);null!=e&&(this.lightBorderColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedLightBorderColor:null,__cbOnLightBorderColorChange:null,__cbOnceLightBorderColorChange:null,__cbOnOwnerUnbindLightBorderColorChange:null,__cbOnceOwnerUnbindLightBorderColorChange:null,emitLightBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnLightBorderColorChange&&(t+=this.__cbOnLightBorderColorChange.length),null!=this.__cbOnceLightBorderColorChange&&(t+=this.__cbOnceLightBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLightBorderColorChange)for(var r=0,h=this.__cbOnLightBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLightBorderColorChange[a],++s):--t}if(null!=this.__cbOnceLightBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceLightBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLightBorderColorChange[a],this.__cbOnceLightBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindLightBorderColorChange[a],(this.__cbOnceOwnerUnbindLightBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLightBorderColorChange[a]),c.push(this.__cbOnceLightBorderColorChange[a]))}this.__cbOnceOwnerUnbindLightBorderColorChange=o,this.__cbOnceLightBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLightBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lightBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLightBorderColorChange&&(this.__cbOnOwnerUnbindLightBorderColorChange=[]),this.__cbOnOwnerUnbindLightBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLightBorderColorChange&&(this.__cbOnOwnerUnbindLightBorderColorChange=[]),this.__cbOnOwnerUnbindLightBorderColorChange.push(null);null==this.__cbOnLightBorderColorChange&&(this.__cbOnLightBorderColorChange=[]),this.__cbOnLightBorderColorChange.push(t)},onceLightBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lightBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLightBorderColorChange&&(this.__cbOnceOwnerUnbindLightBorderColorChange=[]),this.__cbOnceOwnerUnbindLightBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLightBorderColorChange&&(this.__cbOnceOwnerUnbindLightBorderColorChange=[]),this.__cbOnceOwnerUnbindLightBorderColorChange.push(null);null==this.__cbOnceLightBorderColorChange&&(this.__cbOnceLightBorderColorChange=[]),this.__cbOnceLightBorderColorChange.push(t)},offLightBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnLightBorderColorChange&&-1!=(n=this.__cbOnLightBorderColorChange.indexOf(e))&&(this.__cbOnLightBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLightBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindLightBorderColorChange.splice(n,1)),null!=this.__cbOnceLightBorderColorChange&&-1!=(n=this.__cbOnceLightBorderColorChange.indexOf(e))&&(this.__cbOnceLightBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLightBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindLightBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLightBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindLightBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLightBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindLightBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindLightBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindLightBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLightBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindLightBorderColorChange=null}this.__cbOnLightBorderColorChange=null,this.__cbOnceLightBorderColorChange=null}},listensLightBorderColorChange:function(){return null!=this.__cbOnLightBorderColorChange&&0<this.__cbOnLightBorderColorChange.length||null!=this.__cbOnceLightBorderColorChange&&0<this.__cbOnceLightBorderColorChange.length},mediumBorderColorAutoruns:null,get_mediumBorderColor:function(){var e,n,t=this.unobservedMediumBorderColor;return null!=w.current&&(e=w.current,null!=(n=this.mediumBorderColorAutoruns)||(n=w.getAutorunArray(),null!=(this.mediumBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_mediumBorderColor:function(e){var n=this.unobservedMediumBorderColor;return n!=(this.unobservedMediumBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitMediumBorderColorChange(e,n),null!=(n=this.mediumBorderColorAutoruns))&&(this.mediumBorderColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateMediumBorderColor:function(){var e=this.unobservedMediumBorderColor,e=(this.emitMediumBorderColorChange(e,e),this.mediumBorderColorAutoruns);null!=e&&(this.mediumBorderColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedMediumBorderColor:null,__cbOnMediumBorderColorChange:null,__cbOnceMediumBorderColorChange:null,__cbOnOwnerUnbindMediumBorderColorChange:null,__cbOnceOwnerUnbindMediumBorderColorChange:null,emitMediumBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnMediumBorderColorChange&&(t+=this.__cbOnMediumBorderColorChange.length),null!=this.__cbOnceMediumBorderColorChange&&(t+=this.__cbOnceMediumBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMediumBorderColorChange)for(var r=0,h=this.__cbOnMediumBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMediumBorderColorChange[a],++s):--t}if(null!=this.__cbOnceMediumBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceMediumBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMediumBorderColorChange[a],this.__cbOnceMediumBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindMediumBorderColorChange[a],(this.__cbOnceOwnerUnbindMediumBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMediumBorderColorChange[a]),c.push(this.__cbOnceMediumBorderColorChange[a]))}this.__cbOnceOwnerUnbindMediumBorderColorChange=o,this.__cbOnceMediumBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMediumBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mediumBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMediumBorderColorChange&&(this.__cbOnOwnerUnbindMediumBorderColorChange=[]),this.__cbOnOwnerUnbindMediumBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMediumBorderColorChange&&(this.__cbOnOwnerUnbindMediumBorderColorChange=[]),this.__cbOnOwnerUnbindMediumBorderColorChange.push(null);null==this.__cbOnMediumBorderColorChange&&(this.__cbOnMediumBorderColorChange=[]),this.__cbOnMediumBorderColorChange.push(t)},onceMediumBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mediumBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMediumBorderColorChange&&(this.__cbOnceOwnerUnbindMediumBorderColorChange=[]),this.__cbOnceOwnerUnbindMediumBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMediumBorderColorChange&&(this.__cbOnceOwnerUnbindMediumBorderColorChange=[]),this.__cbOnceOwnerUnbindMediumBorderColorChange.push(null);null==this.__cbOnceMediumBorderColorChange&&(this.__cbOnceMediumBorderColorChange=[]),this.__cbOnceMediumBorderColorChange.push(t)},offMediumBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnMediumBorderColorChange&&-1!=(n=this.__cbOnMediumBorderColorChange.indexOf(e))&&(this.__cbOnMediumBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMediumBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindMediumBorderColorChange.splice(n,1)),null!=this.__cbOnceMediumBorderColorChange&&-1!=(n=this.__cbOnceMediumBorderColorChange.indexOf(e))&&(this.__cbOnceMediumBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMediumBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindMediumBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMediumBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindMediumBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMediumBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindMediumBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindMediumBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindMediumBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMediumBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindMediumBorderColorChange=null}this.__cbOnMediumBorderColorChange=null,this.__cbOnceMediumBorderColorChange=null}},listensMediumBorderColorChange:function(){return null!=this.__cbOnMediumBorderColorChange&&0<this.__cbOnMediumBorderColorChange.length||null!=this.__cbOnceMediumBorderColorChange&&0<this.__cbOnceMediumBorderColorChange.length},darkBorderColorAutoruns:null,get_darkBorderColor:function(){var e,n,t=this.unobservedDarkBorderColor;return null!=w.current&&(e=w.current,null!=(n=this.darkBorderColorAutoruns)||(n=w.getAutorunArray(),null!=(this.darkBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkBorderColor:function(e){var n=this.unobservedDarkBorderColor;return n!=(this.unobservedDarkBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkBorderColorChange(e,n),null!=(n=this.darkBorderColorAutoruns))&&(this.darkBorderColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDarkBorderColor:function(){var e=this.unobservedDarkBorderColor,e=(this.emitDarkBorderColorChange(e,e),this.darkBorderColorAutoruns);null!=e&&(this.darkBorderColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedDarkBorderColor:null,__cbOnDarkBorderColorChange:null,__cbOnceDarkBorderColorChange:null,__cbOnOwnerUnbindDarkBorderColorChange:null,__cbOnceOwnerUnbindDarkBorderColorChange:null,emitDarkBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkBorderColorChange&&(t+=this.__cbOnDarkBorderColorChange.length),null!=this.__cbOnceDarkBorderColorChange&&(t+=this.__cbOnceDarkBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDarkBorderColorChange)for(var r=0,h=this.__cbOnDarkBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDarkBorderColorChange[a],++s):--t}if(null!=this.__cbOnceDarkBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceDarkBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDarkBorderColorChange[a],this.__cbOnceDarkBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkBorderColorChange[a],(this.__cbOnceOwnerUnbindDarkBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkBorderColorChange[a]),c.push(this.__cbOnceDarkBorderColorChange[a]))}this.__cbOnceOwnerUnbindDarkBorderColorChange=o,this.__cbOnceDarkBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDarkBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event darkBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkBorderColorChange&&(this.__cbOnOwnerUnbindDarkBorderColorChange=[]),this.__cbOnOwnerUnbindDarkBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkBorderColorChange&&(this.__cbOnOwnerUnbindDarkBorderColorChange=[]),this.__cbOnOwnerUnbindDarkBorderColorChange.push(null);null==this.__cbOnDarkBorderColorChange&&(this.__cbOnDarkBorderColorChange=[]),this.__cbOnDarkBorderColorChange.push(t)},onceDarkBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event darkBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkBorderColorChange&&(this.__cbOnceOwnerUnbindDarkBorderColorChange=[]),this.__cbOnceOwnerUnbindDarkBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkBorderColorChange&&(this.__cbOnceOwnerUnbindDarkBorderColorChange=[]),this.__cbOnceOwnerUnbindDarkBorderColorChange.push(null);null==this.__cbOnceDarkBorderColorChange&&(this.__cbOnceDarkBorderColorChange=[]),this.__cbOnceDarkBorderColorChange.push(t)},offDarkBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkBorderColorChange&&-1!=(n=this.__cbOnDarkBorderColorChange.indexOf(e))&&(this.__cbOnDarkBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDarkBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindDarkBorderColorChange.splice(n,1)),null!=this.__cbOnceDarkBorderColorChange&&-1!=(n=this.__cbOnceDarkBorderColorChange.indexOf(e))&&(this.__cbOnceDarkBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDarkBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindDarkBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDarkBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindDarkBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDarkBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindDarkBorderColorChange=null}this.__cbOnDarkBorderColorChange=null,this.__cbOnceDarkBorderColorChange=null}},listensDarkBorderColorChange:function(){return null!=this.__cbOnDarkBorderColorChange&&0<this.__cbOnDarkBorderColorChange.length||null!=this.__cbOnceDarkBorderColorChange&&0<this.__cbOnceDarkBorderColorChange.length},lightBackgroundColorAutoruns:null,get_lightBackgroundColor:function(){var e,n,t=this.unobservedLightBackgroundColor;return null!=w.current&&(e=w.current,null!=(n=this.lightBackgroundColorAutoruns)||(n=w.getAutorunArray(),null!=(this.lightBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_lightBackgroundColor:function(e){var n=this.unobservedLightBackgroundColor;return n!=(this.unobservedLightBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitLightBackgroundColorChange(e,n),null!=(n=this.lightBackgroundColorAutoruns))&&(this.lightBackgroundColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateLightBackgroundColor:function(){var e=this.unobservedLightBackgroundColor,e=(this.emitLightBackgroundColorChange(e,e),this.lightBackgroundColorAutoruns);null!=e&&(this.lightBackgroundColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedLightBackgroundColor:null,__cbOnLightBackgroundColorChange:null,__cbOnceLightBackgroundColorChange:null,__cbOnOwnerUnbindLightBackgroundColorChange:null,__cbOnceOwnerUnbindLightBackgroundColorChange:null,emitLightBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnLightBackgroundColorChange&&(t+=this.__cbOnLightBackgroundColorChange.length),null!=this.__cbOnceLightBackgroundColorChange&&(t+=this.__cbOnceLightBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnLightBackgroundColorChange)for(var r=0,h=this.__cbOnLightBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnLightBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceLightBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceLightBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceLightBackgroundColorChange[a],this.__cbOnceLightBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindLightBackgroundColorChange[a],(this.__cbOnceOwnerUnbindLightBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindLightBackgroundColorChange[a]),c.push(this.__cbOnceLightBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindLightBackgroundColorChange=o,this.__cbOnceLightBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onLightBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lightBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindLightBackgroundColorChange&&(this.__cbOnOwnerUnbindLightBackgroundColorChange=[]),this.__cbOnOwnerUnbindLightBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindLightBackgroundColorChange&&(this.__cbOnOwnerUnbindLightBackgroundColorChange=[]),this.__cbOnOwnerUnbindLightBackgroundColorChange.push(null);null==this.__cbOnLightBackgroundColorChange&&(this.__cbOnLightBackgroundColorChange=[]),this.__cbOnLightBackgroundColorChange.push(t)},onceLightBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event lightBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offLightBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindLightBackgroundColorChange&&(this.__cbOnceOwnerUnbindLightBackgroundColorChange=[]),this.__cbOnceOwnerUnbindLightBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindLightBackgroundColorChange&&(this.__cbOnceOwnerUnbindLightBackgroundColorChange=[]),this.__cbOnceOwnerUnbindLightBackgroundColorChange.push(null);null==this.__cbOnceLightBackgroundColorChange&&(this.__cbOnceLightBackgroundColorChange=[]),this.__cbOnceLightBackgroundColorChange.push(t)},offLightBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnLightBackgroundColorChange&&-1!=(n=this.__cbOnLightBackgroundColorChange.indexOf(e))&&(this.__cbOnLightBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindLightBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindLightBackgroundColorChange.splice(n,1)),null!=this.__cbOnceLightBackgroundColorChange&&-1!=(n=this.__cbOnceLightBackgroundColorChange.indexOf(e))&&(this.__cbOnceLightBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindLightBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindLightBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLightBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindLightBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindLightBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindLightBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindLightBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindLightBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindLightBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindLightBackgroundColorChange=null}this.__cbOnLightBackgroundColorChange=null,this.__cbOnceLightBackgroundColorChange=null}},listensLightBackgroundColorChange:function(){return null!=this.__cbOnLightBackgroundColorChange&&0<this.__cbOnLightBackgroundColorChange.length||null!=this.__cbOnceLightBackgroundColorChange&&0<this.__cbOnceLightBackgroundColorChange.length},mediumBackgroundColorAutoruns:null,get_mediumBackgroundColor:function(){var e,n,t=this.unobservedMediumBackgroundColor;return null!=w.current&&(e=w.current,null!=(n=this.mediumBackgroundColorAutoruns)||(n=w.getAutorunArray(),null!=(this.mediumBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_mediumBackgroundColor:function(e){var n=this.unobservedMediumBackgroundColor;return n!=(this.unobservedMediumBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitMediumBackgroundColorChange(e,n),null!=(n=this.mediumBackgroundColorAutoruns))&&(this.mediumBackgroundColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateMediumBackgroundColor:function(){var e=this.unobservedMediumBackgroundColor,e=(this.emitMediumBackgroundColorChange(e,e),this.mediumBackgroundColorAutoruns);null!=e&&(this.mediumBackgroundColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedMediumBackgroundColor:null,__cbOnMediumBackgroundColorChange:null,__cbOnceMediumBackgroundColorChange:null,__cbOnOwnerUnbindMediumBackgroundColorChange:null,__cbOnceOwnerUnbindMediumBackgroundColorChange:null,emitMediumBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnMediumBackgroundColorChange&&(t+=this.__cbOnMediumBackgroundColorChange.length),null!=this.__cbOnceMediumBackgroundColorChange&&(t+=this.__cbOnceMediumBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnMediumBackgroundColorChange)for(var r=0,h=this.__cbOnMediumBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnMediumBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceMediumBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceMediumBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceMediumBackgroundColorChange[a],this.__cbOnceMediumBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindMediumBackgroundColorChange[a],(this.__cbOnceOwnerUnbindMediumBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindMediumBackgroundColorChange[a]),c.push(this.__cbOnceMediumBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindMediumBackgroundColorChange=o,this.__cbOnceMediumBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onMediumBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mediumBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindMediumBackgroundColorChange&&(this.__cbOnOwnerUnbindMediumBackgroundColorChange=[]),this.__cbOnOwnerUnbindMediumBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindMediumBackgroundColorChange&&(this.__cbOnOwnerUnbindMediumBackgroundColorChange=[]),this.__cbOnOwnerUnbindMediumBackgroundColorChange.push(null);null==this.__cbOnMediumBackgroundColorChange&&(this.__cbOnMediumBackgroundColorChange=[]),this.__cbOnMediumBackgroundColorChange.push(t)},onceMediumBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event mediumBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offMediumBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindMediumBackgroundColorChange&&(this.__cbOnceOwnerUnbindMediumBackgroundColorChange=[]),this.__cbOnceOwnerUnbindMediumBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindMediumBackgroundColorChange&&(this.__cbOnceOwnerUnbindMediumBackgroundColorChange=[]),this.__cbOnceOwnerUnbindMediumBackgroundColorChange.push(null);null==this.__cbOnceMediumBackgroundColorChange&&(this.__cbOnceMediumBackgroundColorChange=[]),this.__cbOnceMediumBackgroundColorChange.push(t)},offMediumBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnMediumBackgroundColorChange&&-1!=(n=this.__cbOnMediumBackgroundColorChange.indexOf(e))&&(this.__cbOnMediumBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindMediumBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindMediumBackgroundColorChange.splice(n,1)),null!=this.__cbOnceMediumBackgroundColorChange&&-1!=(n=this.__cbOnceMediumBackgroundColorChange.indexOf(e))&&(this.__cbOnceMediumBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindMediumBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindMediumBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMediumBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindMediumBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindMediumBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindMediumBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindMediumBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindMediumBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindMediumBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindMediumBackgroundColorChange=null}this.__cbOnMediumBackgroundColorChange=null,this.__cbOnceMediumBackgroundColorChange=null}},listensMediumBackgroundColorChange:function(){return null!=this.__cbOnMediumBackgroundColorChange&&0<this.__cbOnMediumBackgroundColorChange.length||null!=this.__cbOnceMediumBackgroundColorChange&&0<this.__cbOnceMediumBackgroundColorChange.length},darkBackgroundColorAutoruns:null,get_darkBackgroundColor:function(){var e,n,t=this.unobservedDarkBackgroundColor;return null!=w.current&&(e=w.current,null!=(n=this.darkBackgroundColorAutoruns)||(n=w.getAutorunArray(),null!=(this.darkBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkBackgroundColor:function(e){var n=this.unobservedDarkBackgroundColor;return n!=(this.unobservedDarkBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkBackgroundColorChange(e,n),null!=(n=this.darkBackgroundColorAutoruns))&&(this.darkBackgroundColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDarkBackgroundColor:function(){var e=this.unobservedDarkBackgroundColor,e=(this.emitDarkBackgroundColorChange(e,e),this.darkBackgroundColorAutoruns);null!=e&&(this.darkBackgroundColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedDarkBackgroundColor:null,__cbOnDarkBackgroundColorChange:null,__cbOnceDarkBackgroundColorChange:null,__cbOnOwnerUnbindDarkBackgroundColorChange:null,__cbOnceOwnerUnbindDarkBackgroundColorChange:null,emitDarkBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkBackgroundColorChange&&(t+=this.__cbOnDarkBackgroundColorChange.length),null!=this.__cbOnceDarkBackgroundColorChange&&(t+=this.__cbOnceDarkBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDarkBackgroundColorChange)for(var r=0,h=this.__cbOnDarkBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDarkBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceDarkBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceDarkBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDarkBackgroundColorChange[a],this.__cbOnceDarkBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkBackgroundColorChange[a],(this.__cbOnceOwnerUnbindDarkBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkBackgroundColorChange[a]),c.push(this.__cbOnceDarkBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindDarkBackgroundColorChange=o,this.__cbOnceDarkBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDarkBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event darkBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkBackgroundColorChange&&(this.__cbOnOwnerUnbindDarkBackgroundColorChange=[]),this.__cbOnOwnerUnbindDarkBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkBackgroundColorChange&&(this.__cbOnOwnerUnbindDarkBackgroundColorChange=[]),this.__cbOnOwnerUnbindDarkBackgroundColorChange.push(null);null==this.__cbOnDarkBackgroundColorChange&&(this.__cbOnDarkBackgroundColorChange=[]),this.__cbOnDarkBackgroundColorChange.push(t)},onceDarkBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event darkBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkBackgroundColorChange&&(this.__cbOnceOwnerUnbindDarkBackgroundColorChange=[]),this.__cbOnceOwnerUnbindDarkBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkBackgroundColorChange&&(this.__cbOnceOwnerUnbindDarkBackgroundColorChange=[]),this.__cbOnceOwnerUnbindDarkBackgroundColorChange.push(null);null==this.__cbOnceDarkBackgroundColorChange&&(this.__cbOnceDarkBackgroundColorChange=[]),this.__cbOnceDarkBackgroundColorChange.push(t)},offDarkBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkBackgroundColorChange&&-1!=(n=this.__cbOnDarkBackgroundColorChange.indexOf(e))&&(this.__cbOnDarkBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDarkBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindDarkBackgroundColorChange.splice(n,1)),null!=this.__cbOnceDarkBackgroundColorChange&&-1!=(n=this.__cbOnceDarkBackgroundColorChange.indexOf(e))&&(this.__cbOnceDarkBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDarkBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindDarkBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDarkBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindDarkBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDarkBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindDarkBackgroundColorChange=null}this.__cbOnDarkBackgroundColorChange=null,this.__cbOnceDarkBackgroundColorChange=null}},listensDarkBackgroundColorChange:function(){return null!=this.__cbOnDarkBackgroundColorChange&&0<this.__cbOnDarkBackgroundColorChange.length||null!=this.__cbOnceDarkBackgroundColorChange&&0<this.__cbOnceDarkBackgroundColorChange.length},darkerBackgroundColorAutoruns:null,get_darkerBackgroundColor:function(){var e,n,t=this.unobservedDarkerBackgroundColor;return null!=w.current&&(e=w.current,null!=(n=this.darkerBackgroundColorAutoruns)||(n=w.getAutorunArray(),null!=(this.darkerBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_darkerBackgroundColor:function(e){var n=this.unobservedDarkerBackgroundColor;return n!=(this.unobservedDarkerBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDarkerBackgroundColorChange(e,n),null!=(n=this.darkerBackgroundColorAutoruns))&&(this.darkerBackgroundColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDarkerBackgroundColor:function(){var e=this.unobservedDarkerBackgroundColor,e=(this.emitDarkerBackgroundColorChange(e,e),this.darkerBackgroundColorAutoruns);null!=e&&(this.darkerBackgroundColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedDarkerBackgroundColor:null,__cbOnDarkerBackgroundColorChange:null,__cbOnceDarkerBackgroundColorChange:null,__cbOnOwnerUnbindDarkerBackgroundColorChange:null,__cbOnceOwnerUnbindDarkerBackgroundColorChange:null,emitDarkerBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnDarkerBackgroundColorChange&&(t+=this.__cbOnDarkerBackgroundColorChange.length),null!=this.__cbOnceDarkerBackgroundColorChange&&(t+=this.__cbOnceDarkerBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDarkerBackgroundColorChange)for(var r=0,h=this.__cbOnDarkerBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDarkerBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceDarkerBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceDarkerBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDarkerBackgroundColorChange[a],this.__cbOnceDarkerBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[a],(this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[a]),c.push(this.__cbOnceDarkerBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindDarkerBackgroundColorChange=o,this.__cbOnceDarkerBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDarkerBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event darkerBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkerBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDarkerBackgroundColorChange&&(this.__cbOnOwnerUnbindDarkerBackgroundColorChange=[]),this.__cbOnOwnerUnbindDarkerBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDarkerBackgroundColorChange&&(this.__cbOnOwnerUnbindDarkerBackgroundColorChange=[]),this.__cbOnOwnerUnbindDarkerBackgroundColorChange.push(null);null==this.__cbOnDarkerBackgroundColorChange&&(this.__cbOnDarkerBackgroundColorChange=[]),this.__cbOnDarkerBackgroundColorChange.push(t)},onceDarkerBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event darkerBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDarkerBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDarkerBackgroundColorChange&&(this.__cbOnceOwnerUnbindDarkerBackgroundColorChange=[]),this.__cbOnceOwnerUnbindDarkerBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDarkerBackgroundColorChange&&(this.__cbOnceOwnerUnbindDarkerBackgroundColorChange=[]),this.__cbOnceOwnerUnbindDarkerBackgroundColorChange.push(null);null==this.__cbOnceDarkerBackgroundColorChange&&(this.__cbOnceDarkerBackgroundColorChange=[]),this.__cbOnceDarkerBackgroundColorChange.push(t)},offDarkerBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnDarkerBackgroundColorChange&&-1!=(n=this.__cbOnDarkerBackgroundColorChange.indexOf(e))&&(this.__cbOnDarkerBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDarkerBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindDarkerBackgroundColorChange.splice(n,1)),null!=this.__cbOnceDarkerBackgroundColorChange&&-1!=(n=this.__cbOnceDarkerBackgroundColorChange.indexOf(e))&&(this.__cbOnceDarkerBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindDarkerBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDarkerBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindDarkerBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDarkerBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindDarkerBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDarkerBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindDarkerBackgroundColorChange=null}this.__cbOnDarkerBackgroundColorChange=null,this.__cbOnceDarkerBackgroundColorChange=null}},listensDarkerBackgroundColorChange:function(){return null!=this.__cbOnDarkerBackgroundColorChange&&0<this.__cbOnDarkerBackgroundColorChange.length||null!=this.__cbOnceDarkerBackgroundColorChange&&0<this.__cbOnceDarkerBackgroundColorChange.length},selectionBorderColorAutoruns:null,get_selectionBorderColor:function(){var e,n,t=this.unobservedSelectionBorderColor;return null!=w.current&&(e=w.current,null!=(n=this.selectionBorderColorAutoruns)||(n=w.getAutorunArray(),null!=(this.selectionBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_selectionBorderColor:function(e){var n=this.unobservedSelectionBorderColor;return n!=(this.unobservedSelectionBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitSelectionBorderColorChange(e,n),null!=(n=this.selectionBorderColorAutoruns))&&(this.selectionBorderColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateSelectionBorderColor:function(){var e=this.unobservedSelectionBorderColor,e=(this.emitSelectionBorderColorChange(e,e),this.selectionBorderColorAutoruns);null!=e&&(this.selectionBorderColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedSelectionBorderColor:null,__cbOnSelectionBorderColorChange:null,__cbOnceSelectionBorderColorChange:null,__cbOnOwnerUnbindSelectionBorderColorChange:null,__cbOnceOwnerUnbindSelectionBorderColorChange:null,emitSelectionBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnSelectionBorderColorChange&&(t+=this.__cbOnSelectionBorderColorChange.length),null!=this.__cbOnceSelectionBorderColorChange&&(t+=this.__cbOnceSelectionBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnSelectionBorderColorChange)for(var r=0,h=this.__cbOnSelectionBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnSelectionBorderColorChange[a],++s):--t}if(null!=this.__cbOnceSelectionBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceSelectionBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceSelectionBorderColorChange[a],this.__cbOnceSelectionBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindSelectionBorderColorChange[a],(this.__cbOnceOwnerUnbindSelectionBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindSelectionBorderColorChange[a]),c.push(this.__cbOnceSelectionBorderColorChange[a]))}this.__cbOnceOwnerUnbindSelectionBorderColorChange=o,this.__cbOnceSelectionBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onSelectionBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selectionBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindSelectionBorderColorChange&&(this.__cbOnOwnerUnbindSelectionBorderColorChange=[]),this.__cbOnOwnerUnbindSelectionBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindSelectionBorderColorChange&&(this.__cbOnOwnerUnbindSelectionBorderColorChange=[]),this.__cbOnOwnerUnbindSelectionBorderColorChange.push(null);null==this.__cbOnSelectionBorderColorChange&&(this.__cbOnSelectionBorderColorChange=[]),this.__cbOnSelectionBorderColorChange.push(t)},onceSelectionBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event selectionBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offSelectionBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindSelectionBorderColorChange&&(this.__cbOnceOwnerUnbindSelectionBorderColorChange=[]),this.__cbOnceOwnerUnbindSelectionBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindSelectionBorderColorChange&&(this.__cbOnceOwnerUnbindSelectionBorderColorChange=[]),this.__cbOnceOwnerUnbindSelectionBorderColorChange.push(null);null==this.__cbOnceSelectionBorderColorChange&&(this.__cbOnceSelectionBorderColorChange=[]),this.__cbOnceSelectionBorderColorChange.push(t)},offSelectionBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnSelectionBorderColorChange&&-1!=(n=this.__cbOnSelectionBorderColorChange.indexOf(e))&&(this.__cbOnSelectionBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindSelectionBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindSelectionBorderColorChange.splice(n,1)),null!=this.__cbOnceSelectionBorderColorChange&&-1!=(n=this.__cbOnceSelectionBorderColorChange.indexOf(e))&&(this.__cbOnceSelectionBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindSelectionBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindSelectionBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelectionBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindSelectionBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindSelectionBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindSelectionBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindSelectionBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindSelectionBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindSelectionBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindSelectionBorderColorChange=null}this.__cbOnSelectionBorderColorChange=null,this.__cbOnceSelectionBorderColorChange=null}},listensSelectionBorderColorChange:function(){return null!=this.__cbOnSelectionBorderColorChange&&0<this.__cbOnSelectionBorderColorChange.length||null!=this.__cbOnceSelectionBorderColorChange&&0<this.__cbOnceSelectionBorderColorChange.length},highlightColorAutoruns:null,get_highlightColor:function(){var e,n,t=this.unobservedHighlightColor;return null!=w.current&&(e=w.current,null!=(n=this.highlightColorAutoruns)||(n=w.getAutorunArray(),null!=(this.highlightColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_highlightColor:function(e){var n=this.unobservedHighlightColor;return n!=(this.unobservedHighlightColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHighlightColorChange(e,n),null!=(n=this.highlightColorAutoruns))&&(this.highlightColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateHighlightColor:function(){var e=this.unobservedHighlightColor,e=(this.emitHighlightColorChange(e,e),this.highlightColorAutoruns);null!=e&&(this.highlightColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedHighlightColor:null,__cbOnHighlightColorChange:null,__cbOnceHighlightColorChange:null,__cbOnOwnerUnbindHighlightColorChange:null,__cbOnceOwnerUnbindHighlightColorChange:null,emitHighlightColorChange:function(e,n){var t=0;if(null!=this.__cbOnHighlightColorChange&&(t+=this.__cbOnHighlightColorChange.length),null!=this.__cbOnceHighlightColorChange&&(t+=this.__cbOnceHighlightColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHighlightColorChange)for(var r=0,h=this.__cbOnHighlightColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHighlightColorChange[a],++s):--t}if(null!=this.__cbOnceHighlightColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceHighlightColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHighlightColorChange[a],this.__cbOnceHighlightColorChange[a]=null,u=this.__cbOnceOwnerUnbindHighlightColorChange[a],(this.__cbOnceOwnerUnbindHighlightColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHighlightColorChange[a]),c.push(this.__cbOnceHighlightColorChange[a]))}this.__cbOnceOwnerUnbindHighlightColorChange=o,this.__cbOnceHighlightColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHighlightColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event highlightColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHighlightColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHighlightColorChange&&(this.__cbOnOwnerUnbindHighlightColorChange=[]),this.__cbOnOwnerUnbindHighlightColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHighlightColorChange&&(this.__cbOnOwnerUnbindHighlightColorChange=[]),this.__cbOnOwnerUnbindHighlightColorChange.push(null);null==this.__cbOnHighlightColorChange&&(this.__cbOnHighlightColorChange=[]),this.__cbOnHighlightColorChange.push(t)},onceHighlightColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event highlightColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHighlightColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHighlightColorChange&&(this.__cbOnceOwnerUnbindHighlightColorChange=[]),this.__cbOnceOwnerUnbindHighlightColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHighlightColorChange&&(this.__cbOnceOwnerUnbindHighlightColorChange=[]),this.__cbOnceOwnerUnbindHighlightColorChange.push(null);null==this.__cbOnceHighlightColorChange&&(this.__cbOnceHighlightColorChange=[]),this.__cbOnceHighlightColorChange.push(t)},offHighlightColorChange:function(e){if(null!=e){var n;null!=this.__cbOnHighlightColorChange&&-1!=(n=this.__cbOnHighlightColorChange.indexOf(e))&&(this.__cbOnHighlightColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHighlightColorChange[n])&&s(),this.__cbOnOwnerUnbindHighlightColorChange.splice(n,1)),null!=this.__cbOnceHighlightColorChange&&-1!=(n=this.__cbOnceHighlightColorChange.indexOf(e))&&(this.__cbOnceHighlightColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHighlightColorChange[n])&&s(),this.__cbOnceOwnerUnbindHighlightColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHighlightColorChange){for(var t=0,i=this.__cbOnOwnerUnbindHighlightColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHighlightColorChange[l])&&s()}this.__cbOnOwnerUnbindHighlightColorChange=null}if(null!=this.__cbOnceOwnerUnbindHighlightColorChange){for(t=0,i=this.__cbOnceOwnerUnbindHighlightColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHighlightColorChange[l])&&s()}this.__cbOnceOwnerUnbindHighlightColorChange=null}this.__cbOnHighlightColorChange=null,this.__cbOnceHighlightColorChange=null}},listensHighlightColorChange:function(){return null!=this.__cbOnHighlightColorChange&&0<this.__cbOnHighlightColorChange.length||null!=this.__cbOnceHighlightColorChange&&0<this.__cbOnceHighlightColorChange.length},highlightPendingColorAutoruns:null,get_highlightPendingColor:function(){var e,n,t=this.unobservedHighlightPendingColor;return null!=w.current&&(e=w.current,null!=(n=this.highlightPendingColorAutoruns)||(n=w.getAutorunArray(),null!=(this.highlightPendingColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_highlightPendingColor:function(e){var n=this.unobservedHighlightPendingColor;return n!=(this.unobservedHighlightPendingColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHighlightPendingColorChange(e,n),null!=(n=this.highlightPendingColorAutoruns))&&(this.highlightPendingColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateHighlightPendingColor:function(){var e=this.unobservedHighlightPendingColor,e=(this.emitHighlightPendingColorChange(e,e),this.highlightPendingColorAutoruns);null!=e&&(this.highlightPendingColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedHighlightPendingColor:null,__cbOnHighlightPendingColorChange:null,__cbOnceHighlightPendingColorChange:null,__cbOnOwnerUnbindHighlightPendingColorChange:null,__cbOnceOwnerUnbindHighlightPendingColorChange:null,emitHighlightPendingColorChange:function(e,n){var t=0;if(null!=this.__cbOnHighlightPendingColorChange&&(t+=this.__cbOnHighlightPendingColorChange.length),null!=this.__cbOnceHighlightPendingColorChange&&(t+=this.__cbOnceHighlightPendingColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHighlightPendingColorChange)for(var r=0,h=this.__cbOnHighlightPendingColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHighlightPendingColorChange[a],++s):--t}if(null!=this.__cbOnceHighlightPendingColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceHighlightPendingColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHighlightPendingColorChange[a],this.__cbOnceHighlightPendingColorChange[a]=null,u=this.__cbOnceOwnerUnbindHighlightPendingColorChange[a],(this.__cbOnceOwnerUnbindHighlightPendingColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHighlightPendingColorChange[a]),c.push(this.__cbOnceHighlightPendingColorChange[a]))}this.__cbOnceOwnerUnbindHighlightPendingColorChange=o,this.__cbOnceHighlightPendingColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHighlightPendingColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event highlightPendingColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHighlightPendingColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHighlightPendingColorChange&&(this.__cbOnOwnerUnbindHighlightPendingColorChange=[]),this.__cbOnOwnerUnbindHighlightPendingColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHighlightPendingColorChange&&(this.__cbOnOwnerUnbindHighlightPendingColorChange=[]),this.__cbOnOwnerUnbindHighlightPendingColorChange.push(null);null==this.__cbOnHighlightPendingColorChange&&(this.__cbOnHighlightPendingColorChange=[]),this.__cbOnHighlightPendingColorChange.push(t)},onceHighlightPendingColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event highlightPendingColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHighlightPendingColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHighlightPendingColorChange&&(this.__cbOnceOwnerUnbindHighlightPendingColorChange=[]),this.__cbOnceOwnerUnbindHighlightPendingColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHighlightPendingColorChange&&(this.__cbOnceOwnerUnbindHighlightPendingColorChange=[]),this.__cbOnceOwnerUnbindHighlightPendingColorChange.push(null);null==this.__cbOnceHighlightPendingColorChange&&(this.__cbOnceHighlightPendingColorChange=[]),this.__cbOnceHighlightPendingColorChange.push(t)},offHighlightPendingColorChange:function(e){if(null!=e){var n;null!=this.__cbOnHighlightPendingColorChange&&-1!=(n=this.__cbOnHighlightPendingColorChange.indexOf(e))&&(this.__cbOnHighlightPendingColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHighlightPendingColorChange[n])&&s(),this.__cbOnOwnerUnbindHighlightPendingColorChange.splice(n,1)),null!=this.__cbOnceHighlightPendingColorChange&&-1!=(n=this.__cbOnceHighlightPendingColorChange.indexOf(e))&&(this.__cbOnceHighlightPendingColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHighlightPendingColorChange[n])&&s(),this.__cbOnceOwnerUnbindHighlightPendingColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHighlightPendingColorChange){for(var t=0,i=this.__cbOnOwnerUnbindHighlightPendingColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHighlightPendingColorChange[l])&&s()}this.__cbOnOwnerUnbindHighlightPendingColorChange=null}if(null!=this.__cbOnceOwnerUnbindHighlightPendingColorChange){for(t=0,i=this.__cbOnceOwnerUnbindHighlightPendingColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHighlightPendingColorChange[l])&&s()}this.__cbOnceOwnerUnbindHighlightPendingColorChange=null}this.__cbOnHighlightPendingColorChange=null,this.__cbOnceHighlightPendingColorChange=null}},listensHighlightPendingColorChange:function(){return null!=this.__cbOnHighlightPendingColorChange&&0<this.__cbOnHighlightPendingColorChange.length||null!=this.__cbOnceHighlightPendingColorChange&&0<this.__cbOnceHighlightPendingColorChange.length},formItemSpacingAutoruns:null,get_formItemSpacing:function(){var e,n,t=this.unobservedFormItemSpacing;return null!=w.current&&(e=w.current,null!=(n=this.formItemSpacingAutoruns)||(n=w.getAutorunArray(),null!=(this.formItemSpacingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_formItemSpacing:function(e){var n=this.unobservedFormItemSpacing;return n!=(this.unobservedFormItemSpacing=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFormItemSpacingChange(e,n),null!=(n=this.formItemSpacingAutoruns))&&(this.formItemSpacingAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFormItemSpacing:function(){var e=this.unobservedFormItemSpacing,e=(this.emitFormItemSpacingChange(e,e),this.formItemSpacingAutoruns);null!=e&&(this.formItemSpacingAutoruns=null,w.invalidateAutorunArray(e))},unobservedFormItemSpacing:null,__cbOnFormItemSpacingChange:null,__cbOnceFormItemSpacingChange:null,__cbOnOwnerUnbindFormItemSpacingChange:null,__cbOnceOwnerUnbindFormItemSpacingChange:null,emitFormItemSpacingChange:function(e,n){var t=0;if(null!=this.__cbOnFormItemSpacingChange&&(t+=this.__cbOnFormItemSpacingChange.length),null!=this.__cbOnceFormItemSpacingChange&&(t+=this.__cbOnceFormItemSpacingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFormItemSpacingChange)for(var r=0,h=this.__cbOnFormItemSpacingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFormItemSpacingChange[a],++s):--t}if(null!=this.__cbOnceFormItemSpacingChange){for(var o=null,c=null,r=0,h=this.__cbOnceFormItemSpacingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFormItemSpacingChange[a],this.__cbOnceFormItemSpacingChange[a]=null,u=this.__cbOnceOwnerUnbindFormItemSpacingChange[a],(this.__cbOnceOwnerUnbindFormItemSpacingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFormItemSpacingChange[a]),c.push(this.__cbOnceFormItemSpacingChange[a]))}this.__cbOnceOwnerUnbindFormItemSpacingChange=o,this.__cbOnceFormItemSpacingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFormItemSpacingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event formItemSpacingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFormItemSpacingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFormItemSpacingChange&&(this.__cbOnOwnerUnbindFormItemSpacingChange=[]),this.__cbOnOwnerUnbindFormItemSpacingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFormItemSpacingChange&&(this.__cbOnOwnerUnbindFormItemSpacingChange=[]),this.__cbOnOwnerUnbindFormItemSpacingChange.push(null);null==this.__cbOnFormItemSpacingChange&&(this.__cbOnFormItemSpacingChange=[]),this.__cbOnFormItemSpacingChange.push(t)},onceFormItemSpacingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event formItemSpacingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFormItemSpacingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFormItemSpacingChange&&(this.__cbOnceOwnerUnbindFormItemSpacingChange=[]),this.__cbOnceOwnerUnbindFormItemSpacingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFormItemSpacingChange&&(this.__cbOnceOwnerUnbindFormItemSpacingChange=[]),this.__cbOnceOwnerUnbindFormItemSpacingChange.push(null);null==this.__cbOnceFormItemSpacingChange&&(this.__cbOnceFormItemSpacingChange=[]),this.__cbOnceFormItemSpacingChange.push(t)},offFormItemSpacingChange:function(e){if(null!=e){var n;null!=this.__cbOnFormItemSpacingChange&&-1!=(n=this.__cbOnFormItemSpacingChange.indexOf(e))&&(this.__cbOnFormItemSpacingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFormItemSpacingChange[n])&&s(),this.__cbOnOwnerUnbindFormItemSpacingChange.splice(n,1)),null!=this.__cbOnceFormItemSpacingChange&&-1!=(n=this.__cbOnceFormItemSpacingChange.indexOf(e))&&(this.__cbOnceFormItemSpacingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFormItemSpacingChange[n])&&s(),this.__cbOnceOwnerUnbindFormItemSpacingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFormItemSpacingChange){for(var t=0,i=this.__cbOnOwnerUnbindFormItemSpacingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFormItemSpacingChange[l])&&s()}this.__cbOnOwnerUnbindFormItemSpacingChange=null}if(null!=this.__cbOnceOwnerUnbindFormItemSpacingChange){for(t=0,i=this.__cbOnceOwnerUnbindFormItemSpacingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFormItemSpacingChange[l])&&s()}this.__cbOnceOwnerUnbindFormItemSpacingChange=null}this.__cbOnFormItemSpacingChange=null,this.__cbOnceFormItemSpacingChange=null}},listensFormItemSpacingChange:function(){return null!=this.__cbOnFormItemSpacingChange&&0<this.__cbOnFormItemSpacingChange.length||null!=this.__cbOnceFormItemSpacingChange&&0<this.__cbOnceFormItemSpacingChange.length},formPaddingAutoruns:null,get_formPadding:function(){var e,n,t=this.unobservedFormPadding;return null!=w.current&&(e=w.current,null!=(n=this.formPaddingAutoruns)||(n=w.getAutorunArray(),null!=(this.formPaddingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_formPadding:function(e){var n=this.unobservedFormPadding;return n!=(this.unobservedFormPadding=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFormPaddingChange(e,n),null!=(n=this.formPaddingAutoruns))&&(this.formPaddingAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFormPadding:function(){var e=this.unobservedFormPadding,e=(this.emitFormPaddingChange(e,e),this.formPaddingAutoruns);null!=e&&(this.formPaddingAutoruns=null,w.invalidateAutorunArray(e))},unobservedFormPadding:null,__cbOnFormPaddingChange:null,__cbOnceFormPaddingChange:null,__cbOnOwnerUnbindFormPaddingChange:null,__cbOnceOwnerUnbindFormPaddingChange:null,emitFormPaddingChange:function(e,n){var t=0;if(null!=this.__cbOnFormPaddingChange&&(t+=this.__cbOnFormPaddingChange.length),null!=this.__cbOnceFormPaddingChange&&(t+=this.__cbOnceFormPaddingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFormPaddingChange)for(var r=0,h=this.__cbOnFormPaddingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFormPaddingChange[a],++s):--t}if(null!=this.__cbOnceFormPaddingChange){for(var o=null,c=null,r=0,h=this.__cbOnceFormPaddingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFormPaddingChange[a],this.__cbOnceFormPaddingChange[a]=null,u=this.__cbOnceOwnerUnbindFormPaddingChange[a],(this.__cbOnceOwnerUnbindFormPaddingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFormPaddingChange[a]),c.push(this.__cbOnceFormPaddingChange[a]))}this.__cbOnceOwnerUnbindFormPaddingChange=o,this.__cbOnceFormPaddingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFormPaddingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event formPaddingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFormPaddingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFormPaddingChange&&(this.__cbOnOwnerUnbindFormPaddingChange=[]),this.__cbOnOwnerUnbindFormPaddingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFormPaddingChange&&(this.__cbOnOwnerUnbindFormPaddingChange=[]),this.__cbOnOwnerUnbindFormPaddingChange.push(null);null==this.__cbOnFormPaddingChange&&(this.__cbOnFormPaddingChange=[]),this.__cbOnFormPaddingChange.push(t)},onceFormPaddingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event formPaddingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFormPaddingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFormPaddingChange&&(this.__cbOnceOwnerUnbindFormPaddingChange=[]),this.__cbOnceOwnerUnbindFormPaddingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFormPaddingChange&&(this.__cbOnceOwnerUnbindFormPaddingChange=[]),this.__cbOnceOwnerUnbindFormPaddingChange.push(null);null==this.__cbOnceFormPaddingChange&&(this.__cbOnceFormPaddingChange=[]),this.__cbOnceFormPaddingChange.push(t)},offFormPaddingChange:function(e){if(null!=e){var n;null!=this.__cbOnFormPaddingChange&&-1!=(n=this.__cbOnFormPaddingChange.indexOf(e))&&(this.__cbOnFormPaddingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFormPaddingChange[n])&&s(),this.__cbOnOwnerUnbindFormPaddingChange.splice(n,1)),null!=this.__cbOnceFormPaddingChange&&-1!=(n=this.__cbOnceFormPaddingChange.indexOf(e))&&(this.__cbOnceFormPaddingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFormPaddingChange[n])&&s(),this.__cbOnceOwnerUnbindFormPaddingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFormPaddingChange){for(var t=0,i=this.__cbOnOwnerUnbindFormPaddingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFormPaddingChange[l])&&s()}this.__cbOnOwnerUnbindFormPaddingChange=null}if(null!=this.__cbOnceOwnerUnbindFormPaddingChange){for(t=0,i=this.__cbOnceOwnerUnbindFormPaddingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFormPaddingChange[l])&&s()}this.__cbOnceOwnerUnbindFormPaddingChange=null}this.__cbOnFormPaddingChange=null,this.__cbOnceFormPaddingChange=null}},listensFormPaddingChange:function(){return null!=this.__cbOnFormPaddingChange&&0<this.__cbOnFormPaddingChange.length||null!=this.__cbOnceFormPaddingChange&&0<this.__cbOnceFormPaddingChange.length},tabsMarginYAutoruns:null,get_tabsMarginY:function(){var e,n,t=this.unobservedTabsMarginY;return null!=w.current&&(e=w.current,null!=(n=this.tabsMarginYAutoruns)||(n=w.getAutorunArray(),null!=(this.tabsMarginYAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsMarginY:function(e){var n=this.unobservedTabsMarginY;return n!=(this.unobservedTabsMarginY=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsMarginYChange(e,n),null!=(n=this.tabsMarginYAutoruns))&&(this.tabsMarginYAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTabsMarginY:function(){var e=this.unobservedTabsMarginY,e=(this.emitTabsMarginYChange(e,e),this.tabsMarginYAutoruns);null!=e&&(this.tabsMarginYAutoruns=null,w.invalidateAutorunArray(e))},unobservedTabsMarginY:null,__cbOnTabsMarginYChange:null,__cbOnceTabsMarginYChange:null,__cbOnOwnerUnbindTabsMarginYChange:null,__cbOnceOwnerUnbindTabsMarginYChange:null,emitTabsMarginYChange:function(e,n){var t=0;if(null!=this.__cbOnTabsMarginYChange&&(t+=this.__cbOnTabsMarginYChange.length),null!=this.__cbOnceTabsMarginYChange&&(t+=this.__cbOnceTabsMarginYChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabsMarginYChange)for(var r=0,h=this.__cbOnTabsMarginYChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabsMarginYChange[a],++s):--t}if(null!=this.__cbOnceTabsMarginYChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabsMarginYChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabsMarginYChange[a],this.__cbOnceTabsMarginYChange[a]=null,u=this.__cbOnceOwnerUnbindTabsMarginYChange[a],(this.__cbOnceOwnerUnbindTabsMarginYChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsMarginYChange[a]),c.push(this.__cbOnceTabsMarginYChange[a]))}this.__cbOnceOwnerUnbindTabsMarginYChange=o,this.__cbOnceTabsMarginYChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabsMarginYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabsMarginYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsMarginYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsMarginYChange&&(this.__cbOnOwnerUnbindTabsMarginYChange=[]),this.__cbOnOwnerUnbindTabsMarginYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsMarginYChange&&(this.__cbOnOwnerUnbindTabsMarginYChange=[]),this.__cbOnOwnerUnbindTabsMarginYChange.push(null);null==this.__cbOnTabsMarginYChange&&(this.__cbOnTabsMarginYChange=[]),this.__cbOnTabsMarginYChange.push(t)},onceTabsMarginYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabsMarginYChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsMarginYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsMarginYChange&&(this.__cbOnceOwnerUnbindTabsMarginYChange=[]),this.__cbOnceOwnerUnbindTabsMarginYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsMarginYChange&&(this.__cbOnceOwnerUnbindTabsMarginYChange=[]),this.__cbOnceOwnerUnbindTabsMarginYChange.push(null);null==this.__cbOnceTabsMarginYChange&&(this.__cbOnceTabsMarginYChange=[]),this.__cbOnceTabsMarginYChange.push(t)},offTabsMarginYChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsMarginYChange&&-1!=(n=this.__cbOnTabsMarginYChange.indexOf(e))&&(this.__cbOnTabsMarginYChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabsMarginYChange[n])&&s(),this.__cbOnOwnerUnbindTabsMarginYChange.splice(n,1)),null!=this.__cbOnceTabsMarginYChange&&-1!=(n=this.__cbOnceTabsMarginYChange.indexOf(e))&&(this.__cbOnceTabsMarginYChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabsMarginYChange[n])&&s(),this.__cbOnceOwnerUnbindTabsMarginYChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsMarginYChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsMarginYChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabsMarginYChange[l])&&s()}this.__cbOnOwnerUnbindTabsMarginYChange=null}if(null!=this.__cbOnceOwnerUnbindTabsMarginYChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsMarginYChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabsMarginYChange[l])&&s()}this.__cbOnceOwnerUnbindTabsMarginYChange=null}this.__cbOnTabsMarginYChange=null,this.__cbOnceTabsMarginYChange=null}},listensTabsMarginYChange:function(){return null!=this.__cbOnTabsMarginYChange&&0<this.__cbOnTabsMarginYChange.length||null!=this.__cbOnceTabsMarginYChange&&0<this.__cbOnceTabsMarginYChange.length},focusedFieldSelectionColorAutoruns:null,get_focusedFieldSelectionColor:function(){var e,n,t=this.unobservedFocusedFieldSelectionColor;return null!=w.current&&(e=w.current,null!=(n=this.focusedFieldSelectionColorAutoruns)||(n=w.getAutorunArray(),null!=(this.focusedFieldSelectionColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedFieldSelectionColor:function(e){var n=this.unobservedFocusedFieldSelectionColor;return n!=(this.unobservedFocusedFieldSelectionColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFocusedFieldSelectionColorChange(e,n),null!=(n=this.focusedFieldSelectionColorAutoruns))&&(this.focusedFieldSelectionColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFocusedFieldSelectionColor:function(){var e=this.unobservedFocusedFieldSelectionColor,e=(this.emitFocusedFieldSelectionColorChange(e,e),this.focusedFieldSelectionColorAutoruns);null!=e&&(this.focusedFieldSelectionColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedFocusedFieldSelectionColor:null,__cbOnFocusedFieldSelectionColorChange:null,__cbOnceFocusedFieldSelectionColorChange:null,__cbOnOwnerUnbindFocusedFieldSelectionColorChange:null,__cbOnceOwnerUnbindFocusedFieldSelectionColorChange:null,emitFocusedFieldSelectionColorChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedFieldSelectionColorChange&&(t+=this.__cbOnFocusedFieldSelectionColorChange.length),null!=this.__cbOnceFocusedFieldSelectionColorChange&&(t+=this.__cbOnceFocusedFieldSelectionColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedFieldSelectionColorChange)for(var r=0,h=this.__cbOnFocusedFieldSelectionColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFocusedFieldSelectionColorChange[a],++s):--t}if(null!=this.__cbOnceFocusedFieldSelectionColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceFocusedFieldSelectionColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFocusedFieldSelectionColorChange[a],this.__cbOnceFocusedFieldSelectionColorChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[a],(this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[a]),c.push(this.__cbOnceFocusedFieldSelectionColorChange[a]))}this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange=o,this.__cbOnceFocusedFieldSelectionColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFocusedFieldSelectionColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focusedFieldSelectionColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldSelectionColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange&&(this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange=[]),this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange&&(this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange=[]),this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange.push(null);null==this.__cbOnFocusedFieldSelectionColorChange&&(this.__cbOnFocusedFieldSelectionColorChange=[]),this.__cbOnFocusedFieldSelectionColorChange.push(t)},onceFocusedFieldSelectionColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focusedFieldSelectionColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldSelectionColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange&&(this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange=[]),this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange&&(this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange=[]),this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange.push(null);null==this.__cbOnceFocusedFieldSelectionColorChange&&(this.__cbOnceFocusedFieldSelectionColorChange=[]),this.__cbOnceFocusedFieldSelectionColorChange.push(t)},offFocusedFieldSelectionColorChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedFieldSelectionColorChange&&-1!=(n=this.__cbOnFocusedFieldSelectionColorChange.indexOf(e))&&(this.__cbOnFocusedFieldSelectionColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange[n])&&s(),this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange.splice(n,1)),null!=this.__cbOnceFocusedFieldSelectionColorChange&&-1!=(n=this.__cbOnceFocusedFieldSelectionColorChange.indexOf(e))&&(this.__cbOnceFocusedFieldSelectionColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange[l])&&s()}this.__cbOnOwnerUnbindFocusedFieldSelectionColorChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedFieldSelectionColorChange=null}this.__cbOnFocusedFieldSelectionColorChange=null,this.__cbOnceFocusedFieldSelectionColorChange=null}},listensFocusedFieldSelectionColorChange:function(){return null!=this.__cbOnFocusedFieldSelectionColorChange&&0<this.__cbOnFocusedFieldSelectionColorChange.length||null!=this.__cbOnceFocusedFieldSelectionColorChange&&0<this.__cbOnceFocusedFieldSelectionColorChange.length},focusedFieldBorderColorAutoruns:null,get_focusedFieldBorderColor:function(){var e,n,t=this.unobservedFocusedFieldBorderColor;return null!=w.current&&(e=w.current,null!=(n=this.focusedFieldBorderColorAutoruns)||(n=w.getAutorunArray(),null!=(this.focusedFieldBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_focusedFieldBorderColor:function(e){var n=this.unobservedFocusedFieldBorderColor;return n!=(this.unobservedFocusedFieldBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitFocusedFieldBorderColorChange(e,n),null!=(n=this.focusedFieldBorderColorAutoruns))&&(this.focusedFieldBorderColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateFocusedFieldBorderColor:function(){var e=this.unobservedFocusedFieldBorderColor,e=(this.emitFocusedFieldBorderColorChange(e,e),this.focusedFieldBorderColorAutoruns);null!=e&&(this.focusedFieldBorderColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedFocusedFieldBorderColor:null,__cbOnFocusedFieldBorderColorChange:null,__cbOnceFocusedFieldBorderColorChange:null,__cbOnOwnerUnbindFocusedFieldBorderColorChange:null,__cbOnceOwnerUnbindFocusedFieldBorderColorChange:null,emitFocusedFieldBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedFieldBorderColorChange&&(t+=this.__cbOnFocusedFieldBorderColorChange.length),null!=this.__cbOnceFocusedFieldBorderColorChange&&(t+=this.__cbOnceFocusedFieldBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnFocusedFieldBorderColorChange)for(var r=0,h=this.__cbOnFocusedFieldBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnFocusedFieldBorderColorChange[a],++s):--t}if(null!=this.__cbOnceFocusedFieldBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceFocusedFieldBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceFocusedFieldBorderColorChange[a],this.__cbOnceFocusedFieldBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[a],(this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[a]),c.push(this.__cbOnceFocusedFieldBorderColorChange[a]))}this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange=o,this.__cbOnceFocusedFieldBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onFocusedFieldBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focusedFieldBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindFocusedFieldBorderColorChange&&(this.__cbOnOwnerUnbindFocusedFieldBorderColorChange=[]),this.__cbOnOwnerUnbindFocusedFieldBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindFocusedFieldBorderColorChange&&(this.__cbOnOwnerUnbindFocusedFieldBorderColorChange=[]),this.__cbOnOwnerUnbindFocusedFieldBorderColorChange.push(null);null==this.__cbOnFocusedFieldBorderColorChange&&(this.__cbOnFocusedFieldBorderColorChange=[]),this.__cbOnFocusedFieldBorderColorChange.push(t)},onceFocusedFieldBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event focusedFieldBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offFocusedFieldBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange&&(this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange=[]),this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange&&(this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange=[]),this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange.push(null);null==this.__cbOnceFocusedFieldBorderColorChange&&(this.__cbOnceFocusedFieldBorderColorChange=[]),this.__cbOnceFocusedFieldBorderColorChange.push(t)},offFocusedFieldBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedFieldBorderColorChange&&-1!=(n=this.__cbOnFocusedFieldBorderColorChange.indexOf(e))&&(this.__cbOnFocusedFieldBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindFocusedFieldBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindFocusedFieldBorderColorChange.splice(n,1)),null!=this.__cbOnceFocusedFieldBorderColorChange&&-1!=(n=this.__cbOnceFocusedFieldBorderColorChange.indexOf(e))&&(this.__cbOnceFocusedFieldBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedFieldBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedFieldBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindFocusedFieldBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindFocusedFieldBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindFocusedFieldBorderColorChange=null}this.__cbOnFocusedFieldBorderColorChange=null,this.__cbOnceFocusedFieldBorderColorChange=null}},listensFocusedFieldBorderColorChange:function(){return null!=this.__cbOnFocusedFieldBorderColorChange&&0<this.__cbOnFocusedFieldBorderColorChange.length||null!=this.__cbOnceFocusedFieldBorderColorChange&&0<this.__cbOnceFocusedFieldBorderColorChange.length},overlayBackgroundColorAutoruns:null,get_overlayBackgroundColor:function(){var e,n,t=this.unobservedOverlayBackgroundColor;return null!=w.current&&(e=w.current,null!=(n=this.overlayBackgroundColorAutoruns)||(n=w.getAutorunArray(),null!=(this.overlayBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overlayBackgroundColor:function(e){var n=this.unobservedOverlayBackgroundColor;return n!=(this.unobservedOverlayBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOverlayBackgroundColorChange(e,n),null!=(n=this.overlayBackgroundColorAutoruns))&&(this.overlayBackgroundColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateOverlayBackgroundColor:function(){var e=this.unobservedOverlayBackgroundColor,e=(this.emitOverlayBackgroundColorChange(e,e),this.overlayBackgroundColorAutoruns);null!=e&&(this.overlayBackgroundColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedOverlayBackgroundColor:null,__cbOnOverlayBackgroundColorChange:null,__cbOnceOverlayBackgroundColorChange:null,__cbOnOwnerUnbindOverlayBackgroundColorChange:null,__cbOnceOwnerUnbindOverlayBackgroundColorChange:null,emitOverlayBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnOverlayBackgroundColorChange&&(t+=this.__cbOnOverlayBackgroundColorChange.length),null!=this.__cbOnceOverlayBackgroundColorChange&&(t+=this.__cbOnceOverlayBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOverlayBackgroundColorChange)for(var r=0,h=this.__cbOnOverlayBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnOverlayBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceOverlayBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceOverlayBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceOverlayBackgroundColorChange[a],this.__cbOnceOverlayBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[a],(this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[a]),c.push(this.__cbOnceOverlayBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindOverlayBackgroundColorChange=o,this.__cbOnceOverlayBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onOverlayBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event overlayBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverlayBackgroundColorChange&&(this.__cbOnOwnerUnbindOverlayBackgroundColorChange=[]),this.__cbOnOwnerUnbindOverlayBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverlayBackgroundColorChange&&(this.__cbOnOwnerUnbindOverlayBackgroundColorChange=[]),this.__cbOnOwnerUnbindOverlayBackgroundColorChange.push(null);null==this.__cbOnOverlayBackgroundColorChange&&(this.__cbOnOverlayBackgroundColorChange=[]),this.__cbOnOverlayBackgroundColorChange.push(t)},onceOverlayBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event overlayBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverlayBackgroundColorChange&&(this.__cbOnceOwnerUnbindOverlayBackgroundColorChange=[]),this.__cbOnceOwnerUnbindOverlayBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverlayBackgroundColorChange&&(this.__cbOnceOwnerUnbindOverlayBackgroundColorChange=[]),this.__cbOnceOwnerUnbindOverlayBackgroundColorChange.push(null);null==this.__cbOnceOverlayBackgroundColorChange&&(this.__cbOnceOverlayBackgroundColorChange=[]),this.__cbOnceOverlayBackgroundColorChange.push(t)},offOverlayBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnOverlayBackgroundColorChange&&-1!=(n=this.__cbOnOverlayBackgroundColorChange.indexOf(e))&&(this.__cbOnOverlayBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOverlayBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindOverlayBackgroundColorChange.splice(n,1)),null!=this.__cbOnceOverlayBackgroundColorChange&&-1!=(n=this.__cbOnceOverlayBackgroundColorChange.indexOf(e))&&(this.__cbOnceOverlayBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindOverlayBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverlayBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindOverlayBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOverlayBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindOverlayBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindOverlayBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindOverlayBackgroundColorChange=null}this.__cbOnOverlayBackgroundColorChange=null,this.__cbOnceOverlayBackgroundColorChange=null}},listensOverlayBackgroundColorChange:function(){return null!=this.__cbOnOverlayBackgroundColorChange&&0<this.__cbOnOverlayBackgroundColorChange.length||null!=this.__cbOnceOverlayBackgroundColorChange&&0<this.__cbOnceOverlayBackgroundColorChange.length},overlayBackgroundAlphaAutoruns:null,get_overlayBackgroundAlpha:function(){var e,n,t=this.unobservedOverlayBackgroundAlpha;return null!=w.current&&(e=w.current,null!=(n=this.overlayBackgroundAlphaAutoruns)||(n=w.getAutorunArray(),null!=(this.overlayBackgroundAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overlayBackgroundAlpha:function(e){var n=this.unobservedOverlayBackgroundAlpha;return n!=(this.unobservedOverlayBackgroundAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOverlayBackgroundAlphaChange(e,n),null!=(n=this.overlayBackgroundAlphaAutoruns))&&(this.overlayBackgroundAlphaAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateOverlayBackgroundAlpha:function(){var e=this.unobservedOverlayBackgroundAlpha,e=(this.emitOverlayBackgroundAlphaChange(e,e),this.overlayBackgroundAlphaAutoruns);null!=e&&(this.overlayBackgroundAlphaAutoruns=null,w.invalidateAutorunArray(e))},unobservedOverlayBackgroundAlpha:null,__cbOnOverlayBackgroundAlphaChange:null,__cbOnceOverlayBackgroundAlphaChange:null,__cbOnOwnerUnbindOverlayBackgroundAlphaChange:null,__cbOnceOwnerUnbindOverlayBackgroundAlphaChange:null,emitOverlayBackgroundAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnOverlayBackgroundAlphaChange&&(t+=this.__cbOnOverlayBackgroundAlphaChange.length),null!=this.__cbOnceOverlayBackgroundAlphaChange&&(t+=this.__cbOnceOverlayBackgroundAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOverlayBackgroundAlphaChange)for(var r=0,h=this.__cbOnOverlayBackgroundAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnOverlayBackgroundAlphaChange[a],++s):--t}if(null!=this.__cbOnceOverlayBackgroundAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceOverlayBackgroundAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceOverlayBackgroundAlphaChange[a],this.__cbOnceOverlayBackgroundAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[a],(this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[a]),c.push(this.__cbOnceOverlayBackgroundAlphaChange[a]))}this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange=o,this.__cbOnceOverlayBackgroundAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onOverlayBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event overlayBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange&&(this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange&&(this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange.push(null);null==this.__cbOnOverlayBackgroundAlphaChange&&(this.__cbOnOverlayBackgroundAlphaChange=[]),this.__cbOnOverlayBackgroundAlphaChange.push(t)},onceOverlayBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event overlayBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange.push(null);null==this.__cbOnceOverlayBackgroundAlphaChange&&(this.__cbOnceOverlayBackgroundAlphaChange=[]),this.__cbOnceOverlayBackgroundAlphaChange.push(t)},offOverlayBackgroundAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnOverlayBackgroundAlphaChange&&-1!=(n=this.__cbOnOverlayBackgroundAlphaChange.indexOf(e))&&(this.__cbOnOverlayBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange[n])&&s(),this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange.splice(n,1)),null!=this.__cbOnceOverlayBackgroundAlphaChange&&-1!=(n=this.__cbOnceOverlayBackgroundAlphaChange.indexOf(e))&&(this.__cbOnceOverlayBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange[l])&&s()}this.__cbOnOwnerUnbindOverlayBackgroundAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindOverlayBackgroundAlphaChange=null}this.__cbOnOverlayBackgroundAlphaChange=null,this.__cbOnceOverlayBackgroundAlphaChange=null}},listensOverlayBackgroundAlphaChange:function(){return null!=this.__cbOnOverlayBackgroundAlphaChange&&0<this.__cbOnOverlayBackgroundAlphaChange.length||null!=this.__cbOnceOverlayBackgroundAlphaChange&&0<this.__cbOnceOverlayBackgroundAlphaChange.length},overlayBorderColorAutoruns:null,get_overlayBorderColor:function(){var e,n,t=this.unobservedOverlayBorderColor;return null!=w.current&&(e=w.current,null!=(n=this.overlayBorderColorAutoruns)||(n=w.getAutorunArray(),null!=(this.overlayBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overlayBorderColor:function(e){var n=this.unobservedOverlayBorderColor;return n!=(this.unobservedOverlayBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOverlayBorderColorChange(e,n),null!=(n=this.overlayBorderColorAutoruns))&&(this.overlayBorderColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateOverlayBorderColor:function(){var e=this.unobservedOverlayBorderColor,e=(this.emitOverlayBorderColorChange(e,e),this.overlayBorderColorAutoruns);null!=e&&(this.overlayBorderColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedOverlayBorderColor:null,__cbOnOverlayBorderColorChange:null,__cbOnceOverlayBorderColorChange:null,__cbOnOwnerUnbindOverlayBorderColorChange:null,__cbOnceOwnerUnbindOverlayBorderColorChange:null,emitOverlayBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnOverlayBorderColorChange&&(t+=this.__cbOnOverlayBorderColorChange.length),null!=this.__cbOnceOverlayBorderColorChange&&(t+=this.__cbOnceOverlayBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOverlayBorderColorChange)for(var r=0,h=this.__cbOnOverlayBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnOverlayBorderColorChange[a],++s):--t}if(null!=this.__cbOnceOverlayBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceOverlayBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceOverlayBorderColorChange[a],this.__cbOnceOverlayBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindOverlayBorderColorChange[a],(this.__cbOnceOwnerUnbindOverlayBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverlayBorderColorChange[a]),c.push(this.__cbOnceOverlayBorderColorChange[a]))}this.__cbOnceOwnerUnbindOverlayBorderColorChange=o,this.__cbOnceOverlayBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onOverlayBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event overlayBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverlayBorderColorChange&&(this.__cbOnOwnerUnbindOverlayBorderColorChange=[]),this.__cbOnOwnerUnbindOverlayBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverlayBorderColorChange&&(this.__cbOnOwnerUnbindOverlayBorderColorChange=[]),this.__cbOnOwnerUnbindOverlayBorderColorChange.push(null);null==this.__cbOnOverlayBorderColorChange&&(this.__cbOnOverlayBorderColorChange=[]),this.__cbOnOverlayBorderColorChange.push(t)},onceOverlayBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event overlayBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverlayBorderColorChange&&(this.__cbOnceOwnerUnbindOverlayBorderColorChange=[]),this.__cbOnceOwnerUnbindOverlayBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverlayBorderColorChange&&(this.__cbOnceOwnerUnbindOverlayBorderColorChange=[]),this.__cbOnceOwnerUnbindOverlayBorderColorChange.push(null);null==this.__cbOnceOverlayBorderColorChange&&(this.__cbOnceOverlayBorderColorChange=[]),this.__cbOnceOverlayBorderColorChange.push(t)},offOverlayBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnOverlayBorderColorChange&&-1!=(n=this.__cbOnOverlayBorderColorChange.indexOf(e))&&(this.__cbOnOverlayBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOverlayBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindOverlayBorderColorChange.splice(n,1)),null!=this.__cbOnceOverlayBorderColorChange&&-1!=(n=this.__cbOnceOverlayBorderColorChange.indexOf(e))&&(this.__cbOnceOverlayBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOverlayBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindOverlayBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverlayBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindOverlayBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOverlayBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindOverlayBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindOverlayBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindOverlayBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindOverlayBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindOverlayBorderColorChange=null}this.__cbOnOverlayBorderColorChange=null,this.__cbOnceOverlayBorderColorChange=null}},listensOverlayBorderColorChange:function(){return null!=this.__cbOnOverlayBorderColorChange&&0<this.__cbOnOverlayBorderColorChange.length||null!=this.__cbOnceOverlayBorderColorChange&&0<this.__cbOnceOverlayBorderColorChange.length},overlayBorderAlphaAutoruns:null,get_overlayBorderAlpha:function(){var e,n,t=this.unobservedOverlayBorderAlpha;return null!=w.current&&(e=w.current,null!=(n=this.overlayBorderAlphaAutoruns)||(n=w.getAutorunArray(),null!=(this.overlayBorderAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_overlayBorderAlpha:function(e){var n=this.unobservedOverlayBorderAlpha;return n!=(this.unobservedOverlayBorderAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitOverlayBorderAlphaChange(e,n),null!=(n=this.overlayBorderAlphaAutoruns))&&(this.overlayBorderAlphaAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateOverlayBorderAlpha:function(){var e=this.unobservedOverlayBorderAlpha,e=(this.emitOverlayBorderAlphaChange(e,e),this.overlayBorderAlphaAutoruns);null!=e&&(this.overlayBorderAlphaAutoruns=null,w.invalidateAutorunArray(e))},unobservedOverlayBorderAlpha:null,__cbOnOverlayBorderAlphaChange:null,__cbOnceOverlayBorderAlphaChange:null,__cbOnOwnerUnbindOverlayBorderAlphaChange:null,__cbOnceOwnerUnbindOverlayBorderAlphaChange:null,emitOverlayBorderAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnOverlayBorderAlphaChange&&(t+=this.__cbOnOverlayBorderAlphaChange.length),null!=this.__cbOnceOverlayBorderAlphaChange&&(t+=this.__cbOnceOverlayBorderAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnOverlayBorderAlphaChange)for(var r=0,h=this.__cbOnOverlayBorderAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnOverlayBorderAlphaChange[a],++s):--t}if(null!=this.__cbOnceOverlayBorderAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceOverlayBorderAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceOverlayBorderAlphaChange[a],this.__cbOnceOverlayBorderAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[a],(this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[a]),c.push(this.__cbOnceOverlayBorderAlphaChange[a]))}this.__cbOnceOwnerUnbindOverlayBorderAlphaChange=o,this.__cbOnceOverlayBorderAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onOverlayBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event overlayBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindOverlayBorderAlphaChange&&(this.__cbOnOwnerUnbindOverlayBorderAlphaChange=[]),this.__cbOnOwnerUnbindOverlayBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindOverlayBorderAlphaChange&&(this.__cbOnOwnerUnbindOverlayBorderAlphaChange=[]),this.__cbOnOwnerUnbindOverlayBorderAlphaChange.push(null);null==this.__cbOnOverlayBorderAlphaChange&&(this.__cbOnOverlayBorderAlphaChange=[]),this.__cbOnOverlayBorderAlphaChange.push(t)},onceOverlayBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event overlayBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offOverlayBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindOverlayBorderAlphaChange&&(this.__cbOnceOwnerUnbindOverlayBorderAlphaChange=[]),this.__cbOnceOwnerUnbindOverlayBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindOverlayBorderAlphaChange&&(this.__cbOnceOwnerUnbindOverlayBorderAlphaChange=[]),this.__cbOnceOwnerUnbindOverlayBorderAlphaChange.push(null);null==this.__cbOnceOverlayBorderAlphaChange&&(this.__cbOnceOverlayBorderAlphaChange=[]),this.__cbOnceOverlayBorderAlphaChange.push(t)},offOverlayBorderAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnOverlayBorderAlphaChange&&-1!=(n=this.__cbOnOverlayBorderAlphaChange.indexOf(e))&&(this.__cbOnOverlayBorderAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindOverlayBorderAlphaChange[n])&&s(),this.__cbOnOwnerUnbindOverlayBorderAlphaChange.splice(n,1)),null!=this.__cbOnceOverlayBorderAlphaChange&&-1!=(n=this.__cbOnceOverlayBorderAlphaChange.indexOf(e))&&(this.__cbOnceOverlayBorderAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindOverlayBorderAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverlayBorderAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindOverlayBorderAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindOverlayBorderAlphaChange[l])&&s()}this.__cbOnOwnerUnbindOverlayBorderAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindOverlayBorderAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindOverlayBorderAlphaChange=null}this.__cbOnOverlayBorderAlphaChange=null,this.__cbOnceOverlayBorderAlphaChange=null}},listensOverlayBorderAlphaChange:function(){return null!=this.__cbOnOverlayBorderAlphaChange&&0<this.__cbOnOverlayBorderAlphaChange.length||null!=this.__cbOnceOverlayBorderAlphaChange&&0<this.__cbOnceOverlayBorderAlphaChange.length},buttonBackgroundColorAutoruns:null,get_buttonBackgroundColor:function(){var e,n,t=this.unobservedButtonBackgroundColor;return null!=w.current&&(e=w.current,null!=(n=this.buttonBackgroundColorAutoruns)||(n=w.getAutorunArray(),null!=(this.buttonBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_buttonBackgroundColor:function(e){var n=this.unobservedButtonBackgroundColor;return n!=(this.unobservedButtonBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitButtonBackgroundColorChange(e,n),null!=(n=this.buttonBackgroundColorAutoruns))&&(this.buttonBackgroundColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateButtonBackgroundColor:function(){var e=this.unobservedButtonBackgroundColor,e=(this.emitButtonBackgroundColorChange(e,e),this.buttonBackgroundColorAutoruns);null!=e&&(this.buttonBackgroundColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedButtonBackgroundColor:null,__cbOnButtonBackgroundColorChange:null,__cbOnceButtonBackgroundColorChange:null,__cbOnOwnerUnbindButtonBackgroundColorChange:null,__cbOnceOwnerUnbindButtonBackgroundColorChange:null,emitButtonBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnButtonBackgroundColorChange&&(t+=this.__cbOnButtonBackgroundColorChange.length),null!=this.__cbOnceButtonBackgroundColorChange&&(t+=this.__cbOnceButtonBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnButtonBackgroundColorChange)for(var r=0,h=this.__cbOnButtonBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnButtonBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceButtonBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceButtonBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceButtonBackgroundColorChange[a],this.__cbOnceButtonBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindButtonBackgroundColorChange[a],(this.__cbOnceOwnerUnbindButtonBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindButtonBackgroundColorChange[a]),c.push(this.__cbOnceButtonBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindButtonBackgroundColorChange=o,this.__cbOnceButtonBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onButtonBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event buttonBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindButtonBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindButtonBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonBackgroundColorChange.push(null);null==this.__cbOnButtonBackgroundColorChange&&(this.__cbOnButtonBackgroundColorChange=[]),this.__cbOnButtonBackgroundColorChange.push(t)},onceButtonBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event buttonBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindButtonBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindButtonBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonBackgroundColorChange.push(null);null==this.__cbOnceButtonBackgroundColorChange&&(this.__cbOnceButtonBackgroundColorChange=[]),this.__cbOnceButtonBackgroundColorChange.push(t)},offButtonBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnButtonBackgroundColorChange&&-1!=(n=this.__cbOnButtonBackgroundColorChange.indexOf(e))&&(this.__cbOnButtonBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindButtonBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindButtonBackgroundColorChange.splice(n,1)),null!=this.__cbOnceButtonBackgroundColorChange&&-1!=(n=this.__cbOnceButtonBackgroundColorChange.indexOf(e))&&(this.__cbOnceButtonBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindButtonBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindButtonBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindButtonBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindButtonBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindButtonBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindButtonBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindButtonBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindButtonBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindButtonBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindButtonBackgroundColorChange=null}this.__cbOnButtonBackgroundColorChange=null,this.__cbOnceButtonBackgroundColorChange=null}},listensButtonBackgroundColorChange:function(){return null!=this.__cbOnButtonBackgroundColorChange&&0<this.__cbOnButtonBackgroundColorChange.length||null!=this.__cbOnceButtonBackgroundColorChange&&0<this.__cbOnceButtonBackgroundColorChange.length},buttonOverBackgroundColorAutoruns:null,get_buttonOverBackgroundColor:function(){var e,n,t=this.unobservedButtonOverBackgroundColor;return null!=w.current&&(e=w.current,null!=(n=this.buttonOverBackgroundColorAutoruns)||(n=w.getAutorunArray(),null!=(this.buttonOverBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_buttonOverBackgroundColor:function(e){var n=this.unobservedButtonOverBackgroundColor;return n!=(this.unobservedButtonOverBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitButtonOverBackgroundColorChange(e,n),null!=(n=this.buttonOverBackgroundColorAutoruns))&&(this.buttonOverBackgroundColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateButtonOverBackgroundColor:function(){var e=this.unobservedButtonOverBackgroundColor,e=(this.emitButtonOverBackgroundColorChange(e,e),this.buttonOverBackgroundColorAutoruns);null!=e&&(this.buttonOverBackgroundColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedButtonOverBackgroundColor:null,__cbOnButtonOverBackgroundColorChange:null,__cbOnceButtonOverBackgroundColorChange:null,__cbOnOwnerUnbindButtonOverBackgroundColorChange:null,__cbOnceOwnerUnbindButtonOverBackgroundColorChange:null,emitButtonOverBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnButtonOverBackgroundColorChange&&(t+=this.__cbOnButtonOverBackgroundColorChange.length),null!=this.__cbOnceButtonOverBackgroundColorChange&&(t+=this.__cbOnceButtonOverBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnButtonOverBackgroundColorChange)for(var r=0,h=this.__cbOnButtonOverBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnButtonOverBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceButtonOverBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceButtonOverBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceButtonOverBackgroundColorChange[a],this.__cbOnceButtonOverBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[a],(this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[a]),c.push(this.__cbOnceButtonOverBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange=o,this.__cbOnceButtonOverBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onButtonOverBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event buttonOverBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonOverBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindButtonOverBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonOverBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonOverBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindButtonOverBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonOverBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonOverBackgroundColorChange.push(null);null==this.__cbOnButtonOverBackgroundColorChange&&(this.__cbOnButtonOverBackgroundColorChange=[]),this.__cbOnButtonOverBackgroundColorChange.push(t)},onceButtonOverBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event buttonOverBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonOverBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange.push(null);null==this.__cbOnceButtonOverBackgroundColorChange&&(this.__cbOnceButtonOverBackgroundColorChange=[]),this.__cbOnceButtonOverBackgroundColorChange.push(t)},offButtonOverBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnButtonOverBackgroundColorChange&&-1!=(n=this.__cbOnButtonOverBackgroundColorChange.indexOf(e))&&(this.__cbOnButtonOverBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindButtonOverBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindButtonOverBackgroundColorChange.splice(n,1)),null!=this.__cbOnceButtonOverBackgroundColorChange&&-1!=(n=this.__cbOnceButtonOverBackgroundColorChange.indexOf(e))&&(this.__cbOnceButtonOverBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindButtonOverBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindButtonOverBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindButtonOverBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindButtonOverBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindButtonOverBackgroundColorChange=null}this.__cbOnButtonOverBackgroundColorChange=null,this.__cbOnceButtonOverBackgroundColorChange=null}},listensButtonOverBackgroundColorChange:function(){return null!=this.__cbOnButtonOverBackgroundColorChange&&0<this.__cbOnButtonOverBackgroundColorChange.length||null!=this.__cbOnceButtonOverBackgroundColorChange&&0<this.__cbOnceButtonOverBackgroundColorChange.length},buttonPressedBackgroundColorAutoruns:null,get_buttonPressedBackgroundColor:function(){var e,n,t=this.unobservedButtonPressedBackgroundColor;return null!=w.current&&(e=w.current,null!=(n=this.buttonPressedBackgroundColorAutoruns)||(n=w.getAutorunArray(),null!=(this.buttonPressedBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_buttonPressedBackgroundColor:function(e){var n=this.unobservedButtonPressedBackgroundColor;return n!=(this.unobservedButtonPressedBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitButtonPressedBackgroundColorChange(e,n),null!=(n=this.buttonPressedBackgroundColorAutoruns))&&(this.buttonPressedBackgroundColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateButtonPressedBackgroundColor:function(){var e=this.unobservedButtonPressedBackgroundColor,e=(this.emitButtonPressedBackgroundColorChange(e,e),this.buttonPressedBackgroundColorAutoruns);null!=e&&(this.buttonPressedBackgroundColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedButtonPressedBackgroundColor:null,__cbOnButtonPressedBackgroundColorChange:null,__cbOnceButtonPressedBackgroundColorChange:null,__cbOnOwnerUnbindButtonPressedBackgroundColorChange:null,__cbOnceOwnerUnbindButtonPressedBackgroundColorChange:null,emitButtonPressedBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnButtonPressedBackgroundColorChange&&(t+=this.__cbOnButtonPressedBackgroundColorChange.length),null!=this.__cbOnceButtonPressedBackgroundColorChange&&(t+=this.__cbOnceButtonPressedBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnButtonPressedBackgroundColorChange)for(var r=0,h=this.__cbOnButtonPressedBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnButtonPressedBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceButtonPressedBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceButtonPressedBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceButtonPressedBackgroundColorChange[a],this.__cbOnceButtonPressedBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[a],(this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[a]),c.push(this.__cbOnceButtonPressedBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange=o,this.__cbOnceButtonPressedBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onButtonPressedBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event buttonPressedBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonPressedBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange&&(this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange=[]),this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange.push(null);null==this.__cbOnButtonPressedBackgroundColorChange&&(this.__cbOnButtonPressedBackgroundColorChange=[]),this.__cbOnButtonPressedBackgroundColorChange.push(t)},onceButtonPressedBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event buttonPressedBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonPressedBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange&&(this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange=[]),this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange.push(null);null==this.__cbOnceButtonPressedBackgroundColorChange&&(this.__cbOnceButtonPressedBackgroundColorChange=[]),this.__cbOnceButtonPressedBackgroundColorChange.push(t)},offButtonPressedBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnButtonPressedBackgroundColorChange&&-1!=(n=this.__cbOnButtonPressedBackgroundColorChange.indexOf(e))&&(this.__cbOnButtonPressedBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange.splice(n,1)),null!=this.__cbOnceButtonPressedBackgroundColorChange&&-1!=(n=this.__cbOnceButtonPressedBackgroundColorChange.indexOf(e))&&(this.__cbOnceButtonPressedBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindButtonPressedBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindButtonPressedBackgroundColorChange=null}this.__cbOnButtonPressedBackgroundColorChange=null,this.__cbOnceButtonPressedBackgroundColorChange=null}},listensButtonPressedBackgroundColorChange:function(){return null!=this.__cbOnButtonPressedBackgroundColorChange&&0<this.__cbOnButtonPressedBackgroundColorChange.length||null!=this.__cbOnceButtonPressedBackgroundColorChange&&0<this.__cbOnceButtonPressedBackgroundColorChange.length},buttonFocusedBorderColorAutoruns:null,get_buttonFocusedBorderColor:function(){var e,n,t=this.unobservedButtonFocusedBorderColor;return null!=w.current&&(e=w.current,null!=(n=this.buttonFocusedBorderColorAutoruns)||(n=w.getAutorunArray(),null!=(this.buttonFocusedBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_buttonFocusedBorderColor:function(e){var n=this.unobservedButtonFocusedBorderColor;return n!=(this.unobservedButtonFocusedBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitButtonFocusedBorderColorChange(e,n),null!=(n=this.buttonFocusedBorderColorAutoruns))&&(this.buttonFocusedBorderColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateButtonFocusedBorderColor:function(){var e=this.unobservedButtonFocusedBorderColor,e=(this.emitButtonFocusedBorderColorChange(e,e),this.buttonFocusedBorderColorAutoruns);null!=e&&(this.buttonFocusedBorderColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedButtonFocusedBorderColor:null,__cbOnButtonFocusedBorderColorChange:null,__cbOnceButtonFocusedBorderColorChange:null,__cbOnOwnerUnbindButtonFocusedBorderColorChange:null,__cbOnceOwnerUnbindButtonFocusedBorderColorChange:null,emitButtonFocusedBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnButtonFocusedBorderColorChange&&(t+=this.__cbOnButtonFocusedBorderColorChange.length),null!=this.__cbOnceButtonFocusedBorderColorChange&&(t+=this.__cbOnceButtonFocusedBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnButtonFocusedBorderColorChange)for(var r=0,h=this.__cbOnButtonFocusedBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnButtonFocusedBorderColorChange[a],++s):--t}if(null!=this.__cbOnceButtonFocusedBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceButtonFocusedBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceButtonFocusedBorderColorChange[a],this.__cbOnceButtonFocusedBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[a],(this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[a]),c.push(this.__cbOnceButtonFocusedBorderColorChange[a]))}this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange=o,this.__cbOnceButtonFocusedBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onButtonFocusedBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event buttonFocusedBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonFocusedBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindButtonFocusedBorderColorChange&&(this.__cbOnOwnerUnbindButtonFocusedBorderColorChange=[]),this.__cbOnOwnerUnbindButtonFocusedBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindButtonFocusedBorderColorChange&&(this.__cbOnOwnerUnbindButtonFocusedBorderColorChange=[]),this.__cbOnOwnerUnbindButtonFocusedBorderColorChange.push(null);null==this.__cbOnButtonFocusedBorderColorChange&&(this.__cbOnButtonFocusedBorderColorChange=[]),this.__cbOnButtonFocusedBorderColorChange.push(t)},onceButtonFocusedBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event buttonFocusedBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offButtonFocusedBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange&&(this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange=[]),this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange&&(this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange=[]),this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange.push(null);null==this.__cbOnceButtonFocusedBorderColorChange&&(this.__cbOnceButtonFocusedBorderColorChange=[]),this.__cbOnceButtonFocusedBorderColorChange.push(t)},offButtonFocusedBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnButtonFocusedBorderColorChange&&-1!=(n=this.__cbOnButtonFocusedBorderColorChange.indexOf(e))&&(this.__cbOnButtonFocusedBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindButtonFocusedBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindButtonFocusedBorderColorChange.splice(n,1)),null!=this.__cbOnceButtonFocusedBorderColorChange&&-1!=(n=this.__cbOnceButtonFocusedBorderColorChange.indexOf(e))&&(this.__cbOnceButtonFocusedBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindButtonFocusedBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindButtonFocusedBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindButtonFocusedBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindButtonFocusedBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindButtonFocusedBorderColorChange=null}this.__cbOnButtonFocusedBorderColorChange=null,this.__cbOnceButtonFocusedBorderColorChange=null}},listensButtonFocusedBorderColorChange:function(){return null!=this.__cbOnButtonFocusedBorderColorChange&&0<this.__cbOnButtonFocusedBorderColorChange.length||null!=this.__cbOnceButtonFocusedBorderColorChange&&0<this.__cbOnceButtonFocusedBorderColorChange.length},tabsBackgroundColorAutoruns:null,get_tabsBackgroundColor:function(){var e,n,t=this.unobservedTabsBackgroundColor;return null!=w.current&&(e=w.current,null!=(n=this.tabsBackgroundColorAutoruns)||(n=w.getAutorunArray(),null!=(this.tabsBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsBackgroundColor:function(e){var n=this.unobservedTabsBackgroundColor;return n!=(this.unobservedTabsBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsBackgroundColorChange(e,n),null!=(n=this.tabsBackgroundColorAutoruns))&&(this.tabsBackgroundColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTabsBackgroundColor:function(){var e=this.unobservedTabsBackgroundColor,e=(this.emitTabsBackgroundColorChange(e,e),this.tabsBackgroundColorAutoruns);null!=e&&(this.tabsBackgroundColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedTabsBackgroundColor:null,__cbOnTabsBackgroundColorChange:null,__cbOnceTabsBackgroundColorChange:null,__cbOnOwnerUnbindTabsBackgroundColorChange:null,__cbOnceOwnerUnbindTabsBackgroundColorChange:null,emitTabsBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnTabsBackgroundColorChange&&(t+=this.__cbOnTabsBackgroundColorChange.length),null!=this.__cbOnceTabsBackgroundColorChange&&(t+=this.__cbOnceTabsBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabsBackgroundColorChange)for(var r=0,h=this.__cbOnTabsBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabsBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceTabsBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabsBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabsBackgroundColorChange[a],this.__cbOnceTabsBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindTabsBackgroundColorChange[a],(this.__cbOnceOwnerUnbindTabsBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsBackgroundColorChange[a]),c.push(this.__cbOnceTabsBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindTabsBackgroundColorChange=o,this.__cbOnceTabsBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabsBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabsBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsBackgroundColorChange&&(this.__cbOnOwnerUnbindTabsBackgroundColorChange=[]),this.__cbOnOwnerUnbindTabsBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsBackgroundColorChange&&(this.__cbOnOwnerUnbindTabsBackgroundColorChange=[]),this.__cbOnOwnerUnbindTabsBackgroundColorChange.push(null);null==this.__cbOnTabsBackgroundColorChange&&(this.__cbOnTabsBackgroundColorChange=[]),this.__cbOnTabsBackgroundColorChange.push(t)},onceTabsBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabsBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsBackgroundColorChange&&(this.__cbOnceOwnerUnbindTabsBackgroundColorChange=[]),this.__cbOnceOwnerUnbindTabsBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsBackgroundColorChange&&(this.__cbOnceOwnerUnbindTabsBackgroundColorChange=[]),this.__cbOnceOwnerUnbindTabsBackgroundColorChange.push(null);null==this.__cbOnceTabsBackgroundColorChange&&(this.__cbOnceTabsBackgroundColorChange=[]),this.__cbOnceTabsBackgroundColorChange.push(t)},offTabsBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsBackgroundColorChange&&-1!=(n=this.__cbOnTabsBackgroundColorChange.indexOf(e))&&(this.__cbOnTabsBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabsBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindTabsBackgroundColorChange.splice(n,1)),null!=this.__cbOnceTabsBackgroundColorChange&&-1!=(n=this.__cbOnceTabsBackgroundColorChange.indexOf(e))&&(this.__cbOnceTabsBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabsBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindTabsBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabsBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindTabsBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindTabsBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabsBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindTabsBackgroundColorChange=null}this.__cbOnTabsBackgroundColorChange=null,this.__cbOnceTabsBackgroundColorChange=null}},listensTabsBackgroundColorChange:function(){return null!=this.__cbOnTabsBackgroundColorChange&&0<this.__cbOnTabsBackgroundColorChange.length||null!=this.__cbOnceTabsBackgroundColorChange&&0<this.__cbOnceTabsBackgroundColorChange.length},tabsBackgroundAlphaAutoruns:null,get_tabsBackgroundAlpha:function(){var e,n,t=this.unobservedTabsBackgroundAlpha;return null!=w.current&&(e=w.current,null!=(n=this.tabsBackgroundAlphaAutoruns)||(n=w.getAutorunArray(),null!=(this.tabsBackgroundAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsBackgroundAlpha:function(e){var n=this.unobservedTabsBackgroundAlpha;return n!=(this.unobservedTabsBackgroundAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsBackgroundAlphaChange(e,n),null!=(n=this.tabsBackgroundAlphaAutoruns))&&(this.tabsBackgroundAlphaAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTabsBackgroundAlpha:function(){var e=this.unobservedTabsBackgroundAlpha,e=(this.emitTabsBackgroundAlphaChange(e,e),this.tabsBackgroundAlphaAutoruns);null!=e&&(this.tabsBackgroundAlphaAutoruns=null,w.invalidateAutorunArray(e))},unobservedTabsBackgroundAlpha:null,__cbOnTabsBackgroundAlphaChange:null,__cbOnceTabsBackgroundAlphaChange:null,__cbOnOwnerUnbindTabsBackgroundAlphaChange:null,__cbOnceOwnerUnbindTabsBackgroundAlphaChange:null,emitTabsBackgroundAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnTabsBackgroundAlphaChange&&(t+=this.__cbOnTabsBackgroundAlphaChange.length),null!=this.__cbOnceTabsBackgroundAlphaChange&&(t+=this.__cbOnceTabsBackgroundAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabsBackgroundAlphaChange)for(var r=0,h=this.__cbOnTabsBackgroundAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabsBackgroundAlphaChange[a],++s):--t}if(null!=this.__cbOnceTabsBackgroundAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabsBackgroundAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabsBackgroundAlphaChange[a],this.__cbOnceTabsBackgroundAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[a],(this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[a]),c.push(this.__cbOnceTabsBackgroundAlphaChange[a]))}this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange=o,this.__cbOnceTabsBackgroundAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabsBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabsBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsBackgroundAlphaChange&&(this.__cbOnOwnerUnbindTabsBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindTabsBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsBackgroundAlphaChange&&(this.__cbOnOwnerUnbindTabsBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindTabsBackgroundAlphaChange.push(null);null==this.__cbOnTabsBackgroundAlphaChange&&(this.__cbOnTabsBackgroundAlphaChange=[]),this.__cbOnTabsBackgroundAlphaChange.push(t)},onceTabsBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabsBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange.push(null);null==this.__cbOnceTabsBackgroundAlphaChange&&(this.__cbOnceTabsBackgroundAlphaChange=[]),this.__cbOnceTabsBackgroundAlphaChange.push(t)},offTabsBackgroundAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsBackgroundAlphaChange&&-1!=(n=this.__cbOnTabsBackgroundAlphaChange.indexOf(e))&&(this.__cbOnTabsBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabsBackgroundAlphaChange[n])&&s(),this.__cbOnOwnerUnbindTabsBackgroundAlphaChange.splice(n,1)),null!=this.__cbOnceTabsBackgroundAlphaChange&&-1!=(n=this.__cbOnceTabsBackgroundAlphaChange.indexOf(e))&&(this.__cbOnceTabsBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsBackgroundAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsBackgroundAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabsBackgroundAlphaChange[l])&&s()}this.__cbOnOwnerUnbindTabsBackgroundAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindTabsBackgroundAlphaChange=null}this.__cbOnTabsBackgroundAlphaChange=null,this.__cbOnceTabsBackgroundAlphaChange=null}},listensTabsBackgroundAlphaChange:function(){return null!=this.__cbOnTabsBackgroundAlphaChange&&0<this.__cbOnTabsBackgroundAlphaChange.length||null!=this.__cbOnceTabsBackgroundAlphaChange&&0<this.__cbOnceTabsBackgroundAlphaChange.length},tabsHoverBackgroundColorAutoruns:null,get_tabsHoverBackgroundColor:function(){var e,n,t=this.unobservedTabsHoverBackgroundColor;return null!=w.current&&(e=w.current,null!=(n=this.tabsHoverBackgroundColorAutoruns)||(n=w.getAutorunArray(),null!=(this.tabsHoverBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsHoverBackgroundColor:function(e){var n=this.unobservedTabsHoverBackgroundColor;return n!=(this.unobservedTabsHoverBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsHoverBackgroundColorChange(e,n),null!=(n=this.tabsHoverBackgroundColorAutoruns))&&(this.tabsHoverBackgroundColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTabsHoverBackgroundColor:function(){var e=this.unobservedTabsHoverBackgroundColor,e=(this.emitTabsHoverBackgroundColorChange(e,e),this.tabsHoverBackgroundColorAutoruns);null!=e&&(this.tabsHoverBackgroundColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedTabsHoverBackgroundColor:null,__cbOnTabsHoverBackgroundColorChange:null,__cbOnceTabsHoverBackgroundColorChange:null,__cbOnOwnerUnbindTabsHoverBackgroundColorChange:null,__cbOnceOwnerUnbindTabsHoverBackgroundColorChange:null,emitTabsHoverBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnTabsHoverBackgroundColorChange&&(t+=this.__cbOnTabsHoverBackgroundColorChange.length),null!=this.__cbOnceTabsHoverBackgroundColorChange&&(t+=this.__cbOnceTabsHoverBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabsHoverBackgroundColorChange)for(var r=0,h=this.__cbOnTabsHoverBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabsHoverBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceTabsHoverBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabsHoverBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabsHoverBackgroundColorChange[a],this.__cbOnceTabsHoverBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[a],(this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[a]),c.push(this.__cbOnceTabsHoverBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange=o,this.__cbOnceTabsHoverBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabsHoverBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabsHoverBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsHoverBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange&&(this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange=[]),this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange&&(this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange=[]),this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange.push(null);null==this.__cbOnTabsHoverBackgroundColorChange&&(this.__cbOnTabsHoverBackgroundColorChange=[]),this.__cbOnTabsHoverBackgroundColorChange.push(t)},onceTabsHoverBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabsHoverBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsHoverBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange&&(this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange=[]),this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange&&(this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange=[]),this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange.push(null);null==this.__cbOnceTabsHoverBackgroundColorChange&&(this.__cbOnceTabsHoverBackgroundColorChange=[]),this.__cbOnceTabsHoverBackgroundColorChange.push(t)},offTabsHoverBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsHoverBackgroundColorChange&&-1!=(n=this.__cbOnTabsHoverBackgroundColorChange.indexOf(e))&&(this.__cbOnTabsHoverBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange.splice(n,1)),null!=this.__cbOnceTabsHoverBackgroundColorChange&&-1!=(n=this.__cbOnceTabsHoverBackgroundColorChange.indexOf(e))&&(this.__cbOnceTabsHoverBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindTabsHoverBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindTabsHoverBackgroundColorChange=null}this.__cbOnTabsHoverBackgroundColorChange=null,this.__cbOnceTabsHoverBackgroundColorChange=null}},listensTabsHoverBackgroundColorChange:function(){return null!=this.__cbOnTabsHoverBackgroundColorChange&&0<this.__cbOnTabsHoverBackgroundColorChange.length||null!=this.__cbOnceTabsHoverBackgroundColorChange&&0<this.__cbOnceTabsHoverBackgroundColorChange.length},tabsHoverBackgroundAlphaAutoruns:null,get_tabsHoverBackgroundAlpha:function(){var e,n,t=this.unobservedTabsHoverBackgroundAlpha;return null!=w.current&&(e=w.current,null!=(n=this.tabsHoverBackgroundAlphaAutoruns)||(n=w.getAutorunArray(),null!=(this.tabsHoverBackgroundAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsHoverBackgroundAlpha:function(e){var n=this.unobservedTabsHoverBackgroundAlpha;return n!=(this.unobservedTabsHoverBackgroundAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsHoverBackgroundAlphaChange(e,n),null!=(n=this.tabsHoverBackgroundAlphaAutoruns))&&(this.tabsHoverBackgroundAlphaAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTabsHoverBackgroundAlpha:function(){var e=this.unobservedTabsHoverBackgroundAlpha,e=(this.emitTabsHoverBackgroundAlphaChange(e,e),this.tabsHoverBackgroundAlphaAutoruns);null!=e&&(this.tabsHoverBackgroundAlphaAutoruns=null,w.invalidateAutorunArray(e))},unobservedTabsHoverBackgroundAlpha:null,__cbOnTabsHoverBackgroundAlphaChange:null,__cbOnceTabsHoverBackgroundAlphaChange:null,__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange:null,__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange:null,emitTabsHoverBackgroundAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnTabsHoverBackgroundAlphaChange&&(t+=this.__cbOnTabsHoverBackgroundAlphaChange.length),null!=this.__cbOnceTabsHoverBackgroundAlphaChange&&(t+=this.__cbOnceTabsHoverBackgroundAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabsHoverBackgroundAlphaChange)for(var r=0,h=this.__cbOnTabsHoverBackgroundAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabsHoverBackgroundAlphaChange[a],++s):--t}if(null!=this.__cbOnceTabsHoverBackgroundAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabsHoverBackgroundAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabsHoverBackgroundAlphaChange[a],this.__cbOnceTabsHoverBackgroundAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[a],(this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[a]),c.push(this.__cbOnceTabsHoverBackgroundAlphaChange[a]))}this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange=o,this.__cbOnceTabsHoverBackgroundAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabsHoverBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabsHoverBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsHoverBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange&&(this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange&&(this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange.push(null);null==this.__cbOnTabsHoverBackgroundAlphaChange&&(this.__cbOnTabsHoverBackgroundAlphaChange=[]),this.__cbOnTabsHoverBackgroundAlphaChange.push(t)},onceTabsHoverBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabsHoverBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsHoverBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange.push(null);null==this.__cbOnceTabsHoverBackgroundAlphaChange&&(this.__cbOnceTabsHoverBackgroundAlphaChange=[]),this.__cbOnceTabsHoverBackgroundAlphaChange.push(t)},offTabsHoverBackgroundAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsHoverBackgroundAlphaChange&&-1!=(n=this.__cbOnTabsHoverBackgroundAlphaChange.indexOf(e))&&(this.__cbOnTabsHoverBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange[n])&&s(),this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange.splice(n,1)),null!=this.__cbOnceTabsHoverBackgroundAlphaChange&&-1!=(n=this.__cbOnceTabsHoverBackgroundAlphaChange.indexOf(e))&&(this.__cbOnceTabsHoverBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange[l])&&s()}this.__cbOnOwnerUnbindTabsHoverBackgroundAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindTabsHoverBackgroundAlphaChange=null}this.__cbOnTabsHoverBackgroundAlphaChange=null,this.__cbOnceTabsHoverBackgroundAlphaChange=null}},listensTabsHoverBackgroundAlphaChange:function(){return null!=this.__cbOnTabsHoverBackgroundAlphaChange&&0<this.__cbOnTabsHoverBackgroundAlphaChange.length||null!=this.__cbOnceTabsHoverBackgroundAlphaChange&&0<this.__cbOnceTabsHoverBackgroundAlphaChange.length},tabsBorderColorAutoruns:null,get_tabsBorderColor:function(){var e,n,t=this.unobservedTabsBorderColor;return null!=w.current&&(e=w.current,null!=(n=this.tabsBorderColorAutoruns)||(n=w.getAutorunArray(),null!=(this.tabsBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_tabsBorderColor:function(e){var n=this.unobservedTabsBorderColor;return n!=(this.unobservedTabsBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitTabsBorderColorChange(e,n),null!=(n=this.tabsBorderColorAutoruns))&&(this.tabsBorderColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTabsBorderColor:function(){var e=this.unobservedTabsBorderColor,e=(this.emitTabsBorderColorChange(e,e),this.tabsBorderColorAutoruns);null!=e&&(this.tabsBorderColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedTabsBorderColor:null,__cbOnTabsBorderColorChange:null,__cbOnceTabsBorderColorChange:null,__cbOnOwnerUnbindTabsBorderColorChange:null,__cbOnceOwnerUnbindTabsBorderColorChange:null,emitTabsBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnTabsBorderColorChange&&(t+=this.__cbOnTabsBorderColorChange.length),null!=this.__cbOnceTabsBorderColorChange&&(t+=this.__cbOnceTabsBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTabsBorderColorChange)for(var r=0,h=this.__cbOnTabsBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTabsBorderColorChange[a],++s):--t}if(null!=this.__cbOnceTabsBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceTabsBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTabsBorderColorChange[a],this.__cbOnceTabsBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindTabsBorderColorChange[a],(this.__cbOnceOwnerUnbindTabsBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTabsBorderColorChange[a]),c.push(this.__cbOnceTabsBorderColorChange[a]))}this.__cbOnceOwnerUnbindTabsBorderColorChange=o,this.__cbOnceTabsBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTabsBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabsBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTabsBorderColorChange&&(this.__cbOnOwnerUnbindTabsBorderColorChange=[]),this.__cbOnOwnerUnbindTabsBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTabsBorderColorChange&&(this.__cbOnOwnerUnbindTabsBorderColorChange=[]),this.__cbOnOwnerUnbindTabsBorderColorChange.push(null);null==this.__cbOnTabsBorderColorChange&&(this.__cbOnTabsBorderColorChange=[]),this.__cbOnTabsBorderColorChange.push(t)},onceTabsBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event tabsBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTabsBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTabsBorderColorChange&&(this.__cbOnceOwnerUnbindTabsBorderColorChange=[]),this.__cbOnceOwnerUnbindTabsBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTabsBorderColorChange&&(this.__cbOnceOwnerUnbindTabsBorderColorChange=[]),this.__cbOnceOwnerUnbindTabsBorderColorChange.push(null);null==this.__cbOnceTabsBorderColorChange&&(this.__cbOnceTabsBorderColorChange=[]),this.__cbOnceTabsBorderColorChange.push(t)},offTabsBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnTabsBorderColorChange&&-1!=(n=this.__cbOnTabsBorderColorChange.indexOf(e))&&(this.__cbOnTabsBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTabsBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindTabsBorderColorChange.splice(n,1)),null!=this.__cbOnceTabsBorderColorChange&&-1!=(n=this.__cbOnceTabsBorderColorChange.indexOf(e))&&(this.__cbOnceTabsBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTabsBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindTabsBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTabsBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindTabsBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTabsBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindTabsBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindTabsBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindTabsBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTabsBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindTabsBorderColorChange=null}this.__cbOnTabsBorderColorChange=null,this.__cbOnceTabsBorderColorChange=null}},listensTabsBorderColorChange:function(){return null!=this.__cbOnTabsBorderColorChange&&0<this.__cbOnTabsBorderColorChange.length||null!=this.__cbOnceTabsBorderColorChange&&0<this.__cbOnceTabsBorderColorChange.length},disabledTabTextAlphaAutoruns:null,get_disabledTabTextAlpha:function(){var e,n,t=this.unobservedDisabledTabTextAlpha;return null!=w.current&&(e=w.current,null!=(n=this.disabledTabTextAlphaAutoruns)||(n=w.getAutorunArray(),null!=(this.disabledTabTextAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabledTabTextAlpha:function(e){var n=this.unobservedDisabledTabTextAlpha;return n!=(this.unobservedDisabledTabTextAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDisabledTabTextAlphaChange(e,n),null!=(n=this.disabledTabTextAlphaAutoruns))&&(this.disabledTabTextAlphaAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDisabledTabTextAlpha:function(){var e=this.unobservedDisabledTabTextAlpha,e=(this.emitDisabledTabTextAlphaChange(e,e),this.disabledTabTextAlphaAutoruns);null!=e&&(this.disabledTabTextAlphaAutoruns=null,w.invalidateAutorunArray(e))},unobservedDisabledTabTextAlpha:null,__cbOnDisabledTabTextAlphaChange:null,__cbOnceDisabledTabTextAlphaChange:null,__cbOnOwnerUnbindDisabledTabTextAlphaChange:null,__cbOnceOwnerUnbindDisabledTabTextAlphaChange:null,emitDisabledTabTextAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledTabTextAlphaChange&&(t+=this.__cbOnDisabledTabTextAlphaChange.length),null!=this.__cbOnceDisabledTabTextAlphaChange&&(t+=this.__cbOnceDisabledTabTextAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledTabTextAlphaChange)for(var r=0,h=this.__cbOnDisabledTabTextAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledTabTextAlphaChange[a],++s):--t}if(null!=this.__cbOnceDisabledTabTextAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledTabTextAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledTabTextAlphaChange[a],this.__cbOnceDisabledTabTextAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[a],(this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[a]),c.push(this.__cbOnceDisabledTabTextAlphaChange[a]))}this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange=o,this.__cbOnceDisabledTabTextAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledTabTextAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledTabTextAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledTabTextAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledTabTextAlphaChange&&(this.__cbOnOwnerUnbindDisabledTabTextAlphaChange=[]),this.__cbOnOwnerUnbindDisabledTabTextAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledTabTextAlphaChange&&(this.__cbOnOwnerUnbindDisabledTabTextAlphaChange=[]),this.__cbOnOwnerUnbindDisabledTabTextAlphaChange.push(null);null==this.__cbOnDisabledTabTextAlphaChange&&(this.__cbOnDisabledTabTextAlphaChange=[]),this.__cbOnDisabledTabTextAlphaChange.push(t)},onceDisabledTabTextAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledTabTextAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledTabTextAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange&&(this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange=[]),this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange&&(this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange=[]),this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange.push(null);null==this.__cbOnceDisabledTabTextAlphaChange&&(this.__cbOnceDisabledTabTextAlphaChange=[]),this.__cbOnceDisabledTabTextAlphaChange.push(t)},offDisabledTabTextAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledTabTextAlphaChange&&-1!=(n=this.__cbOnDisabledTabTextAlphaChange.indexOf(e))&&(this.__cbOnDisabledTabTextAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledTabTextAlphaChange[n])&&s(),this.__cbOnOwnerUnbindDisabledTabTextAlphaChange.splice(n,1)),null!=this.__cbOnceDisabledTabTextAlphaChange&&-1!=(n=this.__cbOnceDisabledTabTextAlphaChange.indexOf(e))&&(this.__cbOnceDisabledTabTextAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledTabTextAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledTabTextAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledTabTextAlphaChange[l])&&s()}this.__cbOnOwnerUnbindDisabledTabTextAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledTabTextAlphaChange=null}this.__cbOnDisabledTabTextAlphaChange=null,this.__cbOnceDisabledTabTextAlphaChange=null}},listensDisabledTabTextAlphaChange:function(){return null!=this.__cbOnDisabledTabTextAlphaChange&&0<this.__cbOnDisabledTabTextAlphaChange.length||null!=this.__cbOnceDisabledTabTextAlphaChange&&0<this.__cbOnceDisabledTabTextAlphaChange.length},disabledTabBorderAlphaAutoruns:null,get_disabledTabBorderAlpha:function(){var e,n,t=this.unobservedDisabledTabBorderAlpha;return null!=w.current&&(e=w.current,null!=(n=this.disabledTabBorderAlphaAutoruns)||(n=w.getAutorunArray(),null!=(this.disabledTabBorderAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_disabledTabBorderAlpha:function(e){var n=this.unobservedDisabledTabBorderAlpha;return n!=(this.unobservedDisabledTabBorderAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitDisabledTabBorderAlphaChange(e,n),null!=(n=this.disabledTabBorderAlphaAutoruns))&&(this.disabledTabBorderAlphaAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateDisabledTabBorderAlpha:function(){var e=this.unobservedDisabledTabBorderAlpha,e=(this.emitDisabledTabBorderAlphaChange(e,e),this.disabledTabBorderAlphaAutoruns);null!=e&&(this.disabledTabBorderAlphaAutoruns=null,w.invalidateAutorunArray(e))},unobservedDisabledTabBorderAlpha:null,__cbOnDisabledTabBorderAlphaChange:null,__cbOnceDisabledTabBorderAlphaChange:null,__cbOnOwnerUnbindDisabledTabBorderAlphaChange:null,__cbOnceOwnerUnbindDisabledTabBorderAlphaChange:null,emitDisabledTabBorderAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnDisabledTabBorderAlphaChange&&(t+=this.__cbOnDisabledTabBorderAlphaChange.length),null!=this.__cbOnceDisabledTabBorderAlphaChange&&(t+=this.__cbOnceDisabledTabBorderAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnDisabledTabBorderAlphaChange)for(var r=0,h=this.__cbOnDisabledTabBorderAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnDisabledTabBorderAlphaChange[a],++s):--t}if(null!=this.__cbOnceDisabledTabBorderAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceDisabledTabBorderAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceDisabledTabBorderAlphaChange[a],this.__cbOnceDisabledTabBorderAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[a],(this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[a]),c.push(this.__cbOnceDisabledTabBorderAlphaChange[a]))}this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange=o,this.__cbOnceDisabledTabBorderAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onDisabledTabBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledTabBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledTabBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange&&(this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange=[]),this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange&&(this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange=[]),this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange.push(null);null==this.__cbOnDisabledTabBorderAlphaChange&&(this.__cbOnDisabledTabBorderAlphaChange=[]),this.__cbOnDisabledTabBorderAlphaChange.push(t)},onceDisabledTabBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event disabledTabBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offDisabledTabBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange&&(this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange=[]),this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange&&(this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange=[]),this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange.push(null);null==this.__cbOnceDisabledTabBorderAlphaChange&&(this.__cbOnceDisabledTabBorderAlphaChange=[]),this.__cbOnceDisabledTabBorderAlphaChange.push(t)},offDisabledTabBorderAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnDisabledTabBorderAlphaChange&&-1!=(n=this.__cbOnDisabledTabBorderAlphaChange.indexOf(e))&&(this.__cbOnDisabledTabBorderAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange[n])&&s(),this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange.splice(n,1)),null!=this.__cbOnceDisabledTabBorderAlphaChange&&-1!=(n=this.__cbOnceDisabledTabBorderAlphaChange.indexOf(e))&&(this.__cbOnceDisabledTabBorderAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange[l])&&s()}this.__cbOnOwnerUnbindDisabledTabBorderAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindDisabledTabBorderAlphaChange=null}this.__cbOnDisabledTabBorderAlphaChange=null,this.__cbOnceDisabledTabBorderAlphaChange=null}},listensDisabledTabBorderAlphaChange:function(){return null!=this.__cbOnDisabledTabBorderAlphaChange&&0<this.__cbOnDisabledTabBorderAlphaChange.length||null!=this.__cbOnceDisabledTabBorderAlphaChange&&0<this.__cbOnceDisabledTabBorderAlphaChange.length},windowBackgroundColorAutoruns:null,get_windowBackgroundColor:function(){var e,n,t=this.unobservedWindowBackgroundColor;return null!=w.current&&(e=w.current,null!=(n=this.windowBackgroundColorAutoruns)||(n=w.getAutorunArray(),null!=(this.windowBackgroundColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowBackgroundColor:function(e){var n=this.unobservedWindowBackgroundColor;return n!=(this.unobservedWindowBackgroundColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowBackgroundColorChange(e,n),null!=(n=this.windowBackgroundColorAutoruns))&&(this.windowBackgroundColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateWindowBackgroundColor:function(){var e=this.unobservedWindowBackgroundColor,e=(this.emitWindowBackgroundColorChange(e,e),this.windowBackgroundColorAutoruns);null!=e&&(this.windowBackgroundColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedWindowBackgroundColor:null,__cbOnWindowBackgroundColorChange:null,__cbOnceWindowBackgroundColorChange:null,__cbOnOwnerUnbindWindowBackgroundColorChange:null,__cbOnceOwnerUnbindWindowBackgroundColorChange:null,emitWindowBackgroundColorChange:function(e,n){var t=0;if(null!=this.__cbOnWindowBackgroundColorChange&&(t+=this.__cbOnWindowBackgroundColorChange.length),null!=this.__cbOnceWindowBackgroundColorChange&&(t+=this.__cbOnceWindowBackgroundColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowBackgroundColorChange)for(var r=0,h=this.__cbOnWindowBackgroundColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWindowBackgroundColorChange[a],++s):--t}if(null!=this.__cbOnceWindowBackgroundColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceWindowBackgroundColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWindowBackgroundColorChange[a],this.__cbOnceWindowBackgroundColorChange[a]=null,u=this.__cbOnceOwnerUnbindWindowBackgroundColorChange[a],(this.__cbOnceOwnerUnbindWindowBackgroundColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowBackgroundColorChange[a]),c.push(this.__cbOnceWindowBackgroundColorChange[a]))}this.__cbOnceOwnerUnbindWindowBackgroundColorChange=o,this.__cbOnceWindowBackgroundColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWindowBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event windowBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowBackgroundColorChange&&(this.__cbOnOwnerUnbindWindowBackgroundColorChange=[]),this.__cbOnOwnerUnbindWindowBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowBackgroundColorChange&&(this.__cbOnOwnerUnbindWindowBackgroundColorChange=[]),this.__cbOnOwnerUnbindWindowBackgroundColorChange.push(null);null==this.__cbOnWindowBackgroundColorChange&&(this.__cbOnWindowBackgroundColorChange=[]),this.__cbOnWindowBackgroundColorChange.push(t)},onceWindowBackgroundColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event windowBackgroundColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBackgroundColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowBackgroundColorChange&&(this.__cbOnceOwnerUnbindWindowBackgroundColorChange=[]),this.__cbOnceOwnerUnbindWindowBackgroundColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowBackgroundColorChange&&(this.__cbOnceOwnerUnbindWindowBackgroundColorChange=[]),this.__cbOnceOwnerUnbindWindowBackgroundColorChange.push(null);null==this.__cbOnceWindowBackgroundColorChange&&(this.__cbOnceWindowBackgroundColorChange=[]),this.__cbOnceWindowBackgroundColorChange.push(t)},offWindowBackgroundColorChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowBackgroundColorChange&&-1!=(n=this.__cbOnWindowBackgroundColorChange.indexOf(e))&&(this.__cbOnWindowBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowBackgroundColorChange[n])&&s(),this.__cbOnOwnerUnbindWindowBackgroundColorChange.splice(n,1)),null!=this.__cbOnceWindowBackgroundColorChange&&-1!=(n=this.__cbOnceWindowBackgroundColorChange.indexOf(e))&&(this.__cbOnceWindowBackgroundColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowBackgroundColorChange[n])&&s(),this.__cbOnceOwnerUnbindWindowBackgroundColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowBackgroundColorChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowBackgroundColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowBackgroundColorChange[l])&&s()}this.__cbOnOwnerUnbindWindowBackgroundColorChange=null}if(null!=this.__cbOnceOwnerUnbindWindowBackgroundColorChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowBackgroundColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowBackgroundColorChange[l])&&s()}this.__cbOnceOwnerUnbindWindowBackgroundColorChange=null}this.__cbOnWindowBackgroundColorChange=null,this.__cbOnceWindowBackgroundColorChange=null}},listensWindowBackgroundColorChange:function(){return null!=this.__cbOnWindowBackgroundColorChange&&0<this.__cbOnWindowBackgroundColorChange.length||null!=this.__cbOnceWindowBackgroundColorChange&&0<this.__cbOnceWindowBackgroundColorChange.length},windowBackgroundAlphaAutoruns:null,get_windowBackgroundAlpha:function(){var e,n,t=this.unobservedWindowBackgroundAlpha;return null!=w.current&&(e=w.current,null!=(n=this.windowBackgroundAlphaAutoruns)||(n=w.getAutorunArray(),null!=(this.windowBackgroundAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowBackgroundAlpha:function(e){var n=this.unobservedWindowBackgroundAlpha;return n!=(this.unobservedWindowBackgroundAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowBackgroundAlphaChange(e,n),null!=(n=this.windowBackgroundAlphaAutoruns))&&(this.windowBackgroundAlphaAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateWindowBackgroundAlpha:function(){var e=this.unobservedWindowBackgroundAlpha,e=(this.emitWindowBackgroundAlphaChange(e,e),this.windowBackgroundAlphaAutoruns);null!=e&&(this.windowBackgroundAlphaAutoruns=null,w.invalidateAutorunArray(e))},unobservedWindowBackgroundAlpha:null,__cbOnWindowBackgroundAlphaChange:null,__cbOnceWindowBackgroundAlphaChange:null,__cbOnOwnerUnbindWindowBackgroundAlphaChange:null,__cbOnceOwnerUnbindWindowBackgroundAlphaChange:null,emitWindowBackgroundAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnWindowBackgroundAlphaChange&&(t+=this.__cbOnWindowBackgroundAlphaChange.length),null!=this.__cbOnceWindowBackgroundAlphaChange&&(t+=this.__cbOnceWindowBackgroundAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowBackgroundAlphaChange)for(var r=0,h=this.__cbOnWindowBackgroundAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWindowBackgroundAlphaChange[a],++s):--t}if(null!=this.__cbOnceWindowBackgroundAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceWindowBackgroundAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWindowBackgroundAlphaChange[a],this.__cbOnceWindowBackgroundAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[a],(this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[a]),c.push(this.__cbOnceWindowBackgroundAlphaChange[a]))}this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange=o,this.__cbOnceWindowBackgroundAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWindowBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event windowBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowBackgroundAlphaChange&&(this.__cbOnOwnerUnbindWindowBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindWindowBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowBackgroundAlphaChange&&(this.__cbOnOwnerUnbindWindowBackgroundAlphaChange=[]),this.__cbOnOwnerUnbindWindowBackgroundAlphaChange.push(null);null==this.__cbOnWindowBackgroundAlphaChange&&(this.__cbOnWindowBackgroundAlphaChange=[]),this.__cbOnWindowBackgroundAlphaChange.push(t)},onceWindowBackgroundAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event windowBackgroundAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBackgroundAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange&&(this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange=[]),this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange.push(null);null==this.__cbOnceWindowBackgroundAlphaChange&&(this.__cbOnceWindowBackgroundAlphaChange=[]),this.__cbOnceWindowBackgroundAlphaChange.push(t)},offWindowBackgroundAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowBackgroundAlphaChange&&-1!=(n=this.__cbOnWindowBackgroundAlphaChange.indexOf(e))&&(this.__cbOnWindowBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowBackgroundAlphaChange[n])&&s(),this.__cbOnOwnerUnbindWindowBackgroundAlphaChange.splice(n,1)),null!=this.__cbOnceWindowBackgroundAlphaChange&&-1!=(n=this.__cbOnceWindowBackgroundAlphaChange.indexOf(e))&&(this.__cbOnceWindowBackgroundAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowBackgroundAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowBackgroundAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowBackgroundAlphaChange[l])&&s()}this.__cbOnOwnerUnbindWindowBackgroundAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindWindowBackgroundAlphaChange=null}this.__cbOnWindowBackgroundAlphaChange=null,this.__cbOnceWindowBackgroundAlphaChange=null}},listensWindowBackgroundAlphaChange:function(){return null!=this.__cbOnWindowBackgroundAlphaChange&&0<this.__cbOnWindowBackgroundAlphaChange.length||null!=this.__cbOnceWindowBackgroundAlphaChange&&0<this.__cbOnceWindowBackgroundAlphaChange.length},windowBorderColorAutoruns:null,get_windowBorderColor:function(){var e,n,t=this.unobservedWindowBorderColor;return null!=w.current&&(e=w.current,null!=(n=this.windowBorderColorAutoruns)||(n=w.getAutorunArray(),null!=(this.windowBorderColorAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowBorderColor:function(e){var n=this.unobservedWindowBorderColor;return n!=(this.unobservedWindowBorderColor=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowBorderColorChange(e,n),null!=(n=this.windowBorderColorAutoruns))&&(this.windowBorderColorAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateWindowBorderColor:function(){var e=this.unobservedWindowBorderColor,e=(this.emitWindowBorderColorChange(e,e),this.windowBorderColorAutoruns);null!=e&&(this.windowBorderColorAutoruns=null,w.invalidateAutorunArray(e))},unobservedWindowBorderColor:null,__cbOnWindowBorderColorChange:null,__cbOnceWindowBorderColorChange:null,__cbOnOwnerUnbindWindowBorderColorChange:null,__cbOnceOwnerUnbindWindowBorderColorChange:null,emitWindowBorderColorChange:function(e,n){var t=0;if(null!=this.__cbOnWindowBorderColorChange&&(t+=this.__cbOnWindowBorderColorChange.length),null!=this.__cbOnceWindowBorderColorChange&&(t+=this.__cbOnceWindowBorderColorChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowBorderColorChange)for(var r=0,h=this.__cbOnWindowBorderColorChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWindowBorderColorChange[a],++s):--t}if(null!=this.__cbOnceWindowBorderColorChange){for(var o=null,c=null,r=0,h=this.__cbOnceWindowBorderColorChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWindowBorderColorChange[a],this.__cbOnceWindowBorderColorChange[a]=null,u=this.__cbOnceOwnerUnbindWindowBorderColorChange[a],(this.__cbOnceOwnerUnbindWindowBorderColorChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowBorderColorChange[a]),c.push(this.__cbOnceWindowBorderColorChange[a]))}this.__cbOnceOwnerUnbindWindowBorderColorChange=o,this.__cbOnceWindowBorderColorChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWindowBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event windowBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowBorderColorChange&&(this.__cbOnOwnerUnbindWindowBorderColorChange=[]),this.__cbOnOwnerUnbindWindowBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowBorderColorChange&&(this.__cbOnOwnerUnbindWindowBorderColorChange=[]),this.__cbOnOwnerUnbindWindowBorderColorChange.push(null);null==this.__cbOnWindowBorderColorChange&&(this.__cbOnWindowBorderColorChange=[]),this.__cbOnWindowBorderColorChange.push(t)},onceWindowBorderColorChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event windowBorderColorChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBorderColorChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowBorderColorChange&&(this.__cbOnceOwnerUnbindWindowBorderColorChange=[]),this.__cbOnceOwnerUnbindWindowBorderColorChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowBorderColorChange&&(this.__cbOnceOwnerUnbindWindowBorderColorChange=[]),this.__cbOnceOwnerUnbindWindowBorderColorChange.push(null);null==this.__cbOnceWindowBorderColorChange&&(this.__cbOnceWindowBorderColorChange=[]),this.__cbOnceWindowBorderColorChange.push(t)},offWindowBorderColorChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowBorderColorChange&&-1!=(n=this.__cbOnWindowBorderColorChange.indexOf(e))&&(this.__cbOnWindowBorderColorChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowBorderColorChange[n])&&s(),this.__cbOnOwnerUnbindWindowBorderColorChange.splice(n,1)),null!=this.__cbOnceWindowBorderColorChange&&-1!=(n=this.__cbOnceWindowBorderColorChange.indexOf(e))&&(this.__cbOnceWindowBorderColorChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowBorderColorChange[n])&&s(),this.__cbOnceOwnerUnbindWindowBorderColorChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowBorderColorChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowBorderColorChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowBorderColorChange[l])&&s()}this.__cbOnOwnerUnbindWindowBorderColorChange=null}if(null!=this.__cbOnceOwnerUnbindWindowBorderColorChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowBorderColorChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowBorderColorChange[l])&&s()}this.__cbOnceOwnerUnbindWindowBorderColorChange=null}this.__cbOnWindowBorderColorChange=null,this.__cbOnceWindowBorderColorChange=null}},listensWindowBorderColorChange:function(){return null!=this.__cbOnWindowBorderColorChange&&0<this.__cbOnWindowBorderColorChange.length||null!=this.__cbOnceWindowBorderColorChange&&0<this.__cbOnceWindowBorderColorChange.length},windowBorderAlphaAutoruns:null,get_windowBorderAlpha:function(){var e,n,t=this.unobservedWindowBorderAlpha;return null!=w.current&&(e=w.current,null!=(n=this.windowBorderAlphaAutoruns)||(n=w.getAutorunArray(),null!=(this.windowBorderAlphaAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowBorderAlpha:function(e){var n=this.unobservedWindowBorderAlpha;return n!=(this.unobservedWindowBorderAlpha=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowBorderAlphaChange(e,n),null!=(n=this.windowBorderAlphaAutoruns))&&(this.windowBorderAlphaAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateWindowBorderAlpha:function(){var e=this.unobservedWindowBorderAlpha,e=(this.emitWindowBorderAlphaChange(e,e),this.windowBorderAlphaAutoruns);null!=e&&(this.windowBorderAlphaAutoruns=null,w.invalidateAutorunArray(e))},unobservedWindowBorderAlpha:null,__cbOnWindowBorderAlphaChange:null,__cbOnceWindowBorderAlphaChange:null,__cbOnOwnerUnbindWindowBorderAlphaChange:null,__cbOnceOwnerUnbindWindowBorderAlphaChange:null,emitWindowBorderAlphaChange:function(e,n){var t=0;if(null!=this.__cbOnWindowBorderAlphaChange&&(t+=this.__cbOnWindowBorderAlphaChange.length),null!=this.__cbOnceWindowBorderAlphaChange&&(t+=this.__cbOnceWindowBorderAlphaChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowBorderAlphaChange)for(var r=0,h=this.__cbOnWindowBorderAlphaChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWindowBorderAlphaChange[a],++s):--t}if(null!=this.__cbOnceWindowBorderAlphaChange){for(var o=null,c=null,r=0,h=this.__cbOnceWindowBorderAlphaChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWindowBorderAlphaChange[a],this.__cbOnceWindowBorderAlphaChange[a]=null,u=this.__cbOnceOwnerUnbindWindowBorderAlphaChange[a],(this.__cbOnceOwnerUnbindWindowBorderAlphaChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowBorderAlphaChange[a]),c.push(this.__cbOnceWindowBorderAlphaChange[a]))}this.__cbOnceOwnerUnbindWindowBorderAlphaChange=o,this.__cbOnceWindowBorderAlphaChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWindowBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event windowBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowBorderAlphaChange&&(this.__cbOnOwnerUnbindWindowBorderAlphaChange=[]),this.__cbOnOwnerUnbindWindowBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowBorderAlphaChange&&(this.__cbOnOwnerUnbindWindowBorderAlphaChange=[]),this.__cbOnOwnerUnbindWindowBorderAlphaChange.push(null);null==this.__cbOnWindowBorderAlphaChange&&(this.__cbOnWindowBorderAlphaChange=[]),this.__cbOnWindowBorderAlphaChange.push(t)},onceWindowBorderAlphaChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event windowBorderAlphaChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowBorderAlphaChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowBorderAlphaChange&&(this.__cbOnceOwnerUnbindWindowBorderAlphaChange=[]),this.__cbOnceOwnerUnbindWindowBorderAlphaChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowBorderAlphaChange&&(this.__cbOnceOwnerUnbindWindowBorderAlphaChange=[]),this.__cbOnceOwnerUnbindWindowBorderAlphaChange.push(null);null==this.__cbOnceWindowBorderAlphaChange&&(this.__cbOnceWindowBorderAlphaChange=[]),this.__cbOnceWindowBorderAlphaChange.push(t)},offWindowBorderAlphaChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowBorderAlphaChange&&-1!=(n=this.__cbOnWindowBorderAlphaChange.indexOf(e))&&(this.__cbOnWindowBorderAlphaChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowBorderAlphaChange[n])&&s(),this.__cbOnOwnerUnbindWindowBorderAlphaChange.splice(n,1)),null!=this.__cbOnceWindowBorderAlphaChange&&-1!=(n=this.__cbOnceWindowBorderAlphaChange.indexOf(e))&&(this.__cbOnceWindowBorderAlphaChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowBorderAlphaChange[n])&&s(),this.__cbOnceOwnerUnbindWindowBorderAlphaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowBorderAlphaChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowBorderAlphaChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowBorderAlphaChange[l])&&s()}this.__cbOnOwnerUnbindWindowBorderAlphaChange=null}if(null!=this.__cbOnceOwnerUnbindWindowBorderAlphaChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowBorderAlphaChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowBorderAlphaChange[l])&&s()}this.__cbOnceOwnerUnbindWindowBorderAlphaChange=null}this.__cbOnWindowBorderAlphaChange=null,this.__cbOnceWindowBorderAlphaChange=null}},listensWindowBorderAlphaChange:function(){return null!=this.__cbOnWindowBorderAlphaChange&&0<this.__cbOnWindowBorderAlphaChange.length||null!=this.__cbOnceWindowBorderAlphaChange&&0<this.__cbOnceWindowBorderAlphaChange.length},clone:function(e){return(e=null==e?new Al:e).set_backgroundInFormLayout(this.get_backgroundInFormLayout()),e.set_fieldTextColor(this.get_fieldTextColor()),e.set_fieldPlaceholderColor(this.get_fieldPlaceholderColor()),e.set_lightTextColor(this.get_lightTextColor()),e.set_mediumTextColor(this.get_mediumTextColor()),e.set_darkTextColor(this.get_darkTextColor()),e.set_darkerTextColor(this.get_darkerTextColor()),e.set_iconColor(this.get_iconColor()),e.set_customMediumFont(this.get_customMediumFont()),e.set_lighterBorderColor(this.get_lighterBorderColor()),e.set_lightBorderColor(this.get_lightBorderColor()),e.set_mediumBorderColor(this.get_mediumBorderColor()),e.set_darkBorderColor(this.get_darkBorderColor()),e.set_lightBackgroundColor(this.get_lightBackgroundColor()),e.set_mediumBackgroundColor(this.get_mediumBackgroundColor()),e.set_darkBackgroundColor(this.get_darkBackgroundColor()),e.set_darkerBackgroundColor(this.get_darkerBackgroundColor()),e.set_selectionBorderColor(this.get_selectionBorderColor()),e.set_highlightColor(this.get_highlightColor()),e.set_highlightPendingColor(this.get_highlightPendingColor()),e.set_formItemSpacing(this.get_formItemSpacing()),e.set_formPadding(this.get_formPadding()),e.set_tabsMarginY(this.get_tabsMarginY()),e.set_focusedFieldSelectionColor(this.get_focusedFieldSelectionColor()),e.set_focusedFieldBorderColor(this.get_focusedFieldBorderColor()),e.set_overlayBackgroundColor(this.get_overlayBackgroundColor()),e.set_overlayBackgroundAlpha(this.get_overlayBackgroundAlpha()),e.set_overlayBorderColor(this.get_overlayBorderColor()),e.set_overlayBorderAlpha(this.get_overlayBorderAlpha()),e.set_buttonBackgroundColor(this.get_buttonBackgroundColor()),e.set_buttonOverBackgroundColor(this.get_buttonOverBackgroundColor()),e.set_buttonPressedBackgroundColor(this.get_buttonPressedBackgroundColor()),e.set_buttonFocusedBorderColor(this.get_buttonFocusedBorderColor()),e.set_tabsBackgroundColor(this.get_tabsBackgroundColor()),e.set_tabsBackgroundAlpha(this.get_tabsBackgroundAlpha()),e.set_tabsHoverBackgroundColor(this.get_tabsHoverBackgroundColor()),e.set_tabsHoverBackgroundAlpha(this.get_tabsHoverBackgroundAlpha()),e.set_tabsBorderColor(this.get_tabsBorderColor()),e.set_windowBackgroundColor(this.get_windowBackgroundColor()),e.set_windowBackgroundAlpha(this.get_windowBackgroundAlpha()),e.set_windowBorderColor(this.get_windowBorderColor()),e.set_windowBorderAlpha(this.get_windowBorderAlpha()),e._clonedIndex=this._index,e},applyTint:function(e,n){null==e&&(e=W.get_context().get_theme());var t=M.get_hueHSLuv(n),i=M.get_saturationHSLuv(n),n=M.get_lightnessHSLuv(n),l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_fieldTextColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0);var r=Math.round(255*u),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{var h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_fieldTextColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_fieldPlaceholderColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_fieldPlaceholderColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_lightTextColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_lightTextColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_mediumTextColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_mediumTextColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_darkTextColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_darkTextColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_darkerTextColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_darkerTextColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_iconColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_iconColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_lighterBorderColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_lighterBorderColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_lightBorderColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_lightBorderColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_mediumBorderColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_mediumBorderColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_darkBorderColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_darkBorderColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_lightBackgroundColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_lightBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_mediumBackgroundColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_mediumBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_darkBackgroundColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_darkBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_darkerBackgroundColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_darkerBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_overlayBackgroundColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_overlayBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_overlayBorderColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_overlayBorderColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_buttonBackgroundColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_buttonBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_buttonOverBackgroundColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_buttonOverBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_buttonPressedBackgroundColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_buttonPressedBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_tabsBackgroundColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_tabsBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_tabsHoverBackgroundColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_tabsHoverBackgroundColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_tabsBorderColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_tabsBorderColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_windowBackgroundColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_windowBackgroundColor(s);var u,l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_windowBorderColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{var _,d,h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_windowBorderColor(s)},applyAltTint:function(e,n){null==e&&(e=W.get_context().get_theme());var t=M.get_hueHSLuv(n),i=M.get_saturationHSLuv(n),n=M.get_lightnessHSLuv(n),l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_selectionBorderColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0);var r=Math.round(255*u),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{var h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_selectionBorderColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_highlightColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_highlightColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_highlightPendingColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_highlightPendingColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_focusedFieldSelectionColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_focusedFieldSelectionColor(s);l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_focusedFieldBorderColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_focusedFieldBorderColor(s);var u,l=Math.max(0,Math.min(1,.5*(2*M.get_lightnessHSLuv(e.get_buttonFocusedBorderColor())+n-.5))),s=0;if(M._hsluvTuple[0]=t,M._hsluvTuple[1]=100*i,M._hsluvTuple[2]=100*l,.001<l){g.hsluvToRgb(M._hsluvTuple,M._hsluvResult),(u=M._hsluvResult[0])<0&&(u=0);r=(s=s&65535|(255<(r=Math.round(255*u))?255:r<0?0:r)<<16,(u=M._hsluvResult[1])<0&&(u=0),Math.round(255*u)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,(u=M._hsluvResult[2])<0&&(u=0),Math.round(255*u));s=s&16776960|(255<r?255:r<0?0:r)}else{var _,d,h=l-(_=(1-Math.abs(2*l-1))*i)/2,a=t,o=(a%=360)/60,c=(d=_)*(1-Math.abs(o%2-1))+h;switch(d+=h,0|o){case 0:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 1:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*h));s=s&16776960|(255<r?255:r<0?0:r);break;case 2:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*d)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r);break;case 3:r=(s=s&65535|(255<(r=Math.round(255*h))?255:r<0?0:r)<<16,Math.round(255*c)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 4:r=(s=s&65535|(255<(r=Math.round(255*c))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*d));s=s&16776960|(255<r?255:r<0?0:r);break;case 5:r=(s=s&65535|(255<(r=Math.round(255*d))?255:r<0?0:r)<<16,Math.round(255*h)),r=(s=s&16711935|(255<r?255:r<0?0:r)<<8,Math.round(255*c));s=s&16776960|(255<r?255:r<0?0:r)}}this.set_buttonFocusedBorderColor(s)},applyBackgroundColor:function(e){this.set_tabsBackgroundColor(e),this.set_windowBackgroundColor(e)},applyTextColor:function(e){this.set_lightTextColor(e),this.set_mediumTextColor(e),this.set_darkTextColor(e),this.set_darkerTextColor(e)},_tint:null,_altTint:null,_backgroundColor:null,_textColor:null,_used:null,_index:null,_clonedIndex:null,unbindEvents:function(){Dd.prototype.unbindEvents.call(this),this.offBackgroundInFormLayoutChange(),this.offFieldTextColorChange(),this.offFieldPlaceholderColorChange(),this.offLightTextColorChange(),this.offMediumTextColorChange(),this.offDarkTextColorChange(),this.offDarkerTextColorChange(),this.offIconColorChange(),this.offCustomMediumFontChange(),this.offCustomBoldFontChange(),this.offLighterBorderColorChange(),this.offLightBorderColorChange(),this.offMediumBorderColorChange(),this.offDarkBorderColorChange(),this.offLightBackgroundColorChange(),this.offMediumBackgroundColorChange(),this.offDarkBackgroundColorChange(),this.offDarkerBackgroundColorChange(),this.offSelectionBorderColorChange(),this.offHighlightColorChange(),this.offHighlightPendingColorChange(),this.offFormItemSpacingChange(),this.offFormPaddingChange(),this.offTabsMarginYChange(),this.offFocusedFieldSelectionColorChange(),this.offFocusedFieldBorderColorChange(),this.offOverlayBackgroundColorChange(),this.offOverlayBackgroundAlphaChange(),this.offOverlayBorderColorChange(),this.offOverlayBorderAlphaChange(),this.offButtonBackgroundColorChange(),this.offButtonOverBackgroundColorChange(),this.offButtonPressedBackgroundColorChange(),this.offButtonFocusedBorderColorChange(),this.offTabsBackgroundColorChange(),this.offTabsBackgroundAlphaChange(),this.offTabsHoverBackgroundColorChange(),this.offTabsHoverBackgroundAlphaChange(),this.offTabsBorderColorChange(),this.offDisabledTabTextAlphaChange(),this.offDisabledTabBorderAlphaChange(),this.offWindowBackgroundColorChange(),this.offWindowBackgroundAlphaChange(),this.offWindowBorderColorChange(),this.offWindowBorderAlphaChange()},_default_backgroundInFormLayoutAutoruns:function(){return null},_default_backgroundInFormLayout:function(){return!1},_default_fieldTextColorAutoruns:function(){return null},_default_fieldTextColor:function(){return 16777215},_default_fieldPlaceholderColorAutoruns:function(){return null},_default_fieldPlaceholderColor:function(){return 8947848},_default_lightTextColorAutoruns:function(){return null},_default_lightTextColor:function(){return 15987699},_default_mediumTextColorAutoruns:function(){return null},_default_mediumTextColor:function(){return 13421772},_default_darkTextColorAutoruns:function(){return null},_default_darkTextColor:function(){return 8947848},_default_darkerTextColorAutoruns:function(){return null},_default_darkerTextColor:function(){return 5592405},_default_iconColorAutoruns:function(){return null},_default_iconColor:function(){return 16777215},_default_customMediumFontAutoruns:function(){return null},_default_customMediumFont:function(){return null},_default_customBoldFontAutoruns:function(){return null},_default_customBoldFont:function(){return null},_default_lighterBorderColorAutoruns:function(){return null},_default_lighterBorderColor:function(){return 10066329},_default_lightBorderColorAutoruns:function(){return null},_default_lightBorderColor:function(){return 6513507},_default_mediumBorderColorAutoruns:function(){return null},_default_mediumBorderColor:function(){return 4605510},_default_darkBorderColorAutoruns:function(){return null},_default_darkBorderColor:function(){return 3684408},_default_lightBackgroundColorAutoruns:function(){return null},_default_lightBackgroundColor:function(){return 5197647},_default_mediumBackgroundColorAutoruns:function(){return null},_default_mediumBackgroundColor:function(){return 4868682},_default_darkBackgroundColorAutoruns:function(){return null},_default_darkBackgroundColor:function(){return 4342338},_default_darkerBackgroundColorAutoruns:function(){return null},_default_darkerBackgroundColor:function(){return 2631720},_default_selectionBorderColorAutoruns:function(){return null},_default_selectionBorderColor:function(){return 4428512},_default_highlightColorAutoruns:function(){return null},_default_highlightColor:function(){return 4428512},_default_highlightPendingColorAutoruns:function(){return null},_default_highlightPendingColor:function(){return 16666932},_default_formItemSpacingAutoruns:function(){return null},_default_formItemSpacing:function(){return 6},_default_formPaddingAutoruns:function(){return null},_default_formPadding:function(){return 6},_default_tabsMarginYAutoruns:function(){return null},_default_tabsMarginY:function(){return 6},_default_focusedFieldSelectionColorAutoruns:function(){return null},_default_focusedFieldSelectionColor:function(){return 3175366},_default_focusedFieldBorderColorAutoruns:function(){return null},_default_focusedFieldBorderColor:function(){return 4428512},_default_overlayBackgroundColorAutoruns:function(){return null},_default_overlayBackgroundColor:function(){return 1842204},_default_overlayBackgroundAlphaAutoruns:function(){return null},_default_overlayBackgroundAlpha:function(){return.925},_default_overlayBorderColorAutoruns:function(){return null},_default_overlayBorderColor:function(){return 6513507},_default_overlayBorderAlphaAutoruns:function(){return null},_default_overlayBorderAlpha:function(){return 1},_default_buttonBackgroundColorAutoruns:function(){return null},_default_buttonBackgroundColor:function(){return 5329233},_default_buttonOverBackgroundColorAutoruns:function(){return null},_default_buttonOverBackgroundColor:function(){return 5921370},_default_buttonPressedBackgroundColorAutoruns:function(){return null},_default_buttonPressedBackgroundColor:function(){return 4692203},_default_buttonFocusedBorderColorAutoruns:function(){return null},_default_buttonFocusedBorderColor:function(){return 4692203},_default_tabsBackgroundColorAutoruns:function(){return null},_default_tabsBackgroundColor:function(){return 8947848},_default_tabsBackgroundAlphaAutoruns:function(){return null},_default_tabsBackgroundAlpha:function(){return.1},_default_tabsHoverBackgroundColorAutoruns:function(){return null},_default_tabsHoverBackgroundColor:function(){return 8947848},_default_tabsHoverBackgroundAlphaAutoruns:function(){return null},_default_tabsHoverBackgroundAlpha:function(){return.2},_default_tabsBorderColorAutoruns:function(){return null},_default_tabsBorderColor:function(){return 6513507},_default_disabledTabTextAlphaAutoruns:function(){return null},_default_disabledTabTextAlpha:function(){return.5},_default_disabledTabBorderAlphaAutoruns:function(){return null},_default_disabledTabBorderAlpha:function(){return.5},_default_windowBackgroundColorAutoruns:function(){return null},_default_windowBackgroundColor:function(){return 1842204},_default_windowBackgroundAlphaAutoruns:function(){return null},_default_windowBackgroundAlpha:function(){return.925},_default_windowBorderColorAutoruns:function(){return null},_default_windowBorderColor:function(){return 6513507},_default_windowBorderAlphaAutoruns:function(){return null},_default_windowBorderAlpha:function(){return 1},_default__tint:function(){return-1},_default__altTint:function(){return-1},_default__backgroundColor:function(){return-1},_default__textColor:function(){return-1},_default__used:function(){return!1},_default__index:function(){return Al._nextIndex=(Al._nextIndex+1)%999999999},_default__clonedIndex:function(){return-1},__class__:Al,__properties__:$extend(Dd.prototype.__properties__,{set_windowBorderAlpha:"set_windowBorderAlpha",get_windowBorderAlpha:"get_windowBorderAlpha",set_windowBorderColor:"set_windowBorderColor",get_windowBorderColor:"get_windowBorderColor",set_windowBackgroundAlpha:"set_windowBackgroundAlpha",get_windowBackgroundAlpha:"get_windowBackgroundAlpha",set_windowBackgroundColor:"set_windowBackgroundColor",get_windowBackgroundColor:"get_windowBackgroundColor",set_disabledTabBorderAlpha:"set_disabledTabBorderAlpha",get_disabledTabBorderAlpha:"get_disabledTabBorderAlpha",set_disabledTabTextAlpha:"set_disabledTabTextAlpha",get_disabledTabTextAlpha:"get_disabledTabTextAlpha",set_tabsBorderColor:"set_tabsBorderColor",get_tabsBorderColor:"get_tabsBorderColor",set_tabsHoverBackgroundAlpha:"set_tabsHoverBackgroundAlpha",get_tabsHoverBackgroundAlpha:"get_tabsHoverBackgroundAlpha",set_tabsHoverBackgroundColor:"set_tabsHoverBackgroundColor",get_tabsHoverBackgroundColor:"get_tabsHoverBackgroundColor",set_tabsBackgroundAlpha:"set_tabsBackgroundAlpha",get_tabsBackgroundAlpha:"get_tabsBackgroundAlpha",set_tabsBackgroundColor:"set_tabsBackgroundColor",get_tabsBackgroundColor:"get_tabsBackgroundColor",set_buttonFocusedBorderColor:"set_buttonFocusedBorderColor",get_buttonFocusedBorderColor:"get_buttonFocusedBorderColor",set_buttonPressedBackgroundColor:"set_buttonPressedBackgroundColor",get_buttonPressedBackgroundColor:"get_buttonPressedBackgroundColor",set_buttonOverBackgroundColor:"set_buttonOverBackgroundColor",get_buttonOverBackgroundColor:"get_buttonOverBackgroundColor",set_buttonBackgroundColor:"set_buttonBackgroundColor",get_buttonBackgroundColor:"get_buttonBackgroundColor",set_overlayBorderAlpha:"set_overlayBorderAlpha",get_overlayBorderAlpha:"get_overlayBorderAlpha",set_overlayBorderColor:"set_overlayBorderColor",get_overlayBorderColor:"get_overlayBorderColor",set_overlayBackgroundAlpha:"set_overlayBackgroundAlpha",get_overlayBackgroundAlpha:"get_overlayBackgroundAlpha",set_overlayBackgroundColor:"set_overlayBackgroundColor",get_overlayBackgroundColor:"get_overlayBackgroundColor",set_focusedFieldBorderColor:"set_focusedFieldBorderColor",get_focusedFieldBorderColor:"get_focusedFieldBorderColor",set_focusedFieldSelectionColor:"set_focusedFieldSelectionColor",get_focusedFieldSelectionColor:"get_focusedFieldSelectionColor",set_tabsMarginY:"set_tabsMarginY",get_tabsMarginY:"get_tabsMarginY",set_formPadding:"set_formPadding",get_formPadding:"get_formPadding",set_formItemSpacing:"set_formItemSpacing",get_formItemSpacing:"get_formItemSpacing",set_highlightPendingColor:"set_highlightPendingColor",get_highlightPendingColor:"get_highlightPendingColor",set_highlightColor:"set_highlightColor",get_highlightColor:"get_highlightColor",set_selectionBorderColor:"set_selectionBorderColor",get_selectionBorderColor:"get_selectionBorderColor",set_darkerBackgroundColor:"set_darkerBackgroundColor",get_darkerBackgroundColor:"get_darkerBackgroundColor",set_darkBackgroundColor:"set_darkBackgroundColor",get_darkBackgroundColor:"get_darkBackgroundColor",set_mediumBackgroundColor:"set_mediumBackgroundColor",get_mediumBackgroundColor:"get_mediumBackgroundColor",set_lightBackgroundColor:"set_lightBackgroundColor",get_lightBackgroundColor:"get_lightBackgroundColor",set_darkBorderColor:"set_darkBorderColor",get_darkBorderColor:"get_darkBorderColor",set_mediumBorderColor:"set_mediumBorderColor",get_mediumBorderColor:"get_mediumBorderColor",set_lightBorderColor:"set_lightBorderColor",get_lightBorderColor:"get_lightBorderColor",set_lighterBorderColor:"set_lighterBorderColor",get_lighterBorderColor:"get_lighterBorderColor",get_boldFont:"get_boldFont",set_customBoldFont:"set_customBoldFont",get_customBoldFont:"get_customBoldFont",get_mediumFont:"get_mediumFont",set_customMediumFont:"set_customMediumFont",get_customMediumFont:"get_customMediumFont",set_iconColor:"set_iconColor",get_iconColor:"get_iconColor",set_darkerTextColor:"set_darkerTextColor",get_darkerTextColor:"get_darkerTextColor",set_darkTextColor:"set_darkTextColor",get_darkTextColor:"get_darkTextColor",set_mediumTextColor:"set_mediumTextColor",get_mediumTextColor:"get_mediumTextColor",set_lightTextColor:"set_lightTextColor",get_lightTextColor:"get_lightTextColor",set_fieldPlaceholderColor:"set_fieldPlaceholderColor",get_fieldPlaceholderColor:"get_fieldPlaceholderColor",set_fieldTextColor:"set_fieldTextColor",get_fieldTextColor:"get_fieldTextColor",set_backgroundInFormLayout:"set_backgroundInFormLayout",get_backgroundInFormLayout:"get_backgroundInFormLayout"})}),function(e){this.initializerName=null,this.contentAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,q.call(this),this.set_content(e),this.set_depth(21),W.get_context().view.add(this),this.set_anchorX(0),this.set_anchorY(.5),this.bubble=new r,this.bubble.set_depth(1),this.add(this.bubble),this.bubbleTriangle=new uc,this.bubbleTriangle.set_depth(1),this.add(this.bubbleTriangle),this.text=new hi,this.text.set_fitWidth(100),this.text.set_depth(2),this.text.set_preRenderedSize(20),this.text.set_pointSize(11),this.text.set_align(ai.CENTER),this.add(this.text),this.autorun($bind(this,this.updateTextContent)),this.autorun($bind(this,this.updateStyle))}),Il=((E["elements.Tooltip"]=kl).__name__="elements.Tooltip",kl.__interfaces__=[u,b0],kl.tooltip=function(e,n){var t;null==n?e.removeComponent("tooltip"):null==(t=e.component("tooltip"))?(t=new kl(n),e.component("tooltip",t)):t.set_content(n)},kl.__super__=q,kl.prototype=$extend(q.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},contentAutoruns:null,get_content:function(){var e,n,t=this.unobservedContent;return null!=w.current&&(e=w.current,null!=(n=this.contentAutoruns)||(n=w.getAutorunArray(),null!=(this.contentAutoruns=n)))&&e.bindToAutorunArray(n),t},set_content:function(e){var n=this.unobservedContent;return n!=(this.unobservedContent=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitContentChange(e,n),null!=(n=this.contentAutoruns))&&(this.contentAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateContent:function(){var e=this.unobservedContent,e=(this.emitContentChange(e,e),this.contentAutoruns);null!=e&&(this.contentAutoruns=null,w.invalidateAutorunArray(e))},unobservedContent:null,__cbOnContentChange:null,__cbOnceContentChange:null,__cbOnOwnerUnbindContentChange:null,__cbOnceOwnerUnbindContentChange:null,emitContentChange:function(e,n){var t=0;if(null!=this.__cbOnContentChange&&(t+=this.__cbOnContentChange.length),null!=this.__cbOnceContentChange&&(t+=this.__cbOnceContentChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnContentChange)for(var r=0,h=this.__cbOnContentChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnContentChange[a],++s):--t}if(null!=this.__cbOnceContentChange){for(var o=null,c=null,r=0,h=this.__cbOnceContentChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceContentChange[a],this.__cbOnceContentChange[a]=null,u=this.__cbOnceOwnerUnbindContentChange[a],(this.__cbOnceOwnerUnbindContentChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindContentChange[a]),c.push(this.__cbOnceContentChange[a]))}this.__cbOnceOwnerUnbindContentChange=o,this.__cbOnceContentChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onContentChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event contentChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindContentChange&&(this.__cbOnOwnerUnbindContentChange=[]),this.__cbOnOwnerUnbindContentChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindContentChange&&(this.__cbOnOwnerUnbindContentChange=[]),this.__cbOnOwnerUnbindContentChange.push(null);null==this.__cbOnContentChange&&(this.__cbOnContentChange=[]),this.__cbOnContentChange.push(t)},onceContentChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event contentChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindContentChange&&(this.__cbOnceOwnerUnbindContentChange=[]),this.__cbOnceOwnerUnbindContentChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindContentChange&&(this.__cbOnceOwnerUnbindContentChange=[]),this.__cbOnceOwnerUnbindContentChange.push(null);null==this.__cbOnceContentChange&&(this.__cbOnceContentChange=[]),this.__cbOnceContentChange.push(t)},offContentChange:function(e){if(null!=e){var n;null!=this.__cbOnContentChange&&-1!=(n=this.__cbOnContentChange.indexOf(e))&&(this.__cbOnContentChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindContentChange[n])&&s(),this.__cbOnOwnerUnbindContentChange.splice(n,1)),null!=this.__cbOnceContentChange&&-1!=(n=this.__cbOnceContentChange.indexOf(e))&&(this.__cbOnceContentChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindContentChange[n])&&s(),this.__cbOnceOwnerUnbindContentChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindContentChange){for(var t=0,i=this.__cbOnOwnerUnbindContentChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindContentChange[l])&&s()}this.__cbOnOwnerUnbindContentChange=null}if(null!=this.__cbOnceOwnerUnbindContentChange){for(t=0,i=this.__cbOnceOwnerUnbindContentChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindContentChange[l])&&s()}this.__cbOnceOwnerUnbindContentChange=null}this.__cbOnContentChange=null,this.__cbOnceContentChange=null}},listensContentChange:function(){return null!=this.__cbOnContentChange&&0<this.__cbOnContentChange.length||null!=this.__cbOnceContentChange&&0<this.__cbOnceContentChange.length},entity:null,text:null,bubble:null,bubbleTriangle:null,bindAsComponent:function(){var t=this;this.set_active(!1),this.entity.onPointerOver(this,function(e){var n;0<ke.app.screen._numPointerDown||(t.set_active(!0),t.entity.visualToScreen(.5*t.entity.get_width(),.5*t.entity.get_height(),kl._point),null!=t.parent&&t.parent.screenToVisual(kl._point.x,kl._point.y,kl._point),n=24+kl._point.y,t.set_x(kl._point.x),t.set_y(n))}),this.entity.onPointerOut(this,function(e){t.set_active(!1)})},updateTextContent:function(){this.text.set_content(this.get_content());var e=.5*-(this.text.get_width()+12),n=((i=this.text).set_x(6+e),i.set_y(11),this.text.get_width()+12),t=this.text.get_height()+12,i=(this.set_width(n),this.set_height(t),this.bubble),n=this.get_width(),t=this.get_height();i.set_width(n),i.set_height(t),(i=this.bubble).set_x(e),i.set_y(5),(i=this.bubbleTriangle).set_anchorX(.5),i.set_anchorY(1),(i=this.bubbleTriangle).set_width(8),i.set_height(5),(i=this.bubbleTriangle).set_x(0),i.set_y(5)},updateStyle:function(){var e=this.get_theme();null==e&&(e=W.get_context().get_theme()),this.text.set_color(e.get_lightTextColor()),this.text.set_font(e.get_mediumFont()),this.bubble.color=e.get_overlayBackgroundColor(),this.bubble.set_alpha(e.get_overlayBackgroundAlpha()),this.bubbleTriangle.set_color(this.bubble.color),this.bubbleTriangle.set_alpha(this.bubble.alpha)},unbindEvents:function(){q.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offContentChange()},setEntity:function(e){this.entity=e instanceof q?e:null},getEntity:function(){return this.entity},initializerName:null,__class__:kl,__properties__:$extend(q.prototype.__properties__,{set_content:"set_content",get_content:"get_content",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.unobservedPaletteColors=[],this.paletteColorsAutoruns=null,this.unobservedColorPickerHsluv=!1,this.colorPickerHsluvAutoruns=null,this.unobservedWindowsData=new te,this.windowsDataAutoruns=null,Dd.call(this)}),Pl=((E["elements.UserData"]=Il).__name__="elements.UserData",Il.__super__=Dd,Il.prototype=$extend(Dd.prototype,{windowsDataAutoruns:null,get_windowsData:function(){var e,n,t=this.unobservedWindowsData;return null!=w.current&&(e=w.current,null!=(n=this.windowsDataAutoruns)||(n=w.getAutorunArray(),null!=(this.windowsDataAutoruns=n)))&&e.bindToAutorunArray(n),t},set_windowsData:function(e){var n=this.unobservedWindowsData;return this.unobservedWindowsData=e,Tr.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWindowsDataChange(e,n),null!=(n=this.windowsDataAutoruns)&&(this.windowsDataAutoruns=null,w.invalidateAutorunArray(n))),e},invalidateWindowsData:function(){var e=this.unobservedWindowsData,e=(this.emitWindowsDataChange(e,e),this.windowsDataAutoruns);null!=e&&(this.windowsDataAutoruns=null,w.invalidateAutorunArray(e))},unobservedWindowsData:null,__cbOnWindowsDataChange:null,__cbOnceWindowsDataChange:null,__cbOnOwnerUnbindWindowsDataChange:null,__cbOnceOwnerUnbindWindowsDataChange:null,emitWindowsDataChange:function(e,n){var t=0;if(null!=this.__cbOnWindowsDataChange&&(t+=this.__cbOnWindowsDataChange.length),null!=this.__cbOnceWindowsDataChange&&(t+=this.__cbOnceWindowsDataChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWindowsDataChange)for(var r=0,h=this.__cbOnWindowsDataChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWindowsDataChange[a],++s):--t}if(null!=this.__cbOnceWindowsDataChange){for(var o=null,c=null,r=0,h=this.__cbOnceWindowsDataChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWindowsDataChange[a],this.__cbOnceWindowsDataChange[a]=null,u=this.__cbOnceOwnerUnbindWindowsDataChange[a],(this.__cbOnceOwnerUnbindWindowsDataChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWindowsDataChange[a]),c.push(this.__cbOnceWindowsDataChange[a]))}this.__cbOnceOwnerUnbindWindowsDataChange=o,this.__cbOnceWindowsDataChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWindowsDataChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event windowsDataChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowsDataChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWindowsDataChange&&(this.__cbOnOwnerUnbindWindowsDataChange=[]),this.__cbOnOwnerUnbindWindowsDataChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWindowsDataChange&&(this.__cbOnOwnerUnbindWindowsDataChange=[]),this.__cbOnOwnerUnbindWindowsDataChange.push(null);null==this.__cbOnWindowsDataChange&&(this.__cbOnWindowsDataChange=[]),this.__cbOnWindowsDataChange.push(t)},onceWindowsDataChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event windowsDataChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWindowsDataChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWindowsDataChange&&(this.__cbOnceOwnerUnbindWindowsDataChange=[]),this.__cbOnceOwnerUnbindWindowsDataChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWindowsDataChange&&(this.__cbOnceOwnerUnbindWindowsDataChange=[]),this.__cbOnceOwnerUnbindWindowsDataChange.push(null);null==this.__cbOnceWindowsDataChange&&(this.__cbOnceWindowsDataChange=[]),this.__cbOnceWindowsDataChange.push(t)},offWindowsDataChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowsDataChange&&-1!=(n=this.__cbOnWindowsDataChange.indexOf(e))&&(this.__cbOnWindowsDataChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWindowsDataChange[n])&&s(),this.__cbOnOwnerUnbindWindowsDataChange.splice(n,1)),null!=this.__cbOnceWindowsDataChange&&-1!=(n=this.__cbOnceWindowsDataChange.indexOf(e))&&(this.__cbOnceWindowsDataChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWindowsDataChange[n])&&s(),this.__cbOnceOwnerUnbindWindowsDataChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowsDataChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowsDataChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWindowsDataChange[l])&&s()}this.__cbOnOwnerUnbindWindowsDataChange=null}if(null!=this.__cbOnceOwnerUnbindWindowsDataChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowsDataChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWindowsDataChange[l])&&s()}this.__cbOnceOwnerUnbindWindowsDataChange=null}this.__cbOnWindowsDataChange=null,this.__cbOnceWindowsDataChange=null}},listensWindowsDataChange:function(){return null!=this.__cbOnWindowsDataChange&&0<this.__cbOnWindowsDataChange.length||null!=this.__cbOnceWindowsDataChange&&0<this.__cbOnceWindowsDataChange.length},colorPickerHsluvAutoruns:null,get_colorPickerHsluv:function(){var e,n,t=this.unobservedColorPickerHsluv;return null!=w.current&&(e=w.current,null!=(n=this.colorPickerHsluvAutoruns)||(n=w.getAutorunArray(),null!=(this.colorPickerHsluvAutoruns=n)))&&e.bindToAutorunArray(n),t},set_colorPickerHsluv:function(e){var n=this.unobservedColorPickerHsluv;return n!=(this.unobservedColorPickerHsluv=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitColorPickerHsluvChange(e,n),null!=(n=this.colorPickerHsluvAutoruns))&&(this.colorPickerHsluvAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateColorPickerHsluv:function(){var e=this.unobservedColorPickerHsluv,e=(this.emitColorPickerHsluvChange(e,e),this.colorPickerHsluvAutoruns);null!=e&&(this.colorPickerHsluvAutoruns=null,w.invalidateAutorunArray(e))},unobservedColorPickerHsluv:null,__cbOnColorPickerHsluvChange:null,__cbOnceColorPickerHsluvChange:null,__cbOnOwnerUnbindColorPickerHsluvChange:null,__cbOnceOwnerUnbindColorPickerHsluvChange:null,emitColorPickerHsluvChange:function(e,n){var t=0;if(null!=this.__cbOnColorPickerHsluvChange&&(t+=this.__cbOnColorPickerHsluvChange.length),null!=this.__cbOnceColorPickerHsluvChange&&(t+=this.__cbOnceColorPickerHsluvChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnColorPickerHsluvChange)for(var r=0,h=this.__cbOnColorPickerHsluvChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnColorPickerHsluvChange[a],++s):--t}if(null!=this.__cbOnceColorPickerHsluvChange){for(var o=null,c=null,r=0,h=this.__cbOnceColorPickerHsluvChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceColorPickerHsluvChange[a],this.__cbOnceColorPickerHsluvChange[a]=null,u=this.__cbOnceOwnerUnbindColorPickerHsluvChange[a],(this.__cbOnceOwnerUnbindColorPickerHsluvChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindColorPickerHsluvChange[a]),c.push(this.__cbOnceColorPickerHsluvChange[a]))}this.__cbOnceOwnerUnbindColorPickerHsluvChange=o,this.__cbOnceColorPickerHsluvChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onColorPickerHsluvChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event colorPickerHsluvChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColorPickerHsluvChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindColorPickerHsluvChange&&(this.__cbOnOwnerUnbindColorPickerHsluvChange=[]),this.__cbOnOwnerUnbindColorPickerHsluvChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindColorPickerHsluvChange&&(this.__cbOnOwnerUnbindColorPickerHsluvChange=[]),this.__cbOnOwnerUnbindColorPickerHsluvChange.push(null);null==this.__cbOnColorPickerHsluvChange&&(this.__cbOnColorPickerHsluvChange=[]),this.__cbOnColorPickerHsluvChange.push(t)},onceColorPickerHsluvChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event colorPickerHsluvChange because owner is destroyed!");var l=function(e){null!=t&&(i.offColorPickerHsluvChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindColorPickerHsluvChange&&(this.__cbOnceOwnerUnbindColorPickerHsluvChange=[]),this.__cbOnceOwnerUnbindColorPickerHsluvChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindColorPickerHsluvChange&&(this.__cbOnceOwnerUnbindColorPickerHsluvChange=[]),this.__cbOnceOwnerUnbindColorPickerHsluvChange.push(null);null==this.__cbOnceColorPickerHsluvChange&&(this.__cbOnceColorPickerHsluvChange=[]),this.__cbOnceColorPickerHsluvChange.push(t)},offColorPickerHsluvChange:function(e){if(null!=e){var n;null!=this.__cbOnColorPickerHsluvChange&&-1!=(n=this.__cbOnColorPickerHsluvChange.indexOf(e))&&(this.__cbOnColorPickerHsluvChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindColorPickerHsluvChange[n])&&s(),this.__cbOnOwnerUnbindColorPickerHsluvChange.splice(n,1)),null!=this.__cbOnceColorPickerHsluvChange&&-1!=(n=this.__cbOnceColorPickerHsluvChange.indexOf(e))&&(this.__cbOnceColorPickerHsluvChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindColorPickerHsluvChange[n])&&s(),this.__cbOnceOwnerUnbindColorPickerHsluvChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindColorPickerHsluvChange){for(var t=0,i=this.__cbOnOwnerUnbindColorPickerHsluvChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindColorPickerHsluvChange[l])&&s()}this.__cbOnOwnerUnbindColorPickerHsluvChange=null}if(null!=this.__cbOnceOwnerUnbindColorPickerHsluvChange){for(t=0,i=this.__cbOnceOwnerUnbindColorPickerHsluvChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindColorPickerHsluvChange[l])&&s()}this.__cbOnceOwnerUnbindColorPickerHsluvChange=null}this.__cbOnColorPickerHsluvChange=null,this.__cbOnceColorPickerHsluvChange=null}},listensColorPickerHsluvChange:function(){return null!=this.__cbOnColorPickerHsluvChange&&0<this.__cbOnColorPickerHsluvChange.length||null!=this.__cbOnceColorPickerHsluvChange&&0<this.__cbOnceColorPickerHsluvChange.length},paletteColorsAutoruns:null,get_paletteColors:function(){var e,n,t=this.unobservedPaletteColors;return null!=w.current&&(e=w.current,null!=(n=this.paletteColorsAutoruns)||(n=w.getAutorunArray(),null!=(this.paletteColorsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_paletteColors:function(e){var n=this.unobservedPaletteColors;return this.unobservedPaletteColors=e,Tr.equalAny(n,e)||(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitPaletteColorsChange(e,n),null!=(n=this.paletteColorsAutoruns)&&(this.paletteColorsAutoruns=null,w.invalidateAutorunArray(n))),e},invalidatePaletteColors:function(){var e=this.unobservedPaletteColors,e=(this.emitPaletteColorsChange(e,e),this.paletteColorsAutoruns);null!=e&&(this.paletteColorsAutoruns=null,w.invalidateAutorunArray(e))},unobservedPaletteColors:null,__cbOnPaletteColorsChange:null,__cbOncePaletteColorsChange:null,__cbOnOwnerUnbindPaletteColorsChange:null,__cbOnceOwnerUnbindPaletteColorsChange:null,emitPaletteColorsChange:function(e,n){var t=0;if(null!=this.__cbOnPaletteColorsChange&&(t+=this.__cbOnPaletteColorsChange.length),null!=this.__cbOncePaletteColorsChange&&(t+=this.__cbOncePaletteColorsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnPaletteColorsChange)for(var r=0,h=this.__cbOnPaletteColorsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnPaletteColorsChange[a],++s):--t}if(null!=this.__cbOncePaletteColorsChange){for(var o=null,c=null,r=0,h=this.__cbOncePaletteColorsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOncePaletteColorsChange[a],this.__cbOncePaletteColorsChange[a]=null,u=this.__cbOnceOwnerUnbindPaletteColorsChange[a],(this.__cbOnceOwnerUnbindPaletteColorsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindPaletteColorsChange[a]),c.push(this.__cbOncePaletteColorsChange[a]))}this.__cbOnceOwnerUnbindPaletteColorsChange=o,this.__cbOncePaletteColorsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onPaletteColorsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event paletteColorsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteColorsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindPaletteColorsChange&&(this.__cbOnOwnerUnbindPaletteColorsChange=[]),this.__cbOnOwnerUnbindPaletteColorsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindPaletteColorsChange&&(this.__cbOnOwnerUnbindPaletteColorsChange=[]),this.__cbOnOwnerUnbindPaletteColorsChange.push(null);null==this.__cbOnPaletteColorsChange&&(this.__cbOnPaletteColorsChange=[]),this.__cbOnPaletteColorsChange.push(t)},oncePaletteColorsChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event paletteColorsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offPaletteColorsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindPaletteColorsChange&&(this.__cbOnceOwnerUnbindPaletteColorsChange=[]),this.__cbOnceOwnerUnbindPaletteColorsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindPaletteColorsChange&&(this.__cbOnceOwnerUnbindPaletteColorsChange=[]),this.__cbOnceOwnerUnbindPaletteColorsChange.push(null);null==this.__cbOncePaletteColorsChange&&(this.__cbOncePaletteColorsChange=[]),this.__cbOncePaletteColorsChange.push(t)},offPaletteColorsChange:function(e){if(null!=e){var n;null!=this.__cbOnPaletteColorsChange&&-1!=(n=this.__cbOnPaletteColorsChange.indexOf(e))&&(this.__cbOnPaletteColorsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindPaletteColorsChange[n])&&s(),this.__cbOnOwnerUnbindPaletteColorsChange.splice(n,1)),null!=this.__cbOncePaletteColorsChange&&-1!=(n=this.__cbOncePaletteColorsChange.indexOf(e))&&(this.__cbOncePaletteColorsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindPaletteColorsChange[n])&&s(),this.__cbOnceOwnerUnbindPaletteColorsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPaletteColorsChange){for(var t=0,i=this.__cbOnOwnerUnbindPaletteColorsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindPaletteColorsChange[l])&&s()}this.__cbOnOwnerUnbindPaletteColorsChange=null}if(null!=this.__cbOnceOwnerUnbindPaletteColorsChange){for(t=0,i=this.__cbOnceOwnerUnbindPaletteColorsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindPaletteColorsChange[l])&&s()}this.__cbOnceOwnerUnbindPaletteColorsChange=null}this.__cbOnPaletteColorsChange=null,this.__cbOncePaletteColorsChange=null}},listensPaletteColorsChange:function(){return null!=this.__cbOnPaletteColorsChange&&0<this.__cbOnPaletteColorsChange.length||null!=this.__cbOncePaletteColorsChange&&0<this.__cbOncePaletteColorsChange.length},addPaletteColor:function(e,n){null==n&&(n=!0);var t=this.get_paletteColors();if(n)for(var i=0,l=t.length;i<l;)if(e==t[i++])return void ke.app.logger.warning("Cannot add color "+(null==e?"null":-1==e?"NONE":"0x"+z.hex(e>>16&255,2)+z.hex(e>>8&255,2)+z.hex(255&e,2))+" in palette because it already exists. Ignoring.",{fileName:"../../../../ceramic/plugins/elements/runtime/src/elements/UserData.hx",lineNumber:124,className:"elements.UserData",methodName:"addPaletteColor"});n=[].concat(t);n.push(e),this.set_paletteColors(n)},movePaletteColor:function(e,n){var t=[].concat(this.get_paletteColors()),i=t[e];t.splice(e,1),t.splice(n,0,i),this.set_paletteColors(t)},removePaletteColor:function(e){var n=[].concat(this.get_paletteColors());n.splice(e,1),this.set_paletteColors(n)},unbindEvents:function(){Dd.prototype.unbindEvents.call(this),this.offWindowsDataChange(),this.offColorPickerHsluvChange(),this.offPaletteColorsChange()},_default_windowsDataAutoruns:function(){return null},_default_windowsData:function(){return new te},_default_colorPickerHsluvAutoruns:function(){return null},_default_colorPickerHsluv:function(){return!1},_default_paletteColorsAutoruns:function(){return null},_default_paletteColors:function(){return[]},__class__:Il,__properties__:$extend(Dd.prototype.__properties__,{set_paletteColors:"set_paletteColors",get_paletteColors:"get_paletteColors",set_colorPickerHsluv:"set_colorPickerHsluv",get_colorPickerHsluv:"get_colorPickerHsluv",set_windowsData:"set_windowsData",get_windowsData:"get_windowsData"})}),function(){this.computedVisualScale=1,this.unobservedVisual=null,this.visualAutoruns=null,this.unobservedScaling=Fl.FIT,this.scalingAutoruns=null,this.unobservedVisualScale=1,this.visualScaleAutoruns=null,this.unobservedContentAlign=wt.CENTER,this.contentAlignAutoruns=null,this.filter=null,this.destroyFilterOnRemove=!0,this.destroyVisualOnRemove=!0,this.observedDirty=!1,g0.call(this),this.autorun($bind(this,this.updateVisualScale))}),Fl=((E["elements.VisualContainerView"]=Pl).__name__="elements.VisualContainerView",Pl.__interfaces__=[u],Pl.__super__=g0,Pl.prototype=$extend(g0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,destroyVisualOnRemove:null,destroyFilterOnRemove:null,filter:null,set_filter:function(e){var n,t;return this.filter!=e&&(n=this.get_visual(),null!=this.filter&&(t=e.content,null!=n&&n.parent==t&&t.remove(n),this.destroyFilterOnRemove?this.filter.destroy():this.filter.parent==this&&this.remove(this.filter),this.filter=null),null!=(this.filter=e)?(t=e.content,null!=n&&n.parent!=t&&t.add(n),this.add(e)):null!=n&&n.parent!=this&&this.add(n),this.layoutDirty=!0),e},contentAlignAutoruns:null,get_contentAlign:function(){var e,n,t=this.unobservedContentAlign;return null!=w.current&&(e=w.current,null!=(n=this.contentAlignAutoruns)||(n=w.getAutorunArray(),null!=(this.contentAlignAutoruns=n)))&&e.bindToAutorunArray(n),t},set_contentAlign:function(e){var n=this.unobservedContentAlign;return n!=(this.unobservedContentAlign=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitContentAlignChange(e,n),null!=(n=this.contentAlignAutoruns))&&(this.contentAlignAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateContentAlign:function(){var e=this.unobservedContentAlign,e=(this.emitContentAlignChange(e,e),this.contentAlignAutoruns);null!=e&&(this.contentAlignAutoruns=null,w.invalidateAutorunArray(e))},unobservedContentAlign:null,__cbOnContentAlignChange:null,__cbOnceContentAlignChange:null,__cbOnOwnerUnbindContentAlignChange:null,__cbOnceOwnerUnbindContentAlignChange:null,emitContentAlignChange:function(e,n){var t=0;if(null!=this.__cbOnContentAlignChange&&(t+=this.__cbOnContentAlignChange.length),null!=this.__cbOnceContentAlignChange&&(t+=this.__cbOnceContentAlignChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnContentAlignChange)for(var r=0,h=this.__cbOnContentAlignChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnContentAlignChange[a],++s):--t}if(null!=this.__cbOnceContentAlignChange){for(var o=null,c=null,r=0,h=this.__cbOnceContentAlignChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceContentAlignChange[a],this.__cbOnceContentAlignChange[a]=null,u=this.__cbOnceOwnerUnbindContentAlignChange[a],(this.__cbOnceOwnerUnbindContentAlignChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindContentAlignChange[a]),c.push(this.__cbOnceContentAlignChange[a]))}this.__cbOnceOwnerUnbindContentAlignChange=o,this.__cbOnceContentAlignChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onContentAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event contentAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindContentAlignChange&&(this.__cbOnOwnerUnbindContentAlignChange=[]),this.__cbOnOwnerUnbindContentAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindContentAlignChange&&(this.__cbOnOwnerUnbindContentAlignChange=[]),this.__cbOnOwnerUnbindContentAlignChange.push(null);null==this.__cbOnContentAlignChange&&(this.__cbOnContentAlignChange=[]),this.__cbOnContentAlignChange.push(t)},onceContentAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event contentAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindContentAlignChange&&(this.__cbOnceOwnerUnbindContentAlignChange=[]),this.__cbOnceOwnerUnbindContentAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindContentAlignChange&&(this.__cbOnceOwnerUnbindContentAlignChange=[]),this.__cbOnceOwnerUnbindContentAlignChange.push(null);null==this.__cbOnceContentAlignChange&&(this.__cbOnceContentAlignChange=[]),this.__cbOnceContentAlignChange.push(t)},offContentAlignChange:function(e){if(null!=e){var n;null!=this.__cbOnContentAlignChange&&-1!=(n=this.__cbOnContentAlignChange.indexOf(e))&&(this.__cbOnContentAlignChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindContentAlignChange[n])&&s(),this.__cbOnOwnerUnbindContentAlignChange.splice(n,1)),null!=this.__cbOnceContentAlignChange&&-1!=(n=this.__cbOnceContentAlignChange.indexOf(e))&&(this.__cbOnceContentAlignChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindContentAlignChange[n])&&s(),this.__cbOnceOwnerUnbindContentAlignChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindContentAlignChange){for(var t=0,i=this.__cbOnOwnerUnbindContentAlignChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindContentAlignChange[l])&&s()}this.__cbOnOwnerUnbindContentAlignChange=null}if(null!=this.__cbOnceOwnerUnbindContentAlignChange){for(t=0,i=this.__cbOnceOwnerUnbindContentAlignChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindContentAlignChange[l])&&s()}this.__cbOnceOwnerUnbindContentAlignChange=null}this.__cbOnContentAlignChange=null,this.__cbOnceContentAlignChange=null}},listensContentAlignChange:function(){return null!=this.__cbOnContentAlignChange&&0<this.__cbOnContentAlignChange.length||null!=this.__cbOnceContentAlignChange&&0<this.__cbOnceContentAlignChange.length},visualScaleAutoruns:null,get_visualScale:function(){var e,n,t=this.unobservedVisualScale;return null!=w.current&&(e=w.current,null!=(n=this.visualScaleAutoruns)||(n=w.getAutorunArray(),null!=(this.visualScaleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_visualScale:function(e){var n=this.unobservedVisualScale;return n!=(this.unobservedVisualScale=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitVisualScaleChange(e,n),null!=(n=this.visualScaleAutoruns))&&(this.visualScaleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateVisualScale:function(){var e=this.unobservedVisualScale,e=(this.emitVisualScaleChange(e,e),this.visualScaleAutoruns);null!=e&&(this.visualScaleAutoruns=null,w.invalidateAutorunArray(e))},unobservedVisualScale:null,__cbOnVisualScaleChange:null,__cbOnceVisualScaleChange:null,__cbOnOwnerUnbindVisualScaleChange:null,__cbOnceOwnerUnbindVisualScaleChange:null,emitVisualScaleChange:function(e,n){var t=0;if(null!=this.__cbOnVisualScaleChange&&(t+=this.__cbOnVisualScaleChange.length),null!=this.__cbOnceVisualScaleChange&&(t+=this.__cbOnceVisualScaleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnVisualScaleChange)for(var r=0,h=this.__cbOnVisualScaleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnVisualScaleChange[a],++s):--t}if(null!=this.__cbOnceVisualScaleChange){for(var o=null,c=null,r=0,h=this.__cbOnceVisualScaleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceVisualScaleChange[a],this.__cbOnceVisualScaleChange[a]=null,u=this.__cbOnceOwnerUnbindVisualScaleChange[a],(this.__cbOnceOwnerUnbindVisualScaleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindVisualScaleChange[a]),c.push(this.__cbOnceVisualScaleChange[a]))}this.__cbOnceOwnerUnbindVisualScaleChange=o,this.__cbOnceVisualScaleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onVisualScaleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event visualScaleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offVisualScaleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindVisualScaleChange&&(this.__cbOnOwnerUnbindVisualScaleChange=[]),this.__cbOnOwnerUnbindVisualScaleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindVisualScaleChange&&(this.__cbOnOwnerUnbindVisualScaleChange=[]),this.__cbOnOwnerUnbindVisualScaleChange.push(null);null==this.__cbOnVisualScaleChange&&(this.__cbOnVisualScaleChange=[]),this.__cbOnVisualScaleChange.push(t)},onceVisualScaleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event visualScaleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offVisualScaleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindVisualScaleChange&&(this.__cbOnceOwnerUnbindVisualScaleChange=[]),this.__cbOnceOwnerUnbindVisualScaleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindVisualScaleChange&&(this.__cbOnceOwnerUnbindVisualScaleChange=[]),this.__cbOnceOwnerUnbindVisualScaleChange.push(null);null==this.__cbOnceVisualScaleChange&&(this.__cbOnceVisualScaleChange=[]),this.__cbOnceVisualScaleChange.push(t)},offVisualScaleChange:function(e){if(null!=e){var n;null!=this.__cbOnVisualScaleChange&&-1!=(n=this.__cbOnVisualScaleChange.indexOf(e))&&(this.__cbOnVisualScaleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindVisualScaleChange[n])&&s(),this.__cbOnOwnerUnbindVisualScaleChange.splice(n,1)),null!=this.__cbOnceVisualScaleChange&&-1!=(n=this.__cbOnceVisualScaleChange.indexOf(e))&&(this.__cbOnceVisualScaleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindVisualScaleChange[n])&&s(),this.__cbOnceOwnerUnbindVisualScaleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindVisualScaleChange){for(var t=0,i=this.__cbOnOwnerUnbindVisualScaleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindVisualScaleChange[l])&&s()}this.__cbOnOwnerUnbindVisualScaleChange=null}if(null!=this.__cbOnceOwnerUnbindVisualScaleChange){for(t=0,i=this.__cbOnceOwnerUnbindVisualScaleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindVisualScaleChange[l])&&s()}this.__cbOnceOwnerUnbindVisualScaleChange=null}this.__cbOnVisualScaleChange=null,this.__cbOnceVisualScaleChange=null}},listensVisualScaleChange:function(){return null!=this.__cbOnVisualScaleChange&&0<this.__cbOnVisualScaleChange.length||null!=this.__cbOnceVisualScaleChange&&0<this.__cbOnceVisualScaleChange.length},scalingAutoruns:null,get_scaling:function(){var e,n,t=this.unobservedScaling;return null!=w.current&&(e=w.current,null!=(n=this.scalingAutoruns)||(n=w.getAutorunArray(),null!=(this.scalingAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scaling:function(e){var n=this.unobservedScaling;return n!=(this.unobservedScaling=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScalingChange(e,n),null!=(n=this.scalingAutoruns))&&(this.scalingAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateScaling:function(){var e=this.unobservedScaling,e=(this.emitScalingChange(e,e),this.scalingAutoruns);null!=e&&(this.scalingAutoruns=null,w.invalidateAutorunArray(e))},unobservedScaling:null,__cbOnScalingChange:null,__cbOnceScalingChange:null,__cbOnOwnerUnbindScalingChange:null,__cbOnceOwnerUnbindScalingChange:null,emitScalingChange:function(e,n){var t=0;if(null!=this.__cbOnScalingChange&&(t+=this.__cbOnScalingChange.length),null!=this.__cbOnceScalingChange&&(t+=this.__cbOnceScalingChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnScalingChange)for(var r=0,h=this.__cbOnScalingChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnScalingChange[a],++s):--t}if(null!=this.__cbOnceScalingChange){for(var o=null,c=null,r=0,h=this.__cbOnceScalingChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceScalingChange[a],this.__cbOnceScalingChange[a]=null,u=this.__cbOnceOwnerUnbindScalingChange[a],(this.__cbOnceOwnerUnbindScalingChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScalingChange[a]),c.push(this.__cbOnceScalingChange[a]))}this.__cbOnceOwnerUnbindScalingChange=o,this.__cbOnceScalingChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onScalingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scalingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScalingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(null);null==this.__cbOnScalingChange&&(this.__cbOnScalingChange=[]),this.__cbOnScalingChange.push(t)},onceScalingChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scalingChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScalingChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(null);null==this.__cbOnceScalingChange&&(this.__cbOnceScalingChange=[]),this.__cbOnceScalingChange.push(t)},offScalingChange:function(e){if(null!=e){var n;null!=this.__cbOnScalingChange&&-1!=(n=this.__cbOnScalingChange.indexOf(e))&&(this.__cbOnScalingChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScalingChange[n])&&s(),this.__cbOnOwnerUnbindScalingChange.splice(n,1)),null!=this.__cbOnceScalingChange&&-1!=(n=this.__cbOnceScalingChange.indexOf(e))&&(this.__cbOnceScalingChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScalingChange[n])&&s(),this.__cbOnceOwnerUnbindScalingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScalingChange){for(var t=0,i=this.__cbOnOwnerUnbindScalingChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScalingChange[l])&&s()}this.__cbOnOwnerUnbindScalingChange=null}if(null!=this.__cbOnceOwnerUnbindScalingChange){for(t=0,i=this.__cbOnceOwnerUnbindScalingChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScalingChange[l])&&s()}this.__cbOnceOwnerUnbindScalingChange=null}this.__cbOnScalingChange=null,this.__cbOnceScalingChange=null}},listensScalingChange:function(){return null!=this.__cbOnScalingChange&&0<this.__cbOnScalingChange.length||null!=this.__cbOnceScalingChange&&0<this.__cbOnceScalingChange.length},visualAutoruns:null,get_visual:function(){var e,n,t=this.unobservedVisual;return null!=w.current&&(e=w.current,null!=(n=this.visualAutoruns)||(n=w.getAutorunArray(),null!=(this.visualAutoruns=n)))&&e.bindToAutorunArray(n),t},set_visual:function(e){var n=this.unobservedVisual;return this.set_unobservedVisual(e),n!=e&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitVisualChange(e,n),null!=(n=this.visualAutoruns))&&(this.visualAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateVisual:function(){var e=this.unobservedVisual,e=(this.emitVisualChange(e,e),this.visualAutoruns);null!=e&&(this.visualAutoruns=null,w.invalidateAutorunArray(e))},unobservedVisual:null,__cbOnVisualChange:null,__cbOnceVisualChange:null,__cbOnOwnerUnbindVisualChange:null,__cbOnceOwnerUnbindVisualChange:null,emitVisualChange:function(e,n){var t=0;if(null!=this.__cbOnVisualChange&&(t+=this.__cbOnVisualChange.length),null!=this.__cbOnceVisualChange&&(t+=this.__cbOnceVisualChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnVisualChange)for(var r=0,h=this.__cbOnVisualChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnVisualChange[a],++s):--t}if(null!=this.__cbOnceVisualChange){for(var o=null,c=null,r=0,h=this.__cbOnceVisualChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceVisualChange[a],this.__cbOnceVisualChange[a]=null,u=this.__cbOnceOwnerUnbindVisualChange[a],(this.__cbOnceOwnerUnbindVisualChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindVisualChange[a]),c.push(this.__cbOnceVisualChange[a]))}this.__cbOnceOwnerUnbindVisualChange=o,this.__cbOnceVisualChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onVisualChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event visualChange because owner is destroyed!");var l=function(e){null!=t&&(i.offVisualChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindVisualChange&&(this.__cbOnOwnerUnbindVisualChange=[]),this.__cbOnOwnerUnbindVisualChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindVisualChange&&(this.__cbOnOwnerUnbindVisualChange=[]),this.__cbOnOwnerUnbindVisualChange.push(null);null==this.__cbOnVisualChange&&(this.__cbOnVisualChange=[]),this.__cbOnVisualChange.push(t)},onceVisualChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event visualChange because owner is destroyed!");var l=function(e){null!=t&&(i.offVisualChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindVisualChange&&(this.__cbOnceOwnerUnbindVisualChange=[]),this.__cbOnceOwnerUnbindVisualChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindVisualChange&&(this.__cbOnceOwnerUnbindVisualChange=[]),this.__cbOnceOwnerUnbindVisualChange.push(null);null==this.__cbOnceVisualChange&&(this.__cbOnceVisualChange=[]),this.__cbOnceVisualChange.push(t)},offVisualChange:function(e){if(null!=e){var n;null!=this.__cbOnVisualChange&&-1!=(n=this.__cbOnVisualChange.indexOf(e))&&(this.__cbOnVisualChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindVisualChange[n])&&s(),this.__cbOnOwnerUnbindVisualChange.splice(n,1)),null!=this.__cbOnceVisualChange&&-1!=(n=this.__cbOnceVisualChange.indexOf(e))&&(this.__cbOnceVisualChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindVisualChange[n])&&s(),this.__cbOnceOwnerUnbindVisualChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindVisualChange){for(var t=0,i=this.__cbOnOwnerUnbindVisualChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindVisualChange[l])&&s()}this.__cbOnOwnerUnbindVisualChange=null}if(null!=this.__cbOnceOwnerUnbindVisualChange){for(t=0,i=this.__cbOnceOwnerUnbindVisualChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindVisualChange[l])&&s()}this.__cbOnceOwnerUnbindVisualChange=null}this.__cbOnVisualChange=null,this.__cbOnceVisualChange=null}},listensVisualChange:function(){return null!=this.__cbOnVisualChange&&0<this.__cbOnVisualChange.length||null!=this.__cbOnceVisualChange&&0<this.__cbOnceVisualChange.length},set_unobservedVisual:function(e){var n;return(this.unobservedVisual!=e||null!=e&&e.parent!=this)&&(null!=(n=this.unobservedVisual)&&n!=e&&(n.parent==this||null!=this.filter&&n.parent==this.filter.content)&&(n.parent.remove(n),this.destroyVisualOnRemove?n.destroy():n.set_active(!1)),this.unobservedVisual=e),null!=e&&(n=null!=this.filter?this.filter.content:this,e.parent!=n&&(n.add(e),this.layoutDirty=!0),e.set_active(!0)),e},computedVisualScale:null,clear:function(){this.set_visual(null),g0.prototype.clear.call(this)},updateVisualScale:function(){var e,n=this.get_scaling(),t=this.get_visualScale();switch(n._hx_index){case 0:e=t;break;case 1:e=this.computedVisualScale;break;case 2:e=1}var i=this.get_visual();w.unobserve(),null!=i&&n!=Fl.FILL&&(i.set_scaleX(e),i.set_scaleY(e)),w.reobserve()},computeSize:function(e,n,t,i){g0.prototype.computeSize.call(this,e,n,t,i),null!=this.get_visual()?this.computedVisualScale=this.computeSizeWithIntrinsicBounds(e,n,t,i,this.get_visual().get_width(),this.get_visual().get_height()):this.computedVisualScale=1,this.updateVisualScale()},layout:function(){var e,n,t,i=this.get_width()-this.paddingLeft-this.paddingRight,l=this.get_height()-this.paddingTop-this.paddingBottom;null!=this.filter&&((t=this.filter).set_x(0),t.set_y(0),t=this.filter,n=this.get_width(),e=this.get_height(),t.set_width(n),t.set_height(e)),null!=this.get_visual()&&((t=this.get_visual()).set_anchorX(.5),t.set_anchorY(.5),t=this.get_visual(),n=this.paddingTop+.5*l,t.set_x(this.paddingLeft+.5*i),t.set_y(n),e=this.get_visual().get_width(),n=this.get_visual().get_height(),0<e)&&0<n&&2==this.get_scaling()._hx_index&&((t=this.get_visual()).set_scaleX(i/e),t.set_scaleY(l/n))},unbindEvents:function(){g0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offContentAlignChange(),this.offVisualScaleChange(),this.offScalingChange(),this.offVisualChange()},__class__:Pl,__properties__:$extend(g0.prototype.__properties__,{set_unobservedVisual:"set_unobservedVisual",set_visual:"set_visual",get_visual:"get_visual",set_scaling:"set_scaling",get_scaling:"get_scaling",set_visualScale:"set_visualScale",get_visualScale:"get_visualScale",set_contentAlign:"set_contentAlign",get_contentAlign:"get_contentAlign",set_filter:"set_filter"})}),en["elements.VisualContainerViewScaling"]={__ename__:"elements.VisualContainerViewScaling",__constructs__:null,CUSTOM:{_hx_name:"CUSTOM",_hx_index:0,__enum__:"elements.VisualContainerViewScaling",toString:c},FIT:{_hx_name:"FIT",_hx_index:1,__enum__:"elements.VisualContainerViewScaling",toString:c},FILL:{_hx_name:"FILL",_hx_index:2,__enum__:"elements.VisualContainerViewScaling",toString:c}}),Bl=(Fl.__constructs__=[Fl.CUSTOM,Fl.FIT,Fl.FILL],function(){this.dragging=!1,this.dragPointerStartY=0,this.dragPointerStartX=0,this.windowPosStartY=0,this.windowPosStartX=0,this.overlay=null,this.movable=!0,this.computedOnceScrolls=!1,this.scrollsAutoruns=null,this.unobservedTitleAlign=ai.LEFT,this.titleAlignAutoruns=null,this.unobservedHeader=!0,this.headerAutoruns=null,this.unobservedCollapsible=!0,this.collapsibleAutoruns=null,this.unobservedClosable=!1,this.closableAutoruns=null,this.unobservedTitle=null,this.titleAutoruns=null,this.unobservedContentView=null,this.contentViewAutoruns=null,this.unobservedTheme=null,this.themeAutoruns=null,this.observedDirty=!1,s0.call(this),10!=this.borderDepth&&(this.borderDepth=10,null!=this.border)&&this.border.set_depth(10);{var e=Un.INSIDE,e,e;this.borderPosition!=e&&(this.borderPosition=e,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),1!=this.borderSize&&(this.borderSize=1,this.updateBorder()),this.set_x(Bl.DEFAULT_X),this.set_y(Bl.DEFAULT_Y),this.headerView=new Xb,(e=this.headerView).flags&=-17,(e=this.headerView).set_viewWidth(-49900),e.set_viewHeight(Bl.HEADER_HEIGHT),this.headerView.onPointerDown(this,$bind(this,this.headerDown)),this.headerViewDoubleClick=new I0,this.headerViewDoubleClick.onDoubleClick(this,$bind(this,this.emitHeaderDoubleClick)),this.headerView.component("doubleClick",this.headerViewDoubleClick),this.add(this.headerView),this.expandView=new g0;var e,n=((e=this.expandView).flags|=16,.5*Bl.HEADER_HEIGHT),t=.4*Bl.HEADER_HEIGHT;this.expandTriangle=new Ba}(e=this.expandTriangle).set_anchorX(.5),e.set_anchorY(.5),(e=this.expandTriangle).set_width(n),e.set_height(t),(e=this.expandTriangle).set_x(.5*Bl.HEADER_HEIGHT),e.set_y(.5*Bl.HEADER_HEIGHT),this.expandTriangle.set_rotation(90),this.expandView.add(this.expandTriangle),(e=this.expandView).set_viewWidth(Bl.HEADER_HEIGHT),e.set_viewHeight(Bl.HEADER_HEIGHT),this.expandCollapseClick=new c0,this.expandCollapseClick.onClick(this,$bind(this,this.emitExpandCollapseClick)),this.expandView.component("click",this.expandCollapseClick),this.headerView.add(this.expandView),this.titleView=new O1,this.titleView.set_verticalAlign(wt.CENTER),this.titleView.set_pointSize(Bl.TITLE_TEXT_SIZE),this.titleView.set_preRenderedSize(Bl.FONT_PRE_RENDERED_SIZE),(e=this.titleView).set_viewWidth(-60002),e.set_viewHeight(-60002),this.titleView.set_align(this.get_titleAlign()),this.titleView.set_content(""),this.titleView.set_paddingLeft(5),this.headerView.add(this.titleView),this.closeView=new g0;(e=this.closeView).flags|=16;this.closeCross=new ld,(e=this.closeCross).set_anchorX(.5),e.set_anchorY(.5),(e=this.closeCross).set_width(14),e.set_height(14),(e=this.closeCross).set_x(.5*Bl.HEADER_HEIGHT),e.set_y(.5*Bl.HEADER_HEIGHT),this.closeView.add(this.closeCross),(e=this.closeView).set_viewWidth(Bl.HEADER_HEIGHT),e.set_viewHeight(Bl.HEADER_HEIGHT),this.closeClick=new c0,this.closeClick.onClick(this,$bind(this,this.emitClose)),this.closeView.component("click",this.closeClick),this.closeView.set_active(this.get_closable()),this.headerView.add(this.closeView),this.bodyView=new s0,(e=this.bodyView).set_viewWidth(-49900),e.set_viewHeight(0),this.add(this.bodyView),this.onContentViewChange(this,$bind(this,this.contentViewChange)),this.onTitleChange(this,$bind(this,this.titleChange)),this.onTitleAlignChange(this,$bind(this,this.titleAlignChange)),this.onClosableChange(this,$bind(this,this.closableChange)),this.onCollapsibleChange(this,$bind(this,this.collapsibleChange)),this.onHeaderChange(this,$bind(this,this.headerChange)),this.autorun($bind(this,this.updateStyle)),this.onPointerDown(this,function(e){}),this.onPointerOver(this,function(e){})}),Ml=((E["elements.Window"]=Bl).__name__="elements.Window",Bl.__interfaces__=[u],Bl.__super__=s0,Bl.prototype=$extend(s0.prototype,{__cbOnObservedDirty:null,__cbOnceObservedDirty:null,__cbOnOwnerUnbindObservedDirty:null,__cbOnceOwnerUnbindObservedDirty:null,emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnObservedDirty)for(var r=0,h=this.__cbOnObservedDirty.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnObservedDirty[a],++s):--t}if(null!=this.__cbOnceObservedDirty){for(var o=null,c=null,r=0,h=this.__cbOnceObservedDirty.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceObservedDirty[a],this.__cbOnceObservedDirty[a]=null,u=this.__cbOnceOwnerUnbindObservedDirty[a],(this.__cbOnceOwnerUnbindObservedDirty[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindObservedDirty[a]),c.push(this.__cbOnceObservedDirty[a]))}this.__cbOnceOwnerUnbindObservedDirty=o,this.__cbOnceObservedDirty=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(t)},onceObservedDirty:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event observedDirty because owner is destroyed!");var l=function(e){null!=t&&(i.offObservedDirty(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(t)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(s=this.__cbOnOwnerUnbindObservedDirty[n])&&s(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindObservedDirty[n])&&s(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindObservedDirty[l])&&s()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindObservedDirty[l])&&s()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&0<this.__cbOnObservedDirty.length||null!=this.__cbOnceObservedDirty&&0<this.__cbOnceObservedDirty.length},observedDirty:null,themeAutoruns:null,get_theme:function(){var e,n,t=this.unobservedTheme;return null!=w.current&&(e=w.current,null!=(n=this.themeAutoruns)||(n=w.getAutorunArray(),null!=(this.themeAutoruns=n)))&&e.bindToAutorunArray(n),t},set_theme:function(e){var n=this.unobservedTheme;return n!=(this.unobservedTheme=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitThemeChange(e,n),null!=(n=this.themeAutoruns))&&(this.themeAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTheme:function(){var e=this.unobservedTheme,e=(this.emitThemeChange(e,e),this.themeAutoruns);null!=e&&(this.themeAutoruns=null,w.invalidateAutorunArray(e))},unobservedTheme:null,__cbOnThemeChange:null,__cbOnceThemeChange:null,__cbOnOwnerUnbindThemeChange:null,__cbOnceOwnerUnbindThemeChange:null,emitThemeChange:function(e,n){var t=0;if(null!=this.__cbOnThemeChange&&(t+=this.__cbOnThemeChange.length),null!=this.__cbOnceThemeChange&&(t+=this.__cbOnceThemeChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnThemeChange)for(var r=0,h=this.__cbOnThemeChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnThemeChange[a],++s):--t}if(null!=this.__cbOnceThemeChange){for(var o=null,c=null,r=0,h=this.__cbOnceThemeChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceThemeChange[a],this.__cbOnceThemeChange[a]=null,u=this.__cbOnceOwnerUnbindThemeChange[a],(this.__cbOnceOwnerUnbindThemeChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindThemeChange[a]),c.push(this.__cbOnceThemeChange[a]))}this.__cbOnceOwnerUnbindThemeChange=o,this.__cbOnceThemeChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindThemeChange&&(this.__cbOnOwnerUnbindThemeChange=[]),this.__cbOnOwnerUnbindThemeChange.push(null);null==this.__cbOnThemeChange&&(this.__cbOnThemeChange=[]),this.__cbOnThemeChange.push(t)},onceThemeChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event themeChange because owner is destroyed!");var l=function(e){null!=t&&(i.offThemeChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindThemeChange&&(this.__cbOnceOwnerUnbindThemeChange=[]),this.__cbOnceOwnerUnbindThemeChange.push(null);null==this.__cbOnceThemeChange&&(this.__cbOnceThemeChange=[]),this.__cbOnceThemeChange.push(t)},offThemeChange:function(e){if(null!=e){var n;null!=this.__cbOnThemeChange&&-1!=(n=this.__cbOnThemeChange.indexOf(e))&&(this.__cbOnThemeChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindThemeChange[n])&&s(),this.__cbOnOwnerUnbindThemeChange.splice(n,1)),null!=this.__cbOnceThemeChange&&-1!=(n=this.__cbOnceThemeChange.indexOf(e))&&(this.__cbOnceThemeChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindThemeChange[n])&&s(),this.__cbOnceOwnerUnbindThemeChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindThemeChange){for(var t=0,i=this.__cbOnOwnerUnbindThemeChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindThemeChange[l])&&s()}this.__cbOnOwnerUnbindThemeChange=null}if(null!=this.__cbOnceOwnerUnbindThemeChange){for(t=0,i=this.__cbOnceOwnerUnbindThemeChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindThemeChange[l])&&s()}this.__cbOnceOwnerUnbindThemeChange=null}this.__cbOnThemeChange=null,this.__cbOnceThemeChange=null}},listensThemeChange:function(){return null!=this.__cbOnThemeChange&&0<this.__cbOnThemeChange.length||null!=this.__cbOnceThemeChange&&0<this.__cbOnceThemeChange.length},contentViewAutoruns:null,get_contentView:function(){var e,n,t=this.unobservedContentView;return null!=w.current&&(e=w.current,null!=(n=this.contentViewAutoruns)||(n=w.getAutorunArray(),null!=(this.contentViewAutoruns=n)))&&e.bindToAutorunArray(n),t},set_contentView:function(e){var n=this.unobservedContentView;return n!=(this.unobservedContentView=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitContentViewChange(e,n),null!=(n=this.contentViewAutoruns))&&(this.contentViewAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateContentView:function(){var e=this.unobservedContentView,e=(this.emitContentViewChange(e,e),this.contentViewAutoruns);null!=e&&(this.contentViewAutoruns=null,w.invalidateAutorunArray(e))},unobservedContentView:null,__cbOnContentViewChange:null,__cbOnceContentViewChange:null,__cbOnOwnerUnbindContentViewChange:null,__cbOnceOwnerUnbindContentViewChange:null,emitContentViewChange:function(e,n){var t=0;if(null!=this.__cbOnContentViewChange&&(t+=this.__cbOnContentViewChange.length),null!=this.__cbOnceContentViewChange&&(t+=this.__cbOnceContentViewChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnContentViewChange)for(var r=0,h=this.__cbOnContentViewChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnContentViewChange[a],++s):--t}if(null!=this.__cbOnceContentViewChange){for(var o=null,c=null,r=0,h=this.__cbOnceContentViewChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceContentViewChange[a],this.__cbOnceContentViewChange[a]=null,u=this.__cbOnceOwnerUnbindContentViewChange[a],(this.__cbOnceOwnerUnbindContentViewChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindContentViewChange[a]),c.push(this.__cbOnceContentViewChange[a]))}this.__cbOnceOwnerUnbindContentViewChange=o,this.__cbOnceContentViewChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onContentViewChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event contentViewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentViewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindContentViewChange&&(this.__cbOnOwnerUnbindContentViewChange=[]),this.__cbOnOwnerUnbindContentViewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindContentViewChange&&(this.__cbOnOwnerUnbindContentViewChange=[]),this.__cbOnOwnerUnbindContentViewChange.push(null);null==this.__cbOnContentViewChange&&(this.__cbOnContentViewChange=[]),this.__cbOnContentViewChange.push(t)},onceContentViewChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event contentViewChange because owner is destroyed!");var l=function(e){null!=t&&(i.offContentViewChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindContentViewChange&&(this.__cbOnceOwnerUnbindContentViewChange=[]),this.__cbOnceOwnerUnbindContentViewChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindContentViewChange&&(this.__cbOnceOwnerUnbindContentViewChange=[]),this.__cbOnceOwnerUnbindContentViewChange.push(null);null==this.__cbOnceContentViewChange&&(this.__cbOnceContentViewChange=[]),this.__cbOnceContentViewChange.push(t)},offContentViewChange:function(e){if(null!=e){var n;null!=this.__cbOnContentViewChange&&-1!=(n=this.__cbOnContentViewChange.indexOf(e))&&(this.__cbOnContentViewChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindContentViewChange[n])&&s(),this.__cbOnOwnerUnbindContentViewChange.splice(n,1)),null!=this.__cbOnceContentViewChange&&-1!=(n=this.__cbOnceContentViewChange.indexOf(e))&&(this.__cbOnceContentViewChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindContentViewChange[n])&&s(),this.__cbOnceOwnerUnbindContentViewChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindContentViewChange){for(var t=0,i=this.__cbOnOwnerUnbindContentViewChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindContentViewChange[l])&&s()}this.__cbOnOwnerUnbindContentViewChange=null}if(null!=this.__cbOnceOwnerUnbindContentViewChange){for(t=0,i=this.__cbOnceOwnerUnbindContentViewChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindContentViewChange[l])&&s()}this.__cbOnceOwnerUnbindContentViewChange=null}this.__cbOnContentViewChange=null,this.__cbOnceContentViewChange=null}},listensContentViewChange:function(){return null!=this.__cbOnContentViewChange&&0<this.__cbOnContentViewChange.length||null!=this.__cbOnceContentViewChange&&0<this.__cbOnceContentViewChange.length},titleAutoruns:null,get_title:function(){var e,n,t=this.unobservedTitle;return null!=w.current&&(e=w.current,null!=(n=this.titleAutoruns)||(n=w.getAutorunArray(),null!=(this.titleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_title:function(e){var n=this.unobservedTitle;return n!=(this.unobservedTitle=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleChange(e,n),null!=(n=this.titleAutoruns))&&(this.titleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTitle:function(){var e=this.unobservedTitle,e=(this.emitTitleChange(e,e),this.titleAutoruns);null!=e&&(this.titleAutoruns=null,w.invalidateAutorunArray(e))},unobservedTitle:null,__cbOnTitleChange:null,__cbOnceTitleChange:null,__cbOnOwnerUnbindTitleChange:null,__cbOnceOwnerUnbindTitleChange:null,emitTitleChange:function(e,n){var t=0;if(null!=this.__cbOnTitleChange&&(t+=this.__cbOnTitleChange.length),null!=this.__cbOnceTitleChange&&(t+=this.__cbOnceTitleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTitleChange)for(var r=0,h=this.__cbOnTitleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTitleChange[a],++s):--t}if(null!=this.__cbOnceTitleChange){for(var o=null,c=null,r=0,h=this.__cbOnceTitleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTitleChange[a],this.__cbOnceTitleChange[a]=null,u=this.__cbOnceOwnerUnbindTitleChange[a],(this.__cbOnceOwnerUnbindTitleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTitleChange[a]),c.push(this.__cbOnceTitleChange[a]))}this.__cbOnceOwnerUnbindTitleChange=o,this.__cbOnceTitleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(null);null==this.__cbOnTitleChange&&(this.__cbOnTitleChange=[]),this.__cbOnTitleChange.push(t)},onceTitleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event titleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(null);null==this.__cbOnceTitleChange&&(this.__cbOnceTitleChange=[]),this.__cbOnceTitleChange.push(t)},offTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleChange&&-1!=(n=this.__cbOnTitleChange.indexOf(e))&&(this.__cbOnTitleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTitleChange[n])&&s(),this.__cbOnOwnerUnbindTitleChange.splice(n,1)),null!=this.__cbOnceTitleChange&&-1!=(n=this.__cbOnceTitleChange.indexOf(e))&&(this.__cbOnceTitleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTitleChange[n])&&s(),this.__cbOnceOwnerUnbindTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTitleChange[l])&&s()}this.__cbOnOwnerUnbindTitleChange=null}if(null!=this.__cbOnceOwnerUnbindTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTitleChange[l])&&s()}this.__cbOnceOwnerUnbindTitleChange=null}this.__cbOnTitleChange=null,this.__cbOnceTitleChange=null}},listensTitleChange:function(){return null!=this.__cbOnTitleChange&&0<this.__cbOnTitleChange.length||null!=this.__cbOnceTitleChange&&0<this.__cbOnceTitleChange.length},closableAutoruns:null,get_closable:function(){var e,n,t=this.unobservedClosable;return null!=w.current&&(e=w.current,null!=(n=this.closableAutoruns)||(n=w.getAutorunArray(),null!=(this.closableAutoruns=n)))&&e.bindToAutorunArray(n),t},set_closable:function(e){var n=this.unobservedClosable;return n!=(this.unobservedClosable=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitClosableChange(e,n),null!=(n=this.closableAutoruns))&&(this.closableAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateClosable:function(){var e=this.unobservedClosable,e=(this.emitClosableChange(e,e),this.closableAutoruns);null!=e&&(this.closableAutoruns=null,w.invalidateAutorunArray(e))},unobservedClosable:null,__cbOnClosableChange:null,__cbOnceClosableChange:null,__cbOnOwnerUnbindClosableChange:null,__cbOnceOwnerUnbindClosableChange:null,emitClosableChange:function(e,n){var t=0;if(null!=this.__cbOnClosableChange&&(t+=this.__cbOnClosableChange.length),null!=this.__cbOnceClosableChange&&(t+=this.__cbOnceClosableChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnClosableChange)for(var r=0,h=this.__cbOnClosableChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnClosableChange[a],++s):--t}if(null!=this.__cbOnceClosableChange){for(var o=null,c=null,r=0,h=this.__cbOnceClosableChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceClosableChange[a],this.__cbOnceClosableChange[a]=null,u=this.__cbOnceOwnerUnbindClosableChange[a],(this.__cbOnceOwnerUnbindClosableChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindClosableChange[a]),c.push(this.__cbOnceClosableChange[a]))}this.__cbOnceOwnerUnbindClosableChange=o,this.__cbOnceClosableChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onClosableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event closableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offClosableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClosableChange&&(this.__cbOnOwnerUnbindClosableChange=[]),this.__cbOnOwnerUnbindClosableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClosableChange&&(this.__cbOnOwnerUnbindClosableChange=[]),this.__cbOnOwnerUnbindClosableChange.push(null);null==this.__cbOnClosableChange&&(this.__cbOnClosableChange=[]),this.__cbOnClosableChange.push(t)},onceClosableChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event closableChange because owner is destroyed!");var l=function(e){null!=t&&(i.offClosableChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClosableChange&&(this.__cbOnceOwnerUnbindClosableChange=[]),this.__cbOnceOwnerUnbindClosableChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClosableChange&&(this.__cbOnceOwnerUnbindClosableChange=[]),this.__cbOnceOwnerUnbindClosableChange.push(null);null==this.__cbOnceClosableChange&&(this.__cbOnceClosableChange=[]),this.__cbOnceClosableChange.push(t)},offClosableChange:function(e){if(null!=e){var n;null!=this.__cbOnClosableChange&&-1!=(n=this.__cbOnClosableChange.indexOf(e))&&(this.__cbOnClosableChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClosableChange[n])&&s(),this.__cbOnOwnerUnbindClosableChange.splice(n,1)),null!=this.__cbOnceClosableChange&&-1!=(n=this.__cbOnceClosableChange.indexOf(e))&&(this.__cbOnceClosableChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClosableChange[n])&&s(),this.__cbOnceOwnerUnbindClosableChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClosableChange){for(var t=0,i=this.__cbOnOwnerUnbindClosableChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClosableChange[l])&&s()}this.__cbOnOwnerUnbindClosableChange=null}if(null!=this.__cbOnceOwnerUnbindClosableChange){for(t=0,i=this.__cbOnceOwnerUnbindClosableChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClosableChange[l])&&s()}this.__cbOnceOwnerUnbindClosableChange=null}this.__cbOnClosableChange=null,this.__cbOnceClosableChange=null}},listensClosableChange:function(){return null!=this.__cbOnClosableChange&&0<this.__cbOnClosableChange.length||null!=this.__cbOnceClosableChange&&0<this.__cbOnceClosableChange.length},collapsibleAutoruns:null,get_collapsible:function(){var e,n,t=this.unobservedCollapsible;return null!=w.current&&(e=w.current,null!=(n=this.collapsibleAutoruns)||(n=w.getAutorunArray(),null!=(this.collapsibleAutoruns=n)))&&e.bindToAutorunArray(n),t},set_collapsible:function(e){var n=this.unobservedCollapsible;return n!=(this.unobservedCollapsible=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitCollapsibleChange(e,n),null!=(n=this.collapsibleAutoruns))&&(this.collapsibleAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateCollapsible:function(){var e=this.unobservedCollapsible,e=(this.emitCollapsibleChange(e,e),this.collapsibleAutoruns);null!=e&&(this.collapsibleAutoruns=null,w.invalidateAutorunArray(e))},unobservedCollapsible:null,__cbOnCollapsibleChange:null,__cbOnceCollapsibleChange:null,__cbOnOwnerUnbindCollapsibleChange:null,__cbOnceOwnerUnbindCollapsibleChange:null,emitCollapsibleChange:function(e,n){var t=0;if(null!=this.__cbOnCollapsibleChange&&(t+=this.__cbOnCollapsibleChange.length),null!=this.__cbOnceCollapsibleChange&&(t+=this.__cbOnceCollapsibleChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnCollapsibleChange)for(var r=0,h=this.__cbOnCollapsibleChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnCollapsibleChange[a],++s):--t}if(null!=this.__cbOnceCollapsibleChange){for(var o=null,c=null,r=0,h=this.__cbOnceCollapsibleChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceCollapsibleChange[a],this.__cbOnceCollapsibleChange[a]=null,u=this.__cbOnceOwnerUnbindCollapsibleChange[a],(this.__cbOnceOwnerUnbindCollapsibleChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindCollapsibleChange[a]),c.push(this.__cbOnceCollapsibleChange[a]))}this.__cbOnceOwnerUnbindCollapsibleChange=o,this.__cbOnceCollapsibleChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onCollapsibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event collapsibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCollapsibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindCollapsibleChange&&(this.__cbOnOwnerUnbindCollapsibleChange=[]),this.__cbOnOwnerUnbindCollapsibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindCollapsibleChange&&(this.__cbOnOwnerUnbindCollapsibleChange=[]),this.__cbOnOwnerUnbindCollapsibleChange.push(null);null==this.__cbOnCollapsibleChange&&(this.__cbOnCollapsibleChange=[]),this.__cbOnCollapsibleChange.push(t)},onceCollapsibleChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event collapsibleChange because owner is destroyed!");var l=function(e){null!=t&&(i.offCollapsibleChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindCollapsibleChange&&(this.__cbOnceOwnerUnbindCollapsibleChange=[]),this.__cbOnceOwnerUnbindCollapsibleChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindCollapsibleChange&&(this.__cbOnceOwnerUnbindCollapsibleChange=[]),this.__cbOnceOwnerUnbindCollapsibleChange.push(null);null==this.__cbOnceCollapsibleChange&&(this.__cbOnceCollapsibleChange=[]),this.__cbOnceCollapsibleChange.push(t)},offCollapsibleChange:function(e){if(null!=e){var n;null!=this.__cbOnCollapsibleChange&&-1!=(n=this.__cbOnCollapsibleChange.indexOf(e))&&(this.__cbOnCollapsibleChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindCollapsibleChange[n])&&s(),this.__cbOnOwnerUnbindCollapsibleChange.splice(n,1)),null!=this.__cbOnceCollapsibleChange&&-1!=(n=this.__cbOnceCollapsibleChange.indexOf(e))&&(this.__cbOnceCollapsibleChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindCollapsibleChange[n])&&s(),this.__cbOnceOwnerUnbindCollapsibleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCollapsibleChange){for(var t=0,i=this.__cbOnOwnerUnbindCollapsibleChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindCollapsibleChange[l])&&s()}this.__cbOnOwnerUnbindCollapsibleChange=null}if(null!=this.__cbOnceOwnerUnbindCollapsibleChange){for(t=0,i=this.__cbOnceOwnerUnbindCollapsibleChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindCollapsibleChange[l])&&s()}this.__cbOnceOwnerUnbindCollapsibleChange=null}this.__cbOnCollapsibleChange=null,this.__cbOnceCollapsibleChange=null}},listensCollapsibleChange:function(){return null!=this.__cbOnCollapsibleChange&&0<this.__cbOnCollapsibleChange.length||null!=this.__cbOnceCollapsibleChange&&0<this.__cbOnceCollapsibleChange.length},headerAutoruns:null,get_header:function(){var e,n,t=this.unobservedHeader;return null!=w.current&&(e=w.current,null!=(n=this.headerAutoruns)||(n=w.getAutorunArray(),null!=(this.headerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_header:function(e){var n=this.unobservedHeader;return n!=(this.unobservedHeader=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHeaderChange(e,n),null!=(n=this.headerAutoruns))&&(this.headerAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateHeader:function(){var e=this.unobservedHeader,e=(this.emitHeaderChange(e,e),this.headerAutoruns);null!=e&&(this.headerAutoruns=null,w.invalidateAutorunArray(e))},unobservedHeader:null,__cbOnHeaderChange:null,__cbOnceHeaderChange:null,__cbOnOwnerUnbindHeaderChange:null,__cbOnceOwnerUnbindHeaderChange:null,emitHeaderChange:function(e,n){var t=0;if(null!=this.__cbOnHeaderChange&&(t+=this.__cbOnHeaderChange.length),null!=this.__cbOnceHeaderChange&&(t+=this.__cbOnceHeaderChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHeaderChange)for(var r=0,h=this.__cbOnHeaderChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHeaderChange[a],++s):--t}if(null!=this.__cbOnceHeaderChange){for(var o=null,c=null,r=0,h=this.__cbOnceHeaderChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHeaderChange[a],this.__cbOnceHeaderChange[a]=null,u=this.__cbOnceOwnerUnbindHeaderChange[a],(this.__cbOnceOwnerUnbindHeaderChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHeaderChange[a]),c.push(this.__cbOnceHeaderChange[a]))}this.__cbOnceOwnerUnbindHeaderChange=o,this.__cbOnceHeaderChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHeaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event headerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeaderChange&&(this.__cbOnOwnerUnbindHeaderChange=[]),this.__cbOnOwnerUnbindHeaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeaderChange&&(this.__cbOnOwnerUnbindHeaderChange=[]),this.__cbOnOwnerUnbindHeaderChange.push(null);null==this.__cbOnHeaderChange&&(this.__cbOnHeaderChange=[]),this.__cbOnHeaderChange.push(t)},onceHeaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event headerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeaderChange&&(this.__cbOnceOwnerUnbindHeaderChange=[]),this.__cbOnceOwnerUnbindHeaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeaderChange&&(this.__cbOnceOwnerUnbindHeaderChange=[]),this.__cbOnceOwnerUnbindHeaderChange.push(null);null==this.__cbOnceHeaderChange&&(this.__cbOnceHeaderChange=[]),this.__cbOnceHeaderChange.push(t)},offHeaderChange:function(e){if(null!=e){var n;null!=this.__cbOnHeaderChange&&-1!=(n=this.__cbOnHeaderChange.indexOf(e))&&(this.__cbOnHeaderChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHeaderChange[n])&&s(),this.__cbOnOwnerUnbindHeaderChange.splice(n,1)),null!=this.__cbOnceHeaderChange&&-1!=(n=this.__cbOnceHeaderChange.indexOf(e))&&(this.__cbOnceHeaderChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHeaderChange[n])&&s(),this.__cbOnceOwnerUnbindHeaderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeaderChange){for(var t=0,i=this.__cbOnOwnerUnbindHeaderChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHeaderChange[l])&&s()}this.__cbOnOwnerUnbindHeaderChange=null}if(null!=this.__cbOnceOwnerUnbindHeaderChange){for(t=0,i=this.__cbOnceOwnerUnbindHeaderChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHeaderChange[l])&&s()}this.__cbOnceOwnerUnbindHeaderChange=null}this.__cbOnHeaderChange=null,this.__cbOnceHeaderChange=null}},listensHeaderChange:function(){return null!=this.__cbOnHeaderChange&&0<this.__cbOnHeaderChange.length||null!=this.__cbOnceHeaderChange&&0<this.__cbOnceHeaderChange.length},titleAlignAutoruns:null,get_titleAlign:function(){var e,n,t=this.unobservedTitleAlign;return null!=w.current&&(e=w.current,null!=(n=this.titleAlignAutoruns)||(n=w.getAutorunArray(),null!=(this.titleAlignAutoruns=n)))&&e.bindToAutorunArray(n),t},set_titleAlign:function(e){var n=this.unobservedTitleAlign;return n!=(this.unobservedTitleAlign=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleAlignChange(e,n),null!=(n=this.titleAlignAutoruns))&&(this.titleAlignAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateTitleAlign:function(){var e=this.unobservedTitleAlign,e=(this.emitTitleAlignChange(e,e),this.titleAlignAutoruns);null!=e&&(this.titleAlignAutoruns=null,w.invalidateAutorunArray(e))},unobservedTitleAlign:null,__cbOnTitleAlignChange:null,__cbOnceTitleAlignChange:null,__cbOnOwnerUnbindTitleAlignChange:null,__cbOnceOwnerUnbindTitleAlignChange:null,emitTitleAlignChange:function(e,n){var t=0;if(null!=this.__cbOnTitleAlignChange&&(t+=this.__cbOnTitleAlignChange.length),null!=this.__cbOnceTitleAlignChange&&(t+=this.__cbOnceTitleAlignChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnTitleAlignChange)for(var r=0,h=this.__cbOnTitleAlignChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnTitleAlignChange[a],++s):--t}if(null!=this.__cbOnceTitleAlignChange){for(var o=null,c=null,r=0,h=this.__cbOnceTitleAlignChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceTitleAlignChange[a],this.__cbOnceTitleAlignChange[a]=null,u=this.__cbOnceOwnerUnbindTitleAlignChange[a],(this.__cbOnceOwnerUnbindTitleAlignChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindTitleAlignChange[a]),c.push(this.__cbOnceTitleAlignChange[a]))}this.__cbOnceOwnerUnbindTitleAlignChange=o,this.__cbOnceTitleAlignChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onTitleAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event titleAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindTitleAlignChange&&(this.__cbOnOwnerUnbindTitleAlignChange=[]),this.__cbOnOwnerUnbindTitleAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindTitleAlignChange&&(this.__cbOnOwnerUnbindTitleAlignChange=[]),this.__cbOnOwnerUnbindTitleAlignChange.push(null);null==this.__cbOnTitleAlignChange&&(this.__cbOnTitleAlignChange=[]),this.__cbOnTitleAlignChange.push(t)},onceTitleAlignChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event titleAlignChange because owner is destroyed!");var l=function(e){null!=t&&(i.offTitleAlignChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindTitleAlignChange&&(this.__cbOnceOwnerUnbindTitleAlignChange=[]),this.__cbOnceOwnerUnbindTitleAlignChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindTitleAlignChange&&(this.__cbOnceOwnerUnbindTitleAlignChange=[]),this.__cbOnceOwnerUnbindTitleAlignChange.push(null);null==this.__cbOnceTitleAlignChange&&(this.__cbOnceTitleAlignChange=[]),this.__cbOnceTitleAlignChange.push(t)},offTitleAlignChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleAlignChange&&-1!=(n=this.__cbOnTitleAlignChange.indexOf(e))&&(this.__cbOnTitleAlignChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindTitleAlignChange[n])&&s(),this.__cbOnOwnerUnbindTitleAlignChange.splice(n,1)),null!=this.__cbOnceTitleAlignChange&&-1!=(n=this.__cbOnceTitleAlignChange.indexOf(e))&&(this.__cbOnceTitleAlignChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindTitleAlignChange[n])&&s(),this.__cbOnceOwnerUnbindTitleAlignChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleAlignChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleAlignChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindTitleAlignChange[l])&&s()}this.__cbOnOwnerUnbindTitleAlignChange=null}if(null!=this.__cbOnceOwnerUnbindTitleAlignChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleAlignChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindTitleAlignChange[l])&&s()}this.__cbOnceOwnerUnbindTitleAlignChange=null}this.__cbOnTitleAlignChange=null,this.__cbOnceTitleAlignChange=null}},listensTitleAlignChange:function(){return null!=this.__cbOnTitleAlignChange&&0<this.__cbOnTitleAlignChange.length||null!=this.__cbOnceTitleAlignChange&&0<this.__cbOnceTitleAlignChange.length},willListenScrollsChange:function(){this.get_unobservedScrolls()},get_unobservedScrolls:function(){var n,t;return 0<=this._lifecycleState?null==this.computeAutorunScrolls?(n=this,t=new w(null),this.computedOnceScrolls=!0,(this.computeAutorunScrolls=t).onRun=function(){var e=n.computeScrolls();w.unobserve(),n.set_scrolls(e),w.reobserve()},t.onDestroy(this,function(e){n.computeAutorunScrolls==t&&(n.computeAutorunScrolls=null),n=t=null}),this.onDestroy(t,function(e){null!=t&&(t.destroy(),t=null),n=null}),t.run()):this.computeAutorunScrolls.invalidated&&this.computeAutorunScrolls.run():this.computedOnceScrolls||(w.unobserve(),this.computedOnceScrolls=!0,this.unobservedScrolls=this.computeScrolls(),w.reobserve()),this.unobservedScrolls},scrollsAutoruns:null,get_scrolls:function(){var e,n,t=this.get_unobservedScrolls();return null!=w.current&&(e=w.current,null!=(n=this.scrollsAutoruns)||(n=w.getAutorunArray(),null!=(this.scrollsAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scrolls:function(e){var n=this.get_unobservedScrolls();return n!=(this.unobservedScrolls=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScrollsChange(e,n),null!=(n=this.scrollsAutoruns))&&(this.scrollsAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateScrolls:function(){var e=this.get_unobservedScrolls(),e=(this.emitScrollsChange(e,e),this.scrollsAutoruns);null!=e&&(this.scrollsAutoruns=null,w.invalidateAutorunArray(e))},unobservedScrolls:null,__cbOnScrollsChange:null,__cbOnceScrollsChange:null,__cbOnOwnerUnbindScrollsChange:null,__cbOnceOwnerUnbindScrollsChange:null,emitScrollsChange:function(e,n){var t=0;if(null!=this.__cbOnScrollsChange&&(t+=this.__cbOnScrollsChange.length),null!=this.__cbOnceScrollsChange&&(t+=this.__cbOnceScrollsChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnScrollsChange)for(var r=0,h=this.__cbOnScrollsChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnScrollsChange[a],++s):--t}if(null!=this.__cbOnceScrollsChange){for(var o=null,c=null,r=0,h=this.__cbOnceScrollsChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceScrollsChange[a],this.__cbOnceScrollsChange[a]=null,u=this.__cbOnceOwnerUnbindScrollsChange[a],(this.__cbOnceOwnerUnbindScrollsChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScrollsChange[a]),c.push(this.__cbOnceScrollsChange[a]))}this.__cbOnceOwnerUnbindScrollsChange=o,this.__cbOnceScrollsChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onScrollsChange:function(n,t){var i=this;if(null==this.__cbOnScrollsChange&&null==this.__cbOnceScrollsChange&&this.willListenScrollsChange(),null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scrollsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollsChange&&(this.__cbOnOwnerUnbindScrollsChange=[]),this.__cbOnOwnerUnbindScrollsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollsChange&&(this.__cbOnOwnerUnbindScrollsChange=[]),this.__cbOnOwnerUnbindScrollsChange.push(null);null==this.__cbOnScrollsChange&&(this.__cbOnScrollsChange=[]),this.__cbOnScrollsChange.push(t)},onceScrollsChange:function(n,t){var i=this;if(null==this.__cbOnScrollsChange&&null==this.__cbOnceScrollsChange&&this.willListenScrollsChange(),null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scrollsChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollsChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollsChange&&(this.__cbOnceOwnerUnbindScrollsChange=[]),this.__cbOnceOwnerUnbindScrollsChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollsChange&&(this.__cbOnceOwnerUnbindScrollsChange=[]),this.__cbOnceOwnerUnbindScrollsChange.push(null);null==this.__cbOnceScrollsChange&&(this.__cbOnceScrollsChange=[]),this.__cbOnceScrollsChange.push(t)},offScrollsChange:function(e){if(null!=e){var n;null!=this.__cbOnScrollsChange&&-1!=(n=this.__cbOnScrollsChange.indexOf(e))&&(this.__cbOnScrollsChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScrollsChange[n])&&s(),this.__cbOnOwnerUnbindScrollsChange.splice(n,1)),null!=this.__cbOnceScrollsChange&&-1!=(n=this.__cbOnceScrollsChange.indexOf(e))&&(this.__cbOnceScrollsChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScrollsChange[n])&&s(),this.__cbOnceOwnerUnbindScrollsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollsChange){for(var t=0,i=this.__cbOnOwnerUnbindScrollsChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScrollsChange[l])&&s()}this.__cbOnOwnerUnbindScrollsChange=null}if(null!=this.__cbOnceOwnerUnbindScrollsChange){for(t=0,i=this.__cbOnceOwnerUnbindScrollsChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScrollsChange[l])&&s()}this.__cbOnceOwnerUnbindScrollsChange=null}this.__cbOnScrollsChange=null,this.__cbOnceScrollsChange=null}},listensScrollsChange:function(){return null!=this.__cbOnScrollsChange&&0<this.__cbOnScrollsChange.length||null!=this.__cbOnceScrollsChange&&0<this.__cbOnceScrollsChange.length},computeScrolls:function(){var e=this.get_contentView();return null!=e&&e instanceof h0},computeAutorunScrolls:null,computedOnceScrolls:null,movable:null,overlay:null,__cbOnExpandCollapseClick:null,__cbOnceExpandCollapseClick:null,__cbOnOwnerUnbindExpandCollapseClick:null,__cbOnceOwnerUnbindExpandCollapseClick:null,emitExpandCollapseClick:function(){var e=0;if(null!=this.__cbOnExpandCollapseClick&&(e+=this.__cbOnExpandCollapseClick.length),null!=this.__cbOnceExpandCollapseClick&&(e+=this.__cbOnceExpandCollapseClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnExpandCollapseClick)for(var l=0,s=this.__cbOnExpandCollapseClick.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnExpandCollapseClick[r],++i):--e}if(null!=this.__cbOnceExpandCollapseClick){for(var h=null,a=null,l=0,s=this.__cbOnceExpandCollapseClick.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceExpandCollapseClick[r],this.__cbOnceExpandCollapseClick[r]=null,o=this.__cbOnceOwnerUnbindExpandCollapseClick[r],(this.__cbOnceOwnerUnbindExpandCollapseClick[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindExpandCollapseClick[r]),a.push(this.__cbOnceExpandCollapseClick[r]))}this.__cbOnceOwnerUnbindExpandCollapseClick=h,this.__cbOnceExpandCollapseClick=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onExpandCollapseClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event expandCollapseClick because owner is destroyed!");var l=function(e){null!=t&&(i.offExpandCollapseClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindExpandCollapseClick&&(this.__cbOnOwnerUnbindExpandCollapseClick=[]),this.__cbOnOwnerUnbindExpandCollapseClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindExpandCollapseClick&&(this.__cbOnOwnerUnbindExpandCollapseClick=[]),this.__cbOnOwnerUnbindExpandCollapseClick.push(null);null==this.__cbOnExpandCollapseClick&&(this.__cbOnExpandCollapseClick=[]),this.__cbOnExpandCollapseClick.push(t)},onceExpandCollapseClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event expandCollapseClick because owner is destroyed!");var l=function(e){null!=t&&(i.offExpandCollapseClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindExpandCollapseClick&&(this.__cbOnceOwnerUnbindExpandCollapseClick=[]),this.__cbOnceOwnerUnbindExpandCollapseClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindExpandCollapseClick&&(this.__cbOnceOwnerUnbindExpandCollapseClick=[]),this.__cbOnceOwnerUnbindExpandCollapseClick.push(null);null==this.__cbOnceExpandCollapseClick&&(this.__cbOnceExpandCollapseClick=[]),this.__cbOnceExpandCollapseClick.push(t)},offExpandCollapseClick:function(e){if(null!=e){var n;null!=this.__cbOnExpandCollapseClick&&-1!=(n=this.__cbOnExpandCollapseClick.indexOf(e))&&(this.__cbOnExpandCollapseClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindExpandCollapseClick[n])&&s(),this.__cbOnOwnerUnbindExpandCollapseClick.splice(n,1)),null!=this.__cbOnceExpandCollapseClick&&-1!=(n=this.__cbOnceExpandCollapseClick.indexOf(e))&&(this.__cbOnceExpandCollapseClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindExpandCollapseClick[n])&&s(),this.__cbOnceOwnerUnbindExpandCollapseClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindExpandCollapseClick){for(var t=0,i=this.__cbOnOwnerUnbindExpandCollapseClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindExpandCollapseClick[l])&&s()}this.__cbOnOwnerUnbindExpandCollapseClick=null}if(null!=this.__cbOnceOwnerUnbindExpandCollapseClick){for(t=0,i=this.__cbOnceOwnerUnbindExpandCollapseClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindExpandCollapseClick[l])&&s()}this.__cbOnceOwnerUnbindExpandCollapseClick=null}this.__cbOnExpandCollapseClick=null,this.__cbOnceExpandCollapseClick=null}},listensExpandCollapseClick:function(){return null!=this.__cbOnExpandCollapseClick&&0<this.__cbOnExpandCollapseClick.length||null!=this.__cbOnceExpandCollapseClick&&0<this.__cbOnceExpandCollapseClick.length},__cbOnHeaderDoubleClick:null,__cbOnceHeaderDoubleClick:null,__cbOnOwnerUnbindHeaderDoubleClick:null,__cbOnceOwnerUnbindHeaderDoubleClick:null,emitHeaderDoubleClick:function(){var e=0;if(null!=this.__cbOnHeaderDoubleClick&&(e+=this.__cbOnHeaderDoubleClick.length),null!=this.__cbOnceHeaderDoubleClick&&(e+=this.__cbOnceHeaderDoubleClick.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnHeaderDoubleClick)for(var l=0,s=this.__cbOnHeaderDoubleClick.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnHeaderDoubleClick[r],++i):--e}if(null!=this.__cbOnceHeaderDoubleClick){for(var h=null,a=null,l=0,s=this.__cbOnceHeaderDoubleClick.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceHeaderDoubleClick[r],this.__cbOnceHeaderDoubleClick[r]=null,o=this.__cbOnceOwnerUnbindHeaderDoubleClick[r],(this.__cbOnceOwnerUnbindHeaderDoubleClick[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindHeaderDoubleClick[r]),a.push(this.__cbOnceHeaderDoubleClick[r]))}this.__cbOnceOwnerUnbindHeaderDoubleClick=h,this.__cbOnceHeaderDoubleClick=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onHeaderDoubleClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event headerDoubleClick because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderDoubleClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeaderDoubleClick&&(this.__cbOnOwnerUnbindHeaderDoubleClick=[]),this.__cbOnOwnerUnbindHeaderDoubleClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeaderDoubleClick&&(this.__cbOnOwnerUnbindHeaderDoubleClick=[]),this.__cbOnOwnerUnbindHeaderDoubleClick.push(null);null==this.__cbOnHeaderDoubleClick&&(this.__cbOnHeaderDoubleClick=[]),this.__cbOnHeaderDoubleClick.push(t)},onceHeaderDoubleClick:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event headerDoubleClick because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderDoubleClick(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeaderDoubleClick&&(this.__cbOnceOwnerUnbindHeaderDoubleClick=[]),this.__cbOnceOwnerUnbindHeaderDoubleClick.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeaderDoubleClick&&(this.__cbOnceOwnerUnbindHeaderDoubleClick=[]),this.__cbOnceOwnerUnbindHeaderDoubleClick.push(null);null==this.__cbOnceHeaderDoubleClick&&(this.__cbOnceHeaderDoubleClick=[]),this.__cbOnceHeaderDoubleClick.push(t)},offHeaderDoubleClick:function(e){if(null!=e){var n;null!=this.__cbOnHeaderDoubleClick&&-1!=(n=this.__cbOnHeaderDoubleClick.indexOf(e))&&(this.__cbOnHeaderDoubleClick.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHeaderDoubleClick[n])&&s(),this.__cbOnOwnerUnbindHeaderDoubleClick.splice(n,1)),null!=this.__cbOnceHeaderDoubleClick&&-1!=(n=this.__cbOnceHeaderDoubleClick.indexOf(e))&&(this.__cbOnceHeaderDoubleClick.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHeaderDoubleClick[n])&&s(),this.__cbOnceOwnerUnbindHeaderDoubleClick.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeaderDoubleClick){for(var t=0,i=this.__cbOnOwnerUnbindHeaderDoubleClick.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHeaderDoubleClick[l])&&s()}this.__cbOnOwnerUnbindHeaderDoubleClick=null}if(null!=this.__cbOnceOwnerUnbindHeaderDoubleClick){for(t=0,i=this.__cbOnceOwnerUnbindHeaderDoubleClick.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHeaderDoubleClick[l])&&s()}this.__cbOnceOwnerUnbindHeaderDoubleClick=null}this.__cbOnHeaderDoubleClick=null,this.__cbOnceHeaderDoubleClick=null}},listensHeaderDoubleClick:function(){return null!=this.__cbOnHeaderDoubleClick&&0<this.__cbOnHeaderDoubleClick.length||null!=this.__cbOnceHeaderDoubleClick&&0<this.__cbOnceHeaderDoubleClick.length},__cbOnClose:null,__cbOnceClose:null,__cbOnOwnerUnbindClose:null,__cbOnceOwnerUnbindClose:null,emitClose:function(){var e=0;if(null!=this.__cbOnClose&&(e+=this.__cbOnClose.length),null!=this.__cbOnceClose&&(e+=this.__cbOnceClose.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnClose)for(var l=0,s=this.__cbOnClose.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnClose[r],++i):--e}if(null!=this.__cbOnceClose){for(var h=null,a=null,l=0,s=this.__cbOnceClose.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceClose[r],this.__cbOnceClose[r]=null,o=this.__cbOnceOwnerUnbindClose[r],(this.__cbOnceOwnerUnbindClose[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindClose[r]),a.push(this.__cbOnceClose[r]))}this.__cbOnceOwnerUnbindClose=h,this.__cbOnceClose=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onClose:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event close because owner is destroyed!");var l=function(e){null!=t&&(i.offClose(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindClose&&(this.__cbOnOwnerUnbindClose=[]),this.__cbOnOwnerUnbindClose.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindClose&&(this.__cbOnOwnerUnbindClose=[]),this.__cbOnOwnerUnbindClose.push(null);null==this.__cbOnClose&&(this.__cbOnClose=[]),this.__cbOnClose.push(t)},onceClose:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event close because owner is destroyed!");var l=function(e){null!=t&&(i.offClose(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindClose&&(this.__cbOnceOwnerUnbindClose=[]),this.__cbOnceOwnerUnbindClose.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindClose&&(this.__cbOnceOwnerUnbindClose=[]),this.__cbOnceOwnerUnbindClose.push(null);null==this.__cbOnceClose&&(this.__cbOnceClose=[]),this.__cbOnceClose.push(t)},offClose:function(e){if(null!=e){var n;null!=this.__cbOnClose&&-1!=(n=this.__cbOnClose.indexOf(e))&&(this.__cbOnClose.splice(n,1),null!=(s=this.__cbOnOwnerUnbindClose[n])&&s(),this.__cbOnOwnerUnbindClose.splice(n,1)),null!=this.__cbOnceClose&&-1!=(n=this.__cbOnceClose.indexOf(e))&&(this.__cbOnceClose.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindClose[n])&&s(),this.__cbOnceOwnerUnbindClose.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClose){for(var t=0,i=this.__cbOnOwnerUnbindClose.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindClose[l])&&s()}this.__cbOnOwnerUnbindClose=null}if(null!=this.__cbOnceOwnerUnbindClose){for(t=0,i=this.__cbOnceOwnerUnbindClose.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindClose[l])&&s()}this.__cbOnceOwnerUnbindClose=null}this.__cbOnClose=null,this.__cbOnceClose=null}},listensClose:function(){return null!=this.__cbOnClose&&0<this.__cbOnClose.length||null!=this.__cbOnceClose&&0<this.__cbOnceClose.length},headerView:null,expandCollapseClick:null,headerViewDoubleClick:null,closeClick:null,bodyView:null,titleView:null,expandView:null,expandTriangle:null,closeView:null,closeCross:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.overlay&&(this.overlay.destroy(),this.overlay=null),this._lifecycleState=-1,s0.prototype.destroy.call(this))},windowPosStartX:null,windowPosStartY:null,dragPointerStartX:null,dragPointerStartY:null,dragging:null,headerDown:function(e){this.movable&&(this.windowPosStartX=this.x,this.windowPosStartY=this.y,W.get_context().view.screenToVisual(e.x,e.y,Bl._point),this.dragPointerStartX=Bl._point.x,this.dragPointerStartY=Bl._point.y,ke.app.screen.onPointerMove(this,$bind(this,this.headerMove)),ke.app.screen.oncePointerUp(this,$bind(this,this.headerUp)))},headerMove:function(e){var n;this.movable?(W.get_context().view.screenToVisual(e.x,e.y,Bl._point),e=Bl._point.x-this.dragPointerStartX,n=Bl._point.y-this.dragPointerStartY,this.dragging||(e>Bl.DRAG_THRESHOLD||-e>Bl.DRAG_THRESHOLD||n>Bl.DRAG_THRESHOLD||-n>Bl.DRAG_THRESHOLD)&&(this.dragging=!0,this.headerViewDoubleClick.cancel(),this.expandCollapseClick.cancel()),this.dragging&&(n=Math.round(this.windowPosStartY+n),this.set_x(Math.round(this.windowPosStartX+e)),this.set_y(n))):this.dragging&&(this.dragging=!1)},headerUp:function(e){this.dragging=!1,ke.app.screen.offPointerMove($bind(this,this.headerMove))},contentViewChange:function(e,n){n!=e&&(null==n||null!=e&&n.hasIndirectParent(e)||n.destroy(),null!=(n=e)?(this.bodyView.add(e),this.expandTriangle.set_rotation(180)):this.expandTriangle.set_rotation(90))},titleChange:function(e,n){e!=n&&(null!=e?this.titleView.set_content(e):this.titleView.set_content(""))},titleAlignChange:function(e,n){this.titleView.set_align(e),this.get_closable()?this.titleView.set_paddingRight(e==ai.CENTER?.5*-this.closeView.viewWidth:0):this.titleView.set_paddingRight(e==ai.RIGHT?5:0),this.get_collapsible()?this.titleView.set_paddingLeft(e==ai.CENTER?.5*-this.expandView.viewWidth:0):this.titleView.set_paddingLeft(e==ai.LEFT?5:0)},closableChange:function(e,n){e?(this.closeView.set_active(!0),this.titleView.set_paddingRight(this.get_titleAlign()==ai.CENTER?.5*-this.closeView.viewWidth:0)):(this.closeView.set_active(!1),this.titleView.set_paddingRight(this.get_titleAlign()==ai.RIGHT?5:0))},collapsibleChange:function(e,n){e?(this.expandView.set_active(!0),this.titleView.set_paddingLeft(this.get_titleAlign()==ai.CENTER?.5*-this.expandView.viewWidth:0)):(this.expandView.set_active(!1),this.titleView.set_paddingLeft(this.get_titleAlign()==ai.LEFT?5:0))},headerChange:function(e,n){e!=n&&null!=this.headerView&&this.headerView.set_active(e)},updateStyle:function(){var e=this.get_theme(),n=(null==e&&(e=W.get_context().get_theme()),this.headerView.color=e.get_mediumBackgroundColor(),e.get_backgroundInFormLayout()?(this.bodyView.flags|=16,this.bodyView.set_alpha(1)):(this.bodyView.flags&=-17,this.bodyView.color=e.get_windowBackgroundColor(),this.bodyView.set_alpha(e.get_windowBackgroundAlpha())),this.expandTriangle.set_color(e.get_lightTextColor()),this.titleView.set_textColor(e.get_lightTextColor()),e.get_windowBorderColor()),n=(this.borderColor!=n&&(this.borderColor=n,0<this.borderSize||0<this.borderTopSize||0<this.borderBottomSize||0<this.borderLeftSize||0<this.borderRightSize)&&this.updateBorder(),e.get_windowBorderAlpha());this.borderAlpha!=n&&(this.borderAlpha=n,null!=this.border)&&this.border.set_alpha(n),this.titleView.set_font(e.get_mediumFont())},unbindEvents:function(){s0.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offThemeChange(),this.offContentViewChange(),this.offTitleChange(),this.offClosableChange(),this.offCollapsibleChange(),this.offHeaderChange(),this.offTitleAlignChange(),this.offScrollsChange(),this.offExpandCollapseClick(),this.offHeaderDoubleClick(),this.offClose()},__class__:Bl,__properties__:$extend(s0.prototype.__properties__,{get_unobservedScrolls:"get_unobservedScrolls",set_scrolls:"set_scrolls",get_scrolls:"get_scrolls",set_titleAlign:"set_titleAlign",get_titleAlign:"get_titleAlign",set_header:"set_header",get_header:"get_header",set_collapsible:"set_collapsible",get_collapsible:"get_collapsible",set_closable:"set_closable",get_closable:"get_closable",set_title:"set_title",get_title:"get_title",set_contentView:"set_contentView",get_contentView:"get_contentView",set_theme:"set_theme",get_theme:"get_theme"})}),function(){this.window=null,this.targetAnchorY=-999999999,this.targetAnchorX=-999999999,this.targetY=-999999999,this.targetX=-999999999,this.titleAlign=ai.LEFT,this.overlayClicked=!1,this.overlayTheme=null,this.overlay=!1,this.collapsible=!0,this.movable=!1,this.closable=!1,this.justClosed=!1,this.used=!0,this.didScrollWithHeight=-1,this.scrollable=!1,this.filler=null,this.form=null,this.theme=null,this.items=[],this.itemIndex=0,this.computedContentHeight=0,this.unobservedScrollbar=0,this.scrollbarAutoruns=null,this.unobservedHeader=!0,this.headerAutoruns=null,this.unobservedExpanded=!0,this.expandedAutoruns=null,this.unobservedHeight=50,this.heightAutoruns=null,this.unobservedWidth=50,this.widthAutoruns=null,this.unobservedY=50,this.yAutoruns=null,this.unobservedX=50,this.xAutoruns=null,Dd.call(this)}),El=((E["elements.WindowData"]=Ml).__name__="elements.WindowData",Ml.__super__=Dd,Ml.prototype=$extend(Dd.prototype,{xAutoruns:null,get_x:function(){var e,n,t=this.unobservedX;return null!=w.current&&(e=w.current,null!=(n=this.xAutoruns)||(n=w.getAutorunArray(),null!=(this.xAutoruns=n)))&&e.bindToAutorunArray(n),t},set_x:function(e){var n=this.unobservedX;return n!=(this.unobservedX=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitXChange(e,n),null!=(n=this.xAutoruns))&&(this.xAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateX:function(){var e=this.unobservedX,e=(this.emitXChange(e,e),this.xAutoruns);null!=e&&(this.xAutoruns=null,w.invalidateAutorunArray(e))},unobservedX:null,__cbOnXChange:null,__cbOnceXChange:null,__cbOnOwnerUnbindXChange:null,__cbOnceOwnerUnbindXChange:null,emitXChange:function(e,n){var t=0;if(null!=this.__cbOnXChange&&(t+=this.__cbOnXChange.length),null!=this.__cbOnceXChange&&(t+=this.__cbOnceXChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnXChange)for(var r=0,h=this.__cbOnXChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnXChange[a],++s):--t}if(null!=this.__cbOnceXChange){for(var o=null,c=null,r=0,h=this.__cbOnceXChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceXChange[a],this.__cbOnceXChange[a]=null,u=this.__cbOnceOwnerUnbindXChange[a],(this.__cbOnceOwnerUnbindXChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindXChange[a]),c.push(this.__cbOnceXChange[a]))}this.__cbOnceOwnerUnbindXChange=o,this.__cbOnceXChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event xChange because owner is destroyed!");var l=function(e){null!=t&&(i.offXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindXChange&&(this.__cbOnOwnerUnbindXChange=[]),this.__cbOnOwnerUnbindXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindXChange&&(this.__cbOnOwnerUnbindXChange=[]),this.__cbOnOwnerUnbindXChange.push(null);null==this.__cbOnXChange&&(this.__cbOnXChange=[]),this.__cbOnXChange.push(t)},onceXChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event xChange because owner is destroyed!");var l=function(e){null!=t&&(i.offXChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindXChange&&(this.__cbOnceOwnerUnbindXChange=[]),this.__cbOnceOwnerUnbindXChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindXChange&&(this.__cbOnceOwnerUnbindXChange=[]),this.__cbOnceOwnerUnbindXChange.push(null);null==this.__cbOnceXChange&&(this.__cbOnceXChange=[]),this.__cbOnceXChange.push(t)},offXChange:function(e){if(null!=e){var n;null!=this.__cbOnXChange&&-1!=(n=this.__cbOnXChange.indexOf(e))&&(this.__cbOnXChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindXChange[n])&&s(),this.__cbOnOwnerUnbindXChange.splice(n,1)),null!=this.__cbOnceXChange&&-1!=(n=this.__cbOnceXChange.indexOf(e))&&(this.__cbOnceXChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindXChange[n])&&s(),this.__cbOnceOwnerUnbindXChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindXChange){for(var t=0,i=this.__cbOnOwnerUnbindXChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindXChange[l])&&s()}this.__cbOnOwnerUnbindXChange=null}if(null!=this.__cbOnceOwnerUnbindXChange){for(t=0,i=this.__cbOnceOwnerUnbindXChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindXChange[l])&&s()}this.__cbOnceOwnerUnbindXChange=null}this.__cbOnXChange=null,this.__cbOnceXChange=null}},listensXChange:function(){return null!=this.__cbOnXChange&&0<this.__cbOnXChange.length||null!=this.__cbOnceXChange&&0<this.__cbOnceXChange.length},yAutoruns:null,get_y:function(){var e,n,t=this.unobservedY;return null!=w.current&&(e=w.current,null!=(n=this.yAutoruns)||(n=w.getAutorunArray(),null!=(this.yAutoruns=n)))&&e.bindToAutorunArray(n),t},set_y:function(e){var n=this.unobservedY;return n!=(this.unobservedY=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitYChange(e,n),null!=(n=this.yAutoruns))&&(this.yAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateY:function(){var e=this.unobservedY,e=(this.emitYChange(e,e),this.yAutoruns);null!=e&&(this.yAutoruns=null,w.invalidateAutorunArray(e))},unobservedY:null,__cbOnYChange:null,__cbOnceYChange:null,__cbOnOwnerUnbindYChange:null,__cbOnceOwnerUnbindYChange:null,emitYChange:function(e,n){var t=0;if(null!=this.__cbOnYChange&&(t+=this.__cbOnYChange.length),null!=this.__cbOnceYChange&&(t+=this.__cbOnceYChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnYChange)for(var r=0,h=this.__cbOnYChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnYChange[a],++s):--t}if(null!=this.__cbOnceYChange){for(var o=null,c=null,r=0,h=this.__cbOnceYChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceYChange[a],this.__cbOnceYChange[a]=null,u=this.__cbOnceOwnerUnbindYChange[a],(this.__cbOnceOwnerUnbindYChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindYChange[a]),c.push(this.__cbOnceYChange[a]))}this.__cbOnceOwnerUnbindYChange=o,this.__cbOnceYChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event yChange because owner is destroyed!");var l=function(e){null!=t&&(i.offYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindYChange&&(this.__cbOnOwnerUnbindYChange=[]),this.__cbOnOwnerUnbindYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindYChange&&(this.__cbOnOwnerUnbindYChange=[]),this.__cbOnOwnerUnbindYChange.push(null);null==this.__cbOnYChange&&(this.__cbOnYChange=[]),this.__cbOnYChange.push(t)},onceYChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event yChange because owner is destroyed!");var l=function(e){null!=t&&(i.offYChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindYChange&&(this.__cbOnceOwnerUnbindYChange=[]),this.__cbOnceOwnerUnbindYChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindYChange&&(this.__cbOnceOwnerUnbindYChange=[]),this.__cbOnceOwnerUnbindYChange.push(null);null==this.__cbOnceYChange&&(this.__cbOnceYChange=[]),this.__cbOnceYChange.push(t)},offYChange:function(e){if(null!=e){var n;null!=this.__cbOnYChange&&-1!=(n=this.__cbOnYChange.indexOf(e))&&(this.__cbOnYChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindYChange[n])&&s(),this.__cbOnOwnerUnbindYChange.splice(n,1)),null!=this.__cbOnceYChange&&-1!=(n=this.__cbOnceYChange.indexOf(e))&&(this.__cbOnceYChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindYChange[n])&&s(),this.__cbOnceOwnerUnbindYChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindYChange){for(var t=0,i=this.__cbOnOwnerUnbindYChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindYChange[l])&&s()}this.__cbOnOwnerUnbindYChange=null}if(null!=this.__cbOnceOwnerUnbindYChange){for(t=0,i=this.__cbOnceOwnerUnbindYChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindYChange[l])&&s()}this.__cbOnceOwnerUnbindYChange=null}this.__cbOnYChange=null,this.__cbOnceYChange=null}},listensYChange:function(){return null!=this.__cbOnYChange&&0<this.__cbOnYChange.length||null!=this.__cbOnceYChange&&0<this.__cbOnceYChange.length},widthAutoruns:null,get_width:function(){var e,n,t=this.unobservedWidth;return null!=w.current&&(e=w.current,null!=(n=this.widthAutoruns)||(n=w.getAutorunArray(),null!=(this.widthAutoruns=n)))&&e.bindToAutorunArray(n),t},set_width:function(e){var n=this.unobservedWidth;return n!=(this.unobservedWidth=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitWidthChange(e,n),null!=(n=this.widthAutoruns))&&(this.widthAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateWidth:function(){var e=this.unobservedWidth,e=(this.emitWidthChange(e,e),this.widthAutoruns);null!=e&&(this.widthAutoruns=null,w.invalidateAutorunArray(e))},unobservedWidth:null,__cbOnWidthChange:null,__cbOnceWidthChange:null,__cbOnOwnerUnbindWidthChange:null,__cbOnceOwnerUnbindWidthChange:null,emitWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWidthChange&&(t+=this.__cbOnWidthChange.length),null!=this.__cbOnceWidthChange&&(t+=this.__cbOnceWidthChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnWidthChange)for(var r=0,h=this.__cbOnWidthChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnWidthChange[a],++s):--t}if(null!=this.__cbOnceWidthChange){for(var o=null,c=null,r=0,h=this.__cbOnceWidthChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceWidthChange[a],this.__cbOnceWidthChange[a]=null,u=this.__cbOnceOwnerUnbindWidthChange[a],(this.__cbOnceOwnerUnbindWidthChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindWidthChange[a]),c.push(this.__cbOnceWidthChange[a]))}this.__cbOnceOwnerUnbindWidthChange=o,this.__cbOnceWidthChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(null);null==this.__cbOnWidthChange&&(this.__cbOnWidthChange=[]),this.__cbOnWidthChange.push(t)},onceWidthChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event widthChange because owner is destroyed!");var l=function(e){null!=t&&(i.offWidthChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(null);null==this.__cbOnceWidthChange&&(this.__cbOnceWidthChange=[]),this.__cbOnceWidthChange.push(t)},offWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWidthChange&&-1!=(n=this.__cbOnWidthChange.indexOf(e))&&(this.__cbOnWidthChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindWidthChange[n])&&s(),this.__cbOnOwnerUnbindWidthChange.splice(n,1)),null!=this.__cbOnceWidthChange&&-1!=(n=this.__cbOnceWidthChange.indexOf(e))&&(this.__cbOnceWidthChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindWidthChange[n])&&s(),this.__cbOnceOwnerUnbindWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWidthChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindWidthChange[l])&&s()}this.__cbOnOwnerUnbindWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWidthChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindWidthChange[l])&&s()}this.__cbOnceOwnerUnbindWidthChange=null}this.__cbOnWidthChange=null,this.__cbOnceWidthChange=null}},listensWidthChange:function(){return null!=this.__cbOnWidthChange&&0<this.__cbOnWidthChange.length||null!=this.__cbOnceWidthChange&&0<this.__cbOnceWidthChange.length},heightAutoruns:null,get_height:function(){var e,n,t=this.unobservedHeight;return null!=w.current&&(e=w.current,null!=(n=this.heightAutoruns)||(n=w.getAutorunArray(),null!=(this.heightAutoruns=n)))&&e.bindToAutorunArray(n),t},set_height:function(e){var n=this.unobservedHeight;return n!=(this.unobservedHeight=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHeightChange(e,n),null!=(n=this.heightAutoruns))&&(this.heightAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateHeight:function(){var e=this.unobservedHeight,e=(this.emitHeightChange(e,e),this.heightAutoruns);null!=e&&(this.heightAutoruns=null,w.invalidateAutorunArray(e))},unobservedHeight:null,__cbOnHeightChange:null,__cbOnceHeightChange:null,__cbOnOwnerUnbindHeightChange:null,__cbOnceOwnerUnbindHeightChange:null,emitHeightChange:function(e,n){var t=0;if(null!=this.__cbOnHeightChange&&(t+=this.__cbOnHeightChange.length),null!=this.__cbOnceHeightChange&&(t+=this.__cbOnceHeightChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHeightChange)for(var r=0,h=this.__cbOnHeightChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHeightChange[a],++s):--t}if(null!=this.__cbOnceHeightChange){for(var o=null,c=null,r=0,h=this.__cbOnceHeightChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHeightChange[a],this.__cbOnceHeightChange[a]=null,u=this.__cbOnceOwnerUnbindHeightChange[a],(this.__cbOnceOwnerUnbindHeightChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHeightChange[a]),c.push(this.__cbOnceHeightChange[a]))}this.__cbOnceOwnerUnbindHeightChange=o,this.__cbOnceHeightChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(null);null==this.__cbOnHeightChange&&(this.__cbOnHeightChange=[]),this.__cbOnHeightChange.push(t)},onceHeightChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event heightChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeightChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(null);null==this.__cbOnceHeightChange&&(this.__cbOnceHeightChange=[]),this.__cbOnceHeightChange.push(t)},offHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnHeightChange&&-1!=(n=this.__cbOnHeightChange.indexOf(e))&&(this.__cbOnHeightChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHeightChange[n])&&s(),this.__cbOnOwnerUnbindHeightChange.splice(n,1)),null!=this.__cbOnceHeightChange&&-1!=(n=this.__cbOnceHeightChange.indexOf(e))&&(this.__cbOnceHeightChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHeightChange[n])&&s(),this.__cbOnceOwnerUnbindHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindHeightChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHeightChange[l])&&s()}this.__cbOnOwnerUnbindHeightChange=null}if(null!=this.__cbOnceOwnerUnbindHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindHeightChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHeightChange[l])&&s()}this.__cbOnceOwnerUnbindHeightChange=null}this.__cbOnHeightChange=null,this.__cbOnceHeightChange=null}},listensHeightChange:function(){return null!=this.__cbOnHeightChange&&0<this.__cbOnHeightChange.length||null!=this.__cbOnceHeightChange&&0<this.__cbOnceHeightChange.length},expandedAutoruns:null,get_expanded:function(){var e,n,t=this.unobservedExpanded;return null!=w.current&&(e=w.current,null!=(n=this.expandedAutoruns)||(n=w.getAutorunArray(),null!=(this.expandedAutoruns=n)))&&e.bindToAutorunArray(n),t},set_expanded:function(e){var n=this.unobservedExpanded;return n!=(this.unobservedExpanded=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitExpandedChange(e,n),null!=(n=this.expandedAutoruns))&&(this.expandedAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateExpanded:function(){var e=this.unobservedExpanded,e=(this.emitExpandedChange(e,e),this.expandedAutoruns);null!=e&&(this.expandedAutoruns=null,w.invalidateAutorunArray(e))},unobservedExpanded:null,__cbOnExpandedChange:null,__cbOnceExpandedChange:null,__cbOnOwnerUnbindExpandedChange:null,__cbOnceOwnerUnbindExpandedChange:null,emitExpandedChange:function(e,n){var t=0;if(null!=this.__cbOnExpandedChange&&(t+=this.__cbOnExpandedChange.length),null!=this.__cbOnceExpandedChange&&(t+=this.__cbOnceExpandedChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnExpandedChange)for(var r=0,h=this.__cbOnExpandedChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnExpandedChange[a],++s):--t}if(null!=this.__cbOnceExpandedChange){for(var o=null,c=null,r=0,h=this.__cbOnceExpandedChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceExpandedChange[a],this.__cbOnceExpandedChange[a]=null,u=this.__cbOnceOwnerUnbindExpandedChange[a],(this.__cbOnceOwnerUnbindExpandedChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindExpandedChange[a]),c.push(this.__cbOnceExpandedChange[a]))}this.__cbOnceOwnerUnbindExpandedChange=o,this.__cbOnceExpandedChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onExpandedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event expandedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offExpandedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindExpandedChange&&(this.__cbOnOwnerUnbindExpandedChange=[]),this.__cbOnOwnerUnbindExpandedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindExpandedChange&&(this.__cbOnOwnerUnbindExpandedChange=[]),this.__cbOnOwnerUnbindExpandedChange.push(null);null==this.__cbOnExpandedChange&&(this.__cbOnExpandedChange=[]),this.__cbOnExpandedChange.push(t)},onceExpandedChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event expandedChange because owner is destroyed!");var l=function(e){null!=t&&(i.offExpandedChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindExpandedChange&&(this.__cbOnceOwnerUnbindExpandedChange=[]),this.__cbOnceOwnerUnbindExpandedChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindExpandedChange&&(this.__cbOnceOwnerUnbindExpandedChange=[]),this.__cbOnceOwnerUnbindExpandedChange.push(null);null==this.__cbOnceExpandedChange&&(this.__cbOnceExpandedChange=[]),this.__cbOnceExpandedChange.push(t)},offExpandedChange:function(e){if(null!=e){var n;null!=this.__cbOnExpandedChange&&-1!=(n=this.__cbOnExpandedChange.indexOf(e))&&(this.__cbOnExpandedChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindExpandedChange[n])&&s(),this.__cbOnOwnerUnbindExpandedChange.splice(n,1)),null!=this.__cbOnceExpandedChange&&-1!=(n=this.__cbOnceExpandedChange.indexOf(e))&&(this.__cbOnceExpandedChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindExpandedChange[n])&&s(),this.__cbOnceOwnerUnbindExpandedChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindExpandedChange){for(var t=0,i=this.__cbOnOwnerUnbindExpandedChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindExpandedChange[l])&&s()}this.__cbOnOwnerUnbindExpandedChange=null}if(null!=this.__cbOnceOwnerUnbindExpandedChange){for(t=0,i=this.__cbOnceOwnerUnbindExpandedChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindExpandedChange[l])&&s()}this.__cbOnceOwnerUnbindExpandedChange=null}this.__cbOnExpandedChange=null,this.__cbOnceExpandedChange=null}},listensExpandedChange:function(){return null!=this.__cbOnExpandedChange&&0<this.__cbOnExpandedChange.length||null!=this.__cbOnceExpandedChange&&0<this.__cbOnceExpandedChange.length},headerAutoruns:null,get_header:function(){var e,n,t=this.unobservedHeader;return null!=w.current&&(e=w.current,null!=(n=this.headerAutoruns)||(n=w.getAutorunArray(),null!=(this.headerAutoruns=n)))&&e.bindToAutorunArray(n),t},set_header:function(e){var n=this.unobservedHeader;return n!=(this.unobservedHeader=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitHeaderChange(e,n),null!=(n=this.headerAutoruns))&&(this.headerAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateHeader:function(){var e=this.unobservedHeader,e=(this.emitHeaderChange(e,e),this.headerAutoruns);null!=e&&(this.headerAutoruns=null,w.invalidateAutorunArray(e))},unobservedHeader:null,__cbOnHeaderChange:null,__cbOnceHeaderChange:null,__cbOnOwnerUnbindHeaderChange:null,__cbOnceOwnerUnbindHeaderChange:null,emitHeaderChange:function(e,n){var t=0;if(null!=this.__cbOnHeaderChange&&(t+=this.__cbOnHeaderChange.length),null!=this.__cbOnceHeaderChange&&(t+=this.__cbOnceHeaderChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnHeaderChange)for(var r=0,h=this.__cbOnHeaderChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnHeaderChange[a],++s):--t}if(null!=this.__cbOnceHeaderChange){for(var o=null,c=null,r=0,h=this.__cbOnceHeaderChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceHeaderChange[a],this.__cbOnceHeaderChange[a]=null,u=this.__cbOnceOwnerUnbindHeaderChange[a],(this.__cbOnceOwnerUnbindHeaderChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindHeaderChange[a]),c.push(this.__cbOnceHeaderChange[a]))}this.__cbOnceOwnerUnbindHeaderChange=o,this.__cbOnceHeaderChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onHeaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event headerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindHeaderChange&&(this.__cbOnOwnerUnbindHeaderChange=[]),this.__cbOnOwnerUnbindHeaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindHeaderChange&&(this.__cbOnOwnerUnbindHeaderChange=[]),this.__cbOnOwnerUnbindHeaderChange.push(null);null==this.__cbOnHeaderChange&&(this.__cbOnHeaderChange=[]),this.__cbOnHeaderChange.push(t)},onceHeaderChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event headerChange because owner is destroyed!");var l=function(e){null!=t&&(i.offHeaderChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindHeaderChange&&(this.__cbOnceOwnerUnbindHeaderChange=[]),this.__cbOnceOwnerUnbindHeaderChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindHeaderChange&&(this.__cbOnceOwnerUnbindHeaderChange=[]),this.__cbOnceOwnerUnbindHeaderChange.push(null);null==this.__cbOnceHeaderChange&&(this.__cbOnceHeaderChange=[]),this.__cbOnceHeaderChange.push(t)},offHeaderChange:function(e){if(null!=e){var n;null!=this.__cbOnHeaderChange&&-1!=(n=this.__cbOnHeaderChange.indexOf(e))&&(this.__cbOnHeaderChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindHeaderChange[n])&&s(),this.__cbOnOwnerUnbindHeaderChange.splice(n,1)),null!=this.__cbOnceHeaderChange&&-1!=(n=this.__cbOnceHeaderChange.indexOf(e))&&(this.__cbOnceHeaderChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindHeaderChange[n])&&s(),this.__cbOnceOwnerUnbindHeaderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeaderChange){for(var t=0,i=this.__cbOnOwnerUnbindHeaderChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindHeaderChange[l])&&s()}this.__cbOnOwnerUnbindHeaderChange=null}if(null!=this.__cbOnceOwnerUnbindHeaderChange){for(t=0,i=this.__cbOnceOwnerUnbindHeaderChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindHeaderChange[l])&&s()}this.__cbOnceOwnerUnbindHeaderChange=null}this.__cbOnHeaderChange=null,this.__cbOnceHeaderChange=null}},listensHeaderChange:function(){return null!=this.__cbOnHeaderChange&&0<this.__cbOnHeaderChange.length||null!=this.__cbOnceHeaderChange&&0<this.__cbOnceHeaderChange.length},scrollbarAutoruns:null,get_scrollbar:function(){var e,n,t=this.unobservedScrollbar;return null!=w.current&&(e=w.current,null!=(n=this.scrollbarAutoruns)||(n=w.getAutorunArray(),null!=(this.scrollbarAutoruns=n)))&&e.bindToAutorunArray(n),t},set_scrollbar:function(e){var n=this.unobservedScrollbar;return n!=(this.unobservedScrollbar=e)&&(this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!0)),this.emitScrollbarChange(e,n),null!=(n=this.scrollbarAutoruns))&&(this.scrollbarAutoruns=null,w.invalidateAutorunArray(n)),e},invalidateScrollbar:function(){var e=this.unobservedScrollbar,e=(this.emitScrollbarChange(e,e),this.scrollbarAutoruns);null!=e&&(this.scrollbarAutoruns=null,w.invalidateAutorunArray(e))},unobservedScrollbar:null,__cbOnScrollbarChange:null,__cbOnceScrollbarChange:null,__cbOnOwnerUnbindScrollbarChange:null,__cbOnceOwnerUnbindScrollbarChange:null,emitScrollbarChange:function(e,n){var t=0;if(null!=this.__cbOnScrollbarChange&&(t+=this.__cbOnScrollbarChange.length),null!=this.__cbOnceScrollbarChange&&(t+=this.__cbOnceScrollbarChange.length),0<t){var i=C.pool(t),l=i.get(),s=0;if(null!=this.__cbOnScrollbarChange)for(var r=0,h=this.__cbOnScrollbarChange.length;r<h;){var a=r++;!0?(l.vector[s]=this.__cbOnScrollbarChange[a],++s):--t}if(null!=this.__cbOnceScrollbarChange){for(var o=null,c=null,r=0,h=this.__cbOnceScrollbarChange.length;r<h;){var u,a=r++;!0?(l.vector[s]=this.__cbOnceScrollbarChange[a],this.__cbOnceScrollbarChange[a]=null,u=this.__cbOnceOwnerUnbindScrollbarChange[a],(this.__cbOnceOwnerUnbindScrollbarChange[a]=null)!=u&&u(),++s):(--t,null==o&&(o=[],c=[],0),o.push(this.__cbOnceOwnerUnbindScrollbarChange[a]),c.push(this.__cbOnceScrollbarChange[a]))}this.__cbOnceOwnerUnbindScrollbarChange=o,this.__cbOnceScrollbarChange=c}for(r=0,h=t;r<h;){s=r++;(0,l.vector[s])(e,n)}i.release(l)}},onScrollbarChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scrollbarChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollbarChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindScrollbarChange&&(this.__cbOnOwnerUnbindScrollbarChange=[]),this.__cbOnOwnerUnbindScrollbarChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindScrollbarChange&&(this.__cbOnOwnerUnbindScrollbarChange=[]),this.__cbOnOwnerUnbindScrollbarChange.push(null);null==this.__cbOnScrollbarChange&&(this.__cbOnScrollbarChange=[]),this.__cbOnScrollbarChange.push(t)},onceScrollbarChange:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event scrollbarChange because owner is destroyed!");var l=function(e){null!=t&&(i.offScrollbarChange(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindScrollbarChange&&(this.__cbOnceOwnerUnbindScrollbarChange=[]),this.__cbOnceOwnerUnbindScrollbarChange.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindScrollbarChange&&(this.__cbOnceOwnerUnbindScrollbarChange=[]),this.__cbOnceOwnerUnbindScrollbarChange.push(null);null==this.__cbOnceScrollbarChange&&(this.__cbOnceScrollbarChange=[]),this.__cbOnceScrollbarChange.push(t)},offScrollbarChange:function(e){if(null!=e){var n;null!=this.__cbOnScrollbarChange&&-1!=(n=this.__cbOnScrollbarChange.indexOf(e))&&(this.__cbOnScrollbarChange.splice(n,1),null!=(s=this.__cbOnOwnerUnbindScrollbarChange[n])&&s(),this.__cbOnOwnerUnbindScrollbarChange.splice(n,1)),null!=this.__cbOnceScrollbarChange&&-1!=(n=this.__cbOnceScrollbarChange.indexOf(e))&&(this.__cbOnceScrollbarChange.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindScrollbarChange[n])&&s(),this.__cbOnceOwnerUnbindScrollbarChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScrollbarChange){for(var t=0,i=this.__cbOnOwnerUnbindScrollbarChange.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindScrollbarChange[l])&&s()}this.__cbOnOwnerUnbindScrollbarChange=null}if(null!=this.__cbOnceOwnerUnbindScrollbarChange){for(t=0,i=this.__cbOnceOwnerUnbindScrollbarChange.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindScrollbarChange[l])&&s()}this.__cbOnceOwnerUnbindScrollbarChange=null}this.__cbOnScrollbarChange=null,this.__cbOnceScrollbarChange=null}},listensScrollbarChange:function(){return null!=this.__cbOnScrollbarChange&&0<this.__cbOnScrollbarChange.length||null!=this.__cbOnceScrollbarChange&&0<this.__cbOnceScrollbarChange.length},computedContentHeight:null,itemIndex:null,items:null,get_numItems:function(){return this.itemIndex},theme:null,form:null,filler:null,scrollable:null,didScrollWithHeight:null,used:null,justClosed:null,closable:null,movable:null,collapsible:null,overlay:null,overlayTheme:null,overlayClicked:null,titleAlign:null,targetX:null,targetY:null,targetAnchorX:null,targetAnchorY:null,window:null,beginFrame:function(){this.used=!1;this.itemIndex;this.itemIndex=0},endFrame:function(){this.used?null!=this.window&&(this.set_x(this.window.x),this.set_y(this.window.y)):null!=this.window&&(e=this.window,this.window=null,e.destroy());for(var e,n=this.itemIndex,t=this.items.length;n<t;){var i=n++,l=this.items[i];null!=l&&(11==l.kind&&0<l.int0&&null!=l.visual&&(l.visual.destroy(),l.visual=null),this.items[i]=null,l.recycle())}},addItem:function(e){var n=this.items[this.itemIndex];null!=n&&null!=n.previous&&(n.previous.recycle(),n.previous=null),e.previous=n,this.items[this.itemIndex]=e,this.itemIndex++},unbindEvents:function(){Dd.prototype.unbindEvents.call(this),this.offXChange(),this.offYChange(),this.offWidthChange(),this.offHeightChange(),this.offExpandedChange(),this.offHeaderChange(),this.offScrollbarChange()},_default_xAutoruns:function(){return null},_default_x:function(){return 50},_default_yAutoruns:function(){return null},_default_y:function(){return 50},_default_widthAutoruns:function(){return null},_default_width:function(){return 50},_default_heightAutoruns:function(){return null},_default_height:function(){return 50},_default_expandedAutoruns:function(){return null},_default_expanded:function(){return!0},_default_headerAutoruns:function(){return null},_default_header:function(){return!0},_default_scrollbarAutoruns:function(){return null},_default_scrollbar:function(){return 0},_default_computedContentHeight:function(){return 0},_default_itemIndex:function(){return 0},_default_items:function(){return[]},_default_theme:function(){return null},_default_form:function(){return null},_default_filler:function(){return null},_default_scrollable:function(){return!1},_default_didScrollWithHeight:function(){return-1},_default_used:function(){return!0},_default_justClosed:function(){return!1},_default_closable:function(){return!1},_default_movable:function(){return!1},_default_collapsible:function(){return!0},_default_overlay:function(){return!1},_default_overlayTheme:function(){return null},_default_overlayClicked:function(){return!1},_default_titleAlign:function(){return ai.LEFT},_default_targetX:function(){return-999999999},_default_targetY:function(){return-999999999},_default_targetAnchorX:function(){return-999999999},_default_targetAnchorY:function(){return-999999999},_default_window:function(){return null},__class__:Ml,__properties__:$extend(Dd.prototype.__properties__,{get_numItems:"get_numItems",set_scrollbar:"set_scrollbar",get_scrollbar:"get_scrollbar",set_header:"set_header",get_header:"get_header",set_expanded:"set_expanded",get_expanded:"get_expanded",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"})}),function(){this.row=-1,this.anyArray0=null,this.stringArray1=null,this.stringArray0=null,this.intArray0=null,this.visual=null,this.any5=null,this.any4=null,this.any3=null,this.any2=null,this.any1=null,this.any0=null,this.string4=null,this.string3=null,this.string2=null,this.string1=null,this.string0=null,this.bool4=!1,this.bool3=!1,this.bool2=!1,this.bool1=!1,this.bool0=!1,this.float4=0,this.float3=0,this.labelWidth=0,this.float1=0,this.float0=0,this.flex=1,this.disabled=!1,this.labelPosition=0,this.int3=0,this.int2=0,this.int1=0,this.int0=0,this.theme=null,this.previous=null,this.kind=0}),Rl=((E["elements.WindowItem"]=El).__name__="elements.WindowItem",El.get=function(){var e=El.pool,e=0<e.availableItems.length?e.availableItems.pop():null;return e=null==e?new El:e},El._selectSetIntValue=function(e,n){var t=e.windowItem,e=e.get_list().indexOf(n);t.int1=e},El._editColorSetValue=function(e,n){e.set_value(n),e.windowItem.int1=n},El._editTextSetValue=function(e,n){e.windowItem.string1=n},El._editTextSubmit=function(e){e.windowItem.bool1=!0},El._editTextBlur=function(e){e.windowItem.bool3=!0},El._editFloatSetTextValue=function(e,n){var t,i;El._editFloatOrIntOperations(e,n)||(t=(i=e.windowItem).float4,i=i.int0,yl.setTextValueToFloat(e,n,-999999999,t,i,!1))},El._editFloatSetEmptyValue=function(e){var n=e.windowItem,t=n.float3,i=n.float4,l=n.int0;n.float1=yl.setEmptyToFloat(e,t,i,l)},El._editFloatSetValue=function(e,n){var e=e.windowItem,t=e.float3,i=e.float4;t<=n&&n<=i&&(e.float1=n)},El._editFloatFinishEditing=function(e){var n=e.windowItem,t=n.float3,i=n.float4,n=n.int0;yl.applyFloatOrIntOperationsIfNeeded(e,e.get_textValue(),t,i,!1,n)||yl.setTextValueToFloat(e,e.get_textValue(),t,i,n,!0)},El._editIntSetTextValue=function(e,n){var t;El._editFloatOrIntOperations(e,n)||(t=0|e.windowItem.float4,yl.setTextValueToInt(e,n,-999999999,t))},El._editIntSetEmptyValue=function(e){var n=e.windowItem,t=0|n.float3,i=0|n.float4;n.int1=yl.setEmptyToInt(e,t,i)},El._editIntSetValue=function(e,n){var e=e.windowItem,t=e.float3,i=e.float4;t<=n&&n<=i&&(e.int1=n)},El._editIntFinishEditing=function(e){var n=e.windowItem,t=0|n.float3,n=0|n.float4;yl.applyFloatOrIntOperationsIfNeeded(e,e.get_textValue(),t,n,!0,0)||yl.setTextValueToInt(e,e.get_textValue(),t,n)},El._editFloatOrIntOperations=function(e,n){var t=n.indexOf("+"),i=n.indexOf("-"),l=n.indexOf("*"),s=n.indexOf("/");return 0<t&&!(0<i||0<l||0<s)||0<i&&!(0<t||0<l||0<s)||0<l&&!(0<t||0<i||0<s)?(e.set_textValue(z.trim(n)),n!=e.get_textValue()&&e.invalidateTextValue(),!0):0<s&&!(0<t||0<l||0<i||(e.set_textValue(z.trim(n)),n!=e.get_textValue()&&e.invalidateTextValue(),0))},El._slideFloatSetValue=function(e,n){var t=e.windowItem,i=t.float3,l=t.float4;i<=n&&n<=l&&(t.float1=n,e.get_value(),e.set_value(n))},El._slideIntSetValue=function(e,n){var t=e.windowItem,i=t.float3,l=t.float4,s=Math.round(n);i<=n&&n<=l&&(t.int1=0|s,e.get_value(),e.set_value(n))},El.prototype={kind:null,previous:null,theme:null,int0:null,int1:null,int2:null,int3:null,labelPosition:null,disabled:null,flex:null,float0:null,float1:null,labelWidth:null,float3:null,float4:null,bool0:null,bool1:null,bool2:null,bool3:null,bool4:null,string0:null,string1:null,string2:null,string3:null,string4:null,any0:null,any1:null,any2:null,any3:null,any4:null,any5:null,visual:null,intArray0:null,stringArray0:null,stringArray1:null,anyArray0:null,row:null,hasManagedVisual:function(){return 11==this.kind&&0<this.int0&&null!=this.visual},isSameItem:function(e){if(null==e)return!1;if(e.kind!=this.kind)return!1;if(e.row!=this.row)return!1;switch(this.kind){case 0:return!1;case 1:return!(!(null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2)||e.stringArray0!=this.stringArray0&&!N0._arrayEqual(e.stringArray0,this.stringArray0));case 2:case 3:case 4:case 5:case 6:case 7:return null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2;case 8:return!0;case 9:return null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2;case 10:return!0;case 11:return(null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2)&&e.visual==this.visual;case 12:case 13:return!0;case 14:return null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2;case 15:return!0}},isSimilarLabel:function(e){return null!=e.string2&&null!=this.string2||null==e.string2&&null==this.string2},updateView:function(e){switch(this.kind){case 0:break;case 1:e=this.createOrUpdateSelectField(e);break;case 2:case 3:case 4:e=this.createOrUpdateEditTextField(e);break;case 5:e=this.createOrUpdateColorField(e);break;case 6:case 7:e=this.createOrUpdateSliderField(e);break;case 8:e=this.createOrUpdateButton(e);break;case 9:e=this.createOrUpdateBooleanField(e);break;case 10:e=this.createOrUpdateText(e);break;case 11:e=this.createOrUpdateVisualContainer(e);break;case 12:e=this.createOrUpdateSpace(e);break;case 13:e=this.createOrUpdateSeparator(e);break;case 14:e=this.createOrUpdateList(e);break;case 15:e=this.createOrUpdateTabs(e)}var n;return null!=e&&(n=this.flex,e.flex!=n)&&(e.flex=n,e.layoutDirty=!0),e},recycle:function(){this.kind=0,this.previous=null,this.int0=0,this.int1=0,this.int2=0,this.int3=0,this.labelPosition=0,this.disabled=!1,this.theme=null,this.flex=1,this.float0=0,this.float1=0,this.labelWidth=0,this.float3=0,this.float4=0,this.bool0=!1,this.bool1=!1,this.bool2=!1,this.bool3=!1,this.bool4=!1,this.string0=null,this.string1=null,this.string2=null,this.string3=null,this.string4=null,this.any0=null,this.any1=null,this.any2=null,this.any3=null,this.any4=null,this.any5=null,this.intArray0=null,this.stringArray0=null,this.stringArray1=null,(this.anyArray0=null)!=this.visual&&null==this.visual.parent&&this.visual.set_active(!1),this.visual=null,this.row=-1,El.pool.recycle(this)},createOrUpdateSpace:function(e){return null==e&&((e=new g0).flags|=16),e.set_viewHeight(this.float0),e.set_viewWidth(-60002),e},createOrUpdateSeparator:function(e){e=null!=e?e:new Ld;return e.set_theme(this.theme),e.set_viewHeight(this.float0),e.set_viewWidth(-60002),e},createOrUpdateVisualContainer:function(e){var n=null,t=null,i=!1;if(null!=this.string2)switch(null==(t=null!=e?e:null)?(i=!0,n=new Pl,t=new yd(n)):n=t.view,t.set_label(this.string2),t.set_labelPosition(this.labelPosition),t.set_labelWidth(this.labelWidth),t.labelPosition){case 0:n.set_contentAlign(wt.LEFT);break;case 1:n.set_contentAlign(wt.RIGHT)}else null==(n=null!=e?e:null)&&(i=!0,n=new Pl),n.set_contentAlign(wt.CENTER);i&&(n.flags|=16,n.destroyVisualOnRemove=!1),this.visual.set_active(!0),n.set_visual(this.visual),this.bool1?(null==n.filter&&n.set_filter(new Kn),n.filter.set_density(Z.app.screenDensity)):null!=n.filter&&n.set_filter(null);e=this.bool0;return null!=t&&t.set_viewWidth(-60002),e?n.set_viewWidth(-60002):n.set_viewWidth(this.visual.get_width()),null!=t?t:n},createOrUpdateSelectField:function(e){var n=null,t=null,i=!1;if(null!=this.string2)switch(null==(t=null!=e?e:null)?(i=!0,n=new Kd,t=new yd(n)):n=t.view,t.set_label(this.string2),t.set_labelPosition(this.labelPosition),t.set_labelWidth(this.labelWidth),t.set_theme(this.theme),t.labelPosition){case 0:n.set_align(wt.LEFT);break;case 1:n.set_align(wt.RIGHT)}else null==(n=null!=e?e:null)&&(i=!0,n=new Kd);n.windowItem=this,n.set_list(this.stringArray0),n.set_nullValueText(this.string1),n.set_theme(this.theme),i&&(n.setValue=El._selectSetIntValue);e=this.stringArray0[this.int0];return e!=n.get_value()&&n.set_value(e),null!=t&&t.set_viewWidth(-60002),n.set_viewWidth(-60002),null!=t?t:n},createOrUpdateBooleanField:function(e){var t=null,n=null,i=!1;return null!=this.string2?(null==(n=null!=e?e:null)?(i=!0,t=new V2,n=new yd(t)):t=n.view,t.set_viewWidth(-60001),n.set_label(this.string2),n.set_labelPosition(this.labelPosition),n.set_labelWidth(this.labelWidth),n.set_theme(this.theme)):null==(t=null!=e?e:null)&&(i=!0,t=new V2),t.windowItem=this,t.set_theme(this.theme),(t.get_value()?1:0)!=this.int0&&t.set_value(0!=this.int0),i&&t.onValueChange(null,function(e,n){t.windowItem.int1=e?1:0}),t.set_disabled(this.disabled),(null!=n?n:t).set_viewWidth(-60002),null!=n?n:t},createOrUpdateColorField:function(e){var n=null,t=null,i=!1,e=(null!=this.string2?(null==(t=null!=e?e:null)?(i=!0,n=new bd,t=new yd(n)):n=t.view,t.set_label(this.string2),t.set_labelPosition(this.labelPosition),t.set_labelWidth(this.labelWidth),t.set_theme(this.theme)):null==(n=null!=e?e:null)&&(i=!0,n=new bd),n.windowItem);return n.windowItem=this,n.set_theme(this.theme),i&&(n.setValue=El._editColorSetValue),!i&&e.int1==this.int0||n.set_value(this.int0),n.set_disabled(this.disabled),null!=t&&t.set_viewWidth(-60002),n.set_viewWidth(-60002),null!=t?t:n},createOrUpdateEditTextField:function(e){this.kind,n=Sl.TEXT;var n,t=null,i=null,l=!1,e=(null!=this.string2?(null==(i=null!=e?e:null)?(l=!0,t=new xl(n),i=new yd(t)):t=i.view,i.set_label(this.string2),i.set_labelPosition(this.labelPosition),i.set_labelWidth(this.labelWidth),i.set_theme(this.theme)):null==(t=null!=e?e:null)&&(l=!0,t=new xl(n)),t.windowItem);return t.windowItem=this,t.set_theme(this.theme),2==this.kind?(l&&(t.setValue=El._editTextSetValue,t.submit=El._editTextSubmit,t.onFocusedChange(null,function(e,n){n&&!e&&El._editTextBlur(t)}),this.bool2)&&K._beginFrameCallbacks.push(function(){0<=t._lifecycleState&&t.focus()}),this.string0!=t.get_textValue()&&t.set_textValue(this.string0),t.set_multiline(this.bool0),t.set_placeholder(this.string3),t.set_autocompleteCandidates(this.stringArray0),t.autocompleteOnFocus=this.bool4):3==this.kind?(l&&(t.setTextValue=El._editFloatSetTextValue,t.setEmptyValue=El._editFloatSetEmptyValue,t.setValue=El._editFloatSetValue,t.onFocusedChange(null,function(e,n){e||El._editFloatFinishEditing(t)})),!l&&e.float1==this.float0||t.set_textValue(""+this.float0),t.set_placeholder(this.string3)):4==this.kind&&(l&&(t.setTextValue=El._editIntSetTextValue,t.setEmptyValue=El._editIntSetEmptyValue,t.setValue=El._editIntSetValue,t.onFocusedChange(null,function(e,n){e||El._editIntFinishEditing(t)})),!l&&e.int1==this.int0||t.set_textValue(""+this.int0),t.set_placeholder(this.string3)),t.set_disabled(this.disabled),null!=i&&i.set_viewWidth(-60002),t.set_viewWidth(-60002),null!=i?i:t},createOrUpdateSliderField:function(e){var t=null,n=null,i=!1,e=(null!=this.string2?(null==(n=null!=e?e:null)?(i=!0,t=new Md,n=new yd(t)):t=n.view,n.set_label(this.string2),n.set_labelPosition(this.labelPosition),n.set_labelWidth(this.labelWidth),n.set_theme(this.theme)):null==(t=null!=e?e:null)&&(i=!0,t=new Md),t.windowItem);return t.windowItem=this,t.set_theme(this.theme),6==this.kind?(t.set_minValue(this.float3),t.set_maxValue(this.float4),t.round=this.int0,i&&(t.setTextValue=El._editFloatSetTextValue,t.setEmptyValue=El._editFloatSetEmptyValue,t.setValue=El._slideFloatSetValue,t.onFocusedChange(null,function(e,n){e||El._editFloatFinishEditing(t)})),!i&&e.float1==this.float0||t.set_value(this.float0)):7==this.kind&&(t.set_minValue(this.float3),t.set_maxValue(this.float4),t.round=1,i&&(t.setTextValue=El._editIntSetTextValue,t.setEmptyValue=El._editIntSetEmptyValue,t.setValue=El._slideIntSetValue,t.onFocusedChange(null,function(e,n){e||El._editIntFinishEditing(t)})),!i&&e.int1==this.int0||t.set_value(this.int0)),t.set_disabled(this.disabled),null!=n&&n.set_viewWidth(-60002),t.set_viewWidth(-60002),null!=n?n:t},createOrUpdateText:function(e){var n,e=null!=e?e:null;switch((e=null==e?new xd:e).text.content!=this.string0&&e.set_content(this.string0),this.int0){case 1:n=ai.RIGHT;break;case 2:n=ai.CENTER;break;default:n=ai.LEFT}return e.set_align(n),e.set_disabled(this.disabled),e.set_viewWidth(-60002),e.set_theme(this.theme),e.set_bold(this.bool0),e.set_pointSize(this.int2),e.set_preRenderedSize(this.int3),e},createOrUpdateButton:function(e){var n=null!=e?e:null,e=!1;return null==n&&(e=!0,n=new W2),n.text.content!=this.string0&&n.set_content(this.string0),n.get_enabled()!=this.bool0&&n.set_enabled(this.bool0),n.windowItem=this,e&&n.onClick(null,function(){var e=n.windowItem;null!=e&&e._buttonClick()}),n.set_disabled(this.disabled),n.set_viewWidth(-60002),n.set_theme(this.theme),n},_buttonClick:function(){this.int1=1},createOrUpdateList:function(e){var c=null!=e?e:null,e=!1,n=(null==c&&(e=!0,c=new Ad(this.any0)),this.int2);c.set_sortable(1==(1&n)),c.set_lockable(2==(2&n)),c.set_trashable(4==(4&n)),c.set_duplicable(8==(8&n));return c.set_smallItems(16==(16&n)),c.set_items(this.any0),c.windowItem=this,c.set_selectedIndex(this.int0),c.set_theme(this.theme),e&&(c.onSelectedIndexChange(null,function(e,n){var t=c.windowItem;null!=t&&(t.int1=e)}),c.onMoveItemAboveItem(null,function(e,n){for(var t=c.get_items(),i=[],l=c.get_selectedIndex(),s=l,r=0,h=t.length;r<h;){var a=r++;a!=e&&(l==a&&(s=i.length),i.push(t[a]),a==n)&&(l==e&&(s=i.length),i.push(t[e]))}c.set_selectedIndex(s),c.set_items(i);var o=c.windowItem;null!=o&&(o.any1=i)}),c.onMoveItemBelowItem(null,function(e,n){for(var t=c.get_items(),i=[],l=c.get_selectedIndex(),s=l,r=0,h=t.length;r<h;){var a=r++;a!=e&&(a==n&&(l==e&&(s=i.length),i.push(t[e])),l==a&&(s=i.length),i.push(t[a]))}c.set_selectedIndex(s),c.set_items(i);var o=c.windowItem;null!=o&&(o.any1=i)}),c.onTrashItem(null,function(e){for(var n=c.get_items(),t=n[e],i=[],l=c.get_selectedIndex(),s=l,r=(l==e?s=-1:e<l&&--s,0),h=n.length;r<h;){var a=r++;a!=e&&i.push(n[a])}c.set_selectedIndex(s),c.set_items(i);l=c.windowItem;null!=l&&(l.any1=i,null==(s=l.any2)&&(l.any2=s=[]),s.push(t))}),c.onLockItem(null,function(e){for(var n=c.get_items(),t=n[e],i=[],l=0,s=n.length;l<s;){var r=l++;r!=e&&i.push(n[r])}var h,a=c.windowItem;null!=a&&(null==(h=a.any3)&&(a.any3=h=[]),h.push(t))}),c.onUnlockItem(null,function(e){for(var n=c.get_items(),t=n[e],i=[],l=0,s=n.length;l<s;){var r=l++;r!=e&&i.push(n[r])}var h,a=c.windowItem;null!=a&&(null==(h=a.any4)&&(a.any4=h=[]),h.push(t))}),c.onDuplicateItem(null,function(e){var n,e=c.get_items()[e],t=c.windowItem;null!=t&&(null==(n=t.any5)&&(t.any5=n=[]),n.push(e))})),c.set_viewWidth(-60002),0<this.float0?(c.set_viewHeight(this.float0),c.set_scrollEnabled(!0)):(n=c.get_smallItems()?Ad.CELL_HEIGHT_SMALL:Ad.CELL_HEIGHT_LARGE,c.set_viewHeight(c.get_items().length*n),c.set_scrollEnabled(!1)),c},createOrUpdateTabs:function(e){var i=null!=e?e:null,e=!1;return null==i&&(e=!0,i=new Od),i.windowItem=this,N0.equal(i.get_tabs(),this.stringArray1)||i.set_tabs(this.stringArray1),N0.equal(i.get_tabStates(),this.intArray0)||i.set_tabStates(this.intArray0),N0.equal(i.get_tabThemes(),this.anyArray0)||i.set_tabThemes(this.anyArray0),i.set_selectedIndex(this.stringArray0.indexOf(this.string0)),i.set_marginX(this.theme.get_formPadding()),i.set_marginY(this.theme.get_tabsMarginY()),e&&i.onSelectedIndexChange(null,function(e,n){var t=i.windowItem;null!=t&&(t.string1=0<=e?t.stringArray0[e]:null)}),i.set_viewWidth(-60002),i.set_theme(this.theme),i},__class__:El},(E["fuzzaldrin.Filter"]=Zd).__name__="fuzzaldrin.Filter",Zd.pluckCandidates=function(e){return e.candidate},Zd.sortCandidates=function(e,n){return n.score>e.score?1:n.score<e.score?-1:0},Zd.filter=function(e,n,t,i){var l=null!=i?i.key:null,i=null!=i&&null!=i.maxResults?i.maxResults:-1;if(null!=n&&0<n.length){for(var s=[],r=0,h=e.length;r<h;){var a,o=e[u=r++],c=null!=l?L.getProperty(o,l):o;null!=c&&0!=c.length&&(a=Ll.score(c,n),0<(a=t?a:Ll.basenameScore(c,n,a)))&&s.push({candidate:o,score:a})}s.sort(Zd.sortCandidates);for(var u,_=Zd.pluckCandidates,d=new Array(s.length),r=0,h=s.length;r<h;)d[u=r++]=_(s[u]);e=d}return e=-1!=i?e.slice(0,i):e},function(){}),Vl=((E["fuzzaldrin.Fuzzaldrin"]=Rl).__name__="fuzzaldrin.Fuzzaldrin",Rl.filter=function(e,n,t){var i=!1;return null!=n&&0<n.length&&(i=-1!=n.indexOf(Rl.PATH_SEPARATOR),n=n.replace(Rl.RE_SPACE.r,"")),Zd.filter(e,n,i,t)},Rl.score=function(e,n){var t,i;return null==e||0==e.length||null==n||0==n.length?0:e==n?2:(t=-1!=n.indexOf(Rl.PATH_SEPARATOR),n=n.replace(Rl.RE_SPACE.r,""),i=Ll.score(e,n),t?i:Ll.basenameScore(e,n,i))},Rl.sortMatches=function(e,n){return n<e?1:e<n?-1:0},Rl.prototype={match:function(e,n){if(null==e||0==e.length)return[];if(null==n||0==n.length)return[];if(e==n){for(var t=[],i=0,l=e.length;i<l;){var s=i++;t.push(s)}return t}var r=-1!=n.indexOf(Rl.PATH_SEPARATOR),h=(n=n.replace(Rl.RE_SPACE.r,""),Vl.match(e,n));if(!r){r=Vl.basenameMatch(e,n);(h=h.concat(r)).sort(Rl.sortMatches);for(var a=-1,o=0;o<h.length;)0!=o&&a==h[o]?h.splice(o,1):(a=h[o],++o)}return h},__class__:Rl},function(){}),Ll=((E["fuzzaldrin.Matcher"]=Vl).__name__="fuzzaldrin.Matcher",Vl.basenameMatch=function(e,n){for(var t=e.length-1;e.charAt(t)==Rl.PATH_SEPARATOR;)--t;for(var i=t,l=null;0<=t;)e.charAt(t)==Rl.PATH_SEPARATOR?null==l&&(l=e.substring(t+1,i+1)):0==t&&(i<e.length-1?null==l&&(l=e.substring(0,i+1)):null==l&&(l=e)),--t;return Vl.match(l,n,e.length-l.length)},Vl.match=function(e,n,t){if(null==t&&(t=0),e==n){for(var i=[],l=t,s=t+e.length;l<s;){var r=l++;i.push(r)}return i}for(var h=n.length,a=e.length,o=0,c=0,u=[];o<h;){var _=n.charAt(o++),d=e.indexOf(_.toLowerCase()),_=e.indexOf(_.toUpperCase()),b=0|Math.min(d,_);if(-1==(c=b=-1==b?0|Math.max(d,_):b))return[];u.push(t+c),t+=c+1,e=e.substring(c+1,a)}return u},function(){}),Hl=((E["fuzzaldrin.Scorer"]=Ll).__name__="fuzzaldrin.Scorer",Ll.basenameScore=function(e,n,t){for(var i=e.length-1;e.charAt(i)==Rl.PATH_SEPARATOR;)--i;for(var l=0,s=i,r=null;0<=i;)e.charAt(i)==Rl.PATH_SEPARATOR?(++l,null==r&&(r=e.substring(i+1,s+1))):0==i&&(s<e.length-1?null==r&&(r=e.substring(0,s+1)):null==r&&(r=e)),--i;return r==e?t*=2:null!=r&&0<r.length&&(t+=Ll.score(r,n)),t*=.01*Math.max(1,10-(l+1))},Ll.score=function(e,n){if(e==n)return 1;if(Ll.queryIsLastPathSegment(e,n))return 1;for(var t=0,i=n.length,l=e.length,s=0,r=0;s<i;){var h=n.charAt(s++),a=e.indexOf(h.toLowerCase()),o=e.indexOf(h.toUpperCase()),c=0|Math.min(a,o);if(-1==(r=c=-1==c?0|Math.max(a,o):c))return 0;a=.1;e.charAt(r)==h&&(a+=.1),0==r||e.charAt(r-1)==Rl.PATH_SEPARATOR?a+=.8:"-"!=(o=e.charAt(r-1))&&"_"!=o&&" "!=o||(a+=.7),e=e.substring(r+1,l),t+=a}var u=t/i;return(i/l*u+u)/2},Ll.queryIsLastPathSegment=function(e,n){return e.charAt(e.length-n.length-1)==Rl.PATH_SEPARATOR&&e.lastIndexOf(n)==e.length-n.length},en["haxe.StackItem"]={__ename__:"haxe.StackItem",__constructs__:null,CFunction:{_hx_name:"CFunction",_hx_index:0,__enum__:"haxe.StackItem",toString:c},Module:((U=function(e){return{_hx_index:1,m:e,__enum__:"haxe.StackItem",toString:c}})._hx_name="Module",U.__params__=["m"],U),FilePos:((U=function(e,n,t,i){return{_hx_index:2,s:e,file:n,line:t,column:i,__enum__:"haxe.StackItem",toString:c}})._hx_name="FilePos",U.__params__=["s","file","line","column"],U),Method:((U=function(e,n){return{_hx_index:3,classname:e,method:n,__enum__:"haxe.StackItem",toString:c}})._hx_name="Method",U.__params__=["classname","method"],U),LocalFunction:((U=function(e){return{_hx_index:4,v:e,__enum__:"haxe.StackItem",toString:c}})._hx_name="LocalFunction",U.__params__=["v"],U)}),Nl=(Hl.__constructs__=[Hl.CFunction,Hl.Module,Hl.FilePos,Hl.Method,Hl.LocalFunction],{}),ct=(Nl.callStack=function(){return zl.toHaxe(zl.callStack())},Nl.exceptionStack=function(e){null==e&&(e=!1);var n=zl.toHaxe(zl.exceptionStack());return e?n:Nl.subtract(n,Nl.callStack())},Nl.toString=function(e){for(var n=new y,t=0,i=e;t<i.length;){var l=i[t];++t,n.b+="\nCalled from ",Nl.itemToString(n,l)}return n.b},Nl.subtract=function(e,n){for(var t=-1,i=-1;++i<e.length;){for(var l=0,s=n.length;l<s;){var r=l++;if(Nl.equalItems(e[i],n[r])){if(t<0&&(t=i),++i>=e.length)break}else t=-1}if(0<=t)break}return 0<=t?e.slice(0,t):e},Nl.equalItems=function(e,n){if(null==e)return null==n;switch(e._hx_index){case 0:return null!=n&&0==n._hx_index;case 1:return null!=n&&1==n._hx_index&&(t=n.m,e.m==t);case 2:var t,i,l,s;return null!=n&&2==n._hx_index&&(t=n.s,h=n.file,o=n.line,i=n.column,l=e.column,a=e.line,r=e.file,s=e.s,r==h)&&a==o&&l==i&&Nl.equalItems(s,t);case 3:var r,h,a;return null!=n&&3==n._hx_index&&(r=n.classname,h=n.method,a=e.method,e.classname==r)&&a==h;case 4:var o;return null!=n&&4==n._hx_index&&(o=n.v,e.v==o)}},Nl.itemToString=function(e,n){switch(n._hx_index){case 0:e.b+="a C function";break;case 1:var t=n.m;e.b+="module ",e.b+=null==t?"null":""+t;break;case 2:var t=n.s,i=n.file,l=n.line,s=n.column;null!=t&&(Nl.itemToString(e,t),e.b+=" ("),e.b+=null==i?"null":""+i,e.b+=" line ",e.b+=null==l?"null":""+l,null!=s&&(e.b+=" column ",e.b+=null==s?"null":""+s),null!=t&&(e.b+=")");break;case 3:i=n.classname,l=n.method;e.b+=ot.string(null==i?"<unknown>":i),e.b+=".",e.b+=null==l?"null":""+l;break;case 4:s=n.v;e.b+="local function #",e.b+=null==s?"null":""+s}},(E["haxe.IMap"]=d3).__name__="haxe.IMap",d3.__isInterface__=!0,d3.prototype={get:null,keys:null,iterator:null,keyValueIterator:null,__class__:d3},function(e,n,t){Error.call(this,e),this.message=e,this.__previousException=n,this.__nativeException=null!=t?t:this,this.__skipStack=0;e=Error.prepareStackTrace;if(Error.prepareStackTrace=function(e){return e.stack},t instanceof Error)this.stack=t.stack;else{n=null;if(Error.captureStackTrace)Error.captureStackTrace(this,ct),n=this;else if(void 0===(n=new Error).stack){try{throw n}catch(e){}this.__skipStack++}this.stack=n.stack}Error.prepareStackTrace=e}),Wl=((E["haxe.Exception"]=ct).__name__="haxe.Exception",ct.caught=function(e){return e instanceof ct?e:e instanceof Error?new ct(e.message,null,e):new Xl(e,null,e)},ct.thrown=function(e){return e instanceof ct?e.get_native():e instanceof Error?e:((e=new Xl(e)).__skipStack++,e)},ct.__super__=Error,ct.prototype=$extend(Error.prototype,{__skipStack:null,__nativeException:null,__previousException:null,unwrap:function(){return this.__nativeException},__shiftStack:function(){this.__skipStack++},get_native:function(){return this.__nativeException},get_stack:function(){var e,n=this.__exceptionStack;return null==n?(e=zl.toHaxe(zl.normalize(this.stack),this.__skipStack),this.setProperty("__exceptionStack",e),e):n},setProperty:function(n,t){try{Object.defineProperty(this,n,{value:t})}catch(e){this[n]=t}},__class__:ct,__properties__:{get_native:"get_native",get_stack:"get_stack"}}),function(){}),zl=((E["haxe.Log"]=Wl).__name__="haxe.Log",Wl.formatOutput=function(e,n){var t=ot.string(e);if(null==n)return t;var i=n.fileName+":"+n.lineNumber;if(null!=n.customParams)for(var l=0,s=n.customParams;l<s.length;){e=s[l];++l,t+=", "+ot.string(e)}return i+": "+t},Wl.trace=function(e,n){e=Wl.formatOutput(e,n);"undefined"!=typeof console&&null!=console.log&&console.log(e)},function(){}),Yl=((E["haxe.NativeStackTrace"]=zl).__name__="haxe.NativeStackTrace",zl.saveStack=function(e){zl.lastError=e},zl.callStack=function(){var e=new Error(""),n=zl.tryHaxeStack(e);if(void 0===n){try{throw e}catch(e){}n=e.stack}return zl.normalize(n,2)},zl.exceptionStack=function(){return zl.normalize(zl.tryHaxeStack(zl.lastError))},zl.toHaxe=function(e,n){if(null==n&&(n=0),null==e)return[];if("string"!=typeof e)return 0<n&&Array.isArray(e)?e.slice(n):e;for(var t=e.split("\n"),i=("Error"==t[0]&&t.shift(),[]),l=0,s=t.length;l<s;){var r,h,a,o,c,u=l++;u<n||(null!=(c=(u=t[u]).match(/^    at ([$A-Za-z0-9_. ]+) \(([^)]+):([0-9]+):([0-9]+)\)$/))?("$hxClasses"==(r=c[1].split("."))[0]&&r.shift(),h=r.pop(),a=c[2],o=ot.parseInt(c[3]),c=ot.parseInt(c[4]),i.push(Hl.FilePos("Anonymous function"==h?Hl.LocalFunction():"Global code"==h?null:Hl.Method(r.join("."),h),a,o,c))):i.push(Hl.Module(z.trim(u))))}return i},zl.tryHaxeStack=function(e){var n;return null==e?[]:(n=Error.prepareStackTrace,Error.prepareStackTrace=zl.prepareHxStackTrace,e=e.stack,Error.prepareStackTrace=n,e)},zl.prepareHxStackTrace=function(e,n){for(var t=[],i=0;i<n.length;){var l=n[i],s=(++i,null),r=(l=null!=zl.wrapCallSite?zl.wrapCallSite(l):l).getFunctionName(),h=(null!=r&&(s=0<=(a=r.lastIndexOf("."))?(h=r.substring(0,a),a=r.substring(a+1),Hl.Method(h,a)):Hl.Method(null,r)),l.getFileName()),a=null==h?-1:h.indexOf("file:");null!=zl.wrapCallSite&&0<a&&(h=h.substring(a+6)),t.push(Hl.FilePos(s,h,l.getLineNumber(),l.getColumnNumber()))}return t},zl.normalize=function(e,n){if(null==n&&(n=0),Array.isArray(e)&&0<n)return e.slice(n);if("string"!=typeof e)return e;switch(e.substring(0,6)){case"Error\n":case"Error:":++n}return zl.skipLines(e,n)},zl.skipLines=function(e,n,t){return null==t&&(t=0),0<n?(t=e.indexOf("\n",t))<0?"":zl.skipLines(e,--n,t+1):e.substring(t)},function(){this.buf=new y,this.cache=[],this.useCache=Yl.USE_CACHE,this.useEnumIndex=Yl.USE_ENUM_INDEX,this.shash=new te,this.scount=0}),Gl=((E["haxe.Serializer"]=Yl).__name__="haxe.Serializer",Yl.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(e){var n=this.shash.h[e];null!=n?(this.buf.b+="R",this.buf.b+=null==n?"null":""+n):(this.shash.h[e]=this.scount++,this.buf.b+="y",e=encodeURIComponent(e),this.buf.b+=ot.string(e.length),this.buf.b+=":",this.buf.b+=null==e?"null":""+e)},serializeRef:function(e){for(var n=typeof e,t=0,i=this.cache.length;t<i;){var l=t++,s=this.cache[l];if(typeof s==n&&s==e)return this.buf.b+="r",this.buf.b+=null==l?"null":""+l,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var n=0,t=L.fields(e);n<t.length;){var i=t[n];++n,this.serializeString(i),this.serialize(L.field(e,i))}this.buf.b+="g"},serialize:function(e){switch((U=B.typeof(e))._hx_index){case 0:this.buf.b+="n";break;case 1:0==(n=e)?this.buf.b+="z":(this.buf.b+="i",this.buf.b+=null==n?"null":""+n);break;case 2:var n=e;isNaN(n)?this.buf.b+="k":isFinite(n)?(this.buf.b+="d",this.buf.b+=null==n?"null":""+n):this.buf.b+=n<0?"m":"p";break;case 3:this.buf.b+=e?"t":"f";break;case 4:if(ws.__instanceof(e,Ir)){var t=e.__name__;this.buf.b+="A",this.serializeString(t)}else if(ws.__instanceof(e,Pr))this.buf.b+="B",this.serializeString(e.__ename__);else{if(this.useCache&&this.serializeRef(e))return;this.buf.b+="o",this.serializeFields(e)}break;case 5:throw ct.thrown("Cannot serialize function");case 6:var i=U.c;if(i==String)this.serializeString(e);else if(!this.useCache||!this.serializeRef(e))switch(i){case Array:var l=0;this.buf.b+="a";for(var s=0,r=e.length;s<r;)null==e[_=s++]?++l:(0<l&&(1==l?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==l?"null":""+l),l=0),this.serialize(e[_]));0<l&&(1==l?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==l?"null":""+l)),this.buf.b+="h";break;case Date:var h=e;this.buf.b+="v",this.buf.b+=ot.string(h.getTime());break;case $l:this.buf.b+="q";for(var a=(n=e).keys();a.hasNext();){var o=a.next();this.buf.b+=":",this.buf.b+=null==o?"null":""+o,this.serialize(n.h[o])}this.buf.b+="h";break;case jl:this.buf.b+="l";for(var c=(n=e).h;null!=c;){var u=c.item,c=c.next,_=u;this.serialize(_)}this.buf.b+="h";break;case Zl:this.buf.b+="M";for(a=(n=e).keys();a.hasNext();){var o=a.next(),d=L.field(o,"__id__");L.deleteField(o,"__id__"),this.serialize(o),o.__id__=d,this.serialize(n.h[o.__id__])}this.buf.b+="h";break;case te:this.buf.b+="b";for(var h=(n=e).h,b=Object.keys(h),g=b.length,O=0;O<g;){a=b[O++];this.serializeString(a),this.serialize(n.h[a])}this.buf.b+="h";break;case is:var n=e,_=(this.buf.b+="s",this.buf.b+=ot.string(Math.ceil(8*n.length/6)),this.buf.b+=":",0),f=n.length-2;if(null==(p=Yl.BASE64_CODES)){for(var p=new Array(Yl.BASE64.length),s=0,r=Yl.BASE64.length;s<r;){var C=s++;p[C]=he.cca(Yl.BASE64,C)}Yl.BASE64_CODES=p}for(;_<f;){var v=n.b[_++],m=n.b[_++],w=n.b[_++];this.buf.b+=String.fromCodePoint(p[v>>2]),this.buf.b+=String.fromCodePoint(p[63&(v<<4|m>>4)]),this.buf.b+=String.fromCodePoint(p[63&(m<<2|w>>6)]),this.buf.b+=String.fromCodePoint(p[63&w])}_==f?(v=n.b[_++],m=n.b[_++],this.buf.b+=String.fromCodePoint(p[v>>2]),this.buf.b+=String.fromCodePoint(p[63&(v<<4|m>>4)]),this.buf.b+=String.fromCodePoint(p[m<<2&63])):_==1+f&&(v=n.b[_++],this.buf.b+=String.fromCodePoint(p[v>>2]),this.buf.b+=String.fromCodePoint(p[v<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=e.hxSerialize?(this.buf.b+="C",this.serializeString(i.__name__),this.useCache&&this.cache.push(e),e.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(i.__name__),this.useCache&&this.cache.push(e),this.serializeFields(e))}break;case 7:t=U.e;if(this.useCache){if(this.serializeRef(e))return;this.cache.pop()}this.buf.b+=ot.string(this.useEnumIndex?"j":"w"),this.serializeString(t.__ename__),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=ot.string(e._hx_index)):this.serializeString(en[(t=e).__enum__].__constructs__[e._hx_index]._hx_name),this.buf.b+=":";for(var y=B.enumParameters(e),U=(this.buf.b+=ot.string(y.length),0);U<y.length;){var D=y[U];++U,this.serialize(D)}this.useCache&&this.cache.push(e);break;default:throw ct.thrown("Cannot serialize "+ot.string(e))}},__class__:Yl},(E["haxe._Unserializer.DefaultResolver"]=i3).__name__="haxe._Unserializer.DefaultResolver",i3.prototype={resolveClass:function(e){return E[e]},resolveEnum:function(e){return en[e]},__class__:i3},function(e){this.buf=e,this.length=this.buf.length,this.pos=0,this.scache=[],this.cache=[];e=Gl.DEFAULT_RESOLVER;null==e&&(e=new i3,Gl.DEFAULT_RESOLVER=e),this.resolver=e}),Xl=((E["haxe.Unserializer"]=Gl).__name__="haxe.Unserializer",Gl.initCodes=function(){for(var e=[],n=0,t=Gl.BASE64.length;n<t;){var i=n++;e[Gl.BASE64.charCodeAt(i)]=i}return e},Gl.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,readDigits:function(){for(var e=0,n=!1,t=this.pos;;){var i=this.buf.charCodeAt(this.pos);if(i!=i)break;if(45==i){if(this.pos!=t)break;n=!0}else{if(i<48||57<i)break;e=10*e+(i-48)}this.pos++}return n&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var n=this.buf.charCodeAt(this.pos);if(n!=n)break;if(!(43<=n&&n<58||101==n||69==n))break;this.pos++}return parseFloat(he.substr(this.buf,e,this.pos-e))},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw ct.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var n=this.unserialize();if("string"!=typeof n)throw ct.thrown("Invalid object key");var t=this.unserialize();e[n]=t}this.pos++},unserializeEnum:function(e,n){if(58!=this.buf.charCodeAt(this.pos++))throw ct.thrown("Invalid enum format");var t=this.readDigits();if(0==t)return B.createEnum(e,n);for(var i=[];0<t--;)i.push(this.unserialize());return B.createEnum(e,n,i)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var e=this.unserialize();if(null==(h=this.resolver.resolveClass(e)))throw ct.thrown("Class not found "+e);return h;case 66:e=this.unserialize();if(null==(d=this.resolver.resolveEnum(e)))throw ct.thrown("Enum not found "+e);return d;case 67:e=this.unserialize();if(null==(h=this.resolver.resolveClass(e)))throw ct.thrown("Class not found "+e);var n=Object.create(h.prototype);if(this.cache.push(n),n.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw ct.thrown("Invalid custom data");return n;case 77:for(var t=new Zl,i=(this.cache.push(t),this.buf);104!=this.buf.charCodeAt(this.pos);){var l=this.unserialize();t.set(l,this.unserialize())}return this.pos++,t;case 82:if((f=this.readDigits())<0||f>=this.scache.length)throw ct.thrown("Invalid string reference");return this.scache[f];case 97:var i=this.buf,s=[];for(this.cache.push(s);;){if(104==(g=this.buf.charCodeAt(this.pos))){this.pos++;break}117==g?(this.pos++,f=this.readDigits(),s[s.length+f-1]=null):s.push(this.unserialize())}return s;case 98:for(t=new te,i=(this.cache.push(t),this.buf);104!=this.buf.charCodeAt(this.pos);){var l=this.unserialize(),r=this.unserialize();t.h[l]=r}return this.pos++,t;case 99:var e=this.unserialize();if(null==(h=this.resolver.resolveClass(e)))throw ct.thrown("Class not found "+e);n=Object.create(h.prototype);return this.cache.push(n),this.unserializeObject(n),n;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:e=this.unserialize();if(null==(S=this.resolver.resolveEnum(e)))throw ct.thrown("Enum not found "+e);this.pos++;for(var h=this.readDigits(),a=S.__constructs__,o=new Array(a.length),c=0,u=a.length;c<u;)o[O=c++]=a[O]._hx_name;var _=o[h];if(null==_)throw ct.thrown("Unknown enum index "+e+"@"+h);var d=this.unserializeEnum(S,_);return this.cache.push(d),d;case 107:return NaN;case 108:for(var b=new jl,i=(this.cache.push(b),this.buf);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());return this.pos++,b;case 109:return-1/0;case 110:return null;case 111:n={};return this.cache.push(n),this.unserializeObject(n),n;case 112:return 1/0;case 113:for(var t=new $l,i=(this.cache.push(t),this.buf),g=this.buf.charCodeAt(this.pos++);58==g;){var O=this.readDigits(),r=this.unserialize();t.h[O]=r,g=this.buf.charCodeAt(this.pos++)}if(104!=g)throw ct.thrown("Invalid IntMap format");return t;case 114:var f;if((f=this.readDigits())<0||f>=this.cache.length)throw ct.thrown("Invalid reference");return this.cache[f];case 115:var p=this.readDigits(),i=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<p)throw ct.thrown("Invalid bytes length");var C=Gl.CODES;null==C&&(C=Gl.initCodes(),Gl.CODES=C);for(var h=3&p,v=(O=this.pos)+(p-h),m=new is(new ArrayBuffer(3*(p>>2)+(2<=h?h-1:0))),w=0;O<v;){var y=C[i.charCodeAt(O++)],U=C[i.charCodeAt(O++)],D=(m.b[w++]=y<<2|U>>4,C[i.charCodeAt(O++)]),T=(m.b[w++]=U<<4|D>>2,C[i.charCodeAt(O++)]);m.b[w++]=D<<6|T}return 2<=h&&(y=C[i.charCodeAt(O++)],U=C[i.charCodeAt(O++)],m.b[w++]=y<<2|U>>4,3==h)&&(D=C[i.charCodeAt(O++)],m.b[w++]=U<<4|D>>2),this.pos+=p,this.cache.push(m),m;case 116:return!0;case 118:var x;return 48<=this.buf.charCodeAt(this.pos)&&this.buf.charCodeAt(this.pos)<=57&&48<=this.buf.charCodeAt(this.pos+1)&&this.buf.charCodeAt(this.pos+1)<=57&&48<=this.buf.charCodeAt(this.pos+2)&&this.buf.charCodeAt(this.pos+2)<=57&&48<=this.buf.charCodeAt(this.pos+3)&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)?(x=he.strDate(he.substr(this.buf,this.pos,19)),this.pos+=19):x=new Date(this.readFloat()),this.cache.push(x),x;case 119:var S,e=this.unserialize();if(null==(S=this.resolver.resolveEnum(e)))throw ct.thrown("Enum not found "+e);d=this.unserializeEnum(S,this.unserialize());return this.cache.push(d),d;case 120:throw ct.thrown(this.unserialize());case 121:p=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<p)throw ct.thrown("Invalid string length");l=he.substr(this.buf,this.pos,p);return this.pos+=p,l=decodeURIComponent(l.split("+").join(" ")),this.scache.push(l),l;case 122:return 0}throw this.pos--,ct.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:Gl},function(e,n,t){ct.call(this,String(e),n,t),this.value=e,this.__skipStack++}),Kl=((E["haxe.ValueException"]=Xl).__name__="haxe.ValueException",Xl.__super__=ct,Xl.prototype=$extend(ct.prototype,{value:null,unwrap:function(){return this.value},__class__:Xl}),function(){}),ql=((E["haxe.crypto.Md5"]=Kl).__name__="haxe.crypto.Md5",Kl.encode=function(e){var n=new Kl,e=n.doEncode(Kl.str2blks(e));return n.hex(e)},Kl.str2blks=function(e){for(var n=is.ofString(e),e=1+(n.length+8>>6),t=[],i=0,l=16*e;i<l;)t[s=i++]=0;for(var s=0,r=n.length,h=8*r;s<r;)t[s>>2]|=n.b[s]<<(h+s)%4*8,++s;t[s>>2]|=128<<(h+s)%4*8;e=16*e-2;return t[e]=255&h,t[e]|=(h>>>8&255)<<8,t[e]|=(h>>>16&255)<<16,t[e]|=(h>>>24&255)<<24,t},Kl.prototype={bitOR:function(e,n){return(e>>>1|n>>>1)<<1|(1&e|1&n)},bitXOR:function(e,n){return(e>>>1^n>>>1)<<1|1&e^1&n},bitAND:function(e,n){return(e>>>1&n>>>1)<<1|1&e&n},addme:function(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t},hex:function(e){for(var n="",t="0123456789abcdef",i=0;i<e.length;){var l=e[i];++i,n=(n=(n=(n+=t.charAt(l>>4&15)+t.charAt(15&l))+(t.charAt(l>>12&15)+t.charAt(l>>8&15)))+(t.charAt(l>>20&15)+t.charAt(l>>16&15)))+(t.charAt(l>>28&15)+t.charAt(l>>24&15))}return n},rol:function(e,n){return e<<n|e>>>32-n},cmn:function(e,n,t,i,l,s){return this.addme(this.rol(this.addme(this.addme(n,e),this.addme(i,s)),l),t)},ff:function(e,n,t,i,l,s,r){return this.cmn(this.bitOR(this.bitAND(n,t),this.bitAND(~n,i)),e,n,l,s,r)},gg:function(e,n,t,i,l,s,r){return this.cmn(this.bitOR(this.bitAND(n,i),this.bitAND(t,~i)),e,n,l,s,r)},hh:function(e,n,t,i,l,s,r){return this.cmn(this.bitXOR(this.bitXOR(n,t),i),e,n,l,s,r)},ii:function(e,n,t,i,l,s,r){return this.cmn(this.bitXOR(t,this.bitOR(n,~i)),e,n,l,s,r)},doEncode:function(e){for(var n=1732584193,t=-271733879,i=-1732584194,l=271733878,s=0;s<e.length;){var r=n,h=t,a=i,o=l,n=this.ff(n,t,i,l,e[s],7,-680876936),l=this.ff(l,n,t,i,e[s+1],12,-389564586),i=this.ff(i,l,n,t,e[s+2],17,606105819),t=this.ff(t,i,l,n,e[s+3],22,-1044525330);n=this.ff(n,t,i,l,e[s+4],7,-176418897),l=this.ff(l,n,t,i,e[s+5],12,1200080426),i=this.ff(i,l,n,t,e[s+6],17,-1473231341),t=this.ff(t,i,l,n,e[s+7],22,-45705983),n=this.ff(n,t,i,l,e[s+8],7,1770035416),l=this.ff(l,n,t,i,e[s+9],12,-1958414417),i=this.ff(i,l,n,t,e[s+10],17,-42063),t=this.ff(t,i,l,n,e[s+11],22,-1990404162),n=this.ff(n,t,i,l,e[s+12],7,1804603682),l=this.ff(l,n,t,i,e[s+13],12,-40341101),i=this.ff(i,l,n,t,e[s+14],17,-1502002290),t=this.ff(t,i,l,n,e[s+15],22,1236535329),n=this.gg(n,t,i,l,e[s+1],5,-165796510),l=this.gg(l,n,t,i,e[s+6],9,-1069501632),i=this.gg(i,l,n,t,e[s+11],14,643717713),t=this.gg(t,i,l,n,e[s],20,-373897302),n=this.gg(n,t,i,l,e[s+5],5,-701558691),l=this.gg(l,n,t,i,e[s+10],9,38016083),i=this.gg(i,l,n,t,e[s+15],14,-660478335),t=this.gg(t,i,l,n,e[s+4],20,-405537848),n=this.gg(n,t,i,l,e[s+9],5,568446438),l=this.gg(l,n,t,i,e[s+14],9,-1019803690),i=this.gg(i,l,n,t,e[s+3],14,-187363961),t=this.gg(t,i,l,n,e[s+8],20,1163531501),n=this.gg(n,t,i,l,e[s+13],5,-1444681467),l=this.gg(l,n,t,i,e[s+2],9,-51403784),i=this.gg(i,l,n,t,e[s+7],14,1735328473),t=this.gg(t,i,l,n,e[s+12],20,-1926607734),n=this.hh(n,t,i,l,e[s+5],4,-378558),l=this.hh(l,n,t,i,e[s+8],11,-2022574463),i=this.hh(i,l,n,t,e[s+11],16,1839030562),t=this.hh(t,i,l,n,e[s+14],23,-35309556),n=this.hh(n,t,i,l,e[s+1],4,-1530992060),l=this.hh(l,n,t,i,e[s+4],11,1272893353),i=this.hh(i,l,n,t,e[s+7],16,-155497632),t=this.hh(t,i,l,n,e[s+10],23,-1094730640),n=this.hh(n,t,i,l,e[s+13],4,681279174),l=this.hh(l,n,t,i,e[s],11,-358537222),i=this.hh(i,l,n,t,e[s+3],16,-722521979),t=this.hh(t,i,l,n,e[s+6],23,76029189),n=this.hh(n,t,i,l,e[s+9],4,-640364487),l=this.hh(l,n,t,i,e[s+12],11,-421815835),i=this.hh(i,l,n,t,e[s+15],16,530742520),t=this.hh(t,i,l,n,e[s+2],23,-995338651),n=this.ii(n,t,i,l,e[s],6,-198630844),l=this.ii(l,n,t,i,e[s+7],10,1126891415),i=this.ii(i,l,n,t,e[s+14],15,-1416354905),t=this.ii(t,i,l,n,e[s+5],21,-57434055),n=this.ii(n,t,i,l,e[s+12],6,1700485571),l=this.ii(l,n,t,i,e[s+3],10,-1894986606),i=this.ii(i,l,n,t,e[s+10],15,-1051523),t=this.ii(t,i,l,n,e[s+1],21,-2054922799),n=this.ii(n,t,i,l,e[s+8],6,1873313359),l=this.ii(l,n,t,i,e[s+15],10,-30611744),i=this.ii(i,l,n,t,e[s+6],15,-1560198380),t=this.ii(t,i,l,n,e[s+13],21,1309151649),n=this.ii(n,t,i,l,e[s+4],6,-145523070),l=this.ii(l,n,t,i,e[s+11],10,-1120210379),i=this.ii(i,l,n,t,e[s+2],15,718787259),t=this.ii(t,i,l,n,e[s+9],21,-343485551),n=this.addme(n,r),t=this.addme(t,h),i=this.addme(i,a),l=this.addme(l,o),s+=16}return[n,t,i,l]},__class__:Kl},function(){}),$l=((E["haxe.ds.ArraySort"]=ql).__name__="haxe.ds.ArraySort",ql.sort=function(e,n){ql.rec(e,n,0,e.length)},ql.rec=function(e,n,t,i){var l=t+i>>1;if(i-t<12){if(!(i<=t))for(var s=t+1,r=i;s<r;)for(var h=s++;t<h&&n(e[h],e[h-1])<0;)ql.swap(e,h-1,h),--h}else ql.rec(e,n,t,l),ql.rec(e,n,l,i),ql.doMerge(e,n,t,l,i,l-t,i-l)},ql.doMerge=function(e,n,t,i,l,s,r){var h,a,o,c;0!=s&&0!=r&&(s+r==2?n(e[i],e[t])<0&&ql.swap(e,i,t):(r<s?c=(a=ql.lower(e,n,i,l,h=t+(o=s>>1)))-i:o=(h=ql.upper(e,n,t,i,a=i+(c=r>>1)))-t,ql.rotate(e,n,h,i,a),ql.doMerge(e,n,t,h,i=h+c,o,c),ql.doMerge(e,n,i,a,l,s-o,r-c)))},ql.rotate=function(e,n,t,i,l){if(t!=i&&i!=l)for(var s=ql.gcd(l-t,i-t);0!=s--;){for(var r=e[t+s],h=i-t,a=t+s,o=t+s+h;o!=t+s;)e[a]=e[o],h<l-(a=o)?o+=h:o=t+(h-(l-o));e[a]=r}},ql.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},ql.upper=function(e,n,t,i,l){for(var s,r,h=i-t;0<h;)h=n(e[l],e[r=t+(s=h>>1)])<0?s:(t=r+1,h-s-1);return t},ql.lower=function(e,n,t,i,l){for(var s,r,h=i-t;0<h;)h=n(e[r=t+(s=h>>1)],e[l])<0?(t=r+1,h-s-1):s;return t},ql.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},function(){this.h={}}),jl=((E["haxe.ds.IntMap"]=$l).__name__="haxe.ds.IntMap",$l.__interfaces__=[d3],$l.prototype={h:null,get:function(e){return this.h[e]},remove:function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},keys:function(){var e,n=[];for(e in this.h)this.h.hasOwnProperty(e)&&n.push(+e);return new rs(n)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e]}}},keyValueIterator:function(){return new hs(this)},copy:function(){for(var e=new $l,n=this.keys();n.hasNext();){var t=n.next();e.h[t]=this.h[t]}return e},__class__:$l},function(){this.length=0}),Ql=((E["haxe.ds.List"]=jl).__name__="haxe.ds.List",jl.prototype={h:null,q:null,length:null,add:function(e){e=new Ql(e,null);null==this.h?this.h=e:this.q.next=e,this.q=e,this.length++},__class__:jl},function(e,n){this.item=e,this.next=n}),Zl=((E["haxe.ds._List.ListNode"]=Ql).__name__="haxe.ds._List.ListNode",Ql.prototype={item:null,next:null,__class__:Ql},function(){this.h={__keys__:{}}}),te=((E["haxe.ds.ObjectMap"]=Zl).__name__="haxe.ds.ObjectMap",Zl.__interfaces__=[d3],Zl.prototype={h:null,set:function(e,n){var t=e.__id__;null==t&&(t=e.__id__=qe.$haxeUID++),this.h[t]=n,this.h.__keys__[t]=e},get:function(e){return this.h[e.__id__]},remove:function(e){e=e.__id__;return null!=this.h.__keys__[e]&&(delete this.h[e],delete this.h.__keys__[e],!0)},keys:function(){var e,n=[];for(e in this.h.__keys__)this.h.hasOwnProperty(e)&&n.push(this.h.__keys__[e]);return new rs(n)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e.__id__]}}},keyValueIterator:function(){return new hs(this)},__class__:Zl},function(){this.h=Object.create(null)}),Jl=((E["haxe.ds.StringMap"]=te).__name__="haxe.ds.StringMap",te.__interfaces__=[d3],te.prototype={h:null,get:function(e){return this.h[e]},keys:function(){return new Jl(this.h)},iterator:function(){return new es(this.h)},keyValueIterator:function(){return new ns(this.h)},__class__:te},function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0}),es=((E["haxe.ds._StringMap.StringMapKeyIterator"]=Jl).__name__="haxe.ds._StringMap.StringMapKeyIterator",Jl.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){return this.keys[this.current++]},__class__:Jl},function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0}),ns=((E["haxe.ds._StringMap.StringMapValueIterator"]=es).__name__="haxe.ds._StringMap.StringMapValueIterator",es.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){return this.h[this.keys[this.current++]]},__class__:es},function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0}),ts=((E["haxe.ds._StringMap.StringMapKeyValueIterator"]=ns).__name__="haxe.ds._StringMap.StringMapKeyValueIterator",ns.prototype={h:null,keys:null,length:null,current:null,hasNext:function(){return this.current<this.length},next:function(){var e=this.keys[this.current++];return{key:e,value:this.h[e]}},__class__:ns},{}),is=(ts.blit=function(e,n,t,i,l){if(e==t){if(n<i)for(var s=n+l,r=i+l,h=0,a=l;h<a;){h++;--s,e[--r]=e[s]}else if(i<n)for(s=n,r=i,h=0,a=l;h<a;){h++;e[r]=e[s],++s,++r}}else for(h=0,a=l;h<a;)t[i+(s=h++)]=e[n+s]},function(e){this.length=e.byteLength,this.b=new Uint8Array(e),(this.b.bufferValue=e).hxBytes=this,e.bytes=this.b}),ls=((E["haxe.io.Bytes"]=is).__name__="haxe.io.Bytes",is.ofString=function(e,n){if(n==ls.RawNative){for(var t=new Uint8Array(e.length<<1),i=0,l=e.length;i<l;){var s=i++,r=e.charCodeAt(s);t[s<<1]=255&r,t[s<<1|1]=r>>8}return new is(t.buffer)}for(var h=[],s=0;s<e.length;)(r=55296<=(r=e.charCodeAt(s++))&&r<=56319?r-55232<<10|1023&e.charCodeAt(s++):r)<=127?h.push(r):(r<=2047?h.push(192|r>>6):(r<=65535?h.push(224|r>>12):(h.push(240|r>>18),h.push(128|r>>12&63)),h.push(128|r>>6&63)),h.push(128|63&r));return new is(new Uint8Array(h).buffer)},is.prototype={length:null,b:null,getString:function(e,n,t){if(e<0||n<0||e+n>this.length)throw ct.thrown(ss.OutsideBounds);null==t&&(t=ls.UTF8);var i="",l=this.b,s=e,r=e+n;switch(t._hx_index){case 0:for(var h,a;s<r;)if((o=l[s++])<128){if(0==o)break;i+=String.fromCodePoint(o)}else o<224?(h=(63&o)<<6|127&l[s++],i+=String.fromCodePoint(h)):o<240?(h=(31&o)<<12|(127&l[s++])<<6|127&l[s++],i+=String.fromCodePoint(h)):(a=(15&o)<<18|(127&l[s++])<<12|(127&l[s++])<<6|127&l[s++],i+=String.fromCodePoint(a));break;case 1:for(;s<r;){var o=l[s++]|l[s++]<<8;i+=String.fromCodePoint(o)}}return i},toString:function(){return this.getString(0,this.length)},__class__:is},en["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:null,UTF8:{_hx_name:"UTF8",_hx_index:0,__enum__:"haxe.io.Encoding",toString:c},RawNative:{_hx_name:"RawNative",_hx_index:1,__enum__:"haxe.io.Encoding",toString:c}}),ss=(ls.__constructs__=[ls.UTF8,ls.RawNative],en["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:null,Blocked:{_hx_name:"Blocked",_hx_index:0,__enum__:"haxe.io.Error",toString:c},Overflow:{_hx_name:"Overflow",_hx_index:1,__enum__:"haxe.io.Error",toString:c},OutsideBounds:{_hx_name:"OutsideBounds",_hx_index:2,__enum__:"haxe.io.Error",toString:c},Custom:((U=function(e){return{_hx_index:3,e:e,__enum__:"haxe.io.Error",toString:c}})._hx_name="Custom",U.__params__=["e"],U)}),rs=(ss.__constructs__=[ss.Blocked,ss.Overflow,ss.OutsideBounds,ss.Custom],function(e){this.current=0,this.array=e}),hs=((E["haxe.iterators.ArrayIterator"]=rs).__name__="haxe.iterators.ArrayIterator",rs.prototype={array:null,current:null,hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:rs},function(e){this.map=e,this.keys=e.keys()}),as=((E["haxe.iterators.MapKeyValueIterator"]=hs).__name__="haxe.iterators.MapKeyValueIterator",hs.prototype={map:null,keys:null,hasNext:function(){return this.keys.hasNext()},next:function(){var e=this.keys.next();return{value:this.map.get(e),key:e}},__class__:hs},en["haxe.rtti.CType"]={__ename__:"haxe.rtti.CType",__constructs__:null,CUnknown:{_hx_name:"CUnknown",_hx_index:0,__enum__:"haxe.rtti.CType",toString:c},CEnum:((U=function(e,n){return{_hx_index:1,name:e,params:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CEnum",U.__params__=["name","params"],U),CClass:((U=function(e,n){return{_hx_index:2,name:e,params:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CClass",U.__params__=["name","params"],U),CTypedef:((U=function(e,n){return{_hx_index:3,name:e,params:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CTypedef",U.__params__=["name","params"],U),CFunction:((U=function(e,n){return{_hx_index:4,args:e,ret:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CFunction",U.__params__=["args","ret"],U),CAnonymous:((U=function(e){return{_hx_index:5,fields:e,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CAnonymous",U.__params__=["fields"],U),CDynamic:((U=function(e){return{_hx_index:6,t:e,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CDynamic",U.__params__=["t"],U),CAbstract:((U=function(e,n){return{_hx_index:7,name:e,params:n,__enum__:"haxe.rtti.CType",toString:c}})._hx_name="CAbstract",U.__params__=["name","params"],U)}),os=(as.__constructs__=[as.CUnknown,as.CEnum,as.CClass,as.CTypedef,as.CFunction,as.CAnonymous,as.CDynamic,as.CAbstract],en["haxe.rtti.Rights"]={__ename__:"haxe.rtti.Rights",__constructs__:null,RNormal:{_hx_name:"RNormal",_hx_index:0,__enum__:"haxe.rtti.Rights",toString:c},RNo:{_hx_name:"RNo",_hx_index:1,__enum__:"haxe.rtti.Rights",toString:c},RCall:((U=function(e){return{_hx_index:2,m:e,__enum__:"haxe.rtti.Rights",toString:c}})._hx_name="RCall",U.__params__=["m"],U),RMethod:{_hx_name:"RMethod",_hx_index:3,__enum__:"haxe.rtti.Rights",toString:c},RDynamic:{_hx_name:"RDynamic",_hx_index:4,__enum__:"haxe.rtti.Rights",toString:c},RInline:{_hx_name:"RInline",_hx_index:5,__enum__:"haxe.rtti.Rights",toString:c}}),cs=(os.__constructs__=[os.RNormal,os.RNo,os.RCall,os.RMethod,os.RDynamic,os.RInline],en["haxe.rtti.TypeTree"]={__ename__:"haxe.rtti.TypeTree",__constructs__:null,TPackage:((U=function(e,n,t){return{_hx_index:0,name:e,full:n,subs:t,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TPackage",U.__params__=["name","full","subs"],U),TClassdecl:((U=function(e){return{_hx_index:1,c:e,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TClassdecl",U.__params__=["c"],U),TEnumdecl:((U=function(e){return{_hx_index:2,e:e,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TEnumdecl",U.__params__=["e"],U),TTypedecl:((U=function(e){return{_hx_index:3,t:e,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TTypedecl",U.__params__=["t"],U),TAbstractdecl:((U=function(e){return{_hx_index:4,a:e,__enum__:"haxe.rtti.TypeTree",toString:c}})._hx_name="TAbstractdecl",U.__params__=["a"],U)}),us=(cs.__constructs__=[cs.TPackage,cs.TClassdecl,cs.TEnumdecl,cs.TTypedecl,cs.TAbstractdecl],function(){}),_s=((E["haxe.rtti.Meta"]=us).__name__="haxe.rtti.Meta",us.getMeta=function(e){return e.__meta__},us.getFields=function(e){e=us.getMeta(e);return null==e||null==e.fields?{}:e.fields},function(){}),ds=((E["haxe.rtti.Rtti"]=_s).__name__="haxe.rtti.Rtti",_s.getRtti=function(e){var n=L.field(e,"__rtti");if(null==n)throw ct.thrown("Class "+e.__name__+" has no RTTI information, consider adding @:rtti");n=D.parse(n).firstElement(),n=(new ds).processElement(n);if(1==n._hx_index)return e=n.c;throw ct.thrown("Enum mismatch: expected TClassDecl but found "+ot.string(n))},function(){this.root=[]}),bs=((E["haxe.rtti.XmlParser"]=ds).__name__="haxe.rtti.XmlParser",ds.prototype={root:null,curplatform:null,mkPath:function(e){return e},mkTypeParams:function(e){e=e.split(":");return""==e[0]?[]:e},mkRights:function(e){switch(e){case"dynamic":return os.RDynamic;case"inline":return os.RInline;case"method":return os.RMethod;case"null":return os.RNo;default:return os.RCall(e)}},xerror:function(e){var n;if(e.nodeType==D.Document)n="Document";else{if(e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));n=e.nodeName}throw ct.thrown("Invalid "+n)},processElement:function(e){if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw ct.thrown("Invalid nodeType "+(null==e.nodeType?"null":nn.toString(e.nodeType)));var n,t=e;if(t.nodeType==D.Document)n="Document";else{if(t.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":nn.toString(t.nodeType)));n=t.nodeName}switch(n){case"abstract":return cs.TAbstractdecl(this.xabstract(t));case"class":return cs.TClassdecl(this.xclass(t));case"enum":return cs.TEnumdecl(this.xenum(t));case"typedef":return cs.TTypedecl(this.xtypedef(t));default:return this.xerror(t)}},xmeta:function(e){for(var n=[],t=0,i=ps.resolve(e,"m");t<i.length;){for(var l=i[t],s=(++t,[]),r=0,h=ps.resolve(l,"e");r<h.length;){var a=h[r];++r,s.push(Cs.get_innerHTML(a))}n.push({name:gs.resolve(l,"n"),params:s})}return n},xoverloads:function(e){for(var n=[],t=e.elements();t.hasNext();){var i=t.next();n.push(this.xclassfield(i))}return n},xpath:function(e){for(var n=this.mkPath(gs.resolve(e,"path")),t=[],i=e.elements();i.hasNext();){var l=i.next();t.push(this.xtype(l))}return{path:n,params:t}},xclass:function(e){for(var n=null,t=null,i=null,l=[],s=[],r=[],h=[],a=e.exists("interface"),o=e.elements();o.hasNext();){var c,u=o.next();if(u.nodeType==D.Document)c="Document";else{if(u.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==u.nodeType?"null":nn.toString(u.nodeType)));c=u.nodeName}switch(c){case"extends":a?l.push(this.xpath(u)):n=this.xpath(u);break;case"haxe_doc":t=Cs.get_innerData(u);break;case"haxe_dynamic":var _=u.firstElement();if(_.nodeType!=D.Document&&_.nodeType!=D.Element)throw ct.thrown("Invalid nodeType "+(null==_.nodeType?"null":nn.toString(_.nodeType)));i=this.xtype(_);break;case"implements":l.push(this.xpath(u));break;case"meta":h=this.xmeta(u);break;default:(u.exists("static")?r:s).push(this.xclassfield(u))}}return{file:Os.resolve(e,"file")?gs.resolve(e,"file"):null,path:this.mkPath(gs.resolve(e,"path")),module:Os.resolve(e,"module")?this.mkPath(gs.resolve(e,"module")):null,doc:t,isPrivate:e.exists("private"),isExtern:e.exists("extern"),isFinal:e.exists("final"),isInterface:a,params:this.mkTypeParams(gs.resolve(e,"params")),superClass:n,interfaces:l,fields:s,statics:r,tdynamic:i,platforms:this.defplat(),meta:h}},xclassfield:function(e,n){null==n&&(n=!1);for(var t,i=e.elements(),l=this.xtype(i.next()),s=null,r=[],h=null,a=i;a.hasNext();){var o,c=a.next();if(c.nodeType==D.Document)o="Document";else{if(c.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==c.nodeType?"null":nn.toString(c.nodeType)));o=c.nodeName}switch(o){case"haxe_doc":s=Cs.get_innerData(c);break;case"meta":r=this.xmeta(c);break;case"overloads":h=this.xoverloads(c);break;default:this.xerror(c)}}if(e.nodeType==D.Document)t="Document";else{if(e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));t=e.nodeName}return{name:t,type:l,isPublic:e.exists("public")||n,isFinal:e.exists("final"),isOverride:e.exists("override"),line:Os.resolve(e,"line")?ot.parseInt(gs.resolve(e,"line")):null,doc:s,get:Os.resolve(e,"get")?this.mkRights(gs.resolve(e,"get")):os.RNormal,set:Os.resolve(e,"set")?this.mkRights(gs.resolve(e,"set")):os.RNormal,params:Os.resolve(e,"params")?this.mkTypeParams(gs.resolve(e,"params")):[],platforms:this.defplat(),meta:r,overloads:h,expr:Os.resolve(e,"expr")?gs.resolve(e,"expr"):null}},xenum:function(e){for(var n=[],t=null,i=[],l=e.elements();l.hasNext();){var s,r,h=l.next();if(h.nodeType==D.Document)s="Document";else{if(h.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==h.nodeType?"null":nn.toString(h.nodeType)));s=h.nodeName}if("haxe_doc"==s)t=Cs.get_innerData(h);else{if(h.nodeType==D.Document)r="Document";else{if(h.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==h.nodeType?"null":nn.toString(h.nodeType)));r=h.nodeName}"meta"==r?i=this.xmeta(h):n.push(this.xenumfield(h))}}return{file:Os.resolve(e,"file")?gs.resolve(e,"file"):null,path:this.mkPath(gs.resolve(e,"path")),module:Os.resolve(e,"module")?this.mkPath(gs.resolve(e,"module")):null,doc:t,isPrivate:e.exists("private"),isExtern:e.exists("extern"),params:this.mkTypeParams(gs.resolve(e,"params")),constructors:n,platforms:this.defplat(),meta:i}},xenumfield:function(e){var n,t,i=null,l=e.elementsNamed("haxe_doc"),l=l.hasNext()?l.next():null,s=fs.resolve(e,"meta")?this.xmeta(bs.resolve(e,"meta")):[];if(Os.resolve(e,"a"))for(var r=gs.resolve(e,"a").split(":"),h=e.elements(),i=[],a=0;a<r.length;){var o=r[a],c=(++a,!1);"?"==o.charAt(0)&&(c=!0,o=he.substr(o,1,null)),i.push({name:o,opt:c,t:this.xtype(h.next())})}if(e.nodeType==D.Document)n="Document";else{if(e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));n=e.nodeName}if(null==l)t=null;else{if(l.nodeType!=D.Document&&l.nodeType!=D.Element)throw ct.thrown("Invalid nodeType "+(null==l.nodeType?"null":nn.toString(l.nodeType)));t=Cs.get_innerData(l)}return{name:n,args:i,doc:t,meta:s,platforms:this.defplat()}},xabstract:function(e){for(var n=null,t=null,i=null,l=[],s=[],r=[],h=e.elements();h.hasNext();){var a,o=h.next();if(o.nodeType==D.Document)a="Document";else{if(o.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==o.nodeType?"null":nn.toString(o.nodeType)));a=o.nodeName}switch(a){case"from":for(var c=o.elements();c.hasNext();){var u=c.next(),_=u.firstElement();if(_.nodeType!=D.Document&&_.nodeType!=D.Element)throw ct.thrown("Invalid nodeType "+(null==_.nodeType?"null":nn.toString(_.nodeType)));r.push({t:this.xtype(_),field:Os.resolve(u,"field")?gs.resolve(u,"field"):null})}break;case"haxe_doc":n=Cs.get_innerData(o);break;case"impl":t=this.xclass(bs.resolve(o,"class"));break;case"meta":l=this.xmeta(o);break;case"this":var d=o.firstElement();if(d.nodeType!=D.Document&&d.nodeType!=D.Element)throw ct.thrown("Invalid nodeType "+(null==d.nodeType?"null":nn.toString(d.nodeType)));i=this.xtype(d);break;case"to":for(var b=o.elements();b.hasNext();){var g=b.next(),O=g.firstElement();if(O.nodeType!=D.Document&&O.nodeType!=D.Element)throw ct.thrown("Invalid nodeType "+(null==O.nodeType?"null":nn.toString(O.nodeType)));s.push({t:this.xtype(O),field:Os.resolve(g,"field")?gs.resolve(g,"field"):null})}break;default:this.xerror(o)}}return{file:Os.resolve(e,"file")?gs.resolve(e,"file"):null,path:this.mkPath(gs.resolve(e,"path")),module:Os.resolve(e,"module")?this.mkPath(gs.resolve(e,"module")):null,doc:n,isPrivate:e.exists("private"),params:this.mkTypeParams(gs.resolve(e,"params")),platforms:this.defplat(),meta:l,athis:i,to:s,from:r,impl:t}},xtypedef:function(e){for(var n=null,t=null,i=[],l=e.elements();l.hasNext();){var s,r,h=l.next();if(h.nodeType==D.Document)s="Document";else{if(h.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==h.nodeType?"null":nn.toString(h.nodeType)));s=h.nodeName}if("haxe_doc"==s)n=Cs.get_innerData(h);else{if(h.nodeType==D.Document)r="Document";else{if(h.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==h.nodeType?"null":nn.toString(h.nodeType)));r=h.nodeName}"meta"==r?i=this.xmeta(h):t=this.xtype(h)}}var a=new te;return null!=this.curplatform&&(a.h[this.curplatform]=t),{file:Os.resolve(e,"file")?gs.resolve(e,"file"):null,path:this.mkPath(gs.resolve(e,"path")),module:Os.resolve(e,"module")?this.mkPath(gs.resolve(e,"module")):null,doc:n,isPrivate:e.exists("private"),params:this.mkTypeParams(gs.resolve(e,"params")),type:t,types:a,platforms:this.defplat(),meta:i}},xtype:function(e){var n;if(e.nodeType==D.Document)n="Document";else{if(e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));n=e.nodeName}switch(n){case"a":for(var t=[],i=e.elements();i.hasNext();){var l=i.next(),l=this.xclassfield(l,!0);l.platforms=[],t.push(l)}return as.CAnonymous(t);case"c":return as.CClass(this.mkPath(gs.resolve(e,"path")),this.xtypeparams(e));case"d":var s=null,r=e.firstElement();if(null!=r){if(r.nodeType!=D.Document&&r.nodeType!=D.Element)throw ct.thrown("Invalid nodeType "+(null==r.nodeType?"null":nn.toString(r.nodeType)));s=this.xtype(r)}return as.CDynamic(s);case"e":return as.CEnum(this.mkPath(gs.resolve(e,"path")),this.xtypeparams(e));case"f":for(var h=[],a=0,o=gs.resolve(e,"a").split(":"),c=Os.resolve(e,"v")?new rs(gs.resolve(e,"v").split(":")):null,u=e.elements();u.hasNext();){var _=u.next(),d=!1,b=a<o.length?o[a++]:null,g=("?"==(b=null==b?"":b).charAt(0)&&(d=!0,b=he.substr(b,1,null)),null==c||c.current>=c.array.length?null:c.array[c.current++]);h.push({name:b,opt:d,t:this.xtype(_),value:""==g?null:g})}r=h[h.length-1];return he.remove(h,r),as.CFunction(h,r.t);case"t":return as.CTypedef(this.mkPath(gs.resolve(e,"path")),this.xtypeparams(e));case"unknown":return as.CUnknown;case"x":return as.CAbstract(this.mkPath(gs.resolve(e,"path")),this.xtypeparams(e));default:return this.xerror(e)}},xtypeparams:function(e){for(var n=[],t=e.elements();t.hasNext();){var i=t.next();n.push(this.xtype(i))}return n},defplat:function(){var e=[];return null!=this.curplatform&&e.push(this.curplatform),e},__class__:ds},{}),gs=(bs.resolve=function(e,n){var t,i=e.elementsNamed(n).next();if(null==i){if(e.nodeType==D.Document)t="Document";else{if(e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));t=e.nodeName}throw ct.thrown(t+" is missing element "+n)}if(i.nodeType!=D.Document&&i.nodeType!=D.Element)throw ct.thrown("Invalid nodeType "+(null==i.nodeType?"null":nn.toString(i.nodeType)));return i},{}),Os=(gs.resolve=function(e,n){if(e.nodeType==D.Document)throw ct.thrown("Cannot access document attribute "+n);var t=e.get(n);if(null!=t)return t;if(e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));throw ct.thrown(e.nodeName+" is missing attribute "+n)},{}),fs=(Os.resolve=function(e,n){if(e.nodeType==D.Document)throw ct.thrown("Cannot access document attribute "+n);return e.exists(n)},{}),ps=(fs.resolve=function(e,n){return e.elementsNamed(n).hasNext()},{}),Cs=(ps.resolve=function(e,n){for(var t=[],i=e.elementsNamed(n);i.hasNext();){var l=i.next();if(l.nodeType!=D.Document&&l.nodeType!=D.Element)throw ct.thrown("Invalid nodeType "+(null==l.nodeType?"null":nn.toString(l.nodeType)));t.push(l)}return t},{}),vs=(Cs.__properties__={get_innerHTML:"get_innerHTML",get_innerData:"get_innerData"},Cs.get_innerData=function(e){if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));var n=0,t=e.children;if(t.length<=0){if(e.nodeType==D.Document)s="Document";else{if(e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));s=e.nodeName}throw ct.thrown(s+" does not have data")}var i=t[n++];if(1<t.length){var l=t[n++];if(i.nodeType==D.PCData&&l.nodeType==D.CData){if(i.nodeType==D.Document||i.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":nn.toString(i.nodeType)));s=""==z.trim(i.nodeValue)}else s=!1;if(s){if(t.length<=2){if(l.nodeType==D.Document||l.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==l.nodeType?"null":nn.toString(l.nodeType)));return l.nodeValue}var s,n=t[+n];if(n.nodeType==D.PCData){if(n.nodeType==D.Document||n.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":nn.toString(n.nodeType)));s=""==z.trim(n.nodeValue)}else s=!1;if(s&&t.length<=3){if(l.nodeType==D.Document||l.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==l.nodeType?"null":nn.toString(l.nodeType)));return l.nodeValue}}if(e.nodeType==D.Document)s="Document";else{if(e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));s=e.nodeName}throw ct.thrown(s+" does not only have data")}if(i.nodeType!=D.PCData&&i.nodeType!=D.CData){if(e.nodeType==D.Document)s="Document";else{if(e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));s=e.nodeName}throw ct.thrown(s+" does not have data")}if(i.nodeType==D.Document||i.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":nn.toString(i.nodeType)));return i.nodeValue},Cs.get_innerHTML=function(e){var n="";if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));for(var t=0,i=e.children;t<i.length;){var l=i[t++];n+=ot.string(ms.print(l))}return n},(E["haxe.xml.XmlParserException"]=N3).__name__="haxe.xml.XmlParserException",N3.prototype={message:null,lineNumber:null,positionAtLine:null,position:null,xml:null,toString:function(){return ws.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:N3},function(){}),ms=((E["haxe.xml.Parser"]=vs).__name__="haxe.xml.Parser",vs.parse=function(e,n){null==n&&(n=!1);var t=D.createDocument();return vs.doParse(e,n,0,t),t},vs.doParse=function(e,n,t,i){null==t&&(t=0);for(var l=null,s=1,r=1,h=null,a=0,o=0,c=0,u=new y,_=1,d=-1;t<e.length;){var b,g,O,f,p=e.charCodeAt(t);switch(s){case 0:switch(p){case 9:case 10:case 13:case 32:break;default:s=r;continue}break;case 1:if(60!=p){a=t,s=13;continue}s=0,r=2;break;case 2:switch(p){case 33:if(91==e.charCodeAt(t+1)){if(t+=2,"CDATA["!=he.substr(e,t,6).toUpperCase())throw ct.thrown(new N3("Expected <![CDATA[",e,t));s=17,a=(t+=5)+1}else if(68==e.charCodeAt(t+1)||100==e.charCodeAt(t+1)){if("OCTYPE"!=he.substr(e,t+2,6).toUpperCase())throw ct.thrown(new N3("Expected <!DOCTYPE",e,t));s=16,a=(t+=8)+1}else{if(45!=e.charCodeAt(t+1)||45!=e.charCodeAt(t+2))throw ct.thrown(new N3("Expected \x3c!--",e,t));s=15,a=(t+=2)+1}break;case 47:if(null==i)throw ct.thrown(new N3("Expected node name",e,t));a=t+1,s=0,r=10;break;case 63:s=14,a=t;break;default:s=3,a=t;continue}break;case 3:if(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)break;if(t==a)throw ct.thrown(new N3("Expected node name",e,t));l=D.createElement(he.substr(e,a,t-a)),i.addChild(l),++o,s=0,r=4;continue;case 4:switch(p){case 47:s=11;break;case 62:s=9;break;default:s=5,a=t;continue}break;case 5:if(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)break;if(a==t)throw ct.thrown(new N3("Expected attribute name",e,t));h=he.substr(e,a,t-a);if(l.exists(h))throw ct.thrown(new N3("Duplicate attribute ["+h+"]",e,t));s=0,r=6;continue;case 6:if(61!=p)throw ct.thrown(new N3("Expected =",e,t));s=0,r=7;break;case 7:switch(p){case 34:case 39:u=new y,s=8,a=t+1,d=p;break;default:throw ct.thrown(new N3('Expected "',e,t))}break;case 8:switch(p){case 38:var C=t-a;u.b+=null==C?he.substr(e,a,null):he.substr(e,a,C),s=18,_=8,a=t+1;break;case 60:case 62:if(n)throw ct.thrown(new N3("Invalid unescaped "+String.fromCodePoint(p)+" in attribute value",e,t));p==d&&(u.b+=null==(b=t-a)?he.substr(e,a,null):he.substr(e,a,b),b=u.b,u=new y,l.set(h,b),s=0,r=4);break;default:p==d&&(u.b+=null==(b=t-a)?he.substr(e,a,null):he.substr(e,a,b),g=u.b,u=new y,l.set(h,g),s=0,r=4)}break;case 9:a=t=vs.doParse(e,n,t,l),s=1;break;case 10:if(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)break;if(a==t)throw ct.thrown(new N3("Expected node name",e,t));var v=he.substr(e,a,t-a);if(null==i||0!=i.nodeType)throw ct.thrown(new N3("Unexpected </"+v+">, tag is not open",e,t));if(i.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":nn.toString(i.nodeType)));if(v!=i.nodeName){if(i.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":nn.toString(i.nodeType)));throw ct.thrown(new N3("Expected </"+i.nodeName+">",e,t))}s=0,r=12;continue;case 11:if(62!=p)throw ct.thrown(new N3("Expected >",e,t));s=1;break;case 12:if(62==p)return 0==o&&i.addChild(D.createPCData("")),t;throw ct.thrown(new N3("Expected >",e,t));case 13:60==p?(u.b+=null==(v=t-a)?he.substr(e,a,null):he.substr(e,a,v),O=D.createPCData(u.b),u=new y,i.addChild(O),++o,s=0,r=2):38==p&&(u.b+=null==(O=t-a)?he.substr(e,a,null):he.substr(e,a,O),s=18,_=13,a=t+1);break;case 14:63==p&&62==e.charCodeAt(t+1)&&(++t,f=he.substr(e,a+1,t-a-2),i.addChild(D.createProcessingInstruction(f)),++o,s=1);break;case 15:45==p&&45==e.charCodeAt(t+1)&&62==e.charCodeAt(t+2)&&(i.addChild(D.createComment(he.substr(e,a,t-a))),++o,t+=2,s=1);break;case 16:91==p?++c:93==p?--c:62==p&&0==c&&(i.addChild(D.createDocType(he.substr(e,a,t-a))),++o,s=1);break;case 17:93==p&&93==e.charCodeAt(t+1)&&62==e.charCodeAt(t+2)&&(f=D.createCData(he.substr(e,a,t-a)),i.addChild(f),++o,t+=2,s=1);break;case 18:if(59==p){var m=he.substr(e,a,t-a);if(35==m.charCodeAt(0)){var w=120==m.charCodeAt(1)?ot.parseInt("0"+he.substr(m,1,m.length-1)):ot.parseInt(he.substr(m,1,m.length-1));u.b+=String.fromCodePoint(w)}else if(Object.prototype.hasOwnProperty.call(vs.escapes.h,m))u.b+=ot.string(vs.escapes.h[m]);else{if(n)throw ct.thrown(new N3("Undefined entity: "+m,e,t));u.b+=ot.string("&"+m+";")}a=t+1,s=_}else if(!(97<=p&&p<=122||65<=p&&p<=90||48<=p&&p<=57||58==p||46==p||95==p||45==p)&&35!=p){if(n)throw ct.thrown(new N3("Invalid character in entity: "+String.fromCodePoint(p),e,t));u.b+=String.fromCodePoint(38);w=t-a;u.b+=null==w?he.substr(e,a,null):he.substr(e,a,w),a=--t+1,s=_}}++t}if(1==s&&(a=t,s=13),13==s){if(0==i.nodeType){if(i.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":nn.toString(i.nodeType)));throw ct.thrown(new N3("Unclosed node <"+i.nodeName+">",e,t))}t==a&&0!=o||(u.b+=null==(C=t-a)?he.substr(e,a,null):he.substr(e,a,C),i.addChild(D.createPCData(u.b)),++o)}else{if(n||18!=s||13!=_)throw ct.thrown(new N3("Unexpected end",e,t));u.b+=String.fromCodePoint(38),u.b+=null==(C=t-a)?he.substr(e,a,null):he.substr(e,a,C),i.addChild(D.createPCData(u.b)),++o}return t},function(e){this.output=new y,this.pretty=e}),g=((E["haxe.xml.Printer"]=ms).__name__="haxe.xml.Printer",ms.print=function(e,n){n=new ms(n=null==n?!1:n);return n.writeNode(e,""),n.output.b},ms.prototype={output:null,pretty:null,writeNode:function(e,n){switch(e.nodeType){case 0:if(this.output.b+=ot.string(n+"<"),e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));this.output.b+=ot.string(e.nodeName);for(var t=e.attributes();t.hasNext();){var i=t.next(),l=(this.output.b+=ot.string(" "+i+'="'),z.htmlEscape(e.get(i),!0));this.output.b+=ot.string(l),this.output.b+='"'}if(this.hasChildren(e)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),e.nodeType!=D.Document&&e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));for(var s=0,r=e.children;s<r.length;){var h=r[s++];this.writeNode(h,this.pretty?n+"\t":n)}if(this.output.b+=ot.string(n+"</"),e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));this.output.b+=ot.string(e.nodeName),this.output.b+=">"}else this.output.b+="/>";this.pretty&&(this.output.b+="\n");break;case 1:if(e.nodeType==D.Document||e.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":nn.toString(e.nodeType)));var a=e.nodeValue;0!=a.length&&(l=n+z.htmlEscape(a),this.output.b+=ot.string(l),this.pretty)&&(this.output.b+="\n");break;case 2:if(this.output.b+=ot.string(n+"<![CDATA["),e.nodeType==D.Document||e.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":nn.toString(e.nodeType)));this.output.b+=ot.string(e.nodeValue),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(e.nodeType==D.Document||e.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":nn.toString(e.nodeType)));var a=e.nodeValue,o=new RegExp("[\n\r\t]+","g".split("u").join("")),l=(a="\x3c!--"+(a=a.replace(o,""))+"--\x3e",this.output.b+=null==n?"null":""+n,z.trim(a));this.output.b+=ot.string(l),this.pretty&&(this.output.b+="\n");break;case 4:if(e.nodeType==D.Document||e.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":nn.toString(e.nodeType)));this.output.b+=ot.string("<!DOCTYPE "+e.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(e.nodeType==D.Document||e.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":nn.toString(e.nodeType)));this.output.b+=ot.string("<?"+e.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));for(s=0,r=e.children;s<r.length;){h=r[s++];this.writeNode(h,n)}}},hasChildren:function(e){if(e.nodeType!=D.Document&&e.nodeType!=D.Element)throw ct.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":nn.toString(e.nodeType)));for(var n=0,t=e.children;n<t.length;){var i=t[n++];switch(i.nodeType){case 0:case 1:return!0;case 2:case 3:if(i.nodeType==D.Document||i.nodeType==D.Element)throw ct.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":nn.toString(i.nodeType)));if(0!=z.ltrim(i.nodeValue).length)return!0}}return!1},__class__:ms},(E["hsluv.Geometry"]=Q3).__name__="hsluv.Geometry",Q3.intersectLineLine=function(e,n){n=(e.intercept-n.intercept)/(n.slope-e.slope);return{x:n,y:e.slope*n+e.intercept}},Q3.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))},Q3.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)},Q3.perpendicularThroughPoint=function(e,n){e=-1/e.slope;return{slope:e,intercept:n.y-e*n.x}},Q3.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)},Q3.normalizeAngle=function(e){var n=2*Math.PI;return(e%n+n)%n},Q3.lengthOfRayUntilIntersect=function(e,n){return n.intercept/(Math.sin(e)-n.slope*Math.cos(e))},function(){}),ws=((E["hsluv.Hsluv"]=g).__name__="hsluv.Hsluv",g.getBounds=function(e){for(var n=[],t=Math.pow(e+16,3)/1560896,i=t>g.epsilon?t:e/g.kappa,l=0;l<3;){var s=l++,r=g.m[s][0],h=g.m[s][1],s=g.m[s][2],a=(632260*s-126452*h)*i,a=(n.push({slope:(284517*r-94839*s)*i/a,intercept:((838422*s+769860*h+731718*r)*e*i-0*e)/a}),(284517*r-94839*s)*i),o=(632260*s-126452*h)*i+126452;n.push({slope:a/o,intercept:((838422*s+769860*h+731718*r)*e*i-769860*e)/o})}return n},g.maxSafeChromaForL=function(e){for(var n=g.getBounds(e),t=1/0,i=0;i<n.length;)var l=n[i],l=(++i,Q3.distanceLineFromOrigin(l)),t=Math.min(t,l);return t},g.maxChromaForLH=function(e,n){for(var t=n/360*Math.PI*2,i=g.getBounds(e),l=1/0,s=0;s<i.length;){var r=i[s],r=(++s,Q3.lengthOfRayUntilIntersect(t,r));0<=r&&(l=Math.min(l,r))}return l},g.dotProduct=function(e,n){for(var t=0,i=0,l=e.length;i<l;){var s=i++;t+=e[s]*n[s]}return t},g.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055},g.toLinear=function(e){return.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92},g.xyzToRgb=function(e,n){var t=g.fromLinear(g.dotProduct(g.m[0],e)),i=g.fromLinear(g.dotProduct(g.m[1],e)),e=g.fromLinear(g.dotProduct(g.m[2],e));return(n=null==n?[0,0,0]:n)[0]=t,n[1]=i,n[2]=e,n},g.rgbToXyz=function(e,n){var t=e[0],i=e[1],e=e[2],t=((n=null==n?[0,0,0]:n)[0]=g.toLinear(t),n[1]=g.toLinear(i),n[2]=g.toLinear(e),g.dotProduct(g.minv[0],n)),i=g.dotProduct(g.minv[1],n),e=g.dotProduct(g.minv[2],n);return n[0]=t,n[1]=i,n[2]=e,n},g.yToL=function(e){return e<=g.epsilon?e/g.refY*g.kappa:116*Math.pow(e/g.refY,.3333333333333333)-16},g.lToY=function(e){return e<=8?g.refY*e/g.kappa:g.refY*Math.pow((e+16)/116,3)},g.xyzToLuv=function(e,n){var t=e[0],i=e[1],e=(null==n&&(n=[0,0,0]),t+15*i+3*e[2]),t=4*t,l=9*i,e=(0!=e?(t/=e,l/=e):l=t=NaN,g.yToL(i));return 0==e?(n[0]=0,n[1]=0,n[2]=0):(i=13*e*(t-g.refU),t=13*e*(l-g.refV),n[0]=e,n[1]=i,n[2]=t),n},g.luvToXyz=function(e,n){null==n&&(n=[0,0,0]);var t=e[0],i=e[1],e=e[2];return 0==t?(n[0]=0,n[1]=1,n[2]=2):(i=i/(13*t)+g.refU,e=e/(13*t)+g.refV,e=(9*(t=g.lToY(t))-15*e*t-e*(i=0-9*t*i/((i-4)*e-i*e)))/(3*e),n[0]=i,n[1]=t,n[2]=e),n},g.luvToLch=function(e,n){var t,i=e[0],l=e[1],e=e[2],s=(null==n&&(n=[0,0,0]),Math.sqrt(l*l+e*e));return s<1e-8?t=0:(t=180*Math.atan2(e,l)/Math.PI)<0&&(t=360+t),n[0]=i,n[1]=s,n[2]=t,n},g.lchToLuv=function(e,n){var t=e[0],i=e[1],e=(null==n&&(n=[0,0,0]),e[2]/360*2*Math.PI),l=Math.cos(e)*i,e=Math.sin(e)*i;return n[0]=t,n[1]=l,n[2]=e,n},g.hsluvToLch=function(e,n){var t=e[0],i=e[1],e=e[2];return null==n&&(n=[0,0,0]),99.9999999<e?(n[0]=100,n[1]=0,n[2]=t):(e<1e-8?(n[0]=0,n[1]=0):(i=g.maxChromaForLH(e,t)/100*i,n[0]=e,n[1]=i),n[2]=t),n},g.lchToHsluv=function(e,n){var t=e[0],i=e[1],e=e[2];return null==n&&(n=[0,0,0]),99.9999999<t?(n[0]=e,n[1]=0,n[2]=100):t<1e-8?(n[0]=e,n[1]=0,n[2]=0):(i=i/g.maxChromaForLH(t,e)*100,n[0]=e,n[1]=i,n[2]=t),n},g.hpluvToLch=function(e){var n=e[0],t=e[1],e=e[2];return 99.9999999<e?[100,0,n]:e<1e-8?[0,0,n]:[e,g.maxSafeChromaForL(e)/100*t,n]},g.lchToHpluv=function(e){var n=e[0],t=e[1],e=e[2];return 99.9999999<n?[e,0,100]:n<1e-8?[e,0,0]:[e,t/g.maxSafeChromaForL(n)*100,n]},g.rgbToHex=function(e){var n="#",t=e[0],i=(l=Math.round(255*t))%16,t=(n+=g.hexChars.charAt((l-i)/16|0)+g.hexChars.charAt(i),e[1]),l=Math.round(255*t),t=(n+=g.hexChars.charAt((l-(i=l%16))/16|0)+g.hexChars.charAt(i),e[2]),l=Math.round(255*t);return n+=g.hexChars.charAt((l-(i=l%16))/16|0)+g.hexChars.charAt(i)},g.hexToRgb=function(e){e=e.toLowerCase();var n=[],t=g.hexChars.indexOf(e.charAt(1)),i=g.hexChars.indexOf(e.charAt(2)),t=(n.push((16*t+i)/255),g.hexChars.indexOf(e.charAt(3))),i=g.hexChars.indexOf(e.charAt(4)),t=(n.push((16*t+i)/255),g.hexChars.indexOf(e.charAt(5))),i=g.hexChars.indexOf(e.charAt(6));return n.push((16*t+i)/255),n},g.lchToRgb=function(e,n){return g.lchToLuv(e,n=null==n?[0,0,0]:n),g.luvToXyz(n,n),g.xyzToRgb(n,n),n},g.rgbToLch=function(e,n){return g.rgbToXyz(e,n=null==n?[0,0,0]:n),g.xyzToLuv(n,n),g.luvToLch(n,n),n},g.hsluvToRgb=function(e,n){return g.hsluvToLch(e,n=null==n?[0,0,0]:n),g.lchToRgb(n,n),n},g.rgbToHsluv=function(e,n){return g.rgbToLch(e,n=null==n?[0,0,0]:n),g.lchToHsluv(n,n),n},g.hpluvToRgb=function(e){return g.lchToRgb(g.hpluvToLch(e))},g.rgbToHpluv=function(e){return g.lchToHpluv(g.rgbToLch(e))},g.hsluvToHex=function(e){return g.rgbToHex(g.hsluvToRgb(e))},g.hpluvToHex=function(e){return g.rgbToHex(g.hpluvToRgb(e))},g.hexToHsluv=function(e){return g.rgbToHsluv(g.hexToRgb(e))},g.hexToHpluv=function(e){return g.rgbToHpluv(g.hexToRgb(e))},function(){}),ys=((E["js.Boot"]=ws).__name__="js.Boot",ws.getClass=function(e){var n;return null==e?null:e instanceof Array?Array:null!=(n=e.__class__)?n:null!=(n=ws.__nativeClassName(e))?ws.__resolveNativeClass(n):null},ws.__string_rec=function(l,s){if(null==l)return"null";if(5<=s.length)return"<...>";var r,e,n=typeof l;switch(n="function"==n&&(l.__name__||l.__ename__)?"object":n){case"function":return"<function>";case"object":if(l.__enum__)return o=(r=en[l.__enum__].__constructs__[l._hx_index])._hx_name,r.__params__?(s+="\t",o+"("+function(){for(var e=[],n=0,t=r.__params__;n<t.length;){var i=t[n];n+=1,e.push(ws.__string_rec(l[i],s))}return e}().join(",")+")"):o;if(l instanceof Array){for(var t="[",i=(s+="\t",0),h=l.length;i<h;){var a=i++;t+=(0<a?",":"")+ws.__string_rec(l[a],s)}return t+="]"}try{e=l.toString}catch(i){return zl.lastError=i,"???"}if(null!=e&&e!=Object.toString&&"function"==typeof e){var o=l.toString();if("[object Object]"!=o)return o}var t="{\n",c=(s+="\t",null!=l.hasOwnProperty),u=null;for(u in l)c&&!l.hasOwnProperty(u)||"prototype"!=u&&"__class__"!=u&&"__super__"!=u&&"__interfaces__"!=u&&"__properties__"!=u&&(2!=t.length&&(t+=", \n"),t+=s+u+" : "+ws.__string_rec(l[u],s));return t+="\n"+(s=s.substring(1))+"}";case"string":return l;default:return String(l)}},ws.__interfLoop=function(e,n){if(null==e)return!1;if(e==n)return!0;var t=e.__interfaces__;if(null!=t)for(var i=0,l=t.length;i<l;){var s=t[i++];if(s==n||ws.__interfLoop(s,n))return!0}return ws.__interfLoop(e.__super__,n)},ws.__instanceof=function(e,n){if(null==n)return!1;switch(n){case Array:return e instanceof Array;case kr:return"boolean"==typeof e;case Sr:return null!=e;case Ar:return"number"==typeof e;case xr:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof n){if(ws.__downcastCheck(e,n))return!0}else if("object"==typeof n&&ws.__isNativeObj(n)&&e instanceof n)return!0;return n==Ir&&null!=e.__name__?!0:n==Pr&&null!=e.__ename__||null!=e.__enum__&&en[e.__enum__]==n}},ws.__downcastCheck=function(e,n){return e instanceof n||!!n.__isInterface__&&ws.__interfLoop(ws.getClass(e),n)},ws.__implements=function(e,n){return ws.__interfLoop(ws.getClass(e),n)},ws.__cast=function(e,n){if(null==e||ws.__instanceof(e,n))return e;throw ct.thrown("Cannot cast "+ot.string(e)+" to "+ot.string(n))},ws.__nativeClassName=function(e){e=ws.__toStr.call(e).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},ws.__isNativeObj=function(e){return null!=ws.__nativeClassName(e)},ws.__resolveNativeClass=function(e){return qe[e]},function(){}),Us=((E["js.html._CanvasElement.CanvasUtil"]=ys).__name__="js.html._CanvasElement.CanvasUtil",ys.getContextWebGL=function(e,n){var t=e.getContext("webgl",n);return null!=t||null!=(t=e.getContext("experimental-webgl",n))?t:null},(E["polyline.Extensions"]=U3).__name__="polyline.Extensions",U3.unsafeGet=function(e,n){return e[n]},U3.unsafeSet=function(e,n,t){e[n]=t},en["polyline.StrokeCap"]={__ename__:"polyline.StrokeCap",__constructs__:null,BUTT:{_hx_name:"BUTT",_hx_index:0,__enum__:"polyline.StrokeCap",toString:c},SQUARE:{_hx_name:"SQUARE",_hx_index:1,__enum__:"polyline.StrokeCap",toString:c}}),Ds=(Us.__constructs__=[Us.BUTT,Us.SQUARE],en["polyline.StrokeJoin"]={__ename__:"polyline.StrokeJoin",__constructs__:null,MITER:{_hx_name:"MITER",_hx_index:0,__enum__:"polyline.StrokeJoin",toString:c},BEVEL:{_hx_name:"BEVEL",_hx_index:1,__enum__:"polyline.StrokeJoin",toString:c}}),Ts=(Ds.__constructs__=[Ds.MITER,Ds.BEVEL],(E["shade.Shade"]=X3).__name__="shade.Shade",X3.prototype={__class__:X3},(E["shade.Frag"]=Y3).__name__="shade.Frag",Y3.__super__=X3,Y3.prototype=$extend(X3.prototype,{__class__:Y3}),(E["shade.Shader"]=be).__name__="shade.Shader",be.__super__=j1,be.prototype=$extend(j1.prototype,{vert:null,frag:null,__class__:be}),(E["shade.Shader__shaders_Msdf_Vert__shaders_Msdf_Frag"]=ce).__name__="shade.Shader__shaders_Msdf_Vert__shaders_Msdf_Frag",ce.__super__=j1,ce.prototype=$extend(j1.prototype,{__class__:ce}),(E["shade.Shader__shaders_PixelArt_Vert__shaders_PixelArt_Frag"]=de).__name__="shade.Shader__shaders_PixelArt_Vert__shaders_PixelArt_Frag",de.__super__=j1,de.prototype=$extend(j1.prototype,{__class__:de}),(E["shade.Shader__shaders_Textured_Vert__shaders_Textured_Frag"]=ee).__name__="shade.Shader__shaders_Textured_Vert__shaders_Textured_Frag",ee.__super__=j1,ee.prototype=$extend(j1.prototype,{__class__:ee}),(E["shade.Shader__shaders_TintBlack_Vert__shaders_TintBlack_Frag"]=fe).__name__="shade.Shader__shaders_TintBlack_Vert__shaders_TintBlack_Frag",fe.__super__=j1,fe.prototype=$extend(j1.prototype,{__class__:fe}),(E["shade.Vert"]=je).__name__="shade.Vert",je.__super__=X3,je.prototype=$extend(X3.prototype,{__class__:je}),function(){ce.call(this,null,[new Gt(3,"vertexPosition"),new Gt(2,"vertexTCoord"),new Gt(4,"vertexColor")],null)}),xs=((E["shaders.Msdf"]=Ts).__name__="shaders.Msdf",Ts.__super__=ce,Ts.prototype=$extend(ce.prototype,{resolveTextureSlot:function(e){return"mainTex"==e?0:-1},__class__:Ts}),(E["shaders.Msdf_Vert"]=le).__name__="shaders.Msdf_Vert",le.__super__=je,le.prototype=$extend(je.prototype,{__class__:le}),(E["shaders.Msdf_Frag"]=me).__name__="shaders.Msdf_Frag",me.__super__=Y3,me.prototype=$extend(Y3.prototype,{__class__:me}),function(){de.call(this,null,[new Gt(3,"vertexPosition"),new Gt(2,"vertexTCoord"),new Gt(4,"vertexColor")],null)}),Ss=((E["shaders.PixelArt"]=xs).__name__="shaders.PixelArt",xs.__super__=de,xs.prototype=$extend(de.prototype,{resolveTextureSlot:function(e){return"mainTex"==e?0:-1},__class__:xs}),(E["shaders.PixelArt_Vert"]=oe).__name__="shaders.PixelArt_Vert",oe.__super__=je,oe.prototype=$extend(je.prototype,{__class__:oe}),(E["shaders.PixelArt_Frag"]=pe).__name__="shaders.PixelArt_Frag",pe.__super__=Y3,pe.prototype=$extend(Y3.prototype,{__class__:pe}),function(){ee.call(this,[],[new Gt(3,"vertexPosition"),new Gt(2,"vertexTCoord"),new Gt(4,"vertexColor")],new Gt(1,"vertexTextureId"))}),As=((E["shaders.Textured"]=Ss).__name__="shaders.Textured",Ss.__super__=ee,Ss.prototype=$extend(ee.prototype,{resolveTextureSlot:function(e){return"mainTex"==e?0:-1},__class__:Ss}),(E["shaders.Textured_Vert"]=re).__name__="shaders.Textured_Vert",re.__super__=je,re.prototype=$extend(je.prototype,{__class__:re}),(E["shaders.Textured_Frag"]=se).__name__="shaders.Textured_Frag",se.__super__=Y3,se.prototype=$extend(Y3.prototype,{__class__:se}),function(){fe.call(this,[new Gt(4,"vertexDarkColor")],[new Gt(3,"vertexPosition"),new Gt(2,"vertexTCoord"),new Gt(4,"vertexColor")],new Gt(1,"vertexTextureId"))}),ie=((E["shaders.TintBlack"]=As).__name__="shaders.TintBlack",As.__super__=fe,As.prototype=$extend(fe.prototype,{resolveTextureSlot:function(e){return"mainTex"==e?0:-1},__class__:As}),(E["shaders.TintBlack_Vert"]=ue).__name__="shaders.TintBlack_Vert",ue.__super__=je,ue.prototype=$extend(je.prototype,{__class__:ue}),(E["shaders.TintBlack_Frag"]=ve).__name__="shaders.TintBlack_Frag",ve.__super__=Y3,ve.prototype=$extend(Y3.prototype,{__class__:ve}),(E["spine.Animation"]=we).__name__="spine.Animation",we.prototype={hashCode:null,name:null,timelines:null,timelineIds:null,duration:null,getTimelines:function(){return this.timelines},setTimelines:function(e){if(null==e)throw ct.thrown(new ie("timelines cannot be null."));for(var n=(this.timelines=e).length,t=this.timelineIds,i=(t.splice(0,t.length),e),l=0;l<n;){var s=i[l];Or.addAll(this.timelineIds,s.getPropertyIds()),++l}},hasTimeline:function(e){for(var n=0,t=e;n<t.length;){var i=t[n];if(++n,-1!=this.timelineIds.indexOf(i))return!0}return!1},getDuration:function(){return this.duration},setDuration:function(e){this.duration=e},apply:function(e,n,t,i,l,s,r,h){if(null==e)throw ct.thrown(new ie("skeleton cannot be null."));i&&0!=this.duration&&(t%=this.duration,0<n)&&(n%=this.duration);for(var a=this.timelines,o=0,c=this.timelines.length;o<c;)a[o].apply(e,n,t,l,s,r,h),++o},getName:function(){return this.name},toString:function(){return this.name},__class__:we},(E["spine.Timeline"]=xe).__name__="spine.Timeline",xe.search=function(e,n){for(var t=e.length,i=1;i<t;){if(e[i]>n)return i-1;++i}return t-1},xe.searchWithStep=function(e,n,t){for(var i=e.length,l=t;l<i;){if(e[l]>n)return l-t;l+=t}return i-t},xe.prototype={_propertyIds:null,frames:null,getPropertyIds:function(){return this._propertyIds},getFrames:function(){return this.frames},getFrameEntries:function(){return 1},getFrameCount:function(){return this.frames.length/this.getFrameEntries()|0},getDuration:function(){return this.frames[this.frames.length-this.getFrameEntries()]},apply:function(e,n,t,i,l,s,r){},__class__:xe},(E["spine.BoneTimeline"]=ye).__name__="spine.BoneTimeline",ye.__isInterface__=!0,ye.prototype={getBoneIndex:null,__class__:ye},(E["spine.SlotTimeline"]=ze).__name__="spine.SlotTimeline",ze.__isInterface__=!0,ze.prototype={getSlotIndex:null,__class__:ze},(E["spine.CurveTimeline"]=Ae).__name__="spine.CurveTimeline",Ae.__super__=xe,Ae.prototype=$extend(xe.prototype,{curves:null,setLinear:function(e){this.curves[e]=0},setStepped:function(e){this.curves[e]=1},getCurveType:function(e){return 0|this.curves[e]},shrink:function(e){e=this.getFrameCount()+18*e;if(this.curves.length>e){var n=e,t=0|(n=null==e?0:e),i=[];if(0<n){var l=i.length;if(t<l)i.splice(t,t-l);else if(l<t)for(;l<t;)i.push(0),++l}n=i;ur.copy(this.curves,0,n,0,e),this.curves=n}},setBezier:function(e,n,t,i,l,s,r,h,a,o,c){for(var u=this.curves,_=this.getFrameCount()+18*e,e=(0==t&&(u[n]=2+_),.03*(i-2*s+h)),t=.03*(l-2*r+a),d=.006*(3*(s-h)-i+o),b=.006*(3*(r-a)-l+c),g=2*e+d,O=2*t+b,f=.3*(s-i)+e+.16666667*d,p=.3*(r-l)+t+.16666667*b,C=i+f,v=l+p,m=_+18;_<m;)u[_]=C,u[_+1]=v,f+=g,p+=O,g+=d,O+=b,C+=f,v+=p,_+=2},getBezierValue:function(e,n,t,i){var l=this.curves;if(l[i]>e)return h=this.frames[n],(r=this.frames[n+t])+(e-h)/(l[i]-h)*(l[i+1]-r);var s=i+18;for(i+=2;i<s;){if(l[i]>=e)return h=l[i-2],(r=l[i-1])+(e-h)/(l[i]-h)*(l[i+1]-r);i+=2}n+=this.getFrameEntries();var r,h=l[s-2];return(r=l[s-1])+(e-h)/(this.frames[n]-h)*(this.frames[n+t]-r)},__class__:Ae}),(E["spine.CurveTimeline1"]=Be).__name__="spine.CurveTimeline1",Be.__super__=Ae,Be.prototype=$extend(Ae.prototype,{getFrameEntries:function(){return 2},setFrame:function(e,n,t){this.frames[e<<=1]=n,this.frames[e+1]=t},getCurveValue:function(e){for(var n=this.frames,t=n.length-2,i=2;i<=t;){if(n[i]>e){t=i-2;break}i+=2}var l,s,r=0|this.curves[t>>1];return 0==r?(l=n[t],(s=n[t+1])+(e-l)/(n[t+2]-l)*(n[t+2+1]-s)):1==r?n[t+1]:this.getBezierValue(e,t,1,r-2)},__class__:Be}),(E["spine.CurveTimeline2"]=Ce).__name__="spine.CurveTimeline2",Ce.__super__=Ae,Ce.prototype=$extend(Ae.prototype,{getFrameEntries:function(){return 3},setFrame:function(e,n,t,i){this.frames[e*=3]=n,this.frames[e+1]=t,this.frames[e+2]=i},__class__:Ce}),(E["spine.RotateTimeline"]=De).__name__="spine.RotateTimeline",De.__interfaces__=[ye],De.__super__=Be,De.prototype=$extend(Be.prototype,{boneIndex:null,getBoneIndex:function(){return this.boneIndex},apply:function(e,n,t,i,l,s,r){var h=e.bones[this.boneIndex];if(h.active){if(t<this.frames[0])return 0==(e=s)?void(h.rotation=h.data.rotation):void(1==e&&(h.rotation+=(h.data.rotation-h.rotation)*l));var a=this.getCurveValue(t);do{var o=s;if(0==o){h.rotation=h.data.rotation+a*l;break}}while(1==o||2==o?(a+=h.data.rotation-h.rotation,h.rotation+=a*l):3==o&&(h.rotation+=a*l),0)}},__class__:De}),(E["spine.TranslateTimeline"]=Ee).__name__="spine.TranslateTimeline",Ee.__interfaces__=[ye],Ee.__super__=Ce,Ee.prototype=$extend(Ce.prototype,{boneIndex:null,getBoneIndex:function(){return this.boneIndex},apply:function(e,n,t,i,l,s,r){var h=e.bones[this.boneIndex];if(h.active){var a=this.frames;if(t<a[0])return 0==(e=s)?(h.x=h.data.x,void(h.y=h.data.y)):void(1==e&&(h.x+=(h.data.x-h.x)*l,h.y+=(h.data.y-h.y)*l));var o=0,c=0,u=xe.searchWithStep(a,t,3),_=0|this.curves[u/3|0];do{var d=_;if(0==d){var b=a[u],o=a[u+1],c=a[u+2],b=(t-b)/(a[u+3]-b);o+=(a[u+3+1]-o)*b,c+=(a[u+3+2]-c)*b;break}if(1==d){o=a[u+1],c=a[u+2];break}}while(o=this.getBezierValue(t,u,1,_-2|0),c=this.getBezierValue(t,u,2,18+_-2),0);do{var g=s;if(0==g){h.x=h.data.x+o*l,h.y=h.data.y+c*l;break}if(1==g){h.x+=(h.data.x+o-h.x)*l,h.y+=(h.data.y+c-h.y)*l;break}if(2==g){h.x+=(h.data.x+o-h.x)*l,h.y+=(h.data.y+c-h.y)*l;break}}while(3==g&&(h.x+=o*l,h.y+=c*l),0)}},__class__:Ee}),(E["spine.TranslateXTimeline"]=Fe).__name__="spine.TranslateXTimeline",Fe.__interfaces__=[ye],Fe.__super__=Be,Fe.prototype=$extend(Be.prototype,{boneIndex:null,getBoneIndex:function(){return this.boneIndex},apply:function(e,n,t,i,l,s,r){var h=e.bones[this.boneIndex];if(h.active){if(t<this.frames[0])return 0==(e=s)?void(h.x=h.data.x):void(1==e&&(h.x+=(h.data.x-h.x)*l));var a=this.getCurveValue(t);do{var o=s;if(0==o){h.x=h.data.x+a*l;break}if(1==o){h.x+=(h.data.x+a-h.x)*l;break}if(2==o){h.x+=(h.data.x+a-h.x)*l;break}}while(3==o&&(h.x+=a*l),0)}},__class__:Fe}),(E["spine.TranslateYTimeline"]=Ge).__name__="spine.TranslateYTimeline",Ge.__interfaces__=[ye],Ge.__super__=Be,Ge.prototype=$extend(Be.prototype,{boneIndex:null,getBoneIndex:function(){return this.boneIndex},apply:function(e,n,t,i,l,s,r){var h=e.bones[this.boneIndex];if(h.active){if(t<this.frames[0])return 0==(e=s)?void(h.y=h.data.y):void(1==e&&(h.y+=(h.data.y-h.y)*l));var a=this.getCurveValue(t);do{var o=s;if(0==o){h.y=h.data.y+a*l;break}if(1==o){h.y+=(h.data.y+a-h.y)*l;break}if(2==o){h.y+=(h.data.y+a-h.y)*l;break}}while(3==o&&(h.y+=a*l),0)}},__class__:Ge}),(E["spine.ScaleTimeline"]=He).__name__="spine.ScaleTimeline",He.__interfaces__=[ye],He.__super__=Ce,He.prototype=$extend(Ce.prototype,{boneIndex:null,getBoneIndex:function(){return this.boneIndex},apply:function(e,n,t,i,l,s,r){var h=e.bones[this.boneIndex];if(h.active){var a=this.frames;if(t<a[0])return 0==(e=s)?(h.scaleX=h.data.scaleX,void(h.scaleY=h.data.scaleY)):void(1==e&&(h.scaleX+=(h.data.scaleX-h.scaleX)*l,h.scaleY+=(h.data.scaleY-h.scaleY)*l));var o=0,c=0,u=xe.searchWithStep(a,t,3),_=0|this.curves[u/3|0];do{var d=_;if(0==d){var b=a[u],o=a[u+1],c=a[u+2],b=(t-b)/(a[u+3]-b);o+=(a[u+3+1]-o)*b,c+=(a[u+3+2]-c)*b;break}if(1==d){o=a[u+1],c=a[u+2];break}}while(o=this.getBezierValue(t,u,1,_-2|0),c=this.getBezierValue(t,u,2,18+_-2),0);if(o*=h.data.scaleX,c*=h.data.scaleY,1==l)3==s?(h.scaleX+=o-h.data.scaleX,h.scaleY+=c-h.data.scaleY):(h.scaleX=o,h.scaleY=c);else{var g=0,O=0;if(1==r)do{var f=s;if(0==f){g=h.data.scaleX,O=h.data.scaleY,h.scaleX=g+(Math.abs(o)*(0<g?1:g<0?-1:0)-g)*l,h.scaleY=O+(Math.abs(c)*(0<O?1:O<0?-1:0)-O)*l;break}if(1==f){g=h.scaleX,O=h.scaleY,h.scaleX=g+(Math.abs(o)*(0<g?1:g<0?-1:0)-g)*l,h.scaleY=O+(Math.abs(c)*(0<O?1:O<0?-1:0)-O)*l;break}if(2==f){g=h.scaleX,O=h.scaleY,h.scaleX=g+(Math.abs(o)*(0<g?1:g<0?-1:0)-g)*l,h.scaleY=O+(Math.abs(c)*(0<O?1:O<0?-1:0)-O)*l;break}}while(3==f&&(h.scaleX+=(o-h.data.scaleX)*l,h.scaleY+=(c-h.data.scaleY)*l),0);else do{var p=s;if(0==p){g=Math.abs(h.data.scaleX)*(0<o?1:o<0?-1:0),O=Math.abs(h.data.scaleY)*(0<c?1:c<0?-1:0),h.scaleX=g+(o-g)*l,h.scaleY=O+(c-O)*l;break}if(1==p){g=Math.abs(h.scaleX)*(0<o?1:o<0?-1:0),O=Math.abs(h.scaleY)*(0<c?1:c<0?-1:0),h.scaleX=g+(o-g)*l,h.scaleY=O+(c-O)*l;break}if(2==p){g=Math.abs(h.scaleX)*(0<o?1:o<0?-1:0),O=Math.abs(h.scaleY)*(0<c?1:c<0?-1:0),h.scaleX=g+(o-g)*l,h.scaleY=O+(c-O)*l;break}}while(3==p&&(h.scaleX+=(o-h.data.scaleX)*l,h.scaleY+=(c-h.data.scaleY)*l),0)}}},__class__:He}),(E["spine.ScaleXTimeline"]=Ie).__name__="spine.ScaleXTimeline",Ie.__interfaces__=[ye],Ie.__super__=Be,Ie.prototype=$extend(Be.prototype,{boneIndex:null,getBoneIndex:function(){return this.boneIndex},apply:function(e,n,t,i,l,s,r){var h=e.bones[this.boneIndex];if(h.active){if(t<this.frames[0])return 0==(e=s)?void(h.scaleX=h.data.scaleX):void(1==e&&(h.scaleX+=(h.data.scaleX-h.scaleX)*l));var a=this.getCurveValue(t)*h.data.scaleX;if(1==l)3==s?h.scaleX+=a-h.data.scaleX:h.scaleX=a;else{var o=0;if(1==r)do{var c=s;if(0==c){o=h.data.scaleX,h.scaleX=o+(Math.abs(a)*(0<o?1:o<0?-1:0)-o)*l;break}if(1==c){o=h.scaleX,h.scaleX=o+(Math.abs(a)*(0<o?1:o<0?-1:0)-o)*l;break}if(2==c){o=h.scaleX,h.scaleX=o+(Math.abs(a)*(0<o?1:o<0?-1:0)-o)*l;break}}while(3==c&&(h.scaleX+=(a-h.data.scaleX)*l),0);else do{var u=s;if(0==u){o=Math.abs(h.data.scaleX)*(0<a?1:a<0?-1:0),h.scaleX=o+(a-o)*l;break}if(1==u){o=Math.abs(h.scaleX)*(0<a?1:a<0?-1:0),h.scaleX=o+(a-o)*l;break}if(2==u){o=Math.abs(h.scaleX)*(0<a?1:a<0?-1:0),h.scaleX=o+(a-o)*l;break}}while(3==u&&(h.scaleX+=(a-h.data.scaleX)*l),0)}}},__class__:Ie}),(E["spine.ScaleYTimeline"]=Je).__name__="spine.ScaleYTimeline",Je.__interfaces__=[ye],Je.__super__=Be,Je.prototype=$extend(Be.prototype,{boneIndex:null,getBoneIndex:function(){return this.boneIndex},apply:function(e,n,t,i,l,s,r){var h=e.bones[this.boneIndex];if(h.active){if(t<this.frames[0])return 0==(e=s)?void(h.scaleY=h.data.scaleY):void(1==e&&(h.scaleY+=(h.data.scaleY-h.scaleY)*l));var a=this.getCurveValue(t)*h.data.scaleY;if(1==l)3==s?h.scaleY+=a-h.data.scaleY:h.scaleY=a;else{var o=0;if(1==r)do{var c=s;if(0==c){o=h.data.scaleY,h.scaleY=o+(Math.abs(a)*(0<o?1:o<0?-1:0)-o)*l;break}if(1==c){o=h.scaleY,h.scaleY=o+(Math.abs(a)*(0<o?1:o<0?-1:0)-o)*l;break}if(2==c){o=h.scaleY,h.scaleY=o+(Math.abs(a)*(0<o?1:o<0?-1:0)-o)*l;break}}while(3==c&&(h.scaleY+=(a-h.data.scaleY)*l),0);else do{var u=s;if(0==u){o=Math.abs(h.data.scaleY)*(0<a?1:a<0?-1:0),h.scaleY=o+(a-o)*l;break}if(1==u){o=Math.abs(h.scaleY)*(0<a?1:a<0?-1:0),h.scaleY=o+(a-o)*l;break}if(2==u){o=Math.abs(h.scaleY)*(0<a?1:a<0?-1:0),h.scaleY=o+(a-o)*l;break}}while(3==u&&(h.scaleY+=(a-h.data.scaleY)*l),0)}}},__class__:Je}),(E["spine.ShearTimeline"]=Ke).__name__="spine.ShearTimeline",Ke.__interfaces__=[ye],Ke.__super__=Ce,Ke.prototype=$extend(Ce.prototype,{boneIndex:null,getBoneIndex:function(){return this.boneIndex},apply:function(e,n,t,i,l,s,r){var h=e.bones[this.boneIndex];if(h.active){var a=this.frames;if(t<a[0])return 0==(e=s)?(h.shearX=h.data.shearX,void(h.shearY=h.data.shearY)):void(1==e&&(h.shearX+=(h.data.shearX-h.shearX)*l,h.shearY+=(h.data.shearY-h.shearY)*l));var o=0,c=0,u=xe.searchWithStep(a,t,3),_=0|this.curves[u/3|0];do{var d=_;if(0==d){var b=a[u],o=a[u+1],c=a[u+2],b=(t-b)/(a[u+3]-b);o+=(a[u+3+1]-o)*b,c+=(a[u+3+2]-c)*b;break}if(1==d){o=a[u+1],c=a[u+2];break}}while(o=this.getBezierValue(t,u,1,_-2|0),c=this.getBezierValue(t,u,2,18+_-2),0);do{var g=s;if(0==g){h.shearX=h.data.shearX+o*l,h.shearY=h.data.shearY+c*l;break}if(1==g){h.shearX+=(h.data.shearX+o-h.shearX)*l,h.shearY+=(h.data.shearY+c-h.shearY)*l;break}if(2==g){h.shearX+=(h.data.shearX+o-h.shearX)*l,h.shearY+=(h.data.shearY+c-h.shearY)*l;break}}while(3==g&&(h.shearX+=o*l,h.shearY+=c*l),0)}},__class__:Ke}),(E["spine.ShearXTimeline"]=Le).__name__="spine.ShearXTimeline",Le.__interfaces__=[ye],Le.__super__=Be,Le.prototype=$extend(Be.prototype,{boneIndex:null,getBoneIndex:function(){return this.boneIndex},apply:function(e,n,t,i,l,s,r){var h=e.bones[this.boneIndex];if(h.active){if(t<this.frames[0])return 0==(e=s)?void(h.shearX=h.data.shearX):void(1==e&&(h.shearX+=(h.data.shearX-h.shearX)*l));var a=this.getCurveValue(t);do{var o=s;if(0==o){h.shearX=h.data.shearX+a*l;break}if(1==o){h.shearX+=(h.data.shearX+a-h.shearX)*l;break}if(2==o){h.shearX+=(h.data.shearX+a-h.shearX)*l;break}}while(3==o&&(h.shearX+=a*l),0)}},__class__:Le}),(E["spine.ShearYTimeline"]=Me).__name__="spine.ShearYTimeline",Me.__interfaces__=[ye],Me.__super__=Be,Me.prototype=$extend(Be.prototype,{boneIndex:null,getBoneIndex:function(){return this.boneIndex},apply:function(e,n,t,i,l,s,r){var h=e.bones[this.boneIndex];if(h.active){if(t<this.frames[0])return 0==(e=s)?void(h.shearY=h.data.shearY):void(1==e&&(h.shearY+=(h.data.shearY-h.shearY)*l));var a=this.getCurveValue(t);do{var o=s;if(0==o){h.shearY=h.data.shearY+a*l;break}if(1==o){h.shearY+=(h.data.shearY+a-h.shearY)*l;break}if(2==o){h.shearY+=(h.data.shearY+a-h.shearY)*l;break}}while(3==o&&(h.shearY+=a*l),0)}},__class__:Me}),(E["spine.RGBATimeline"]=Ne).__name__="spine.RGBATimeline",Ne.__interfaces__=[ze],Ne.__super__=Ae,Ne.prototype=$extend(Ae.prototype,{slotIndex:null,getFrameEntries:function(){return 5},getSlotIndex:function(){return this.slotIndex},setFrame:function(e,n,t,i,l,s){this.frames[e*=5]=n,this.frames[e+1]=t,this.frames[e+2]=i,this.frames[e+3]=l,this.frames[e+4]=s},apply:function(e,n,t,i,l,s,r){e=e.slots[this.slotIndex];if(e.bone.active){var h,a=this.frames,o=e.color;if(t<a[0])return h=e.data.color,0==(c=s)?(o.r=h.r,o.g=h.g,o.b=h.b,void(o.a=h.a)):void(1==c&&(o.r+=(h.r-o.r)*l,o.g+=(h.g-o.g)*l,o.b+=(h.b-o.b)*l,o.a+=(h.a-o.a)*l));var c,u=0,_=0,d=0,b=0,g=xe.searchWithStep(a,t,5),O=0|this.curves[g/5|0];do{var f=O;if(0==f){var p=a[g],u=a[g+1],_=a[g+2],d=a[g+3],b=a[g+4],p=(t-p)/(a[g+5]-p);u+=(a[g+5+1]-u)*p,_+=(a[g+5+2]-_)*p,d+=(a[g+5+3]-d)*p,b+=(a[g+5+4]-b)*p;break}if(1==f){u=a[g+1],_=a[g+2],d=a[g+3],b=a[g+4];break}}while(u=this.getBezierValue(t,g,1,O-2|0),_=this.getBezierValue(t,g,2,18+O-2),d=this.getBezierValue(t,g,3,36+O-2),b=this.getBezierValue(t,g,4,54+O-2),0);1==l?(o.r=u,o.g=_,o.b=d,o.a=b):(0==s&&(c=e.data.color,o.r=c.r,o.g=c.g,o.b=c.b,o.a=c.a),o.r+=(u-o.r)*l,o.g+=(_-o.g)*l,o.b+=(d-o.b)*l,o.a+=(b-o.a)*l)}},__class__:Ne}),(E["spine.RGBTimeline"]=Oe).__name__="spine.RGBTimeline",Oe.__interfaces__=[ze],Oe.__super__=Ae,Oe.prototype=$extend(Ae.prototype,{slotIndex:null,getFrameEntries:function(){return 4},getSlotIndex:function(){return this.slotIndex},setFrame:function(e,n,t,i,l){this.frames[e<<=2]=n,this.frames[e+1]=t,this.frames[e+2]=i,this.frames[e+3]=l},apply:function(e,n,t,i,l,s,r){e=e.slots[this.slotIndex];if(e.bone.active){var h,a=this.frames,o=e.color;if(t<a[0])return c=e.data.color,0==(h=s)?(o.r=c.r,o.g=c.g,void(o.b=c.b)):void(1==h&&(o.r+=(c.r-o.r)*l,o.g+=(c.g-o.g)*l,o.b+=(c.b-o.b)*l));var c,u=0,_=0,d=0,b=xe.searchWithStep(a,t,4),g=0|this.curves[b>>2];do{var O=g;if(0==O){var f=a[b],u=a[b+1],_=a[b+2],d=a[b+3],f=(t-f)/(a[b+4]-f);u+=(a[b+4+1]-u)*f,_+=(a[b+4+2]-_)*f,d+=(a[b+4+3]-d)*f;break}if(1==O){u=a[b+1],_=a[b+2],d=a[b+3];break}}while(u=this.getBezierValue(t,b,1,g-2),_=this.getBezierValue(t,b,2,18+g-2),d=this.getBezierValue(t,b,3,36+g-2),0);1==l?(o.r=u,o.g=_,o.b=d):(0==s&&(c=e.data.color,o.r=c.r,o.g=c.g,o.b=c.b),o.r+=(u-o.r)*l,o.g+=(_-o.g)*l,o.b+=(d-o.b)*l)}},__class__:Oe}),(E["spine.AlphaTimeline"]=Pe).__name__="spine.AlphaTimeline",Pe.__interfaces__=[ze],Pe.__super__=Be,Pe.prototype=$extend(Be.prototype,{slotIndex:null,getSlotIndex:function(){return this.slotIndex},apply:function(e,n,t,i,l,s,r){var h,a,o,e=e.slots[this.slotIndex];if(e.bone.active)return a=this.frames,h=e.color,t<a[0]?(a=e.data.color,0==(o=s)?void(h.a=a.a):void(1==o&&(h.a+=(a.a-h.a)*l))):(o=this.getCurveValue(t),void(1==l?h.a=o:(0==s&&(h.a=e.data.color.a),h.a+=(o-h.a)*l)))},__class__:Pe}),(E["spine.RGBA2Timeline"]=Qe).__name__="spine.RGBA2Timeline",Qe.__interfaces__=[ze],Qe.__super__=Ae,Qe.prototype=$extend(Ae.prototype,{slotIndex:null,getFrameEntries:function(){return 8},getSlotIndex:function(){return this.slotIndex},setFrame:function(e,n,t,i,l,s,r,h,a){this.frames[e<<=3]=n,this.frames[e+1]=t,this.frames[e+2]=i,this.frames[e+3]=l,this.frames[e+4]=s,this.frames[e+5]=r,this.frames[e+6]=h,this.frames[e+7]=a},apply:function(e,n,t,i,l,s,r){e=e.slots[this.slotIndex];if(e.bone.active){var h,a=this.frames,o=e.color,c=e.darkColor;if(t<a[0])return h=e.data.color,_=e.data.darkColor,0==(u=s)?(o.r=h.r,o.g=h.g,o.b=h.b,o.a=h.a,c.r=_.r,c.g=_.g,void(c.b=_.b)):void(1==u&&(o.r+=(h.r-o.r)*l,o.g+=(h.g-o.g)*l,o.b+=(h.b-o.b)*l,o.a+=(h.a-o.a)*l,c.r+=(_.r-c.r)*l,c.g+=(_.g-c.g)*l,c.b+=(_.b-c.b)*l));var u,_,d=0,b=0,g=0,O=0,f=0,p=0,C=0,v=xe.searchWithStep(a,t,8),m=0|this.curves[v>>3];do{var w=m;if(0==w){var y=a[v],d=a[v+1],b=a[v+2],g=a[v+3],O=a[v+4],f=a[v+5],p=a[v+6],C=a[v+7],y=(t-y)/(a[v+8]-y);d+=(a[v+8+1]-d)*y,b+=(a[v+8+2]-b)*y,g+=(a[v+8+3]-g)*y,O+=(a[v+8+4]-O)*y,f+=(a[v+8+5]-f)*y,p+=(a[v+8+6]-p)*y,C+=(a[v+8+7]-C)*y;break}if(1==w){d=a[v+1],b=a[v+2],g=a[v+3],O=a[v+4],f=a[v+5],p=a[v+6],C=a[v+7];break}}while(d=this.getBezierValue(t,v,1,m-2),b=this.getBezierValue(t,v,2,18+m-2),g=this.getBezierValue(t,v,3,36+m-2),O=this.getBezierValue(t,v,4,54+m-2),f=this.getBezierValue(t,v,5,72+m-2),p=this.getBezierValue(t,v,6,90+m-2),C=this.getBezierValue(t,v,7,108+m-2),0);1==l?(o.r=d,o.g=b,o.b=g,o.a=O,c.r=f,c.g=p,c.b=C):(0==s&&(u=e.data.color,o.r=u.r,o.g=u.g,o.b=u.b,o.a=u.a,_=e.data.darkColor,c.r=_.r,c.g=_.g,c.b=_.b),o.r+=(d-o.r)*l,o.g+=(b-o.g)*l,o.b+=(g-o.b)*l,o.a+=(O-o.a)*l,c.r+=(f-c.r)*l,c.g+=(p-c.g)*l,c.b+=(C-c.b)*l)}},__class__:Qe}),(E["spine.RGB2Timeline"]=Re).__name__="spine.RGB2Timeline",Re.__interfaces__=[ze],Re.__super__=Ae,Re.prototype=$extend(Ae.prototype,{slotIndex:null,getFrameEntries:function(){return 7},getSlotIndex:function(){return this.slotIndex},setFrame:function(e,n,t,i,l,s,r,h){this.frames[e*=7]=n,this.frames[e+1]=t,this.frames[e+2]=i,this.frames[e+3]=l,this.frames[e+4]=s,this.frames[e+5]=r,this.frames[e+6]=h},apply:function(e,n,t,i,l,s,r){e=e.slots[this.slotIndex];if(e.bone.active){var h,a=this.frames,o=e.color,c=e.darkColor;if(t<a[0])return u=e.data.color,_=e.data.darkColor,0==(h=s)?(o.r=u.r,o.g=u.g,o.b=u.b,c.r=_.r,c.g=_.g,void(c.b=_.b)):void(1==h&&(o.r+=(u.r-o.r)*l,o.g+=(u.g-o.g)*l,o.b+=(u.b-o.b)*l,c.r+=(_.r-c.r)*l,c.g+=(_.g-c.g)*l,c.b+=(_.b-c.b)*l));var u,_,d=0,b=0,g=0,O=0,f=0,p=0,C=xe.searchWithStep(a,t,7),v=0|this.curves[C/7|0];do{var m=v;if(0==m){var w=a[C],d=a[C+1],b=a[C+2],g=a[C+3],O=a[C+4],f=a[C+5],p=a[C+6],w=(t-w)/(a[C+7]-w);d+=(a[C+7+1]-d)*w,b+=(a[C+7+2]-b)*w,g+=(a[C+7+3]-g)*w,O+=(a[C+7+4]-O)*w,f+=(a[C+7+5]-f)*w,p+=(a[C+7+6]-p)*w;break}if(1==m){d=a[C+1],b=a[C+2],g=a[C+3],O=a[C+4],f=a[C+5],p=a[C+6];break}}while(d=this.getBezierValue(t,C,1,v-2|0),b=this.getBezierValue(t,C,2,18+v-2),g=this.getBezierValue(t,C,3,36+v-2),O=this.getBezierValue(t,C,4,54+v-2),f=this.getBezierValue(t,C,5,72+v-2),p=this.getBezierValue(t,C,6,90+v-2),0);1==l?(o.r=d,o.g=b,o.b=g,c.r=O,c.g=f,c.b=p):(0==s&&(u=e.data.color,_=e.data.darkColor,o.r=u.r,o.g=u.g,o.b=u.b,c.r=_.r,c.g=_.g,c.b=_.b),o.r+=(d-o.r)*l,o.g+=(b-o.g)*l,o.b+=(g-o.b)*l,c.r+=(O-c.r)*l,c.g+=(f-c.g)*l,c.b+=(p-c.b)*l)}},__class__:Re}),(E["spine.AttachmentTimeline"]=Se).__name__="spine.AttachmentTimeline",Se.__interfaces__=[ze],Se.__super__=xe,Se.prototype=$extend(xe.prototype,{slotIndex:null,attachmentNames:null,getFrameCount:function(){return this.frames.length},getSlotIndex:function(){return this.slotIndex},getAttachmentNames:function(){return this.attachmentNames},setFrame:function(e,n,t){this.frames[e]=n,this.attachmentNames[e]=t},apply:function(e,n,t,i,l,s,r){var h=e.slots[this.slotIndex];h.bone.active&&(1==r?0==s&&this.setAttachment(e,h,h.data.attachmentName):t<this.frames[0]?0!=s&&1!=s||this.setAttachment(e,h,h.data.attachmentName):this.setAttachment(e,h,this.attachmentNames[xe.search(this.frames,t)]))},setAttachment:function(e,n,t){n.setAttachment(null==t?null:e.getAttachment(this.slotIndex,t))},__class__:Se}),(E["spine.DeformTimeline"]=Te).__name__="spine.DeformTimeline",Te.__interfaces__=[ze],Te.__super__=Ae,Te.prototype=$extend(Ae.prototype,{slotIndex:null,attachment:null,vertices:null,getFrameCount:function(){return this.frames.length},getSlotIndex:function(){return this.slotIndex},getAttachment:function(){return this.attachment},getVertices:function(){return this.vertices},setFrame:function(e,n,t){this.frames[e]=n,this.vertices[e]=t},setBezier:function(e,n,t,i,l,s,r,h,a,o,c){for(var u=this.curves,_=this.getFrameCount()+18*e,e=(0==t&&(u[n]=2+_),.03*(i-2*s+h)),t=.03*a-.06*r,d=.006*(3*(s-h)-i+o),b=.018*(r-a+.33333333),g=2*e+d,O=2*t+b,f=.3*(s-i)+e+.16666667*d,p=.3*r+t+.16666667*b,C=i+f,v=p,m=_+18;_<m;)u[_]=C,u[_+1]=v,f+=g,p+=O,g+=d,O+=b,C+=f,v+=p,_+=2},getCurvePercent:function(e,n){var t=this.curves,i=0|t[n],l=i;if(0==l)return(e-(h=this.frames[n]))/(this.frames[n+this.getFrameEntries()]-h);if(1==l)return 0;if(t[i-=2]>e)return h=this.frames[n],t[i+1]*(e-h)/(t[i]-h);var s=i+18;for(i+=2;i<s;){if(t[i]>=e)return h=t[i-2],(r=t[i-1])+(e-h)/(t[i]-h)*(t[i+1]-r);i+=2}var r,h=t[s-2];return(r=t[s-1])+(1-r)*(e-h)/(this.frames[n+this.getFrameEntries()]-h)},apply:function(e,n,t,M,i,l,E){e=e.slots[this.slotIndex];if(e.bone.active){var s=e.attachment;if(!(!(s instanceof Xs)||s.getDeformAttachment()!=this.attachment)){var r=e.getDeform(),e=(0==r.length&&(l=0),this.vertices),h=e[0].length,a=this.frames;if(t<a[0]){var o,c=s,u=l;if(0==u)r.splice(0,r.length);else if(1==u){if(1==i)return void r.splice(0,r.length);if(h<(o=r.length))r.splice(h,h-o);else if(o<h)for(;o<h;)r.push(0),++o;var _=r;if(null==c.getBones())for(var d=c.getVertices(),b=0;b<h;)_[b]+=(d[b]-_[b])*i,++b;else{i=1-i;for(var g=0;g<h;)_[g]*=i,++g}}}else{if(h<(o=r.length))r.splice(h,h-o);else if(o<h)for(;o<h;)r.push(0),++o;_=r;if(t>=a[a.length-1]){var O=e[a.length-1];if(1==i)if(3==l)if(null==(c=s).getBones())for(d=c.getVertices(),b=0;b<h;)_[b]+=O[b]-d[b],++b;else for(b=0;b<h;)_[b]+=O[b],++b;else ur.copy(O,0,_,0,h);else do{var f=l;if(0==f){if(null==(c=s).getBones())for(d=c.getVertices(),b=0;b<h;){var p=d[b];_[b]=p+(O[b]-p)*i,++b}else for(g=0;g<h;)_[g]=O[g]*i,++g;break}if(1==f){for(var C=0;C<h;)_[C]+=(O[C]-_[C])*i,++C;break}if(2==f){for(var v=0;v<h;)_[v]+=(O[v]-_[v])*i,++v;break}if(3==f)if(null==(S=s).getBones())for(var m=S.getVertices(),w=0;w<h;)_[w]+=(O[w]-m[w])*i,++w;else for(var y=0;y<h;)_[y]+=O[y]*i,++y}while(0)}else{var u=xe.search(a,t),U=this.getCurvePercent(t,u),D=e[u],T=e[u+1];if(1==i)if(3==l)if(null==(c=s).getBones())for(d=c.getVertices(),b=0;b<h;){var x=D[b];_[b]+=x+(T[b]-x)*U-d[b],++b}else for(b=0;b<h;){x=D[b];_[b]+=x+(T[b]-x)*U,++b}else for(b=0;b<h;){x=D[b];_[b]=x+(T[b]-x)*U,++b}else do{var S,A=l;if(0==A){if(null==(c=s).getBones())for(d=c.getVertices(),b=0;b<h;){x=D[b],p=d[b];_[b]=p+(x+(T[b]-x)*U-p)*i,++b}else for(g=0;g<h;){var k=D[g];_[g]=(k+(T[g]-k)*U)*i,++g}break}if(1==A){for(C=0;C<h;){var I=D[C];_[C]+=(I+(T[C]-I)*U-_[C])*i,++C}break}if(2==A){for(v=0;v<h;){var P=D[v];_[v]+=(P+(T[v]-P)*U-_[v])*i,++v}break}if(3==A)if(null==(S=s).getBones())for(m=S.getVertices(),w=0;w<h;){var F=D[w];_[w]+=(F+(T[w]-F)*U-m[w])*i,++w}else for(y=0;y<h;){var B=D[y];_[y]+=(B+(T[y]-B)*U)*i,++y}}while(0)}}}}},__class__:Te}),(E["spine.EventTimeline"]=Ue).__name__="spine.EventTimeline",Ue.__super__=xe,Ue.prototype=$extend(xe.prototype,{events:null,getFrameCount:function(){return this.frames.length},getEvents:function(){return this.events},setFrame:function(e,n){this.frames[e]=n.time,this.events[e]=n},apply:function(e,n,t,i,l,s,r){if(null!=i){var h=this.frames,a=h.length;if(t<n)this.apply(e,n,999999999,i,l,s,r),n=-1;else if(n>=h[a-1])return;if(!(t<h[0])){var o=0;if(n<h[0])o=0;else for(var c=h[o=xe.search(h,n)+1];0<o&&h[o-1]==c;)--o;for(;o<a&&t>=h[o];)i.push(this.events[o]),++o}}},__class__:Ue}),(E["spine.DrawOrderTimeline"]=Ve).__name__="spine.DrawOrderTimeline",Ve.__super__=xe,Ve.prototype=$extend(xe.prototype,{drawOrders:null,getFrameCount:function(){return this.frames.length},getDrawOrders:function(){return this.drawOrders},setFrame:function(e,n,t){this.frames[e]=n,this.drawOrders[e]=t},apply:function(e,n,t,i,l,s,r){if(1==r)0==s&&ur.copy(e.slots,0,e.drawOrder,0,e.slots.length);else if(t<this.frames[0])0!=s&&1!=s||ur.copy(e.slots,0,e.drawOrder,0,e.slots.length);else{var h=this.drawOrders[xe.search(this.frames,t)];if(null==h)ur.copy(e.slots,0,e.drawOrder,0,e.slots.length);else for(var a=e.slots,o=e.drawOrder,c=0,u=h.length;c<u;)o[c]=a[h[c]],++c}},__class__:Ve}),(E["spine.IkConstraintTimeline"]=We).__name__="spine.IkConstraintTimeline",We.__super__=Ae,We.prototype=$extend(Ae.prototype,{ikConstraintIndex:null,getFrameEntries:function(){return 6},getIkConstraintIndex:function(){return this.ikConstraintIndex},setFrame:function(e,n,t,i,l,s,r){this.frames[e*=6]=n,this.frames[e+1]=t,this.frames[e+2]=i,this.frames[e+3]=l,this.frames[e+4]=s?1:0,this.frames[e+5]=r?1:0},apply:function(e,n,t,i,l,s,r){e=e.ikConstraints[this.ikConstraintIndex];if(e.active){var h,a=this.frames;if(t<a[0])return 0==(h=s)?(e.mix=e.data.mix,e.softness=e.data.softness,e.bendDirection=e.data.bendDirection,e.compress=e.data.compress,void(e.stretch=e.data.stretch)):void(1==h&&(e.mix+=(e.data.mix-e.mix)*l,e.softness+=(e.data.softness-e.softness)*l,e.bendDirection=e.data.bendDirection,e.compress=e.data.compress,e.stretch=e.data.stretch));var o=0,c=0,u=xe.searchWithStep(a,t,6),_=0|this.curves[u/6|0];do{var d=_;if(0==d){var b=a[u],o=a[u+1],c=a[u+2],b=(t-b)/(a[u+6]-b);o+=(a[u+6+1]-o)*b,c+=(a[u+6+2]-c)*b;break}if(1==d){o=a[u+1],c=a[u+2];break}}while(o=this.getBezierValue(t,u,1,_-2|0),c=this.getBezierValue(t,u,2,18+_-2),0);0==s?(e.mix=e.data.mix+(o-e.data.mix)*l,e.softness=e.data.softness+(c-e.data.softness)*l,1==r?(e.bendDirection=e.data.bendDirection,e.compress=e.data.compress,e.stretch=e.data.stretch):(e.bendDirection=0|a[u+3],e.compress=0!=a[u+4],e.stretch=0!=a[u+5])):(e.mix+=(o-e.mix)*l,e.softness+=(c-e.softness)*l,0==r&&(e.bendDirection=0|a[u+3],e.compress=0!=a[u+4],e.stretch=0!=a[u+5]))}},__class__:We}),(E["spine.TransformConstraintTimeline"]=Xe).__name__="spine.TransformConstraintTimeline",Xe.__super__=Ae,Xe.prototype=$extend(Ae.prototype,{transformConstraintIndex:null,getFrameEntries:function(){return 7},getTransformConstraintIndex:function(){return this.transformConstraintIndex},setFrame:function(e,n,t,i,l,s,r,h){this.frames[e*=7]=n,this.frames[e+1]=t,this.frames[e+2]=i,this.frames[e+3]=l,this.frames[e+4]=s,this.frames[e+5]=r,this.frames[e+6]=h},apply:function(e,n,t,i,l,s,r){e=e.transformConstraints[this.transformConstraintIndex];if(e.active){var h,a=this.frames;if(t<a[0])return o=e.data,0==(h=s)?(e.mixRotate=o.mixRotate,e.mixX=o.mixX,e.mixY=o.mixY,e.mixScaleX=o.mixScaleX,e.mixScaleY=o.mixScaleY,void(e.mixShearY=o.mixShearY)):void(1==h&&(e.mixRotate+=(o.mixRotate-e.mixRotate)*l,e.mixX+=(o.mixX-e.mixX)*l,e.mixY+=(o.mixY-e.mixY)*l,e.mixScaleX+=(o.mixScaleX-e.mixScaleX)*l,e.mixScaleY+=(o.mixScaleY-e.mixScaleY)*l,e.mixShearY+=(o.mixShearY-e.mixShearY)*l));var o,c=0,u=0,_=0,d=0,b=0,g=0,O=xe.searchWithStep(a,t,7),f=0|this.curves[O/7|0];do{var p=f;if(0==p){var C=a[O],c=a[O+1],u=a[O+2],_=a[O+3],d=a[O+4],b=a[O+5],g=a[O+6],C=(t-C)/(a[O+7]-C);c+=(a[O+7+1]-c)*C,u+=(a[O+7+2]-u)*C,_+=(a[O+7+3]-_)*C,d+=(a[O+7+4]-d)*C,b+=(a[O+7+5]-b)*C,g+=(a[O+7+6]-g)*C;break}if(1==p){c=a[O+1],u=a[O+2],_=a[O+3],d=a[O+4],b=a[O+5],g=a[O+6];break}}while(c=this.getBezierValue(t,O,1,f-2|0),u=this.getBezierValue(t,O,2,18+f-2),_=this.getBezierValue(t,O,3,36+f-2),d=this.getBezierValue(t,O,4,54+f-2),b=this.getBezierValue(t,O,5,72+f-2),g=this.getBezierValue(t,O,6,90+f-2),0);0==s?(o=e.data,e.mixRotate=o.mixRotate+(c-o.mixRotate)*l,e.mixX=o.mixX+(u-o.mixX)*l,e.mixY=o.mixY+(_-o.mixY)*l,e.mixScaleX=o.mixScaleX+(d-o.mixScaleX)*l,e.mixScaleY=o.mixScaleY+(b-o.mixScaleY)*l,e.mixShearY=o.mixShearY+(g-o.mixShearY)*l):(e.mixRotate+=(c-e.mixRotate)*l,e.mixX+=(u-e.mixX)*l,e.mixY+=(_-e.mixY)*l,e.mixScaleX+=(d-e.mixScaleX)*l,e.mixScaleY+=(b-e.mixScaleY)*l,e.mixShearY+=(g-e.mixShearY)*l)}},__class__:Xe}),(E["spine.PathConstraintPositionTimeline"]=Ye).__name__="spine.PathConstraintPositionTimeline",Ye.__super__=Be,Ye.prototype=$extend(Be.prototype,{pathConstraintIndex:null,getPathConstraintIndex:function(){return this.pathConstraintIndex},apply:function(e,n,t,i,l,s,r){var h,e=e.pathConstraints[this.pathConstraintIndex];if(e.active)return t<this.frames[0]?0==(h=s)?void(e.position=e.data.position):void(1==h&&(e.position+=(e.data.position-e.position)*l)):(h=this.getCurveValue(t),void(0==s?e.position=e.data.position+(h-e.data.position)*l:e.position+=(h-e.position)*l))},__class__:Ye}),(E["spine.PathConstraintSpacingTimeline"]=Ze).__name__="spine.PathConstraintSpacingTimeline",Ze.__super__=Be,Ze.prototype=$extend(Be.prototype,{pathConstraintIndex:null,getPathConstraintIndex:function(){return this.pathConstraintIndex},apply:function(e,n,t,i,l,s,r){var h,e=e.pathConstraints[this.pathConstraintIndex];if(e.active)return t<this.frames[0]?0==(h=s)?void(e.spacing=e.data.spacing):void(1==h&&(e.spacing+=(e.data.spacing-e.spacing)*l)):(h=this.getCurveValue(t),void(0==s?e.spacing=e.data.spacing+(h-e.data.spacing)*l:e.spacing+=(h-e.spacing)*l))},__class__:Ze}),(E["spine.PathConstraintMixTimeline"]=$e).__name__="spine.PathConstraintMixTimeline",$e.__super__=Ae,$e.prototype=$extend(Ae.prototype,{pathConstraintIndex:null,getFrameEntries:function(){return 4},getPathConstraintIndex:function(){return this.pathConstraintIndex},setFrame:function(e,n,t,i,l){this.frames[e<<=2]=n,this.frames[e+1]=t,this.frames[e+2]=i,this.frames[e+3]=l},apply:function(e,n,t,i,l,s,r){e=e.pathConstraints[this.pathConstraintIndex];if(e.active){var h,a=this.frames;if(t<a[0])return o=e.data,0==(h=s)?(e.mixRotate=o.mixRotate,e.mixX=o.mixX,void(e.mixY=o.mixY)):void(1==h&&(e.mixRotate+=(o.mixRotate-e.mixRotate)*l,e.mixX+=(o.mixX-e.mixX)*l,e.mixY+=(o.mixY-e.mixY)*l));var o,c=0,u=0,_=0,d=xe.searchWithStep(a,t,4),b=0|this.curves[d>>2];do{var g=b;if(0==g){var O=a[d],c=a[d+1],u=a[d+2],_=a[d+3],O=(t-O)/(a[d+4]-O);c+=(a[d+4+1]-c)*O,u+=(a[d+4+2]-u)*O,_+=(a[d+4+3]-_)*O;break}if(1==g){c=a[d+1],u=a[d+2],_=a[d+3];break}}while(c=this.getBezierValue(t,d,1,b-2),u=this.getBezierValue(t,d,2,18+b-2),_=this.getBezierValue(t,d,3,36+b-2),0);0==s?(o=e.data,e.mixRotate=o.mixRotate+(c-o.mixRotate)*l,e.mixX=o.mixX+(u-o.mixX)*l,e.mixY=o.mixY+(_-o.mixY)*l):(e.mixRotate+=(c-e.mixRotate)*l,e.mixX+=(u-e.mixX)*l,e.mixY+=(_-e.mixY)*l)}},__class__:$e}),(E["spine.MixBlend_enum"]=_e).__name__="spine.MixBlend_enum",_e.valueOf=function(e){switch(e){case"add":return 3;case"first":return 1;case"replace":return 2;default:return 0}},(E["spine.MixDirection_enum"]=a4).__name__="spine.MixDirection_enum",a4.valueOf=function(e){switch(e){case"directionIn":return 0;case"directionOut":return 1;default:return 0}},(E["spine.Property_enum"]=b4).__name__="spine.Property_enum",b4.valueOf=function(e){switch(e){case"alpha":return 8;case"attachment":return 10;case"deform":return 11;case"drawOrder":return 13;case"event":return 12;case"ikConstraint":return 14;case"pathConstraintMix":return 18;case"pathConstraintPosition":return 16;case"pathConstraintSpacing":return 17;case"rgb":return 7;case"rgb2":return 9;case"rotate":return 0;case"scaleX":return 3;case"scaleY":return 4;case"shearX":return 5;case"shearY":return 6;case"transformConstraint":return 15;case"x":return 1;case"y":return 2;default:return 0}},(E["spine.support.error.Error"]=c4).__name__="spine.support.error.Error",c4.prototype={errorID:null,message:null,name:null,getStackTrace:function(){return Nl.toString(Nl.exceptionStack())},toString:function(){return null!=this.message?this.message:"Error"},__class__:c4},function(e){c4.call(this,e=null==e?"":e),this.name="IllegalArgumentException"}),ks=((E["spine.support.error.IllegalArgumentException"]=ie).__name__="spine.support.error.IllegalArgumentException",ie.__super__=c4,ie.prototype=$extend(c4.prototype,{__class__:ie}),function(e){if(this.trackEntryPool=new Ps,this.unkeyedState=0,this.timeScale=1,this.animationsChanged=!1,this.propertyIds=[],this.queue=null,this.listeners=new pr,this.events=[],this.tracks=[],this.queue=new Is,this.queue.AnimationState_this=this,null==e)throw ct.thrown(new ie("data cannot be null."));this.data=e}),Is=((E["spine.AnimationState"]=ks).__name__="spine.AnimationState",ks.prototype={data:null,tracks:null,events:null,listeners:null,queue:null,propertyIds:null,animationsChanged:null,timeScale:null,unkeyedState:null,trackEntryPool:null,update:function(e){e*=this.timeScale;for(var n=this.tracks,t=0,i=this.tracks.length;t<i;){var l=n[t];if(null==l);else{l.animationLast=l.nextAnimationLast,l.trackLast=l.nextTrackLast;var s=e*l.timeScale;if(0<l.delay){if(l.delay-=s,0<l.delay){++t;continue}s=-l.delay,l.delay=0}var r=l.next;if(null!=r){var h=l.trackLast-r.delay;if(0<=h){for(r.delay=0,r.trackTime+=0==l.timeScale?0:(h/l.timeScale+e)*r.timeScale,l.trackTime+=s,this.setCurrent(t,r,!0);null!=r.mixingFrom;)r.mixTime+=e,r=r.mixingFrom;++t;continue}}else if(l.trackLast>=l.trackEnd&&null==l.mixingFrom){n[t]=null,this.queue.end(l),this.clearNext(l),++t;continue}if(null!=l.mixingFrom&&this.updateMixingFrom(l,e)){var a=l.mixingFrom;for((l.mixingFrom=null)!=a&&(a.mixingTo=null);null!=a;)this.queue.end(a),a=a.mixingFrom}l.trackTime+=s}++t}this.queue.drain()},updateMixingFrom:function(e,n){var t,i=e.mixingFrom;return null==i||(t=this.updateMixingFrom(i,n),i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast,0<e.mixTime&&e.mixTime>=e.mixDuration?(0!=i.totalAlpha&&0!=e.mixDuration||(e.mixingFrom=i.mixingFrom,null!=i.mixingFrom&&(i.mixingFrom.mixingTo=e),e.interruptAlpha=i.interruptAlpha,this.queue.end(i)),t):(i.trackTime+=n*i.timeScale,e.mixTime+=n,!1))},apply:function(e){if(null==e)throw ct.thrown(new ie("skeleton cannot be null."));this.animationsChanged&&this.handleAnimationsChanged();for(var n=this.events,t=!1,i=this.tracks,l=0,s=this.tracks.length;l<s;){var r=i[l];if(null==r||0<r.delay);else{var t=!0,h=0==l?1:r.mixBlend,a=r.alpha,o=(null!=r.mixingFrom?a*=this.applyMixingFrom(r,e,h):r.trackTime>=r.trackEnd&&null==r.next&&(a=0),r.animationLast),c=r.getAnimationTime(),u=c,_=n,d=(r.reverse&&(u=r.animation.duration-u,_=null),r.animation.timelines.length),b=r.animation.timelines;if(0==l&&1==a||3==h)for(var g=0;g<d;){var O=b[g];O instanceof Se?this.applyAttachmentTimeline(O,e,u,h,!0):O.apply(e,o,u,_,a,h,0),++g}else{var f=r.timelineMode,p=r.timelinesRotation.length!=d<<1;if(p){var C=r.timelinesRotation,v=d<<1,m=C.length;if(v<m)C.splice(v,v-m);else if(m<v)for(;m<v;)C.push(0),++m}for(var w=r.timelinesRotation,y=0;y<d;){var U=b[y],D=0==f[y]?h:0;U instanceof De?this.applyRotateTimeline(U,e,u,a,D,w,y<<1,p):U instanceof Se?this.applyAttachmentTimeline(U,e,u,h,!0):U.apply(e,o,u,_,a,D,0),++y}}this.queueEvents(r,c),n.splice(0,n.length),r.nextAnimationLast=c,r.nextTrackLast=r.trackTime}++l}for(var T=this.unkeyedState+1,x=e.slots,l=0,s=e.slots.length;l<s;){var S,A=x[l];A.attachmentState==T&&(S=A.data.attachmentName,A.setAttachment(null==S?null:e.getAttachment(A.data.index,S))),++l}return this.unkeyedState+=2,this.queue.drain(),t},applyMixingFrom:function(e,n,t){var i=e.mixingFrom,l=(null!=i.mixingFrom&&this.applyMixingFrom(i,n,t),0),s=(0==e.mixDuration?(l=1)==t&&(t=0):(1<(l=e.mixTime/e.mixDuration)&&(l=1),1!=t&&(t=i.mixBlend)),l<i.attachmentThreshold),r=l<i.drawOrderThreshold,h=i.animation.timelines.length,a=i.animation.timelines,o=i.alpha*e.interruptAlpha,c=o*(1-l),u=i.animationLast,_=i.getAnimationTime(),d=_,b=null;if(i.reverse?d=i.animation.duration-d:l<i.eventThreshold&&(b=this.events),3==t)for(var g=0;g<h;)a[g].apply(n,u,d,b,c,t,1),++g;else{var O=i.timelineMode,f=i.timelineHoldMix,p=i.timelinesRotation.length!=h<<1;if(p){var C,v=h<<1,m=(C=i.timelinesRotation).length;if(v<m)C.splice(v,v-m);else if(m<v)for(;m<v;)C.push(0),++m}for(var w=i.timelinesRotation,g=i.totalAlpha=0;g<h;){for(var y=a[g],U=1,D=0,T=0,x=!1;;){var S=O[g];if(0==S){if(!r&&y instanceof Ve){x=!0;break}D=t,T=c;break}if(1==S){D=0,T=c;break}if(2==S){D=t,T=o;break}if(3==S){D=0,T=o;break}D=0,S=f[g],T=o*Math.max(0,1-S.mixTime/S.mixDuration);break}x?++g:(i.totalAlpha+=T,y instanceof De?this.applyRotateTimeline(y,n,d,T,D,w,g<<1,p):y instanceof Se?this.applyAttachmentTimeline(y,n,d,D,s):y.apply(n,u,d,b,T,D,U=r&&y instanceof Ve&&0==D?0:U),++g)}}return 0<e.mixDuration&&this.queueEvents(i,_),(C=this.events).splice(0,C.length),i.nextAnimationLast=_,i.nextTrackLast=i.trackTime,l},applyAttachmentTimeline:function(e,n,t,i,l){var s=n.slots[e.slotIndex];s.bone.active&&(t<e.frames[0]?0!=i&&1!=i||this.setAttachment(n,s,s.data.attachmentName,l):this.setAttachment(n,s,e.attachmentNames[xe.search(e.frames,t)],l),s.attachmentState<=this.unkeyedState)&&(s.attachmentState=this.unkeyedState+1)},setAttachment:function(e,n,t,i){n.setAttachment(null==t?null:e.getAttachment(n.data.index,t)),i&&(n.attachmentState=this.unkeyedState+2)},applyRotateTimeline:function(e,n,t,i,l,s,r,h){if(h&&(s[r]=0),1==i)e.apply(n,0,t,null,1,l,0);else{n=n.bones[e.boneIndex];if(n.active){var a=0,o=0;if(t<e.frames[0]){var c=l;if(0==c)return void(n.rotation=n.data.rotation);if(1!=c)return;a=n.rotation,o=n.data.rotation}else a=(0==l?n.data:n).rotation,o=n.data.rotation+e.getCurveValue(t);c=0,l=o-a;0==(l-=360*(16384-(16384.499999999996-l/360|0)))?c=s[r]:(t=e=0,t=h?(e=0,l):(e=s[r],s[r+1]),o=0<=e,(0<t?1:t<0?-1:0)!=((h=0<l)?1:l<0?-1:0)&&Math.abs(t)<=90&&(180<Math.abs(e)&&(e+=360*(0<e?1:e<0?-1:0)),o=h),c=l+e-e%360,o!=h&&(c+=360*(0<e?1:e<0?-1:0)),s[r]=c),s[r+1]=l,n.rotation=a+c*i}}},queueEvents:function(e,n){for(var t=e.animationStart,i=e.animationEnd,l=i-t,s=e.trackLast%l,r=this.events,h=0,a=this.events.length;h<a&&!((o=r[h]).time<s);)o.time>i||this.queue.event(e,o),++h;var o;for((e.loop?0==l||s>e.trackTime%l:i<=n&&e.animationLast<i)&&this.queue.complete(e);h<a;)(o=r[h]).time<t?++h:(this.queue.event(e,o),++h)},clearTracks:function(){for(var e=this.queue.drainDisabled,n=(this.queue.drainDisabled=!0,0),t=this.tracks.length;n<t;)this.clearTrack(n),++n;var i=this.tracks;i.splice(0,i.length),this.queue.drainDisabled=e,this.queue.drain()},clearTrack:function(e){if(e<0)throw ct.thrown(new ie("trackIndex must be >= 0."));if(!(e>=this.tracks.length)){e=this.tracks[e];if(null!=e){this.queue.end(e),this.clearNext(e);for(var n=e;;){var t=n.mixingFrom;if(null==t)break;this.queue.end(t),n.mixingFrom=null,n.mixingTo=null,n=t}this.tracks[e.trackIndex]=null,this.queue.drain()}}},setCurrent:function(e,n,t){var i=this.expandToIndex(e);((this.tracks[e]=n).previous=null)!=i&&(t&&this.queue.interrupt(i),((n.mixingFrom=i).mixingTo=n).mixTime=0,null!=i.mixingFrom&&0<i.mixDuration&&(n.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),(e=i.timelinesRotation).splice(0,e.length)),this.queue.start(n)},setAnimationByName:function(e,n,t){var i=this.data.skeletonData.findAnimation(n);if(null==i)throw ct.thrown(new ie("Animation not found: "+n));return this.setAnimation(e,i,t)},setAnimation:function(e,n,t){if(e<0)throw ct.thrown(new ie("trackIndex must be >= 0."));if(null==n)throw ct.thrown(new ie("animation cannot be null."));var i=!0,l=this.expandToIndex(e),n=(null!=l&&(-1==l.nextTrackLast?(this.tracks[e]=l.mixingFrom,this.queue.interrupt(l),this.queue.end(l),this.clearNext(l),l=l.mixingFrom,i=!1):this.clearNext(l)),this.trackEntry(e,n,t,l));return this.setCurrent(e,n,i),this.queue.drain(),n},addAnimationByName:function(e,n,t,i){var l=this.data.skeletonData.findAnimation(n);if(null==l)throw ct.thrown(new ie("Animation not found: "+n));return this.addAnimation(e,l,t,i)},addAnimation:function(e,n,t,i){if(e<0)throw ct.thrown(new ie("trackIndex must be >= 0."));if(null==n)throw ct.thrown(new ie("animation cannot be null."));var l=this.expandToIndex(e);if(null!=l)for(;null!=l.next;)l=l.next;n=this.trackEntry(e,n,t,l);return null==l?(this.setCurrent(e,n,!0),this.queue.drain()):((l.next=n).previous=l,i<=0&&(i+=l.getTrackComplete()-n.mixDuration)),n.delay=i,n},setEmptyAnimation:function(e,n){e=this.setAnimation(e,ks.emptyAnimation,!1);return e.mixDuration=n,e.trackEnd=n,e},addEmptyAnimation:function(e,n,t){e=this.addAnimation(e,ks.emptyAnimation,!1,t);return t<=0&&(e.delay+=e.mixDuration-n),e.mixDuration=n,e.trackEnd=n,e},setEmptyAnimations:function(e){for(var n=this.queue.drainDisabled,t=(this.queue.drainDisabled=!0,this.tracks),i=0,l=this.tracks.length;i<l;){var s=t[i];null!=s&&this.setEmptyAnimation(s.trackIndex,e),++i}this.queue.drainDisabled=n,this.queue.drain()},expandToIndex:function(e){var n,t;return e<this.tracks.length?this.tracks[e]:((e=e+1)<(t=(n=this.tracks).length)?n.splice(e,e-t):t<e&&(n[e-1]=null),null)},trackEntry:function(e,n,t,i){var l=this.trackEntryPool.obtain();return l.trackIndex=e,l.animation=n,l.loop=t,l.holdPrevious=!1,l.eventThreshold=0,l.attachmentThreshold=0,l.drawOrderThreshold=0,l.animationStart=0,l.animationEnd=n.getDuration(),l.animationLast=-1,l.nextAnimationLast=-1,l.delay=0,l.trackTime=0,l.trackLast=-1,l.nextTrackLast=-1,l.trackEnd=999999999,l.timeScale=1,l.alpha=1,l.interruptAlpha=1,l.mixTime=0,l.mixDuration=null==i?0:this.data.getMix(i.animation,n),l.mixBlend=2,l},clearNext:function(e){for(var n=e.next;null!=n;)this.queue.dispose(n),n=n.next;e.next=null},handleAnimationsChanged:function(){this.animationsChanged=!1;for(var e=this.propertyIds,n=(e.splice(0,e.length),this.tracks.length),t=this.tracks,i=0;i<n;){var l=t[i];if(null==l);else{for(;null!=l.mixingFrom;)l=l.mixingFrom;for(;null!=l.mixingTo&&3==l.mixBlend||this.computeHold(l),null!=(l=l.mixingTo););}++i}},computeHold:function(e){var n=e.mixingTo,t=e.animation.timelines,i=e.animation.timelines.length,l=(r=e.timelineMode).length;if(i<l)r.splice(i,i-l);else if(l<i)for(;l<i;)r.push(0),++l;var s=r;(r=e.timelineHoldMix).splice(0,r.length);i<(l=(r=e.timelineHoldMix).length)?r.splice(i,i-l):l<i&&(r[i-1]=null);var r,h=r,a=this.propertyIds;if(null!=n&&n.holdPrevious)for(var o=0;o<i;){var c=t[o];s[o]=Or.addAll(a,c.getPropertyIds())?3:2,++o}else for(;;){for(var u=0,o=0;o<i;){var _=c=t[o],d=_.getPropertyIds();if(Or.addAll(a,d))if(null==n||_ instanceof Se||_ instanceof Ve||_ instanceof Ue||!n.animation.hasTimeline(d))s[o]=1;else{for(var b=n.mixingTo;null!=b;){if(!b.animation.hasTimeline(d)){if(0<b.mixDuration){s[o]=4,b=(h[o]=b).mixingTo,u=2;break}break}b=b.mixingTo}if(2==u){u=0,++o;continue}if(1<=u)break;s[o]=3}else s[o]=0;++o}if(0==u)break}},getCurrent:function(e){if(e<0)throw ct.thrown(new ie("trackIndex must be >= 0."));return e>=this.tracks.length?null:this.tracks[e]},addListener:function(e){if(null==e)throw ct.thrown(new ie("listener cannot be null."));this.listeners.array.push(e)},removeListener:function(e){var n=this.listeners.array,e=n.indexOf(e);-1!=e&&n.splice(e,1)},clearListeners:function(){var e=this.listeners.array;e.splice(0,e.length)},clearListenerNotifications:function(){this.queue.clear()},getTimeScale:function(){return this.timeScale},setTimeScale:function(e){this.timeScale=e},getData:function(){return this.data},setData:function(e){if(null==e)throw ct.thrown(new ie("data cannot be null."));this.data=e},getTracks:function(){return this.tracks},toString:function(){for(var e="",n=this.tracks,t=0,i=this.tracks.length;t<i;){var l=n[t];null==l?++t:(0<e.length&&(e+=", "),e+=ot.string(l.toString()),++t)}return 0==e.length?"<none>":e},__class__:ks},(E["spine.support.utils.Poolable"]=f4).__name__="spine.support.utils.Poolable",f4.__isInterface__=!0,f4.prototype={reset:null,__class__:f4},(E["spine.TrackEntry"]=g4).__name__="spine.TrackEntry",g4.__interfaces__=[f4],g4.prototype={animation:null,previous:null,next:null,mixingFrom:null,mixingTo:null,listener:null,trackIndex:null,loop:null,holdPrevious:null,reverse:null,eventThreshold:null,attachmentThreshold:null,drawOrderThreshold:null,animationStart:null,animationEnd:null,animationLast:null,nextAnimationLast:null,delay:null,trackTime:null,trackLast:null,nextTrackLast:null,trackEnd:null,timeScale:null,alpha:null,mixTime:null,mixDuration:null,interruptAlpha:null,totalAlpha:null,mixBlend:null,timelineMode:null,timelineHoldMix:null,timelinesRotation:null,reset:function(){this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null;var e=this.timelineMode;e.splice(0,e.length),(e=this.timelineHoldMix).splice(0,e.length),(e=this.timelinesRotation).splice(0,e.length)},getTrackIndex:function(){return this.trackIndex},getAnimation:function(){return this.animation},setAnimation:function(e){if(null==e)throw ct.thrown(new ie("animation cannot be null."));this.animation=e},getLoop:function(){return this.loop},setLoop:function(e){this.loop=e},getDelay:function(){return this.delay},setDelay:function(e){this.delay=e},getTrackTime:function(){return this.trackTime},setTrackTime:function(e){this.trackTime=e},getTrackEnd:function(){return this.trackEnd},setTrackEnd:function(e){this.trackEnd=e},getTrackComplete:function(){var e=this.animationEnd-this.animationStart;if(0!=e){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime},getAnimationStart:function(){return this.animationStart},setAnimationStart:function(e){this.animationStart=e},getAnimationEnd:function(){return this.animationEnd},setAnimationEnd:function(e){this.animationEnd=e},getAnimationLast:function(){return this.animationLast},setAnimationLast:function(e){this.animationLast=e,this.nextAnimationLast=e},getAnimationTime:function(){var e;return this.loop?0==(e=this.animationEnd-this.animationStart)?this.animationStart:this.trackTime%e+this.animationStart:Math.min(this.trackTime+this.animationStart,this.animationEnd)},getTimeScale:function(){return this.timeScale},setTimeScale:function(e){this.timeScale=e},getListener:function(){return this.listener},setListener:function(e){this.listener=e},getAlpha:function(){return this.alpha},setAlpha:function(e){this.alpha=e},getEventThreshold:function(){return this.eventThreshold},setEventThreshold:function(e){this.eventThreshold=e},getAttachmentThreshold:function(){return this.attachmentThreshold},setAttachmentThreshold:function(e){this.attachmentThreshold=e},getDrawOrderThreshold:function(){return this.drawOrderThreshold},setDrawOrderThreshold:function(e){this.drawOrderThreshold=e},getNext:function(){return this.next},getPrevious:function(){return this.previous},isComplete:function(){return this.trackTime>=this.animationEnd-this.animationStart},getMixTime:function(){return this.mixTime},setMixTime:function(e){this.mixTime=e},getMixDuration:function(){return this.mixDuration},setMixDuration:function(e){this.mixDuration=e},getMixBlend:function(){return this.mixBlend},setMixBlend:function(e){if(0==e)throw ct.thrown(new ie("mixBlend cannot be null."));this.mixBlend=e},getMixingFrom:function(){return this.mixingFrom},getMixingTo:function(){return this.mixingTo},setHoldPrevious:function(e){this.holdPrevious=e},getHoldPrevious:function(){return this.holdPrevious},resetRotationDirections:function(){var e=this.timelinesRotation;e.splice(0,e.length)},setReverse:function(e){this.reverse=e},getReverse:function(){return this.reverse},isEmptyAnimation:function(){return this.animation==ks.emptyAnimation},toString:function(){return null==this.animation?"<none>":this.animation.name},__class__:g4},function(){this.drainDisabled=!1,this.objects=[]}),Ps=((E["spine.EventQueue"]=Is).__name__="spine.EventQueue",Is.prototype={AnimationState_this:null,objects:null,drainDisabled:null,start:function(e){this.objects.push(0),this.objects.push(e),this.AnimationState_this.animationsChanged=!0},interrupt:function(e){this.objects.push(1),this.objects.push(e)},end:function(e){this.objects.push(2),this.objects.push(e),this.AnimationState_this.animationsChanged=!0},dispose:function(e){this.objects.push(3),this.objects.push(e)},complete:function(e){this.objects.push(4),this.objects.push(e)},event:function(e,n){this.objects.push(5),this.objects.push(e),this.objects.push(n)},drain:function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.AnimationState_this.listeners,n=0;n<this.objects.length;){var t=this.objects[n],i=this.objects[n+1],l=e.array.length,s=e.begin();do{var r=t;if(0==r){null!=i.listener&&i.listener.start(i);for(var h=0;h<l;)s[h].start(i),++h;break}if(1==r){null!=i.listener&&i.listener.interrupt(i);for(var a=0;a<l;)s[a].interrupt(i),++a;break}if(2==r){null!=i.listener&&i.listener.end(i);for(var o=0;o<l;)s[o].end(i),++o;null!=i.listener&&i.listener.dispose(i);for(var c=0;c<l;)s[c].dispose(i),++c;this.AnimationState_this.trackEntryPool.free(i);break}if(3==r){null!=i.listener&&i.listener.dispose(i);for(var u=0;u<l;)s[u].dispose(i),++u;this.AnimationState_this.trackEntryPool.free(i);break}if(4==r){null!=i.listener&&i.listener.complete(i);for(var _=0;_<l;)s[_].complete(i),++_;break}if(5==r){for(var d=this.objects[2+n++],b=(null!=i.listener&&i.listener.event(i,d),0);b<l;)s[b].event(i,d),++b;break}}while(0);e.end(),n+=2}this.clear(),this.drainDisabled=!1}},clear:function(){var e=this.objects;e.splice(0,e.length)},__class__:Is},(E["spine.AnimationStateAdapter"]=i4).__name__="spine.AnimationStateAdapter",i4.__interfaces__=[w1],i4.prototype={start:function(e){},interrupt:function(e){},end:function(e){},dispose:function(e){},complete:function(e){},event:function(e,n){},__class__:i4},(E["spine.support.utils.Pool"]=j4).__name__="spine.support.utils.Pool",j4.prototype={max:null,peak:null,freeObjects:null,free:function(e){if(null==e)throw ct.thrown(new ie("object cannot be null."));this.freeObjects.length<this.max&&(this.freeObjects.push(e),this.peak=Math.max(this.peak,this.freeObjects.length)),this.reset(e)},reset:function(e){ws.__implements(e,f4)&&ws.__cast(e,f4).reset()},freeAll:function(e){if(null==e)throw ct.thrown(new ie("objects cannot be null."));for(var n=this.freeObjects,t=this.max,i=0;i<e.length;){var l=e[i];null==l?++i:(n.length<t&&n.push(l),this.reset(l),++i)}this.peak=Math.max(this.peak,n.length)},clear:function(){var e=this.freeObjects;e.splice(0,e.length)},getFree:function(){return this.freeObjects.length},newObject:function(){return null},obtain:function(){return 0==this.freeObjects.length?this.newObject():this.freeObjects.pop()},__class__:j4},function(e,n){j4.call(this,e,n)}),Fs=((E["spine._AnimationState.TrackEntryPool"]=Ps).__name__="spine._AnimationState.TrackEntryPool",Ps.__super__=j4,Ps.prototype=$extend(j4.prototype,{newObject:function(){return new g4},__class__:Ps}),(E["spine.EventType_enum"]=l4).__name__="spine.EventType_enum",l4.valueOf=function(e){switch(e){case"complete":return 4;case"dispose":return 3;case"end":return 2;case"event":return 5;case"interrupt":return 1;default:return 0}},function(e){if(this.defaultMix=0,this.tempAnimationStateDataKey=new Bs,this.animationToMixTime=new $l,null==e)throw ct.thrown(new ie("skeletonData cannot be null."));this.skeletonData=e}),Bs=((E["spine.AnimationStateData"]=Fs).__name__="spine.AnimationStateData",Fs.prototype={skeletonData:null,animationToMixTime:null,tempAnimationStateDataKey:null,defaultMix:null,getSkeletonData:function(){return this.skeletonData},setMixByName:function(e,n,t){var i=this.skeletonData.findAnimation(e);if(null==i)throw ct.thrown(new ie("Animation not found: "+e));e=this.skeletonData.findAnimation(n);if(null==e)throw ct.thrown(new ie("Animation not found: "+n));this.setMix(i,e,t)},setMix:function(e,n,t){if(null==e)throw ct.thrown(new ie("from cannot be null."));if(null==n)throw ct.thrown(new ie("to cannot be null."));var i=new Bs;i.a1=e,i.a2=n,or.put(this.animationToMixTime,i,t)},getMix:function(e,n){if(null==e)throw ct.thrown(new ie("from cannot be null."));if(null==n)throw ct.thrown(new ie("to cannot be null."));return this.tempAnimationStateDataKey.a1=e,this.tempAnimationStateDataKey.a2=n,or.get(this.animationToMixTime,this.tempAnimationStateDataKey,this.defaultMix)},getDefaultMix:function(){return this.defaultMix},setDefaultMix:function(e){this.defaultMix=e},__class__:Fs},function(){this.a2=null}),Ms=((E["spine.AnimationStateDataKey"]=Bs).__name__="spine.AnimationStateDataKey",Bs.prototype={a1:null,a2:null,getHashCode:function(){return 31*(31+this.a1.hashCode)+this.a2.hashCode},equals:function(e){if(this!=e){if(null==e)return!1;if(null==this.a1){if(null!=e.a1)return!1}else if(this.a1!=e.a1)return!1;if(null==this.a2){if(null!=e.a2)return!1}else if(this.a2!=e.a2)return!1}return!0},toString:function(){return this.a1.name+"->"+this.a2.name},__class__:Bs},(E["spine.BlendMode_enum"]=o4).__name__="spine.BlendMode_enum",o4.valueOf=function(e){switch(e){case"additive":return 1;case"multiply":return 2;case"normal":return 0;case"screen":return 3;default:return 0}},(E["spine.Updatable"]=p4).__name__="spine.Updatable",p4.__isInterface__=!0,p4.prototype={update:null,isActive:null,__class__:p4},(E["spine.Bone"]=q4).__name__="spine.Bone",q4.__interfaces__=[p4],q4.prototype={data:null,skeleton:null,parent:null,children:null,x:null,y:null,rotation:null,scaleX:null,scaleY:null,shearX:null,shearY:null,ax:null,ay:null,arotation:null,ascaleX:null,ascaleY:null,ashearX:null,ashearY:null,a:null,b:null,worldX:null,c:null,d:null,worldY:null,sorted:null,active:null,update:function(){this.updateWorldTransformWithData(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},updateWorldTransform:function(){this.updateWorldTransformWithData(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},updateWorldTransformWithData:function(e,n,t,i,l,s,r){this.ax=e,this.ay=n,this.arotation=t,this.ascaleX=i,this.ascaleY=l,this.ashearX=s,this.ashearY=r;var h,a,o,c=this.parent;if(null==c)g=t+90+r,a=(h=this.skeleton).scaleX,o=h.scaleY,this.a=ae.cosDeg(t+s)*i*a,this.b=ae.cosDeg(g)*l*a,this.c=ae.sinDeg(t+s)*i*o,this.d=ae.sinDeg(g)*l*o,this.worldX=e*a+h.x,this.worldY=n*o+h.y;else{var u=c.a,_=c.b,d=c.c,b=c.d;this.worldX=u*e+_*n+c.worldX,this.worldY=d*e+b*n+c.worldY;do{var g,O=this.data.transformMode;if(0==O)return g=t+90+r,f=ae.cosDeg(t+s)*i,C=ae.cosDeg(g)*l,p=ae.sinDeg(t+s)*i,v=ae.sinDeg(g)*l,this.a=u*f+_*p,this.b=u*C+_*v,this.c=d*f+b*p,void(this.d=d*C+b*v);if(1==O){var f=t+90+r;this.a=ae.cosDeg(t+s)*i,this.b=ae.cosDeg(f)*l,this.c=ae.sinDeg(t+s)*i,this.d=ae.sinDeg(f)*l;break}if(2==O){var p=u*u+d*d,C=0,v=t+s-(C=1e-4<p?(p=Math.abs(u*b-_*d)/p,u/=this.skeleton.scaleX,_=(d/=this.skeleton.scaleY)*p,b=u*p,ae.atan2(d,u)*ae.radDeg):(d=u=0,90-ae.atan2(b,_)*ae.radDeg)),m=t+r-C+90,w=ae.cosDeg(v)*i,y=ae.cosDeg(m)*l,U=ae.sinDeg(v)*i,m=ae.sinDeg(m)*l;this.a=u*w-_*U,this.b=u*y-_*m,this.c=d*w+b*U,this.d=d*y+b*m;break}if(3==O){var w=ae.cosDeg(t),U=ae.sinDeg(t),y=(u*w+_*U)/this.skeleton.scaleX,m=(d*w+b*U)/this.skeleton.scaleY,D=Math.sqrt(y*y+m*m),T=(y*=D=1e-5<D?1/D:D,m*=D,D=Math.sqrt(y*y+m*m),3==this.data.transformMode&&u*b-_*d<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(D=-D),1.57079635+ae.atan2(m,y)),x=Math.cos(T)*D,T=Math.sin(T)*D,D=ae.cosDeg(s)*i,S=ae.cosDeg(90+r)*l,A=ae.sinDeg(s)*i,k=ae.sinDeg(90+r)*l;this.a=y*D+x*A,this.b=y*S+x*k,this.c=m*D+T*A,this.d=m*S+T*k;break}if(4==O){var x=ae.cosDeg(t),D=ae.sinDeg(t),A=(u*x+_*D)/this.skeleton.scaleX,S=(d*x+b*D)/this.skeleton.scaleY,T=Math.sqrt(A*A+S*S),k=(A*=T=1e-5<T?1/T:T,S*=T,T=Math.sqrt(A*A+S*S),3==this.data.transformMode&&u*b-_*d<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(T=-T),1.57079635+ae.atan2(S,A)),O=Math.cos(k)*T,I=Math.sin(k)*T,P=ae.cosDeg(s)*i,F=ae.cosDeg(90+r)*l,B=ae.sinDeg(s)*i,M=ae.sinDeg(90+r)*l;this.a=A*P+O*B,this.b=A*F+O*M,this.c=S*P+I*B,this.d=S*F+I*M;break}}while(0);this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY}},setToSetupPose:function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY},getData:function(){return this.data},getSkeleton:function(){return this.skeleton},getParent:function(){return this.parent},getChildren:function(){return this.children},isActive:function(){return this.active},getX:function(){return this.x},setX:function(e){this.x=e},getY:function(){return this.y},setY:function(e){this.y=e},setPosition:function(e,n){this.x=e,this.y=n},getRotation:function(){return this.rotation},setRotation:function(e){this.rotation=e},getScaleX:function(){return this.scaleX},setScaleX:function(e){this.scaleX=e},getScaleY:function(){return this.scaleY},setScaleY:function(e){this.scaleY=e},setScale:function(e,n){this.scaleX=e,this.scaleY=n},setScale2:function(e){this.scaleX=e,this.scaleY=e},getShearX:function(){return this.shearX},setShearX:function(e){this.shearX=e},getShearY:function(){return this.shearY},setShearY:function(e){this.shearY=e},getAX:function(){return this.ax},setAX:function(e){this.ax=e},getAY:function(){return this.ay},setAY:function(e){this.ay=e},getARotation:function(){return this.arotation},setARotation:function(e){this.arotation=e},getAScaleX:function(){return this.ascaleX},setAScaleX:function(e){this.ascaleX=e},getAScaleY:function(){return this.ascaleY},setAScaleY:function(e){this.ascaleY=e},getAShearX:function(){return this.ashearX},setAShearX:function(e){this.ashearX=e},getAShearY:function(){return this.ashearY},setAShearY:function(e){this.ashearY=e},updateAppliedTransform:function(){var e,n,t,i,l,s,r=this.parent;null==r?(this.ax=this.worldX-this.skeleton.x,this.ay=this.worldY-this.skeleton.y,i=this.a,s=this.b,n=this.c,t=this.d,this.arotation=ae.atan2(n,i)*ae.radDeg,this.ascaleX=Math.sqrt(i*i+n*n),this.ascaleY=Math.sqrt(s*s+t*t),this.ashearX=0,this.ashearY=ae.atan2(i*s+n*t,i*t-s*n)*ae.radDeg):(i=r.a,t=r.b,s=r.c,n=r.d,e=this.worldX-r.worldX,r=this.worldY-r.worldY,this.ax=e*n*(l=1/(i*n-t*s))-r*t*l,this.ay=r*i*l-e*s*l,n=(r=l*n)*this.a-(e=l*t)*this.c,t=r*this.b-e*this.d,i=(r=l*i)*this.c-(e=l*s)*this.a,l=r*this.d-e*this.b,this.ashearX=0,this.ascaleX=Math.sqrt(n*n+i*i),1e-4<this.ascaleX?(this.ascaleY=(s=n*l-t*i)/this.ascaleX,this.ashearY=ae.atan2(n*t+i*l,s)*ae.radDeg,this.arotation=ae.atan2(i,n)*ae.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(t*t+l*l),this.ashearY=0,this.arotation=90-ae.atan2(l,t)*ae.radDeg))},getA:function(){return this.a},setA:function(e){this.a=e},getB:function(){return this.b},setB:function(e){this.b=e},getC:function(){return this.c},setC:function(e){this.c=e},getD:function(){return this.d},setD:function(e){this.d=e},getWorldX:function(){return this.worldX},setWorldX:function(e){this.worldX=e},getWorldY:function(){return this.worldY},setWorldY:function(e){this.worldY=e},getWorldRotationX:function(){return ae.atan2(this.c,this.a)*ae.radDeg},getWorldRotationY:function(){return ae.atan2(this.d,this.b)*ae.radDeg},getWorldScaleX:function(){return Math.sqrt(this.a*this.a+this.c*this.c)},getWorldScaleY:function(){return Math.sqrt(this.b*this.b+this.d*this.d)},getWorldTransform:function(e){if(null==e)throw ct.thrown(new ie("worldTransform cannot be null."));var n=e.val;return n[0]=this.a,n[3]=this.b,n[1]=this.c,n[4]=this.d,n[6]=this.worldX,n[7]=this.worldY,n[2]=0,n[5]=0,n[8]=1,e},worldToLocal:function(e){if(null==e)throw ct.thrown(new ie("world cannot be null."));var n=this.a*this.d-this.b*this.c,t=e.x-this.worldX,i=e.y-this.worldY;return e.x=(t*this.d-i*this.b)/n,e.y=(i*this.a-t*this.c)/n,e},localToWorld:function(e){if(null==e)throw ct.thrown(new ie("local cannot be null."));var n=e.x,t=e.y;return e.x=n*this.a+t*this.b+this.worldX,e.y=n*this.c+t*this.d+this.worldY,e},worldToLocalRotation:function(e){var n=ae.sinDeg(e),e=ae.cosDeg(e);return ae.atan2(this.a*n-this.c*e,this.d*e-this.b*n)*ae.radDeg+this.rotation-this.shearX},localToWorldRotation:function(e){e-=this.rotation-this.shearX;var n=ae.sinDeg(e),e=ae.cosDeg(e);return ae.atan2(e*this.c+n*this.d,e*this.a+n*this.b)*ae.radDeg},rotateWorld:function(e){var n=ae.cosDeg(e),e=ae.sinDeg(e);this.a=n*this.a-e*this.c,this.b=n*this.b-e*this.d,this.c=e*this.a+n*this.c,this.d=e*this.b+n*this.d},toString:function(){return this.data.name},__class__:q4},(E["spine.BoneData"]=r4).__name__="spine.BoneData",r4.prototype={index:null,name:null,parent:null,length:null,x:null,y:null,rotation:null,scaleX:null,scaleY:null,shearX:null,shearY:null,transformMode:null,skinRequired:null,color:null,getIndex:function(){return this.index},getName:function(){return this.name},getParent:function(){return this.parent},getLength:function(){return this.length},setLength:function(e){this.length=e},getX:function(){return this.x},setX:function(e){this.x=e},getY:function(){return this.y},setY:function(e){this.y=e},setPosition:function(e,n){this.x=e,this.y=n},getRotation:function(){return this.rotation},setRotation:function(e){this.rotation=e},getScaleX:function(){return this.scaleX},setScaleX:function(e){this.scaleX=e},getScaleY:function(){return this.scaleY},setScaleY:function(e){this.scaleY=e},setScale:function(e,n){this.scaleX=e,this.scaleY=n},getShearX:function(){return this.shearX},setShearX:function(e){this.shearX=e},getShearY:function(){return this.shearY},setShearY:function(e){this.shearY=e},getTransformMode:function(){return this.transformMode},setTransformMode:function(e){this.transformMode=e},getSkinRequired:function(){return this.skinRequired},setSkinRequired:function(e){this.skinRequired=e},getColor:function(){return this.color},toString:function(){return this.name},__class__:r4},(E["spine.TransformMode_enum"]=s4).__name__="spine.TransformMode_enum",s4.valueOf=function(e){switch(e){case"noRotationOrReflection":return 2;case"noScale":return 3;case"noScaleOrReflection":return 4;case"normal":return 0;case"onlyTranslation":return 1;default:return 0}},(E["spine.ConstraintData"]=t4).__name__="spine.ConstraintData",t4.prototype={name:null,order:null,skinRequired:null,getName:function(){return this.name},getOrder:function(){return this.order},setOrder:function(e){this.order=e},getSkinRequired:function(){return this.skinRequired},setSkinRequired:function(e){this.skinRequired=e},toString:function(){return this.name},__class__:t4},(E["spine.Event"]=u4).__name__="spine.Event",u4.prototype={data:null,intValue:null,floatValue:null,stringValue:null,volume:null,balance:null,time:null,getInt:function(){return this.intValue},setInt:function(e){this.intValue=e},getFloat:function(){return this.floatValue},setFloat:function(e){this.floatValue=e},getString:function(){return this.stringValue},setString:function(e){if(null==e)throw ct.thrown(new ie("stringValue cannot be null."));this.stringValue=e},getVolume:function(){return this.volume},setVolume:function(e){this.volume=e},getBalance:function(){return this.balance},setBalance:function(e){this.balance=e},getTime:function(){return this.time},getData:function(){return this.data},toString:function(){return this.data.name},__class__:u4},(E["spine.EventData"]=v4).__name__="spine.EventData",v4.prototype={name:null,intValue:null,floatValue:null,stringValue:null,audioPath:null,volume:null,balance:null,getInt:function(){return this.intValue},setInt:function(e){this.intValue=e},getFloat:function(){return this.floatValue},setFloat:function(e){this.floatValue=e},getString:function(){return this.stringValue},setString:function(e){if(null==e)throw ct.thrown(new ie("stringValue cannot be null."));this.stringValue=e},getAudioPath:function(){return this.audioPath},setAudioPath:function(e){if(null==e)throw ct.thrown(new ie("audioPath cannot be null."));this.audioPath=e},getVolume:function(){return this.volume},setVolume:function(e){this.volume=e},getBalance:function(){return this.balance},setBalance:function(e){this.balance=e},getName:function(){return this.name},toString:function(){return this.name},__class__:v4},(E["spine.IkConstraint"]=w4).__name__="spine.IkConstraint",w4.__interfaces__=[p4],w4.applyOne=function(e,n,t,i,l,s,r){if(null==e)throw ct.thrown(new ie("bone cannot be null."));var h=e.parent,a=h.a,o=h.b,c=h.c,u=h.d,_=-e.ashearX-e.arotation,d=0,b=0;do{var g,O,f=e.data.transformMode;if(1==f){d=n-e.worldX,b=t-e.worldY;break}}while(b=2==f?(v=Math.abs(a*u-o*c)/(a*a+c*c),f=a/e.skeleton.scaleX,o=-(g=c/e.skeleton.scaleY)*v*e.skeleton.scaleX,u=f*v*e.skeleton.scaleY,_+=ae.atan2(g,f)*ae.radDeg,d=((g=n-h.worldX)*u-(f=t-h.worldY)*o)/(O=a*u-o*c)-e.ax,(f*a-g*c)/O-e.ay):(d=((f=n-h.worldX)*u-(g=t-h.worldY)*o)/(O=a*u-o*c)-e.ax,(g*a-f*c)/O-e.ay),0);_+=ae.atan2(b,d)*ae.radDeg,e.ascaleX<0&&(_+=180),180<_?_-=360:_<-180&&(_+=360);var p,C,v,m=e.ascaleX,w=e.ascaleY;(i||l)&&(3!=(p=e.data.transformMode)&&4!=p||(d=n-e.worldX,b=t-e.worldY),p=e.data.length*m,C=Math.sqrt(d*d+b*b),i&&C<p||l&&p<C&&1e-4<p)&&(m*=v=(C/p-1)*r+1,s)&&(w*=v),e.updateWorldTransformWithData(e.ax,e.ay,e.arotation+_*r,m,w,e.ashearX,e.ashearY)},w4.apply=function(e,n,t,i,l,E,R,s,r){if(null==e)throw ct.thrown(new ie("parent cannot be null."));if(null==n)throw ct.thrown(new ie("child cannot be null."));var V=e.ax,L=e.ay,h=e.ascaleX,a=e.ascaleY,H=h,N=a,o=n.ascaleX,W=0,z=0,c=0,c=h<0?(h=-h,W=180,-1):(W=0,1),z=(a<0&&(a=-a,c=-c),o<0?(o=-o,180):0),u=n.ax,_=0,d=0,b=0,g=e.a,O=e.b,f=e.c,p=e.d,Y=Math.abs(h-a)<=1e-4,b=!Y||E?(_=0,d=g*u+e.worldX,f*u+e.worldY):(d=g*u+O*(_=n.ay)+e.worldX,f*u+p*_+e.worldY),C=e.parent,v=(g=C.a,O=C.b,f=C.c,1/(g*(p=C.d)-O*f)),d=((D=d-C.worldX)*p-(T=b-C.worldY)*O)*v-V,b=(T*g-D*f)*v-L,m=Math.sqrt(d*d+b*b),w=n.data.length*o,y=0,U=0;if(m<1e-4)w4.applyOne(e,t,i,!1,E,!1,r),n.updateWorldTransformWithData(u,_,0,n.ascaleX,n.ascaleY,n.ashearX,n.ashearY);else{var D,T,G,x=((D=t-C.worldX)*p-(T=i-C.worldY)*O)*v-V,S=(T*g-D*f)*v-L,A=x*x+S*S;0!=s&&(s*=h*(o+1)*.5,0<(b=(d=Math.sqrt(A))-m-w*h+s))&&(A=(x-=(t=(b-s*(1-(t=Math.min(1,b/(2*s))-1)*t))/d)*x)*x+(S-=t*S)*S);do{if(G=0,Y){var k=(A-m*m-(w*=h)*w)/(2*m*w);k<-1?(k=-1,U=3.1415927*l):1<k?(k=1,U=0,E&&(H*=g=(Math.sqrt(A)/(m+w)-1)*r+1,R)&&(N*=g)):U=Math.acos(k)*l,g=m+w*k,O=w*ae.sin(U),y=ae.atan2(S*g-x*O,x*g+S*O)}else{var k=(g=h*w)*g,I=(O=a*w)*O,X=ae.atan2(S,x),P=-2*I*m,F=I-k;if(0<=(p=P*P-4*F*(f=I*m*m+k*A-k*I))){var B=Math.sqrt(p),P=(B=.5*-(P+(B=P<0?-B:B)))/F,F=f/B,B=Math.abs(P)<Math.abs(F)?P:F;if(B*B<=A){T=Math.sqrt(A-B*B)*l,y=X-ae.atan2(T,B),U=ae.atan2(T/a,(B-m)/h),G=1;break}}var P=3.1415927,F=m-g,B=F*F,K=0,q=0,M=m+g,$=M*M,j=0;-1<=(f=-g*m/(k-I))&&f<=1&&(f=Math.acos(f),(p=(D=g*ae.cos(f)+m)*D+(T=O*ae.sin(f))*T)<B&&(P=f,B=p,F=D,K=T),$<p)&&(q=f,$=p,M=D,j=T),U=A<=.5*(B+$)?(y=X-ae.atan2(K*l,F),P*l):(y=X-ae.atan2(j*l,M),q*l)}}while(0!=G);i=ae.atan2(_,u)*c,C=e.arotation;180<(y=(y-i)*ae.radDeg+W-C)?y-=360:y<-180&&(y+=360),e.updateWorldTransformWithData(V,L,C+y*r,H,N,0,0),C=n.arotation,180<(U=((U+i)*ae.radDeg-n.ashearX)*c+z-C)?U-=360:U<-180&&(U+=360),n.updateWorldTransformWithData(u,_,C+U*r,n.ascaleX,n.ascaleY,n.ashearX,n.ashearY)}},w4.prototype={data:null,bones:null,target:null,bendDirection:null,compress:null,stretch:null,mix:null,softness:null,active:null,update:function(){if(0!=this.mix){var e=this.target,n=this.bones;do{var t=this.bones.length;if(1==t){var i=n[0];w4.applyOne(i,e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break}if(2==t){i=n[0],t=n[1];w4.apply(i,t,e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}while(0)}},getBones:function(){return this.bones},getTarget:function(){return this.target},setTarget:function(e){if(null==e)throw ct.thrown(new ie("target cannot be null."));this.target=e},getMix:function(){return this.mix},setMix:function(e){this.mix=e},getSoftness:function(){return this.softness},setSoftness:function(e){this.softness=e},getBendDirection:function(){return this.bendDirection},setBendDirection:function(e){this.bendDirection=e},getCompress:function(){return this.compress},setCompress:function(e){this.compress=e},getStretch:function(){return this.stretch},setStretch:function(e){this.stretch=e},isActive:function(){return this.active},getData:function(){return this.data},toString:function(){return this.data.name},__class__:w4},(E["spine.IkConstraintData"]=x4).__name__="spine.IkConstraintData",x4.__super__=t4,x4.prototype=$extend(t4.prototype,{bones:null,target:null,bendDirection:null,compress:null,stretch:null,uniform:null,mix:null,softness:null,getBones:function(){return this.bones},getTarget:function(){return this.target},setTarget:function(e){if(null==e)throw ct.thrown(new ie("target cannot be null."));this.target=e},getMix:function(){return this.mix},setMix:function(e){this.mix=e},getSoftness:function(){return this.softness},setSoftness:function(e){this.softness=e},getBendDirection:function(){return this.bendDirection},setBendDirection:function(e){this.bendDirection=e},getCompress:function(){return this.compress},setCompress:function(e){this.compress=e},getStretch:function(){return this.stretch},setStretch:function(e){this.stretch=e},getUniform:function(){return this.uniform},setUniform:function(e){this.uniform=e},__class__:x4}),(E["spine.PathConstraint"]=y4).__name__="spine.PathConstraint",y4.__interfaces__=[p4],y4.prototype={data:null,bones:null,target:null,position:null,spacing:null,mixRotate:null,mixX:null,mixY:null,active:null,spaces:null,positions:null,world:null,curves:null,lengths:null,segments:null,update:function(){var E=this.target.attachment;if(E instanceof js){var e=this.mixRotate,R=this.mixX,V=this.mixY;if(0!=e||0!=R||0!=V){var n=this.data,t=0==n.rotateMode,i=2==n.rotateMode,l=this.bones.length,s=t?l:l+1,r=this.bones,h=this.spaces,a=h.length;if(s<a)h.splice(s,s-a);else if(a<s)for(;a<s;)h.push(0),++a;var o,c=h;if(i){if(l<(a=(h=this.lengths).length))h.splice(l,l-a);else if(a<l)for(;a<l;)h.push(0),++a;o=h}else o=null;var u=this.spacing;do{var L=n.spacingMode;if(2==L){if(i)for(var _=0,H=s-1;_<H;){var d=(v=q=r[_]).data.length;d<y4.epsilon?o[_]=0:(D=d*v.a,T=d*v.c,o[_]=Math.sqrt(D*D+T*T)),++_}dr.fill(c,1,s,u);break}if(3==L){for(var b=0,g=0,N=s-1;g<N;){var W,z=r[g],O=z.data.length;O<y4.epsilon?(i&&(o[g]=0),c[++g]=u):(W=O*z.a,O=O*z.c,x=Math.sqrt(W*W+O*O),i&&(o[g]=x),b+=c[++g]=x)}if(0<b)for(var b=s/b*u,Y=1;Y<s;)c[Y]*=b,++Y;break}for(var G=0==n.spacingMode,f=0,X=s-1;f<X;){var K,p=r[f],C=p.data.length;C<y4.epsilon?(i&&(o[f]=0),c[++f]=u):(K=C*p.a,p=C*p.c,P=Math.sqrt(K*K+p*p),i&&(o[f]=P),c[++f]=(G?C+u:u)*P/C)}}while(0);for(var v,q=E,m=this.computeWorldPositions(q,s,t),w=m[0],y=m[1],$=n.offsetRotation,j=!1,_=(0==$?j=1==n.rotateMode:(j=!1,$*=0<(U=this.target.bone).a*U.d-U.b*U.c?ae.degRad:-ae.degRad),0),U=3;_<l;){(v=q=r[_]).worldX+=(w-v.worldX)*R,v.worldY+=(y-v.worldY)*V;var D,T,x,S,Q,A,Z,k,I,P,F,B=(D=m[U])-w,M=(T=m[U+1])-y;i&&(x=o[_],y4.epsilon<=x)&&(S=(Math.sqrt(B*B+M*M)/x-1)*e+1,v.a*=S,v.c*=S),w=D,y=T,0<e&&(S=v.a,Q=v.b,A=v.c,Z=v.d,I=k=F=0,F=t?m[U-1]:c[_+1]<y4.epsilon?m[U+2]:Math.atan2(M,B),F-=Math.atan2(A,S),j?(k=Math.cos(F),I=Math.sin(F),w+=((P=v.data.length)*(k*S-I*A)-B)*e,y+=(P*(I*S+k*A)-M)*e):F+=$,3.1415927<F?F-=6.2831854:F<-3.1415927&&(F+=6.2831854),F*=e,k=Math.cos(F),I=Math.sin(F),v.a=k*S-I*A,v.b=k*Q-I*Z,v.c=I*S+k*A,v.d=I*Q+k*Z),v.updateAppliedTransform(),++_,U+=3}}}},computeWorldPositions:function(e,n,E){var t=this.target,R=this.position,V=this.spaces,i=3*n+2;if(i<(P=(I=this.positions).length))I.splice(i,i-P);else if(P<i)for(;P<i;)I.push(0),++P;var l=I,s=null,r=e.getClosed(),h=e.getWorldVerticesLength(),a=h/6|0,o=-1;if(e.getConstantSpeed()){if(r){if((h+=2)<(P=(I=this.world).length))I.splice(h,h-P);else if(P<h)for(;P<h;)I.push(0),++P;e.computeWorldVertices(t,2,h-4,s=I,0,2),e.computeWorldVertices(t,0,2,s,h-4,2),s[h-2]=s[0],s[h-1]=s[1]}else{if(--a,(h-=4)<(P=(I=this.world).length))I.splice(h,h-P);else if(P<h)for(;P<h;)I.push(0),++P;e.computeWorldVertices(t,2,h,s=I,0,2)}if(a<(P=(I=this.curves).length))I.splice(a,a-P);else if(P<a)for(;P<a;)I.push(0),++P;for(var L=I,c=0,u=s[0],_=s[1],d=0,b=0,g=0,O=0,H=0,N=0,W=0,z=0,f=0,p=0,C=0,v=0,m=0,w=0,y=0,U=2;y<a;)d=s[U],b=s[U+1],g=s[U+2],O=s[U+3],C=2*(W=.1875*(u-2*d+g))+(f=.09375*(3*(d-g)-u+(H=s[U+4]))),v=2*(z=.1875*(_-2*b+O))+(p=.09375*(3*(b-O)-_+(N=s[U+5]))),m=.75*(d-u)+W+.16666667*f,w=.75*(b-_)+z+.16666667*p,c+=Math.sqrt(m*m+w*w),m+=C,w+=v,C+=f,v+=p,c+=Math.sqrt(m*m+w*w),m+=C,w+=v,c+=Math.sqrt(m*m+w*w),m+=C+f,w+=v+p,c+=Math.sqrt(m*m+w*w),L[y]=c,u=H,_=N,++y,U+=6;1==this.data.positionMode&&(R*=c);F=0;do{var Y=this.data.spacingMode;if(2==Y){F=c;break}if(3==Y){F=c/n;break}}while(F=1,0);for(var D=this.segments,T=0,y=0,x=0,S=0,A=0;y<n;){M=R+=$=V[y]*F;if(r)(M%=c)<0&&(M+=c),S=0;else{if(M<0){this.addBeforePosition(M,s,0,l,x),++y,x+=3;continue}if(c<M){this.addAfterPosition(M-c,s,h-4,l,x),++y,x+=3;continue}}for(;;){if(!((B=L[S])<M)){0==S?M/=B:M=(M-(j=L[S-1]))/(B-j);break}++S}if(S!=o){var o=S,k=6*S,u=s[k],_=s[k+1],d=s[k+2],b=s[k+3],g=s[k+4],O=s[k+5],C=2*(W=.03*(u-2*d+g))+(f=.006*(3*(d-g)-u+(H=s[k+6]))),v=2*(z=.03*(_-2*b+O))+(p=.006*(3*(b-O)-_+(N=s[k+7]))),m=.3*(d-u)+W+.16666667*f,w=.3*(b-_)+z+.16666667*p,T=Math.sqrt(m*m+w*w);for(D[0]=T,k=1;k<8;)m+=C,w+=v,C+=f,v+=p,T+=Math.sqrt(m*m+w*w),D[k]=T,++k;m+=C,w+=v,T+=Math.sqrt(m*m+w*w),D[8]=T,m+=C+f,w+=v+p,T+=Math.sqrt(m*m+w*w),D[9]=T,A=0}for(M*=T;;){var G,X=D[A];if(!(X<M)){0==A?M/=X:M=A+(M-(G=D[A-1]))/(X-G);break}++A}this.addCurvePosition(.1*M,u,_,d,b,g,O,H,N,l,x,E||0<y&&$<y4.epsilon),++y,x+=3}}else{var I,P,K=e.getLengths(),c=K[a-=r?1:2],F=(1==this.data.positionMode&&(R*=c),0);do{var q=this.data.spacingMode;if(2==q){F=c;break}if(3==q){F=c/n;break}}while(F=1,0);if(8<(P=(I=this.world).length))I.splice(8,8-P);else if(P<8)for(;P<8;)I.push(0),++P;for(var s=I,y=0,x=0,S=0;y<n;){var $,B,j,M=R+=$=V[y]*F;if(r)(M%=c)<0&&(M+=c),S=0;else{if(M<0){-2!=o&&(o=-2,e.computeWorldVertices(t,2,4,s,0,2)),this.addBeforePosition(M,s,0,l,x),++y,x+=3;continue}if(c<M){-3!=o&&(o=-3,e.computeWorldVertices(t,h-6,4,s,0,2)),this.addAfterPosition(M-c,s,0,l,x),++y,x+=3;continue}}for(;;){if(!((B=K[S])<M)){0==S?M/=B:M=(M-(j=K[S-1]))/(B-j);break}++S}S!=o&&(o=S,r&&S==a?(e.computeWorldVertices(t,h-4,4,s,0,2),e.computeWorldVertices(t,0,4,s,4,2)):e.computeWorldVertices(t,6*S+2,8,s,0,2)),this.addCurvePosition(M,s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],l,x,E||0<y&&$<y4.epsilon),++y,x+=3}}return l},addBeforePosition:function(e,n,t,i,l){var s=n[t],r=n[t+1],h=n[t+2]-s,n=n[t+3]-r,t=Math.atan2(n,h);i[l]=s+e*Math.cos(t),i[l+1]=r+e*Math.sin(t),i[l+2]=t},addAfterPosition:function(e,n,t,i,l){var s=n[t+2],r=n[t+3],h=s-n[t],n=r-n[t+1],t=Math.atan2(n,h);i[l]=s+e*Math.cos(t),i[l+1]=r+e*Math.sin(t),i[l+2]=t},addCurvePosition:function(e,n,t,i,l,s,r,h,a,o,c,u){var _,d,b,g,O,f,p;e<y4.epsilon||isNaN(e)?(o[c]=n,o[c+1]=t,o[c+2]=Math.atan2(l-t,i-n)):(p=t*(f=(d=(b=1-e)*b)*b)+l*(g=b*(O=3*(b=b*e)))+r*(O=O*e)+a*(_=(a=e*e)*e),o[c]=f=n*f+i*g+s*O+h*_,o[c+1]=p,u&&(o[c+2]=e<.001?Math.atan2(l-t,i-n):Math.atan2(p-(t*d+l*b*2+r*a),f-(n*d+i*b*2+s*a))))},getPosition:function(){return this.position},setPosition:function(e){this.position=e},getSpacing:function(){return this.spacing},setSpacing:function(e){this.spacing=e},getMixRotate:function(){return this.mixRotate},setMixRotate:function(e){this.mixRotate=e},getMixX:function(){return this.mixX},setMixX:function(e){this.mixX=e},getMixY:function(){return this.mixY},setMixY:function(e){this.mixY=e},getBones:function(){return this.bones},getTarget:function(){return this.target},setTarget:function(e){if(null==e)throw ct.thrown(new ie("target cannot be null."));this.target=e},isActive:function(){return this.active},getData:function(){return this.data},toString:function(){return this.data.name},__class__:y4},(E["spine.PathConstraintData"]=z4).__name__="spine.PathConstraintData",z4.__super__=t4,z4.prototype=$extend(t4.prototype,{bones:null,target:null,positionMode:null,spacingMode:null,rotateMode:null,offsetRotation:null,position:null,spacing:null,mixRotate:null,mixX:null,mixY:null,getBones:function(){return this.bones},getTarget:function(){return this.target},setTarget:function(e){if(null==e)throw ct.thrown(new ie("target cannot be null."));this.target=e},getPositionMode:function(){return this.positionMode},setPositionMode:function(e){this.positionMode=e},getSpacingMode:function(){return this.spacingMode},setSpacingMode:function(e){this.spacingMode=e},getRotateMode:function(){return this.rotateMode},setRotateMode:function(e){this.rotateMode=e},getOffsetRotation:function(){return this.offsetRotation},setOffsetRotation:function(e){this.offsetRotation=e},getPosition:function(){return this.position},setPosition:function(e){this.position=e},getSpacing:function(){return this.spacing},setSpacing:function(e){this.spacing=e},getMixRotate:function(){return this.mixRotate},setMixRotate:function(e){this.mixRotate=e},getMixX:function(){return this.mixX},setMixX:function(e){this.mixX=e},getMixY:function(){return this.mixY},setMixY:function(e){this.mixY=e},__class__:z4}),(E["spine.PositionMode_enum"]=A4).__name__="spine.PositionMode_enum",A4.valueOf=function(e){switch(e){case"fixed":return 0;case"percent":return 1;default:return 0}},(E["spine.SpacingMode_enum"]=B4).__name__="spine.SpacingMode_enum",B4.valueOf=function(e){switch(e){case"fixed":return 1;case"length":return 0;case"percent":return 2;case"proportional":return 3;default:return 0}},(E["spine.RotateMode_enum"]=C4).__name__="spine.RotateMode_enum",C4.valueOf=function(e){switch(e){case"chain":return 1;case"chainScale":return 2;default:return 0}},function(e){if(this.y=0,this.x=0,this.scaleY=1,this.scaleX=1,this.time=0,this.cache=[],null==e)throw ct.thrown(new ie("data cannot be null."));(this.data=e).bones.length;this.bones=[];for(var n=this.bones,t=0,i=e.bones;t<i.length;){var l,s=i[t],r=(++t,null);null==s.parent?r=new q4(s,this,null):(l=a=n[s.parent.index],r=new q4(s,this,l),l.children.push(r)),this.bones.push(r)}e.slots.length,this.slots=[],e.slots.length;for(this.drawOrder=[],t=0,i=e.slots;t<i.length;){var h=i[t],a=(++t,n[h.boneData.index]),h=new Ns(h,r=a);this.slots.push(h),this.drawOrder.push(h)}e.ikConstraints.length;for(this.ikConstraints=[],t=0,i=e.ikConstraints;t<i.length;){var o=i[t];++t,this.ikConstraints.push(new w4(o,this))}e.transformConstraints.length;for(this.transformConstraints=[],t=0,i=e.transformConstraints;t<i.length;){var c=i[t];++t,this.transformConstraints.push(new zs(c,this))}e.pathConstraints.length;for(this.pathConstraints=[],t=0,i=e.pathConstraints;t<i.length;){var u=i[t];++t,this.pathConstraints.push(new y4(u,this))}this.color=new nr(1,1,1,1),this.updateCache()}),Es=((E["spine.Skeleton"]=Ms).__name__="spine.Skeleton",Ms.prototype={data:null,bones:null,slots:null,drawOrder:null,ikConstraints:null,transformConstraints:null,pathConstraints:null,cache:null,skin:null,color:null,time:null,scaleX:null,scaleY:null,x:null,y:null,updateCache:function(){for(var e=this.cache,n=(e.splice(0,e.length),this.bones.length),t=this.bones,i=0;i<n;)(r=v=t[i]).sorted=r.data.skinRequired,r.active=!r.sorted,++i;if(null!=this.skin)for(var l=this.skin.bones,i=0,s=this.skin.bones.length;i<s;){for(var r=O=t[(v=l[i]).index];r.sorted=!1,r.active=!0,null!=(r=r.parent););++i}for(var h=this.ikConstraints.length,a=this.transformConstraints.length,o=this.pathConstraints.length,c=this.ikConstraints,u=this.transformConstraints,_=this.pathConstraints,d=h+a+o;;){for(var b=0,i=0;i<d;){for(var g=0;g<h;){if((v=c[g]).data.order==i){this.sortIkConstraint(v),++g,b=2;break}++g}if(2==b)b=0;else{if(1<=b)break;for(var O,f=0;f<a;){if((O=u[f]).data.order==i){this.sortTransformConstraint(O),++f,b=2;break}++f}if(2==b)b=0;else{if(1<=b)break;for(var p=0;p<o;){var C=_[p];if(C.data.order==i){this.sortPathConstraint(C),++p,b=2;break}++p}if(2==b)b=0;else if(1<=b)break}}++i}if(0==b)break}for(i=0;i<n;){var v=t[i];this.sortBone(v),++i}},sortIkConstraint:function(e){var n,t;e.active=e.target.active&&(!e.data.skinRequired||null!=this.skin&&-1!=this.skin.constraints.indexOf(e.data)),e.active&&(t=e.target,this.sortBone(t),n=0<(t=e.bones).length?t[0]:null,this.sortBone(n),1==t.length?(this.cache.push(e),this.sortReset(n.children)):(t=0==t.length?null:t[t.length-1],this.sortBone(t),this.cache.push(e),this.sortReset(n.children),t.sorted=!0))},sortPathConstraint:function(e){if(e.active=e.target.bone.active&&(!e.data.skinRequired||null!=this.skin&&-1!=this.skin.constraints.indexOf(e.data)),e.active){for(var n=e.target,t=n.getData().index,i=n.bone,t=(null!=this.skin&&this.sortPathConstraintAttachmentWithSkin(this.skin,t,i),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachmentWithSkin(this.data.defaultSkin,t,i),n.attachment),l=(t instanceof js&&this.sortPathConstraintAttachment(t,i),e.bones),s=e.bones.length,r=0;r<s;){var h=l[r];this.sortBone(h),++r}this.cache.push(e);for(r=0;r<s;){h=l[r];this.sortReset(h.children),++r}for(r=0;r<s;)(h=l[r]).sorted=!0,++r}},sortTransformConstraint:function(e){if(e.active=e.target.active&&(!e.data.skinRequired||null!=this.skin&&-1!=this.skin.constraints.indexOf(e.data)),e.active){this.sortBone(e.target);var n=e.bones,t=e.bones.length;if(e.data.local)for(var i=0;i<t;){var l=s=n[i];this.sortBone(l.parent),this.sortBone(l),++i}else for(i=0;i<t;){var s=n[i];this.sortBone(s),++i}this.cache.push(e);for(i=0;i<t;){s=n[i];this.sortReset(s.children),++i}for(i=0;i<t;)(s=n[i]).sorted=!0,++i}},sortPathConstraintAttachmentWithSkin:function(e,n,t){for(var i=_r.orderedItems(e.attachments),l=0,s=_r.get_size(e.attachments);l<s;){var r=i[l];r.slotIndex==n&&this.sortPathConstraintAttachment(r.attachment,t),++l}},sortPathConstraintAttachment:function(e,n){if(e instanceof js){var t=(h=e).getBones();if(null==t)this.sortBone(n);else for(var i=this.bones,l=0,s=t.length;l<s;){var r=t[l++];for(r+=l;l<r;){var h=i[t[l++]];this.sortBone(h)}}}},sortBone:function(e){var n;e.sorted||(null!=(n=e.parent)&&this.sortBone(n),e.sorted=!0,this.cache.push(e))},sortReset:function(e){for(var n=e,t=0,i=e.length;t<i;){var l=n[t];l.active?(l.sorted&&this.sortReset(l.children),l.sorted=!1,++t):++t}},updateWorldTransform:function(){for(var e=this.bones,n=0,t=this.bones.length;n<t;){var i=e[n];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,++n}for(var l=this.cache,n=0,t=this.cache.length;n<t;)l[n].update(),++n},updateWorldTransformWithParent:function(e){if(null==e)throw ct.thrown(new ie("parent cannot be null."));for(var n=this.getRootBone(),t=e.a,i=e.b,l=e.c,s=e.d,e=(n.worldX=t*this.x+i*this.y+e.worldX,n.worldY=l*this.x+s*this.y+e.worldY,n.rotation+90+n.shearY),r=ae.cosDeg(n.rotation+n.shearX)*n.scaleX,h=ae.cosDeg(e)*n.scaleY,a=ae.sinDeg(n.rotation+n.shearX)*n.scaleX,e=ae.sinDeg(e)*n.scaleY,o=(n.a=(t*r+i*a)*this.scaleX,n.b=(t*h+i*e)*this.scaleX,n.c=(l*r+s*a)*this.scaleY,n.d=(l*h+s*e)*this.scaleY,this.cache),c=0,u=this.cache.length;c<u;){var _=o[c];_!=n&&_.update(),++c}},setToSetupPose:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var e=this.bones,n=0,t=this.bones.length;n<t;)e[n].setToSetupPose(),++n;for(var i=this.ikConstraints,n=0,t=this.ikConstraints.length;n<t;)(h=i[n]).mix=h.data.mix,h.softness=h.data.softness,h.bendDirection=h.data.bendDirection,h.compress=h.data.compress,h.stretch=h.data.stretch,++n;for(var l=this.transformConstraints,n=0,t=this.transformConstraints.length;n<t;){var s=(h=l[n]).data;h.mixRotate=s.mixRotate,h.mixX=s.mixX,h.mixY=s.mixY,h.mixScaleX=s.mixScaleX,h.mixScaleY=s.mixScaleY,h.mixShearY=s.mixShearY,++n}for(var r=this.pathConstraints,n=0,t=this.pathConstraints.length;n<t;){var h,s=(h=r[n]).data;h.position=s.position,h.spacing=s.spacing,h.mixRotate=s.mixRotate,h.mixX=s.mixX,h.mixY=s.mixY,++n}},setSlotsToSetupPose:function(){for(var e=this.slots,n=this.slots.length,t=(ur.copy(e,0,this.drawOrder,0,n),0);t<n;)e[t].setToSetupPose(),++t},getData:function(){return this.data},getBones:function(){return this.bones},getUpdateCache:function(){return this.cache},getRootBone:function(){var e;return 0!=this.bones.length&&0<(e=this.bones).length?e[0]:null},findBone:function(e){if(null==e)throw ct.thrown(new ie("boneName cannot be null."));for(var n=this.bones,t=0,i=this.bones.length;t<i;){var l=n[t];if(l.data.name==e)return l;++t}return null},getSlots:function(){return this.slots},findSlot:function(e){if(null==e)throw ct.thrown(new ie("slotName cannot be null."));for(var n=this.slots,t=0,i=this.slots.length;t<i;){var l=n[t];if(l.data.name==e)return l;++t}return null},getDrawOrder:function(){return this.drawOrder},setDrawOrder:function(e){if(null==e)throw ct.thrown(new ie("drawOrder cannot be null."));this.drawOrder=e},getSkin:function(){return this.skin},setSkinByName:function(e){var n=this.data.findSkin(e);if(null==n)throw ct.thrown(new ie("Skin not found: "+e));this.setSkin(n)},setSkin:function(e){if(e!=this.skin){if(null!=e)if(null!=this.skin)e.attachAll(this,this.skin);else for(var n=this.slots,t=0,i=this.slots.length;t<i;){var l=n[t],s=l.data.attachmentName;null!=s&&null!=(s=e.getAttachment(t,s))&&l.setAttachment(s),++t}this.skin=e,this.updateCache()}},getAttachmentWithSlotName:function(e,n){var t=this.data.findSlot(e);if(null==t)throw ct.thrown(new ie("Slot not found: "+e));return this.getAttachment(t.getIndex(),n)},getAttachment:function(e,n){if(null==n)throw ct.thrown(new ie("attachmentName cannot be null."));if(null!=this.skin){var t=this.skin.getAttachment(e,n);if(null!=t)return t}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,n):null},setAttachment:function(e,n){if(null==e)throw ct.thrown(new ie("slotName cannot be null."));var t=this.findSlot(e);if(null==t)throw ct.thrown(new ie("Slot not found: "+e));var i=null;if(null!=n&&null==(i=this.getAttachment(t.data.index,n)))throw ct.thrown(new ie("Attachment not found: "+n+", for slot: "+e));t.setAttachment(i)},getIkConstraints:function(){return this.ikConstraints},findIkConstraint:function(e){if(null==e)throw ct.thrown(new ie("constraintName cannot be null."));for(var n=this.ikConstraints,t=0,i=this.ikConstraints.length;t<i;){var l=n[t];if(l.data.name==e)return l;++t}return null},getTransformConstraints:function(){return this.transformConstraints},findTransformConstraint:function(e){if(null==e)throw ct.thrown(new ie("constraintName cannot be null."));for(var n=this.transformConstraints,t=0,i=this.transformConstraints.length;t<i;){var l=n[t];if(l.data.name==e)return l;++t}return null},getPathConstraints:function(){return this.pathConstraints},findPathConstraint:function(e){if(null==e)throw ct.thrown(new ie("constraintName cannot be null."));for(var n=this.pathConstraints,t=0,i=this.pathConstraints.length;t<i;){var l=n[t];if(l.data.name==e)return l;++t}return null},getBounds:function(e,n,t){if(null==e)throw ct.thrown(new ie("offset cannot be null."));if(null==n)throw ct.thrown(new ie("size cannot be null."));if(null==t)throw ct.thrown(new ie("temp cannot be null."));for(var i=this.drawOrder,l=999999999,s=999999999,r=-999999999,h=-999999999,a=0,o=this.drawOrder.length;a<o;){var c=i[a];if(c.bone.active){var u=0,_=null,d=c.attachment;if(d instanceof Zs){var u=8,b=t.length;if(8<b)t.splice(8,8-b);else if(b<8)for(;b<8;)t.push(0),++b;_=t;d.computeWorldVertices(c.getBone(),_,0,2)}else if(d instanceof $s){u=d.getWorldVerticesLength();var g=t.length;if(u<g)t.splice(u,u-g);else if(g<u)for(;g<u;)t.push(0),++g;d.computeWorldVertices(c,0,u,_=t,0,2)}if(null!=_)for(var O=0;O<u;){var f=_[O],p=_[O+1],l=Math.min(l,f),s=Math.min(s,p),r=Math.max(r,f),h=Math.max(h,p);O+=2}}++a}e.x=l,e.y=s,n.x=r-l,n.y=h-s},getColor:function(){return this.color},setColor:function(e){if(null==e)throw ct.thrown(new ie("color cannot be null."));var n=this.color;n.r=e.r,n.g=e.g,n.b=e.b,n.a=e.a},setColorWithRGBA:function(e,n,t,i){var l=this.color;l.r=e,l.g=n,l.b=t,l.a=i},getScaleX:function(){return this.scaleX},setScaleX:function(e){this.scaleX=e},getScaleY:function(){return this.scaleY},setScaleY:function(e){this.scaleY=e},setScale:function(e,n){this.scaleX=e,this.scaleY=n},getX:function(){return this.x},setX:function(e){this.x=e},getY:function(){return this.y},setY:function(e){this.y=e},setPosition:function(e,n){this.x=e,this.y=n},getTime:function(){return this.time},setTime:function(e){this.time=e},update:function(e){this.time+=e},toString:function(){return null!=this.data.name?this.data.name:ws.getClass(this).__name__},__class__:Ms},(E["spine.SkeletonBounds"]=E4).__name__="spine.SkeletonBounds",E4.prototype={minX:null,minY:null,maxX:null,maxY:null,boundingBoxes:null,polygons:null,polygonPool:null,update:function(e,n){if(null==e)throw ct.thrown(new ie("skeleton cannot be null."));for(var t=this.boundingBoxes,i=this.polygons,l=e.slots,s=e.slots.length,r=(t.splice(0,t.length),this.polygonPool.freeAll(i),i.splice(0,i.length),0);r<s;){var h=l[r];if(h.bone.active){var a=h.attachment;if(a instanceof Ks){t.push(a);var o=this.polygonPool.obtain(),c=(i.push(o),a.getWorldVerticesLength()),u=a.getWorldVerticesLength(),_=o.length;if(u<_)o.splice(u,u-_);else if(_<u)for(;_<u;)o.push(0),++_;a.computeWorldVertices(h,0,c,o,0,2)}}++r}n?this.aabbCompute():(this.minX=-999999999,this.minY=-999999999,this.maxX=999999999,this.maxY=999999999)},aabbCompute:function(){for(var e=999999999,n=999999999,t=-999999999,i=-999999999,l=this.polygons,s=0,r=this.polygons.length;s<r;){for(var h=l[s],a=h,o=0,c=h.length;o<c;){var u=a[o],_=a[o+1],e=Math.min(e,u),n=Math.min(n,_),t=Math.max(t,u),i=Math.max(i,_);o+=2}++s}this.minX=e,this.minY=n,this.maxX=t,this.maxY=i},aabbContainsPoint:function(e,n){return e>=this.minX&&e<=this.maxX&&n>=this.minY&&n<=this.maxY},aabbIntersectsSegment:function(e,n,t,i){var l=this.minX,s=this.minY,r=this.maxX,h=this.maxY;return!(e<=l&&t<=l||n<=s&&i<=s||r<=e&&r<=t||h<=n&&h<=i)&&(s<(t=(i=(i-n)/(t-e))*(l-e)+n)&&t<h||s<(t=i*(r-e)+n)&&t<h||l<(t=(s-n)/i+e)&&t<r||l<(t=(h-n)/i+e)&&t<r)},aabbIntersectsSkeleton:function(e){if(null==e)throw ct.thrown(new ie("bounds cannot be null."));return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},containsPoint:function(e,n){for(var t=this.polygons,i=0,l=this.polygons.length;i<l;){if(this.polygonContainsPoint(t[i],e,n))return this.boundingBoxes[i];++i}return null},polygonContainsPoint:function(e,n,t){if(null==e)throw ct.thrown(new ie("polygon cannot be null."));for(var i=e,l=e.length,s=l-2,r=!1,h=0;h<l;){var a,o=i[h+1],c=i[s+1];(o<t&&t<=c||c<t&&t<=o)&&(a=i[h])+(t-o)/(c-o)*(i[s]-a)<n&&(r=!r),s=h,h+=2}return r},intersectsSegment:function(e,n,t,i){for(var l=this.polygons,s=0,r=this.polygons.length;s<r;){if(this.polygonIntersectsSegment(l[s],e,n,t,i))return this.boundingBoxes[s];++s}return null},polygonIntersectsSegment:function(e,n,t,i,l){if(null==e)throw ct.thrown(new ie("polygon cannot be null."));for(var s=e,r=e.length,h=n-i,a=t-l,o=n*l-t*i,c=s[r-2],u=s[r-1],_=0;_<r;){var d=s[_],b=s[_+1],g=c*b-u*d,O=c-d,f=u-b,p=h*f-a*O,O=(o*O-h*g)/p;if((c<=O&&O<=d||d<=O&&O<=c)&&(n<=O&&O<=i||i<=O&&O<=n)){O=(o*f-a*g)/p;if((u<=O&&O<=b||b<=O&&O<=u)&&(t<=O&&O<=l||l<=O&&O<=t))return!0}c=d,u=b,_+=2}return!1},getMinX:function(){return this.minX},getMinY:function(){return this.minY},getMaxX:function(){return this.maxX},getMaxY:function(){return this.maxY},getWidth:function(){return this.maxX-this.minX},getHeight:function(){return this.maxY-this.minY},getBoundingBoxes:function(){return this.boundingBoxes},getPolygons:function(){return this.polygons},getPolygon:function(e){if(null==e)throw ct.thrown(new ie("boundingBox cannot be null."));e=this.boundingBoxes.indexOf(e);return-1==e?null:this.polygons[e]},__class__:E4},function(e,n){j4.call(this,e,n)}),Rs=((E["spine._SkeletonBounds.PolygonPool"]=Es).__name__="spine._SkeletonBounds.PolygonPool",Es.__super__=j4,Es.prototype=$extend(j4.prototype,{newObject:function(){return[]},__class__:Es}),(E["spine.SkeletonData"]=G4).__name__="spine.SkeletonData",G4.prototype={name:null,bones:null,slots:null,skins:null,defaultSkin:null,events:null,animations:null,ikConstraints:null,transformConstraints:null,pathConstraints:null,x:null,y:null,width:null,height:null,version:null,hash:null,fps:null,imagesPath:null,audioPath:null,getBones:function(){return this.bones},findBone:function(e){if(null==e)throw ct.thrown(new ie("boneName cannot be null."));for(var n=this.bones,t=0,i=this.bones.length;t<i;){var l=n[t];if(l.name==e)return l;++t}return null},getSlots:function(){return this.slots},findSlot:function(e){if(null==e)throw ct.thrown(new ie("slotName cannot be null."));for(var n=this.slots,t=0,i=this.slots.length;t<i;){var l=n[t];if(l.name==e)return l;++t}return null},getDefaultSkin:function(){return this.defaultSkin},setDefaultSkin:function(e){this.defaultSkin=e},findSkin:function(e){if(null==e)throw ct.thrown(new ie("skinName cannot be null."));for(var n=0,t=this.skins;n<t.length;){var i=t[n];if(++n,i.name==e)return i}return null},getSkins:function(){return this.skins},findEvent:function(e){if(null==e)throw ct.thrown(new ie("eventDataName cannot be null."));for(var n=0,t=this.events;n<t.length;){var i=t[n];if(++n,i.name==e)return i}return null},getEvents:function(){return this.events},getAnimations:function(){return this.animations},findAnimation:function(e){if(null==e)throw ct.thrown(new ie("animationName cannot be null."));for(var n=this.animations,t=0,i=this.animations.length;t<i;){var l=n[t];if(l.name==e)return l;++t}return null},getIkConstraints:function(){return this.ikConstraints},findIkConstraint:function(e){if(null==e)throw ct.thrown(new ie("constraintName cannot be null."));for(var n=this.ikConstraints,t=0,i=this.ikConstraints.length;t<i;){var l=n[t];if(l.name==e)return l;++t}return null},getTransformConstraints:function(){return this.transformConstraints},findTransformConstraint:function(e){if(null==e)throw ct.thrown(new ie("constraintName cannot be null."));for(var n=this.transformConstraints,t=0,i=this.transformConstraints.length;t<i;){var l=n[t];if(l.name==e)return l;++t}return null},getPathConstraints:function(){return this.pathConstraints},findPathConstraint:function(e){if(null==e)throw ct.thrown(new ie("constraintName cannot be null."));for(var n=this.pathConstraints,t=0,i=this.pathConstraints.length;t<i;){var l=n[t];if(l.name==e)return l;++t}return null},getName:function(){return this.name},setName:function(e){this.name=e},getX:function(){return this.x},setX:function(e){this.x=e},getY:function(){return this.y},setY:function(e){this.y=e},getWidth:function(){return this.width},setWidth:function(e){this.width=e},getHeight:function(){return this.height},setHeight:function(e){this.height=e},getVersion:function(){return this.version},setVersion:function(e){this.version=e},getHash:function(){return this.hash},setHash:function(e){this.hash=e},getImagesPath:function(){return this.imagesPath},setImagesPath:function(e){this.imagesPath=e},getAudioPath:function(){return this.audioPath},setAudioPath:function(e){this.audioPath=e},getFps:function(){return this.fps},setFps:function(e){this.fps=e},toString:function(){return null!=this.name?this.name:ws.getClass(this).__name__},__class__:G4},(E["spine.SkeletonLoader"]=H4).__name__="spine.SkeletonLoader",H4.prototype={attachmentLoader:null,scale:null,linkedMeshes:null,getScale:function(){return this.scale},setScale:function(e){if(0==e)throw ct.thrown(new ie("scale cannot be 0."));this.scale=e},__class__:H4},function(e){H4.call(this,e)}),Vs=((E["spine.SkeletonJson"]=Rs).__name__="spine.SkeletonJson",Rs.setBezier=function(e,n,t,i,l,s,r,h,a,o,c,u){e.setBezier(i,n,t,l,s,r,h,a,o,c,u)},Rs.__super__=H4,Rs.prototype=$extend(H4.prototype,{readSkeletonData:function(e){if(null==e)throw ct.thrown(new ie("root cannot be null."));for(var n=this.scale,t=new G4,i=e.get("skeleton"),l=(null!=i&&(t.hash=i.getString("hash",null),t.version=i.getString("spine",null),t.x=i.getFloat("x",0),t.y=i.getFloat("y",0),t.width=i.getFloat("width",0),t.height=i.getFloat("height",0),t.fps=i.getFloat("fps",30),t.imagesPath=i.getString("images",null),t.audioPath=i.getString("audio",null)),e.getChild("bones"));null!=l;){var s=null,r=l.getString("parent",null);if(null!=r&&null==(s=t.findBone(r)))throw ct.thrown(new fr("Parent bone not found: "+r));switch((u=new r4(t.bones.length,l.getString("name"),s)).length=l.getFloat("length",0)*n,u.x=l.getFloat("x",0)*n,u.y=l.getFloat("y",0)*n,u.rotation=l.getFloat("rotation",0),u.scaleX=l.getFloat("scaleX",1),u.scaleY=l.getFloat("scaleY",1),u.shearX=l.getFloat("shearX",0),u.shearY=l.getFloat("shearY",0),l.getString("transform","normal")){case"noRotationOrReflection":P=2;break;case"noScale":P=3;break;case"noScaleOrReflection":P=4;break;case"normal":P=0;break;case"onlyTranslation":P=1;break;default:P=0}u.transformMode=P,u.skinRequired=l.getBoolean("skin",!1),null!=(c=l.getString("color",null))&&nr.valueOfIntoColor(c,u.getColor()),t.bones.push(u),l=l.get_next()}for(var h=e.getChild("slots");null!=h;){var E=h.getString("name"),a=h.getString("bone"),o=t.findBone(a);if(null==o)throw ct.thrown(new fr("Slot bone not found: "+a));var c,u=new Ws(t.slots.length,E,o),a=(null!=(c=h.getString("color",null))&&nr.valueOfIntoColor(c,u.getColor()),h.getString("dark",null));switch(null!=a&&u.setDarkColor(nr.valueOf(a)),u.attachmentName=h.getString("attachment",null),h.getString("blend","normal")){case"additive":P=1;break;case"multiply":P=2;break;case"normal":P=0;break;case"screen":P=3;break;default:P=0}u.blendMode=P,t.slots.push(u),h=h.get_next()}for(var _=e.getChild("ik");null!=_;){(u=new x4(_.getString("name"))).order=_.getInt("order",0),u.skinRequired=_.getBoolean("skin",!1);for(var d=_.getChild("bones");null!=d;){if(null==(p=t.findBone(d.asString())))throw ct.thrown(new fr("IK bone not found: "+ot.string(d)));u.bones.push(p),d=d.get_next()}var b=_.getString("target");if(u.target=t.findBone(b),null==u.target)throw ct.thrown(new fr("IK target bone not found: "+b));u.mix=_.getFloat("mix",1),u.softness=_.getFloat("softness",0)*n,u.bendDirection=_.getBoolean("bendPositive",!0)?1:-1,u.compress=_.getBoolean("compress",!1),u.stretch=_.getBoolean("stretch",!1),u.uniform=_.getBoolean("uniform",!1),t.ikConstraints.push(u),_=_.get_next()}for(_=e.getChild("transform");null!=_;){for(d=((u=new Ys(_.getString("name"))).order=_.getInt("order",0),u.skinRequired=_.getBoolean("skin",!1),_.getChild("bones"));null!=d;){if(null==(p=t.findBone(d.asString())))throw ct.thrown(new fr("Transform constraint bone not found: "+ot.string(d)));u.bones.push(p),d=d.get_next()}b=_.getString("target");if(u.target=t.findBone(b),null==u.target)throw ct.thrown(new fr("Transform constraint target bone not found: "+b));u.local=_.getBoolean("local",!1),u.relative=_.getBoolean("relative",!1),u.offsetRotation=_.getFloat("rotation",0),u.offsetX=_.getFloat("x",0)*n,u.offsetY=_.getFloat("y",0)*n,u.offsetScaleX=_.getFloat("scaleX",0),u.offsetScaleY=_.getFloat("scaleY",0),u.offsetShearY=_.getFloat("shearY",0),u.mixRotate=_.getFloat("mixRotate",1),u.mixX=_.getFloat("mixX",1),u.mixY=_.getFloat("mixY",u.mixX),u.mixScaleX=_.getFloat("mixScaleX",1),u.mixScaleY=_.getFloat("mixScaleY",u.mixScaleX),u.mixShearY=_.getFloat("mixShearY",1),t.transformConstraints.push(u),_=_.get_next()}for(_=e.getChild("path");null!=_;){for(d=((u=new z4(_.getString("name"))).order=_.getInt("order",0),u.skinRequired=_.getBoolean("skin",!1),_.getChild("bones"));null!=d;){if(null==(p=t.findBone(d.asString())))throw ct.thrown(new fr("Path bone not found: "+ot.string(d)));u.bones.push(p),d=d.get_next()}var g,O,b=_.getString("target");if(u.target=t.findSlot(b),null==u.target)throw ct.thrown(new fr("Path target slot not found: "+b));switch(_.getString("positionMode","percent")){case"fixed":P=0;break;case"percent":P=1;break;default:P=0}switch(u.positionMode=P,_.getString("spacingMode","length")){case"fixed":g=1;break;case"length":g=0;break;case"percent":g=2;break;case"proportional":g=3;break;default:g=0}switch(u.spacingMode=g,_.getString("rotateMode","tangent")){case"chain":O=1;break;case"chainScale":O=2;break;default:O=0}u.rotateMode=O,u.offsetRotation=_.getFloat("rotation",0),u.position=_.getFloat("position",0),0==u.positionMode&&(u.position*=n),u.spacing=_.getFloat("spacing",0),0!=u.spacingMode&&1!=u.spacingMode||(u.spacing*=n),u.mixRotate=_.getFloat("mixRotate",1),u.mixX=_.getFloat("mixX",1),u.mixY=_.getFloat("mixY",1),t.pathConstraints.push(u),_=_.get_next()}for(var f=e.getChild("skins");null!=f;){for(var p,C=new Ls(f.getString("name")),d=f.getChild("bones");null!=d;){if(null==(p=t.findBone(d.asString())))throw ct.thrown(new fr("Skin bone not found: "+ot.string(d)));C.bones.push(p),d=d.get_next()}for(var v=f.getChild("ik");null!=v;){var m=t.findIkConstraint(v.asString());if(null==m)throw ct.thrown(new fr("Skin IK constraint not found: "+ot.string(v)));C.constraints.push(m),v=v.get_next()}for(var w=f.getChild("transform");null!=w;){var y=t.findTransformConstraint(w.asString());if(null==y)throw ct.thrown(new fr("Skin transform constraint not found: "+ot.string(w)));C.constraints.push(y),w=w.get_next()}for(var U=f.getChild("path");null!=U;){var D=t.findPathConstraint(U.asString());if(null==D)throw ct.thrown(new fr("Skin path constraint not found: "+ot.string(U)));C.constraints.push(D),U=U.get_next()}for(var T=f.getChild("attachments");null!=T;){var x=t.findSlot(T.get_name());if(null==x)throw ct.thrown(new fr("Slot not found: "+T.get_name()));for(var S=T.get_child();null!=S;){try{var A=this.readAttachment(S,C,x.index,S.get_name(),t);null!=A&&C.setAttachment(x.index,S.get_name(),A)}catch(e){zl.lastError=e;var k=ct.caught(e).unwrap();throw ct.thrown(new fr("Error reading attachment: "+S.get_name()+", skin: "+ot.string(C),k))}S=S.get_next()}T=T.get_next()}t.skins.push(C),"default"==C.name&&(t.defaultSkin=C),f=f.get_next()}for(var R=this.linkedMeshes,I=0,V=this.linkedMeshes.length;I<V;){var P,F=R[I];if(null==(C=null==F.skin?t.getDefaultSkin():t.findSkin(F.skin)))throw ct.thrown(new fr("Skin not found: "+F.skin));if(null==(s=C.getAttachment(F.slotIndex,F.parent)))throw ct.thrown(new fr("Parent mesh not found: "+F.parent));P=F.inheritDeform?s:F.mesh,F.mesh.setDeformAttachment(P);var L=s;F.mesh.setParentMesh(L),F.mesh.updateUVs(),++I}for(var i=this.linkedMeshes,B=(i.splice(0,i.length),e.getChild("events"));null!=B;)(u=new v4(B.get_name())).intValue=B.getInt("int",0),u.floatValue=B.getFloat("float",0),u.stringValue=B.getString("string",""),u.audioPath=B.getString("audio",null),null!=u.audioPath&&(u.volume=B.getFloat("volume",1),u.balance=B.getFloat("balance",0)),t.events.push(u),B=B.get_next();for(var M=e.getChild("animations");null!=M;){try{this.readAnimation(M,M.get_name(),t)}catch(e){zl.lastError=e;k=ct.caught(e).unwrap();throw ct.thrown(new fr("Error reading animation: "+M.get_name(),k))}M=M.get_next()}return t},readAttachment:function(e,n,t,i,l){var s,r=this.scale;i=e.getString("name",i);switch(e.getString("type","region")){case"boundingbox":s=1;break;case"clipping":s=6;break;case"linkedmesh":s=3;break;case"mesh":s=2;break;case"path":s=4;break;case"point":s=5;break;default:s=0}if(0==s){var h=e.getString("path",i),a=this.attachmentLoader.newRegionAttachment(n,i,h);if(null==a)return null;a.setPath(h),a.setX(e.getFloat("x",0)*r),a.setY(e.getFloat("y",0)*r),a.setScaleX(e.getFloat("scaleX",1)),a.setScaleY(e.getFloat("scaleY",1)),a.setRotation(e.getFloat("rotation",0)),a.setWidth(e.getFloat("width")*r),a.setHeight(e.getFloat("height")*r);h=e.getString("color",null);return null!=h&&nr.valueOfIntoColor(h,a.getColor()),a.updateOffset(),a}if(1==s){h=this.attachmentLoader.newBoundingBoxAttachment(n,i);if(null==h)return null;this.readVertices(e,h,e.getInt("vertexCount")<<1);a=e.getString("color",null);return null!=a&&nr.valueOfIntoColor(a,h.getColor()),h}if(2==s){a=e.getString("path",i),h=this.attachmentLoader.newMeshAttachment(n,i,a);if(null==h)return null;h.setPath(a);var a=e.getString("color",null),a=(null!=a&&nr.valueOfIntoColor(a,h.getColor()),h.setWidth(e.getFloat("width",0)*r),h.setHeight(e.getFloat("height",0)*r),e.getString("parent",null));return null!=a?this.linkedMeshes.push(new Vs(h,e.getString("skin",null),t,a,e.getBoolean("deform",!0))):(a=e.require("uvs").asFloatArray(),this.readVertices(e,h,a.length),h.setTriangles(e.require("triangles").asShortArray()),h.setRegionUVs(a),h.updateUVs(),e.has("hull")&&h.setHullLength(e.require("hull").asInt()<<1),e.has("edges")&&h.setEdges(e.require("edges").asShortArray())),h}if(3==s){a=e.getString("path",i),h=this.attachmentLoader.newMeshAttachment(n,i,a);if(null==h)return null;h.setPath(a);a=e.getString("color",null),a=(null!=a&&nr.valueOfIntoColor(a,h.getColor()),h.setWidth(e.getFloat("width",0)*r),h.setHeight(e.getFloat("height",0)*r),e.getString("parent",null));return null!=a?this.linkedMeshes.push(new Vs(h,e.getString("skin",null),t,a,e.getBoolean("deform",!0))):(t=e.require("uvs").asFloatArray(),this.readVertices(e,h,t.length),h.setTriangles(e.require("triangles").asShortArray()),h.setRegionUVs(t),h.updateUVs(),e.has("hull")&&h.setHullLength(e.require("hull").asInt()<<1),e.has("edges")&&h.setEdges(e.require("edges").asShortArray())),h}if(4==s){a=this.attachmentLoader.newPathAttachment(n,i);if(null==a)return null;a.setClosed(e.getBoolean("closed",!1)),a.setConstantSpeed(e.getBoolean("constantSpeed",!0));var t=e.getInt("vertexCount"),h=(this.readVertices(e,a,t<<1),t/3),o=0|(h=null==h?0:h),c=[];if(0<h){var u=c.length;if(o<u)c.splice(o,o-u);else if(u<o)for(;u<o;)c.push(0),++u}for(var _=c,d=0,b=e.require("lengths").get_child();null!=b;)_[d++]=b.asFloat()*r,b=b.get_next();a.setLengths(_);t=e.getString("color",null);return null!=t&&nr.valueOfIntoColor(t,a.getColor()),a}if(5==s){h=this.attachmentLoader.newPointAttachment(n,i);if(null==h)return null;h.setX(e.getFloat("x",0)*r),h.setY(e.getFloat("y",0)*r),h.setRotation(e.getFloat("rotation",0));t=e.getString("color",null);return null!=t&&nr.valueOfIntoColor(t,h.getColor()),h}if(6!=s)return null;a=this.attachmentLoader.newClippingAttachment(n,i);if(null==a)return null;t=e.getString("end",null);if(null!=t){h=l.findSlot(t);if(null==h)throw ct.thrown(new fr("Clipping end slot not found: "+t));a.setEndSlot(h)}this.readVertices(e,a,e.getInt("vertexCount")<<1);n=e.getString("color",null);return null!=n&&nr.valueOfIntoColor(n,a.getColor()),a},readVertices:function(e,n,t){n.setWorldVerticesLength(t);var i=e.require("vertices").asFloatArray();if(t==i.length){if(1!=this.scale)for(var l=0,s=i.length;l<s;)i[l]*=this.scale,++l;n.setVertices(i)}else{for(var r=[],h=[],l=0,s=i.length;l<s;)for(var a=0|i[l++],o=(h.push(a),l+(a<<2));l<o;)h.push(0|i[l]),r.push(i[l+1]*this.scale),r.push(i[l+2]*this.scale),r.push(i[l+3]),l+=4;n.setBones(h),n.setVertices(r)}},readAnimation:function(e,E,n){for(var t=this.scale,i=[],l=e.getChild("slots");null!=l;){if(null==(B=n.findSlot(l.get_name())))throw ct.thrown(new fr("Slot not found: "+l.get_name()));for(var s=l.get_child();null!=s;){if(null==(D=s.get_child()));else{var r=s.get_size();if("attachment"==(U=s.get_name())){for(var h=new Se(r,B.index),a=0;null!=D;)h.setFrame(a,D.getFloat("time",0),D.getString("name")),D=D.get_next(),++a;i.push(h)}else if("rgba"==U){for(var o=new Ne(r,r<<2,B.index),c=D.getFloat("time",0),R=(z=D.getString("color")).substring(0,2),V=ot.parseInt("0x"+R)/255,R=z.substring(2,4),L=ot.parseInt("0x"+R)/255,R=z.substring(4,6),H=ot.parseInt("0x"+R)/255,R=z.substring(6,8),N=ot.parseInt("0x"+R)/255,W=0,u=0;;){if(o.setFrame(W,c,V,L,H,N),null==(T=D.get_next())){o.shrink(u);break}var z,_=T.getFloat("time",0),Y=(z=T.getString("color")).substring(0,2),Y=ot.parseInt("0x"+Y)/255,G=z.substring(2,4),G=ot.parseInt("0x"+G)/255,X=z.substring(4,6),X=ot.parseInt("0x"+X)/255,K=z.substring(6,8),K=ot.parseInt("0x"+K)/255;null!=(S=D.get("curve"))&&(u=this.readCurve(S,o,u,W,0,c,_,V,Y,1),u=this.readCurve(S,o,u,W,1,c,_,L,G,1),u=this.readCurve(S,o,u,W,2,c,_,H,X,1),u=this.readCurve(S,o,u,W,3,c,_,N,K,1)),c=_,V=Y,L=G,H=X,N=K,D=T,++W}i.push(o)}else if("rgb"==U){for(var d=new Oe(r,3*r,B.index),q=D.getFloat("time",0),R=(te=D.getString("color")).substring(0,2),$=ot.parseInt("0x"+R)/255,j=te.substring(2,4),Q=ot.parseInt("0x"+j)/255,j=te.substring(4,6),Z=ot.parseInt("0x"+j)/255,J=0,ee=0;;){d.setFrame(J,q,$,Q,Z);var ne=D.get_next();if(null==ne){d.shrink(ee);break}var te,ie=ne.getFloat("time",0),le=(te=ne.getString("color")).substring(0,2),le=ot.parseInt("0x"+le)/255,se=te.substring(2,4),se=ot.parseInt("0x"+se)/255,re=te.substring(4,6),re=ot.parseInt("0x"+re)/255,he=D.get("curve");null!=he&&(ee=this.readCurve(he,d,ee,J,0,q,ie,$,le,1),ee=this.readCurve(he,d,ee,J,1,q,ie,Q,se,1),ee=this.readCurve(he,d,ee,J,2,q,ie,Z,re,1)),q=ie,$=le,Q=se,Z=re,D=ne,++J}i.push(d)}else if("alpha"==U)i.push(this.readTimeline(D,new Pe(r,r,B.index),0,1));else if("rgba2"==U){for(var b=new Qe(r,7*r,B.index),g=D.getFloat("time",0),j=(p=D.getString("light")).substring(0,2),ae=ot.parseInt("0x"+j)/255,oe=p.substring(2,4),ce=ot.parseInt("0x"+oe)/255,oe=p.substring(4,6),ue=ot.parseInt("0x"+oe)/255,oe=p.substring(6,8),_e=ot.parseInt("0x"+oe)/255,oe=(p=D.getString("dark")).substring(0,2),de=ot.parseInt("0x"+oe)/255,oe=p.substring(2,4),be=ot.parseInt("0x"+oe)/255,oe=p.substring(4,6),ge=ot.parseInt("0x"+oe)/255,O=0,f=0;;){b.setFrame(O,g,ae,ce,ue,_e,de,be,ge);var fe=D.get_next();if(null==fe){b.shrink(f);break}var p,pe=fe.getFloat("time",0),Ce=(p=fe.getString("light")).substring(0,2),Ce=ot.parseInt("0x"+Ce)/255,ve=p.substring(2,4),ve=ot.parseInt("0x"+ve)/255,me=p.substring(4,6),me=ot.parseInt("0x"+me)/255,ye=p.substring(6,8),ye=ot.parseInt("0x"+ye)/255,xe=(p=fe.getString("dark")).substring(0,2),xe=ot.parseInt("0x"+xe)/255,Ae=p.substring(2,4),Ae=ot.parseInt("0x"+Ae)/255,ke=p.substring(4,6),ke=ot.parseInt("0x"+ke)/255,Be=D.get("curve");null!=Be&&(f=this.readCurve(Be,b,f,O,0,g,pe,ae,Ce,1),f=this.readCurve(Be,b,f,O,1,g,pe,ce,ve,1),f=this.readCurve(Be,b,f,O,2,g,pe,ue,me,1),f=this.readCurve(Be,b,f,O,3,g,pe,_e,ye,1),f=this.readCurve(Be,b,f,O,4,g,pe,de,xe,1),f=this.readCurve(Be,b,f,O,5,g,pe,be,Ae,1),f=this.readCurve(Be,b,f,O,6,g,pe,ge,ke,1)),g=pe,ae=Ce,ce=ve,ue=me,_e=ye,de=xe,be=Ae,ge=ke,D=fe,++O}i.push(b)}else{if("rgb2"!=U)throw ct.thrown(new er("Invalid timeline type for a slot: "+U+" ("+l.get_name()+")"));for(var C=new Re(r,6*r,B.index),ze=D.getFloat("time",0),oe=(m=D.getString("light")).substring(0,2),qe=ot.parseInt("0x"+oe)/255,je=m.substring(2,4),en=ot.parseInt("0x"+je)/255,je=m.substring(4,6),nn=ot.parseInt("0x"+je)/255,je=(m=D.getString("dark")).substring(0,2),tn=ot.parseInt("0x"+je)/255,je=m.substring(2,4),ln=ot.parseInt("0x"+je)/255,je=m.substring(4,6),sn=ot.parseInt("0x"+je)/255,rn=0,v=0;;){C.setFrame(rn,ze,qe,en,nn,tn,ln,sn);var hn=D.get_next();if(null==hn){C.shrink(v);break}var m,an=hn.getFloat("time",0),on=(m=hn.getString("light")).substring(0,2),on=ot.parseInt("0x"+on)/255,cn=m.substring(2,4),cn=ot.parseInt("0x"+cn)/255,un=m.substring(4,6),un=ot.parseInt("0x"+un)/255,_n=(m=hn.getString("dark")).substring(0,2),_n=ot.parseInt("0x"+_n)/255,dn=m.substring(2,4),dn=ot.parseInt("0x"+dn)/255,bn=m.substring(4,6),bn=ot.parseInt("0x"+bn)/255,gn=D.get("curve");null!=gn&&(v=this.readCurve(gn,C,v,rn,0,ze,an,qe,on,1),v=this.readCurve(gn,C,v,rn,1,ze,an,en,cn,1),v=this.readCurve(gn,C,v,rn,2,ze,an,nn,un,1),v=this.readCurve(gn,C,v,rn,3,ze,an,tn,_n,1),v=this.readCurve(gn,C,v,rn,4,ze,an,ln,dn,1),v=this.readCurve(gn,C,v,rn,5,ze,an,sn,bn,1)),ze=an,qe=on,en=cn,nn=un,tn=_n,ln=dn,sn=bn,D=hn,++rn}i.push(C)}}s=s.get_next()}l=l.get_next()}for(var On=e.getChild("bones");null!=On;){var w=n.findBone(On.get_name());if(null==w)throw ct.thrown(new fr("Bone not found: "+On.get_name()));for(s=On.get_child();null!=s;){if(null==(D=s.get_child()));else{r=s.get_size();if("rotate"==(U=s.get_name()))i.push(this.readTimeline(D,new De(r,r,w.index),0,1));else if("translate"==U){h=new Ee(r,r<<1,w.index);i.push(this.readTimeline2(D,h,"x","y",0,t))}else if("translatex"==U)i.push(this.readTimeline(D,new Fe(r,r,w.index),0,t));else if("translatey"==U)i.push(this.readTimeline(D,new Ge(r,r,w.index),0,t));else if("scale"==U){o=new He(r,r<<1,w.index);i.push(this.readTimeline2(D,o,"x","y",1,1))}else if("scalex"==U)i.push(this.readTimeline(D,new Ie(r,r,w.index),1,1));else if("scaley"==U)i.push(this.readTimeline(D,new Je(r,r,w.index),1,1));else if("shear"==U){d=new Ke(r,r<<1,w.index);i.push(this.readTimeline2(D,d,"x","y",0,1))}else if("shearx"==U)i.push(this.readTimeline(D,new Le(r,r,w.index),0,1));else{if("sheary"!=U)throw ct.thrown(new er("Invalid timeline type for a bone: "+U+" ("+On.get_name()+")"));i.push(this.readTimeline(D,new Me(r,r,w.index),0,1))}}s=s.get_next()}On=On.get_next()}for(s=e.getChild("ik");null!=s;){if(null==(D=s.get_child()));else{for(var fn=n.findIkConstraint(s.get_name()),h=new We(s.get_size(),s.get_size()<<1,n.getIkConstraints().indexOf(fn)),c=D.getFloat("time",0),pn=D.getFloat("mix",1),Cn=D.getFloat("softness",0)*t,a=0,u=0;;){if(h.setFrame(a,c,pn,Cn,D.getBoolean("bendPositive",!0)?1:-1,D.getBoolean("compress",!1),D.getBoolean("stretch",!1)),null==(T=D.get_next())){h.shrink(u);break}var _=T.getFloat("time",0),vn=T.getFloat("mix",1),mn=T.getFloat("softness",0)*t;null!=(S=D.get("curve"))&&(u=this.readCurve(S,h,u,a,0,c,_,pn,vn,1),u=this.readCurve(S,h,u,a,1,c,_,Cn,mn,t)),c=_,pn=vn,Cn=mn,D=T,++a}i.push(h)}s=s.get_next()}for(s=e.getChild("transform");null!=s;){if(null==(D=s.get_child()));else{for(var fn=n.findTransformConstraint(s.get_name()),h=new Xe(s.get_size(),6*s.get_size(),n.getTransformConstraints().indexOf(fn)),c=D.getFloat("time",0),wn=D.getFloat("mixRotate",1),y=D.getFloat("mixX",1),yn=D.getFloat("mixY",y),Un=D.getFloat("mixScaleX",1),Dn=D.getFloat("mixScaleY",Un),Tn=D.getFloat("mixShearY",1),a=0,u=0;;){if(h.setFrame(a,c,wn,y,yn,Un,Dn,Tn),null==(T=D.get_next())){h.shrink(u);break}var _=T.getFloat("time",0),xn=T.getFloat("mixRotate",1),Sn=T.getFloat("mixX",1),An=T.getFloat("mixY",Sn),kn=T.getFloat("mixScaleX",1),In=T.getFloat("mixScaleY",kn),Pn=T.getFloat("mixShearY",1);null!=(S=D.get("curve"))&&(u=this.readCurve(S,h,u,a,0,c,_,wn,xn,1),u=this.readCurve(S,h,u,a,1,c,_,y,Sn,1),u=this.readCurve(S,h,u,a,2,c,_,yn,An,1),u=this.readCurve(S,h,u,a,3,c,_,Un,kn,1),u=this.readCurve(S,h,u,a,4,c,_,Dn,In,1),u=this.readCurve(S,h,u,a,5,c,_,Tn,Pn,1)),c=_,wn=xn,y=Sn,yn=An,Dn=In,Un=Un=kn,D=T,++a}i.push(h)}s=s.get_next()}for(var Fn=e.getChild("path");null!=Fn;){if(null==(fn=n.findPathConstraint(Fn.get_name())))throw ct.thrown(new fr("Path constraint not found: "+Fn.get_name()));for(var Bn=n.pathConstraints.indexOf(fn),s=Fn.get_child();null!=s;){if(null==(D=s.get_child()));else{var U,r=s.get_size();if("position"==(U=s.get_name())){h=new Ye(r,r,Bn);i.push(this.readTimeline(D,h,0,0==fn.positionMode?t:1))}else if("spacing"==U){o=new Ze(r,r,Bn);i.push(this.readTimeline(D,o,0,0==fn.spacingMode||1==fn.spacingMode?t:1))}else if("mix"==U){for(d=new $e(r,3*r,Bn),c=D.getFloat("time",0),wn=D.getFloat("mixRotate",1),y=D.getFloat("mixX",1),yn=D.getFloat("mixY",y),a=0,u=0;;){if(d.setFrame(a,c,wn,y,yn),null==(T=D.get_next())){d.shrink(u);break}_=T.getFloat("time",0),xn=T.getFloat("mixRotate",1),Sn=T.getFloat("mixX",1),An=T.getFloat("mixY",Sn);null!=(S=D.get("curve"))&&(u=this.readCurve(S,d,u,a,0,c,_,wn,xn,1),u=this.readCurve(S,d,u,a,1,c,_,y,Sn,1),u=this.readCurve(S,d,u,a,2,c,_,yn,An,1)),c=_,wn=xn,y=Sn,yn=An,D=T,++a}i.push(d)}}s=s.get_next()}Fn=Fn.get_next()}for(var Mn=e.getChild("deform");null!=Mn;){var En=n.findSkin(Mn.get_name());if(null==En)throw ct.thrown(new fr("Skin not found: "+Mn.get_name()));for(l=Mn.get_child();null!=l;){if(null==(B=n.findSlot(l.get_name())))throw ct.thrown(new fr("Slot not found: "+l.get_name()));for(var D,s=l.get_child();null!=s;){if(null==(D=s.get_child()));else{var Rn=at=En.getAttachment(B.index,s.get_name());if(null==Rn)throw ct.thrown(new fr("Deform attachment not found: "+s.get_name()));for(var Vn=null!=Rn.getBones(),Ln=Rn.getVertices(),Hn=Vn?(Ln.length/3|0)<<1:Ln.length,h=new Te(s.get_size(),s.get_size(),B.index,Rn),c=D.getFloat("time",0),a=0,u=0;;){var T,Nn=null,Wn=D.get("vertices");if(null==Wn)if(Vn){A=0|(Zn=null==(Zn=Hn)?0:Zn);var zn=[];if(0<Zn)if(A<(k=zn.length))zn.splice(A,A-k);else if(k<A)for(;k<A;)zn.push(0),++k;Nn=zn}else Nn=Ln;else{P=0|(Jn=null==(Jn=Hn)?0:Jn);var Yn=[];if(0<Jn)if(P<(F=Yn.length))Yn.splice(P,P-F);else if(F<P)for(;F<P;)Yn.push(0),++F;var Nn=Yn,Gn=D.getInt("offset",0);if(ur.copy(Wn.asFloatArray(),0,Nn,Gn,Wn.get_size()),1!=t)for(var Xn=(I=Gn)+Wn.get_size();I<Xn;)Nn[I]*=t,++I;if(!Vn)for(var x=0;x<Hn;)Nn[x]+=Ln[x],++x}if(h.setFrame(a,c,Nn),null==(T=D.get_next())){h.shrink(u);break}var S,_=T.getFloat("time",0);null!=(S=D.get("curve"))&&(u=this.readCurve(S,h,u,a,0,c,_,0,1,1)),c=_,D=T,++a}i.push(h)}s=s.get_next()}l=l.get_next()}Mn=Mn.get_next()}var Kn=e.get("drawOrder");if(null!=Kn){for(var h=new Ve(Kn.get_size()),qn=n.slots.length,a=0,$n=Kn.get_child();null!=$n;){var jn=null,Qn=$n.get("offsets");if(null!=Qn){A=0|(Zn=null==(Zn=qn)?0:Zn);var Zn,A,k,zn=[];if(0!=Zn)if(A<(k=zn.length))zn.splice(A,A-k);else if(k<A)for(;k<A;)zn.push(0),++k;for(var jn=zn,I=qn-1;0<=I;)jn[I]=-1,--I;P=0|(Jn=null==(Jn=qn-Qn.get_size())?0:Jn);var Jn,P,F,Yn=[];if(0!=Jn)if(P<(F=Yn.length))Yn.splice(P,P-F);else if(F<P)for(;F<P;)Yn.push(0),++F;for(var B,et=Yn,nt=0,tt=0,it=Qn.get_child();null!=it;){if(null==(B=n.findSlot(it.getString("slot"))))throw ct.thrown(new fr("Slot not found: "+it.getString("slot")));for(;nt!=B.index;)et[tt++]=nt++;jn[nt+++it.getInt("offset")]=nt-1,it=it.get_next()}for(;nt<qn;)et[tt++]=nt++;for(x=qn-1;0<=x;)-1==jn[x]&&(jn[x]=et[--tt]),--x}h.setFrame(a,$n.getFloat("time",0),jn),$n=$n.get_next(),++a}i.push(h)}Kn=e.get("events");if(null!=Kn){for(var h=new Ue(Kn.get_size()),a=0,M=Kn.get_child();null!=M;){var lt=n.findEvent(M.getString("name"));if(null==lt)throw ct.thrown(new fr("Event not found: "+M.getString("name")));var st=new u4(M.getFloat("time",0),lt);st.intValue=M.getInt("int",lt.intValue),st.floatValue=M.getFloat("float",lt.floatValue),st.stringValue=M.getString("string",lt.stringValue),null!=st.getData().audioPath&&(st.volume=M.getFloat("volume",lt.volume),st.balance=M.getFloat("balance",lt.balance)),h.setFrame(a,st),M=M.get_next(),++a}i.push(h)}for(var rt=0,ht=i,I=0,Xn=i.length;I<Xn;){var at=ht[I],rt=Math.max(rt,at.getDuration());++I}n.animations.push(new we(E,i,rt))},readTimeline:function(e,n,t,i){for(var l=e.getFloat("time",0),s=e.getFloat("value",t)*i,r=0,h=0;;){n.setFrame(r,l,s);var a=e.get_next();if(null==a)return n.shrink(h),n;var o=a.getFloat("time",0),c=a.getFloat("value",t)*i,u=e.get("curve");null!=u&&(h=this.readCurve(u,n,h,r,0,l,o,s,c,i)),l=o,s=c,e=a,++r}},readTimeline2:function(e,n,t,i,l,s){for(var r=e.getFloat("time",0),h=e.getFloat(t,l)*s,a=e.getFloat(i,l)*s,o=0,c=0;;){n.setFrame(o,r,h,a);var u=e.get_next();if(null==u)return n.shrink(c),n;var _=u.getFloat("time",0),d=u.getFloat(t,l)*s,b=u.getFloat(i,l)*s,g=e.get("curve");null!=g&&(c=this.readCurve(g,n,c,o,0,r,_,h,d,s),c=this.readCurve(g,n,c,o,1,r,_,a,b,s)),r=_,h=d,a=b,e=u,++o}},readCurve:function(e,n,t,i,l,s,r,h,a,o){var c,u,_;return e.isString()?("stepped"==e.asString()&&n.setStepped(i),t):(c=(e=e.getAtIndex(l<<2)).asFloat(),u=(e=e.get_next()).asFloat()*o,_=(e=e.get_next()).asFloat(),e=(e=e.get_next()).asFloat()*o,Rs.setBezier(n,i,l,t,s,h,c,u,_,e,r,a),t+1)},__class__:Rs}),function(e,n,t,i,l){this.inheritDeform=!1,this.slotIndex=0,this.skin=null,this.mesh=e,this.skin=n,this.slotIndex=t,this.parent=i,this.inheritDeform=l}),Ls=((E["spine.LinkedMesh"]=Vs).__name__="spine.LinkedMesh",Vs.prototype={parent:null,skin:null,slotIndex:null,mesh:null,inheritDeform:null,__class__:Vs},function(e){if(this.lookup=new Hs(0,"",null),this.constraints=[],this.bones=[],this.attachments=new $l,null==e)throw ct.thrown(new ie("name cannot be null."));this.name=e;_r.orderedItems(this.attachments)}),Hs=((E["spine.Skin"]=Ls).__name__="spine.Skin",Ls.prototype={name:null,attachments:null,bones:null,constraints:null,lookup:null,setAttachment:function(e,n,t){if(null==t)throw ct.thrown(new ie("attachment cannot be null."));e=new Hs(e,n,t);_r.add(this.attachments,e)||(_r.get(this.attachments,e).attachment=t)},addSkin:function(e){if(null==e)throw ct.thrown(new ie("skin cannot be null."));for(var n=0,t=e.bones;n<t.length;){var i=t[n];++n,-1==this.bones.indexOf(i)&&this.bones.push(i)}for(n=0,t=e.constraints;n<t.length;){i=t[n];++n,-1==this.constraints.indexOf(i)&&this.constraints.push(i)}for(n=0,t=_r.orderedItems(e.attachments);n<t.length;){var l=t[n];++n,this.setAttachment(l.slotIndex,l.name,l.attachment)}},copySkin:function(e){if(null==e)throw ct.thrown(new ie("skin cannot be null."));for(var n=0,t=e.bones;n<t.length;){var i=t[n];++n,-1==this.bones.indexOf(i)&&this.bones.push(i)}for(n=0,t=e.constraints;n<t.length;){i=t[n];++n,-1==this.constraints.indexOf(i)&&this.constraints.push(i)}for(n=0,t=_r.orderedItems(e.attachments);n<t.length;){var l,s=t[n];++n,s.attachment instanceof $s?(l=s.attachment,this.setAttachment(s.slotIndex,s.name,l.newLinkedMesh())):this.setAttachment(s.slotIndex,s.name,null!=s.attachment?s.attachment.copy():null)}},getAttachment:function(e,n){this.lookup.set(e,n);e=_r.get(this.attachments,this.lookup);return null!=e?e.attachment:null},removeAttachment:function(e,n){this.lookup.set(e,n),_r.remove(this.attachments,this.lookup)},getAttachments:function(){return _r.orderedItems(this.attachments)},getAttachmentsInSkinForSlot:function(e,n){if(e<0)throw ct.thrown(new ie("slotIndex must be >= 0."));if(null==n)throw ct.thrown(new ie("attachments cannot be null."));for(var t=0,i=_r.orderedItems(this.attachments);t<i.length;){var l=i[t];++t,l.slotIndex==e&&n.push(l)}},clear:function(){_r.clear(this.attachments);var e=this.bones;e.splice(0,e.length),(e=this.constraints).splice(0,e.length)},getBones:function(){return this.bones},getConstraints:function(){return this.constraints},getName:function(){return this.name},toString:function(){return this.name},attachAll:function(e,n){for(var t=e.slots,i=0,l=_r.orderedItems(n.attachments);i<l.length;){var s=l[i],r=(++i,s.slotIndex),h=t[r];h.attachment==s.attachment&&null!=(r=this.getAttachment(r,s.name))&&h.setAttachment(r)}},__class__:Ls},function(e,n,t){this.hashCode=0,this.slotIndex=0,this.set(e,n),this.attachment=t}),Ns=((E["spine.SkinEntry"]=Hs).__name__="spine.SkinEntry",Hs.prototype={slotIndex:null,name:null,attachment:null,hashCode:null,set:function(e,n){if(e<0)throw ct.thrown(new ie("slotIndex must be >= 0."));if(null==n)throw ct.thrown(new ie("name cannot be null."));this.slotIndex=e,this.name=n;var t,i=0;if(0!=n.length)for(var l=0,s=n.length;l<s;)var r=l++,i=(i<<5)-i+he.cca(n,r);t=i,this.hashCode=t+37*e|0},getSlotIndex:function(){return this.slotIndex},getName:function(){return this.name},getAttachment:function(){return this.attachment},getHashCode:function(){return this.hashCode},equals:function(e){return null!=e&&this.slotIndex==e.slotIndex&&this.name==e.name},toString:function(){return this.slotIndex+":"+this.name},__class__:Hs},function(e,n){if(this.attachmentState=0,this.deform=[],this.attachmentTime=0,this.color=new nr,null==e)throw ct.thrown(new ie("data cannot be null."));if(null==n)throw ct.thrown(new ie("bone cannot be null."));this.data=e,this.bone=n,this.darkColor=null==e.darkColor?null:new nr,this.setToSetupPose()}),Ws=((E["spine.Slot"]=Ns).__name__="spine.Slot",Ns.prototype={data:null,bone:null,color:null,darkColor:null,attachment:null,attachmentTime:null,deform:null,attachmentState:null,getData:function(){return this.data},getBone:function(){return this.bone},getSkeleton:function(){return this.bone.skeleton},getColor:function(){return this.color},getDarkColor:function(){return this.darkColor},getAttachment:function(){return this.attachment},setAttachment:function(e){var n;this.attachment!=e&&(e instanceof Xs&&this.attachment instanceof Xs&&e.getDeformAttachment()==this.attachment.getDeformAttachment()||(n=this.deform).splice(0,n.length),this.attachment=e,this.attachmentTime=this.bone.skeleton.time)},getAttachmentTime:function(){return this.bone.skeleton.time-this.attachmentTime},setAttachmentTime:function(e){this.attachmentTime=this.bone.skeleton.time-e},getDeform:function(){return this.deform},setDeform:function(e){if(null==e)throw ct.thrown(new ie("deform cannot be null."));this.deform=e},setToSetupPose:function(){var e=this.color,n=this.data.color;e.r=n.r,e.g=n.g,e.b=n.b,e.a=n.a,null!=this.darkColor&&(e=this.darkColor,n=this.data.darkColor,e.r=n.r,e.g=n.g,e.b=n.b,e.a=n.a),null==this.data.attachmentName?this.setAttachment(null):(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},toString:function(){return this.data.name},__class__:Ns},function(e,n,t){if(this.color=new nr(1,1,1,1),e<(this.index=0))throw ct.thrown(new ie("index must be >= 0."));if(null==n)throw ct.thrown(new ie("name cannot be null."));if(null==t)throw ct.thrown(new ie("boneData cannot be null."));this.index=e,this.name=n,this.boneData=t}),zs=((E["spine.SlotData"]=Ws).__name__="spine.SlotData",Ws.prototype={index:null,name:null,boneData:null,color:null,darkColor:null,attachmentName:null,blendMode:null,getIndex:function(){return this.index},getName:function(){return this.name},getBoneData:function(){return this.boneData},getColor:function(){return this.color},getDarkColor:function(){return this.darkColor},setDarkColor:function(e){this.darkColor=e},setAttachmentName:function(e){this.attachmentName=e},getAttachmentName:function(){return this.attachmentName},getBlendMode:function(){return this.blendMode},setBlendMode:function(e){this.blendMode=e},toString:function(){return this.name},__class__:Ws},function(e,n){if(this.temp=new ar,this.active=!1,this.mixShearY=0,this.mixScaleY=0,this.mixScaleX=0,this.mixY=0,this.mixX=0,this.mixRotate=0,null==e)throw ct.thrown(new ie("data cannot be null."));if(null==n)throw ct.thrown(new ie("skeleton cannot be null."));this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY;e.bones.length;this.bones=[];for(var t=0,i=e.bones;t<i.length;){var l=i[t];++t,this.bones.push(n.findBone(l.name))}this.target=n.findBone(e.target.name)}),Ys=((E["spine.TransformConstraint"]=zs).__name__="spine.TransformConstraint",zs.__interfaces__=[p4],zs.prototype={data:null,bones:null,target:null,mixRotate:null,mixX:null,mixY:null,mixScaleX:null,mixScaleY:null,mixShearY:null,active:null,temp:null,update:function(){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleX&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},applyAbsoluteWorld:function(){for(var e=this.mixRotate,n=this.mixX,t=this.mixY,i=this.mixScaleX,l=this.mixScaleY,s=this.mixShearY,r=0!=n||0!=t,h=this.target,a=h.a,o=h.b,c=h.c,u=h.d,_=0<a*u-o*c?ae.degRad:-ae.degRad,d=this.data.offsetRotation*_,b=this.data.offsetShearY*_,g=this.bones,O=0,f=this.bones.length;O<f;){var p,C,v,m,w,y,U,D,T=g[O];0!=e&&(p=T.a,m=T.b,C=T.c,y=T.d,3.1415927<(v=ae.atan2(c,a)-ae.atan2(C,p)+d)?v-=6.2831854:v<-3.1415927&&(v+=6.2831854),v*=e,w=ae.cos(v),v=ae.sin(v),T.a=w*p-v*C,T.b=w*m-v*y,T.c=v*p+w*C,T.d=v*m+w*y),r&&((p=this.temp).x=this.data.offsetX,p.y=this.data.offsetY,h.localToWorld(p),T.worldX+=(p.x-T.worldX)*n,T.worldY+=(p.y-T.worldY)*t),0!=i&&(0!=(C=Math.sqrt(T.a*T.a+T.c*T.c))&&(C=(C+(Math.sqrt(a*a+c*c)-C+this.data.offsetScaleX)*i)/C),T.a*=C,T.c*=C),0!=l&&(0!=(v=Math.sqrt(T.b*T.b+T.d*T.d))&&(v=(v+(Math.sqrt(o*o+u*u)-v+this.data.offsetScaleY)*l)/v),T.b*=v,T.d*=v),0<s&&(m=T.b,w=T.d,y=ae.atan2(w,m),3.1415927<(U=ae.atan2(u,o)-ae.atan2(c,a)-(y-ae.atan2(T.c,T.a)))?U-=6.2831854:U<-3.1415927&&(U+=6.2831854),U=y+(U+b)*s,D=Math.sqrt(m*m+w*w),T.b=ae.cos(U)*D,T.d=ae.sin(U)*D),T.updateAppliedTransform(),++O}},applyRelativeWorld:function(){for(var e=this.mixRotate,n=this.mixX,t=this.mixY,i=this.mixScaleX,l=this.mixScaleY,s=this.mixShearY,r=0!=n||0!=t,h=this.target,a=h.a,o=h.b,c=h.c,u=h.d,_=0<a*u-o*c?ae.degRad:-ae.degRad,d=this.data.offsetRotation*_,b=this.data.offsetShearY*_,g=this.bones,O=0,f=this.bones.length;O<f;){var p,C,v,m,w,y,U,D=g[O];0!=e&&(p=D.a,y=D.b,C=D.c,w=D.d,3.1415927<(v=ae.atan2(c,a)+d)?v-=6.2831854:v<-3.1415927&&(v+=6.2831854),v*=e,m=ae.cos(v),v=ae.sin(v),D.a=m*p-v*C,D.b=m*y-v*w,D.c=v*p+m*C,D.d=v*y+m*w),r&&((p=this.temp).x=this.data.offsetX,p.y=this.data.offsetY,h.localToWorld(p),D.worldX+=p.x*n,D.worldY+=p.y*t),0!=i&&(C=(Math.sqrt(a*a+c*c)-1+this.data.offsetScaleX)*i+1,D.a*=C,D.c*=C),0!=l&&(v=(Math.sqrt(o*o+u*u)-1+this.data.offsetScaleY)*l+1,D.b*=v,D.d*=v),0<s&&(3.1415927<(y=ae.atan2(u,o)-ae.atan2(c,a))?y-=6.2831854:y<-3.1415927&&(y+=6.2831854),m=D.b,w=D.d,y=ae.atan2(w,m)+(y-1.57079635+b)*s,U=Math.sqrt(m*m+w*w),D.b=ae.cos(y)*U,D.d=ae.sin(y)*U),D.updateAppliedTransform(),++O}},applyAbsoluteLocal:function(){for(var e=this.mixRotate,n=this.mixX,t=this.mixY,i=this.mixScaleX,l=this.mixScaleY,s=this.mixShearY,r=this.target,h=this.bones,a=0,o=this.bones.length;a<o;){var c,u=h[a],_=u.arotation,d=(0!=e&&(d=r.arotation-_+this.data.offsetRotation,_+=(d-=360*(16384-(16384.499999999996-d/360|0)))*e),u.ax),b=u.ay,g=(d+=(r.ax-d+this.data.offsetX)*n,b+=(r.ay-b+this.data.offsetY)*t,u.ascaleX),O=u.ascaleY,f=(0!=i&&0!=g&&(g=(g+(r.ascaleX-g+this.data.offsetScaleX)*i)/g),0!=l&&0!=O&&(O=(O+(r.ascaleY-O+this.data.offsetScaleY)*l)/O),u.ashearY);0!=s&&(c=r.ashearY-f+this.data.offsetShearY,f+=(c-=360*(16384-(16384.499999999996-c/360|0)))*s),u.updateWorldTransformWithData(d,b,_,g,O,u.ashearX,f),++a}},applyRelativeLocal:function(){for(var e=this.mixRotate,n=this.mixX,t=this.mixY,i=this.mixScaleX,l=this.mixScaleY,s=this.mixShearY,r=this.target,h=this.bones,a=0,o=this.bones.length;a<o;){var c=h[a],u=c.arotation+(r.arotation+this.data.offsetRotation)*e,_=c.ax+(r.ax+this.data.offsetX)*n,d=c.ay+(r.ay+this.data.offsetY)*t,b=c.ascaleX*((r.ascaleX-1+this.data.offsetScaleX)*i+1),g=c.ascaleY*((r.ascaleY-1+this.data.offsetScaleY)*l+1),O=c.ashearY+(r.ashearY+this.data.offsetShearY)*s;c.updateWorldTransformWithData(_,d,u,b,g,c.ashearX,O),++a}},getBones:function(){return this.bones},getTarget:function(){return this.target},setTarget:function(e){if(null==e)throw ct.thrown(new ie("target cannot be null."));this.target=e},getMixRotate:function(){return this.mixRotate},setMixRotate:function(e){this.mixRotate=e},getMixX:function(){return this.mixX},setMixX:function(e){this.mixX=e},getMixY:function(){return this.mixY},setMixY:function(e){this.mixY=e},getMixScaleX:function(){return this.mixScaleX},setMixScaleX:function(e){this.mixScaleX=e},getMixScaleY:function(){return this.mixScaleY},setMixScaleY:function(e){this.mixScaleY=e},getMixShearY:function(){return this.mixShearY},setMixShearY:function(e){this.mixShearY=e},isActive:function(){return this.active},getData:function(){return this.data},toString:function(){return this.data.name},__class__:zs},function(e){this.local=!1,this.relative=!1,this.offsetShearY=0,this.offsetScaleY=0,this.offsetScaleX=0,this.offsetY=0,this.offsetX=0,this.offsetRotation=0,this.mixShearY=0,this.mixScaleY=0,this.mixScaleX=0,this.mixY=0,this.mixX=0,this.mixRotate=0,this.bones=[],t4.call(this,e)}),Gs=((E["spine.TransformConstraintData"]=Ys).__name__="spine.TransformConstraintData",Ys.__super__=t4,Ys.prototype=$extend(t4.prototype,{bones:null,target:null,mixRotate:null,mixX:null,mixY:null,mixScaleX:null,mixScaleY:null,mixShearY:null,offsetRotation:null,offsetX:null,offsetY:null,offsetScaleX:null,offsetScaleY:null,offsetShearY:null,relative:null,local:null,getBones:function(){return this.bones},getTarget:function(){return this.target},setTarget:function(e){if(null==e)throw ct.thrown(new ie("target cannot be null."));this.target=e},getMixRotate:function(){return this.mixRotate},setMixRotate:function(e){this.mixRotate=e},getMixX:function(){return this.mixX},setMixX:function(e){this.mixX=e},getMixY:function(){return this.mixY},setMixY:function(e){this.mixY=e},getMixScaleX:function(){return this.mixScaleX},setMixScaleX:function(e){this.mixScaleX=e},getMixScaleY:function(){return this.mixScaleY},setMixScaleY:function(e){this.mixScaleY=e},getMixShearY:function(){return this.mixShearY},setMixShearY:function(e){this.mixShearY=e},getOffsetRotation:function(){return this.offsetRotation},setOffsetRotation:function(e){this.offsetRotation=e},getOffsetX:function(){return this.offsetX},setOffsetX:function(e){this.offsetX=e},getOffsetY:function(){return this.offsetY},setOffsetY:function(e){this.offsetY=e},getOffsetScaleX:function(){return this.offsetScaleX},setOffsetScaleX:function(e){this.offsetScaleX=e},getOffsetScaleY:function(){return this.offsetScaleY},setOffsetScaleY:function(e){this.offsetScaleY=e},getOffsetShearY:function(){return this.offsetShearY},setOffsetShearY:function(e){this.offsetShearY=e},getRelative:function(){return this.relative},setRelative:function(e){this.relative=e},getLocal:function(){return this.local},setLocal:function(e){this.local=e},__class__:Ys}),(E["spine.attachments.AttachmentLoader"]=Q4).__name__="spine.attachments.AttachmentLoader",Q4.__isInterface__=!0,Q4.prototype={newRegionAttachment:null,newMeshAttachment:null,newBoundingBoxAttachment:null,newClippingAttachment:null,newPathAttachment:null,newPointAttachment:null,__class__:Q4},function(e){if(null==e)throw ct.thrown(new ie("atlas cannot be null."));this.atlas=e}),Xs=((E["spine.attachments.AtlasAttachmentLoader"]=Gs).__name__="spine.attachments.AtlasAttachmentLoader",Gs.__interfaces__=[Q4],Gs.prototype={atlas:null,newRegionAttachment:function(e,n,t){var i=this.atlas.findRegion(t);if(null==i)throw ct.thrown(new er("Region not found in atlas: "+t+" (region attachment: "+n+")"));t=new Zs(n);return t.setRegion(i),t},newMeshAttachment:function(e,n,t){var i=this.atlas.findRegion(t);if(null==i)throw ct.thrown(new er("Region not found in atlas: "+t+" (mesh attachment: "+n+")"));t=new $s(n);return t.setRegion(i),t},newBoundingBoxAttachment:function(e,n){return new Ks(n)},newClippingAttachment:function(e,n){return new qs(n)},newPathAttachment:function(e,n){return new js(n)},newPointAttachment:function(e,n){return new Qs(n)},__class__:Gs},(E["spine.attachments.Attachment"]=S4).__name__="spine.attachments.Attachment",S4.prototype={name:null,getName:function(){return this.name},toString:function(){return this.name},copy:function(){return null},__class__:S4},(E["spine.attachments.AttachmentType_enum"]=T4).__name__="spine.attachments.AttachmentType_enum",T4.valueOf=function(e){switch(e){case"boundingbox":return 1;case"clipping":return 6;case"linkedmesh":return 3;case"mesh":return 2;case"path":return 4;case"point":return 5;default:return 0}},function(e){this.deformAttachment=null,this.worldVerticesLength=0,this.id=Xs.getNextID(),S4.call(this,e)}),Ks=((E["spine.attachments.VertexAttachment"]=Xs).__name__="spine.attachments.VertexAttachment",Xs.getNextID=function(){return Xs.nextID++},Xs.__super__=S4,Xs.prototype=$extend(S4.prototype,{id:null,bones:null,vertices:null,worldVerticesLength:null,deformAttachment:null,get_deformAttachment:function(){return null!=this.deformAttachment?this.deformAttachment:this},set_deformAttachment:function(e){return this.deformAttachment=e},computeWorldVertices:function(e,n,t,i,l,s){t=l+(t>>1)*s;var r=e.getDeform(),h=this.vertices,a=this.bones;if(null==a){0<r.length&&(h=r);for(var o=(D=e.getBone()).getWorldX(),c=D.getWorldY(),u=D.getA(),_=D.getB(),d=D.getC(),b=D.getD(),g=n,O=l;O<t;){var f=h[g],p=h[g+1];i[O]=f*u+p*_+o,i[O+1]=f*d+p*b+c,g+=2,O+=s}}else{for(var g=0,C=0,v=0;v<n;)g+=(U=a[g])+1,C+=U,v+=2;var m=e.getSkeleton().getBones();if(0==r.length)for(O=l,_=3*C;O<t;){var w=0,y=0,U=a[g++];for(U+=g;g<U;){var D=m[a[g]],f=h[_],p=h[_+1],T=h[_+2];w+=(f*D.getA()+p*D.getB()+D.getWorldX())*T,y+=(f*D.getC()+p*D.getD()+D.getWorldY())*T,++g,_+=3}i[O]=w,i[O+1]=y,O+=s}else for(var x=r,O=l,_=3*C,S=C<<1;O<t;){w=0,y=0,U=a[g++];for(U+=g;g<U;){D=m[a[g]],f=h[_]+x[S],p=h[_+1]+x[S+1],T=h[_+2];w+=(f*D.getA()+p*D.getB()+D.getWorldX())*T,y+=(f*D.getC()+p*D.getD()+D.getWorldY())*T,++g,_+=3,S+=2}i[O]=w,i[O+1]=y,O+=s}}},getDeformAttachment:function(){return null!=this.deformAttachment?this.deformAttachment:this},setDeformAttachment:function(e){this.deformAttachment=e},getBones:function(){return this.bones},setBones:function(e){this.bones=e},getVertices:function(){return this.vertices},setVertices:function(e){this.vertices=e},getWorldVerticesLength:function(){return this.worldVerticesLength},setWorldVerticesLength:function(e){this.worldVerticesLength=e},getId:function(){return this.id},copyTo:function(e){if(null!=this.bones){i=0|(t=null==(t=this.bones.length)?0:t);var n=[];if(0!=t)if(i<(l=n.length))n.splice(i,i-l);else if(l<i)for(;l<i;)n.push(0),++l;e.bones=n,ur.copy(this.bones,0,e.bones,0,this.bones.length)}else e.bones=null;if(null!=this.vertices){i=0|(t=null==(t=this.vertices.length)?0:t);var t,i,l,n=[];if(0<t)if(i<(l=n.length))n.splice(i,i-l);else if(l<i)for(;l<i;)n.push(0),++l;e.vertices=n,ur.copy(this.vertices,0,e.vertices,0,this.vertices.length)}else e.vertices=null;e.worldVerticesLength=this.worldVerticesLength,e.deformAttachment=null!=this.deformAttachment?this.deformAttachment:this},__class__:Xs,__properties__:{set_deformAttachment:"set_deformAttachment",get_deformAttachment:"get_deformAttachment"}}),function(e){this.color=new nr(.38,.94,0,1),Xs.call(this,e)}),qs=((E["spine.attachments.BoundingBoxAttachment"]=Ks).__name__="spine.attachments.BoundingBoxAttachment",Ks.__super__=Xs,Ks.prototype=$extend(Xs.prototype,{color:null,getColor:function(){return this.color},copy:function(){var e=new Ks(this.name),n=(this.copyTo(e),e.color),t=this.color;return n.r=t.r,n.g=t.g,n.b=t.b,n.a=t.a,e},__class__:Ks}),function(e){this.color=new nr(.2275,.2275,.8078,1),Xs.call(this,e)}),$s=((E["spine.attachments.ClippingAttachment"]=qs).__name__="spine.attachments.ClippingAttachment",qs.__super__=Xs,qs.prototype=$extend(Xs.prototype,{endSlot:null,color:null,getEndSlot:function(){return this.endSlot},setEndSlot:function(e){this.endSlot=e},getColor:function(){return this.color},copy:function(){var e=new qs(this.name),n=(this.copyTo(e),e.endSlot=this.endSlot,e.color),t=this.color;return n.r=t.r,n.g=t.g,n.b=t.b,n.a=t.a,e},__class__:qs}),function(e){this.height=0,this.width=0,this.hullLength=0,this.color=new nr(1,1,1,1),this.uvs=null,Xs.call(this,e)}),js=((E["spine.attachments.MeshAttachment"]=$s).__name__="spine.attachments.MeshAttachment",$s.__super__=Xs,$s.prototype=$extend(Xs.prototype,{region:null,path:null,regionUVs:null,uvs:null,triangles:null,color:null,hullLength:null,parentMesh:null,edges:null,width:null,height:null,setRegion:function(e){if(null==e)throw ct.thrown(new ie("region cannot be null."));this.region=e},getRegion:function(){if(null==this.region)throw ct.thrown(new Js("Region has not been set: "+ot.string(this)));return this.region},updateUVs:function(){var e=this.regionUVs;if(null==this.uvs||this.uvs.length!=e.length){var n=e.length,t=0|(n=null==n?0:n),i=[];if(0<n){var l=i.length;if(t<l)i.splice(t,t-l);else if(l<t)for(;l<t;)i.push(0),++l}this.uvs=i}var s=this.uvs,r=s.length,h=0,a=0,o=0,c=0;if(this.region instanceof sr){var h=this.region.u,a=this.region.v,n=this.region,u=n.page.width,_=n.page.height,d=n.degrees;if(90==d){h-=(n.originalHeight-n.offsetY-n.packedWidth)/u,a-=(n.originalWidth-n.offsetX-n.packedHeight)/_;for(var o=n.originalHeight/u,c=n.originalWidth/_,b=0;b<r;)s[b]=h+e[b+1]*o,s[b+1]=a+(1-e[b])*c,b+=2;return}if(180==d){h-=(n.originalWidth-n.offsetX-n.packedWidth)/u,a-=n.offsetY/_,o=n.originalWidth/u,c=n.originalHeight/_;for(var g=0;g<r;)s[g]=h+(1-e[g])*o,s[g+1]=a+(1-e[g+1])*c,g+=2;return}if(270==d){h-=n.offsetY/u,a-=n.offsetX/_,o=n.originalHeight/u,c=n.originalWidth/_;for(var O=0;O<r;)s[O]=h+(1-e[O+1])*o,s[O+1]=a+e[O]*c,O+=2;return}h-=n.offsetX/u,a-=(n.originalHeight-n.offsetY-n.packedHeight)/_,o=n.originalWidth/u,c=n.originalHeight/_}else null==this.region?(h=a=0,o=c=1):(h=this.region.u,a=this.region.v,o=this.region.u2-h,c=this.region.v2-a);for(b=0;b<r;)s[b]=h+e[b]*o,s[b+1]=a+e[b+1]*c,b+=2},getTriangles:function(){return this.triangles},setTriangles:function(e){this.triangles=e},getRegionUVs:function(){return this.regionUVs},setRegionUVs:function(e){this.regionUVs=e},getUVs:function(){return this.uvs},setUVs:function(e){this.uvs=e},getColor:function(){return this.color},getPath:function(){return this.path},setPath:function(e){this.path=e},getHullLength:function(){return this.hullLength},setHullLength:function(e){this.hullLength=e},setEdges:function(e){this.edges=e},getEdges:function(){return this.edges},getWidth:function(){return this.width},setWidth:function(e){this.width=e},getHeight:function(){return this.height},setHeight:function(e){this.height=e},getParentMesh:function(){return this.parentMesh},setParentMesh:function(e){null!=(this.parentMesh=e)&&(this.bones=e.bones,this.vertices=e.vertices,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength,this.edges=e.edges,this.width=e.width,this.height=e.height)},copy:function(){if(null!=this.parentMesh)return this.newLinkedMesh();var e=new $s(this.name),n=(e.region=this.region,e.path=this.path,e.color),t=this.color;n.r=t.r,n.g=t.g,n.b=t.b,n.a=t.a,this.copyTo(e);l=0|(n=null==(n=this.regionUVs.length)?0:n);var i=[];if(0<n)if(l<(s=i.length))i.splice(l,l-s);else if(s<l)for(;s<l;)i.push(0),++s;e.regionUVs=i,ur.copy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length);l=0|(n=null==(n=this.uvs.length)?0:n);i=[];if(0<n)if(l<(s=i.length))i.splice(l,l-s);else if(s<l)for(;s<l;)i.push(0),++s;e.uvs=i,ur.copy(this.uvs,0,e.uvs,0,this.uvs.length);l=0|(n=null==(n=this.triangles.length)?0:n);i=[];if(0!=n)if(l<(s=i.length))i.splice(l,l-s);else if(s<l)for(;s<l;)i.push(0),++s;if(e.triangles=i,ur.copy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,null!=this.edges){l=0|(n=null==(n=this.edges.length)?0:n);var l,s,i=[];if(0!=n)if(l<(s=i.length))i.splice(l,l-s);else if(s<l)for(;s<l;)i.push(0),++s;e.edges=i,ur.copy(this.edges,0,e.edges,0,this.edges.length)}return e.width=this.width,e.height=this.height,e},newLinkedMesh:function(){var e=new $s(this.name),n=(e.region=this.region,e.path=this.path,e.color),t=this.color;return n.r=t.r,n.g=t.g,n.b=t.b,n.a=t.a,e.deformAttachment=null!=this.deformAttachment?this.deformAttachment:this,e.setParentMesh(null!=this.parentMesh?this.parentMesh:this),e.updateUVs(),e},__class__:$s}),function(e){this.color=new nr(1,.5,0,1),this.constantSpeed=!1,this.closed=!1,Xs.call(this,e)}),Qs=((E["spine.attachments.PathAttachment"]=js).__name__="spine.attachments.PathAttachment",js.__super__=Xs,js.prototype=$extend(Xs.prototype,{lengths:null,closed:null,constantSpeed:null,color:null,getClosed:function(){return this.closed},setClosed:function(e){this.closed=e},getConstantSpeed:function(){return this.constantSpeed},setConstantSpeed:function(e){this.constantSpeed=e},getLengths:function(){return this.lengths},setLengths:function(e){this.lengths=e},getColor:function(){return this.color},copy:function(){var e=new js(this.name),n=(this.copyTo(e),this.lengths.length),t=0|(n=null==n?0:n),i=[];if(0<n){var l=i.length;if(t<l)i.splice(t,t-l);else if(l<t)for(;l<t;)i.push(0),++l}e.lengths=i,ur.copy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=this.closed,e.constantSpeed=this.constantSpeed;var n=e.color,s=this.color;return n.r=s.r,n.g=s.g,n.b=s.b,n.a=s.a,e},__class__:js}),function(e){this.color=new nr(.9451,.9451,0,1),this.rotation=0,this.y=0,this.x=0,S4.call(this,e)}),Zs=((E["spine.attachments.PointAttachment"]=Qs).__name__="spine.attachments.PointAttachment",Qs.__super__=S4,Qs.prototype=$extend(S4.prototype,{x:null,y:null,rotation:null,color:null,getX:function(){return this.x},setX:function(e){this.x=e},getY:function(){return this.y},setY:function(e){this.y=e},getRotation:function(){return this.rotation},setRotation:function(e){this.rotation=e},getColor:function(){return this.color},computeWorldPosition:function(e,n){return n.x=this.x*e.getA()+this.y*e.getB()+e.getWorldX(),n.y=this.x*e.getC()+this.y*e.getD()+e.getWorldY(),n},computeWorldRotation:function(e){var n=Math.cos(this.rotation*hr.degRad),t=Math.sin(this.rotation*hr.degRad),i=n*e.getA()+t*e.getB(),n=n*e.getC()+t*e.getD();return Math.atan2(n,i)*hr.radDeg},copy:function(){var e=new Qs(this.name),n=(e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color),t=this.color;return n.r=t.r,n.g=t.g,n.b=t.b,n.a=t.a,e},__class__:Qs}),function(e){this.color=new nr(1,1,1,1);var n=8,t=0|(n=null==n?0:n),i=[];if(0<n)if(t<(l=i.length))i.splice(t,t-l);else if(l<t)for(;l<t;)i.push(0),++l;this.offset=i;t=0|(n=null==(n=8)?0:n);var l,i=[];if(0<n)if(t<(l=i.length))i.splice(t,t-l);else if(l<t)for(;l<t;)i.push(0),++l;this.uvs=i,this.height=0,this.width=0,this.rotation=0,this.scaleY=1,this.scaleX=1,this.y=0,this.x=0,S4.call(this,e)}),Js=((E["spine.attachments.RegionAttachment"]=Zs).__name__="spine.attachments.RegionAttachment",Zs.__super__=S4,Zs.prototype=$extend(S4.prototype,{region:null,path:null,x:null,y:null,scaleX:null,scaleY:null,rotation:null,width:null,height:null,uvs:null,offset:null,color:null,updateOffset:function(){var e=this.getWidth(),n=this.getHeight(),t=e/2,i=n/2,l=-t,s=-i,e=(this.region instanceof sr&&(l+=(r=this.region).offsetX/r.originalWidth*e,s+=r.offsetY/r.originalHeight*n,90==r.degrees?(t-=(r.originalWidth-r.offsetX-r.packedHeight)/r.originalWidth*e,i-=(r.originalHeight-r.offsetY-r.packedWidth)/r.originalHeight*n):(t-=(r.originalWidth-r.offsetX-r.packedWidth)/r.originalWidth*e,i-=(r.originalHeight-r.offsetY-r.packedHeight)/r.originalHeight*n)),this.getScaleX()),r=this.getScaleY(),n=(l*=e,s*=r,t*=e,i*=r,this.getRotation()),e=Math.cos(ae.degRad*n),r=Math.sin(ae.degRad*n),n=this.getX(),h=this.getY(),a=l*e+n,l=l*r,o=s*e+h,s=s*r,n=t*e+n,t=t*r,e=i*e+h,h=i*r,i=this.offset;i[0]=a-s,i[1]=o+l,i[2]=a-h,i[3]=e+l,i[4]=n-h,i[5]=e+t,i[6]=n-s,i[7]=o+t},setRegion:function(e){if(null==e)throw ct.thrown(new ie("region cannot be null."));this.region=e;var n=this.uvs;e instanceof sr&&90==e.degrees?(n[4]=e.u,n[5]=e.v2,n[6]=e.u,n[7]=e.v,n[0]=e.u2,n[1]=e.v,n[2]=e.u2,n[3]=e.v2):(n[2]=e.u,n[3]=e.v2,n[4]=e.u,n[5]=e.v,n[6]=e.u2,n[7]=e.v,n[0]=e.u2,n[1]=e.v2)},getRegion:function(){if(null==this.region)throw ct.thrown(new Js("Region has not been set: "+ot.string(this)));return this.region},computeWorldVertices:function(e,n,t,i){var l=this.offset,s=e.getWorldX(),r=e.getWorldY(),h=e.getA(),a=e.getB(),o=e.getC(),e=e.getD(),c=l[6],u=l[7];n[t]=c*h+u*a+s,n[t+1]=c*o+u*e+r,c=l[0],u=l[1],n[t+=i]=c*h+u*a+s,n[t+1]=c*o+u*e+r,c=l[2],u=l[3],n[t+=i]=c*h+u*a+s,n[t+1]=c*o+u*e+r,c=l[4],u=l[5],n[t+=i]=c*h+u*a+s,n[t+1]=c*o+u*e+r},getOffset:function(){return this.offset},getUVs:function(){return this.uvs},getX:function(){return this.x},setX:function(e){this.x=e},getY:function(){return this.y},setY:function(e){this.y=e},getScaleX:function(){return this.scaleX},setScaleX:function(e){this.scaleX=e},getScaleY:function(){return this.scaleY},setScaleY:function(e){this.scaleY=e},getRotation:function(){return this.rotation},setRotation:function(e){this.rotation=e},getWidth:function(){return this.width},setWidth:function(e){this.width=e},getHeight:function(){return this.height},setHeight:function(e){this.height=e},getColor:function(){return this.color},getPath:function(){return this.path},setPath:function(e){this.path=e},copy:function(){var e=new Zs(this.name),n=(e.region=this.region,e.path=this.path,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,ur.copy(this.uvs,0,e.uvs,0,8),ur.copy(this.offset,0,e.offset,0,8),e.color),t=this.color;return n.r=t.r,n.g=t.g,n.b=t.b,n.a=t.a,e},__class__:Zs}),function(e){c4.call(this,e=null==e?"":e),this.name="IllegalStateException"}),er=((E["spine.support.error.IllegalStateException"]=Js).__name__="spine.support.error.IllegalStateException",Js.__super__=c4,Js.prototype=$extend(c4.prototype,{__class__:Js}),function(e){c4.call(this,e=null==e?"":e),this.name="RuntimeException"}),nr=((E["spine.support.error.RuntimeException"]=er).__name__="spine.support.error.RuntimeException",er.__super__=c4,er.prototype=$extend(c4.prototype,{__class__:er}),(E["spine.support.extensions.ArrayExtensions"]=bf).__name__="spine.support.extensions.ArrayExtensions",bf.add=function(e,n){e.push(n)},bf.removeIndex=function(e,n){e.splice(n,1)},bf.unsafeGet=function(e,n){return e[n]},bf.unsafeSet=function(e,n,t){e[n]=t},(E["spine.support.extensions.FileExtensions"]=cf).__name__="spine.support.extensions.FileExtensions",cf.nameWithoutExtension=function(e){var e=e.path,n=e.lastIndexOf("/"),n=(e=-1!=n?e.substring(n):e).lastIndexOf(".");return e=-1!=n?e.substring(0,n):e},(E["spine.support.extensions.SpineExtensions"]=df).__name__="spine.support.extensions.SpineExtensions",df.equals=function(e,n){return e==n},df.getHashCode=function(e){return e.hashCode},(E["spine.support.extensions.StringExtensions"]=ef).__name__="spine.support.extensions.StringExtensions",ef.equals=function(e,n){return e==n},ef.getHashCode=function(e){var n=0;if(0!=e.length)for(var t=0,i=e.length;t<i;)var l=t++,n=(n<<5)-n+he.cca(e,l);return n},function(e,n,t,i){null==i&&(i=0),null==t&&(t=0),null==n&&(n=0),this.r=e=null==e?0:e,this.g=n,this.b=t,this.a=i}),tr=((E["spine.support.graphics.Color"]=nr).__name__="spine.support.graphics.Color",nr.valueOf=function(e){"#"==e.charAt(0)&&(e=e.substring(1)),"0x"==he.substr(e,0,2)&&(e=e.substring(2));var n=ot.parseInt("0x"+e.substring(0,2)),t=ot.parseInt("0x"+e.substring(2,4)),i=ot.parseInt("0x"+e.substring(4,6)),e=8!=e.length?255:ot.parseInt("0x"+e.substring(6,8));return new nr(n/255,t/255,i/255,e/255)},nr.valueOfIntoColor=function(e,n){"#"==e.charAt(0)&&(e=e.substring(1)),"0x"==he.substr(e,0,2)&&(e=e.substring(2));var t=ot.parseInt("0x"+e.substring(0,2)),i=ot.parseInt("0x"+e.substring(2,4)),l=ot.parseInt("0x"+e.substring(4,6)),e=8!=e.length?255:ot.parseInt("0x"+e.substring(6,8));return null==n?n=new nr(t/255,i/255,l/255,e/255):(n.r=t/255,n.g=i/255,n.b=l/255,n.a=e/255),n},nr.prototype={r:null,g:null,b:null,a:null,setColor:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},set:function(e,n,t,i){return this.r=e,this.g=n,this.b=t,this.a=i,this},setRGB:function(e,n,t){return this.r=e,this.g=n,this.b=t,this},add:function(e,n,t,i){return this.r+=e,this.g+=n,this.b+=t,this.a+=i,this},mul:function(e,n,t,i){return this.r*=e,this.g*=n,this.b*=t,this.a*=i,this},setRgba888:function(e){return this.r=((-16777216&e)>>>24)/255,this.g=((16711680&e)>>>16)/255,this.b=((65280&e)>>>8)/255,this.a=(255&e)/255,this},__class__:nr},function(e,n){this.regions=[],this.pages=[],null!=e&&this.load(null==e?"null":""+e,n)}),ir=((E["spine.support.graphics.TextureAtlas"]=tr).__name__="spine.support.graphics.TextureAtlas",tr.prototype={pages:null,regions:null,textureLoader:null,load:function(e,n){if(null==n)throw ct.thrown(new ie("textureLoader cannot be null."));this.textureLoader=n;for(var t=new ir(e),i=[null,null,null,null],l=null;;){var s=t.readLine();if(null==s)break;if(0==(s=t.trim(s)).length)l=null;else if(null==l){(l=new lr).name=s,l.uWrap=rr.clampToEdge,l.vWrap=rr.clampToEdge;for(var r=t.nextLineKey();null!=r;){switch(r){case"filter":t.readTuple(i),l.minFilter=i[0],l.magFilter=i[1];break;case"format":l.format=t.readValue();break;case"repeat":var h=t.readValue();"x"==h?l.uWrap=rr.repeat:"y"==h?l.vWrap=rr.repeat:"xy"==h&&(l.uWrap=l.vWrap=rr.repeat);break;case"scale":t.readTuple(i),l.scale=parseFloat(i[0]);break;case"size":t.readTuple(i),l.width=ot.parseInt(i[0]),l.height=ot.parseInt(i[1]);break;default:t.readLine()}r=t.nextLineKey()}null==l.format&&(l.format="rgba8888"),n.loadPage(l,s),this.pages[this.pages.length]=l}else{for(var a=new sr,o=(a.name=s,a.page=l,0),c=0,u=0,_=0,d=0,b=0,g=t.nextLineKey();null!=g;){switch(g){case"bounds":t.readTuple(i),o=ot.parseInt(i[0]),c=ot.parseInt(i[1]),u=ot.parseInt(i[2]),_=ot.parseInt(i[3]);break;case"index":a.index=ot.parseInt(t.readValue());break;case"offset":t.readTuple(i),a.offsetX=ot.parseInt(i[0]),a.offsetY=ot.parseInt(i[1]);break;case"offsets":t.readTuple(i),a.offsetX=ot.parseInt(i[0]),a.offsetY=ot.parseInt(i[1]),d=ot.parseInt(i[2]),b=ot.parseInt(i[3]);break;case"orig":t.readTuple(i),d=ot.parseInt(i[0]),b=ot.parseInt(i[1]);break;case"pad":t.readTuple(i),a.pads=[ot.parseInt(i[0]),ot.parseInt(i[1]),ot.parseInt(i[2]),ot.parseInt(i[3])];break;case"rotate":var O=t.readValue();a.degrees="true"==O||"90"==O?90:0;break;case"size":t.readTuple(i),u=ot.parseInt(i[0]),_=ot.parseInt(i[1]);break;case"split":t.readTuple(i),a.splits=[ot.parseInt(i[0]),ot.parseInt(i[1]),ot.parseInt(i[2]),ot.parseInt(i[3])];break;case"xy":t.readTuple(i),o=ot.parseInt(i[0]),c=ot.parseInt(i[1]);break;default:t.readLine()}g=t.nextLineKey()}a.u=o/l.width,a.v=c/l.height,90==a.degrees?(a.u2=(o+_)/l.width,a.v2=(c+u)/l.height):(a.u2=(o+u)/l.width,a.v2=(c+_)/l.height),a.x=o,a.y=c,a.width=0|Math.abs(u),a.height=0|Math.abs(_),a.originalWidth=0!=d?d:a.width,a.originalHeight=0!=b?b:a.height,90==a.degrees?(a.packedWidth=a.height,a.packedHeight=a.width):(a.packedWidth=a.width,a.packedHeight=a.height),n.loadRegion(a),this.regions[this.regions.length]=a}}},findRegion:function(e){for(var n=0,t=this.regions.length;n<t;){if(this.regions[n].name==e)return this.regions[n];++n}return null},dispose:function(){for(var e=0,n=this.pages.length;e<n;)this.textureLoader.unloadPage(this.pages[e]),++e},__class__:tr},function(e){this.lines=z.replace(z.replace(z.trim(e),"\r\n","\n"),"\r","\n").split("\n"),this.index=0}),lr=((E["spine.support.graphics.Reader"]=ir).__name__="spine.support.graphics.Reader",ir.prototype={lines:null,index:null,trim:function(e){return z.trim(e)},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},nextLineKey:function(){var e,n;return!(this.index>=this.lines.length)&&-1!=(n=(e=this.lines[this.index]).indexOf(":"))?z.trim(e.substring(0,n)):null},readValue:function(){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw ct.thrown(new c4("Invalid line: "+e));return this.trim(e.substring(n+1))},readTuple:function(e){var n=this.readLine(),t=n.indexOf(":");if(-1==t)throw ct.thrown(new c4("Invalid line: "+n));for(var i=0,l=t+1;i<3;){var s=n.indexOf(",",l);if(-1==s)break;e[i]=this.trim(he.substr(n,l,s-l)),l=s+1,++i}return e[i]=this.trim(n.substring(l)),i+1},__class__:ir},function(){this.scale=1,this.height=0,this.width=0}),sr=((E["spine.support.graphics.AtlasPage"]=lr).__name__="spine.support.graphics.AtlasPage",lr.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:null,height:null,scale:null,toString:function(){return""+ot.string({name:this.name,format:this.format,width:this.width,height:this.height,scale:this.scale})},__class__:lr},(E["spine.support.graphics.TextureRegion"]=kf).__name__="spine.support.graphics.TextureRegion",kf.prototype={rendererObject:null,u:null,v:null,u2:null,v2:null,getU:function(){return this.u},getV:function(){return this.v},getU2:function(){return this.u2},getV2:function(){return this.v2},__class__:kf},function(){this.degrees=0,this.index=-1,this.originalHeight=0,this.originalWidth=0,this.offsetY=0,this.offsetX=0,this.packedHeight=0,this.packedWidth=0,this.height=0,this.width=0,this.y=0,this.x=0,kf.call(this)}),rr=((E["spine.support.graphics.AtlasRegion"]=sr).__name__="spine.support.graphics.AtlasRegion",sr.__super__=kf,sr.prototype=$extend(kf.prototype,{name:null,x:null,y:null,width:null,height:null,packedWidth:null,packedHeight:null,offsetX:null,offsetY:null,originalWidth:null,originalHeight:null,index:null,degrees:null,splits:null,pads:null,page:null,get_rotate:function(){return 90==this.degrees},set_rotate:function(e){return this.degrees=e?90:0,e},getTexture:function(){return this},__class__:sr,__properties__:{set_rotate:"set_rotate",get_rotate:"get_rotate"}}),function(e,n){this.ordinal=e,this.name=n}),hr=((E["spine.support.graphics.TextureWrap"]=rr).__name__="spine.support.graphics.TextureWrap",rr.prototype={ordinal:null,name:null,__class__:rr},function(){}),ar=((E["spine.support.math.MathUtils"]=hr).__name__="spine.support.math.MathUtils",hr.sinDeg=function(e){return Math.sin(e*hr.degRad)},hr.cosDeg=function(e){return Math.cos(e*hr.degRad)},hr.sin=function(e){return Math.sin(e)},hr.cos=function(e){return Math.cos(e)},hr.clamp=function(e,n,t){return e<n?n:t<e?t:e},hr.max=function(e,n){return Math.max(e,n)},hr.min=function(e,n){return Math.min(e,n)},hr.signum=function(e){return 0<e?1:e<0?-1:0},(E["spine.support.math.Matrix3"]=pf).__name__="spine.support.math.Matrix3",pf.prototype={val:null,__class__:pf},function(e,n){null==n&&(n=0),null==e&&(e=0),this.y=0,this.x=0,this.x=e,this.y=n}),or=((E["spine.support.math.Vector2"]=ar).__name__="spine.support.math.Vector2",ar.prototype={x:null,y:null,set:function(e,n){return this.x=e,this.y=n,this},__class__:ar},{}),cr=(or._new=function(e,n){return null==n&&(n=.8),null==e&&(e=51),new $l},or.get=function(e,n,t){null==t&&(t=0);var i=n.getHashCode(),l=e.h[i],s=t;if(null!=l)for(var r=0,h=l.length;r<h;){var a=l[r++];if(a.key.equals(n)){s=a.value;break}}return s},or.clear=function(e){for(var n=[],t=e.keys();t.hasNext();){var i=t.next();n.push(i)}for(var l=0;l<n.length;){t=n[l];++l,e.remove(t)}},or.put=function(e,n,t){for(var i=n.getHashCode(),l=e.h[i],s=(null==l&&(e.h[i]=l=[]),0),r=!1,h=0,a=l;h<a.length;){var o=a[h];if(++h,o.key.equals(n)){l[s].key=n,l[s].value=t,r=!0;break}++s}r||l.push(new cr(n,t))},or.entries=function(e){for(var n=[],t=e.iterator();t.hasNext();){var i=t.next();if(null!=i)for(var l=0,s=i;l<s.length;){var r=s[l];++l,n.push(r)}}return n},or.keys=function(e){for(var n=[],t=e.iterator();t.hasNext();)for(var i=0,l=t.next();i<l.length;){var s=l[i];++i,n.push(s.key)}return n},function(e,n){this.key=e,this.value=n}),ur=((E["spine.support.utils._AnimationStateMap.Entry"]=cr).__name__="spine.support.utils._AnimationStateMap.Entry",cr.prototype={key:null,value:null,__class__:cr},{}),_r=(ur.__properties__={set_size:"set_size",get_size:"get_size",set_ordered:"set_ordered",get_ordered:"get_ordered",get_items:"get_items"},ur.copy=function(e,n,t,i,l){for(var s,r=n,h=i,a=l+n;r<a;)s=e[r],t[h]=s,++r,++h},ur.copyFloats=function(e,n,t,i,l){for(var s,r=n,h=i,a=l+n;r<a;)s=e[r],t[h]=s,++r,++h},ur.getLengthOf=function(e){return e.length},ur.create=function(e){var n=0|(e=null==e?0:e),t=[];return 0!=e&&(n<(e=t.length)?t.splice(n,n-e):e<n&&(t[n-1]=null)),t},ur.createFloatArray2D=function(e,n){for(var t=0|(n=null==n?0:n),i=(r=0|(e=null==e?0:e),[]),l=(0<e&&(r<(h=i.length)?i.splice(r,r-h):h<r&&(i[r-1]=null)),0),s=t;l<s;){var r,h,a=l++,o=(r=0|(e=null==(e=n)?0:e),[]);if(0<e)if(r<(h=o.length))o.splice(r,r-h);else if(h<r)for(;h<r;)o.push(0),++h;i[a]=o}return i},ur.createIntArray2D=function(e,n){for(var t=0|(n=null==n?0:n),i=(r=0|(e=null==e?0:e),[]),l=(0<e&&(r<(h=i.length)?i.splice(r,r-h):h<r&&(i[r-1]=null)),0),s=t;l<s;){var r,h,a=l++,o=(r=0|(e=null==(e=n)?0:e),[]);if(0!=e)if(r<(h=o.length))o.splice(r,r-h);else if(h<r)for(;h<r;)o.push(0),++h;i[a]=o}return i},ur._new=function(e){return null==e&&(e=16),[]},ur.get_items=function(e){return e},ur.get_ordered=function(e){return!1},ur.set_ordered=function(e,n){return n},ur.get_size=function(e){return e.length},ur.set_size=function(e,n){var t=e.length;return n<t?e.splice(n,n-t):t<n&&(e[n-1]=null),e.length},ur.shrink=function(e){return e},ur.clear=function(e){e.splice(0,e.length)},ur.first=function(e){return 0<e.length?e[0]:null},ur.peek=function(e){return 0==e.length?null:e[e.length-1]},ur.contains=function(e,n,t){return-1!=e.indexOf(n)},ur.removeValue=function(e,n,t){n=e.indexOf(n);return-1!=n&&(e.splice(n,1),!0)},ur.setSize=function(e,n){var t=e.length;return n<t?e.splice(n,n-t):t<n&&(e[n-1]=null),e},ur.add=function(e,n){e.push(n)},ur.addAll=function(e,n,t,i){null==t&&(t=0),-1==(i=null==i?-1:i)&&(i=n.length);for(var l=e.length,t=l+n.length,s=e.length,r=(t<s?e.splice(t,t-s):s<t&&(e[t-1]=null),0),h=n.length;r<h;){var a=n[r++];if(e[l++]=a,--i<=0)break}},ur.get=function(e,n){return e[n]},ur.set=function(e,n,t){e[n]=t},ur.indexOf=function(e,n,t){return e.indexOf(n)},ur.removeIndex=function(e,n){var t=e[n];return e.splice(n,1),t},ur.ensureCapacity=function(e,n){return e},{}),dr=(_r.__properties__={get_size:"get_size"},_r._new=function(){return new $l},_r.get=function(e,n,t){var i=n.getHashCode(),l=e.h[i],s=t;if(null!=l)for(var r=0,h=l.length;r<h;){var a=l[r++];if(a.equals(n)){s=a;break}}return s},_r.clear=function(e){e.h={}},_r.add=function(e,n){var t=null,i=n.getHashCode(),l=e.h[i];if(null==l)e.h[i]=l=[];else for(var s=0,r=l.length;s<r;)if((o=l[h=s++]).equals(n)){t=o;break}for(var h=0,a=!1,s=0,r=l;s<r.length;){var o=r[s];if(++s,o.equals(n)){l[h]=n,a=!0;break}++h}return a||l.push(n),null==t},_r.remove=function(e,n){var t=n.getHashCode(),i=e.h[t];if(null!=i){for(var l=i.length,s=null,r=0,h=l;r<h;){var a=i[r++];if(a.equals(n)){s=a;break}}null!=s&&(1==l?e.remove(t):he.remove(i,s))}},_r.orderedItems=function(e){for(var n=[],t=e.iterator();t.hasNext();)for(var i=t.next(),l=0,s=i.length;l<s;){var r=l++;n.push(i[r])}return n},_r.get_size=function(e){for(var n=0,t=e.iterator();t.hasNext();)for(var i=0,l=t.next().length;i<l;){i++;++n}return n},(E["spine.support.utils.AttachmentSetEntry"]=vf).__name__="spine.support.utils.AttachmentSetEntry",vf.prototype={key:null,value:null,__class__:vf},(E["spine.support.utils.FastCast"]=xf).__name__="spine.support.utils.FastCast",xf.fastCast=function(e,n){return e},{}),br=(dr.__properties__={get_size:"get_size",get_items:"get_items"},dr.create=function(e){var n=0|(e=null==e?0:e),t=[];if(0<e){var i=t.length;if(n<i)t.splice(n,n-i);else if(i<n)for(;i<n;)t.push(0),++i}return t},dr._new=function(e){return null==e&&(e=16),[]},dr.get_items=function(e){return e},dr.get_size=function(e){return e.length},dr.shrink=function(e){return e},dr.toArray=function(e){return e},dr.clear=function(e){e.splice(0,e.length)},dr.setSize=function(e,n){var t=e.length;if(n<t)e.splice(n,n-t);else if(t<n)for(;t<n;)e.push(0),++t;return e},dr.add=function(e,n){e.push(n)},dr.addAll=function(e,n,t,i){null==t&&(t=0),-1==(i=null==i?-1:i)&&(i=n.length);var l=e.length,s=l+n.length,r=e.length;if(s<r)e.splice(s,s-r);else if(r<s)for(;r<s;)e.push(0),++r;for(var h=0,a=n;h<a.length;){var o=a[h];if(++h,e[l++]=o,--i<=0)break}},dr.get=function(e,n){return e[n]},dr.set=function(e,n,t){e[n]=t},dr.indexOf=function(e,n,t){return e.indexOf(n)},dr.removeIndex=function(e,n){var t=e[n];return e.splice(n,1),t},dr.fill=function(e,n,t,i){for(var l=n,s=t;l<s;)e[l++]=i},(E["spine.support.utils.JsonReader"]=Af).__name__="spine.support.utils.JsonReader",Af.prototype={parse:function(e){return new br(JSON.parse(e.getContent()))},__class__:Af},(E["spine.support.utils.JsonValue"]=Bf).__name__="spine.support.utils.JsonValue",Bf.__isInterface__=!0,Bf.prototype={get_name:null,get_size:null,get_next:null,get_child:null,get:null,getAtIndex:null,has:null,getChild:null,getString:null,getFloat:null,getInt:null,getBoolean:null,require:null,asString:null,asFloat:null,asInt:null,asFloatArray:null,asShortArray:null,isString:null,isArray:null,__class__:Bf,__properties__:{get_child:"get_child",get_next:"get_next",get_size:"get_size",get_name:"get_name"}},function(e){this.data=e}),gr=((E["spine.support.utils.JsonDynamic"]=br).__name__="spine.support.utils.JsonDynamic",br.__interfaces__=[Bf],br.prototype={data:null,toString:function(){return"JsonDynamic:"+ot.string(this.data)},has:function(e){return null!=this.get(e)},require:function(e){return this.get(e)},get:function(e){return!(this.data instanceof Array)&&Object.prototype.hasOwnProperty.call(this.data,e)?new br(L.field(this.data,e)):null},getAtIndex:function(e){return this.data instanceof Array?new gr(this.data,e):null},getChild:function(e){e=L.field(this.data,e);return null==e?null:new br(e).get_child()},getString:function(e,n){return Object.prototype.hasOwnProperty.call(this.data,e)?L.field(this.data,e):n},getFloat:function(e,n){return null==n&&(n=0),"number"==typeof e&&(0|e)===e?this.data instanceof Array?this.data[e]:n:Object.prototype.hasOwnProperty.call(this.data,e)?L.field(this.data,e):n},getInt:function(e,n){return null==n&&(n=0),Object.prototype.hasOwnProperty.call(this.data,e)?L.field(this.data,e):n},getBoolean:function(e,n){return null==n&&(n=!1),Object.prototype.hasOwnProperty.call(this.data,e)?L.field(this.data,e):n},asString:function(){return this.data},asFloatArray:function(){return this.data},asShortArray:function(){return this.data},asFloat:function(){return this.data},asInt:function(){return this.data},isString:function(){return"string"==typeof this.data},isArray:function(){return this.data instanceof Array},get_next:function(){return null},get_name:function(){return null},get_size:function(){return(this.data instanceof Array?this.data:L.fields(this.data)).length},get_child:function(){var e=this.data;if(null==e)return null;if(e instanceof Array)return new gr(e,0);for(var n=[],t=[],i=0,l=L.fields(e);i<l.length;){var s=l[i];++i,n.push(s),t.push(L.field(e,s))}return 0==n.length?null:new gr(t,0,n)},__class__:br,__properties__:{get_child:"get_child",get_size:"get_size",get_name:"get_name",get_next:"get_next"}},function(e,n,t){this.data=e,this.index=n,this.keys=t}),Or=((E["spine.support.utils.JsonChild"]=gr).__name__="spine.support.utils.JsonChild",gr.__interfaces__=[Bf],gr.prototype={toString:function(){return"JsonChild:"+this.data[this.index]},keys:null,data:null,index:null,has:function(e){return null!=this.get(e)},require:function(e){return this.get(e)},get:function(e){return Object.prototype.hasOwnProperty.call(this.data[this.index],e)?new br(L.field(this.data[this.index],e)):null},getAtIndex:function(e){return this.data[this.index]instanceof Array?new gr(this.data[this.index],e):null},getChild:function(e){e=L.field(this.data[this.index],e);return null==e?null:new br(e).get_child()},getString:function(e,n){return Object.prototype.hasOwnProperty.call(this.data[this.index],e)?L.field(this.data[this.index],e):n},getFloat:function(e,n){return null==n&&(n=0),"number"==typeof e&&(0|e)===e?this.data[this.index]instanceof Array?this.data[this.index][e]:0:Object.prototype.hasOwnProperty.call(this.data[this.index],e)?L.field(this.data[this.index],e):n},getInt:function(e,n){return null==n&&(n=0),Object.prototype.hasOwnProperty.call(this.data[this.index],e)?L.field(this.data[this.index],e):n},getBoolean:function(e,n){return null==n&&(n=!1),Object.prototype.hasOwnProperty.call(this.data[this.index],e)?L.field(this.data[this.index],e):n},asString:function(){return this.data[this.index]},asFloat:function(){return this.data[this.index]},asInt:function(){return this.data[this.index]},isString:function(){return"string"==typeof this.data[this.index]},isArray:function(){return this.data[this.index]instanceof Array},get_next:function(){var e=this.data;return this.index<e.length-1?new gr(this.data,this.index+1,this.keys):null},get_name:function(){return null!=this.keys?this.keys[this.index]:null},get_size:function(){return this.data[this.index].length},get_child:function(){var e=this.data[this.index];if(null==e)return null;if(e instanceof Array)return new gr(e,0);for(var n=[],t=[],i=0,l=L.fields(e);i<l.length;){var s=l[i];++i,n.push(s),t.push(L.field(e,s))}return 0==n.length?null:new gr(t,0,n)},asFloatArray:function(){return this.data[this.index]},asShortArray:function(){return this.data[this.index]},getByIndex:function(){return this.data[this.index]},__class__:gr,__properties__:{get_child:"get_child",get_size:"get_size",get_name:"get_name",get_next:"get_next"}},{}),fr=(Or._new=function(e){return null==e&&(e=16),[]},Or.clear=function(e,n){e.splice(0,e.length)},Or.addAll=function(e,n){for(var t=!1,i=0,l=n.length;i<l;){var s=n[i++];-1==e.indexOf(s)&&(t=!0,e.push(s))}return t},Or.contains=function(e,n){return-1!=e.indexOf(n)},function(e,n){null==e&&(e=""),null!=n&&(""!=e?e+=" "+ot.string(n):e=""+ot.string(n)),c4.call(this,e),this.name="SerializationException"}),pr=((E["spine.support.utils.SerializationException"]=fr).__name__="spine.support.utils.SerializationException",fr.__super__=c4,fr.prototype=$extend(c4.prototype,{__class__:fr}),function(){this.snapshots=[],this.snapshotIndex=-1,this.array=[]}),Cr=((E["spine.support.utils.SnapshotArray"]=pr).__name__="spine.support.utils.SnapshotArray",pr.prototype={snapshotIndex:null,snapshots:null,array:null,get_size:function(){return this.array.length},begin:function(){this.snapshotIndex++;var e=this.snapshots[this.snapshotIndex];if(null==e)e=[].concat(this.array),this.snapshots[this.snapshotIndex]=e;else for(var n=this.array.length,t=e.length,i=(n<t?e.splice(n,n-t):t<n&&(e[n-1]=null),0),l=this.array.length;i<l;){var s=i++;e[s]=this.array[s]}return e},end:function(){var e=this.snapshots[this.snapshotIndex];this.snapshotIndex--;for(var n=e,t=0,i=e.length;t<i;)n[t++]=null},removeValue:function(e,n){var t=this.array,e=t.indexOf(e);return-1!=e&&(t.splice(e,1),!0)},add:function(e){this.array.push(e)},clear:function(){var e=this.array;e.splice(0,e.length)},__class__:pr,__properties__:{get_size:"get_size"}},(E["spine.support.utils.StdEx"]=Hf).__name__="spine.support.utils.StdEx",Hf.parseInt=function(e,n){return 16==n?ot.parseInt("0x"+e):ot.parseInt(e)},function(){this.scratch=[],this.clippedTriangles=[],this.clippedVertices=[],this.clipOutput=[],this.clippingPolygon=[],this.triangulator=new vr}),ae=((E["spine.utils.SkeletonClipping"]=Cr).__name__="spine.utils.SkeletonClipping",Cr.makeClockwise=function(e){for(var n,t,i,l=e,e=e.length,s=l[e-2]*l[1]-l[0]*l[e-1],r=0,h=e-3;r<h;)n=l[r],t=l[r+1],i=l[r+2],s+=n*l[r+3]-i*t,r+=2;if(!(s<0))for(var r=0,a=e-2,h=e>>1;r<h;){var o=l[r],c=l[r+1],u=a-r;l[r]=l[u],l[r+1]=l[1+u],l[u]=o,l[1+u]=c,r+=2}},Cr.prototype={triangulator:null,clippingPolygon:null,clipOutput:null,clippedVertices:null,clippedTriangles:null,scratch:null,clipAttachment:null,clippingPolygons:null,clipStart:function(e,n){if(null==this.clipAttachment){var t=n.getWorldVerticesLength();if(!(t<6)){this.clipAttachment=n;var i=this.clippingPolygon,l=i.length;if(t<l)i.splice(t,t-l);else if(l<t)for(;l<t;)i.push(0),++l;n.computeWorldVertices(e,0,t,i,0,2),Cr.makeClockwise(this.clippingPolygon);for(var n=this.triangulator.triangulate(this.clippingPolygon),s=(this.clippingPolygons=this.triangulator.decompose(this.clippingPolygon,n),0),r=this.clippingPolygons;s<r.length;){var h=r[s];++s,Cr.makeClockwise(h),h.push(h[0]),h.push(h[1])}}}},clipEndWithSlot:function(e){null!=this.clipAttachment&&this.clipAttachment.getEndSlot()==e.getData()&&this.clipEnd()},clipEnd:function(){var e;null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,(e=this.clippedVertices).splice(0,e.length),(e=this.clippedTriangles).splice(0,e.length),(e=this.clippingPolygon).splice(0,e.length))},isClipping:function(){return null!=this.clipAttachment},clipTriangles:function(e,E,n,R,t,i,l,s){var r=this.clipOutput,h=this.clippedVertices,a=this.clippedTriangles,V=this.clippingPolygons,L=this.clippingPolygons.length,H=s?6:5,o=0;for(h.splice(0,h.length),a.splice(0,a.length);;){for(var c=0,u=0;u<R;){for(var _=n[u]<<1,d=e[_],b=e[1+_],N=t[_],W=t[1+_],g=e[_=n[u+1]<<1],O=e[1+_],z=t[_],Y=t[1+_],f=e[_=n[u+2]<<1],p=e[1+_],G=t[_],X=t[1+_],C=0;C<L;){var v=h.length;if(!this.clip(d,b,g,O,f,p,V[C],r)){var m=v+3*H,w=h.length;if(m<w)h.splice(m,m-w);else if(w<m)for(;w<m;)h.push(0),++w;var y=h,U=(y[v]=d,y[v+1]=b,y[v+2]=i,s?(y[v+3]=l,y[v+4]=N,y[v+5]=W,y[v+6]=g,y[v+7]=O,y[v+8]=i,y[v+9]=l,y[v+10]=z,y[v+11]=Y,y[v+12]=f,y[v+13]=p,y[v+14]=i,y[v+15]=l,y[v+16]=G,y[v+17]=X):(y[v+3]=N,y[v+4]=W,y[v+5]=g,y[v+6]=O,y[v+7]=i,y[v+8]=z,y[v+9]=Y,y[v+10]=f,y[v+11]=p,y[v+12]=i,y[v+13]=G,y[v+14]=X),(v=a.length)+3),D=a.length;if(U<D)a.splice(U,U-D);else if(D<U)for(;D<U;)a.push(0),++D;y=a;y[v]=o,y[v+1]=o+1|0,y[v+2]=o+2|0,o+=3,++C,c=2;break}var K=r.length;if(0==K);else{var q=O-p,$=f-g,j=d-f,Q=p-b,Z=1/(q*j+$*(b-p)),T=K>>1,J=r,x=v+T*H,S=h.length;if(x<S)h.splice(x,x-S);else if(S<x)for(;S<x;)h.push(0),++S;for(var A=h,k=0;k<K;){var I=J[k],P=J[k+1],I=(A[v]=I,A[v+1]=P,A[v+2]=i,s?(A[v+3]=l,v+=4):v+=3,I-f),P=P-p,ee=(q*I+$*P)*Z,I=(Q*I+j*P)*Z,P=1-ee-I;A[v]=N*ee+z*I+G*P,A[v+1]=W*ee+Y*I+X*P,v+=2,k+=2}if(2==c)break;if(1<=c)break;var F=(v=a.length)+3*(T-2),B=a.length;if(F<B)a.splice(F,F-B);else if(B<F)for(;B<F;)a.push(0),++B;for(var ne=a,M=(--T,1);M<T;)ne[v]=o,ne[v+1]=o+M|0,ne[v+2]=o+M+1|0,v+=3,++M;if(2==c)break;if(1<=c)break;o+=1+T}++C}if(2==c)c=0;else if(1<=c)break;u+=3}if(0==c)break}},clip:function(e,n,t,i,l,s,r,h){for(var a=h,o=!1,c=null,u=(2<=r.length%4?(c=h,h=this.scratch):c=this.scratch,c.splice(0,c.length),c.push(e),c.push(n),c.push(t),c.push(i),c.push(l),c.push(s),c.push(e),c.push(n),h.splice(0,h.length),r),E=r.length-4,_=0;;){for(var d=u[_],b=u[_+1],g=u[_+2],O=u[_+3],f=d-g,p=b-O,C=c,R=c.length-2,v=h.length,m=0;m<R;){var w=C[m],y=C[m+1],U=C[m+2],D=C[m+3],T=0<f*(D-O)-p*(U-g);if(0<f*(y-O)-p*(w-g)){if(T){h.push(U),h.push(D),m+=2;continue}var x=D-y,S=U-w,A=x*(g-d)-S*(O-b);1e-6<Math.abs(A)?(h.push(d+(g-d)*(S=(S*(b-y)-x*(d-w))/A)),h.push(b+(O-b)*S)):(h.push(d),h.push(b))}else T&&(S=(x=D-y)*(g-d)-(A=U-w)*(O-b),1e-6<Math.abs(S)?(h.push(d+(g-d)*(T=(A*(b-y)-x*(d-w))/S)),h.push(b+(O-b)*T)):(h.push(d),h.push(b)),h.push(U),h.push(D));o=!0,m+=2}if(v==h.length)return a.splice(0,a.length),!0;if(h.push(h[0]),h.push(h[1]),_==E)break;v=h;(h=c).splice(0,h.length),c=v,_+=2}if(a!=h){a.splice(0,a.length);var t=h,k=h.length-2;-1==(k=null==k?-1:k)&&(k=t.length);var I=(_=a.length)+t.length,P=a.length;if(I<P)a.splice(I,I-P);else if(P<I)for(;P<I;)a.push(0),++P;for(var F=0,B=t;F<B.length;){var V=B[F];if(++F,a[_++]=V,--k<=0)break}}else{var M=a.length-2;if(M<(I=a.length))a.splice(M,M-I);else if(I<M)for(;I<M;)a.push(0),++I}return o},getClippedVertices:function(){return this.clippedVertices},getClippedTriangles:function(){return this.clippedTriangles},__class__:Cr},function(){}),vr=((E["spine.utils.SpineUtils"]=ae).__name__="spine.utils.SpineUtils",ae.cosDeg=function(e){return Math.cos(e*ae.degRad)},ae.sinDeg=function(e){return Math.sin(e*ae.degRad)},ae.cos=function(e){return Math.cos(e)},ae.sin=function(e){return Math.sin(e)},ae.atan2=function(e,n){return Math.atan2(e,n)},ae.prototype={__class__:ae},function(){this.polygonIndicesPool=new wr,this.polygonPool=new mr,this.triangles=[],this.isConcaveArray=[],this.indicesArray=[],this.convexPolygonsIndices=[],this.convexPolygons=[]}),mr=((E["spine.utils.Triangulator"]=vr).__name__="spine.utils.Triangulator",vr.isGeometryConcave=function(e,n,t,i){var l=i[(n+e-1)%n]<<1,s=i[e]<<1,i=i[(e+1)%n]<<1;return!vr.positiveArea(t[l],t[1+l],t[s],t[1+s],t[i],t[1+i])},vr.positiveArea=function(e,n,t,i,l,s){return 0<=e*(s-i)+t*(n-s)+l*(i-n)},vr.computeWinding=function(e,n,t,i,l,s){t-=e,i-=n;return 0<=l*i-s*t+t*n-e*i?1:-1},vr.prototype={convexPolygons:null,convexPolygonsIndices:null,indicesArray:null,isConcaveArray:null,triangles:null,polygonPool:null,polygonIndicesPool:null,triangulate:function(e){var n=e,t=e.length>>1,i=this.indicesArray,l=(i.splice(0,i.length),i.length);if(t<l)i.splice(t,t-l);else if(l<t)for(;l<t;)i.push(0),++l;for(var s=i,r=0;r<t;)s[r]=r,++r;var h=this.isConcaveArray;if(t<(l=h.length))h.splice(t,t-l);else if(l<t)for(;l<t;)h.push(!1),++l;for(var a=h,r=0,o=t;r<o;)a[r]=vr.isGeometryConcave(r,t,n,s),++r;var c=this.triangles;for(c.splice(0,c.length);3<t;){for(var u,_=t-1,r=0,d=1;;){if(u=!1,!a[r]){for(var b=s[_]<<1,g=s[r]<<1,O=s[d]<<1,f=n[b],p=n[1+b],C=n[g],v=n[1+g],m=n[O],w=n[1+O],y=(d+1)%t;y!=_;){if(a[y]){var U=s[y]<<1,D=n[U],U=n[1+U];if(vr.positiveArea(m,w,f,p,D,U)&&vr.positiveArea(f,p,C,v,D,U)&&vr.positiveArea(C,v,m,w,D,U)){u=!0;break}}y=(y+1)%t}if(!u)break}if(0==d){for(;a[r]&&0<--r;);break}_=r,d=((r=d)+1)%t}c.push(s[(t+r-1)%t]),c.push(s[r]),c.push(s[(r+1)%t]);i[r],i.splice(r,1),h[r];h.splice(r,1);var T=(--t+r-1)%t,x=r==t?0:r;a[T]=vr.isGeometryConcave(T,t,n,s),a[x]=vr.isGeometryConcave(x,t,n,s)}return 3==t&&(c.push(s[2]),c.push(s[0]),c.push(s[1])),c},decompose:function(E,e){var n=E,t=this.convexPolygons,i=(this.polygonPool.freeAll(t),t.splice(0,t.length),this.convexPolygonsIndices),l=(this.polygonIndicesPool.freeAll(i),i.splice(0,i.length),this.polygonIndicesPool.obtain());l.splice(0,l.length);(w=this.polygonPool.obtain()).splice(0,w.length);for(var s=-1,r=0,h=e,a=0,o=e.length;a<o;){var c=h[a]<<1,u=h[a+1]<<1,_=h[a+2]<<1,d=n[c],b=n[1+c],g=n[u],O=n[1+u],f=n[_],p=n[1+_],C=!1;s==c&&(y=w.length-4,U=w,A=vr.computeWinding(U[y],U[y+1],U[y+2],U[y+3],f,p),k=vr.computeWinding(f,p,U[0],U[1],U[2],U[3]),A==r)&&k==r&&(w.push(f),w.push(p),l.push(_),C=!0),C||(0<w.length&&(t.push(w),i.push(l),w=this.polygonPool.obtain(),l=this.polygonIndicesPool.obtain()),w.splice(0,w.length),w.push(d),w.push(b),w.push(g),w.push(O),w.push(f),w.push(p),l.splice(0,l.length),l.push(c),l.push(u),l.push(_),r=vr.computeWinding(d,b,g,O,f,p),s=c),a+=3}0<w.length&&(t.push(w),i.push(l));for(var v=i,m=t,a=0,o=t.length;a<o;){if(0==(l=v[a]).length);else for(var w,y,U,D,T,x,R,S,A,k,V=l[0],L=l[l.length-1],I=(U=w=m[a])[y=w.length-4],P=U[y+1],F=U[y+2],B=U[y+3],H=U[0],N=U[1],W=U[2],z=U[3],Y=vr.computeWinding(I,P,F,B,H,N),M=0;M<o;)M==a?++M:(3==(D=v[M]).length&&(T=D[0],x=D[1],R=D[2],f=(S=m[M])[S.length-2],p=S[S.length-1],T==V)&&x==L&&(A=vr.computeWinding(I,P,F,B,f,p),k=vr.computeWinding(f,p,H,N,W,z),A==Y)&&k==Y&&(S.splice(0,S.length),D.splice(0,D.length),w.push(f),w.push(p),l.push(R),I=F,P=B,F=f,B=p,M=0),++M);++a}for(var G,a=t.length-1;0<=a;)0==(w=m[a]).length&&(t[a],t.splice(a,1),this.polygonPool.free(w),G=i[a],i.splice(a,1),this.polygonIndicesPool.free(l=G)),--a;return t},__class__:vr},function(e,n){j4.call(this,e,n)}),wr=((E["spine.utils._Triangulator.PolygonPool"]=mr).__name__="spine.utils._Triangulator.PolygonPool",mr.__super__=j4,mr.prototype=$extend(j4.prototype,{newObject:function(){return[]},__class__:mr}),function(e,n){j4.call(this,e,n)}),w=((E["spine.utils._Triangulator.IndicesPool"]=wr).__name__="spine.utils._Triangulator.IndicesPool",wr.__super__=j4,wr.prototype=$extend(j4.prototype,{newObject:function(){return[]},__class__:wr}),(E["tracker.Assert"]=Of).__name__="tracker.Assert",function(e,n){this.invalidated=!1,this.boundAutorunArrays=null,this.owner=null,this.afterRun=null,this.onRun=null,j.call(this),this.onRun=e,this.afterRun=n,null!=e&&this.run()}),yr=((E["tracker.Autorun"]=w).__name__="tracker.Autorun",w.unobserve=function(){w.prevCurrent.push(w.current),w.current=null},w.reobserve=function(){w.current=w.prevCurrent.pop()},w.cease=function(){var e;null!=w.current?(w.current.destroy(),w.current=null):0<w.prevCurrent.length&&null!=(e=w.prevCurrent[w.prevCurrent.length-1])&&(e.destroy(),w.prevCurrent[w.prevCurrent.length-1]=null)},w.unobserved=function(e){w.unobserve(),e(),w.reobserve()},w.invalidateAutorunArray=function(e){for(var n=0,t=e.length;n<t;){var i=e[n++];null==i||i.invalidated||i._lifecycleState<0||(i.invalidated=!0,i.unbindFromAllAutorunArrays(),Dr.backend,ke.app._onceImmediate($bind(i,i.run)))}e.splice(0,e.length),w._autorunArrays[w._autorunArraysLen]=e,w._autorunArraysLen++},w.getAutorunArray=function(){var e;return 0<w._autorunArraysLen?(w._autorunArraysLen--,e=w._autorunArrays[w._autorunArraysLen],w._autorunArrays[w._autorunArraysLen]=null,e):[]},w.recycleAutorunArray=function(e){e.splice(0,e.length),w._autorunArrays[w._autorunArraysLen]=e,w._autorunArraysLen++},w.getArrayOfAutorunArrays=function(){var e;return 0<w._arrayOfAutorunArraysLen?(w._arrayOfAutorunArraysLen--,e=w._arrayOfAutorunArrays[w._arrayOfAutorunArraysLen],w._arrayOfAutorunArrays[w._arrayOfAutorunArraysLen]=null,e):[]},w.recycleArrayOfAutorunArrays=function(e){e.splice(0,e.length),w._arrayOfAutorunArrays[w._arrayOfAutorunArraysLen]=e,w._arrayOfAutorunArraysLen++},w.__super__=j,w.prototype=$extend(j.prototype,{__cbOnReset:null,__cbOnceReset:null,__cbOnOwnerUnbindReset:null,__cbOnceOwnerUnbindReset:null,emitReset:function(){this.unbindFromAllAutorunArrays();var e=0;if(null!=this.__cbOnReset&&(e+=this.__cbOnReset.length),null!=this.__cbOnceReset&&(e+=this.__cbOnceReset.length),0<e){var n=C.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReset)for(var l=0,s=this.__cbOnReset.length;l<s;){var r=l++;!0?(t.vector[i]=this.__cbOnReset[r],++i):--e}if(null!=this.__cbOnceReset){for(var h=null,a=null,l=0,s=this.__cbOnceReset.length;l<s;){var o,r=l++;!0?(t.vector[i]=this.__cbOnceReset[r],this.__cbOnceReset[r]=null,o=this.__cbOnceOwnerUnbindReset[r],(this.__cbOnceOwnerUnbindReset[r]=null)!=o&&o(),++i):(--e,null==h&&(h=[],a=[],0),h.push(this.__cbOnceOwnerUnbindReset[r]),a.push(this.__cbOnceReset[r]))}this.__cbOnceOwnerUnbindReset=h,this.__cbOnceReset=a}for(l=0,s=e;l<s;){i=l++;(0,t.vector[i])()}n.release(t)}},onReset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event reset because owner is destroyed!");var l=function(e){null!=t&&(i.offReset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindReset&&(this.__cbOnOwnerUnbindReset=[]),this.__cbOnOwnerUnbindReset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindReset&&(this.__cbOnOwnerUnbindReset=[]),this.__cbOnOwnerUnbindReset.push(null);null==this.__cbOnReset&&(this.__cbOnReset=[]),this.__cbOnReset.push(t)},onceReset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event reset because owner is destroyed!");var l=function(e){null!=t&&(i.offReset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindReset&&(this.__cbOnceOwnerUnbindReset=[]),this.__cbOnceOwnerUnbindReset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindReset&&(this.__cbOnceOwnerUnbindReset=[]),this.__cbOnceOwnerUnbindReset.push(null);null==this.__cbOnceReset&&(this.__cbOnceReset=[]),this.__cbOnceReset.push(t)},offReset:function(e){if(null!=e){var n;null!=this.__cbOnReset&&-1!=(n=this.__cbOnReset.indexOf(e))&&(this.__cbOnReset.splice(n,1),null!=(s=this.__cbOnOwnerUnbindReset[n])&&s(),this.__cbOnOwnerUnbindReset.splice(n,1)),null!=this.__cbOnceReset&&-1!=(n=this.__cbOnceReset.indexOf(e))&&(this.__cbOnceReset.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindReset[n])&&s(),this.__cbOnceOwnerUnbindReset.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReset){for(var t=0,i=this.__cbOnOwnerUnbindReset.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindReset[l])&&s()}this.__cbOnOwnerUnbindReset=null}if(null!=this.__cbOnceOwnerUnbindReset){for(t=0,i=this.__cbOnceOwnerUnbindReset.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindReset[l])&&s()}this.__cbOnceOwnerUnbindReset=null}this.__cbOnReset=null,this.__cbOnceReset=null}},listensReset:function(){return null!=this.__cbOnReset&&0<this.__cbOnReset.length||null!=this.__cbOnceReset&&0<this.__cbOnceReset.length},onRun:null,afterRun:null,owner:null,boundAutorunArrays:null,invalidated:null,destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.emitReset(),this.onRun=null,this.afterRun=null,this._lifecycleState=-1,j.prototype.destroy.call(this))},willEmitReset:function(){this.unbindFromAllAutorunArrays()},run:function(){if(!(this._lifecycleState<0||null!=this.owner&&this.owner._lifecycleState<0)){this.invalidated=!1,this.emitReset();var e=w.current,n=(w.current=this,w.prevCurrent.length);for(this.onRun(),null!=this.afterRun&&(w.unobserve(),this.afterRun(),w.reobserve());n<w.prevCurrent.length;)w.prevCurrent.pop();w.current=e}},invalidate:function(){this.invalidated||this._lifecycleState<0||(this.invalidated=!0,this.unbindFromAllAutorunArrays(),Dr.backend,ke.app._onceImmediate($bind(this,this.run)))},bindToAutorunArray:function(e){if(!(this.invalidated||this._lifecycleState<0)){var n=!1;if(null==this.boundAutorunArrays){var t=0<w._arrayOfAutorunArraysLen?(w._arrayOfAutorunArraysLen--,t=w._arrayOfAutorunArrays[w._arrayOfAutorunArraysLen],w._arrayOfAutorunArrays[w._arrayOfAutorunArraysLen]=null,t):[];this.boundAutorunArrays=t}else for(var i=0,l=this.boundAutorunArrays.length;i<l;){var s=i++;if(this.boundAutorunArrays[s]==e){n=!0;break}}if(!n){for(var r=-1,t=e.length,s=t-1;0<=s;){if(null==(a=e[s])){r=s;break}--s}if(-1==r)e.push(this);else{var h=t-1;if(r<h)for(i=r+1,l=t;i<l;){var a=e[s=i++];e[s-1]=a}e[h]=this}this.boundAutorunArrays.push(e)}}},unbindFromAllAutorunArrays:function(){if(null!=this.boundAutorunArrays){for(var e=0,n=this.boundAutorunArrays.length;e<n;)for(var t=e++,i=this.boundAutorunArrays[t],l=0,s=i.length;l<s;){var r=l++,h=i[r];if(null!=h&&h==this){i[r]=null;break}}var a=this.boundAutorunArrays;a.splice(0,a.length),w._arrayOfAutorunArrays[w._arrayOfAutorunArraysLen]=a,w._arrayOfAutorunArraysLen++,this.boundAutorunArrays=null}},unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offReset()},__class__:w}),(E["tracker.Equal"]=Qf).__name__="tracker.Equal",Qf.equal=function(e,n){return e==n||(e instanceof Array?n instanceof Array&&Qf._arrayEqual(e,n):!(!L.isObject(e)||null!=ws.getClass(e)||!L.isObject(n)||null!=ws.getClass(n))&&Qf.objectFieldsEqual(e,n))},Qf.objectFieldsEqual=function(e,n){for(var t=0,i=L.fields(e);t<i.length;){var l=i[t];if(++t,!Object.prototype.hasOwnProperty.call(n,l)||!Qf.equal(L.field(e,l),L.field(n,l)))return!1}for(t=0,i=L.fields(n);t<i.length;){l=i[t];if(++t,!Object.prototype.hasOwnProperty.call(e,l))return!1}return!0},Qf._arrayEqual=function(e,n){var t=e.length;if(t!=n.length)return!1;for(var i=0,l=t;i<l;){var s=i++;if(e[s]!=n[s])return!1}return!0},(E["tracker.Extensions"]=Rf).__name__="tracker.Extensions",Rf.unsafeGet=function(e,n){return e[n]},Rf.unsafeSet=function(e,n,t){e[n]=t},Rf.setArrayLength=function(e,n){if(e.length!=n)if(e.length>n)e.splice(n,e.length-n);else for(var t=e;t.length<n;)t.push(null)},Rf.setProperty=function(e,n,t){L.setProperty(e,n,t)},Rf.getProperty=function(e,n){return L.getProperty(e,n)},function(){}),ge=((E["tracker.SaveModel"]=yr).__name__="tracker.SaveModel",yr.getSavedOrCreate=function(e,n,t){e=B.createInstance(e,null!=t?t:[]);return yr.loadFromKey(e,n),e},yr.isBusyKey=function(e){return-1!=yr.busyKeys.indexOf(e)},yr.loadFromKey=function(e,n,t){if(null==t&&(t=!1),-1!=yr.busyKeys.indexOf(n))throw ct.thrown("Cannot load data from key "+n+" because some work is being done on it");Dr.backend;var i=ke.app.backend.io.readString("save_id_1_"+n),l=null!=i?ot.parseInt(i):-1,i=(1!=l&&2!=l&&(Dr.backend,l=null!=(i=ke.app.backend.io.readString("save_id_2_"+n))?ot.parseInt(i):-1),null);return 1!=l&&2!=l?t||(Dr.backend,ke.app.logger.warning("Failed to load save from key: "+n+" (no existing save?)",{fileName:"tracker/SaveModel.hx",lineNumber:55,className:"tracker.SaveModel",methodName:"loadFromKey"})):(Dr.backend,null!=(i=ke.app.backend.io.readString("save_data_"+l+"_"+n))||t||(Dr.backend,ke.app.logger.warning("Failed to load save from key: "+n+"/"+l+" (corrupted save, try backups?)",{fileName:"tracker/SaveModel.hx",lineNumber:60,className:"tracker.SaveModel",methodName:"loadFromKey"}))),Ur.loadFromData(e,i)},yr.autoSaveAsKey=function(e,n,t,i){null==i&&(i=60),null==t&&(t=1);var l=e.serializer,s=(null==l?((l=new Ur).checkInterval=t,l.compactInterval=i):l.checkInterval==t&&l.compactInterval==i||(Dr.backend,ke.app.logger.warning("A serializer is already assigned with different appendInterval and compactInterval",{fileName:"tracker/SaveModel.hx",lineNumber:114,className:"tracker.SaveModel",methodName:"autoSaveAsKey"})),"save_data_1_"+n),r="save_data_2_"+n,h="save_id_1_"+n,a="save_id_2_"+n;l.onChangeset(e,function(e){yr._autoSaveAsKeyHandleChangeset(e,n,s,r,h,a)}),e.serializer!=l&&e.set_serializer(l)},yr._autoSaveAsKeyHandleChangeset=function(e,n,t,i,l,s){yr.busyKeys.push(n),e.append?yr._autoSaveAsKeyAppend(e.data,n,t,i,l,s):yr._autoSaveAsKeyCompact(e.data,n,t,i,l,s)},yr._autoSaveAsKeyAppend=function(e,n,t,i,l,s){Dr.backend.backgroundQueue.schedule(function(){yr._autoSaveAsKeyAppendInBackground(e,n,t,i,l,s)})},yr._autoSaveAsKeyAppendInBackground=function(e,n,t,i,l,s){e=Tr.encodeChangesetData(e);Dr.backend,ke.app.backend.io.appendString(t,e),Dr.backend,ke.app.backend.io.saveString(l,"1"),Dr.backend,ke.app.backend.io.saveString(s,"1"),Dr.backend,ke.app.backend.io.appendString(i,e),Dr.backend,ke.app.backend.io.saveString(l,"2"),Dr.backend,ke.app.backend.io.saveString(s,"2"),Dr.backend;Ft.runInMain(function(){yr._autoSaveAsKeyAppendBackInMain(n)})},yr._autoSaveAsKeyAppendBackInMain=function(e){var n=yr.busyKeys.indexOf(e);-1!=n?yr.busyKeys.splice(n,1):(Dr.backend,ke.app.logger.error("Failed to remove busy key: "+e+" (none in list)",{fileName:"tracker/SaveModel.hx",lineNumber:248,className:"tracker.SaveModel",methodName:"_autoSaveAsKeyAppendBackInMain"}))},yr._autoSaveAsKeyCompact=function(e,n,t,i,l,s){Dr.backend.backgroundQueue.schedule(function(){yr._autoSaveAsKeyCompactRunInBackground(e,n,t,i,l,s)})},yr._autoSaveAsKeyCompactRunInBackground=function(e,n,t,i,l,s){e=Tr.encodeChangesetData(e);Dr.backend,ke.app.backend.io.saveString(t,e),Dr.backend,ke.app.backend.io.saveString(l,"1"),Dr.backend,ke.app.backend.io.saveString(s,"1"),Dr.backend,ke.app.backend.io.saveString(i,e),Dr.backend,ke.app.backend.io.saveString(l,"2"),Dr.backend,ke.app.backend.io.saveString(s,"2"),Dr.backend;Ft.runInMain(function(){yr._autoSaveAsKeyCompactBackInMain(n)})},yr._autoSaveAsKeyCompactBackInMain=function(e){var n=yr.busyKeys.indexOf(e);-1!=n?yr.busyKeys.splice(n,1):(Dr.backend,ke.app.logger.error("Failed to remove busy key: "+e+" (none in list)",{fileName:"tracker/SaveModel.hx",lineNumber:346,className:"tracker.SaveModel",methodName:"_autoSaveAsKeyCompactBackInMain"}))},yr.encodeHashedString=function(e){var n=Kl.encode(e);e.length;return n+""+e},yr.decodeHashedString=function(e){e.length;var n=e.substring(32),e=e.substring(0,32),t=Kl.encode(n);return e!=t?(Dr.backend,ke.app.logger.error("Hash mismatch (stored="+e+" computed="+t+")",{fileName:"tracker/SaveModel.hx",lineNumber:372,className:"tracker.SaveModel",methodName:"decodeHashedString"}),null):n},function(){}),Ur=((E["tracker.Serialize"]=ge).__name__="tracker.Serialize",ge.serialize=function(e){ge._serializedMap=new te;var e=ge.serializeValue(e),n=new Yl,e=(n.serialize(e),n.serialize(ge._serializedMap),n.toString());return ge._serializedMap=null,e},ge.deserialize=function(e,n){var t=ge._serializedMap,i=ge._deserializedMap,n=new Gl(n),l=n.unserialize(),n=(ge._serializedMap=n.unserialize(),ge._deserializedMap=new te,ge.deserializeValue(l,e));return ge._serializedMap=t,ge._deserializedMap=i,n},ge.serializeValue=function(e){if(null==e)return null;if(null==ge._serializedMap)return null;if(e instanceof j){var n=e;if(n._lifecycleState<0)return Dr.backend,C=ws.getClass(n),n="Entity destroyed: "+ot.string(n)+" "+C.__name__,ke.app.logger.error(n,{fileName:"tracker/Serialize.hx",lineNumber:90,className:"tracker.Serialize",methodName:"serializeValue"}),null}if(ws.__implements(e,Cd)){var n=ws.getClass(e),t=n.__name__,i=e._serializeId;if(!Object.prototype.hasOwnProperty.call(ge._cachedEnumInfoBySerializableType.h,t)&&(ge._cachedEnumInfoBySerializableType.h[t]=!0,Object.prototype.hasOwnProperty.call(n,"_serializeEnumInfo"))){t=L.field(n,"_serializeEnumInfo");if(null!=t)for(var l=y=t.h,s=(U=Object.keys(y)).length,r=0;r<s;){var h=v=U[r++],a=l[v];ge._enumInfo.h[h]=a}}if(null!=ge._deserializedMap&&(ge._deserializedMap.h[i]=e),null!=ge._onCheckSerializable&&ge._onCheckSerializable(e),!Object.prototype.hasOwnProperty.call(ge._serializedMap.h,i)){var o={id:i,type:n.__name__,props:{}};ge._serializedMap.h[i]=o;e.willSerialize();for(var c="unobserved".length,u=n;null!=u;){for(var _=us.getFields(u),d=0,b=L.fields(_);d<b.length;){var g=b[d],O=(++d,L.field(_,g));Object.prototype.hasOwnProperty.call(O,"serialize")&&(z.startsWith(O=g,"unobserved")&&(O=O.charAt(c).toLowerCase()+he.substr(O,c+1,null)),g=L.getProperty(e,g),a=ge.serializeValue(g),o.props[O]=a)}if(null!=(u=u.__super__)&&"tracker.Model"==u.__name__)break}null!=ge._onAddSerializable&&ge._onAddSerializable(e)}return{id:i}}if(e instanceof Array){for(var o=[],f=e,d=0;d<f.length;){var p=f[d];++d,o.push(ge.serializeValue(p))}return o}if("string"==typeof e||"number"==typeof e&&(0|e)===e||"number"==typeof e||"boolean"==typeof e)return e;var C,d=B.typeof(e);if(null!=d&&6==d._hx_index&&null!=(C=d.c))switch(C){case $l:for(var o={im:m=[]},v=(w=e).keys();v.hasNext();){h=v.next();m.push(h),m.push(ge.serializeValue(w.h[h]))}return o;case te:for(var m,w,y,U,o={sm:m=[]},l=y=(w=e).h,s=(U=Object.keys(y)).length,r=0;r<s;){v=U[r++];m.push(v),m.push(ge.serializeValue(w.h[v]))}return o}return null!=ge.customHxSerialize?{hx:ge.customHxSerialize(e)}:((t=new Yl).useCache=!0,t.serialize(e),{hx:t.toString()})},ge.deserializeValue=function(e,n,t){if(null==t&&(t=!1),null==e)return null;if(null==ge._serializedMap)return null;if(null==ge._deserializedMap)return null;var i=null!=n;if(e instanceof Array){for(var l=[],s=e,r=0;r<s.length;){var h=s[r];++r,l.push(ge.deserializeValue(h))}return l}if("string"==typeof e||"number"==typeof e&&(0|e)===e||"number"==typeof e||"boolean"==typeof e)return e;if(null!=e.id){if(Object.prototype.hasOwnProperty.call(ge._deserializedMap.h,e.id)){var a=ge._deserializedMap.h[e.id];if(t&&null!=e.props&&null!=e.type){var o=e.type;if(null==(I=E[o]))return Dr.backend,ke.app.logger.warning("Failed to resolve class for serialized type: "+ot.string(e.type),{fileName:"tracker/Serialize.hx",lineNumber:314,className:"tracker.Serialize",methodName:"deserializeValue"}),null;for(var c=us.getFields(I),u="unobserved".length,_=Object.create(null),r=0,d=B.getInstanceFields(I);r<d.length;){var b=d[r];++r,_[b]=!0}for(var g=I.__super__,O=null;null!=g&&((O=null==O?[]:O).push(us.getFields(g)),"tracker.Model"!=g.__name__);){for(r=0,d=B.getInstanceFields(g);r<d.length;){b=d[r];++r,_[b]=!0}g=g.__super__}P=_;for(var f=(T=Object.keys(P)).length,p=0;p<f;){var C=T[p++];if(null==(x=L.field(c,C))&&null!=O)for(r=0,d=O.length;r<d;){var v=r++;if(null!=(x=L.field(O[v],C)))break}var m=null!=x&&Object.prototype.hasOwnProperty.call(x,"serialize"),w=C;z.startsWith(w,"unobserved")&&(w=w.charAt(u).toLowerCase()+he.substr(w,u+1,null)),m&&Object.prototype.hasOwnProperty.call(e.props,w)&&(S=ge.deserializeValue(L.field(e.props,w)),L.setProperty(a,w,S))}}return a}if(Object.prototype.hasOwnProperty.call(ge._serializedMap.h,e.id)){var y=ge._serializedMap.h[e.id],o=y.type;if(null==(I=E[o]))return Dr.backend,ke.app.logger.warning("Failed to resolve class for serialized type: "+y.type,{fileName:"tracker/Serialize.hx",lineNumber:376,className:"tracker.Serialize",methodName:"deserializeValue"}),null;if(null!=n&&ws.getClass(n)!=I)throw ct.thrown("Type mismatch when deserializing object expected "+ot.string(I)+", got "+ot.string(ws.getClass(n)));for(var U=null,D=!1,t=!1,c=(null!=ge._deserializedCacheMap&&Object.prototype.hasOwnProperty.call(ge._deserializedCacheMap.h,e.id)?(U=ge._deserializedCacheMap.h[e.id],D=!0):null!=n&&ws.getClass(n)==I?U=n:(U=Object.create(I.prototype),t=!0),U._serializeId=e.id,ge._deserializedMap.h[e.id]=U,us.getFields(I)),u="unobserved".length,_=Object.create(null),r=0,d=B.getInstanceFields(I);r<d.length;){b=d[r];++r,_[b]=!0}for(g=I.__super__,O=null;null!=g&&((O=null==O?[]:O).push(us.getFields(g)),"tracker.Model"!=g.__name__);){for(r=0,d=B.getInstanceFields(g);r<d.length;){b=d[r];++r,_[b]=!0}g=g.__super__}P=_;for(var T,f=(T=Object.keys(P)).length,p=0;p<f;){var x,C=T[p++];if(null==(x=L.field(c,C))&&null!=O)for(r=0,d=O.length;r<d;){v=r++;if(null!=(x=L.field(O[v],C)))break}var S,A,m=null!=x&&Object.prototype.hasOwnProperty.call(x,"serialize"),w=C;z.startsWith(w,"unobserved")&&(w=w.charAt(u).toLowerCase()+he.substr(w,u+1,null)),m&&Object.prototype.hasOwnProperty.call(y.props,w)?(S=ge.deserializeValue(L.field(y.props,w)),L.setProperty(U,D||i?w:C,S)):i||D||!Object.prototype.hasOwnProperty.call(_,"_default_"+w)||(A=L.field(U,"_default_"+w).apply(U,[]),L.setProperty(U,C,A))}var k,o=ge._serializedMap,n=ge._deserializedMap,I=ge._deserializedCacheMap,P=ge._createdInstances;return ge._serializedMap=null,ge._deserializedMap=null,ge._deserializedCacheMap=null,ge._createdInstances=null,U.didDeserialize(),t&&(null!=P?P.push(U):null!=(k=L.field(U,"_autorunMarkedMethods"))&&(Dr.backend,ke.app._onceImmediate(function(){k.apply(U,[])}))),ge._serializedMap=o,ge._deserializedMap=n,ge._deserializedCacheMap=I,ge._createdInstances=P,U}return null}if(null!=e.sm){for(var F=e.sm,v=0,l=new te;v<F.length;){var M=ge.deserializeValue(F[v+1]);l.h[F[v]]=M,v+=2}return l}if(null!=e.im){for(F=e.im,v=0,l=new $l;v<F.length;){M=ge.deserializeValue(F[v+1]);l.h[F[v]]=M,v+=2}return l}if(null==e.hx)return null;if(null!=ge.customHxDeserialize)return ge.customHxDeserialize(e.hx);t=new Gl(e.hx);try{return t.unserialize()}catch(r){zl.lastError=r;Dr.backend;return ke.app.logger.warning("Failed to deserialize: "+ot.string(e.hx),{fileName:"tracker/Serialize.hx",lineNumber:606,className:"tracker.Serialize",methodName:"deserializeValue"}),null}},(E["tracker.SerializeChangeset"]=Uf).__name__="tracker.SerializeChangeset",Uf.prototype={data:null,append:null,toString:function(){return""+ot.string({append:this.append,data:this.data})},__class__:Uf},function(){this.initializerName=null,this.dirty=!0,this.canCompact=!1,this.dirtyModels=new te,this.willCleanDestroyedTrackedModels=!1,this.trackedModels=new te,this.serializedMap=new te,this.destroyModelOnUntrack=!0,this.compactInterval=60,this.checkInterval=1,j.call(this)}),Dr=((E["tracker.SerializeModel"]=Ur).__name__="tracker.SerializeModel",Ur.__interfaces__=[b0],Ur.loadFromData=function(e,n,t){if(null==t&&(t=!1),null==n)return!1;ge._serializedMap=new te,ge._deserializedMap=new te,ge._deserializedCacheMap=null,ge.serializeValue(e);for(var i=ge._deserializedMap,n=(ge._serializedMap=null,ge._deserializedMap=null,ge._deserializedCacheMap=null,Tr.decodeChangesetData(n)),l=(ge._serializedMap=n.serializedMap,ge._deserializedMap=new te,ge._deserializedCacheMap=t?i:null,ge._createdInstances=[],ge.deserializeValue(n.serialized,e),ge._deserializedMap,ge._createdInstances),s=(ge._createdInstances=null,0),r=l.length;s<r;){var h=l[s++],a=L.field(h,"_autorunMarkedMethods");null!=a&&a.apply(h,[])}ge._deserializedMap=null,ge._serializedMap=null,ge._deserializedCacheMap=null,ge._serializedMap=new te,ge._deserializedMap=new te,ge._deserializedCacheMap=null,ge.serializeValue(e);for(var o=ge._deserializedMap,t=(ge._serializedMap=null,ge._deserializedMap=null,ge._deserializedCacheMap=null,i.h),c=t,u=Object.keys(t),_=u.length,d=0;d<_;){var b=u[d++],g=c[b];o.h[b]!=g&&g instanceof Dd&&(b=g)!=e&&b.serializeShouldDestroy()&&b.destroy()}return!0},Ur.__super__=j,Ur.prototype=$extend(j.prototype,{__cbOnChangeset:null,__cbOnceChangeset:null,__cbOnOwnerUnbindChangeset:null,__cbOnceOwnerUnbindChangeset:null,emitChangeset:function(e){var n=0;if(null!=this.__cbOnChangeset&&(n+=this.__cbOnChangeset.length),null!=this.__cbOnceChangeset&&(n+=this.__cbOnceChangeset.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChangeset)for(var s=0,r=this.__cbOnChangeset.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnChangeset[h],++l):--n}if(null!=this.__cbOnceChangeset){for(var a=null,o=null,s=0,r=this.__cbOnceChangeset.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceChangeset[h],this.__cbOnceChangeset[h]=null,c=this.__cbOnceOwnerUnbindChangeset[h],(this.__cbOnceOwnerUnbindChangeset[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChangeset[h]),o.push(this.__cbOnceChangeset[h]))}this.__cbOnceOwnerUnbindChangeset=a,this.__cbOnceChangeset=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onChangeset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event changeset because owner is destroyed!");var l=function(e){null!=t&&(i.offChangeset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChangeset&&(this.__cbOnOwnerUnbindChangeset=[]),this.__cbOnOwnerUnbindChangeset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChangeset&&(this.__cbOnOwnerUnbindChangeset=[]),this.__cbOnOwnerUnbindChangeset.push(null);null==this.__cbOnChangeset&&(this.__cbOnChangeset=[]),this.__cbOnChangeset.push(t)},onceChangeset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event changeset because owner is destroyed!");var l=function(e){null!=t&&(i.offChangeset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChangeset&&(this.__cbOnceOwnerUnbindChangeset=[]),this.__cbOnceOwnerUnbindChangeset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChangeset&&(this.__cbOnceOwnerUnbindChangeset=[]),this.__cbOnceOwnerUnbindChangeset.push(null);null==this.__cbOnceChangeset&&(this.__cbOnceChangeset=[]),this.__cbOnceChangeset.push(t)},offChangeset:function(e){if(null!=e){var n;null!=this.__cbOnChangeset&&-1!=(n=this.__cbOnChangeset.indexOf(e))&&(this.__cbOnChangeset.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChangeset[n])&&s(),this.__cbOnOwnerUnbindChangeset.splice(n,1)),null!=this.__cbOnceChangeset&&-1!=(n=this.__cbOnceChangeset.indexOf(e))&&(this.__cbOnceChangeset.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChangeset[n])&&s(),this.__cbOnceOwnerUnbindChangeset.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChangeset){for(var t=0,i=this.__cbOnOwnerUnbindChangeset.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChangeset[l])&&s()}this.__cbOnOwnerUnbindChangeset=null}if(null!=this.__cbOnceOwnerUnbindChangeset){for(t=0,i=this.__cbOnceOwnerUnbindChangeset.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChangeset[l])&&s()}this.__cbOnceOwnerUnbindChangeset=null}this.__cbOnChangeset=null,this.__cbOnceChangeset=null}},listensChangeset:function(){return null!=this.__cbOnChangeset&&0<this.__cbOnChangeset.length||null!=this.__cbOnceChangeset&&0<this.__cbOnceChangeset.length},checkInterval:null,compactInterval:null,destroyModelOnUntrack:null,serializedMap:null,model:null,get_model:function(){return this.entity},entity:null,bindAsComponent:function(){0<this.checkInterval&&(Dr.backend,e=this.checkInterval,mi.schedule(this,e,$bind(this,this.synchronize),e)),0<this.compactInterval&&(Dr.backend,e=this.compactInterval,mi.schedule(this,e,$bind(this,this.compactIfNeeded),e));var e=this.entity;0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&((this.trackedModels.h[e._serializeId]=e).onModelDirty(this,$bind(this,this.explicitModelDirty)),e.onObservedDirty(this,$bind(this,this.modelDirty)),e.onceDestroy(this,$bind(this,this.trackedModelDestroyed))),this.compact()},compact:function(e){var n=this,t=this.serializedMap,i=(ge._serializedMap=new te,ge._onAddSerializable=function(e){e instanceof Dd&&((e=e).observedDirty=!1,0<=e._lifecycleState)&&!Object.prototype.hasOwnProperty.call(n.trackedModels.h,e._serializeId)&&((n.trackedModels.h[e._serializeId]=e).onModelDirty(n,$bind(n,n.explicitModelDirty)),e.onObservedDirty(n,$bind(n,n.modelDirty)),e.onceDestroy(n,$bind(n,n.trackedModelDestroyed)))},ge.serializeValue(this.entity)),t=(this.serializedMap=ge._serializedMap,ge._onAddSerializable=null,ge._serializedMap=null,this.cleanTrackingFromPrevSerializedMap(t),new Yl),i=(t.serialize(i),t.serialize(this.serializedMap),t.toString());this.emitChangeset(new Uf(i,!1)),null!=e&&e(i)},trackedModels:null,willCleanDestroyedTrackedModels:null,dirtyModels:null,canCompact:null,dirty:null,track:function(e){0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&((this.trackedModels.h[e._serializeId]=e).onModelDirty(this,$bind(this,this.explicitModelDirty)),e.onObservedDirty(this,$bind(this,this.modelDirty)),e.onceDestroy(this,$bind(this,this.trackedModelDestroyed)))},untrack:function(e){var n,t;Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&(n=e._serializeId,t=this.trackedModels,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],e.offModelDirty($bind(this,this.explicitModelDirty)),e.offObservedDirty($bind(this,this.modelDirty)),e.offDestroy($bind(this,this.trackedModelDestroyed)),this.destroyModelOnUntrack)&&e.destroy()},trackedModelDestroyed:function(e){var c=this;this.willCleanDestroyedTrackedModels||(this.willCleanDestroyedTrackedModels=!0,Dr.backend,ke.app._onceImmediate(function(){for(var e=[],n=c.trackedModels.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s=t[l++];e.push(s)}for(var r=0;r<e.length;){var h,a,s=e[r],o=(++r,c.trackedModels.h[s]);o._lifecycleState<0&&Object.prototype.hasOwnProperty.call(c.trackedModels.h,o._serializeId)&&(h=o._serializeId,a=c.trackedModels,Object.prototype.hasOwnProperty.call(a.h,h)&&delete a.h[h],o.offModelDirty($bind(c,c.explicitModelDirty)),o.offObservedDirty($bind(c,c.modelDirty)),o.offDestroy($bind(c,c.trackedModelDestroyed)),c.destroyModelOnUntrack)&&o.destroy()}c.willCleanDestroyedTrackedModels=!1}))},cleanTrackingFromPrevSerializedMap:function(e){for(var n=[],e=e.h,t=Object.keys(e),i=t.length,l=0;l<i;){var s=t[l++];Object.prototype.hasOwnProperty.call(this.serializedMap.h,s)||n.push(s)}for(var r=0;r<n.length;){var h,a,s=n[r],o=(++r,this.trackedModels.h[s]);null!=o&&Object.prototype.hasOwnProperty.call(this.trackedModels.h,o._serializeId)&&(h=o._serializeId,a=this.trackedModels,Object.prototype.hasOwnProperty.call(a.h,h)&&delete a.h[h],o.offModelDirty($bind(this,this.explicitModelDirty)),o.offObservedDirty($bind(this,this.modelDirty)),o.offDestroy($bind(this,this.trackedModelDestroyed)),this.destroyModelOnUntrack)&&o.destroy()}},modelDirty:function(e,n){n?(this.dirtyModels.h[e._serializeId]=e,this.dirty=!0):e.observedDirty=!1},explicitModelDirty:function(e){this.dirtyModels.h[e._serializeId]=e,this.dirty=!0},synchronize:function(){if(this.dirty){this.dirty=!1;for(var e=[],n=this.dirtyModels.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s,r,h,a=t[l++],a=this.dirtyModels.h[a];0<=a._lifecycleState&&Object.prototype.hasOwnProperty.call(this.trackedModels.h,a._serializeId)&&(0!=a.dirty&&(a.dirty=!1),s=[this],r=a._serializeId,h=this.serializedMap,Object.prototype.hasOwnProperty.call(h.h,r)&&delete h.h[r],ge._serializedMap=this.serializedMap,ge._onCheckSerializable=function(i){return function(e){var n=e._serializeId,t=i[0].trackedModels.h[n];null!=t&&t!=e&&(t=i[0].serializedMap,Object.prototype.hasOwnProperty.call(t.h,n))&&delete t.h[n]}}(s),ge._onAddSerializable=function(n,t){return function(e){e instanceof Dd&&((e=e).observedDirty=!1,t[0].push(n[0].serializedMap.h[e._serializeId]),0<=e._lifecycleState)&&!Object.prototype.hasOwnProperty.call(n[0].trackedModels.h,e._serializeId)&&((n[0].trackedModels.h[e._serializeId]=e).onModelDirty(n[0],$bind(U=n[0],U.explicitModelDirty)),e.onObservedDirty(n[0],$bind(U=n[0],U.modelDirty)),e.onceDestroy(n[0],$bind(U=n[0],U.trackedModelDestroyed)))}}(s,[e]),ge.serializeValue(a),ge._onCheckSerializable=null,ge._onAddSerializable=null,ge._serializedMap=null)}this.dirtyModels=new te,0<e.length&&((n=new Yl).serialize(e),n=n.toString(),this.canCompact=!0,this.emitChangeset(new Uf(n,!0)))}},compactIfNeeded:function(){this.canCompact&&(this.canCompact=!1,this.compact())},serializeModel:function(e,n){var i=this,t=e._serializeId,l=this.serializedMap;Object.prototype.hasOwnProperty.call(l.h,t)&&delete l.h[t],ge._serializedMap=this.serializedMap,ge._onCheckSerializable=function(e){var n=e._serializeId,t=i.trackedModels.h[n];null!=t&&t!=e&&(t=i.serializedMap,Object.prototype.hasOwnProperty.call(t.h,n))&&delete t.h[n]},ge._onAddSerializable=function(e){e instanceof Dd&&((e=e).observedDirty=!1,n.push(i.serializedMap.h[e._serializeId]),0<=e._lifecycleState)&&!Object.prototype.hasOwnProperty.call(i.trackedModels.h,e._serializeId)&&((i.trackedModels.h[e._serializeId]=e).onModelDirty(i,$bind(i,i.explicitModelDirty)),e.onObservedDirty(i,$bind(i,i.modelDirty)),e.onceDestroy(i,$bind(i,i.trackedModelDestroyed)))},ge.serializeValue(e),ge._onCheckSerializable=null,ge._onAddSerializable=null,ge._serializedMap=null},setEntity:function(e){this.entity=e instanceof Dd?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offChangeset()},__class__:Ur,__properties__:$extend(j.prototype.__properties__,{get_model:"get_model"})}),(E["tracker.ShareChangeset"]=Wf).__name__="tracker.ShareChangeset",Wf.prototype={items:null,toString:function(){for(var e=[],n=0,t=this.items;n<t.length;){var i=t[n];++n,e.push(i)}return""+ot.string({items:e})},__class__:Wf},(E["tracker.ShareItem"]=Yf).__name__="tracker.ShareItem",Yf.prototype={id:null,action:null,type:null,props:null,__class__:Yf},(E["tracker.ShareModel"]=Zf).__name__="tracker.ShareModel",Zf.__interfaces__=[b0],Zf.autoShare=function(e,n,t,i){null==n&&(n=.032);var l=e.sharer;return null!=l?(l.checkInterval!=n&&(Dr.backend,ke.app.logger.warning("A sharer is already assigned with different checkInterval",{fileName:"tracker/ShareModel.hx",lineNumber:561,className:"tracker.ShareModel",methodName:"autoShare"})),l.onChangeset(t,i),l.shareAll()):((l=new Zf).checkInterval=n,l.onChangeset(t,i),e.set_sharer(l)),l},Zf.__super__=j,Zf.prototype=$extend(j.prototype,{__cbOnChangeset:null,__cbOnceChangeset:null,__cbOnOwnerUnbindChangeset:null,__cbOnceOwnerUnbindChangeset:null,emitChangeset:function(e){var n=0;if(null!=this.__cbOnChangeset&&(n+=this.__cbOnChangeset.length),null!=this.__cbOnceChangeset&&(n+=this.__cbOnceChangeset.length),0<n){var t=C.pool(n),i=t.get(),l=0;if(null!=this.__cbOnChangeset)for(var s=0,r=this.__cbOnChangeset.length;s<r;){var h=s++;!0?(i.vector[l]=this.__cbOnChangeset[h],++l):--n}if(null!=this.__cbOnceChangeset){for(var a=null,o=null,s=0,r=this.__cbOnceChangeset.length;s<r;){var c,h=s++;!0?(i.vector[l]=this.__cbOnceChangeset[h],this.__cbOnceChangeset[h]=null,c=this.__cbOnceOwnerUnbindChangeset[h],(this.__cbOnceOwnerUnbindChangeset[h]=null)!=c&&c(),++l):(--n,null==a&&(a=[],o=[],0),a.push(this.__cbOnceOwnerUnbindChangeset[h]),o.push(this.__cbOnceChangeset[h]))}this.__cbOnceOwnerUnbindChangeset=a,this.__cbOnceChangeset=o}for(s=0,r=n;s<r;){l=s++;(0,i.vector[l])(e)}t.release(i)}},onChangeset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event changeset because owner is destroyed!");var l=function(e){null!=t&&(i.offChangeset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnOwnerUnbindChangeset&&(this.__cbOnOwnerUnbindChangeset=[]),this.__cbOnOwnerUnbindChangeset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnOwnerUnbindChangeset&&(this.__cbOnOwnerUnbindChangeset=[]),this.__cbOnOwnerUnbindChangeset.push(null);null==this.__cbOnChangeset&&(this.__cbOnChangeset=[]),this.__cbOnChangeset.push(t)},onceChangeset:function(n,t){var i=this;if(null!=n){if(n._lifecycleState<0)throw ct.thrown("Failed to bind event changeset because owner is destroyed!");var l=function(e){null!=t&&(i.offChangeset(t),t=null),l=n=null};n.onceDestroy(null,l),null==this.__cbOnceOwnerUnbindChangeset&&(this.__cbOnceOwnerUnbindChangeset=[]),this.__cbOnceOwnerUnbindChangeset.push(function(){null!=n&&null!=l&&n.offDestroy(l),t=l=n=null})}else null==this.__cbOnceOwnerUnbindChangeset&&(this.__cbOnceOwnerUnbindChangeset=[]),this.__cbOnceOwnerUnbindChangeset.push(null);null==this.__cbOnceChangeset&&(this.__cbOnceChangeset=[]),this.__cbOnceChangeset.push(t)},offChangeset:function(e){if(null!=e){var n;null!=this.__cbOnChangeset&&-1!=(n=this.__cbOnChangeset.indexOf(e))&&(this.__cbOnChangeset.splice(n,1),null!=(s=this.__cbOnOwnerUnbindChangeset[n])&&s(),this.__cbOnOwnerUnbindChangeset.splice(n,1)),null!=this.__cbOnceChangeset&&-1!=(n=this.__cbOnceChangeset.indexOf(e))&&(this.__cbOnceChangeset.splice(n,1),null!=(s=this.__cbOnceOwnerUnbindChangeset[n])&&s(),this.__cbOnceOwnerUnbindChangeset.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChangeset){for(var t=0,i=this.__cbOnOwnerUnbindChangeset.length;t<i;){var l=t++;null!=(s=this.__cbOnOwnerUnbindChangeset[l])&&s()}this.__cbOnOwnerUnbindChangeset=null}if(null!=this.__cbOnceOwnerUnbindChangeset){for(t=0,i=this.__cbOnceOwnerUnbindChangeset.length;t<i;){var s,l=t++;null!=(s=this.__cbOnceOwnerUnbindChangeset[l])&&s()}this.__cbOnceOwnerUnbindChangeset=null}this.__cbOnChangeset=null,this.__cbOnceChangeset=null}},listensChangeset:function(){return null!=this.__cbOnChangeset&&0<this.__cbOnChangeset.length||null!=this.__cbOnceChangeset&&0<this.__cbOnceChangeset.length},serializedMap:null,deserializedMap:null,destroysToDispatch:null,model:null,get_model:function(){return this.entity},entity:null,lastCheckedFrame:null,destroyModelOnUntrack:null,checkInterval:null,bindAsComponent:function(){0<this.checkInterval&&(Dr.backend,e=this.checkInterval,mi.schedule(this,e,$bind(this,this.synchronizeIfNeeded),e));var e=this.entity;0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&(this.trackedModels.h[e._serializeId]=e,(this.deserializedMap.h[e._serializeId]=e).onModelDirty(this,$bind(this,this.explicitModelDirty)),e.onObservedDirty(this,$bind(this,this.modelDirty)),e.onceDestroy(this,$bind(this,this.trackedModelDestroyed))),this.shareAll()},trackedModels:null,willCleanDestroyedTrackedModels:null,dirtyModels:null,dirty:null,paused:null,pause:function(){this.paused++},resume:function(){this.paused--},track:function(e){0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&(this.trackedModels.h[e._serializeId]=e,(this.deserializedMap.h[e._serializeId]=e).onModelDirty(this,$bind(this,this.explicitModelDirty)),e.onObservedDirty(this,$bind(this,this.modelDirty)),e.onceDestroy(this,$bind(this,this.trackedModelDestroyed)))},untrack:function(e){var n,t;Object.prototype.hasOwnProperty.call(this.trackedModels.h,e._serializeId)&&(n=e._serializeId,t=this.trackedModels,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],n=e._serializeId,t=this.deserializedMap,Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],e.offModelDirty($bind(this,this.explicitModelDirty)),e.offObservedDirty($bind(this,this.modelDirty)),e.offDestroy($bind(this,this.trackedModelDestroyed)),this.destroyModelOnUntrack)&&e.destroy()},encodeValue:function(e){return JSON.stringify(e)},decodeValue:function(e){return JSON.parse(e)},trackedModelDestroyed:function(e){var c=this;this.willCleanDestroyedTrackedModels||(this.willCleanDestroyedTrackedModels=!0,Dr.backend,ke.app._onceImmediate(function(){for(var e=[],n=c.trackedModels.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s=t[l++];e.push(s)}for(var r=0;r<e.length;){var h,a,s=e[r],o=(++r,c.trackedModels.h[s]);o._lifecycleState<0&&(null==c.destroysToDispatch&&(c.destroysToDispatch=[]),-1==c.destroysToDispatch.indexOf(o._serializeId)&&c.destroysToDispatch.push(o._serializeId),Object.prototype.hasOwnProperty.call(c.trackedModels.h,o._serializeId))&&(a=o._serializeId,h=c.trackedModels,Object.prototype.hasOwnProperty.call(h.h,a)&&delete h.h[a],h=o._serializeId,a=c.deserializedMap,Object.prototype.hasOwnProperty.call(a.h,h)&&delete a.h[h],o.offModelDirty($bind(c,c.explicitModelDirty)),o.offObservedDirty($bind(c,c.modelDirty)),o.offDestroy($bind(c,c.trackedModelDestroyed)),c.destroyModelOnUntrack)&&o.destroy()}c.willCleanDestroyedTrackedModels=!1}))},cleanTrackingFromPrevSerializedMap:function(e){for(var n=[],e=e.h,t=Object.keys(e),i=t.length,l=0;l<i;){var s=t[l++];Object.prototype.hasOwnProperty.call(this.serializedMap.h,s)||n.push(s)}for(var r=0;r<n.length;){var h,a,s=n[r],o=(++r,this.trackedModels.h[s]);null!=o&&Object.prototype.hasOwnProperty.call(this.trackedModels.h,o._serializeId)&&(a=o._serializeId,h=this.trackedModels,Object.prototype.hasOwnProperty.call(h.h,a)&&delete h.h[a],h=o._serializeId,a=this.deserializedMap,Object.prototype.hasOwnProperty.call(a.h,h)&&delete a.h[h],o.offModelDirty($bind(this,this.explicitModelDirty)),o.offObservedDirty($bind(this,this.modelDirty)),o.offDestroy($bind(this,this.trackedModelDestroyed)),this.destroyModelOnUntrack)&&o.destroy()}},modelDirty:function(e,n){n?(this.dirtyModels.h[e._serializeId]=e,this.dirty=!0):e.observedDirty=!1},explicitModelDirty:function(e){this.dirtyModels.h[e._serializeId]=e,this.dirty=!0},synchronizeIfNeeded:function(){var e=ke.app.frame;this.lastCheckedFrame!=e&&(this.lastCheckedFrame=e,this.synchronize())},synchronize:function(){if(this.dirty&&!(0<this.paused)){this.dirty=!1;var e=[];if(null!=this.destroysToDispatch)for(;0<this.destroysToDispatch.length;)e.push(new Yf(this.destroysToDispatch.shift(),2,null,null));for(var n=this.dirtyModels.h,t=Object.keys(n),i=t.length,l=0;l<i;){var s,r,h,a,o,c=t[l++],c=this.dirtyModels.h[c];0<=c._lifecycleState&&Object.prototype.hasOwnProperty.call(this.trackedModels.h,c._serializeId)&&(0!=c.dirty&&(c.dirty=!1),s=[this],r=[c._serializeId],h=[this.serializedMap.h[r[0]]],a=c._serializeId,o=this.serializedMap,Object.prototype.hasOwnProperty.call(o.h,a)&&delete o.h[a],ge._serializedMap=this.serializedMap,ge._onCheckSerializable=function(i){return function(e){var n=e._serializeId,t=i[0].trackedModels.h[n];null!=t&&t!=e&&(t=i[0].serializedMap,Object.prototype.hasOwnProperty.call(t.h,n))&&delete t.h[n]}}(s),ge._onAddSerializable=function(c,u,_,d){return function(e){if(e instanceof Dd){e.observedDirty=!1;var n=ge._serializedMap.h[e._serializeId],t=n.props,i={},l=!1,s=0;if(e._serializeId==u[0]&&null!=c[0]&&null!=c[0].props)for(var s=1,r=c[0].props,h=0,a=L.fields(t);h<a.length;){var o=a[h];++h,Qf.equal(L.field(t,o),L.field(r,o))||(l=!0,i[o]=_[0].encodeValue(L.field(t,o)))}else for(l=!0,h=0,a=L.fields(t);h<a.length;){o=a[h];++h,i[o]=_[0].encodeValue(L.field(t,o))}l&&(s=new Yf(n.id,s,n.type,i),d[0].push(s)),0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(_[0].trackedModels.h,e._serializeId)&&(_[0].trackedModels.h[e._serializeId]=e,(_[0].deserializedMap.h[e._serializeId]=e).onModelDirty(_[0],$bind(U=_[0],U.explicitModelDirty)),e.onObservedDirty(_[0],$bind(U=_[0],U.modelDirty)),e.onceDestroy(_[0],$bind(U=_[0],U.trackedModelDestroyed)))}}}(h,r,s,[e]),ge.serializeValue(c),ge._onCheckSerializable=null,ge._onAddSerializable=null,ge._serializedMap=null)}this.dirtyModels=new te,0<e.length&&this.emitChangeset(new Wf(e))}},shareAll:function(e,n){null==e&&(e=!1);var c=this,u=this.serializedMap,_=[];ge._serializedMap=new te,ge._onAddSerializable=e?function(e){if(e instanceof Dd){e.observedDirty=!1,0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(c.trackedModels.h,e._serializeId)&&(c.trackedModels.h[e._serializeId]=e,(c.deserializedMap.h[e._serializeId]=e).onModelDirty(c,$bind(c,c.explicitModelDirty)),e.onObservedDirty(c,$bind(c,c.modelDirty)),e.onceDestroy(c,$bind(c,c.trackedModelDestroyed)));var n=u.h[e._serializeId],e=ge._serializedMap.h[e._serializeId],t=e.props,i={},l=!1,s=0;if(null!=n&&null!=n.props)for(var s=1,r=n.props,h=0,a=L.fields(t);h<a.length;){var o=a[h];++h,Qf.equal(L.field(t,o),L.field(r,o))||(l=!0,i[o]=c.encodeValue(L.field(t,o)))}else for(l=!0,h=0,a=L.fields(t);h<a.length;){o=a[h];++h,i[o]=c.encodeValue(L.field(t,o))}l&&(n=new Yf(e.id,s,e.type,i),_.push(n))}}:function(e){if(e instanceof Dd){e.observedDirty=!1,0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(c.trackedModels.h,e._serializeId)&&(c.trackedModels.h[e._serializeId]=e,(c.deserializedMap.h[e._serializeId]=e).onModelDirty(c,$bind(c,c.explicitModelDirty)),e.onObservedDirty(c,$bind(c,c.modelDirty)),e.onceDestroy(c,$bind(c,c.trackedModelDestroyed)));for(var n={},e=ge._serializedMap.h[e._serializeId],t=e.props,i=0,l=L.fields(t);i<l.length;){var s=l[i];++i,n[s]=c.encodeValue(L.field(t,s))}e=new Yf(e.id,0,e.type,n);_.push(e)}},ge.serializeValue(this.entity),this.serializedMap=ge._serializedMap,ge._onAddSerializable=null,ge._serializedMap=null,this.cleanTrackingFromPrevSerializedMap(u),Dr.backend;ke.app._onceImmediate(function(){if(null!=c.destroysToDispatch)for(;0<c.destroysToDispatch.length;)_.push(new Yf(c.destroysToDispatch.shift(),2,null,null));null!=n&&n(_),0<_.length&&c.emitChangeset(new Wf(_))})},receiveShared:function(e){ge._serializedMap=this.serializedMap,ge._deserializedMap=this.deserializedMap,ge._createdInstances=[];try{for(var n=0,t=e.items;n<t.length;){var i=t[n];switch(++n,i.action){case 0:case 1:if(null==(o=this.serializedMap.h[i.id])&&(o={id:i.id,type:i.type,props:{}},this.serializedMap.h[i.id]=o),null!=i.props)for(var l=0,s=L.fields(i.props);l<s.length;){var r=s[l];++l,o.props[r]=this.decodeValue(L.field(i.props,r))}}}for(n=0,t=e.items;n<t.length;){i=t[n];switch(++n,i.action){case 0:var h,a=this.deserializedMap.h[i.id],o=this.serializedMap.h[i.id],c=ge.deserializeValue(o,a,!0);a!=c&&null!=c&&c instanceof Dd&&0<=(h=c)._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,h._serializeId)&&(this.trackedModels.h[h._serializeId]=h,(this.deserializedMap.h[h._serializeId]=h).onModelDirty(this,$bind(this,this.explicitModelDirty)),h.onObservedDirty(this,$bind(this,this.modelDirty)),h.onceDestroy(this,$bind(this,this.trackedModelDestroyed)));break;case 1:var u=this.deserializedMap.h[i.id],_=this.serializedMap.h[i.id],d={};if(null!=i.props)for(l=0,s=L.fields(i.props);l<s.length;){var r=s[l],b=(++l,L.field(_.props,r));d[r]=b}var g,O=ge.deserializeValue({id:i.id,type:_.type,props:d},u,!0);u!=O&&null!=O&&O instanceof Dd&&0<=(g=O)._lifecycleState&&!Object.prototype.hasOwnProperty.call(this.trackedModels.h,g._serializeId)&&(this.trackedModels.h[g._serializeId]=g,(this.deserializedMap.h[g._serializeId]=g).onModelDirty(this,$bind(this,this.explicitModelDirty)),g.onObservedDirty(this,$bind(this,this.modelDirty)),g.onceDestroy(this,$bind(this,this.trackedModelDestroyed)));break;case 2:var f=this.deserializedMap.h[i.id];f instanceof Dd&&(null!=f?f.destroy():(Dr.backend,ke.app.logger.warning("Trying to destroy item "+i.id+", but item was not found!",{fileName:"tracker/ShareModel.hx",lineNumber:435,className:"tracker.ShareModel",methodName:"receiveShared"})))}}}catch(n){zl.lastError=n;e=ct.caught(n).unwrap();Dr.backend;ke.app.logger.error("Failed to receive shared data: "+ot.string(e),{fileName:"tracker/ShareModel.hx",lineNumber:444,className:"tracker.ShareModel",methodName:"receiveShared"})}for(var p=ge._createdInstances,n=(ge._createdInstances=null,0),t=p.length;n<t;){var C=p[n++],v=L.field(C,"_autorunMarkedMethods");null!=v&&v.apply(C,[])}ge._serializedMap=null,ge._deserializedMap=null},serializeModel:function(e,c){var u=this,_=e._serializeId,d=this.serializedMap.h[_],n=e._serializeId,t=this.serializedMap;Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],ge._serializedMap=this.serializedMap,ge._onCheckSerializable=function(e){var n=e._serializeId,t=u.trackedModels.h[n];null!=t&&t!=e&&(t=u.serializedMap,Object.prototype.hasOwnProperty.call(t.h,n))&&delete t.h[n]},ge._onAddSerializable=function(e){if(e instanceof Dd){e.observedDirty=!1;var n=ge._serializedMap.h[e._serializeId],t=n.props,i={},l=!1,s=0;if(e._serializeId==_&&null!=d&&null!=d.props)for(var s=1,r=d.props,h=0,a=L.fields(t);h<a.length;){var o=a[h];++h,Qf.equal(L.field(t,o),L.field(r,o))||(l=!0,i[o]=u.encodeValue(L.field(t,o)))}else for(l=!0,h=0,a=L.fields(t);h<a.length;){o=a[h];++h,i[o]=u.encodeValue(L.field(t,o))}l&&(s=new Yf(n.id,s,n.type,i),c.push(s)),0<=e._lifecycleState&&!Object.prototype.hasOwnProperty.call(u.trackedModels.h,e._serializeId)&&(u.trackedModels.h[e._serializeId]=e,(u.deserializedMap.h[e._serializeId]=e).onModelDirty(u,$bind(u,u.explicitModelDirty)),e.onObservedDirty(u,$bind(u,u.modelDirty)),e.onceDestroy(u,$bind(u,u.trackedModelDestroyed)))}},ge.serializeValue(e),ge._onCheckSerializable=null,ge._onAddSerializable=null,ge._serializedMap=null},setEntity:function(e){this.entity=e instanceof Dd?e:null},getEntity:function(){return this.entity},initializerName:null,unbindEvents:function(){j.prototype.unbindEvents.call(this),this.offChangeset()},__class__:Zf,__properties__:$extend(j.prototype.__properties__,{get_model:"get_model"})}),function(){}),Tr=((E["tracker.Tracker"]=Dr).__name__="tracker.Tracker",function(){});function $bind(e,n){var t;return null==n?null:(null==n.__id__&&(n.__id__=qe.$haxeUID++),null==e.hx__closures__?e.hx__closures__={}:t=e.hx__closures__[n.__id__],null==t&&(t=n.bind(e),e.hx__closures__[n.__id__]=t),t)}(E["tracker.Utils"]=Tr).__name__="tracker.Utils",Tr.uniformFrequencyList=function(e,n,t){for(var i=[],l=[],s=0,r=e.length;s<r;)l[u=s++]=0;for(s=0,r=n.length;s<r;)l[u=s++]+=n[u];for(s=0,r=t;s<r;){s++;for(var h=0,a=0,o=0,c=e.length;o<c;){var u,_=l[u=o++];a<_&&(h=u,a=_)}i.push(e[h]),--l[h];for(var d=0,b=n.length;d<b;){var g=d++;l[g]+=n[g]}}return i},Tr.uniqueId=function(){switch(Tr._nextUniqueIntCursor){case 0:Tr._nextUniqueInt0=(Tr._nextUniqueInt0+1)%2147483647;break;case 1:Tr._nextUniqueInt1=(Tr._nextUniqueInt1+1)%2147483647;break;case 2:Tr._nextUniqueInt2=(Tr._nextUniqueInt2+1)%2147483647;break;case 3:Tr._nextUniqueInt3=(Tr._nextUniqueInt3+1)%2147483647}Tr._nextUniqueIntCursor=(Tr._nextUniqueIntCursor+1)%4;var e,n=Tr._nextUniqueInt0,t=(n=null==n?2147483646*Math.random()|0:n)%62|0,i=n/62|0;e=0<i?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(l=0<(i=n/62|0)?(s=Tr.base62Id(i))+(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(s=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(s)))+(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(l=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(l));var l,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;l=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(s=0<(i=n/62|0)?(r=Tr.base62Id(i))+(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(r=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(r)))+(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(s=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(s));var s,t=(n=null==(n=Tr._nextUniqueInt1)?2147483646*Math.random()|0:n)%62|0;s=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(r=0<(i=n/62|0)?(h=Tr.base62Id(i))+(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(h=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(h)))+(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(r=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(r));var r,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;r=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(h=0<(i=n/62|0)?(a=Tr.base62Id(i))+(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(a=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(a)))+(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(h=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(h));var h,t=(n=null==(n=Tr._nextUniqueInt2)?2147483646*Math.random()|0:n)%62|0;h=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(a=0<(i=n/62|0)?(o=Tr.base62Id(i))+(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(o=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(o)))+(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(a=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(a));var a,t=(n=null==(n=null)?2147483646*Math.random()|0:n)%62|0;a=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(o=0<(i=n/62|0)?(d=Tr.base62Id(i))+(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(d=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(d)))+(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(o=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(o));var o,c,u,_,d,t=(n=null==(n=Tr._nextUniqueInt3)?2147483646*Math.random()|0:n)%62|0;return d=e+"-"+l+"-"+s+"-"+r+"-"+h+"-"+a+"-"+(o=0<(i=n/62|0)?(c=(n=null==(n=i)?2147483646*Math.random()|0:n)%62|0,(d=0<(i=n/62|0)?(u=Tr.base62Id(i))+(9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0)):(u=9<c?(90<(_=c-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(c).charAt(0),ot.string(u)))+(u=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0))):(d=9<t?(90<(_=t-10+65)&&(_+=6),String.fromCodePoint(_)):ot.string(t).charAt(0),ot.string(d)))},Tr.base62Id=function(e){var n,t,i=(e=null==e?2147483646*Math.random()|0:e)%62|0,e=e/62|0;return 0<e?(n=Tr.base62Id(e))+(9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0)):(n=9<i?(90<(t=i-10+65)&&(t+=6),String.fromCodePoint(t)):(null==i?"null":""+i).charAt(0),ot.string(n))},Tr.encodeChangesetData=function(e){return e.length+":"+e},Tr.decodeChangesetData=function(e){for(var n=new te,t=null,i=[];;){var l=e.indexOf(":");if(-1==l)break;var s=ot.parseInt(he.substr(e,0,l)),r=he.substr(e,l+1,s);i.push(r),e=he.substr(e,l+1+s,null)}for(var h=i.length-1;0<=h;){var a=i[h];if(0==h)for(var o=new Gl(a),t=o.unserialize(),o=o.unserialize().h,c=o,u=Object.keys(o),_=u.length,d=0;d<_;){var b=c[u[d++]],g=b.id;Object.prototype.hasOwnProperty.call(n.h,g)||(n.h[g]=b)}else for(var O=new Gl(a).unserialize(),f=0;f<O.length;){var p=O[f],C=(++f,p.id);Object.prototype.hasOwnProperty.call(n.h,C)||(n.h[C]=p)}--h}return{serialized:t,serializedMap:n}},Tr.equalAny=function(e,n){return e==n},qe.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(he.now=performance.now.bind(performance)),E.Math=Math,null==String.fromCodePoint&&(String.fromCodePoint=function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55232+(e>>10))+String.fromCharCode(56320+(1023&e))}),Object.defineProperty(String.prototype,"__class__",{value:E.String=String,enumerable:!1,writable:!0}),String.__name__="String",(E.Array=Array).__name__="Array",(Date.prototype.__class__=E.Date=Date).__name__="Date";var xr={},Sr={},Ar=Number,kr=Boolean,Ir={},Pr={};F.bind(),ws.__toStr={}.toString,f.escapeRe=new RegExp("[.*+?^${}()|[\\]\\\\]","g"),n._decomposed1=new m,n._decomposed2=new m,n._tmp=new n,p.pool=new o,q.DEPTH_FACTOR=1e3,q.DEPTH_MARGIN=.01,q.FLAG_NOT_ACTIVE=1,q.FLAG_VISIBLE_WHEN_ACTIVE=2,q.FLAG_TOUCHABLE_WHEN_ACTIVE=4,q.FLAG_IS_HIT_VISUAL=8,q._degToRad=.017453292519943295,q._matrix=new n,q._point=new p,q._minDepth=0,q._maxDepth=0,r.FLAG_TRANSPARENT=16,r.FLAG_ROTATE_FRAME=32,r._matrix=q._matrix,r._degToRad=.017453292519943295,v.__meta__={fields:{unobservedStatus:{observe:null}}},D.Element=0,D.PCData=1,D.CData=2,D.Comment=3,D.DocType=4,D.ProcessingInstruction=5,D.Document=6,tn.instances=[],tn.all=[],tn.allDirs=[],tn.allByName=new te,tn.allDirsByName=new te,tn.customAssetKinds=new te,tn._instances=[],F.all=["raptor-pro.spine/raptor-pro.atlas","raptor-pro.spine/raptor-pro@2x.png","raptor-pro.spine/raptor-pro.json","raptor-pro.spine/raptor-pro@2x.atlas","raptor-pro.spine/raptor-pro.png","entypo.fnt","entypo.png","RobotoMedium.fnt","white.png","RobotoMedium.png"],F.allDirs=["raptor-pro.spine"],F.allByName=((e=new te).h.white=["white.png"],e.h["raptor-pro.spine/raptor-pro"]=["raptor-pro.spine/raptor-pro.atlas","raptor-pro.spine/raptor-pro@2x.png","raptor-pro.spine/raptor-pro.json","raptor-pro.spine/raptor-pro@2x.atlas","raptor-pro.spine/raptor-pro.png"],e.h.entypo=["entypo.fnt","entypo.png"],e.h.RobotoMedium=["RobotoMedium.fnt","RobotoMedium.png"],e),F.allDirsByName=((e=new te).h["raptor-pro"]=["raptor-pro.spine"],e),ln.RAPTOR_PRO=new G,J.filterIdsByBus=[],J.activeBusFilters=[],J.busFilterReadyCallbacks=[],J.postWorkletSyncCallbacks=[],S.GAMEPAD_STORAGE_SIZE=32,Q._activeTextureSlot=0,Q._didUpdateCurrentRenderTarget=!1,Q._projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),Q._modelViewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),Q._modelViewTransform=new n,Q._renderTargetTransform=new n,Q._viewportDensity=1,Q._viewportWidth=0,Q._viewportHeight=0,Q._blackTransparentColor=(e=0)|(255<(e=null==e?255:e)?255:e<0?0:e)<<24,Q._whiteTransparentColor=16777215|(255<(e=null==(e=0)?255:e)?255:e<0?0:e)<<24,Q._drawingInStencilBuffer=!1,on.RE_OPERA=new f("OPR/([0-6].)","g"),on.RE_SAFARI_VERSION=new f("Version/(.*?) ",""),ca.lastResizeTime=-1,ca.lastNewWidth=-1,ca.lastNewHeight=-1,ca.readyToDisplay=!1,ca.resizing=0,ca.containerWidth=0,ca.containerHeight=0,ca.containerPixelRatio=0,ca._displayReady=!1,gn._maxTextureSize=-1,gn._maxTexturesByBatch=-1,Aa._matrix=q._matrix,C.ALLOC_STEP=10,C.dynPool10=new C(10),C.dynPool100=new C(100),C.dynPool1000=new C(1e3),C.dynPool10000=new C(1e4),C.dynPool100000=new C(1e5),C.didNotifyLargePool=!1,Ga.__meta__={fields:{unobservedStatus:{observe:null}}},vn.__meta__={fields:{unobservedAtlas:{observe:null},unobservedText:{observe:null}}},Sa.SAMPLE_STEP_SIZE=(Na._nextFilterId=1)/((Sa.SPLINE_TABLE_SIZE=11)-1),Sa.NEWTON_ITERATIONS=4,Sa.NEWTON_MIN_SLOPE=.001,Sa.SUBDIVISION_PRECISION=1e-7,Sa.SUBDIVISION_MAX_ITERATIONS=10,Sa.TWO_THIRD=.6666666666666666,Sa.CACHE_SIZE=1e4,Sa.numCachedInstances=0,yn.__meta__={fields:{unobservedBytes:{observe:null}}},c0.__meta__={fields:{unobservedPressed:{observe:null}}},Dn._nextInternalId=0,f0._nextId=1,f0._nextIndex=1,f0._fieldInfo={name:{type:"String"},id:{type:"String"},index:{type:"Int"}},g0.nextVIndex=1,g0._layoutRequested=!1,g0._layouting=!1,M.NONE=-1,M.WHITE=16777215,M.GRAY=8421504,M.BLACK=0,M.GREEN=32768,M.LIME=65280,M.YELLOW=16776960,M.ORANGE=16753920,M.RED=16711680,M.PURPLE=8388736,M.BLUE=255,M.BROWN=9127187,M.PINK=16761035,M.MAGENTA=16711935,M.CYAN=65535,M.CORNFLOWERBLUE=6591981,M.MEDIUMVIOLETRED=13047173,M.DEEPPINK=16716947,M.PALEVIOLETRED=14381203,M.HOTPINK=16738740,M.LIGHTPINK=16758465,M.DARKRED=9109504,M.FIREBRICK=11674146,M.CRIMSON=14423100,M.INDIANRED=13458524,M.LIGHTCORAL=15761536,M.SALMON=16416882,M.DARKSALMON=15308410,M.LIGHTSALMON=16752762,M.ORANGERED=16729344,M.TOMATO=16737095,M.DARKORANGE=16747520,M.CORAL=16744272,M.DARKKHAKI=12433259,M.GOLD=16766720,M.KHAKI=15787660,M.PEACHPUFF=16767673,M.PALEGOLDENROD=15657130,M.MOCCASIN=16770229,M.PAPAYAWHIP=16773077,M.LEMONCHIFFON=16775885,M.LIGHTYELLOW=16777184,M.SIENNA=10506797,M.CHOCOLATE=13789470,M.PERU=13468991,M.TAN=13808780,M.DARKOLIVEGREEN=5597999,M.OLIVE=8421376,M.TEAL=32896,M.TURQUOISE=4251856,M.NAVY=128,M.INDIGO=4915330,M.ORCHID=14315734,M.LAVENDER=15132410,M.AZURE=15794175,M.IVORY=16777200,M.DIMGREY=6908265,M.SLATEGREY=7372944,M.SNOW=16775930,M.colorLookup=((e=new te).h.NONE=-1,e.h.WHITE=16777215,e.h.GRAY=8421504,e.h.BLACK=0,e.h.GREEN=32768,e.h.LIME=65280,e.h.YELLOW=16776960,e.h.ORANGE=16753920,e.h.RED=16711680,e.h.PURPLE=8388736,e.h.BLUE=255,e.h.BROWN=9127187,e.h.PINK=16761035,e.h.MAGENTA=16711935,e.h.CYAN=65535,e.h.CORNFLOWERBLUE=6591981,e.h.MEDIUMVIOLETRED=13047173,e.h.DEEPPINK=16716947,e.h.PALEVIOLETRED=14381203,e.h.HOTPINK=16738740,e.h.LIGHTPINK=16758465,e.h.DARKRED=9109504,e.h.FIREBRICK=11674146,e.h.CRIMSON=14423100,e.h.INDIANRED=13458524,e.h.LIGHTCORAL=15761536,e.h.SALMON=16416882,e.h.DARKSALMON=15308410,e.h.LIGHTSALMON=16752762,e.h.ORANGERED=16729344,e.h.TOMATO=16737095,e.h.DARKORANGE=16747520,e.h.CORAL=16744272,e.h.DARKKHAKI=12433259,e.h.GOLD=16766720,e.h.KHAKI=15787660,e.h.PEACHPUFF=16767673,e.h.PALEGOLDENROD=15657130,e.h.MOCCASIN=16770229,e.h.PAPAYAWHIP=16773077,e.h.LEMONCHIFFON=16775885,e.h.LIGHTYELLOW=16777184,e.h.SIENNA=10506797,e.h.CHOCOLATE=13789470,e.h.PERU=13468991,e.h.TAN=13808780,e.h.DARKOLIVEGREEN=5597999,e.h.OLIVE=8421376,e.h.TEAL=32896,e.h.TURQUOISE=4251856,e.h.NAVY=128,e.h.INDIGO=4915330,e.h.ORCHID=14315734,e.h.LAVENDER=15132410,e.h.AZURE=15794175,e.h.IVORY=16777200,e.h.DIMGREY=6908265,e.h.SLATEGREY=7372944,e.h.SNOW=16775930,e),M._hsluvTuple=[0,0,0],M._hsluvResult=[0,0,0],M._hsluvCacheMap=new Sn,M._hsluvCacheValues=[],kn.NO_SIZE=-2147483640,kn._pool=new o,Hn.__meta__={fields:{unobservedDatabase:{observe:null}}},K0._emptyArray=[],M0._point=new p,Yn.fieldInfoMap=new te,Gn.metaMap=new te,Gn.metaMapRecursive=new te,Kn.__meta__={fields:{unobservedRenderTexture:{observe:null}}},Kn._matrix=q._matrix,qn.__meta__={fields:{unobservedFont:{observe:null}}},X0.basicTypes=((e=new te).h.Bool=!0,e.h.Int=!0,e.h.Float=!0,e.h.String=!0,e.h["ceramic.Color"]=!0,e.h["ceramic.ScriptContent"]=!0,e),X0.cachedFragmentData=new te,X0._trackResult=new W0,X0._keyframeResult=new W0,X0._usedKeyframes=[],$n.__meta__={fields:{unobservedFragments:{observe:null}}},Qn._lastDecodeIncomplete=!15,Zn.__meta__={fields:{unobservedTexture:{observe:null}}},nt.GAMEPAD_STORAGE_SIZE=32,gt.NO_VALUE=0,gt.NULL_VALUE=1,gt.RESERVED_GAP=2,mt.instances=[],l.UNKNOWN=0,l.ENTER=13,l.ESCAPE=27,l.BACKSPACE=8,l.TAB=9,l.SPACE=32,l.EXCLAIM=33,l.QUOTEDBL=34,l.HASH=35,l.PERCENT=37,l.DOLLAR=36,l.AMPERSAND=38,l.QUOTE=39,l.LEFTPAREN=40,l.RIGHTPAREN=41,l.ASTERISK=42,l.PLUS=43,l.COMMA=44,l.MINUS=45,l.PERIOD=46,l.SLASH=47,l.KEY_0=48,l.KEY_1=49,l.KEY_2=50,l.KEY_3=51,l.KEY_4=52,l.KEY_5=53,l.KEY_6=54,l.KEY_7=55,l.KEY_8=56,l.KEY_9=57,l.COLON=58,l.SEMICOLON=59,l.LESS=60,l.EQUALS=61,l.GREATER=62,l.QUESTION=63,l.AT=64,l.LEFTBRACKET=91,l.BACKSLASH=92,l.RIGHTBRACKET=93,l.CARET=94,l.UNDERSCORE=95,l.BACKQUOTE=96,l.KEY_A=97,l.KEY_B=98,l.KEY_C=99,l.KEY_D=100,l.KEY_E=101,l.KEY_F=102,l.KEY_G=103,l.KEY_H=104,l.KEY_I=105,l.KEY_J=106,l.KEY_K=107,l.KEY_L=108,l.KEY_M=109,l.KEY_N=110,l.KEY_O=111,l.KEY_P=112,l.KEY_Q=113,l.KEY_R=114,l.KEY_S=115,l.KEY_T=116,l.KEY_U=117,l.KEY_V=118,l.KEY_W=119,l.KEY_X=120,l.KEY_Y=121,l.KEY_Z=122,l.CAPSLOCK=1073741881,l.F1=1073741882,l.F2=1073741883,l.F3=1073741884,l.F4=1073741885,l.F5=1073741886,l.F6=1073741887,l.F7=1073741888,l.F8=1073741889,l.F9=1073741890,l.F10=1073741891,l.F11=1073741892,l.F12=1073741893,l.PRINTSCREEN=1073741894,l.SCROLLLOCK=1073741895,l.PAUSE=1073741896,l.INSERT=1073741897,l.HOME=1073741898,l.PAGEUP=1073741899,l.DELETE=127,l.END=1073741901,l.PAGEDOWN=1073741902,l.RIGHT=1073741903,l.LEFT=1073741904,l.DOWN=1073741905,l.UP=1073741906,l.NUMLOCKCLEAR=1073741907,l.KP_DIVIDE=1073741908,l.KP_MULTIPLY=1073741909,l.KP_MINUS=1073741910,l.KP_PLUS=1073741911,l.KP_ENTER=1073741912,l.KP_1=1073741913,l.KP_2=1073741914,l.KP_3=1073741915,l.KP_4=1073741916,l.KP_5=1073741917,l.KP_6=1073741918,l.KP_7=1073741919,l.KP_8=1073741920,l.KP_9=1073741921,l.KP_0=1073741922,l.KP_PERIOD=1073741923,l.APPLICATION=1073741925,l.POWER=1073741926,l.KP_EQUALS=1073741927,l.F13=1073741928,l.F14=1073741929,l.F15=1073741930,l.F16=1073741931,l.F17=1073741932,l.F18=1073741933,l.F19=1073741934,l.F20=1073741935,l.F21=1073741936,l.F22=1073741937,l.F23=1073741938,l.F24=1073741939,l.EXECUTE=1073741940,l.HELP=1073741941,l.MENU=1073741942,l.SELECT=1073741943,l.STOP=1073741944,l.AGAIN=1073741945,l.UNDO=1073741946,l.CUT=1073741947,l.COPY=1073741948,l.PASTE=1073741949,l.FIND=1073741950,l.MUTE=1073741951,l.VOLUMEUP=1073741952,l.VOLUMEDOWN=1073741953,l.KP_COMMA=1073741957,l.KP_EQUALSAS400=1073741958,l.ALTERASE=1073741977,l.SYSREQ=1073741978,l.CANCEL=1073741979,l.CLEAR=1073741980,l.PRIOR=1073741981,l.RETURN2=1073741982,l.SEPARATOR=1073741983,l.OUT=1073741984,l.OPER=1073741985,l.CLEARAGAIN=1073741986,l.CRSEL=1073741987,l.EXSEL=1073741988,l.KP_00=1073742e3,l.KP_000=1073742001,l.THOUSANDSSEPARATOR=1073742002,l.DECIMALSEPARATOR=1073742003,l.CURRENCYUNIT=1073742004,l.CURRENCYSUBUNIT=1073742005,l.KP_LEFTPAREN=1073742006,l.KP_RIGHTPAREN=1073742007,l.KP_LEFTBRACE=1073742008,l.KP_RIGHTBRACE=1073742009,l.KP_TAB=1073742010,l.KP_BACKSPACE=1073742011,l.KP_A=1073742012,l.KP_B=1073742013,l.KP_C=1073742014,l.KP_D=1073742015,l.KP_E=1073742016,l.KP_F=1073742017,l.KP_XOR=1073742018,l.KP_POWER=1073742019,l.KP_PERCENT=1073742020,l.KP_LESS=1073742021,l.KP_GREATER=1073742022,l.KP_AMPERSAND=1073742023,l.KP_DBLAMPERSAND=1073742024,l.KP_VERTICALBAR=1073742025,l.KP_DBLVERTICALBAR=1073742026,l.KP_COLON=1073742027,l.KP_HASH=1073742028,l.KP_SPACE=1073742029,l.KP_AT=1073742030,l.KP_EXCLAM=1073742031,l.KP_MEMSTORE=1073742032,l.KP_MEMRECALL=1073742033,l.KP_MEMCLEAR=1073742034,l.KP_MEMADD=1073742035,l.KP_MEMSUBTRACT=1073742036,l.KP_MEMMULTIPLY=1073742037,l.KP_MEMDIVIDE=1073742038,l.KP_PLUSMINUS=1073742039,l.KP_CLEAR=1073742040,l.KP_CLEARENTRY=1073742041,l.KP_BINARY=1073742042,l.KP_OCTAL=1073742043,l.KP_DECIMAL=1073742044,l.KP_HEXADECIMAL=1073742045,l.LCTRL=1073742048,l.LSHIFT=1073742049,l.LALT=1073742050,l.LMETA=1073742051,l.RCTRL=1073742052,l.RSHIFT=1073742053,l.RALT=1073742054,l.RMETA=1073742055,l.MODE=1073742081,l.AUDIONEXT=1073742082,l.AUDIOPREV=1073742083,l.AUDIOSTOP=1073742084,l.AUDIOPLAY=1073742085,l.AUDIOMUTE=1073742086,l.MEDIASELECT=1073742087,l.WWW=1073742088,l.MAIL=1073742089,l.CALCULATOR=1073742090,l.COMPUTER=1073742091,l.AC_SEARCH=1073742092,l.AC_HOME=1073742093,l.AC_BACK=1073742094,l.AC_FORWARD=1073742095,l.AC_STOP=1073742096,l.AC_REFRESH=1073742097,l.AC_BOOKMARKS=1073742098,l.BRIGHTNESSDOWN=1073742099,l.BRIGHTNESSUP=1073742100,l.DISPLAYSWITCH=1073742101,l.KBDILLUMTOGGLE=1073742102,l.KBDILLUMDOWN=1073742103,l.KBDILLUMUP=1073742104,l.EJECT=1073742105,l.SLEEP=1073742106,Gb.NUMBER_NONE=-9999999999,Gb.MATH_TWO_PI=6.28318530718,Gb.MATH_HALF_PI=1.57079632679,Gb.MATH_PI_AND_HALF=4.71238898038,Gb.miterUtils=new Fb,Hb._stroke=new Gb,Ut._hasElectronRunner=!1,Ut.didInitOnce=!1,Kb.availableMeshes=[],Kb.availableFloatArrays=[],xt.exec__execDidLogError=!(Kb.availableIntArrays=[]),xt._isWindowsValue=0,xt._execDidLogError=!1,At._nextIndex=1,a.MASK=1073741824,a.UNKNOWN=0,a.KEY_A=4,a.KEY_B=5,a.KEY_C=6,a.KEY_D=7,a.KEY_E=8,a.KEY_F=9,a.KEY_G=10,a.KEY_H=11,a.KEY_I=12,a.KEY_J=13,a.KEY_K=14,a.KEY_L=15,a.KEY_M=16,a.KEY_N=17,a.KEY_O=18,a.KEY_P=19,a.KEY_Q=20,a.KEY_R=21,a.KEY_S=22,a.KEY_T=23,a.KEY_U=24,a.KEY_V=25,a.KEY_W=26,a.KEY_X=27,a.KEY_Y=28,a.KEY_Z=29,a.KEY_1=30,a.KEY_2=31,a.KEY_3=32,a.KEY_4=33,a.KEY_5=34,a.KEY_6=35,a.KEY_7=36,a.KEY_8=37,a.KEY_9=38,a.KEY_0=39,a.ENTER=40,a.ESCAPE=41,a.BACKSPACE=42,a.TAB=43,a.SPACE=44,a.MINUS=45,a.EQUALS=46,a.LEFTBRACKET=47,a.RIGHTBRACKET=48,a.BACKSLASH=49,a.NONUSHASH=50,a.SEMICOLON=51,a.APOSTROPHE=52,a.GRAVE=53,a.COMMA=54,a.PERIOD=55,a.SLASH=56,a.CAPSLOCK=57,a.F1=58,a.F2=59,a.F3=60,a.F4=61,a.F5=62,a.F6=63,a.F7=64,a.F8=65,a.F9=66,a.F10=67,a.F11=68,a.F12=69,a.PRINTSCREEN=70,a.SCROLLLOCK=71,a.PAUSE=72,a.INSERT=73,a.HOME=74,a.PAGEUP=75,a.DELETE=76,a.END=77,a.PAGEDOWN=78,a.RIGHT=79,a.LEFT=80,a.DOWN=81,a.UP=82,a.NUMLOCKCLEAR=83,a.KP_DIVIDE=84,a.KP_MULTIPLY=85,a.KP_MINUS=86,a.KP_PLUS=87,a.KP_ENTER=88,a.KP_1=89,a.KP_2=90,a.KP_3=91,a.KP_4=92,a.KP_5=93,a.KP_6=94,a.KP_7=95,a.KP_8=96,a.KP_9=97,a.KP_0=98,a.KP_PERIOD=99,a.NONUSBACKSLASH=100,a.APPLICATION=101,a.POWER=102,a.KP_EQUALS=103,a.F13=104,a.F14=105,a.F15=106,a.F16=107,a.F17=108,a.F18=109,a.F19=110,a.F20=111,a.F21=112,a.F22=113,a.F23=114,a.F24=115,a.EXECUTE=116,a.HELP=117,a.MENU=118,a.SELECT=119,a.STOP=120,a.AGAIN=121,a.UNDO=122,a.CUT=123,a.COPY=124,a.PASTE=125,a.FIND=126,a.MUTE=127,a.VOLUMEUP=128,a.VOLUMEDOWN=129,a.KP_COMMA=133,a.KP_EQUALSAS400=134,a.INTERNATIONAL1=135,a.INTERNATIONAL2=136,a.INTERNATIONAL3=137,a.INTERNATIONAL4=138,a.INTERNATIONAL5=139,a.INTERNATIONAL6=140,a.INTERNATIONAL7=141,a.INTERNATIONAL8=142,a.INTERNATIONAL9=143,a.LANG1=144,a.LANG2=145,a.LANG3=146,a.LANG4=147,a.LANG5=148,a.LANG6=149,a.LANG7=150,a.LANG8=151,a.LANG9=152,a.ALTERASE=153,a.SYSREQ=154,a.CANCEL=155,a.CLEAR=156,a.PRIOR=157,a.RETURN2=158,a.SEPARATOR=159,a.OUT=160,a.OPER=161,a.CLEARAGAIN=162,a.CRSEL=163,a.EXSEL=164,a.KP_00=176,a.KP_000=177,a.THOUSANDSSEPARATOR=178,a.DECIMALSEPARATOR=179,a.CURRENCYUNIT=180,a.CURRENCYSUBUNIT=181,a.KP_LEFTPAREN=182,a.KP_RIGHTPAREN=183,a.KP_LEFTBRACE=184,a.KP_RIGHTBRACE=185,a.KP_TAB=186,a.KP_BACKSPACE=187,a.KP_A=188,a.KP_B=189,a.KP_C=190,a.KP_D=191,a.KP_E=192,a.KP_F=193,a.KP_XOR=194,a.KP_POWER=195,a.KP_PERCENT=196,a.KP_LESS=197,a.KP_GREATER=198,a.KP_AMPERSAND=199,a.KP_DBLAMPERSAND=200,a.KP_VERTICALBAR=201,a.KP_DBLVERTICALBAR=202,a.KP_COLON=203,a.KP_HASH=204,a.KP_SPACE=205,a.KP_AT=206,a.KP_EXCLAM=207,a.KP_MEMSTORE=208,a.KP_MEMRECALL=209,a.KP_MEMCLEAR=210,a.KP_MEMADD=211,a.KP_MEMSUBTRACT=212,a.KP_MEMMULTIPLY=213,a.KP_MEMDIVIDE=214,a.KP_PLUSMINUS=215,a.KP_CLEAR=216,a.KP_CLEARENTRY=217,a.KP_BINARY=218,a.KP_OCTAL=219,a.KP_DECIMAL=220,a.KP_HEXADECIMAL=221,a.LCTRL=224,a.LSHIFT=225,a.LALT=226,a.LMETA=227,a.RCTRL=228,a.RSHIFT=229,a.RALT=230,a.RMETA=231,a.MODE=257,a.AUDIONEXT=258,a.AUDIOPREV=259,a.AUDIOSTOP=260,a.AUDIOPLAY=261,a.AUDIOMUTE=262,a.MEDIASELECT=263,a.WWW=264,a.MAIL=265,a.CALCULATOR=266,a.COMPUTER=267,a.AC_SEARCH=268,a.AC_HOME=269,a.AC_BACK=270,a.AC_FORWARD=271,a.AC_STOP=272,a.AC_REFRESH=273,a.AC_BOOKMARKS=274,a.BRIGHTNESSDOWN=275,a.BRIGHTNESSUP=276,a.DISPLAYSWITCH=277,a.KBDILLUMTOGGLE=278,a.KBDILLUMDOWN=279,a.KBDILLUMUP=280,a.EJECT=281,a.SLEEP=282,a.APP1=283,a.APP2=284,a.scanCodeNames=[null,null,null,null,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0","Enter","Escape","Backspace","Tab","Space","-","=","[","]","\\","#",";","'","`",",",".","/","CapsLock","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","PrintScreen","ScrollLock","Pause","Insert","Home","PageUp","Delete","End","PageDown","Right","Left","Down","Up","Numlock","Keypad /","Keypad *","Keypad -","Keypad +","Keypad Enter","Keypad 1","Keypad 2","Keypad 3","Keypad 4","Keypad 5","Keypad 6","Keypad 7","Keypad 8","Keypad 9","Keypad 0","Keypad .",null,"Application","Power","Keypad =","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","Execute","Help","Menu","Select","Stop","Again","Undo","Cut","Copy","Paste","Find","Mute","VolumeUp","VolumeDown",null,null,null,"Keypad ,","Keypad = (AS400)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"AltErase","SysReq","Cancel","Clear","Prior","Enter","Separator","Out","Oper","Clear / Again","CrSel","ExSel",null,null,null,null,null,null,null,null,null,null,null,"Keypad 00","Keypad 000","ThousandsSeparator","DecimalSeparator","CurrencyUnit","CurrencySubUnit","Keypad (","Keypad )","Keypad {","Keypad }","Keypad Tab","Keypad Backspace","Keypad A","Keypad B","Keypad C","Keypad D","Keypad E","Keypad F","Keypad XOR","Keypad ^","Keypad %","Keypad <","Keypad >","Keypad &","Keypad &&","Keypad |","Keypad ||","Keypad :","Keypad #","Keypad Space","Keypad @","Keypad !","Keypad MemStore","Keypad MemRecall","Keypad MemClear","Keypad MemAdd","Keypad MemSubtract","Keypad MemMultiply","Keypad MemDivide","Keypad +/-","Keypad Clear","Keypad ClearEntry","Keypad Binary","Keypad Octal","Keypad Decimal","Keypad Hexadecimal",null,null,"Left Ctrl","Left Shift","Left Alt","Left Meta","Right Ctrl","Right Shift","Right Alt","Right Meta",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"ModeSwitch","AudioNext","AudioPrev","AudioStop","AudioPlay","AudioMute","MediaSelect","WWW","Mail","Calculator","Computer","AC Search","AC Home","AC Back","AC Forward","AC Stop","AC Refresh","AC Bookmarks","BrightnessDown","BrightnessUp","DisplaySwitch","KBDIllumToggle","KBDIllumDown","KBDIllumUp","Eject","Sleep"],Mt.NONE=0,Mt.PRELOAD=1,Mt.LOAD=2,Mt.CREATE=3,Mt.FADE_IN=4,Mt.READY=5,Mt.FADE_OUT=6,Mt.DISABLED=7,Et.lazyShared=!0,Rt.__meta__={fields:{unobservedFocusedVisual:{observe:null},unobservedTexturesDensity:{observe:null}}},Ht.__meta__={fields:{unobservedStatus:{observe:null}}},Ht._point=new p(0,0),Ht.threshold=4,Wt.__meta__={fields:{unobservedContainer:{observe:null},unobservedAllowSelectingFromPointer:{observe:null},unobservedShowCursor:{observe:null},unobservedSelectionStart:{observe:null},unobservedSelectionEnd:{observe:null},unobservedInvertedSelection:{observe:null},unobservedPointerIsDown:{observe:null}}},Wt._point=new p,zt.__meta__={fields:{unobservedTargetWidth:{observe:null},unobservedTargetHeight:{observe:null},unobservedWindowWidth:{observe:null},unobservedWindowHeight:{observe:null},unobservedTargetDensity:{observe:null},unobservedBackground:{observe:null},unobservedScaling:{observe:null},unobservedTitle:{observe:null},unobservedFullscreen:{observe:null},unobservedTargetFps:{observe:null},unobservedMaxDelta:{observe:null},unobservedOverrideDelta:{observe:null},unobservedPreventDefaultMouseWheel:{observe:null},unobservedPreventDefaultTouches:{observe:null}}},Yt.__meta__={fields:{unobservedShader:{observe:null}}},Xt.RE_SLUG_REMOVE_CHARS=new f("[$*+~.()'\"!\\\\:@\\?]","g"),Xt.DEFAULT_OPTIONS=new o1(null,null,null),Xt.charMap=((e=new $l).h[36]="dollar",e.h[37]="percent",e.h[38]="and",e.h[60]="less",e.h[62]="greater",e.h[124]="or",e.h[162]="cent",e.h[163]="pound",e.h[164]="currency",e.h[165]="yen",e.h[169]="(c)",e.h[170]="a",e.h[174]="(r)",e.h[186]="o",e.h[192]="A",e.h[193]="A",e.h[194]="A",e.h[195]="A",e.h[196]="A",e.h[197]="A",e.h[198]="AE",e.h[199]="C",e.h[200]="E",e.h[201]="E",e.h[202]="E",e.h[203]="E",e.h[204]="I",e.h[205]="I",e.h[206]="I",e.h[207]="I",e.h[208]="D",e.h[209]="N",e.h[210]="O",e.h[211]="O",e.h[212]="O",e.h[213]="O",e.h[214]="O",e.h[216]="O",e.h[217]="U",e.h[218]="U",e.h[219]="U",e.h[220]="U",e.h[221]="Y",e.h[222]="TH",e.h[223]="ss",e.h[224]="a",e.h[225]="a",e.h[226]="a",e.h[227]="a",e.h[228]="a",e.h[229]="a",e.h[230]="ae",e.h[231]="c",e.h[232]="e",e.h[233]="e",e.h[234]="e",e.h[235]="e",e.h[236]="i",e.h[237]="i",e.h[238]="i",e.h[239]="i",e.h[240]="d",e.h[241]="n",e.h[242]="o",e.h[243]="o",e.h[244]="o",e.h[245]="o",e.h[246]="o",e.h[248]="o",e.h[249]="u",e.h[250]="u",e.h[251]="u",e.h[252]="u",e.h[253]="y",e.h[254]="th",e.h[255]="y",e.h[256]="A",e.h[257]="a",e.h[258]="A",e.h[259]="a",e.h[260]="A",e.h[261]="a",e.h[262]="C",e.h[263]="c",e.h[268]="C",e.h[269]="c",e.h[270]="D",e.h[271]="d",e.h[272]="DJ",e.h[273]="dj",e.h[274]="E",e.h[275]="e",e.h[278]="E",e.h[279]="e",e.h[280]="e",e.h[281]="e",e.h[282]="E",e.h[283]="e",e.h[286]="G",e.h[287]="g",e.h[290]="G",e.h[291]="g",e.h[296]="I",e.h[297]="i",e.h[298]="i",e.h[299]="i",e.h[302]="I",e.h[303]="i",e.h[304]="I",e.h[305]="i",e.h[310]="k",e.h[311]="k",e.h[315]="L",e.h[316]="l",e.h[317]="L",e.h[318]="l",e.h[321]="L",e.h[322]="l",e.h[323]="N",e.h[324]="n",e.h[325]="N",e.h[326]="n",e.h[327]="N",e.h[328]="n",e.h[336]="O",e.h[337]="o",e.h[338]="OE",e.h[339]="oe",e.h[340]="R",e.h[341]="r",e.h[344]="R",e.h[345]="r",e.h[346]="S",e.h[347]="s",e.h[350]="S",e.h[351]="s",e.h[352]="S",e.h[353]="s",e.h[354]="T",e.h[355]="t",e.h[356]="T",e.h[357]="t",e.h[360]="U",e.h[361]="u",e.h[362]="u",e.h[363]="u",e.h[366]="U",e.h[367]="u",e.h[368]="U",e.h[369]="u",e.h[370]="U",e.h[371]="u",e.h[377]="Z",e.h[378]="z",e.h[379]="Z",e.h[380]="z",e.h[381]="Z",e.h[382]="z",e.h[402]="f",e.h[416]="O",e.h[417]="o",e.h[431]="U",e.h[432]="u",e.h[456]="LJ",e.h[457]="lj",e.h[459]="NJ",e.h[460]="nj",e.h[536]="S",e.h[537]="s",e.h[538]="T",e.h[539]="t",e.h[730]="o",e.h[902]="A",e.h[904]="E",e.h[905]="H",e.h[906]="I",e.h[908]="O",e.h[910]="Y",e.h[911]="W",e.h[912]="i",e.h[913]="A",e.h[914]="B",e.h[915]="G",e.h[916]="D",e.h[917]="E",e.h[918]="Z",e.h[919]="H",e.h[920]="8",e.h[921]="I",e.h[922]="K",e.h[923]="L",e.h[924]="M",e.h[925]="N",e.h[926]="3",e.h[927]="O",e.h[928]="P",e.h[929]="R",e.h[931]="S",e.h[932]="T",e.h[933]="Y",e.h[934]="F",e.h[935]="X",e.h[936]="PS",e.h[937]="W",e.h[938]="I",e.h[939]="Y",e.h[940]="a",e.h[941]="e",e.h[942]="h",e.h[943]="i",e.h[944]="y",e.h[945]="a",e.h[946]="b",e.h[947]="g",e.h[948]="d",e.h[949]="e",e.h[950]="z",e.h[951]="h",e.h[952]="8",e.h[953]="i",e.h[954]="k",e.h[955]="l",e.h[956]="m",e.h[957]="n",e.h[958]="3",e.h[959]="o",e.h[960]="p",e.h[961]="r",e.h[962]="s",e.h[963]="s",e.h[964]="t",e.h[965]="y",e.h[966]="f",e.h[967]="x",e.h[968]="ps",e.h[969]="w",e.h[970]="i",e.h[971]="y",e.h[972]="o",e.h[973]="y",e.h[974]="w",e.h[1025]="Yo",e.h[1026]="DJ",e.h[1028]="Ye",e.h[1030]="I",e.h[1031]="Yi",e.h[1032]="J",e.h[1033]="LJ",e.h[1034]="NJ",e.h[1035]="C",e.h[1039]="DZ",e.h[1040]="A",e.h[1041]="B",e.h[1042]="V",e.h[1043]="G",e.h[1044]="D",e.h[1045]="E",e.h[1046]="Zh",e.h[1047]="Z",e.h[1048]="I",e.h[1049]="J",e.h[1050]="K",e.h[1051]="L",e.h[1052]="M",e.h[1053]="N",e.h[1054]="O",e.h[1055]="P",e.h[1056]="R",e.h[1057]="S",e.h[1058]="T",e.h[1059]="U",e.h[1060]="F",e.h[1061]="H",e.h[1062]="C",e.h[1063]="Ch",e.h[1064]="Sh",e.h[1065]="Sh",e.h[1066]="U",e.h[1067]="Y",e.h[1068]="",e.h[1069]="E",e.h[1070]="Yu",e.h[1071]="Ya",e.h[1072]="a",e.h[1073]="b",e.h[1074]="v",e.h[1075]="g",e.h[1076]="d",e.h[1077]="e",e.h[1078]="zh",e.h[1079]="z",e.h[1080]="i",e.h[1081]="j",e.h[1082]="k",e.h[1083]="l",e.h[1084]="m",e.h[1085]="n",e.h[1086]="o",e.h[1087]="p",e.h[1088]="r",e.h[1089]="s",e.h[1090]="t",e.h[1091]="u",e.h[1092]="f",e.h[1093]="h",e.h[1094]="c",e.h[1095]="ch",e.h[1096]="sh",e.h[1097]="sh",e.h[1098]="u",e.h[1099]="y",e.h[1100]="",e.h[1101]="e",e.h[1102]="yu",e.h[1103]="ya",e.h[1105]="yo",e.h[1106]="dj",e.h[1108]="ye",e.h[1110]="i",e.h[1111]="yi",e.h[1112]="j",e.h[1113]="lj",e.h[1114]="nj",e.h[1115]="c",e.h[1119]="dz",e.h[1168]="G",e.h[1169]="g",e.h[3647]="baht",e.h[4304]="a",e.h[4305]="b",e.h[4306]="g",e.h[4307]="d",e.h[4308]="e",e.h[4309]="v",e.h[4310]="z",e.h[4311]="t",e.h[4312]="i",e.h[4313]="k",e.h[4314]="l",e.h[4315]="m",e.h[4316]="n",e.h[4317]="o",e.h[4318]="p",e.h[4319]="zh",e.h[4320]="r",e.h[4321]="s",e.h[4322]="t",e.h[4323]="u",e.h[4324]="f",e.h[4325]="k",e.h[4326]="gh",e.h[4327]="q",e.h[4328]="sh",e.h[4329]="ch",e.h[4330]="ts",e.h[4331]="dz",e.h[4332]="ts",e.h[4333]="ch",e.h[4334]="kh",e.h[4335]="j",e.h[4336]="h",e.h[7838]="SS",e.h[7840]="A",e.h[7841]="a",e.h[7842]="A",e.h[7843]="a",e.h[7844]="A",e.h[7845]="a",e.h[7846]="A",e.h[7847]="a",e.h[7848]="A",e.h[7849]="a",e.h[7850]="A",e.h[7851]="a",e.h[7852]="A",e.h[7853]="a",e.h[7854]="A",e.h[7855]="a",e.h[7856]="A",e.h[7857]="a",e.h[7858]="A",e.h[7859]="a",e.h[7860]="A",e.h[7861]="a",e.h[7862]="A",e.h[7863]="a",e.h[7864]="E",e.h[7865]="e",e.h[7866]="E",e.h[7867]="e",e.h[7868]="E",e.h[7869]="e",e.h[7870]="E",e.h[7871]="e",e.h[7872]="E",e.h[7873]="e",e.h[7874]="E",e.h[7875]="e",e.h[7876]="E",e.h[7877]="e",e.h[7878]="E",e.h[7879]="e",e.h[7880]="I",e.h[7881]="i",e.h[7882]="I",e.h[7883]="i",e.h[7884]="O",e.h[7885]="o",e.h[7886]="O",e.h[7887]="o",e.h[7888]="O",e.h[7889]="o",e.h[7890]="O",e.h[7891]="o",e.h[7892]="O",e.h[7893]="o",e.h[7894]="O",e.h[7895]="o",e.h[7896]="O",e.h[7897]="o",e.h[7898]="O",e.h[7899]="o",e.h[7900]="O",e.h[7901]="o",e.h[7902]="O",e.h[7903]="o",e.h[7904]="O",e.h[7905]="o",e.h[7906]="O",e.h[7907]="o",e.h[7908]="U",e.h[7909]="u",e.h[7910]="U",e.h[7911]="u",e.h[7912]="U",e.h[7913]="u",e.h[7914]="U",e.h[7915]="u",e.h[7916]="U",e.h[7917]="u",e.h[7918]="U",e.h[7919]="u",e.h[7920]="U",e.h[7921]="u",e.h[7922]="Y",e.h[7923]="y",e.h[7924]="Y",e.h[7925]="y",e.h[7926]="Y",e.h[7927]="y",e.h[7928]="Y",e.h[7929]="y",e.h[8216]="'",e.h[8217]="'",e.h[8220]='"',e.h[8221]='"',e.h[8224]="+",e.h[8226]="*",e.h[8230]="...",e.h[8352]="ecu",e.h[8354]="cruzeiro",e.h[8355]="french franc",e.h[8356]="lira",e.h[8357]="mill",e.h[8358]="naira",e.h[8359]="peseta",e.h[8360]="rupee",e.h[8361]="won",e.h[8362]="new shequel",e.h[8363]="dong",e.h[8364]="euro",e.h[8365]="kip",e.h[8366]="tugrik",e.h[8367]="drachma",e.h[8368]="penny",e.h[8369]="peso",e.h[8370]="guarani",e.h[8371]="austral",e.h[8372]="hryvnia",e.h[8373]="cedi",e.h[8377]="indian rupee",e.h[8381]="russian ruble",e.h[8383]="bitcoin",e.h[8480]="sm",e.h[8482]="tm",e.h[8706]="d",e.h[8710]="delta",e.h[8721]="sum",e.h[8734]="infinity",e.h[9829]="love",e.h[20803]="yuan",e.h[20870]="yen",e.h[65020]="rial",e),Xt.safe=new f("[^\\w\\s$*_+~.()'\"!\\-:@]","g"),$t.__meta__={fields:{unobservedSound:{observe:null}}},jt._degRad=Math.PI/180,jt._matrix=new n,jt._quadTriangles=[0,1,2,2,3,0],jt._trackTimes=[],jt._globalBindDepthRange=1e3,jt._globalSlotIndexes=new te,jt._nextGlobalSlotIndex=1,B1.__meta__={fields:{unobservedSpineData:{observe:null}}},li.lazyShared=!0,oi.__meta__={fields:{unobservedText:{observe:null}}},Q1.MIN_TEXTURE_SIZE=32,Q1.MAX_TEXTURE_SIZE=2048,di.__meta__={fields:{unobservedName:{observe:null},unobservedWidth:{observe:null},unobservedHeight:{observe:null},unobservedFilter:{observe:null},unobservedTexture:{observe:null}}},mi.callbacks=[],mi.next=999999999,mi.now=0,mi.startTimestamp=(new Date).getTime()/1e3,Ti.availableTransforms=[],Si.CONCAVE=-1,Si.CONVEX=1,H._tweens=[],H._iteratedTweens=[],_.k=0,Ai.isAndroid_result=-1,Ai.isIos_result=-1,Ai.RE_ASCII_CHAR=new f("^[a-zA-Z0-9]$",""),Ai._nextUniqueIntCursor=0,Ai._nextUniqueInt0=2147483646*Math.random()|0,Ai._nextUniqueInt1=1e-4*(new Date).getTime()|0,Ai._nextUniqueInt2=2147483646*Math.random()|0,Ai._nextUniqueInt3=2147483646*Math.random()|0,Ai.RE_MODULE_AT=new f("^\\s*(?:at\\s*)?([^\\s]+\\.js)(?:\\s*:\\s*([0-9]+)(?:\\s*:\\s*([0-9]+))?)?\\s*$",""),Ii.lazyShared=!0,Ec._currentTransform=new n,Ec._targetTransform=new n,Ec._identityTransform=new n,Bi.didTryRequireChokidar=!1,Li.immediateCallbacks=[],Li.immediateCallbacksCapacity=0,Li.immediateCallbacksLen=0,d.UNKNOWN=0,d.ENTER=13,d.ESCAPE=27,d.BACKSPACE=8,d.TAB=9,d.SPACE=32,d.EXCLAIM=33,d.QUOTEDBL=34,d.HASH=35,d.PERCENT=37,d.DOLLAR=36,d.AMPERSAND=38,d.QUOTE=39,d.LEFTPAREN=40,d.RIGHTPAREN=41,d.ASTERISK=42,d.PLUS=43,d.COMMA=44,d.MINUS=45,d.PERIOD=46,d.SLASH=47,d.KEY_0=48,d.KEY_1=49,d.KEY_2=50,d.KEY_3=51,d.KEY_4=52,d.KEY_5=53,d.KEY_6=54,d.KEY_7=55,d.KEY_8=56,d.KEY_9=57,d.COLON=58,d.SEMICOLON=59,d.LESS=60,d.EQUALS=61,d.GREATER=62,d.QUESTION=63,d.AT=64,d.LEFTBRACKET=91,d.BACKSLASH=92,d.RIGHTBRACKET=93,d.CARET=94,d.UNDERSCORE=95,d.BACKQUOTE=96,d.KEY_A=97,d.KEY_B=98,d.KEY_C=99,d.KEY_D=100,d.KEY_E=101,d.KEY_F=102,d.KEY_G=103,d.KEY_H=104,d.KEY_I=105,d.KEY_J=106,d.KEY_K=107,d.KEY_L=108,d.KEY_M=109,d.KEY_N=110,d.KEY_O=111,d.KEY_P=112,d.KEY_Q=113,d.KEY_R=114,d.KEY_S=115,d.KEY_T=116,d.KEY_U=117,d.KEY_V=118,d.KEY_W=119,d.KEY_X=120,d.KEY_Y=121,d.KEY_Z=122,d.CAPSLOCK=1073741881,d.F1=1073741882,d.F2=1073741883,d.F3=1073741884,d.F4=1073741885,d.F5=1073741886,d.F6=1073741887,d.F7=1073741888,d.F8=1073741889,d.F9=1073741890,d.F10=1073741891,d.F11=1073741892,d.F12=1073741893,d.PRINTSCREEN=1073741894,d.SCROLLLOCK=1073741895,d.PAUSE=1073741896,d.INSERT=1073741897,d.HOME=1073741898,d.PAGEUP=1073741899,d.DELETE=127,d.END=1073741901,d.PAGEDOWN=1073741902,d.RIGHT=1073741903,d.LEFT=1073741904,d.DOWN=1073741905,d.UP=1073741906,d.NUMLOCKCLEAR=1073741907,d.KP_DIVIDE=1073741908,d.KP_MULTIPLY=1073741909,d.KP_MINUS=1073741910,d.KP_PLUS=1073741911,d.KP_ENTER=1073741912,d.KP_1=1073741913,d.KP_2=1073741914,d.KP_3=1073741915,d.KP_4=1073741916,d.KP_5=1073741917,d.KP_6=1073741918,d.KP_7=1073741919,d.KP_8=1073741920,d.KP_9=1073741921,d.KP_0=1073741922,d.KP_PERIOD=1073741923,d.APPLICATION=1073741925,d.POWER=1073741926,d.KP_EQUALS=1073741927,d.F13=1073741928,d.F14=1073741929,d.F15=1073741930,d.F16=1073741931,d.F17=1073741932,d.F18=1073741933,d.F19=1073741934,d.F20=1073741935,d.F21=1073741936,d.F22=1073741937,d.F23=1073741938,d.F24=1073741939,d.EXECUTE=1073741940,d.HELP=1073741941,d.MENU=1073741942,d.SELECT=1073741943,d.STOP=1073741944,d.AGAIN=1073741945,d.UNDO=1073741946,d.CUT=1073741947,d.COPY=1073741948,d.PASTE=1073741949,d.FIND=1073741950,d.MUTE=1073741951,d.VOLUMEUP=1073741952,d.VOLUMEDOWN=1073741953,d.KP_COMMA=1073741957,d.KP_EQUALSAS400=1073741958,d.ALTERASE=1073741977,d.SYSREQ=1073741978,d.CANCEL=1073741979,d.CLEAR=1073741980,d.PRIOR=1073741981,d.RETURN2=1073741982,d.SEPARATOR=1073741983,d.OUT=1073741984,d.OPER=1073741985,d.CLEARAGAIN=1073741986,d.CRSEL=1073741987,d.EXSEL=1073741988,d.KP_00=1073742e3,d.KP_000=1073742001,d.THOUSANDSSEPARATOR=1073742002,d.DECIMALSEPARATOR=1073742003,d.CURRENCYUNIT=1073742004,d.CURRENCYSUBUNIT=1073742005,d.KP_LEFTPAREN=1073742006,d.KP_RIGHTPAREN=1073742007,d.KP_LEFTBRACE=1073742008,d.KP_RIGHTBRACE=1073742009,d.KP_TAB=1073742010,d.KP_BACKSPACE=1073742011,d.KP_A=1073742012,d.KP_B=1073742013,d.KP_C=1073742014,d.KP_D=1073742015,d.KP_E=1073742016,d.KP_F=1073742017,d.KP_XOR=1073742018,d.KP_POWER=1073742019,d.KP_PERCENT=1073742020,d.KP_LESS=1073742021,d.KP_GREATER=1073742022,d.KP_AMPERSAND=1073742023,d.KP_DBLAMPERSAND=1073742024,d.KP_VERTICALBAR=1073742025,d.KP_DBLVERTICALBAR=1073742026,d.KP_COLON=1073742027,d.KP_HASH=1073742028,d.KP_SPACE=1073742029,d.KP_AT=1073742030,d.KP_EXCLAM=1073742031,d.KP_MEMSTORE=1073742032,d.KP_MEMRECALL=1073742033,d.KP_MEMCLEAR=1073742034,d.KP_MEMADD=1073742035,d.KP_MEMSUBTRACT=1073742036,d.KP_MEMMULTIPLY=1073742037,d.KP_MEMDIVIDE=1073742038,d.KP_PLUSMINUS=1073742039,d.KP_CLEAR=1073742040,d.KP_CLEARENTRY=1073742041,d.KP_BINARY=1073742042,d.KP_OCTAL=1073742043,d.KP_DECIMAL=1073742044,d.KP_HEXADECIMAL=1073742045,d.LCTRL=1073742048,d.LSHIFT=1073742049,d.LALT=1073742050,d.LMETA=1073742051,d.RCTRL=1073742052,d.RSHIFT=1073742053,d.RALT=1073742054,d.RMETA=1073742055,d.MODE=1073742081,d.AUDIONEXT=1073742082,d.AUDIOPREV=1073742083,d.AUDIOSTOP=1073742084,d.AUDIOPLAY=1073742085,d.AUDIOMUTE=1073742086,d.MEDIASELECT=1073742087,d.WWW=1073742088,d.MAIL=1073742089,d.CALCULATOR=1073742090,d.COMPUTER=1073742091,d.AC_SEARCH=1073742092,d.AC_HOME=1073742093,d.AC_BACK=1073742094,d.AC_FORWARD=1073742095,d.AC_STOP=1073742096,d.AC_REFRESH=1073742097,d.AC_BOOKMARKS=1073742098,d.BRIGHTNESSDOWN=1073742099,d.BRIGHTNESSUP=1073742100,d.DISPLAYSWITCH=1073742101,d.KBDILLUMTOGGLE=1073742102,d.KBDILLUMDOWN=1073742103,d.KBDILLUMUP=1073742104,d.EJECT=1073742105,d.SLEEP=1073742106,b.MASK=1073741824,b.UNKNOWN=0,b.KEY_A=4,b.KEY_B=5,b.KEY_C=6,b.KEY_D=7,b.KEY_E=8,b.KEY_F=9,b.KEY_G=10,b.KEY_H=11,b.KEY_I=12,b.KEY_J=13,b.KEY_K=14,b.KEY_L=15,b.KEY_M=16,b.KEY_N=17,b.KEY_O=18,b.KEY_P=19,b.KEY_Q=20,b.KEY_R=21,b.KEY_S=22,b.KEY_T=23,b.KEY_U=24,b.KEY_V=25,b.KEY_W=26,b.KEY_X=27,b.KEY_Y=28,b.KEY_Z=29,b.KEY_1=30,b.KEY_2=31,b.KEY_3=32,b.KEY_4=33,b.KEY_5=34,b.KEY_6=35,b.KEY_7=36,b.KEY_8=37,b.KEY_9=38,b.KEY_0=39,b.ENTER=40,b.ESCAPE=41,b.BACKSPACE=42,b.TAB=43,b.SPACE=44,b.MINUS=45,b.EQUALS=46,b.LEFTBRACKET=47,b.RIGHTBRACKET=48,b.BACKSLASH=49,b.NONUSHASH=50,b.SEMICOLON=51,b.APOSTROPHE=52,b.GRAVE=53,b.COMMA=54,b.PERIOD=55,b.SLASH=56,b.CAPSLOCK=57,b.F1=58,b.F2=59,b.F3=60,b.F4=61,b.F5=62,b.F6=63,b.F7=64,b.F8=65,b.F9=66,b.F10=67,b.F11=68,b.F12=69,b.PRINTSCREEN=70,b.SCROLLLOCK=71,b.PAUSE=72,b.INSERT=73,b.HOME=74,b.PAGEUP=75,b.DELETE=76,b.END=77,b.PAGEDOWN=78,b.RIGHT=79,b.LEFT=80,b.DOWN=81,b.UP=82,b.NUMLOCKCLEAR=83,b.KP_DIVIDE=84,b.KP_MULTIPLY=85,b.KP_MINUS=86,b.KP_PLUS=87,b.KP_ENTER=88,b.KP_1=89,b.KP_2=90,b.KP_3=91,b.KP_4=92,b.KP_5=93,b.KP_6=94,b.KP_7=95,b.KP_8=96,b.KP_9=97,b.KP_0=98,b.KP_PERIOD=99,b.NONUSBACKSLASH=100,b.APPLICATION=101,b.POWER=102,b.KP_EQUALS=103,b.F13=104,b.F14=105,b.F15=106,b.F16=107,b.F17=108,b.F18=109,b.F19=110,b.F20=111,b.F21=112,b.F22=113,b.F23=114,b.F24=115,b.EXECUTE=116,b.HELP=117,b.MENU=118,b.SELECT=119,b.STOP=120,b.AGAIN=121,b.UNDO=122,b.CUT=123,b.COPY=124,b.PASTE=125,b.FIND=126,b.MUTE=127,b.VOLUMEUP=128,b.VOLUMEDOWN=129,b.KP_COMMA=133,b.KP_EQUALSAS400=134,b.INTERNATIONAL1=135,b.INTERNATIONAL2=136,b.INTERNATIONAL3=137,b.INTERNATIONAL4=138,b.INTERNATIONAL5=139,b.INTERNATIONAL6=140,b.INTERNATIONAL7=141,b.INTERNATIONAL8=142,b.INTERNATIONAL9=143,b.LANG1=144,b.LANG2=145,b.LANG3=146,b.LANG4=147,b.LANG5=148,b.LANG6=149,b.LANG7=150,b.LANG8=151,b.LANG9=152,b.ALTERASE=153,b.SYSREQ=154,b.CANCEL=155,b.CLEAR=156,b.PRIOR=157,b.RETURN2=158,b.SEPARATOR=159,b.OUT=160,b.OPER=161,b.CLEARAGAIN=162,b.CRSEL=163,b.EXSEL=164,b.KP_00=176,b.KP_000=177,b.THOUSANDSSEPARATOR=178,b.DECIMALSEPARATOR=179,b.CURRENCYUNIT=180,b.CURRENCYSUBUNIT=181,b.KP_LEFTPAREN=182,b.KP_RIGHTPAREN=183,b.KP_LEFTBRACE=184,b.KP_RIGHTBRACE=185,b.KP_TAB=186,b.KP_BACKSPACE=187,b.KP_A=188,b.KP_B=189,b.KP_C=190,b.KP_D=191,b.KP_E=192,b.KP_F=193,b.KP_XOR=194,b.KP_POWER=195,b.KP_PERCENT=196,b.KP_LESS=197,b.KP_GREATER=198,b.KP_AMPERSAND=199,b.KP_DBLAMPERSAND=200,b.KP_VERTICALBAR=201,b.KP_DBLVERTICALBAR=202,b.KP_COLON=203,b.KP_HASH=204,b.KP_SPACE=205,b.KP_AT=206,b.KP_EXCLAM=207,b.KP_MEMSTORE=208,b.KP_MEMRECALL=209,b.KP_MEMCLEAR=210,b.KP_MEMADD=211,b.KP_MEMSUBTRACT=212,b.KP_MEMMULTIPLY=213,b.KP_MEMDIVIDE=214,b.KP_PLUSMINUS=215,b.KP_CLEAR=216,b.KP_CLEARENTRY=217,b.KP_BINARY=218,b.KP_OCTAL=219,b.KP_DECIMAL=220,b.KP_HEXADECIMAL=221,b.LCTRL=224,b.LSHIFT=225,b.LALT=226,b.LMETA=227,b.RCTRL=228,b.RSHIFT=229,b.RALT=230,b.RMETA=231,b.MODE=257,b.AUDIONEXT=258,b.AUDIOPREV=259,b.AUDIOSTOP=260,b.AUDIOPLAY=261,b.AUDIOMUTE=262,b.MEDIASELECT=263,b.WWW=264,b.MAIL=265,b.CALCULATOR=266,b.COMPUTER=267,b.AC_SEARCH=268,b.AC_HOME=269,b.AC_BACK=270,b.AC_FORWARD=271,b.AC_STOP=272,b.AC_REFRESH=273,b.AC_BOOKMARKS=274,b.BRIGHTNESSDOWN=275,b.BRIGHTNESSUP=276,b.DISPLAYSWITCH=277,b.KBDILLUMTOGGLE=278,b.KBDILLUMDOWN=279,b.KBDILLUMUP=280,b.EJECT=281,b.SLEEP=282,b.APP1=283,b.APP2=284,b.scanCodeNames=[null,null,null,null,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0","Enter","Escape","Backspace","Tab","Space","-","=","[","]","\\","#",";","'","`",",",".","/","CapsLock","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","PrintScreen","ScrollLock","Pause","Insert","Home","PageUp","Delete","End","PageDown","Right","Left","Down","Up","Numlock","Keypad /","Keypad *","Keypad -","Keypad +","Keypad Enter","Keypad 1","Keypad 2","Keypad 3","Keypad 4","Keypad 5","Keypad 6","Keypad 7","Keypad 8","Keypad 9","Keypad 0","Keypad .",null,"Application","Power","Keypad =","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","Execute","Help","Menu","Select","Stop","Again","Undo","Cut","Copy","Paste","Find","Mute","VolumeUp","VolumeDown",null,null,null,"Keypad ,","Keypad = (AS400)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"AltErase","SysReq","Cancel","Clear","Prior","Enter","Separator","Out","Oper","Clear / Again","CrSel","ExSel",null,null,null,null,null,null,null,null,null,null,null,"Keypad 00","Keypad 000","ThousandsSeparator","DecimalSeparator","CurrencyUnit","CurrencySubUnit","Keypad (","Keypad )","Keypad {","Keypad }","Keypad Tab","Keypad Backspace","Keypad A","Keypad B","Keypad C","Keypad D","Keypad E","Keypad F","Keypad XOR","Keypad ^","Keypad %","Keypad <","Keypad >","Keypad &","Keypad &&","Keypad |","Keypad ||","Keypad :","Keypad #","Keypad Space","Keypad @","Keypad !","Keypad MemStore","Keypad MemRecall","Keypad MemClear","Keypad MemAdd","Keypad MemSubtract","Keypad MemMultiply","Keypad MemDivide","Keypad +/-","Keypad Clear","Keypad ClearEntry","Keypad Binary","Keypad Octal","Keypad Decimal","Keypad Hexadecimal",null,null,"Left Ctrl","Left Shift","Left Alt","Left Meta","Right Ctrl","Right Shift","Right Alt","Right Meta",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"ModeSwitch","AudioNext","AudioPrev","AudioStop","AudioPlay","AudioMute","MediaSelect","WWW","Mail","Calculator","Computer","AC Search","AC Home","AC Back","AC Forward","AC Stop","AC Refresh","AC Bookmarks","BrightnessDown","BrightnessUp","DisplaySwitch","KBDIllumToggle","KBDIllumDown","KBDIllumUp","Eject","Sleep"],e2._nextUniqueIntCursor=0,e2._nextUniqueInt0=2147483646*Math.random()|0,e2._nextUniqueInt1=1e-4*(new Date).getTime()|0,e2._nextUniqueInt2=2147483646*Math.random()|0,e2._nextUniqueInt3=2147483646*Math.random()|0,Ki._nextIndex=1,Ji.MAX_VERTS_SIZE=65536,Ji.MAX_INDICES=16384,Ji.MAX_BUFFERS=64,Ji.ATTRIBUTE_POS=0,Ji.ATTRIBUTE_UV=1,Ji.ATTRIBUTE_COLOR=2,el.DEPTH24_STENCIL8=35056,el.DEPTH_COMPONENT24=33190,el.TEXTURE_2D_MULTISAMPLE=37120,el.READ_FRAMEBUFFER=36008,el.DRAW_FRAMEBUFFER=36009,el.RGBA8=32856,el.COLOR=6144,ne.DEPTH_BUFFER_BIT=256,ne.STENCIL_BUFFER_BIT=1024,ne.COLOR_BUFFER_BIT=16384,ne.POINTS=0,ne.LINES=1,ne.LINE_LOOP=2,ne.LINE_STRIP=3,ne.TRIANGLES=4,ne.TRIANGLE_STRIP=5,ne.TRIANGLE_FAN=6,ne.ZERO=0,ne.ONE=1,ne.SRC_COLOR=768,ne.ONE_MINUS_SRC_COLOR=769,ne.SRC_ALPHA=770,ne.ONE_MINUS_SRC_ALPHA=771,ne.DST_ALPHA=772,ne.ONE_MINUS_DST_ALPHA=773,ne.DST_COLOR=774,ne.ONE_MINUS_DST_COLOR=775,ne.SRC_ALPHA_SATURATE=776,ne.FUNC_ADD=32774,ne.BLEND_EQUATION=32777,ne.BLEND_EQUATION_RGB=32777,ne.BLEND_EQUATION_ALPHA=34877,ne.FUNC_SUBTRACT=32778,ne.FUNC_REVERSE_SUBTRACT=32779,ne.BLEND_DST_RGB=32968,ne.BLEND_SRC_RGB=32969,ne.BLEND_DST_ALPHA=32970,ne.BLEND_SRC_ALPHA=32971,ne.CONSTANT_COLOR=32769,ne.ONE_MINUS_CONSTANT_COLOR=32770,ne.CONSTANT_ALPHA=32771,ne.ONE_MINUS_CONSTANT_ALPHA=32772,ne.BLEND_COLOR=32773,ne.ARRAY_BUFFER=34962,ne.ELEMENT_ARRAY_BUFFER=34963,ne.ARRAY_BUFFER_BINDING=34964,ne.ELEMENT_ARRAY_BUFFER_BINDING=34965,ne.STREAM_DRAW=35040,ne.STATIC_DRAW=35044,ne.DYNAMIC_DRAW=35048,ne.BUFFER_SIZE=34660,ne.BUFFER_USAGE=34661,ne.CURRENT_VERTEX_ATTRIB=34342,ne.FRONT=1028,ne.BACK=1029,ne.FRONT_AND_BACK=1032,ne.CULL_FACE=2884,ne.BLEND=3042,ne.DITHER=3024,ne.STENCIL_TEST=2960,ne.DEPTH_TEST=2929,ne.SCISSOR_TEST=3089,ne.POLYGON_OFFSET_FILL=32823,ne.SAMPLE_ALPHA_TO_COVERAGE=32926,ne.SAMPLE_COVERAGE=32928,ne.NO_ERROR=0,ne.INVALID_ENUM=1280,ne.INVALID_VALUE=1281,ne.INVALID_OPERATION=1282,ne.OUT_OF_MEMORY=1285,ne.CW=2304,ne.CCW=2305,ne.LINE_WIDTH=2849,ne.ALIASED_POINT_SIZE_RANGE=33901,ne.ALIASED_LINE_WIDTH_RANGE=33902,ne.CULL_FACE_MODE=2885,ne.FRONT_FACE=2886,ne.DEPTH_RANGE=2928,ne.DEPTH_WRITEMASK=2930,ne.DEPTH_CLEAR_VALUE=2931,ne.DEPTH_FUNC=2932,ne.STENCIL_CLEAR_VALUE=2961,ne.STENCIL_FUNC=2962,ne.STENCIL_FAIL=2964,ne.STENCIL_PASS_DEPTH_FAIL=2965,ne.STENCIL_PASS_DEPTH_PASS=2966,ne.STENCIL_REF=2967,ne.STENCIL_VALUE_MASK=2963,ne.STENCIL_WRITEMASK=2968,ne.STENCIL_BACK_FUNC=34816,ne.STENCIL_BACK_FAIL=34817,ne.STENCIL_BACK_PASS_DEPTH_FAIL=34818,ne.STENCIL_BACK_PASS_DEPTH_PASS=34819,ne.STENCIL_BACK_REF=36003,ne.STENCIL_BACK_VALUE_MASK=36004,ne.STENCIL_BACK_WRITEMASK=36005,ne.VIEWPORT=2978,ne.SCISSOR_BOX=3088,ne.COLOR_CLEAR_VALUE=3106,ne.COLOR_WRITEMASK=3107,ne.UNPACK_ALIGNMENT=3317,ne.PACK_ALIGNMENT=3333,ne.MAX_TEXTURE_SIZE=3379,ne.MAX_VIEWPORT_DIMS=3386,ne.SUBPIXEL_BITS=3408,ne.RED_BITS=3410,ne.GREEN_BITS=3411,ne.BLUE_BITS=3412,ne.ALPHA_BITS=3413,ne.DEPTH_BITS=3414,ne.STENCIL_BITS=3415,ne.POLYGON_OFFSET_UNITS=10752,ne.POLYGON_OFFSET_FACTOR=32824,ne.TEXTURE_BINDING_2D=32873,ne.SAMPLE_BUFFERS=32936,ne.SAMPLES=32937,ne.SAMPLE_COVERAGE_VALUE=32938,ne.SAMPLE_COVERAGE_INVERT=32939,ne.COMPRESSED_TEXTURE_FORMATS=34467,ne.DONT_CARE=4352,ne.FASTEST=4353,ne.NICEST=4354,ne.GENERATE_MIPMAP_HINT=33170,ne.BYTE=5120,ne.UNSIGNED_BYTE=5121,ne.SHORT=5122,ne.UNSIGNED_SHORT=5123,ne.INT=5124,ne.UNSIGNED_INT=5125,ne.FLOAT=5126,ne.DEPTH_COMPONENT=6402,ne.ALPHA=6406,ne.RGB=6407,ne.RGBA=6408,ne.LUMINANCE=6409,ne.LUMINANCE_ALPHA=6410,ne.UNSIGNED_SHORT_4_4_4_4=32819,ne.UNSIGNED_SHORT_5_5_5_1=32820,ne.UNSIGNED_SHORT_5_6_5=33635,ne.FRAGMENT_SHADER=35632,ne.VERTEX_SHADER=35633,ne.MAX_VERTEX_ATTRIBS=34921,ne.MAX_VERTEX_UNIFORM_VECTORS=36347,ne.MAX_VARYING_VECTORS=36348,ne.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,ne.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,ne.MAX_TEXTURE_IMAGE_UNITS=34930,ne.MAX_FRAGMENT_UNIFORM_VECTORS=36349,ne.SHADER_TYPE=35663,ne.DELETE_STATUS=35712,ne.LINK_STATUS=35714,ne.VALIDATE_STATUS=35715,ne.ATTACHED_SHADERS=35717,ne.ACTIVE_UNIFORMS=35718,ne.ACTIVE_ATTRIBUTES=35721,ne.SHADING_LANGUAGE_VERSION=35724,ne.CURRENT_PROGRAM=35725,ne.NEVER=512,ne.LESS=513,ne.EQUAL=514,ne.LEQUAL=515,ne.GREATER=516,ne.NOTEQUAL=517,ne.GEQUAL=518,ne.ALWAYS=519,ne.KEEP=7680,ne.REPLACE=7681,ne.INCR=7682,ne.DECR=7683,ne.INVERT=5386,ne.INCR_WRAP=34055,ne.DECR_WRAP=34056,ne.VENDOR=7936,ne.RENDERER=7937,ne.VERSION=7938,ne.NEAREST=9728,ne.LINEAR=9729,ne.NEAREST_MIPMAP_NEAREST=9984,ne.LINEAR_MIPMAP_NEAREST=9985,ne.NEAREST_MIPMAP_LINEAR=9986,ne.LINEAR_MIPMAP_LINEAR=9987,ne.TEXTURE_MAG_FILTER=10240,ne.TEXTURE_MIN_FILTER=10241,ne.TEXTURE_WRAP_S=10242,ne.TEXTURE_WRAP_T=10243,ne.TEXTURE_2D=3553,ne.TEXTURE=5890,ne.TEXTURE_CUBE_MAP=34067,ne.TEXTURE_BINDING_CUBE_MAP=34068,ne.TEXTURE_CUBE_MAP_POSITIVE_X=34069,ne.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,ne.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,ne.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,ne.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,ne.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,ne.MAX_CUBE_MAP_TEXTURE_SIZE=34076,ne.TEXTURE0=33984,ne.TEXTURE1=33985,ne.TEXTURE2=33986,ne.TEXTURE3=33987,ne.TEXTURE4=33988,ne.TEXTURE5=33989,ne.TEXTURE6=33990,ne.TEXTURE7=33991;ne.TEXTURE8=33992,ne.TEXTURE9=33993,ne.TEXTURE10=33994,ne.TEXTURE11=33995,ne.TEXTURE12=33996,ne.TEXTURE13=33997,ne.TEXTURE14=33998,ne.TEXTURE15=33999,ne.TEXTURE16=34e3,ne.TEXTURE17=34001,ne.TEXTURE18=34002,ne.TEXTURE19=34003,ne.TEXTURE20=34004,ne.TEXTURE21=34005,ne.TEXTURE22=34006,ne.TEXTURE23=34007,ne.TEXTURE24=34008,ne.TEXTURE25=34009,ne.TEXTURE26=34010,ne.TEXTURE27=34011,ne.TEXTURE28=34012,ne.TEXTURE29=34013,ne.TEXTURE30=34014,ne.TEXTURE31=34015,ne.ACTIVE_TEXTURE=34016,ne.REPEAT=10497,ne.CLAMP_TO_EDGE=33071,ne.MIRRORED_REPEAT=33648,ne.FLOAT_VEC2=35664,ne.FLOAT_VEC3=35665,ne.FLOAT_VEC4=35666,ne.INT_VEC2=35667,ne.INT_VEC3=35668,ne.INT_VEC4=35669,ne.BOOL=35670,ne.BOOL_VEC2=35671,ne.BOOL_VEC3=35672,ne.BOOL_VEC4=35673,ne.FLOAT_MAT2=35674,ne.FLOAT_MAT3=35675,ne.FLOAT_MAT4=35676,ne.SAMPLER_2D=35678,ne.SAMPLER_CUBE=35680,ne.VERTEX_ATTRIB_ARRAY_ENABLED=34338,ne.VERTEX_ATTRIB_ARRAY_SIZE=34339,ne.VERTEX_ATTRIB_ARRAY_STRIDE=34340,ne.VERTEX_ATTRIB_ARRAY_TYPE=34341,ne.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,ne.VERTEX_ATTRIB_ARRAY_POINTER=34373,ne.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,ne.VERTEX_PROGRAM_POINT_SIZE=34370,ne.POINT_SPRITE=34913,ne.COMPILE_STATUS=35713,ne.LOW_FLOAT=36336,ne.MEDIUM_FLOAT=36337,ne.HIGH_FLOAT=36338,ne.LOW_INT=36339,ne.MEDIUM_INT=36340,ne.HIGH_INT=36341,ne.FRAMEBUFFER=36160,ne.RENDERBUFFER=36161,ne.RGBA4=32854,ne.RGB5_A1=32855,ne.RGB565=36194,ne.DEPTH_COMPONENT16=33189,ne.STENCIL_INDEX=6401,ne.STENCIL_INDEX8=36168,ne.DEPTH_STENCIL=34041,ne.RENDERBUFFER_WIDTH=36162,ne.RENDERBUFFER_HEIGHT=36163,ne.RENDERBUFFER_INTERNAL_FORMAT=36164,ne.RENDERBUFFER_RED_SIZE=36176,ne.RENDERBUFFER_GREEN_SIZE=36177,ne.RENDERBUFFER_BLUE_SIZE=36178,ne.RENDERBUFFER_ALPHA_SIZE=36179,ne.RENDERBUFFER_DEPTH_SIZE=36180,ne.RENDERBUFFER_STENCIL_SIZE=36181,ne.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,ne.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,ne.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,ne.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,ne.COLOR_ATTACHMENT0=36064,ne.DEPTH_ATTACHMENT=36096,ne.STENCIL_ATTACHMENT=36128,ne.DEPTH_STENCIL_ATTACHMENT=33306,ne.NONE=0,ne.FRAMEBUFFER_COMPLETE=36053,ne.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,ne.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,ne.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,ne.FRAMEBUFFER_UNSUPPORTED=36061,ne.FRAMEBUFFER_BINDING=36006,ne.RENDERBUFFER_BINDING=36007,ne.MAX_RENDERBUFFER_SIZE=34024,ne.INVALID_FRAMEBUFFER_OPERATION=1286,ne.UNPACK_FLIP_Y_WEBGL=37440,ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,ne.CONTEXT_LOST_WEBGL=37442,ne.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,ne.BROWSER_DEFAULT_WEBGL=37444,il.POT=!0,ll.HALF_PI=1.5707,ll.DEFAULT_BUS=0,ll.MAX_WORKLET_PARAMS=128,al.timestampStart=0,al.webWindowId=1,ol.dom_shift=16,ol.dom_ctrl=17,ol.dom_alt=18,ol.dom_capslock=20,ol.dom_pageup=33,ol.dom_pagedown=34,ol.dom_end=35,ol.dom_home=36,ol.dom_left=37,ol.dom_up=38,ol.dom_right=39,ol.dom_down=40,ol.dom_printscr=44,ol.dom_insert=45,ol.dom_delete=46,ol.dom_lmeta=91,ol.dom_rmeta=93,ol.dom_kp_0=96,ol.dom_kp_1=97,ol.dom_kp_2=98,ol.dom_kp_3=99,ol.dom_kp_4=100,ol.dom_kp_5=101,ol.dom_kp_6=102,ol.dom_kp_7=103,ol.dom_kp_8=104,ol.dom_kp_9=105,ol.dom_kp_multiply=106,ol.dom_kp_plus=107,ol.dom_kp_minus=109,ol.dom_kp_decimal=110,ol.dom_kp_divide=111,ol.dom_kp_numlock=144,ol.dom_f1=112,ol.dom_f2=113,ol.dom_f3=114,ol.dom_f4=115,ol.dom_f5=116,ol.dom_f6=117,ol.dom_f7=118,ol.dom_f8=119,ol.dom_f9=120,ol.dom_f10=121,ol.dom_f11=122,ol.dom_f12=123,ol.dom_f13=124,ol.dom_f14=125,ol.dom_f15=126,ol.dom_f16=127,ol.dom_f17=128,ol.dom_f18=129,ol.dom_f19=130,ol.dom_f20=131,ol.dom_f21=132,ol.dom_f22=133,ol.dom_f23=134,ol.dom_f24=135,ol.dom_caret=160,ol.dom_exclaim=161,ol.dom_quotedbl=162,ol.dom_hash=163,ol.dom_dollar=164,ol.dom_percent=165,ol.dom_ampersand=166,ol.dom_underscore=167,ol.dom_leftparen=168,ol.dom_rightparen=169,ol.dom_asterisk=170,ol.dom_plus=171,ol.dom_pipe=172,ol.dom_minus=173,ol.dom_leftbrace=174,ol.dom_rightbrace=175,ol.dom_tilde=176,ol.dom_audiomute=181,ol.dom_volumedown=182,ol.dom_volumeup=183,ol.dom_comma=188,ol.dom_period=190,ol.dom_slash=191,ol.dom_backquote=192,ol.dom_leftbracket=219,ol.dom_rightbracket=221,ol.dom_backslash=220,ol.dom_quote=222,ol.dom_meta=224,R2._point=new p,S2.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedList:{observe:null},unobservedNullValueText:{observe:null}}},S2.ITEM_HEIGHT=26,T2.__meta__={fields:{unobservedTextValue:{observe:null}}},T2._point=new p(0,0),T2.MAX_LIST_HEIGHT=200,T2.FORCED_SUGGESTION_FULL_LIST_UNDER_COUNT=10,T2.ITEM_HEIGHT=S2.ITEM_HEIGHT,V2.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedInputStyle:{observe:null},unobservedDisabled:{observe:null}}},W2.__meta__={fields:{unobservedTheme:{observe:null},unobservedInputStyle:{observe:null},unobservedEnabled:{observe:null},unobservedHover:{observe:null},unobservedEnterPressed:{observe:null}}},cl.__meta__={fields:{unobservedTheme:{observe:null},unobservedScrolling:{observe:null},unobservedInputStyle:{observe:null}}},ul.__meta__={fields:{unobservedTheme:{observe:null},unobservedSelected:{observe:null},unobservedTitle:{observe:null},unobservedSubTitle:{observe:null},unobservedItemIndex:{observe:null},unobservedCollectionView:{observe:null},unobservedInputStyle:{observe:null},unobservedDisplaysEmptyValue:{observe:null},unobservedLocked:{observe:null},unobservedKindIcon:{observe:null},unobservedHandleTrash:{observe:null},unobservedHandleLock:{observe:null},unobservedHandleDuplicate:{observe:null},unobservedDragging:{observe:null},unobservedClonedForDragging:{observe:null},unobservedHover:{observe:null},unobservedAppliedHoverItemIndex:{observe:null}}},ul._point=new p(0,0),_l.__meta__={fields:{unobservedIcon:{observe:null}}},dl.__meta__={fields:{unobservedTheme:{observe:null},unobservedHover:{observe:null},unobservedDisabled:{observe:null},unobservedHoverStyle:{observe:null}}},bd.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedDisabled:{observe:null},unobservedPickerVisible:{observe:null}}},bd._point=new p,bd.RE_HEX_COLOR=new f("^[0-F][0-F][0-F][0-F][0-F][0-F]$",""),bd.RE_HEX_COLOR_ANY_LENGTH=new f("^[0-F]+$",""),cd._point=new p,cd._tuple=[0,0,0],dd.__meta__={fields:{unobservedMovingPointer:{observe:null}}},dd._point=new p,dd.PRECISION=16,ed.PRECISION_X=32,ed.PRECISION_Y=8,ed._point=new p,ed._tuple=[0,0,0],fd.__meta__={fields:{unobservedMovingPointer:{observe:null}}},fd._point=new p,fd.PRECISION=16,gd.PALETTE_COLOR_SIZE=14,bl.__meta__={fields:{unobservedTheme:{observe:null},unobservedColorValue:{observe:null},unobservedPaletteHeight:{observe:null},unobservedPaletteColorPreviews:{observe:null}}},bl.FIELD_ROW_WIDTH=41,bl.FIELD_ADVANCE=26,bl.BUTTON_ADVANCE=24,bl.FIELD_Y_GAP=1,bl.PADDING=6,bl.GRADIENT_SIZE=158,bl.SPECTRUM_WIDTH=12,bl.PALETTE_COLOR_SIZE=gd.PALETTE_COLOR_SIZE,bl.PALETTE_COLOR_GAP=2,bl._tuple=[0,0,0],W.__meta__={fields:{unobservedTheme:{observe:null}}},W.lazyContext=!0,gl.__meta__={fields:{unobservedDragging:{observe:null},unobservedDragX:{observe:null},unobservedDragY:{observe:null}}},gl._point=new p(0,0),Ol.__meta__={fields:{unobservedFocusedField:{observe:null},unobservedFocusedFieldThisFrame:{observe:null}}},Ol.lazyShared=!0,qd.__meta__={fields:{unobservedTheme:{observe:null}}},qd.EMPTY_ARRAY=[],K.DESTROY_ASSET_AFTER_X_FRAMES=60,K.DEFAULT_SPACE_HEIGHT=-60001,K.DEFAULT_LABEL_WIDTH=-49965,K.DEFAULT_SEPARATOR_HEIGHT=7,K.DEFAULT_LABEL_POSITION=1,K.DEFAULT_TEXT_ALIGN=ai.LEFT,K.INT_MIN_VALUE=-2147483647,K.INT_MAX_VALUE=2147483647,K.FLOAT_MIN_VALUE=-2147483647,K.FLOAT_MAX_VALUE=2147483647,K.DIALOG_WIDTH=300,K.DIALOG_OVERFLOW_HEIGHT=400,K.YES="Yes",K.NO="No",K.OK="OK",K._beginFrameCallbacks=[],K._orderedWindows=[],K._orderedWindowsIterated=[],K._inRow=!1,K._currentRowIndex=-1,K._currentTabBarItem=[],K._labelWidth=-49965,K._labelPosition=1,K._textAlign=ai.LEFT,K._fieldsDisabled=!1,K._flex=1,K._bold=!1,K._pointSize=12,K._preRenderedSize=-1,K._themeClonedIndex=-1,K._themeTint=-1,K._themeAltTint=-1,K._themeTextColor=-1,K._themeBackgroundColor=-1,K._pointerBaseHandles=new te,K._pointerHandles=new te,K._pointerBaseHandleOccurences=[],K._nextPointerHandle=0,K._boolPointerValues=new Sn(16,.5,!1),K._intPointerValues=new Sn,K._floatPointerValues=new rt,K._stringPointerValues=new gt,K._arrayPointerValues=new gt,K._assetUses=new te,K._pendingDialogs=[],K._allowedOwners=[],K._usedWindowKeys=new te,K._changeChecks=[],K._numUsedWindows=0,K._shouldSkipRender=!1,pl.lazyShared=!0,xd.__meta__={fields:{unobservedTheme:{observe:null},unobservedBold:{observe:null},unobservedDisabled:{observe:null}}},yd.__meta__={fields:{unobservedTheme:{observe:null},unobservedLabel:{observe:null},unobservedDisabled:{observe:null}}},Ad.__meta__={fields:{unobservedTheme:{observe:null},unobservedItems:{observe:null},unobservedSelectedIndex:{observe:null},unobservedTrashable:{observe:null},unobservedLockable:{observe:null},unobservedDuplicable:{observe:null},unobservedSortable:{observe:null},unobservedSmallItems:{observe:null},unobservedScrollEnabled:{observe:null}}},Ad.CELL_HEIGHT_SMALL=30,Ad.CELL_HEIGHT_LARGE=39,Gd.RE_PREFIXED=new f("^(.*?)([0-9]+)$",""),Gd.RE_NUMERIC_PREFIX=new f("^[0-9]+",""),Gd.RE_SPACES=new f("\\s+",""),Gd._slugUpperCase=new o1(!1,Xt.RE_SLUG_REMOVE_CHARS,"_"),yl.CLOSURE_CACHE_SIZE=128,yl.RE_NUMERIC_PREFIX=new f("^[0-9]+",""),yl.RE_NON_DIGIT_OR_DOT=new f("[^0-9\\.]+",""),yl.RE_SPACES=Gd.RE_SPACES,Ul.__meta__={fields:{unobservedTheme:{observe:null},unobservedHover:{observe:null},unobservedPressed:{observe:null}}},Dl.__meta__={fields:{unobservedTheme:{observe:null}}},Kd.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedList:{observe:null},unobservedNullValueText:{observe:null},unobservedInputStyle:{observe:null},unobservedListVisible:{observe:null}}},Kd._point=new p,Kd.MAX_LIST_HEIGHT=200,Kd.ITEM_HEIGHT=S2.ITEM_HEIGHT,Ld.__meta__={fields:{unobservedTheme:{observe:null}}},Md.__meta__={fields:{unobservedTheme:{observe:null},unobservedValue:{observe:null},unobservedMinValue:{observe:null},unobservedMaxValue:{observe:null},unobservedEnabledTextInput:{observe:null},unobservedInputStyle:{observe:null},unobservedDisabled:{observe:null}}},Md._point=new p,Od.__meta__={fields:{unobservedTheme:{observe:null},unobservedSelectedIndex:{observe:null},unobservedTabs:{observe:null},unobservedTabStates:{observe:null},unobservedTabThemes:{observe:null},unobservedTabViews:{observe:null},unobservedHoverIndex:{observe:null}}},xl.__meta__={fields:{unobservedTheme:{observe:null},unobservedPlaceholder:{observe:null},unobservedInputStyle:{observe:null},unobservedTextAlign:{observe:null},unobservedDisabled:{observe:null}}},Al.__meta__={fields:{unobservedBackgroundInFormLayout:{serialize:null},unobservedFieldTextColor:{serialize:null},unobservedFieldPlaceholderColor:{serialize:null},unobservedLightTextColor:{serialize:null},unobservedMediumTextColor:{serialize:null},unobservedDarkTextColor:{serialize:null},unobservedDarkerTextColor:{serialize:null},unobservedIconColor:{serialize:null},unobservedCustomMediumFont:{serialize:null},unobservedCustomBoldFont:{serialize:null},unobservedLighterBorderColor:{serialize:null},unobservedLightBorderColor:{serialize:null},unobservedMediumBorderColor:{serialize:null},unobservedDarkBorderColor:{serialize:null},unobservedLightBackgroundColor:{serialize:null},unobservedMediumBackgroundColor:{serialize:null},unobservedDarkBackgroundColor:{serialize:null},unobservedDarkerBackgroundColor:{serialize:null},unobservedSelectionBorderColor:{serialize:null},unobservedHighlightColor:{serialize:null},unobservedHighlightPendingColor:{serialize:null},unobservedFormItemSpacing:{serialize:null},unobservedFormPadding:{serialize:null},unobservedTabsMarginY:{serialize:null},unobservedFocusedFieldSelectionColor:{serialize:null},unobservedFocusedFieldBorderColor:{serialize:null},unobservedOverlayBackgroundColor:{serialize:null},unobservedOverlayBackgroundAlpha:{serialize:null},unobservedOverlayBorderColor:{serialize:null},unobservedOverlayBorderAlpha:{serialize:null},unobservedButtonBackgroundColor:{serialize:null},unobservedButtonOverBackgroundColor:{serialize:null},unobservedButtonPressedBackgroundColor:{serialize:null},unobservedButtonFocusedBorderColor:{serialize:null},unobservedTabsBackgroundColor:{serialize:null},unobservedTabsBackgroundAlpha:{serialize:null},unobservedTabsHoverBackgroundColor:{serialize:null},unobservedTabsHoverBackgroundAlpha:{serialize:null},unobservedTabsBorderColor:{serialize:null},unobservedDisabledTabTextAlpha:{serialize:null},unobservedDisabledTabBorderAlpha:{serialize:null},unobservedWindowBackgroundColor:{serialize:null},unobservedWindowBackgroundAlpha:{serialize:null},unobservedWindowBorderColor:{serialize:null},unobservedWindowBorderAlpha:{serialize:null}}},Al._nextIndex=1,kl.__meta__={fields:{unobservedTheme:{observe:null},unobservedContent:{observe:null}}},kl._point=new p(0,0),Il.__meta__={fields:{unobservedWindowsData:{serialize:null},unobservedColorPickerHsluv:{serialize:null},unobservedPaletteColors:{serialize:null}}},Pl.__meta__={fields:{unobservedContentAlign:{observe:null},unobservedVisualScale:{observe:null},unobservedScaling:{observe:null},unobservedVisual:{observe:null}}},Bl.__meta__={fields:{unobservedTheme:{observe:null},unobservedContentView:{observe:null},unobservedTitle:{observe:null},unobservedClosable:{observe:null},unobservedCollapsible:{observe:null},unobservedHeader:{observe:null},unobservedTitleAlign:{observe:null}}},Bl.HEADER_HEIGHT=18,Bl.FONT_PRE_RENDERED_SIZE=20,Bl.TITLE_TEXT_SIZE=12,Bl.DEFAULT_X=20,Bl.DEFAULT_Y=20,Bl.DRAG_THRESHOLD=4,Bl._point=new p(0,0),Ml.__meta__={fields:{unobservedX:{serialize:null},unobservedY:{serialize:null},unobservedWidth:{serialize:null},unobservedHeight:{serialize:null},unobservedExpanded:{serialize:null},unobservedHeader:{serialize:null},unobservedScrollbar:{serialize:null}}},Ml.DEFAULT_WIDTH=200,Ml.DEFAULT_HEIGHT=-60001,El.pool=new o,Rl.PATH_SEPARATOR="/",Rl.RE_SPACE=new f("%s",""),Yl.USE_CACHE=!1,Yl.USE_ENUM_INDEX=!1,Yl.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Gl.DEFAULT_RESOLVER=new i3,Gl.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",vs.escapes=((e=new te).h.lt="<",e.h.gt=">",e.h.amp="&",e.h.quot='"',e.h.apos="'",e),g.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],g.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],g.refY=1,g.refU=.19783000664283,g.refV=.46831999493879,g.kappa=903.2962962,g.epsilon=.0088564516,g.hexChars="0123456789abcdef",le.params=((e=new te).h.projectionMatrix={type:6},e.h.modelViewMatrix={type:6},e),me.params=((e=new te).h.mainTex={type:7},e.h.texSize={type:1},e.h.pxRange={type:0},e),oe.params=((e=new te).h.projectionMatrix={type:6},e.h.modelViewMatrix={type:6},e),pe.params=((e=new te).h.mainTex={type:7},e.h.resolution={type:1},e.h.sharpness={type:0},e.h.gridThickness={type:0},e.h.gridAlpha={type:0},e.h.gridColor={type:2},e.h.scanlineIntensity={type:0},e.h.scanlineOffset={type:0},e.h.scanlineCount={type:0},e.h.scanlineShape={type:0},e.h.verticalMaskIntensity={type:0},e.h.verticalMaskOffset={type:0},e.h.verticalMaskCount={type:0},e.h.glowThresholdMin={type:0},e.h.glowThresholdMax={type:0},e.h.glowStrength={type:0},e.h.chromaticAberration={type:0},e),re.params=((e=new te).h.projectionMatrix={type:6},e.h.modelViewMatrix={type:6},e),se.params=((e=new te).h.mainTex={type:7},e),ue.params=((e=new te).h.projectionMatrix={type:6},e.h.modelViewMatrix={type:6},e),ve.params=((e=new te).h.mainTex={type:7},e),Ae.LINEAR=0,Ae.STEPPED=1,Ae.BEZIER=2,Ae.BEZIER_SIZE=18,Be.ENTRIES=2,Be.VALUE=1,Be.LINEAR=0,Be.STEPPED=1,Be.BEZIER=2,Be.BEZIER_SIZE=18,Ce.ENTRIES=3,Ce.VALUE1=1,Ce.VALUE2=2,Ce.LINEAR=0,Ce.STEPPED=1,Ce.BEZIER=2,Ce.BEZIER_SIZE=18,De.ENTRIES=2,De.VALUE=1,De.LINEAR=0,De.STEPPED=1,De.BEZIER=2,De.BEZIER_SIZE=18,Ee.ENTRIES=3,Ee.VALUE1=1,Ee.VALUE2=2,Ee.LINEAR=0,Ee.STEPPED=1,Ee.BEZIER=2,Ee.BEZIER_SIZE=18,Fe.ENTRIES=2,Fe.VALUE=1,Fe.LINEAR=0,Fe.STEPPED=1,Fe.BEZIER=2,Fe.BEZIER_SIZE=18,Ge.ENTRIES=2,Ge.VALUE=1,Ge.LINEAR=0,Ge.STEPPED=1,Ge.BEZIER=2,Ge.BEZIER_SIZE=18,He.ENTRIES=3,He.VALUE1=1,He.VALUE2=2,He.LINEAR=0,He.STEPPED=1,He.BEZIER=2,He.BEZIER_SIZE=18,Ie.ENTRIES=2,Ie.VALUE=1,Ie.LINEAR=0,Ie.STEPPED=1,Ie.BEZIER=2,Ie.BEZIER_SIZE=18,Je.ENTRIES=2,Je.VALUE=1,Je.LINEAR=0,Je.STEPPED=1,Je.BEZIER=2,Je.BEZIER_SIZE=18,Ke.ENTRIES=3,Ke.VALUE1=1,Ke.VALUE2=2,Ke.LINEAR=0,Ke.STEPPED=1,Ke.BEZIER=2,Ke.BEZIER_SIZE=18,Le.ENTRIES=2,Le.VALUE=1,Le.LINEAR=0,Le.STEPPED=1,Le.BEZIER=2,Le.BEZIER_SIZE=18,Me.ENTRIES=2,Me.VALUE=1,Me.LINEAR=0,Me.STEPPED=1,Me.BEZIER=2,Me.BEZIER_SIZE=18,Ne.ENTRIES=5,Ne.R=1,Ne.G=2,Ne.B=3,Ne.A=4,Ne.LINEAR=0,Ne.STEPPED=1,Ne.BEZIER=2,Ne.BEZIER_SIZE=18,Oe.ENTRIES=4,Oe.R=1,Oe.G=2,Oe.B=3,Oe.LINEAR=0,Oe.STEPPED=1,Oe.BEZIER=2,Oe.BEZIER_SIZE=18,Pe.ENTRIES=2,Pe.VALUE=1,Pe.LINEAR=0,Pe.STEPPED=1,Pe.BEZIER=2,Pe.BEZIER_SIZE=18,Qe.ENTRIES=8,Qe.R=1,Qe.G=2,Qe.B=3,Qe.A=4,Qe.R2=5,Qe.G2=6,Qe.B2=7,Qe.LINEAR=0,Qe.STEPPED=1,Qe.BEZIER=2,Qe.BEZIER_SIZE=18,Re.ENTRIES=7,Re.R=1,Re.G=2,Re.B=3,Re.R2=4,Re.G2=5,Re.B2=6,Re.LINEAR=0,Re.STEPPED=1,Re.BEZIER=2,Re.BEZIER_SIZE=18,Te.LINEAR=0,Te.STEPPED=1,Te.BEZIER=2,Te.BEZIER_SIZE=18,Ue.propertyIds=["12"],Ve.propertyIds=["13"],We.ENTRIES=6,We.MIX=1,We.SOFTNESS=2,We.BEND_DIRECTION=3,We.COMPRESS=4,We.STRETCH=5,We.LINEAR=0,We.STEPPED=1,We.BEZIER=2,We.BEZIER_SIZE=18,Xe.ENTRIES=7,Xe.ROTATE=1,Xe.X=2,Xe.Y=3,Xe.SCALEX=4,Xe.SCALEY=5,Xe.SHEARY=6,Xe.LINEAR=0,Xe.STEPPED=1,Xe.BEZIER=2,Xe.BEZIER_SIZE=18,Ye.ENTRIES=2,Ye.VALUE=1,Ye.LINEAR=0,Ye.STEPPED=1,Ye.BEZIER=2,Ye.BEZIER_SIZE=18,Ze.ENTRIES=2,Ze.VALUE=1,Ze.LINEAR=0,Ze.STEPPED=1,Ze.BEZIER=2,Ze.BEZIER_SIZE=18,$e.ENTRIES=4,$e.ROTATE=1,$e.X=2,$e.Y=3,$e.LINEAR=0,$e.STEPPED=1,$e.BEZIER=2,$e.BEZIER_SIZE=18,_e.setup_value=0,_e.first_value=1,_e.replace_value=2,_e.add_value=3,_e.setup_name="setup",_e.first_name="first",_e.replace_name="replace",_e.add_name="add",a4.directionIn_value=0,a4.directionOut_value=1,a4.directionIn_name="directionIn",a4.directionOut_name="directionOut",b4.rotate_value=0,b4.x_value=1,b4.y_value=2,b4.scaleX_value=3,b4.scaleY_value=4,b4.shearX_value=5,b4.shearY_value=6,b4.rgb_value=7,b4.alpha_value=8,b4.rgb2_value=9,b4.attachment_value=10,b4.deform_value=11,b4.event_value=12,b4.drawOrder_value=13,b4.ikConstraint_value=14,b4.transformConstraint_value=15,b4.pathConstraintPosition_value=16,b4.pathConstraintSpacing_value=17,b4.pathConstraintMix_value=18,b4.rotate_name="rotate",b4.x_name="x",b4.y_name="y",b4.scaleX_name="scaleX",b4.scaleY_name="scaleY",b4.shearX_name="shearX",b4.shearY_name="shearY",b4.rgb_name="rgb",b4.alpha_name="alpha",b4.rgb2_name="rgb2",b4.attachment_name="attachment",b4.deform_name="deform",b4.event_name="event",b4.drawOrder_name="drawOrder",b4.ikConstraint_name="ikConstraint",b4.transformConstraint_name="transformConstraint",b4.pathConstraintPosition_name="pathConstraintPosition",b4.pathConstraintSpacing_name="pathConstraintSpacing",b4.pathConstraintMix_name="pathConstraintMix",c4.DEFAULT_TO_STRING="Error",ks.emptyAnimation=new we("<empty>",[],0),ks.SUBSEQUENT=0,ks.FIRST=1,ks.HOLD_SUBSEQUENT=2,ks.HOLD_FIRST=3,ks.HOLD_MIX=4,ks.SETUP=1,ks.CURRENT=2,l4.start_value=0,l4.interrupt_value=1,l4.end_value=2,l4.dispose_value=3,l4.complete_value=4,l4.event_value=5,l4.start_name="start",l4.interrupt_name="interrupt",l4.end_name="end",l4.dispose_name="dispose",l4.complete_name="complete",l4.event_name="event",o4.normal_value=0,o4.additive_value=1,o4.multiply_value=2,o4.screen_value=3,o4.normal_name="normal",o4.additive_name="additive",o4.multiply_name="multiply",o4.screen_name="screen",s4.normal_value=0,s4.onlyTranslation_value=1,s4.noRotationOrReflection_value=2,s4.noScale_value=3,s4.noScaleOrReflection_value=4,s4.normal_name="normal",s4.onlyTranslation_name="onlyTranslation",s4.noRotationOrReflection_name="noRotationOrReflection",s4.noScale_name="noScale",s4.noScaleOrReflection_name="noScaleOrReflection",y4.NONE=-1,y4.BEFORE=-2,y4.AFTER=-3,y4.epsilon=1e-5,A4.fixed_value=0,A4.percent_value=1,A4.fixed_name="fixed",A4.percent_name="percent",B4.length_value=0,B4.fixed_value=1,B4.percent_value=2,B4.proportional_value=3,B4.length_name="length",B4.fixed_name="fixed",B4.percent_name="percent",B4.proportional_name="proportional",C4.tangent_value=0,C4.chain_value=1,C4.chainScale_value=2,C4.tangent_name="tangent",C4.chain_name="chain",C4.chainScale_name="chainScale",Gs.__meta__={obj:{SuppressWarnings:["javadoc"]}},T4.region_value=0,T4.boundingbox_value=1,T4.mesh_value=2,T4.linkedmesh_value=3,T4.path_value=4,T4.point_value=5,T4.clipping_value=6,T4.region_name="region",T4.boundingbox_name="boundingbox",T4.mesh_name="mesh",T4.linkedmesh_name="linkedmesh",T4.path_name="path",T4.point_name="point",T4.clipping_name="clipping",Xs.nextID=0,Zs.BLX=0,Zs.BLY=1,Zs.ULX=2,Zs.ULY=3,Zs.URX=4,Zs.URY=5,Zs.BRX=6,Zs.BRY=7,nr.CLEAR=new nr(0,0,0,0),nr.BLACK=new nr(0,0,0,1),nr.WHITE=((e=new nr).r=1,e.g=1,e.b=1,e.a=1,e),nr.LIGHT_GRAY=((e=new nr).r=.7490196078431373,e.g=.7490196078431373,e.b=.7490196078431373,e.a=1,e),nr.GRAY=((e=new nr).r=.4980392156862745,e.g=.4980392156862745,e.b=.4980392156862745,e.a=1,e),nr.DARK_GRAY=((e=new nr).r=.24705882352941178,e.g=.24705882352941178,e.b=.24705882352941178,e.a=1,e),nr.BLUE=new nr(0,0,1,1),nr.NAVY=new nr(0,0,.5,1),nr.ROYAL=((e=new nr).r=.2549019607843137,e.g=.4117647058823529,e.b=.8823529411764706,e.a=1,e),nr.SLATE=((e=new nr).r=.4392156862745098,e.g=.5019607843137255,e.b=.5647058823529412,e.a=1,e),nr.SKY=((e=new nr).r=.5294117647058824,e.g=.807843137254902,e.b=.9215686274509803,e.a=1,e),nr.CYAN=new nr(0,1,1,1),nr.TEAL=new nr(0,.5,.5,1),nr.GREEN=((e=new nr).r=0,e.g=1,e.b=0,e.a=1,e),nr.CHARTREUSE=((e=new nr).r=.4980392156862745,e.g=1,e.b=0,e.a=1,e),nr.LIME=((e=new nr).r=.19607843137254902,e.g=.803921568627451,e.b=.19607843137254902,e.a=1,e),nr.FOREST=((e=new nr).r=.13333333333333333,e.g=.5450980392156862,e.b=.13333333333333333,e.a=1,e),nr.OLIVE=((e=new nr).r=.4196078431372549,e.g=.5568627450980392,e.b=.13725490196078433,e.a=1,e),nr.YELLOW=((e=new nr).r=1,e.g=1,e.b=0,e.a=1,e),nr.GOLD=((e=new nr).r=1,e.g=.8431372549019608,e.b=0,e.a=1,e),nr.GOLDENROD=((e=new nr).r=.8549019607843137,e.g=.6470588235294118,e.b=.12549019607843137,e.a=1,e),nr.ORANGE=((e=new nr).r=1,e.g=.6470588235294118,e.b=0,e.a=1,e),nr.BROWN=((e=new nr).r=.5450980392156862,e.g=.27058823529411763,e.b=.07450980392156863,e.a=1,e),nr.TAN=((e=new nr).r=.8235294117647058,e.g=.7058823529411765,e.b=.5490196078431373,e.a=1,e),nr.FIREBRICK=((e=new nr).r=.6980392156862745,e.g=.13333333333333333,e.b=.13333333333333333,e.a=1,e),nr.RED=((e=new nr).r=1,e.g=0,e.b=0,e.a=1,e),nr.SCARLET=((e=new nr).r=1,e.g=.20392156862745098,e.b=.10980392156862745,e.a=1,e),nr.CORAL=((e=new nr).r=1,e.g=.4980392156862745,e.b=.3137254901960784,e.a=1,e),nr.SALMON=((e=new nr).r=.9803921568627451,e.g=.5019607843137255,e.b=.4470588235294118,e.a=1,e),nr.PINK=((e=new nr).r=1,e.g=.4117647058823529,e.b=.7058823529411765,e.a=1,e),nr.MAGENTA=new nr(1,0,1,1),nr.PURPLE=((e=new nr).r=.6274509803921569,e.g=.12549019607843137,e.b=.9411764705882353,e.a=1,e),nr.VIOLET=((e=new nr).r=.9333333333333333,e.g=.5098039215686274,e.b=.9333333333333333,e.a=1,e),nr.MAROON=((e=new nr).r=.6901960784313725,e.g=.18823529411764706,e.b=.3764705882352941,e.a=1,e),rr.mirroredRepeat=new rr(0,"mirroredRepeat"),rr.clampToEdge=new rr(1,"clampToEdge"),rr.repeat=new rr(2,"repeat"),hr.degRad=Math.PI/180,hr.radDeg=180/Math.PI,pf.M00=0,pf.M01=3,pf.M02=6,pf.M10=1,pf.M11=4,pf.M12=7,pf.M20=2,pf.M21=5,pf.M22=8,_r._keys=[],ae.PI=3.1415927,ae.PI2=6.2831854,ae.radiansToDegrees=57.29577866666166,ae.radDeg=ae.radiansToDegrees,ae.degreesToRadians=.01745329277777778,ae.degRad=ae.degreesToRadians,w.prevCurrent=[],w._autorunArrays=[],w._autorunArraysLen=0,w._arrayOfAutorunArrays=[],w._arrayOfAutorunArraysLen=0,yr.BACKUP_NUM_STEPS=2e4,yr.NUM_BACKUPS=4,yr.busyKeys=[],ge._appendSerialize=!1,ge._cachedEnumInfoBySerializableType=new te,ge._enumInfo=new te,Tr._nextUniqueIntCursor=0,Tr._nextUniqueInt0=2147483646*Math.random()|0,Tr._nextUniqueInt1=1e-4*(new Date).getTime()|0,Tr._nextUniqueInt2=2147483646*Math.random()|0,Tr._nextUniqueInt3=2147483646*Math.random()|0,ca.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);